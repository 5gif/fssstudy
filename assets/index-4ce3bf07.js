var kU=Object.defineProperty;var EU=(t,e,n)=>e in t?kU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bs=(t,e,n)=>(EU(t,typeof e!="symbol"?e+"":e,n),n),MU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var C2=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Pm=(t,e,n)=>(MU(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pn(){}function Nd(t,e){for(const n in e)t[n]=e[n];return t}function CU(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function HT(t){return t()}function xw(){return Object.create(null)}function Ac(t){t.forEach(HT)}function j3(t){return typeof t=="function"}function Za(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function AU(t){return Object.keys(t).length===0}function WT(t,...e){if(t==null)return Pn;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function IU(t){let e;return WT(t,n=>e=n)(),e}function x0(t,e,n){t.$$.on_destroy.push(WT(e,n))}function Sw(t,e,n,r){if(t){const i=$T(t,e,n,r);return t[0](i)}}function $T(t,e,n,r){return t[1]&&r?Nd(n.ctx.slice(),t[1](r(e))):n.ctx}function Tw(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function kw(t,e,n,r,i,s){if(i){const a=$T(e,n,r,s);t.p(a,i)}}function Ew(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function RU(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mw(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function GT(t){return t&&j3(t.destroy)?t.destroy:Pn}function U(t,e){t.appendChild(e)}function Nt(t,e,n){t.insertBefore(e,n||null)}function _t(t){t.parentNode&&t.parentNode.removeChild(t)}function yf(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ce(t){return document.createElement(t)}function ze(t){return document.createTextNode(t)}function Te(){return ze(" ")}function h_(){return ze("")}function ft(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function PU(t){return function(e){e.target===this&&t.call(this,e)}}function X(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const NU=["width","height"];function H1(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&NU.indexOf(r)===-1?t[r]=e[r]:X(t,r,e[r])}function LU(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function zn(t){return t===""?null:+t}function OU(t){return Array.from(t.childNodes)}function Ht(t,e){e=""+e,t.data!==e&&(t.data=e)}function Gt(t,e){t.value=e??""}function nu(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Ko(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function id(t){const e=t.querySelector(":checked");return e&&e.__value}let Nm;function DU(){if(Nm===void 0){Nm=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Nm=!0}}return Nm}function W1(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=ce("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=DU();let s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=ft(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=ft(r.contentWindow,"resize",e),e()}),U(t,r),()=>{(i||s&&r.contentWindow)&&s(),_t(r)}}let Ld;function ru(t){Ld=t}function VT(){if(!Ld)throw new Error("Function called outside component initialization");return Ld}function Od(t){VT().$$.on_mount.push(t)}const vf=[],Pt=[];let kf=[];const Q4=[],BU=Promise.resolve();let ey=!1;function zU(){ey||(ey=!0,BU.then(K3))}function qa(t){kf.push(t)}function Dn(t){Q4.push(t)}const A2=new Set;let lf=0;function K3(){if(lf!==0)return;const t=Ld;do{try{for(;lf<vf.length;){const e=vf[lf];lf++,ru(e),FU(e.$$)}}catch(e){throw vf.length=0,lf=0,e}for(ru(null),vf.length=0,lf=0;Pt.length;)Pt.pop()();for(let e=0;e<kf.length;e+=1){const n=kf[e];A2.has(n)||(A2.add(n),n())}kf.length=0}while(vf.length);for(;Q4.length;)Q4.pop()();ey=!1,A2.clear(),ru(t)}function FU(t){if(t.fragment!==null){t.update(),Ac(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(qa)}}function UU(t){const e=[],n=[];kf.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),kf=e}const x1=new Set;let m0;function qU(){m0={r:0,c:[],p:m0}}function HU(){m0.r||Ac(m0.c),m0=m0.p}function ta(t,e){t&&t.i&&(x1.delete(t),t.i(e))}function va(t,e,n,r){if(t&&t.o){if(x1.has(t))return;x1.add(t),m0.c.push(()=>{x1.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Cw(t,e){const n=e.token={};function r(i,s,a,l){if(e.token!==n)return;e.resolved=l;let u=e.ctx;a!==void 0&&(u=u.slice(),u[a]=l);const f=i&&(e.current=i)(u);let p=!1;e.block&&(e.blocks?e.blocks.forEach((m,g)=>{g!==s&&m&&(qU(),va(m,1,1,()=>{e.blocks[g]===m&&(e.blocks[g]=null)}),HU())}):e.block.d(1),f.c(),ta(f,1),f.m(e.mount(),e.anchor),p=!0),e.block=f,e.blocks&&(e.blocks[s]=f),p&&K3()}if(CU(t)){const i=VT();if(t.then(s=>{ru(i),r(e.then,1,e.value,s),ru(null)},s=>{if(ru(i),r(e.catch,2,e.error,s),ru(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function WU(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function YT(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],l=e[s];if(l){for(const u in a)u in l||(r[u]=1);for(const u in l)i[u]||(n[u]=l[u],i[u]=1);t[s]=l}else for(const u in a)i[u]=1}for(const a in r)a in n||(n[a]=void 0);return n}function Bn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Jo(t){t&&t.c()}function mo(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||qa(()=>{const a=t.$$.on_mount.map(HT).filter(j3);t.$$.on_destroy?t.$$.on_destroy.push(...a):Ac(a),t.$$.on_mount=[]}),s.forEach(qa)}function go(t,e){const n=t.$$;n.fragment!==null&&(UU(n.after_update),Ac(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $U(t,e){t.$$.dirty[0]===-1&&(vf.push(t),zU(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Eu(t,e,n,r,i,s,a,l=[-1]){const u=Ld;ru(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Pn,not_equal:i,bound:xw(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:xw(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(m,g,...v)=>{const b=v.length?v[0]:g;return f.ctx&&i(f.ctx[m],f.ctx[m]=b)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](b),p&&$U(t,m)),g}):[],f.update(),p=!0,Ac(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const m=OU(e.target);f.fragment&&f.fragment.l(m),m.forEach(_t)}else f.fragment&&f.fragment.c();e.intro&&ta(t.$$.fragment),mo(t,e.target,e.anchor,e.customElement),K3()}ru(u)}class Mu{$destroy(){go(this,1),this.$destroy=Pn}$on(e,n){if(!j3(n))return Pn;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!AU(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function aa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sp(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dd(t){let e,n,r;t.length!==2?(e=aa,n=(l,u)=>aa(t(l),u),r=(l,u)=>t(l)-u):(e=t===aa||t===Sp?t:GU,n=t,r=t);function i(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const m=f+p>>>1;n(l[m],u)<0?f=m+1:p=m}while(f<p)}return f}function s(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const m=f+p>>>1;n(l[m],u)<=0?f=m+1:p=m}while(f<p)}return f}function a(l,u,f=0,p=l.length){const m=i(l,u,f,p-1);return m>f&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:s}}function GU(){return 0}function ZT(t){return t===null?NaN:+t}function*VU(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const YU=Dd(aa),ZU=YU.right;Dd(ZT).center;const d_=ZU;function XU(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function jU(t){return t.length|0}function KU(t){return!(t>0)}function JU(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function QU(t){return e=>t(...e)}function eq(...t){const e=typeof t[t.length-1]=="function"&&QU(t.pop());t=t.map(JU);const n=t.map(jU),r=t.length-1,i=new Array(r+1).fill(0),s=[];if(r<0||n.some(KU))return s;for(;;){s.push(i.map((l,u)=>t[u][l]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?s.map(e):s;i[a--]=0}}}function tq(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function XT(t,e){let n=0,r,i=0,s=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let l of t)(l=e(l,++a,t))!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,s+=r*(l-i))}if(n>1)return s/(n-1)}function nq(t,e){const n=XT(t,e);return n&&Math.sqrt(n)}function Is(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class _c{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=e+s,l=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);l&&(n[r++]=l),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class A0 extends Map{constructor(e,n=JT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ty(this,e))}has(e){return super.has(ty(this,e))}set(e,n){return super.set(jT(this,e),n)}delete(e){return super.delete(KT(this,e))}}class J3 extends Set{constructor(e,n=JT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(ty(this,e))}add(e){return super.add(jT(this,e))}delete(e){return super.delete(KT(this,e))}}function ty({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KT({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JT(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $1(t){return t}function Q3(t,...e){return eb(t,$1,$1,e)}function _d(t,e,...n){return eb(t,$1,e,n)}function rq(t,e,...n){return eb(t,Array.from,e,n)}function eb(t,e,n,r){return function i(s,a){if(a>=r.length)return n(s);const l=new A0,u=r[a++];let f=-1;for(const p of s){const m=u(p,++f,s),g=l.get(m);g?g.push(p):l.set(m,[p])}for(const[p,m]of l)l.set(p,i(m,a));return e(l)}(t,0)}function iq(t,e){return Array.from(e,n=>t[n])}function G1(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,s)=>s);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,s)=>{for(const a of e){const l=V1(a[i],a[s]);if(l)return l}})):(n=t.map(n),r.sort((i,s)=>V1(n[i],n[s]))),iq(t,r)}return t.sort(QT(n))}function QT(t=aa){if(t===aa)return V1;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function V1(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function tb(t,e,n){return(e.length!==2?G1(_d(t,e,n),([r,i],[s,a])=>aa(i,a)||aa(r,s)):G1(Q3(t,n),([r,i],[s,a])=>e(i,a)||aa(r,s))).map(([r])=>r)}var sq=Array.prototype,aq=sq.slice;function I2(t){return()=>t}const oq=Math.sqrt(50),lq=Math.sqrt(10),uq=Math.sqrt(2);function Y1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=oq?10:s>=lq?5:s>=uq?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?Y1(t,e,n*2):[l,u,f]}function Bd(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Y1(e,t,n):Y1(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(s-f)/-a;else for(let f=0;f<l;++f)u[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function Of(t,e,n){return e=+e,t=+t,n=+n,Y1(t,e,n)[2]}function ny(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Of(e,t,n):Of(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function cq(t,e,n){let r;for(;;){const i=Of(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function fq(t){return Math.max(1,Math.ceil(Math.log(XU(t))/Math.LN2)+1)}function hq(){var t=$1,e=Is,n=fq;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,l,u,f=new Array(a);for(s=0;s<a;++s)f[s]=t(i[s],s,i);var p=e(f),m=p[0],g=p[1],v=n(f,m,g);if(!Array.isArray(v)){const T=g,M=+v;if(e===Is&&([m,g]=cq(m,g,M)),v=Bd(m,g,M),v[0]<=m&&(u=Of(m,g,M)),v[v.length-1]>=g)if(T>=g&&e===Is){const I=Of(m,g,M);isFinite(I)&&(I>0?g=(Math.floor(g/I)+1)*I:I<0&&(g=(Math.ceil(g*-I)+1)/-I))}else v.pop()}for(var b=v.length,k=0,R=b;v[k]<=m;)++k;for(;v[R-1]>g;)--R;(k||R<b)&&(v=v.slice(k,R),b=R-k);var N=new Array(b+1),x;for(s=0;s<=b;++s)x=N[s]=[],x.x0=s>0?v[s-1]:m,x.x1=s<b?v[s]:g;if(isFinite(u)){if(u>0)for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&N[Math.min(b,Math.floor((l-m)/u))].push(i[s]);else if(u<0){for(s=0;s<a;++s)if((l=f[s])!=null&&m<=l&&l<=g){const T=Math.floor((m-l)*u);N[Math.min(b,T+(v[T]<=l))].push(i[s])}}}else for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&N[d_(v,l,0,b)].push(i[s]);return N}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:I2(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:I2([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:I2(Array.isArray(i)?aq.call(i):i),r):n},r}function ko(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function dq(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function hl(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function pq(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function ek(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?V1:QT(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(u-m)/u)*(f-u/2<0?-1:1),v=Math.max(n,Math.floor(e-f*m/u+g)),b=Math.min(r,Math.floor(e+(u-f)*m/u+g));ek(t,e,v,b,i)}const s=t[e];let a=n,l=r;for(Hh(t,n,e),i(t[r],s)>0&&Hh(t,n,r);a<l;){for(Hh(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Hh(t,n,l):(++l,Hh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nb(t,e=aa){let n,r=!1;if(e.length===1){let i;for(const s of t){const a=e(s);(r?aa(a,i)>0:aa(a,a)===0)&&(n=s,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function zd(t,e,n){if(t=Float64Array.from(VU(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hl(t);if(e>=1)return ko(t);var r,i=(r-1)*e,s=Math.floor(i),a=ko(ek(t,s).subarray(0,s+1)),l=hl(t.subarray(s+1));return a+(l-a)*(i-s)}}function mq(t,e,n=ZT){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function ry(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function Z1(t,e){return zd(t,.5,e)}function*gq(t){for(const e of t)yield*e}function tk(t){return Array.from(gq(t))}function _q(t,e){const n=new A0;if(e===void 0)for(let s of t)s!=null&&s>=s&&n.set(s,(n.get(s)||0)+1);else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[s,a]of n)a>i&&(i=a,r=s);return r}function vq(t,e=yq){const n=[];let r,i=!1;for(const s of t)i&&n.push(e(r,s)),r=s,i=!0;return n}function yq(t,e){return[t,e]}function Es(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function rr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function bq(t){if(!(s=t.length))return[];for(var e=-1,n=hl(t,wq),r=new Array(n);++e<n;)for(var i=-1,s,a=r[e]=new Array(s);++i<s;)a[i]=t[i][e];return r}function wq(t){return t.length}function xq(){return bq(arguments)}function S1(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Sq(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Fd(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Tq(t){return t}var R2=1,P2=2,iy=3,Lm=4,Aw=1e-6;function kq(t){return"translate("+t+",0)"}function Eq(t){return"translate(0,"+t+")"}function Mq(t){return e=>+t(e)}function Cq(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Aq(){return!this.__axis}function Iq(t,e){var n=[],r=null,i=null,s=6,a=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===R2||t===Lm?-1:1,p=t===Lm||t===P2?"x":"y",m=t===R2||t===iy?kq:Eq;function g(v){var b=r??(e.ticks?e.ticks.apply(e,n):e.domain()),k=i??(e.tickFormat?e.tickFormat.apply(e,n):Tq),R=Math.max(s,0)+l,N=e.range(),x=+N[0]+u,T=+N[N.length-1]+u,M=(e.bandwidth?Cq:Mq)(e.copy(),u),I=v.selection?v.selection():v,P=I.selectAll(".domain").data([null]),O=I.selectAll(".tick").data(b,e).order(),z=O.exit(),$=O.enter().append("g").attr("class","tick"),ee=O.select("line"),G=O.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge($),ee=ee.merge($.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),G=G.merge($.append("text").attr("fill","currentColor").attr(p,f*R).attr("dy",t===R2?"0em":t===iy?"0.71em":"0.32em")),v!==I&&(P=P.transition(v),O=O.transition(v),ee=ee.transition(v),G=G.transition(v),z=z.transition(v).attr("opacity",Aw).attr("transform",function(J){return isFinite(J=M(J))?m(J+u):this.getAttribute("transform")}),$.attr("opacity",Aw).attr("transform",function(J){var ie=this.parentNode.__axis;return m((ie&&isFinite(ie=ie(J))?ie:M(J))+u)})),z.remove(),P.attr("d",t===Lm||t===P2?a?"M"+f*a+","+x+"H"+u+"V"+T+"H"+f*a:"M"+u+","+x+"V"+T:a?"M"+x+","+f*a+"V"+u+"H"+T+"V"+f*a:"M"+x+","+u+"H"+T),O.attr("opacity",1).attr("transform",function(J){return m(M(J)+u)}),ee.attr(p+"2",f*s),G.attr(p,f*R).text(k),I.filter(Aq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===P2?"start":t===Lm?"end":"middle"),I.each(function(){this.__axis=M})}return g.scale=function(v){return arguments.length?(e=v,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(v){return arguments.length?(n=v==null?[]:Array.from(v),g):n.slice()},g.tickValues=function(v){return arguments.length?(r=v==null?null:Array.from(v),g):r&&r.slice()},g.tickFormat=function(v){return arguments.length?(i=v,g):i},g.tickSize=function(v){return arguments.length?(s=a=+v,g):s},g.tickSizeInner=function(v){return arguments.length?(s=+v,g):s},g.tickSizeOuter=function(v){return arguments.length?(a=+v,g):a},g.tickPadding=function(v){return arguments.length?(l=+v,g):l},g.offset=function(v){return arguments.length?(u=+v,g):u},g}function nk(t){return Iq(iy,t)}var Rq={value:()=>{}};function rk(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new T1(n)}function T1(t){this._=t}function Pq(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}T1.prototype=rk.prototype={constructor:T1,on:function(t,e){var n=this._,r=Pq(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Nq(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Iw(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Iw(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new T1(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Nq(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Iw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rq,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var sy="http://www.w3.org/1999/xhtml";const Df={svg:"http://www.w3.org/2000/svg",xhtml:sy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p_(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Df.hasOwnProperty(e)?{space:Df[e],local:t}:t}function Lq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===sy&&e.documentElement.namespaceURI===sy?e.createElement(t):e.createElementNS(n,t)}}function Oq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tp(t){var e=p_(t);return(e.local?Oq:Lq)(e)}function Dq(){}function rb(t){return t==null?Dq:function(){return this.querySelector(t)}}function Bq(t){typeof t!="function"&&(t=rb(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),u,f,p=0;p<a;++p)(u=s[p])&&(f=t.call(u,u.__data__,p,s))&&("__data__"in u&&(f.__data__=u.__data__),l[p]=f);return new Ps(r,this._parents)}function ik(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zq(){return[]}function sk(t){return t==null?zq:function(){return this.querySelectorAll(t)}}function Fq(t){return function(){return ik(t.apply(this,arguments))}}function Uq(t){typeof t=="function"?t=Fq(t):t=sk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],l=a.length,u,f=0;f<l;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new Ps(r,i)}function ak(t){return function(){return this.matches(t)}}function ok(t){return function(e){return e.matches(t)}}var qq=Array.prototype.find;function Hq(t){return function(){return qq.call(this.children,t)}}function Wq(){return this.firstElementChild}function $q(t){return this.select(t==null?Wq:Hq(typeof t=="function"?t:ok(t)))}var Gq=Array.prototype.filter;function Vq(){return Array.from(this.children)}function Yq(t){return function(){return Gq.call(this.children,t)}}function Zq(t){return this.selectAll(t==null?Vq:Yq(typeof t=="function"?t:ok(t)))}function Xq(t){typeof t!="function"&&(t=ak(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,f=0;f<a;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new Ps(r,this._parents)}function lk(t){return new Array(t.length)}function jq(){return new Ps(this._enter||this._groups.map(lk),this._parents)}function X1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}X1.prototype={constructor:X1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Kq(t){return function(){return t}}function Jq(t,e,n,r,i,s){for(var a=0,l,u=e.length,f=s.length;a<f;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new X1(t,s[a]);for(;a<u;++a)(l=e[a])&&(i[a]=l)}function Qq(t,e,n,r,i,s,a){var l,u,f=new Map,p=e.length,m=s.length,g=new Array(p),v;for(l=0;l<p;++l)(u=e[l])&&(g[l]=v=a.call(u,u.__data__,l,e)+"",f.has(v)?i[l]=u:f.set(v,u));for(l=0;l<m;++l)v=a.call(t,s[l],l,s)+"",(u=f.get(v))?(r[l]=u,u.__data__=s[l],f.delete(v)):n[l]=new X1(t,s[l]);for(l=0;l<p;++l)(u=e[l])&&f.get(g[l])===u&&(i[l]=u)}function eH(t){return t.__data__}function tH(t,e){if(!arguments.length)return Array.from(this,eH);var n=e?Qq:Jq,r=this._parents,i=this._groups;typeof t!="function"&&(t=Kq(t));for(var s=i.length,a=new Array(s),l=new Array(s),u=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],g=m.length,v=nH(t.call(p,p&&p.__data__,f,r)),b=v.length,k=l[f]=new Array(b),R=a[f]=new Array(b),N=u[f]=new Array(g);n(p,m,k,R,N,v,e);for(var x=0,T=0,M,I;x<b;++x)if(M=k[x]){for(x>=T&&(T=x+1);!(I=R[T])&&++T<b;);M._next=I||null}}return a=new Ps(a,r),a._enter=l,a._exit=u,a}function nH(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rH(){return new Ps(this._exit||this._groups.map(lk),this._parents)}function iH(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function sH(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),u=0;u<a;++u)for(var f=n[u],p=r[u],m=f.length,g=l[u]=new Array(m),v,b=0;b<m;++b)(v=f[b]||p[b])&&(g[b]=v);for(;u<i;++u)l[u]=n[u];return new Ps(l,this._parents)}function aH(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function oH(t){t||(t=lH);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,u=i[s]=new Array(l),f,p=0;p<l;++p)(f=a[p])&&(u[p]=f);u.sort(e)}return new Ps(i,this._parents).order()}function lH(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function uH(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function cH(){return Array.from(this)}function fH(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function hH(){let t=0;for(const e of this)++t;return t}function dH(){return!this.node()}function pH(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function mH(t){return function(){this.removeAttribute(t)}}function gH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _H(t,e){return function(){this.setAttribute(t,e)}}function vH(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wH(t,e){var n=p_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?gH:mH:typeof e=="function"?n.local?bH:yH:n.local?vH:_H)(n,e))}function uk(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xH(t){return function(){this.style.removeProperty(t)}}function SH(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TH(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function kH(t,e,n){return arguments.length>1?this.each((e==null?xH:typeof e=="function"?TH:SH)(t,e,n??"")):Bf(this.node(),t)}function Bf(t,e){return t.style.getPropertyValue(e)||uk(t).getComputedStyle(t,null).getPropertyValue(e)}function EH(t){return function(){delete this[t]}}function MH(t,e){return function(){this[t]=e}}function CH(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function AH(t,e){return arguments.length>1?this.each((e==null?EH:typeof e=="function"?CH:MH)(t,e)):this.node()[t]}function ck(t){return t.trim().split(/^|\s+/)}function ib(t){return t.classList||new fk(t)}function fk(t){this._node=t,this._names=ck(t.getAttribute("class")||"")}fk.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hk(t,e){for(var n=ib(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dk(t,e){for(var n=ib(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function IH(t){return function(){hk(this,t)}}function RH(t){return function(){dk(this,t)}}function PH(t,e){return function(){(e.apply(this,arguments)?hk:dk)(this,t)}}function NH(t,e){var n=ck(t+"");if(arguments.length<2){for(var r=ib(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?PH:e?IH:RH)(n,e))}function LH(){this.textContent=""}function OH(t){return function(){this.textContent=t}}function DH(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function BH(t){return arguments.length?this.each(t==null?LH:(typeof t=="function"?DH:OH)(t)):this.node().textContent}function zH(){this.innerHTML=""}function FH(t){return function(){this.innerHTML=t}}function UH(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qH(t){return arguments.length?this.each(t==null?zH:(typeof t=="function"?UH:FH)(t)):this.node().innerHTML}function HH(){this.nextSibling&&this.parentNode.appendChild(this)}function WH(){return this.each(HH)}function $H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GH(){return this.each($H)}function VH(t){var e=typeof t=="function"?t:Tp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function YH(){return null}function ZH(t,e){var n=typeof t=="function"?t:Tp(t),r=e==null?YH:typeof e=="function"?e:rb(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function XH(){var t=this.parentNode;t&&t.removeChild(this)}function jH(){return this.each(XH)}function KH(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JH(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function QH(t){return this.select(t?JH:KH)}function eW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tW(t){return function(e){t.call(this,e,this.__data__)}}function nW(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function rW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function iW(t,e,n){return function(){var r=this.__on,i,s=tW(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function sW(t,e,n){var r=nW(t+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,p;u<f;++u)for(i=0,p=l[u];i<s;++i)if((a=r[i]).type===p.type&&a.name===p.name)return p.value}return}for(l=e?iW:rW,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function pk(t,e,n){var r=uk(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function aW(t,e){return function(){return pk(this,t,e)}}function oW(t,e){return function(){return pk(this,t,e.apply(this,arguments))}}function lW(t,e){return this.each((typeof e=="function"?oW:aW)(t,e))}function*uW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var sb=[null];function Ps(t,e){this._groups=t,this._parents=e}function kp(){return new Ps([[document.documentElement]],sb)}function cW(){return this}Ps.prototype=kp.prototype={constructor:Ps,select:Bq,selectAll:Uq,selectChild:$q,selectChildren:Zq,filter:Xq,data:tH,enter:jq,exit:rH,join:iH,merge:sH,selection:cW,order:aH,sort:oH,call:uH,nodes:cH,node:fH,size:hH,empty:dH,each:pH,attr:wH,style:kH,property:AH,classed:NH,text:BH,html:qH,raise:WH,lower:GH,append:VH,insert:ZH,remove:jH,clone:QH,datum:eW,on:sW,dispatch:lW,[Symbol.iterator]:uW};function ur(t){return typeof t=="string"?new Ps([[document.querySelector(t)]],[document.documentElement]):new Ps([[t]],sb)}function fW(t){return ur(Tp(t).call(document.documentElement))}function hW(t){let e;for(;e=t.sourceEvent;)t=e;return t}function dW(t,e){if(t=hW(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Rw(t){return typeof t=="string"?new Ps([document.querySelectorAll(t)],[document.documentElement]):new Ps([ik(t)],sb)}function fh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ep(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ic(){}var I0=.7,zf=1/I0,Ef="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pW=/^#([0-9a-f]{3,8})$/,mW=new RegExp(`^rgb\\(${Ef},${Ef},${Ef}\\)$`),gW=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),_W=new RegExp(`^rgba\\(${Ef},${Ef},${Ef},${Ud}\\)$`),vW=new RegExp(`^rgba\\(${ol},${ol},${ol},${Ud}\\)$`),yW=new RegExp(`^hsl\\(${Ud},${ol},${ol}\\)$`),bW=new RegExp(`^hsla\\(${Ud},${ol},${ol},${Ud}\\)$`),Pw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fh(Ic,dl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nw,formatHex:Nw,formatHex8:wW,formatHsl:xW,formatRgb:Lw,toString:Lw});function Nw(){return this.rgb().formatHex()}function wW(){return this.rgb().formatHex8()}function xW(){return mk(this).formatHsl()}function Lw(){return this.rgb().formatRgb()}function dl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ow(e):n===3?new Ai(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Om(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Om(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mW.exec(t))?new Ai(e[1],e[2],e[3],1):(e=gW.exec(t))?new Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_W.exec(t))?Om(e[1],e[2],e[3],e[4]):(e=vW.exec(t))?Om(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yW.exec(t))?zw(e[1],e[2]/100,e[3]/100,1):(e=bW.exec(t))?zw(e[1],e[2]/100,e[3]/100,e[4]):Pw.hasOwnProperty(t)?Ow(Pw[t]):t==="transparent"?new Ai(NaN,NaN,NaN,0):null}function Ow(t){return new Ai(t>>16&255,t>>8&255,t&255,1)}function Om(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ai(t,e,n,r)}function ab(t){return t instanceof Ic||(t=dl(t)),t?(t=t.rgb(),new Ai(t.r,t.g,t.b,t.opacity)):new Ai}function vc(t,e,n,r){return arguments.length===1?ab(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fh(Ai,vc,Ep(Ic,{brighter(t){return t=t==null?zf:Math.pow(zf,t),new Ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?I0:Math.pow(I0,t),new Ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ai(S0(this.r),S0(this.g),S0(this.b),j1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dw,formatHex:Dw,formatHex8:SW,formatRgb:Bw,toString:Bw}));function Dw(){return`#${g0(this.r)}${g0(this.g)}${g0(this.b)}`}function SW(){return`#${g0(this.r)}${g0(this.g)}${g0(this.b)}${g0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bw(){const t=j1(this.opacity);return`${t===1?"rgb(":"rgba("}${S0(this.r)}, ${S0(this.g)}, ${S0(this.b)}${t===1?")":`, ${t})`}`}function j1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function S0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function g0(t){return t=S0(t),(t<16?"0":"")+t.toString(16)}function zw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vo(t,e,n,r)}function mk(t){if(t instanceof vo)return new vo(t.h,t.s,t.l,t.opacity);if(t instanceof Ic||(t=dl(t)),!t)return new vo;if(t instanceof vo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new vo(a,l,u,t.opacity)}function ay(t,e,n,r){return arguments.length===1?mk(t):new vo(t,e,n,r??1)}function vo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fh(vo,ay,Ep(Ic,{brighter(t){return t=t==null?zf:Math.pow(zf,t),new vo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?I0:Math.pow(I0,t),new vo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ai(N2(t>=240?t-240:t+120,i,r),N2(t,i,r),N2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vo(Fw(this.h),Dm(this.s),Dm(this.l),j1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=j1(this.opacity);return`${t===1?"hsl(":"hsla("}${Fw(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fw(t){return t=(t||0)%360,t<0?t+360:t}function Dm(t){return Math.max(0,Math.min(1,t||0))}function N2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gk=Math.PI/180,_k=180/Math.PI,K1=18,vk=.96422,yk=1,bk=.82521,wk=4/29,Mf=6/29,xk=3*Mf*Mf,TW=Mf*Mf*Mf;function Sk(t){if(t instanceof ll)return new ll(t.l,t.a,t.b,t.opacity);if(t instanceof iu)return Tk(t);t instanceof Ai||(t=ab(t));var e=B2(t.r),n=B2(t.g),r=B2(t.b),i=L2((.2225045*e+.7168786*n+.0606169*r)/yk),s,a;return e===n&&n===r?s=a=i:(s=L2((.4360747*e+.3850649*n+.1430804*r)/vk),a=L2((.0139322*e+.0971045*n+.7141733*r)/bk)),new ll(116*i-16,500*(s-i),200*(i-a),t.opacity)}function oy(t,e,n,r){return arguments.length===1?Sk(t):new ll(t,e,n,r??1)}function ll(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}fh(ll,oy,Ep(Ic,{brighter(t){return new ll(this.l+K1*(t??1),this.a,this.b,this.opacity)},darker(t){return new ll(this.l-K1*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=vk*O2(e),t=yk*O2(t),n=bk*O2(n),new Ai(D2(3.1338561*e-1.6168667*t-.4906146*n),D2(-.9787684*e+1.9161415*t+.033454*n),D2(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function L2(t){return t>TW?Math.pow(t,1/3):t/xk+wk}function O2(t){return t>Mf?t*t*t:xk*(t-wk)}function D2(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function B2(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kW(t){if(t instanceof iu)return new iu(t.h,t.c,t.l,t.opacity);if(t instanceof ll||(t=Sk(t)),t.a===0&&t.b===0)return new iu(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*_k;return new iu(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ly(t,e,n,r){return arguments.length===1?kW(t):new iu(t,e,n,r??1)}function iu(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Tk(t){if(isNaN(t.h))return new ll(t.l,0,0,t.opacity);var e=t.h*gk;return new ll(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}fh(iu,ly,Ep(Ic,{brighter(t){return new iu(this.h,this.c,this.l+K1*(t??1),this.opacity)},darker(t){return new iu(this.h,this.c,this.l-K1*(t??1),this.opacity)},rgb(){return Tk(this).rgb()}}));var kk=-.14861,ob=1.78277,lb=-.29227,m_=-.90649,qd=1.97294,Uw=qd*m_,qw=qd*ob,Hw=ob*lb-m_*kk;function EW(t){if(t instanceof T0)return new T0(t.h,t.s,t.l,t.opacity);t instanceof Ai||(t=ab(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Hw*r+Uw*e-qw*n)/(Hw+Uw-qw),s=r-i,a=(qd*(n-i)-lb*s)/m_,l=Math.sqrt(a*a+s*s)/(qd*i*(1-i)),u=l?Math.atan2(a,s)*_k-120:NaN;return new T0(u<0?u+360:u,l,i,t.opacity)}function pl(t,e,n,r){return arguments.length===1?EW(t):new T0(t,e,n,r??1)}function T0(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fh(T0,pl,Ep(Ic,{brighter(t){return t=t==null?zf:Math.pow(zf,t),new T0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?I0:Math.pow(I0,t),new T0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*gk,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Ai(255*(e+n*(kk*r+ob*i)),255*(e+n*(lb*r+m_*i)),255*(e+n*(qd*r)),this.opacity)}}));function MW(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}function CW(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,l=r<e-1?t[r+2]:2*s-i;return MW((n-r/e)*e,a,i,s,l)}}const g_=t=>()=>t;function Ek(t,e){return function(n){return t+n*e}}function AW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ub(t,e){var n=e-t;return n?Ek(t,n>180||n<-180?n-360*Math.round(n/360):n):g_(isNaN(t)?e:t)}function IW(t){return(t=+t)==1?as:function(e,n){return n-e?AW(e,n,t):g_(isNaN(e)?n:e)}}function as(t,e){var n=e-t;return n?Ek(t,n):g_(isNaN(t)?e:t)}const R0=function t(e){var n=IW(e);function r(i,s){var a=n((i=vc(i)).r,(s=vc(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),f=as(i.opacity,s.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=u(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function RW(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),a,l;for(a=0;a<n;++a)l=vc(e[a]),r[a]=l.r||0,i[a]=l.g||0,s[a]=l.b||0;return r=t(r),i=t(i),s=t(s),l.opacity=1,function(u){return l.r=r(u),l.g=i(u),l.b=s(u),l+""}}}var PW=RW(CW);function NW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function LW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=yc(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function DW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ss(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function BW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z2=new RegExp(uy.source,"g");function zW(t){return function(){return t}}function FW(t){return function(e){return t(e)+""}}function Mk(t,e){var n=uy.lastIndex=z2.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=uy.exec(t))&&(i=z2.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:ss(r,i)})),n=z2.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?FW(u[0].x):zW(e):(e=u.length,function(f){for(var p=0,m;p<e;++p)l[(m=u[p]).i]=m.x(f);return l.join("")})}function yc(t,e){var n=typeof e,r;return e==null||n==="boolean"?g_(e):(n==="number"?ss:n==="string"?(r=dl(e))?(e=r,R0):Mk:e instanceof dl?R0:e instanceof Date?DW:LW(e)?NW:Array.isArray(e)?OW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?BW:ss)(t,e)}function Mp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ww=180/Math.PI,cy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ck(t,e,n,r,i,s){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Ww,skewX:Math.atan(u)*Ww,scaleX:a,scaleY:l}}var Bm;function UW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?cy:Ck(e.a,e.b,e.c,e.d,e.e,e.f)}function qW(t){return t==null||(Bm||(Bm=document.createElementNS("http://www.w3.org/2000/svg","g")),Bm.setAttribute("transform",t),!(t=Bm.transform.baseVal.consolidate()))?cy:(t=t.matrix,Ck(t.a,t.b,t.c,t.d,t.e,t.f))}function Ak(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,g,v,b){if(f!==m||p!==g){var k=v.push("translate(",null,e,null,n);b.push({i:k-4,x:ss(f,m)},{i:k-2,x:ss(p,g)})}else(m||g)&&v.push("translate("+m+e+g+n)}function a(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:ss(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function l(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:ss(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function u(f,p,m,g,v,b){if(f!==m||p!==g){var k=v.push(i(v)+"scale(",null,",",null,")");b.push({i:k-4,x:ss(f,m)},{i:k-2,x:ss(p,g)})}else(m!==1||g!==1)&&v.push(i(v)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=t(f),p=t(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,g),a(f.rotate,p.rotate,m,g),l(f.skewX,p.skewX,m,g),u(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(v){for(var b=-1,k=g.length,R;++b<k;)m[(R=g[b]).i]=R.x(v);return m.join("")}}}var HW=Ak(UW,"px, ","px)","deg)"),WW=Ak(qW,", ",")",")");function $W(t){return function(e,n){var r=t((e=ay(e)).h,(n=ay(n)).h),i=as(e.s,n.s),s=as(e.l,n.l),a=as(e.opacity,n.opacity);return function(l){return e.h=r(l),e.s=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const GW=$W(ub);function VW(t,e){var n=as((t=oy(t)).l,(e=oy(e)).l),r=as(t.a,e.a),i=as(t.b,e.b),s=as(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=s(a),t+""}}function YW(t){return function(e,n){var r=t((e=ly(e)).h,(n=ly(n)).h),i=as(e.c,n.c),s=as(e.l,n.l),a=as(e.opacity,n.opacity);return function(l){return e.h=r(l),e.c=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const ZW=YW(ub);function Ik(t){return function e(n){n=+n;function r(i,s){var a=t((i=pl(i)).h,(s=pl(s)).h),l=as(i.s,s.s),u=as(i.l,s.l),f=as(i.opacity,s.opacity);return function(p){return i.h=a(p),i.s=l(p),i.l=u(Math.pow(p,n)),i.opacity=f(p),i+""}}return r.gamma=e,r}(1)}Ik(ub);var cb=Ik(as);function __(t,e){e===void 0&&(e=t,t=yc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function wa(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Ff=0,sd=0,Wh=0,Rk=1e3,J1,ad,Q1=0,P0=0,v_=0,Hd=typeof performance=="object"&&performance.now?performance:Date,Pk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fb(){return P0||(Pk(XW),P0=Hd.now()+v_)}function XW(){P0=0}function eg(){this._call=this._time=this._next=null}eg.prototype=Nk.prototype={constructor:eg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?fb():+n)+(e==null?0:+e),!this._next&&ad!==this&&(ad?ad._next=this:J1=this,ad=this),this._call=t,this._time=n,fy()},stop:function(){this._call&&(this._call=null,this._time=1/0,fy())}};function Nk(t,e,n){var r=new eg;return r.restart(t,e,n),r}function jW(){fb(),++Ff;for(var t=J1,e;t;)(e=P0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ff}function $w(){P0=(Q1=Hd.now())+v_,Ff=sd=0;try{jW()}finally{Ff=0,JW(),P0=0}}function KW(){var t=Hd.now(),e=t-Q1;e>Rk&&(v_-=e,Q1=t)}function JW(){for(var t,e=J1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:J1=n);ad=t,fy(r)}function fy(t){if(!Ff){sd&&(sd=clearTimeout(sd));var e=t-P0;e>24?(t<1/0&&(sd=setTimeout($w,t-Hd.now()-v_)),Wh&&(Wh=clearInterval(Wh))):(Wh||(Q1=Hd.now(),Wh=setInterval(KW,Rk)),Ff=1,Pk($w))}}function Gw(t,e,n){var r=new eg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var QW=rk("start","end","cancel","interrupt"),e$=[],Lk=0,Vw=1,hy=2,k1=3,Yw=4,dy=5,E1=6;function y_(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;t$(t,n,{name:e,index:r,group:i,on:QW,tween:e$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Lk})}function hb(t,e){var n=Ao(t,e);if(n.state>Lk)throw new Error("too late; already scheduled");return n}function _l(t,e){var n=Ao(t,e);if(n.state>k1)throw new Error("too late; already running");return n}function Ao(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function t$(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Nk(s,0,n.time);function s(f){n.state=Vw,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,m,g,v;if(n.state!==Vw)return u();for(p in r)if(v=r[p],v.name===n.name){if(v.state===k1)return Gw(a);v.state===Yw?(v.state=E1,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[p]):+p<e&&(v.state=E1,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[p])}if(Gw(function(){n.state===k1&&(n.state=Yw,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=hy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===hy){for(n.state=k1,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(v=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=v);i.length=m+1}}function l(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=dy,1),m=-1,g=i.length;++m<g;)i[m].call(t,p);n.state===dy&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=E1,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function n$(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>hy&&r.state<dy,r.state=E1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function r$(t){return this.each(function(){n$(this,t)})}function i$(t,e){var n,r;return function(){var i=_l(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function s$(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_l(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},u=0,f=i.length;u<f;++u)if(i[u].name===e){i[u]=l;break}u===f&&i.push(l)}s.tween=i}}function a$(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ao(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?i$:s$)(n,t,e))}function db(t,e,n){var r=t._id;return t.each(function(){var i=_l(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ao(i,r).value[e]}}function Ok(t,e){var n;return(typeof e=="number"?ss:e instanceof dl?R0:(n=dl(e))?(e=n,R0):Mk)(t,e)}function o$(t){return function(){this.removeAttribute(t)}}function l$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function u$(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function c$(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function f$(t,e,n){var r,i,s;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function h$(t,e,n){var r,i,s;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=l+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l)))}}function d$(t,e){var n=p_(t),r=n==="transform"?WW:Ok;return this.attrTween(t,typeof e=="function"?(n.local?h$:f$)(n,r,db(this,"attr."+t,e)):e==null?(n.local?l$:o$)(n):(n.local?c$:u$)(n,r,e))}function p$(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function m$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function g$(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&m$(t,s)),n}return i._value=e,i}function _$(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&p$(t,s)),n}return i._value=e,i}function v$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=p_(t);return this.tween(n,(r.local?g$:_$)(r,e))}function y$(t,e){return function(){hb(this,t).delay=+e.apply(this,arguments)}}function b$(t,e){return e=+e,function(){hb(this,t).delay=e}}function w$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?y$:b$)(e,t)):Ao(this.node(),e).delay}function x$(t,e){return function(){_l(this,t).duration=+e.apply(this,arguments)}}function S$(t,e){return e=+e,function(){_l(this,t).duration=e}}function T$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?x$:S$)(e,t)):Ao(this.node(),e).duration}function k$(t,e){if(typeof e!="function")throw new Error;return function(){_l(this,t).ease=e}}function E$(t){var e=this._id;return arguments.length?this.each(k$(e,t)):Ao(this.node(),e).ease}function M$(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_l(this,t).ease=n}}function C$(t){if(typeof t!="function")throw new Error;return this.each(M$(this._id,t))}function A$(t){typeof t!="function"&&(t=ak(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],u,f=0;f<a;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new _u(r,this._parents,this._name,this._id)}function I$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var u=e[l],f=n[l],p=u.length,m=a[l]=new Array(p),g,v=0;v<p;++v)(g=u[v]||f[v])&&(m[v]=g);for(;l<r;++l)a[l]=e[l];return new _u(a,this._parents,this._name,this._id)}function R$(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function P$(t,e,n){var r,i,s=R$(e)?hb:_l;return function(){var a=s(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function N$(t,e){var n=this._id;return arguments.length<2?Ao(this.node(),n).on.on(t):this.each(P$(n,t,e))}function L$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function O$(){return this.on("end.remove",L$(this._id))}function D$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rb(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,f=s[a]=new Array(u),p,m,g=0;g<u;++g)(p=l[g])&&(m=t.call(p,p.__data__,g,l))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,y_(f[g],e,n,g,f,Ao(p,n)));return new _u(s,this._parents,e,n)}function B$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sk(t));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var u=r[l],f=u.length,p,m=0;m<f;++m)if(p=u[m]){for(var g=t.call(p,p.__data__,m,u),v,b=Ao(p,n),k=0,R=g.length;k<R;++k)(v=g[k])&&y_(v,e,n,k,g,b);s.push(g),a.push(p)}return new _u(s,a,e,n)}var z$=kp.prototype.constructor;function F$(){return new z$(this._groups,this._parents)}function U$(t,e){var n,r,i;return function(){var s=Bf(this,t),a=(this.style.removeProperty(t),Bf(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Dk(t){return function(){this.style.removeProperty(t)}}function q$(t,e,n){var r,i=n+"",s;return function(){var a=Bf(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function H$(t,e,n){var r,i,s;return function(){var a=Bf(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Bf(this,t))),a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,l))}}function W$(t,e){var n,r,i,s="style."+e,a="end."+s,l;return function(){var u=_l(this,t),f=u.on,p=u.value[s]==null?l||(l=Dk(e)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(a,i=p),u.on=r}}function $$(t,e,n){var r=(t+="")=="transform"?HW:Ok;return e==null?this.styleTween(t,U$(t,r)).on("end.style."+t,Dk(t)):typeof e=="function"?this.styleTween(t,H$(t,r,db(this,"style."+t,e))).each(W$(this._id,t)):this.styleTween(t,q$(t,r,e),n).on("end.style."+t,null)}function G$(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function V$(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&G$(t,a,n)),r}return s._value=e,s}function Y$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,V$(t,e,n??""))}function Z$(t){return function(){this.textContent=t}}function X$(t){return function(){var e=t(this);this.textContent=e??""}}function j$(t){return this.tween("text",typeof t=="function"?X$(db(this,"text",t)):Z$(t==null?"":t+""))}function K$(t){return function(e){this.textContent=t.call(this,e)}}function J$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&K$(i)),e}return r._value=t,r}function Q$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,J$(t))}function eG(){for(var t=this._name,e=this._id,n=Bk(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,f=0;f<l;++f)if(u=a[f]){var p=Ao(u,e);y_(u,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new _u(r,this._parents,t,n)}function tG(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var f=_l(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),f.on=e}),i===0&&s()})}var nG=0;function _u(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Bk(){return++nG}var Vl=kp.prototype;_u.prototype={constructor:_u,select:D$,selectAll:B$,selectChild:Vl.selectChild,selectChildren:Vl.selectChildren,filter:A$,merge:I$,selection:F$,transition:eG,call:Vl.call,nodes:Vl.nodes,node:Vl.node,size:Vl.size,empty:Vl.empty,each:Vl.each,on:N$,attr:d$,attrTween:v$,style:$$,styleTween:Y$,text:j$,textTween:Q$,remove:O$,tween:a$,delay:w$,duration:T$,ease:E$,easeVarying:C$,end:tG,[Symbol.iterator]:Vl[Symbol.iterator]};function rG(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var iG={time:null,delay:0,duration:250,ease:rG};function sG(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function aG(t){var e,n;t instanceof _u?(e=t._id,t=t._name):(e=Bk(),(n=iG).time=fb(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,u,f=0;f<l;++f)(u=a[f])&&y_(u,t,e,f,a,n||sG(u,e));return new _u(r,this._parents,t,e)}kp.prototype.interrupt=r$;kp.prototype.transition=aG;const py=Math.PI,my=2*py,f0=1e-6,oG=my-f0;function zk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zk;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Fk=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zk:lG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,f=i-n,p=a-e,m=l-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>f0)if(!(Math.abs(m*u-f*p)>f0)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,b=i-l,k=u*u+f*f,R=v*v+b*b,N=Math.sqrt(k),x=Math.sqrt(g),T=s*Math.tan((py-Math.acos((k+g-R)/(2*N*x)))/2),M=T/x,I=T/N;Math.abs(M-1)>f0&&this._append`L${e+M*p},${n+M*m}`,this._append`A${s},${s},0,0,${+(m*v>p*b)},${this._x1=e+I*u},${this._y1=n+I*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,p=n+u,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>f0||Math.abs(this._y1-p)>f0)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%my+my),g>oG?this._append`A${r},${r},0,1,${m},${e-l},${n-u}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>f0&&this._append`A${r},${r},0,${+(g>=py)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function _0(t=3){return new Fk(+t)}var Zw={},F2={},U2=34,$h=10,q2=13;function Uk(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function uG(t,e){var n=Uk(t);return function(r,i){return e(n(r),i,t)}}function Xw(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Qs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function cG(t){return t<0?"-"+Qs(-t,6):t>9999?"+"+Qs(t,6):Qs(t,4)}function fG(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":cG(t.getUTCFullYear())+"-"+Qs(t.getUTCMonth()+1,2)+"-"+Qs(t.getUTCDate(),2)+(i?"T"+Qs(e,2)+":"+Qs(n,2)+":"+Qs(r,2)+"."+Qs(i,3)+"Z":r?"T"+Qs(e,2)+":"+Qs(n,2)+":"+Qs(r,2)+"Z":n||e?"T"+Qs(e,2)+":"+Qs(n,2)+"Z":"")}function qk(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(m,g){var v,b,k=i(m,function(R,N){if(v)return v(R,N-1);b=R,v=g?uG(R,g):Uk(R)});return k.columns=b||[],k}function i(m,g){var v=[],b=m.length,k=0,R=0,N,x=b<=0,T=!1;m.charCodeAt(b-1)===$h&&--b,m.charCodeAt(b-1)===q2&&--b;function M(){if(x)return F2;if(T)return T=!1,Zw;var P,O=k,z;if(m.charCodeAt(O)===U2){for(;k++<b&&m.charCodeAt(k)!==U2||m.charCodeAt(++k)===U2;);return(P=k)>=b?x=!0:(z=m.charCodeAt(k++))===$h?T=!0:z===q2&&(T=!0,m.charCodeAt(k)===$h&&++k),m.slice(O+1,P-1).replace(/""/g,'"')}for(;k<b;){if((z=m.charCodeAt(P=k++))===$h)T=!0;else if(z===q2)T=!0,m.charCodeAt(k)===$h&&++k;else if(z!==n)continue;return m.slice(O,P)}return x=!0,m.slice(O,b)}for(;(N=M())!==F2;){for(var I=[];N!==Zw&&N!==F2;)I.push(N),N=M();g&&(I=g(I,R++))==null||v.push(I)}return v}function s(m,g){return m.map(function(v){return g.map(function(b){return p(v[b])}).join(t)})}function a(m,g){return g==null&&(g=Xw(m)),[g.map(p).join(t)].concat(s(m,g)).join(`
`)}function l(m,g){return g==null&&(g=Xw(m)),s(m,g).join(`
`)}function u(m){return m.map(f).join(`
`)}function f(m){return m.map(p).join(t)}function p(m){return m==null?"":m instanceof Date?fG(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:r,parseRows:i,format:a,formatBody:l,formatRows:u,formatRow:f,formatValue:p}}var Hk=qk(","),Wk=Hk.parse,hG=Hk.parseRows,$k=qk("	"),dG=$k.parse,pG=$k.parseRows;function pb(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))mG&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const mG=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function gG(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function _G(t,e){return fetch(t,e).then(gG)}function vG(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),_G(e,n).then(function(i){return t(i,r)})}}var Gk=vG(Wk);function yG(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function H2(t,e){return fetch(t,e).then(yG)}function bG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uf(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function wG(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function xG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var SG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wd(t){if(!(e=SG.exec(t)))throw new Error("invalid format: "+t);var e;return new mb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wd.prototype=mb.prototype;function mb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Vk;function kG(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Vk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tg(t,Math.max(0,e+s-1))[0]}function jw(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Kw={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jw(t*100,e),r:jw,s:kG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Jw(t){return t}var Qw=Array.prototype.map,e8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EG(t){var e=t.grouping===void 0||t.thousands===void 0?Jw:wG(Qw.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Jw:xG(Qw.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Wd(m);var g=m.fill,v=m.align,b=m.sign,k=m.symbol,R=m.zero,N=m.width,x=m.comma,T=m.precision,M=m.trim,I=m.type;I==="n"?(x=!0,I="g"):Kw[I]||(T===void 0&&(T=12),M=!0,I="g"),(R||g==="0"&&v==="=")&&(R=!0,g="0",v="=");var P=k==="$"?n:k==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",O=k==="$"?r:/[%p]/.test(I)?a:"",z=Kw[I],$=/[defgprs%]/.test(I);T=T===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ee(G){var J=P,ie=O,se,te,ae;if(I==="c")ie=z(G)+ie,G="";else{G=+G;var V=G<0||1/G<0;if(G=isNaN(G)?u:z(Math.abs(G),T),M&&(G=TG(G)),V&&+G==0&&b!=="+"&&(V=!1),J=(V?b==="("?b:l:b==="-"||b==="("?"":b)+J,ie=(I==="s"?e8[8+Vk/3]:"")+ie+(V&&b==="("?")":""),$){for(se=-1,te=G.length;++se<te;)if(ae=G.charCodeAt(se),48>ae||ae>57){ie=(ae===46?i+G.slice(se+1):G.slice(se))+ie,G=G.slice(0,se);break}}}x&&!R&&(G=e(G,1/0));var Y=J.length+G.length+ie.length,he=Y<N?new Array(N-Y+1).join(g):"";switch(x&&R&&(G=e(he+G,he.length?N-ie.length:1/0),he=""),v){case"<":G=J+G+ie+he;break;case"=":G=J+he+G+ie;break;case"^":G=he.slice(0,Y=he.length>>1)+J+G+ie+he.slice(Y);break;default:G=he+J+G+ie;break}return s(G)}return ee.toString=function(){return m+""},ee}function p(m,g){var v=f((m=Wd(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Uf(g)/3)))*3,k=Math.pow(10,-b),R=e8[8+b/3];return function(N){return v(k*N)+R}}return{format:f,formatPrefix:p}}var zm,kr,Yk;MG({thousands:",",grouping:[3],currency:["$",""]});function MG(t){return zm=EG(t),kr=zm.format,Yk=zm.formatPrefix,zm}function CG(t){return Math.max(0,-Uf(Math.abs(t)))}function AG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uf(e)/3)))*3-Uf(Math.abs(t)))}function IG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uf(e)-Uf(t))+1}var Et=1e-6,gb=1e-12,an=Math.PI,Br=an/2,t8=an/4,xa=an*2,Ss=180/an,Gn=an/180,En=Math.abs,hh=Math.atan,ml=Math.atan2,Yt=Math.cos,Fm=Math.ceil,Zk=Math.exp,ng=Math.log,W2=Math.pow,zt=Math.sin,Ha=Math.sign||function(t){return t>0?1:t<0?-1:0},Ns=Math.sqrt,_b=Math.tan;function Xk(t){return t>1?0:t<-1?an:Math.acos(t)}function Xa(t){return t>1?Br:t<-1?-Br:Math.asin(t)}function Ci(){}function rg(t,e){t&&r8.hasOwnProperty(t.type)&&r8[t.type](t,e)}var n8={Feature:function(t,e){rg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)rg(n[r].geometry,e)}},r8={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){gy(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gy(n[r],e,0)},Polygon:function(t,e){i8(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)i8(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)rg(n[r],e)}};function gy(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function i8(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)gy(t[n],e,1);e.polygonEnd()}function rc(t,e){t&&n8.hasOwnProperty(t.type)?n8[t.type](t,e):rg(t,e)}function _y(t){return[ml(t[1],t[0]),Xa(t[2])]}function qf(t){var e=t[0],n=t[1],r=Yt(n);return[r*Yt(e),r*zt(e),zt(n)]}function Um(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ig(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $2(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function qm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function vy(t){var e=Ns(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function yy(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function by(t,e){return En(t)>an&&(t-=Math.round(t/xa)*xa),[t,e]}by.invert=by;function jk(t,e,n){return(t%=xa)?e||n?yy(a8(t),o8(e,n)):a8(t):e||n?o8(e,n):by}function s8(t){return function(e,n){return e+=t,En(e)>an&&(e-=Math.round(e/xa)*xa),[e,n]}}function a8(t){var e=s8(t);return e.invert=s8(-t),e}function o8(t,e){var n=Yt(t),r=zt(t),i=Yt(e),s=zt(e);function a(l,u){var f=Yt(u),p=Yt(l)*f,m=zt(l)*f,g=zt(u),v=g*n+p*r;return[ml(m*i-v*s,p*n-g*r),Xa(v*i+m*s)]}return a.invert=function(l,u){var f=Yt(u),p=Yt(l)*f,m=zt(l)*f,g=zt(u),v=g*i-m*s;return[ml(m*i+g*s,p*n+v*r),Xa(v*n-p*r)]},a}function RG(t){t=jk(t[0]*Gn,t[1]*Gn,t.length>2?t[2]*Gn:0);function e(n){return n=t(n[0]*Gn,n[1]*Gn),n[0]*=Ss,n[1]*=Ss,n}return e.invert=function(n){return n=t.invert(n[0]*Gn,n[1]*Gn),n[0]*=Ss,n[1]*=Ss,n},e}function PG(t,e,n,r,i,s){if(n){var a=Yt(e),l=zt(e),u=r*n;i==null?(i=e+r*xa,s=e-u/2):(i=l8(a,i),s=l8(a,s),(r>0?i<s:i>s)&&(i+=r*xa));for(var f,p=i;r>0?p>s:p<s;p-=u)f=_y([a,-l*Yt(p),-l*zt(p)]),t.point(f[0],f[1])}}function l8(t,e){e=qf(e),e[0]-=t,vy(e);var n=Xk(-e[1]);return((-e[2]<0?-n:n)+xa-Et)%xa}function Kk(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ci,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function M1(t,e){return En(t[0]-e[0])<Et&&En(t[1]-e[1])<Et}function Hm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jk(t,e,n,r,i){var s=[],a=[],l,u;if(t.forEach(function(b){if(!((k=b.length-1)<=0)){var k,R=b[0],N=b[k],x;if(M1(R,N)){if(!R[2]&&!N[2]){for(i.lineStart(),l=0;l<k;++l)i.point((R=b[l])[0],R[1]);i.lineEnd();return}N[0]+=2*Et}s.push(x=new Hm(R,b,null,!0)),a.push(x.o=new Hm(R,null,x,!1)),s.push(x=new Hm(N,b,null,!1)),a.push(x.o=new Hm(N,null,x,!0))}}),!!s.length){for(a.sort(e),u8(s),u8(a),l=0,u=a.length;l<u;++l)a[l].e=n=!n;for(var f=s[0],p,m;;){for(var g=f,v=!0;g.v;)if((g=g.n)===f)return;p=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(l=0,u=p.length;l<u;++l)i.point((m=p[l])[0],m[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(v)for(p=g.p.z,l=p.length-1;l>=0;--l)i.point((m=p[l])[0],m[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,p=g.z,v=!v}while(!g.v);i.lineEnd()}}}function u8(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function G2(t){return En(t[0])<=an?t[0]:Ha(t[0])*((En(t[0])+an)%xa-an)}function Qk(t,e){var n=G2(e),r=e[1],i=zt(r),s=[zt(n),-Yt(n),0],a=0,l=0,u=new _c;i===1?r=Br+Et:i===-1&&(r=-Br-Et);for(var f=0,p=t.length;f<p;++f)if(g=(m=t[f]).length)for(var m,g,v=m[g-1],b=G2(v),k=v[1]/2+t8,R=zt(k),N=Yt(k),x=0;x<g;++x,b=M,R=P,N=O,v=T){var T=m[x],M=G2(T),I=T[1]/2+t8,P=zt(I),O=Yt(I),z=M-b,$=z>=0?1:-1,ee=$*z,G=ee>an,J=R*P;if(u.add(ml(J*$*zt(ee),N*O+J*Yt(ee))),a+=G?z+$*xa:z,G^b>=n^M>=n){var ie=ig(qf(v),qf(T));vy(ie);var se=ig(s,ie);vy(se);var te=(G^z>=0?-1:1)*Xa(se[2]);(r>te||r===te&&(ie[0]||ie[1]))&&(l+=G^z>=0?1:-1)}}return(a<-Et||a<Et&&u<-gb)^l&1}function eE(t,e,n,r){return function(i){var s=e(i),a=Kk(),l=e(a),u=!1,f,p,m,g={point:v,lineStart:k,lineEnd:R,polygonStart:function(){g.point=N,g.lineStart=x,g.lineEnd=T,p=[],f=[]},polygonEnd:function(){g.point=v,g.lineStart=k,g.lineEnd=R,p=tk(p);var M=Qk(f,r);p.length?(u||(i.polygonStart(),u=!0),Jk(p,LG,M,n,i)):M&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),p=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(M,I){t(M,I)&&i.point(M,I)}function b(M,I){s.point(M,I)}function k(){g.point=b,s.lineStart()}function R(){g.point=v,s.lineEnd()}function N(M,I){m.push([M,I]),l.point(M,I)}function x(){l.lineStart(),m=[]}function T(){N(m[0][0],m[0][1]),l.lineEnd();var M=l.clean(),I=a.result(),P,O=I.length,z,$,ee;if(m.pop(),f.push(m),m=null,!!O){if(M&1){if($=I[0],(z=$.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),P=0;P<z;++P)i.point((ee=$[P])[0],ee[1]);i.lineEnd()}return}O>1&&M&2&&I.push(I.pop().concat(I.shift())),p.push(I.filter(NG))}}return g}}function NG(t){return t.length>1}function LG(t,e){return((t=t.x)[0]<0?t[1]-Br-Et:Br-t[1])-((e=e.x)[0]<0?e[1]-Br-Et:Br-e[1])}const c8=eE(function(){return!0},OG,BG,[-an,-Br]);function OG(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,a){var l=s>0?an:-an,u=En(s-e);En(u-an)<Et?(t.point(e,n=(n+a)/2>0?Br:-Br),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(s,n),i=0):r!==l&&u>=an&&(En(e-r)<Et&&(e-=r*Et),En(s-l)<Et&&(s-=l*Et),n=DG(e,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),i=0),t.point(e=s,n=a),r=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function DG(t,e,n,r){var i,s,a=zt(t-n);return En(a)>Et?hh((zt(e)*(s=Yt(r))*zt(n)-zt(r)*(i=Yt(e))*zt(t))/(i*s*a)):(e+r)/2}function BG(t,e,n,r){var i;if(t==null)i=n*Br,r.point(-an,i),r.point(0,i),r.point(an,i),r.point(an,0),r.point(an,-i),r.point(0,-i),r.point(-an,-i),r.point(-an,0),r.point(-an,i);else if(En(t[0]-e[0])>Et){var s=t[0]<e[0]?an:-an;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function zG(t){var e=Yt(t),n=6*Gn,r=e>0,i=En(e)>Et;function s(p,m,g,v){PG(v,t,n,g,p,m)}function a(p,m){return Yt(p)*Yt(m)>e}function l(p){var m,g,v,b,k;return{lineStart:function(){b=v=!1,k=1},point:function(R,N){var x=[R,N],T,M=a(R,N),I=r?M?0:f(R,N):M?f(R+(R<0?an:-an),N):0;if(!m&&(b=v=M)&&p.lineStart(),M!==v&&(T=u(m,x),(!T||M1(m,T)||M1(x,T))&&(x[2]=1)),M!==v)k=0,M?(p.lineStart(),T=u(x,m),p.point(T[0],T[1])):(T=u(m,x),p.point(T[0],T[1],2),p.lineEnd()),m=T;else if(i&&m&&r^M){var P;!(I&g)&&(P=u(x,m,!0))&&(k=0,r?(p.lineStart(),p.point(P[0][0],P[0][1]),p.point(P[1][0],P[1][1]),p.lineEnd()):(p.point(P[1][0],P[1][1]),p.lineEnd(),p.lineStart(),p.point(P[0][0],P[0][1],3)))}M&&(!m||!M1(m,x))&&p.point(x[0],x[1]),m=x,v=M,g=I},lineEnd:function(){v&&p.lineEnd(),m=null},clean:function(){return k|(b&&v)<<1}}}function u(p,m,g){var v=qf(p),b=qf(m),k=[1,0,0],R=ig(v,b),N=Um(R,R),x=R[0],T=N-x*x;if(!T)return!g&&p;var M=e*N/T,I=-e*x/T,P=ig(k,R),O=qm(k,M),z=qm(R,I);$2(O,z);var $=P,ee=Um(O,$),G=Um($,$),J=ee*ee-G*(Um(O,O)-1);if(!(J<0)){var ie=Ns(J),se=qm($,(-ee-ie)/G);if($2(se,O),se=_y(se),!g)return se;var te=p[0],ae=m[0],V=p[1],Y=m[1],he;ae<te&&(he=te,te=ae,ae=he);var re=ae-te,ye=En(re-an)<Et,me=ye||re<Et;if(!ye&&Y<V&&(he=V,V=Y,Y=he),me?ye?V+Y>0^se[1]<(En(se[0]-te)<Et?V:Y):V<=se[1]&&se[1]<=Y:re>an^(te<=se[0]&&se[0]<=ae)){var Ne=qm($,(-ee+ie)/G);return $2(Ne,O),[se,_y(Ne)]}}}function f(p,m){var g=r?t:an-t,v=0;return p<-g?v|=1:p>g&&(v|=2),m<-g?v|=4:m>g&&(v|=8),v}return eE(a,l,s,r?[0,-t]:[-an,t-an])}function FG(t,e,n,r,i,s){var a=t[0],l=t[1],u=e[0],f=e[1],p=0,m=1,g=u-a,v=f-l,b;if(b=n-a,!(!g&&b>0)){if(b/=g,g<0){if(b<p)return;b<m&&(m=b)}else if(g>0){if(b>m)return;b>p&&(p=b)}if(b=i-a,!(!g&&b<0)){if(b/=g,g<0){if(b>m)return;b>p&&(p=b)}else if(g>0){if(b<p)return;b<m&&(m=b)}if(b=r-l,!(!v&&b>0)){if(b/=v,v<0){if(b<p)return;b<m&&(m=b)}else if(v>0){if(b>m)return;b>p&&(p=b)}if(b=s-l,!(!v&&b<0)){if(b/=v,v<0){if(b>m)return;b>p&&(p=b)}else if(v>0){if(b<p)return;b<m&&(m=b)}return p>0&&(t[0]=a+p*g,t[1]=l+p*v),m<1&&(e[0]=a+m*g,e[1]=l+m*v),!0}}}}}var od=1e9,Wm=-od;function tE(t,e,n,r){function i(f,p){return t<=f&&f<=n&&e<=p&&p<=r}function s(f,p,m,g){var v=0,b=0;if(f==null||(v=a(f,m))!==(b=a(p,m))||u(f,p)<0^m>0)do g.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+m+4)%4)!==b);else g.point(p[0],p[1])}function a(f,p){return En(f[0]-t)<Et?p>0?0:3:En(f[0]-n)<Et?p>0?2:1:En(f[1]-e)<Et?p>0?1:0:p>0?3:2}function l(f,p){return u(f.x,p.x)}function u(f,p){var m=a(f,1),g=a(p,1);return m!==g?m-g:m===0?p[1]-f[1]:m===1?f[0]-p[0]:m===2?f[1]-p[1]:p[0]-f[0]}return function(f){var p=f,m=Kk(),g,v,b,k,R,N,x,T,M,I,P,O={point:z,lineStart:J,lineEnd:ie,polygonStart:ee,polygonEnd:G};function z(te,ae){i(te,ae)&&p.point(te,ae)}function $(){for(var te=0,ae=0,V=v.length;ae<V;++ae)for(var Y=v[ae],he=1,re=Y.length,ye=Y[0],me,Ne,xe=ye[0],Ce=ye[1];he<re;++he)me=xe,Ne=Ce,ye=Y[he],xe=ye[0],Ce=ye[1],Ne<=r?Ce>r&&(xe-me)*(r-Ne)>(Ce-Ne)*(t-me)&&++te:Ce<=r&&(xe-me)*(r-Ne)<(Ce-Ne)*(t-me)&&--te;return te}function ee(){p=m,g=[],v=[],P=!0}function G(){var te=$(),ae=P&&te,V=(g=tk(g)).length;(ae||V)&&(f.polygonStart(),ae&&(f.lineStart(),s(null,null,1,f),f.lineEnd()),V&&Jk(g,l,te,s,f),f.polygonEnd()),p=f,g=v=b=null}function J(){O.point=se,v&&v.push(b=[]),I=!0,M=!1,x=T=NaN}function ie(){g&&(se(k,R),N&&M&&m.rejoin(),g.push(m.result())),O.point=z,M&&p.lineEnd()}function se(te,ae){var V=i(te,ae);if(v&&b.push([te,ae]),I)k=te,R=ae,N=V,I=!1,V&&(p.lineStart(),p.point(te,ae));else if(V&&M)p.point(te,ae);else{var Y=[x=Math.max(Wm,Math.min(od,x)),T=Math.max(Wm,Math.min(od,T))],he=[te=Math.max(Wm,Math.min(od,te)),ae=Math.max(Wm,Math.min(od,ae))];FG(Y,he,t,e,n,r)?(M||(p.lineStart(),p.point(Y[0],Y[1])),p.point(he[0],he[1]),V||p.lineEnd(),P=!1):V&&(p.lineStart(),p.point(te,ae),P=!1)}x=te,T=ae,M=V}return O}}var wy,xy,C1,A1,Hf={sphere:Ci,point:Ci,lineStart:UG,lineEnd:Ci,polygonStart:Ci,polygonEnd:Ci};function UG(){Hf.point=HG,Hf.lineEnd=qG}function qG(){Hf.point=Hf.lineEnd=Ci}function HG(t,e){t*=Gn,e*=Gn,xy=t,C1=zt(e),A1=Yt(e),Hf.point=WG}function WG(t,e){t*=Gn,e*=Gn;var n=zt(e),r=Yt(e),i=En(t-xy),s=Yt(i),a=zt(i),l=r*a,u=A1*n-C1*r*s,f=C1*n+A1*r*s;wy.add(ml(Ns(l*l+u*u),f)),xy=t,C1=n,A1=r}function $G(t){return wy=new _c,rc(t,Hf),+wy}var Sy=[null,null],GG={type:"LineString",coordinates:Sy};function Ty(t,e){return Sy[0]=t,Sy[1]=e,$G(GG)}var f8={Feature:function(t,e){return sg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(sg(n[r].geometry,e))return!0;return!1}},h8={Sphere:function(){return!0},Point:function(t,e){return d8(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(d8(n[r],e))return!0;return!1},LineString:function(t,e){return p8(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(p8(n[r],e))return!0;return!1},Polygon:function(t,e){return m8(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(m8(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(sg(n[r],e))return!0;return!1}};function sg(t,e){return t&&h8.hasOwnProperty(t.type)?h8[t.type](t,e):!1}function d8(t,e){return Ty(t,e)===0}function p8(t,e){for(var n,r,i,s=0,a=t.length;s<a;s++){if(r=Ty(t[s],e),r===0||s>0&&(i=Ty(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<gb*i))return!0;n=r}return!1}function m8(t,e){return!!Qk(t.map(VG),nE(e))}function VG(t){return t=t.map(nE),t.pop(),t}function nE(t){return[t[0]*Gn,t[1]*Gn]}function o0(t,e){return(t&&f8.hasOwnProperty(t.type)?f8[t.type]:sg)(t,e)}function g8(t,e,n){var r=Es(t,e-Et,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function _8(t,e,n){var r=Es(t,e-Et,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function rE(){var t,e,n,r,i,s,a,l,u=10,f=u,p=90,m=360,g,v,b,k,R=2.5;function N(){return{type:"MultiLineString",coordinates:x()}}function x(){return Es(Fm(r/p)*p,n,p).map(b).concat(Es(Fm(l/m)*m,a,m).map(k)).concat(Es(Fm(e/u)*u,t,u).filter(function(T){return En(T%p)>Et}).map(g)).concat(Es(Fm(s/f)*f,i,f).filter(function(T){return En(T%m)>Et}).map(v))}return N.lines=function(){return x().map(function(T){return{type:"LineString",coordinates:T}})},N.outline=function(){return{type:"Polygon",coordinates:[b(r).concat(k(a).slice(1),b(n).reverse().slice(1),k(l).reverse().slice(1))]}},N.extent=function(T){return arguments.length?N.extentMajor(T).extentMinor(T):N.extentMinor()},N.extentMajor=function(T){return arguments.length?(r=+T[0][0],n=+T[1][0],l=+T[0][1],a=+T[1][1],r>n&&(T=r,r=n,n=T),l>a&&(T=l,l=a,a=T),N.precision(R)):[[r,l],[n,a]]},N.extentMinor=function(T){return arguments.length?(e=+T[0][0],t=+T[1][0],s=+T[0][1],i=+T[1][1],e>t&&(T=e,e=t,t=T),s>i&&(T=s,s=i,i=T),N.precision(R)):[[e,s],[t,i]]},N.step=function(T){return arguments.length?N.stepMajor(T).stepMinor(T):N.stepMinor()},N.stepMajor=function(T){return arguments.length?(p=+T[0],m=+T[1],N):[p,m]},N.stepMinor=function(T){return arguments.length?(u=+T[0],f=+T[1],N):[u,f]},N.precision=function(T){return arguments.length?(R=+T,g=g8(s,i,90),v=_8(e,t,R),b=g8(l,a,90),k=_8(r,n,R),N):R},N.extentMajor([[-180,-90+Et],[180,90-Et]]).extentMinor([[-180,-80-Et],[180,80+Et]])}function YG(){return rE()()}const ky=t=>t;var V2=new _c,Ey=new _c,iE,sE,My,Cy,ic={point:Ci,lineStart:Ci,lineEnd:Ci,polygonStart:function(){ic.lineStart=ZG,ic.lineEnd=jG},polygonEnd:function(){ic.lineStart=ic.lineEnd=ic.point=Ci,V2.add(En(Ey)),Ey=new _c},result:function(){var t=V2/2;return V2=new _c,t}};function ZG(){ic.point=XG}function XG(t,e){ic.point=aE,iE=My=t,sE=Cy=e}function aE(t,e){Ey.add(Cy*t-My*e),My=t,Cy=e}function jG(){aE(iE,sE)}const v8=ic;var Wf=1/0,ag=Wf,$d=-Wf,og=$d,KG={point:JG,lineStart:Ci,lineEnd:Ci,polygonStart:Ci,polygonEnd:Ci,result:function(){var t=[[Wf,ag],[$d,og]];return $d=og=-(ag=Wf=1/0),t}};function JG(t,e){t<Wf&&(Wf=t),t>$d&&($d=t),e<ag&&(ag=e),e>og&&(og=e)}const lg=KG;var Ay=0,Iy=0,ld=0,ug=0,cg=0,bf=0,Ry=0,Py=0,ud=0,oE,lE,tl,nl,yo={point:N0,lineStart:y8,lineEnd:b8,polygonStart:function(){yo.lineStart=tV,yo.lineEnd=nV},polygonEnd:function(){yo.point=N0,yo.lineStart=y8,yo.lineEnd=b8},result:function(){var t=ud?[Ry/ud,Py/ud]:bf?[ug/bf,cg/bf]:ld?[Ay/ld,Iy/ld]:[NaN,NaN];return Ay=Iy=ld=ug=cg=bf=Ry=Py=ud=0,t}};function N0(t,e){Ay+=t,Iy+=e,++ld}function y8(){yo.point=QG}function QG(t,e){yo.point=eV,N0(tl=t,nl=e)}function eV(t,e){var n=t-tl,r=e-nl,i=Ns(n*n+r*r);ug+=i*(tl+t)/2,cg+=i*(nl+e)/2,bf+=i,N0(tl=t,nl=e)}function b8(){yo.point=N0}function tV(){yo.point=rV}function nV(){uE(oE,lE)}function rV(t,e){yo.point=uE,N0(oE=tl=t,lE=nl=e)}function uE(t,e){var n=t-tl,r=e-nl,i=Ns(n*n+r*r);ug+=i*(tl+t)/2,cg+=i*(nl+e)/2,bf+=i,i=nl*t-tl*e,Ry+=i*(tl+t),Py+=i*(nl+e),ud+=i*3,N0(tl=t,nl=e)}const w8=yo;function cE(t){this._context=t}cE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,xa);break}}},result:Ci};var Ny=new _c,Y2,fE,hE,cd,fd,fg={point:Ci,lineStart:function(){fg.point=iV},lineEnd:function(){Y2&&dE(fE,hE),fg.point=Ci},polygonStart:function(){Y2=!0},polygonEnd:function(){Y2=null},result:function(){var t=+Ny;return Ny=new _c,t}};function iV(t,e){fg.point=dE,fE=cd=t,hE=fd=e}function dE(t,e){cd-=t,fd-=e,Ny.add(Ns(cd*cd+fd*fd)),cd=t,fd=e}const x8=fg;let S8,hg,T8,k8;class E8{constructor(e){this._append=e==null?pE:sV(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==T8||this._append!==hg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,T8=r,hg=this._append,k8=this._,this._=i}this._+=k8;break}}}result(){const e=this._;return this._="",e.length?e:null}}function pE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sV(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return pE;if(e!==S8){const n=10**e;S8=e,hg=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return hg}function $f(t,e){let n=3,r=4.5,i,s;function a(l){return l&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),rc(l,i(s))),s.result()}return a.area=function(l){return rc(l,i(v8)),v8.result()},a.measure=function(l){return rc(l,i(x8)),x8.result()},a.bounds=function(l){return rc(l,i(lg)),lg.result()},a.centroid=function(l){return rc(l,i(w8)),w8.result()},a.projection=function(l){return arguments.length?(i=l==null?(t=null,ky):(t=l).stream,a):t},a.context=function(l){return arguments.length?(s=l==null?(e=null,new E8(n)):new cE(e=l),typeof r!="function"&&s.pointRadius(r),a):e},a.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);n=u}return e===null&&(s=new E8(n)),a},a.projection(t).digits(n).context(e)}function Gd(t){return{stream:b_(t)}}function b_(t){return function(e){var n=new Ly;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ly(){}Ly.prototype={constructor:Ly,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function vb(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),rc(n,t.stream(lg)),e(lg.result()),r!=null&&t.clipExtent(r),t}function yb(t,e,n){return vb(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(s-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([l,u])},n)}function mE(t,e,n){return yb(t,[[0,0],e],n)}function gE(t,e,n){return vb(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];t.scale(150*s).translate([a,l])},n)}function _E(t,e,n){return vb(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,l])},n)}var M8=16,aV=Yt(30*Gn);function C8(t,e){return+e?lV(t,e):oV(t)}function oV(t){return b_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function lV(t,e){function n(r,i,s,a,l,u,f,p,m,g,v,b,k,R){var N=f-r,x=p-i,T=N*N+x*x;if(T>4*e&&k--){var M=a+g,I=l+v,P=u+b,O=Ns(M*M+I*I+P*P),z=Xa(P/=O),$=En(En(P)-1)<Et||En(s-m)<Et?(s+m)/2:ml(I,M),ee=t($,z),G=ee[0],J=ee[1],ie=G-r,se=J-i,te=x*ie-N*se;(te*te/T>e||En((N*ie+x*se)/T-.5)>.3||a*g+l*v+u*b<aV)&&(n(r,i,s,a,l,u,G,J,$,M/=O,I/=O,P,k,R),R.point(G,J),n(G,J,$,M,I,P,f,p,m,g,v,b,k,R))}}return function(r){var i,s,a,l,u,f,p,m,g,v,b,k,R={point:N,lineStart:x,lineEnd:M,polygonStart:function(){r.polygonStart(),R.lineStart=I},polygonEnd:function(){r.polygonEnd(),R.lineStart=x}};function N(z,$){z=t(z,$),r.point(z[0],z[1])}function x(){m=NaN,R.point=T,r.lineStart()}function T(z,$){var ee=qf([z,$]),G=t(z,$);n(m,g,p,v,b,k,m=G[0],g=G[1],p=z,v=ee[0],b=ee[1],k=ee[2],M8,r),r.point(m,g)}function M(){R.point=N,r.lineEnd()}function I(){x(),R.point=P,R.lineEnd=O}function P(z,$){T(i=z,$),s=m,a=g,l=v,u=b,f=k,R.point=T}function O(){n(m,g,p,v,b,k,s,a,i,l,u,f,M8,r),R.lineEnd=M,M()}return R}}var uV=b_({point:function(t,e){this.stream.point(t*Gn,e*Gn)}});function cV(t){return b_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function fV(t,e,n,r,i){function s(a,l){return a*=r,l*=i,[e+t*a,n-t*l]}return s.invert=function(a,l){return[(a-e)/t*r,(n-l)/t*i]},s}function A8(t,e,n,r,i,s){if(!s)return fV(t,e,n,r,i);var a=Yt(s),l=zt(s),u=a*t,f=l*t,p=a/t,m=l/t,g=(l*n-a*e)/t,v=(l*e+a*n)/t;function b(k,R){return k*=r,R*=i,[u*k-f*R+e,n-f*k-u*R]}return b.invert=function(k,R){return[r*(p*k-m*R+g),i*(v-m*k-p*R)]},b}function Rc(t){return vE(function(){return t})()}function vE(t){var e,n=150,r=480,i=250,s=0,a=0,l=0,u=0,f=0,p,m=0,g=1,v=1,b=null,k=c8,R=null,N,x,T,M=ky,I=.5,P,O,z,$,ee;function G(te){return z(te[0]*Gn,te[1]*Gn)}function J(te){return te=z.invert(te[0],te[1]),te&&[te[0]*Ss,te[1]*Ss]}G.stream=function(te){return $&&ee===te?$:$=uV(cV(p)(k(P(M(ee=te)))))},G.preclip=function(te){return arguments.length?(k=te,b=void 0,se()):k},G.postclip=function(te){return arguments.length?(M=te,R=N=x=T=null,se()):M},G.clipAngle=function(te){return arguments.length?(k=+te?zG(b=te*Gn):(b=null,c8),se()):b*Ss},G.clipExtent=function(te){return arguments.length?(M=te==null?(R=N=x=T=null,ky):tE(R=+te[0][0],N=+te[0][1],x=+te[1][0],T=+te[1][1]),se()):R==null?null:[[R,N],[x,T]]},G.scale=function(te){return arguments.length?(n=+te,ie()):n},G.translate=function(te){return arguments.length?(r=+te[0],i=+te[1],ie()):[r,i]},G.center=function(te){return arguments.length?(s=te[0]%360*Gn,a=te[1]%360*Gn,ie()):[s*Ss,a*Ss]},G.rotate=function(te){return arguments.length?(l=te[0]%360*Gn,u=te[1]%360*Gn,f=te.length>2?te[2]%360*Gn:0,ie()):[l*Ss,u*Ss,f*Ss]},G.angle=function(te){return arguments.length?(m=te%360*Gn,ie()):m*Ss},G.reflectX=function(te){return arguments.length?(g=te?-1:1,ie()):g<0},G.reflectY=function(te){return arguments.length?(v=te?-1:1,ie()):v<0},G.precision=function(te){return arguments.length?(P=C8(O,I=te*te),se()):Ns(I)},G.fitExtent=function(te,ae){return yb(G,te,ae)},G.fitSize=function(te,ae){return mE(G,te,ae)},G.fitWidth=function(te,ae){return gE(G,te,ae)},G.fitHeight=function(te,ae){return _E(G,te,ae)};function ie(){var te=A8(n,0,0,g,v,m).apply(null,e(s,a)),ae=A8(n,r-te[0],i-te[1],g,v,m);return p=jk(l,u,f),O=yy(e,ae),z=yy(p,O),P=C8(O,I),se()}function se(){return $=ee=null,G}return function(){return e=t.apply(this,arguments),G.invert=e.invert&&J,ie()}}function bb(t){var e=0,n=an/3,r=vE(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*Gn,n=s[1]*Gn):[e*Ss,n*Ss]},i}function hV(t){var e=Yt(t);function n(r,i){return[r*e,zt(i)/e]}return n.invert=function(r,i){return[r/e,Xa(i*e)]},n}function dV(t,e){var n=zt(t),r=(n+zt(e))/2;if(En(r)<Et)return hV(t);var i=1+n*(2*r-n),s=Ns(i)/r;function a(l,u){var f=Ns(i-2*r*zt(u))/r;return[f*zt(l*=r),s-f*Yt(l)]}return a.invert=function(l,u){var f=s-u,p=ml(l,En(f))*Ha(f);return f*r<0&&(p-=an*Ha(l)*Ha(f)),[p/r,Xa((i-(l*l+f*f)*r*r)/(2*r))]},a}function dg(){return bb(dV).scale(155.424).center([0,33.6442])}function yE(){return dg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pV(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function mV(){var t,e,n=yE(),r,i=dg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=dg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,u,f={point:function(g,v){u=[g,v]}};function p(g){var v=g[0],b=g[1];return u=null,r.point(v,b),u||(s.point(v,b),u)||(l.point(v,b),u)}p.invert=function(g){var v=n.scale(),b=n.translate(),k=(g[0]-b[0])/v,R=(g[1]-b[1])/v;return(R>=.12&&R<.234&&k>=-.425&&k<-.214?i:R>=.166&&R<.234&&k>=-.214&&k<-.115?a:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=pV([n.stream(e=g),i.stream(g),a.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),a.precision(g),m()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),a.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var v=n.scale(),b=+g[0],k=+g[1];return r=n.translate(g).clipExtent([[b-.455*v,k-.238*v],[b+.455*v,k+.238*v]]).stream(f),s=i.translate([b-.307*v,k+.201*v]).clipExtent([[b-.425*v+Et,k+.12*v+Et],[b-.214*v-Et,k+.234*v-Et]]).stream(f),l=a.translate([b-.205*v,k+.212*v]).clipExtent([[b-.214*v+Et,k+.166*v+Et],[b-.115*v-Et,k+.234*v-Et]]).stream(f),m()},p.fitExtent=function(g,v){return yb(p,g,v)},p.fitSize=function(g,v){return mE(p,g,v)},p.fitWidth=function(g,v){return gE(p,g,v)},p.fitHeight=function(g,v){return _E(p,g,v)};function m(){return t=e=null,p}return p.scale(1070)}function bE(t){return function(e,n){var r=Yt(e),i=Yt(n),s=t(r*i);return s===1/0?[2,0]:[s*i*zt(e),s*zt(n)]}}function Cp(t){return function(e,n){var r=Ns(e*e+n*n),i=t(r),s=zt(i),a=Yt(i);return[ml(e*s,r*a),Xa(r&&n*s/r)]}}var wE=bE(function(t){return Ns(2/(1+t))});wE.invert=Cp(function(t){return 2*Xa(t/2)});function gV(){return Rc(wE).scale(124.75).clipAngle(180-.001)}var xE=bE(function(t){return(t=Xk(t))&&t/zt(t)});xE.invert=Cp(function(t){return t});function _V(){return Rc(xE).scale(79.4188).clipAngle(180-.001)}function w_(t,e){return[t,ng(_b((Br+e)/2))]}w_.invert=function(t,e){return[t,2*hh(Zk(e))-Br]};function SE(){return TE(w_).scale(961/xa)}function TE(t){var e=Rc(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,a=null,l,u,f;e.scale=function(m){return arguments.length?(r(m),p()):r()},e.translate=function(m){return arguments.length?(i(m),p()):i()},e.center=function(m){return arguments.length?(n(m),p()):n()},e.clipExtent=function(m){return arguments.length?(m==null?a=l=u=f=null:(a=+m[0][0],l=+m[0][1],u=+m[1][0],f=+m[1][1]),p()):a==null?null:[[a,l],[u,f]]};function p(){var m=an*r(),g=e(RG(e.rotate()).invert([0,0]));return s(a==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===w_?[[Math.max(g[0]-m,a),l],[Math.min(g[0]+m,u),f]]:[[a,Math.max(g[1]-m,l)],[u,Math.min(g[1]+m,f)]])}return p()}function $m(t){return _b((Br+t)/2)}function vV(t,e){var n=Yt(t),r=t===e?zt(t):ng(n/Yt(e))/ng($m(e)/$m(t)),i=n*W2($m(t),r)/r;if(!r)return w_;function s(a,l){i>0?l<-Br+Et&&(l=-Br+Et):l>Br-Et&&(l=Br-Et);var u=i/W2($m(l),r);return[u*zt(r*a),i-u*Yt(r*a)]}return s.invert=function(a,l){var u=i-l,f=Ha(r)*Ns(a*a+u*u),p=ml(a,En(u))*Ha(u);return u*r<0&&(p-=an*Ha(a)*Ha(u)),[p/r,2*hh(W2(i/f,1/r))-Br]},s}function yV(){return bb(vV).scale(109.5).parallels([30,30])}function pg(t,e){return[t,e]}pg.invert=pg;function bV(){return Rc(pg).scale(152.63)}function wV(t,e){var n=Yt(t),r=t===e?zt(t):(n-Yt(e))/(e-t),i=n/r+t;if(En(r)<Et)return pg;function s(a,l){var u=i-l,f=r*a;return[u*zt(f),i-u*Yt(f)]}return s.invert=function(a,l){var u=i-l,f=ml(a,En(u))*Ha(u);return u*r<0&&(f-=an*Ha(a)*Ha(u)),[f/r,i-Ha(r)*Ns(a*a+u*u)]},s}function xV(){return bb(wV).scale(131.154).center([0,13.9389])}var vd=1.340264,yd=-.081106,bd=893e-6,wd=.003796,mg=Ns(3)/2,SV=12;function kE(t,e){var n=Xa(mg*zt(e)),r=n*n,i=r*r*r;return[t*Yt(n)/(mg*(vd+3*yd*r+i*(7*bd+9*wd*r))),n*(vd+yd*r+i*(bd+wd*r))]}kE.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,a,l,u;s<SV&&(l=n*(vd+yd*r+i*(bd+wd*r))-e,u=vd+3*yd*r+i*(7*bd+9*wd*r),n-=a=l/u,r=n*n,i=r*r*r,!(En(a)<gb));++s);return[mg*t*(vd+3*yd*r+i*(7*bd+9*wd*r))/Yt(n),Xa(zt(n)/mg)]};function TV(){return Rc(kE).scale(177.158)}function EE(t,e){var n=Yt(e),r=Yt(t)*n;return[n*zt(t)/r,zt(e)/r]}EE.invert=Cp(hh);function kV(){return Rc(EE).scale(144.049).clipAngle(60)}function ME(t,e){return[Yt(e)*zt(t),zt(e)]}ME.invert=Cp(Xa);function EV(){return Rc(ME).scale(249.5).clipAngle(90+Et)}function CE(t,e){var n=Yt(e),r=1+Yt(t)*n;return[n*zt(t)/r,zt(e)/r]}CE.invert=Cp(function(t){return 2*hh(t)});function MV(){return Rc(CE).scale(250).clipAngle(142)}function AE(t,e){return[ng(_b((Br+e)/2)),-t]}AE.invert=function(t,e){return[-e,2*hh(Zk(t))-Br]};function CV(){var t=TE(AE),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function vl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ap(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Oy=Symbol("implicit");function x_(){var t=new A0,e=[],n=[],r=Oy;function i(s){let a=t.get(s);if(a===void 0){if(r!==Oy)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new A0;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return x_(e,n).unknown(r)},vl.apply(i,arguments),i}function Ip(){var t=x_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,f=0,p=.5;delete t.unknown;function m(){var g=e().length,v=i<r,b=v?i:r,k=v?r:i;s=(k-b)/Math.max(1,g-u+f*2),l&&(s=Math.floor(s)),b+=(k-b-s*(g-u))*p,a=s*(1-u),l&&(b=Math.round(b),a=Math.round(a));var R=Es(g).map(function(N){return b+s*N});return n(v?R.reverse():R)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return Ip(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(p)},vl.apply(m(),arguments)}function IE(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return IE(e())},t}function AV(){return IE(Ip.apply(null,arguments).paddingInner(1))}function IV(t){return function(){return t}}function Dy(t){return+t}var I8=[0,1];function ra(t){return t}function By(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IV(isNaN(e)?NaN:.5)}function RV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function PV(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=By(i,r),s=n(a,s)):(r=By(r,i),s=n(s,a)),function(l){return s(r(l))}}function NV(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=By(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=d_(t,l,1,r)-1;return s[u](i[u](l))}}function Rp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S_(){var t=I8,e=I8,n=yc,r,i,s,a=ra,l,u,f;function p(){var g=Math.min(t.length,e.length);return a!==ra&&(a=RV(t[0],t[g-1])),l=g>2?NV:PV,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=l(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((f||(f=l(e,t.map(r),ss)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Dy),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Mp,p()},m.clamp=function(g){return arguments.length?(a=g?!0:ra,p()):a!==ra},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return r=g,i=v,p()}}function RE(){return S_()(ra,ra)}function LV(t,e,n,r){var i=ny(t,e,n),s;switch(r=Wd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=AG(i,a))&&(r.precision=s),Yk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=IG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=CG(i))&&(r.precision=s-(r.type==="%")*2);break}}return kr(r)}function dh(t){var e=t.domain;return t.ticks=function(n){var r=e();return Bd(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return LV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,f,p=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);p-- >0;){if(f=Of(a,l,n),f===u)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function T_(){var t=RE();return t.copy=function(){return Rp(t,T_())},vl.apply(t,arguments),dh(t)}function PE(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Dy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return PE(t).unknown(e)},t=arguments.length?Array.from(t,Dy):[0,1],dh(n)}function NE(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function R8(t){return Math.log(t)}function P8(t){return Math.exp(t)}function OV(t){return-Math.log(-t)}function DV(t){return-Math.exp(-t)}function BV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zV(t){return t===10?BV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function FV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function N8(t){return(e,n)=>-t(-e,n)}function LE(t){const e=t(R8,P8),n=e.domain;let r=10,i,s;function a(){return i=FV(r),s=zV(r),n()[0]<0?(i=N8(i),s=N8(s),t(OV,DV)):t(R8,P8),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let f=u[0],p=u[u.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),v=i(p),b,k;const R=l==null?10:+l;let N=[];if(!(r%1)&&v-g<R){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(b=1;b<r;++b)if(k=g<0?b/s(-g):b*s(g),!(k<f)){if(k>p)break;N.push(k)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(k=g>0?b/s(-g):b*s(g),!(k<f)){if(k>p)break;N.push(k)}N.length*2<R&&(N=Bd(f,p,R))}else N=Bd(g,v,Math.min(v-g,R)).map(s);return m?N.reverse():N},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Wd(u)).precision==null&&(u.trim=!0),u=kr(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?u(p):""}},e.nice=()=>n(NE(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function OE(){const t=LE(S_()).domain([1,10]);return t.copy=()=>Rp(t,OE()).base(t.base()),vl.apply(t,arguments),t}function L8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function O8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function DE(t){var e=1,n=t(L8(e),O8(e));return n.constant=function(r){return arguments.length?t(L8(e=+r),O8(e)):e},dh(n)}function BE(){var t=DE(S_());return t.copy=function(){return Rp(t,BE()).constant(t.constant())},vl.apply(t,arguments)}function D8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qV(t){return t<0?-t*t:t*t}function zE(t){var e=t(ra,ra),n=1;function r(){return n===1?t(ra,ra):n===.5?t(UV,qV):t(D8(n),D8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},dh(e)}function FE(){var t=zE(S_());return t.copy=function(){return Rp(t,FE()).exponent(t.exponent())},vl.apply(t,arguments),t}function UE(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=mq(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[d_(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(aa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return UE().domain(t).range(e).unknown(r)},vl.apply(s,arguments)}function qE(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[d_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qE().domain(t).range(e).unknown(n)},vl.apply(i,arguments)}const Z2=new Date,X2=new Date;function pi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let f;do u.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return u},i.filter=s=>pi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Z2.setTime(+s),X2.setTime(+a),t(Z2),t(X2),Math.floor(n(Z2,X2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const gg=pi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gg);gg.range;const su=1e3,Wa=su*60,au=Wa*60,vu=au*24,wb=vu*7,B8=vu*30,j2=vu*365,ou=pi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*su)},(t,e)=>(e-t)/su,t=>t.getUTCSeconds());ou.range;const k_=pi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*su)},(t,e)=>{t.setTime(+t+e*Wa)},(t,e)=>(e-t)/Wa,t=>t.getMinutes());k_.range;const E_=pi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wa)},(t,e)=>(e-t)/Wa,t=>t.getUTCMinutes());E_.range;const M_=pi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*su-t.getMinutes()*Wa)},(t,e)=>{t.setTime(+t+e*au)},(t,e)=>(e-t)/au,t=>t.getHours());M_.range;const C_=pi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*au)},(t,e)=>(e-t)/au,t=>t.getUTCHours());C_.range;const ph=pi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/vu,t=>t.getDate()-1);ph.range;const A_=pi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vu,t=>t.getUTCDate()-1);A_.range;const xb=pi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vu,t=>Math.floor(t/vu));xb.range;function V0(t){return pi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/wb)}const Gf=V0(0),Vd=V0(1),HE=V0(2),WE=V0(3),L0=V0(4),$E=V0(5),GE=V0(6);Gf.range;Vd.range;HE.range;WE.range;L0.range;$E.range;GE.range;function Y0(t){return pi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wb)}const Vf=Y0(0),Yd=Y0(1),VE=Y0(2),YE=Y0(3),O0=Y0(4),ZE=Y0(5),XE=Y0(6);Vf.range;Yd.range;VE.range;YE.range;O0.range;ZE.range;XE.range;const I_=pi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());I_.range;const R_=pi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());R_.range;const Eo=pi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Eo.range;const Mo=pi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mo.range;function jE(t,e,n,r,i,s){const a=[[ou,1,su],[ou,5,5*su],[ou,15,15*su],[ou,30,30*su],[s,1,Wa],[s,5,5*Wa],[s,15,15*Wa],[s,30,30*Wa],[i,1,au],[i,3,3*au],[i,6,6*au],[i,12,12*au],[r,1,vu],[r,2,2*vu],[n,1,wb],[e,1,B8],[e,3,3*B8],[t,1,j2]];function l(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:u(f,p,m),b=v?v.range(f,+p+1):[];return g?b.reverse():b}function u(f,p,m){const g=Math.abs(p-f)/m,v=Dd(([,,R])=>R).right(a,g);if(v===a.length)return t.every(ny(f/j2,p/j2,m));if(v===0)return gg.every(Math.max(ny(f,p,m),1));const[b,k]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(k)}return[l,u]}const[HV,WV]=jE(Mo,R_,Vf,xb,C_,E_),[$V,GV]=jE(Eo,I_,Gf,ph,M_,k_);function K2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function VV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,f=Vh(i),p=Yh(i),m=Vh(s),g=Yh(s),v=Vh(a),b=Yh(a),k=Vh(l),R=Yh(l),N=Vh(u),x=Yh(u),T={a:V,A:Y,b:he,B:re,c:null,d:W8,e:W8,f:mY,g:kY,G:MY,H:hY,I:dY,j:pY,L:KE,m:gY,M:_Y,p:ye,q:me,Q:V8,s:Y8,S:vY,u:yY,U:bY,V:wY,w:xY,W:SY,x:null,X:null,y:TY,Y:EY,Z:CY,"%":G8},M={a:Ne,A:xe,b:Ce,B:Me,c:null,d:$8,e:$8,f:PY,g:HY,G:$Y,H:AY,I:IY,j:RY,L:QE,m:NY,M:LY,p:Le,q:Fe,Q:V8,s:Y8,S:OY,u:DY,U:BY,V:zY,w:FY,W:UY,x:null,X:null,y:qY,Y:WY,Z:GY,"%":G8},I={a:ee,A:G,b:J,B:ie,c:se,d:q8,e:q8,f:lY,g:U8,G:F8,H:H8,I:H8,j:iY,L:oY,m:rY,M:sY,p:$,q:nY,Q:cY,s:fY,S:aY,u:KV,U:JV,V:QV,w:jV,W:eY,x:te,X:ae,y:U8,Y:F8,Z:tY,"%":uY};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),M.x=P(n,M),M.X=P(r,M),M.c=P(e,M);function P(pe,Ie){return function(Ae){var ve=[],Ue=-1,Ge=0,nt=pe.length,Re,ht,vt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ue<nt;)pe.charCodeAt(Ue)===37&&(ve.push(pe.slice(Ge,Ue)),(ht=z8[Re=pe.charAt(++Ue)])!=null?Re=pe.charAt(++Ue):ht=Re==="e"?" ":"0",(vt=Ie[Re])&&(Re=vt(Ae,ht)),ve.push(Re),Ge=Ue+1);return ve.push(pe.slice(Ge,Ue)),ve.join("")}}function O(pe,Ie){return function(Ae){var ve=Gh(1900,void 0,1),Ue=z(ve,pe,Ae+="",0),Ge,nt;if(Ue!=Ae.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ie&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ge=J2(Gh(ve.y,0,1)),nt=Ge.getUTCDay(),Ge=nt>4||nt===0?Yd.ceil(Ge):Yd(Ge),Ge=A_.offset(Ge,(ve.V-1)*7),ve.y=Ge.getUTCFullYear(),ve.m=Ge.getUTCMonth(),ve.d=Ge.getUTCDate()+(ve.w+6)%7):(Ge=K2(Gh(ve.y,0,1)),nt=Ge.getDay(),Ge=nt>4||nt===0?Vd.ceil(Ge):Vd(Ge),Ge=ph.offset(Ge,(ve.V-1)*7),ve.y=Ge.getFullYear(),ve.m=Ge.getMonth(),ve.d=Ge.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),nt="Z"in ve?J2(Gh(ve.y,0,1)).getUTCDay():K2(Gh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(nt+5)%7:ve.w+ve.U*7-(nt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,J2(ve)):K2(ve)}}function z(pe,Ie,Ae,ve){for(var Ue=0,Ge=Ie.length,nt=Ae.length,Re,ht;Ue<Ge;){if(ve>=nt)return-1;if(Re=Ie.charCodeAt(Ue++),Re===37){if(Re=Ie.charAt(Ue++),ht=I[Re in z8?Ie.charAt(Ue++):Re],!ht||(ve=ht(pe,Ae,ve))<0)return-1}else if(Re!=Ae.charCodeAt(ve++))return-1}return ve}function $(pe,Ie,Ae){var ve=f.exec(Ie.slice(Ae));return ve?(pe.p=p.get(ve[0].toLowerCase()),Ae+ve[0].length):-1}function ee(pe,Ie,Ae){var ve=v.exec(Ie.slice(Ae));return ve?(pe.w=b.get(ve[0].toLowerCase()),Ae+ve[0].length):-1}function G(pe,Ie,Ae){var ve=m.exec(Ie.slice(Ae));return ve?(pe.w=g.get(ve[0].toLowerCase()),Ae+ve[0].length):-1}function J(pe,Ie,Ae){var ve=N.exec(Ie.slice(Ae));return ve?(pe.m=x.get(ve[0].toLowerCase()),Ae+ve[0].length):-1}function ie(pe,Ie,Ae){var ve=k.exec(Ie.slice(Ae));return ve?(pe.m=R.get(ve[0].toLowerCase()),Ae+ve[0].length):-1}function se(pe,Ie,Ae){return z(pe,e,Ie,Ae)}function te(pe,Ie,Ae){return z(pe,n,Ie,Ae)}function ae(pe,Ie,Ae){return z(pe,r,Ie,Ae)}function V(pe){return a[pe.getDay()]}function Y(pe){return s[pe.getDay()]}function he(pe){return u[pe.getMonth()]}function re(pe){return l[pe.getMonth()]}function ye(pe){return i[+(pe.getHours()>=12)]}function me(pe){return 1+~~(pe.getMonth()/3)}function Ne(pe){return a[pe.getUTCDay()]}function xe(pe){return s[pe.getUTCDay()]}function Ce(pe){return u[pe.getUTCMonth()]}function Me(pe){return l[pe.getUTCMonth()]}function Le(pe){return i[+(pe.getUTCHours()>=12)]}function Fe(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ie=P(pe+="",T);return Ie.toString=function(){return pe},Ie},parse:function(pe){var Ie=O(pe+="",!1);return Ie.toString=function(){return pe},Ie},utcFormat:function(pe){var Ie=P(pe+="",M);return Ie.toString=function(){return pe},Ie},utcParse:function(pe){var Ie=O(pe+="",!0);return Ie.toString=function(){return pe},Ie}}}var z8={"-":"",_:" ",0:"0"},Pi=/^\s*\d+/,YV=/^%/,ZV=/[\\^$*+?|[\]().{}]/g;function Mn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function XV(t){return t.replace(ZV,"\\$&")}function Vh(t){return new RegExp("^(?:"+t.map(XV).join("|")+")","i")}function Yh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function jV(t,e,n){var r=Pi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function KV(t,e,n){var r=Pi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function JV(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function QV(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eY(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function F8(t,e,n){var r=Pi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function U8(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nY(t,e,n){var r=Pi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rY(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function q8(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iY(t,e,n){var r=Pi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function H8(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sY(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aY(t,e,n){var r=Pi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oY(t,e,n){var r=Pi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lY(t,e,n){var r=Pi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uY(t,e,n){var r=YV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cY(t,e,n){var r=Pi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fY(t,e,n){var r=Pi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function W8(t,e){return Mn(t.getDate(),e,2)}function hY(t,e){return Mn(t.getHours(),e,2)}function dY(t,e){return Mn(t.getHours()%12||12,e,2)}function pY(t,e){return Mn(1+ph.count(Eo(t),t),e,3)}function KE(t,e){return Mn(t.getMilliseconds(),e,3)}function mY(t,e){return KE(t,e)+"000"}function gY(t,e){return Mn(t.getMonth()+1,e,2)}function _Y(t,e){return Mn(t.getMinutes(),e,2)}function vY(t,e){return Mn(t.getSeconds(),e,2)}function yY(t){var e=t.getDay();return e===0?7:e}function bY(t,e){return Mn(Gf.count(Eo(t)-1,t),e,2)}function JE(t){var e=t.getDay();return e>=4||e===0?L0(t):L0.ceil(t)}function wY(t,e){return t=JE(t),Mn(L0.count(Eo(t),t)+(Eo(t).getDay()===4),e,2)}function xY(t){return t.getDay()}function SY(t,e){return Mn(Vd.count(Eo(t)-1,t),e,2)}function TY(t,e){return Mn(t.getFullYear()%100,e,2)}function kY(t,e){return t=JE(t),Mn(t.getFullYear()%100,e,2)}function EY(t,e){return Mn(t.getFullYear()%1e4,e,4)}function MY(t,e){var n=t.getDay();return t=n>=4||n===0?L0(t):L0.ceil(t),Mn(t.getFullYear()%1e4,e,4)}function CY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mn(e/60|0,"0",2)+Mn(e%60,"0",2)}function $8(t,e){return Mn(t.getUTCDate(),e,2)}function AY(t,e){return Mn(t.getUTCHours(),e,2)}function IY(t,e){return Mn(t.getUTCHours()%12||12,e,2)}function RY(t,e){return Mn(1+A_.count(Mo(t),t),e,3)}function QE(t,e){return Mn(t.getUTCMilliseconds(),e,3)}function PY(t,e){return QE(t,e)+"000"}function NY(t,e){return Mn(t.getUTCMonth()+1,e,2)}function LY(t,e){return Mn(t.getUTCMinutes(),e,2)}function OY(t,e){return Mn(t.getUTCSeconds(),e,2)}function DY(t){var e=t.getUTCDay();return e===0?7:e}function BY(t,e){return Mn(Vf.count(Mo(t)-1,t),e,2)}function eM(t){var e=t.getUTCDay();return e>=4||e===0?O0(t):O0.ceil(t)}function zY(t,e){return t=eM(t),Mn(O0.count(Mo(t),t)+(Mo(t).getUTCDay()===4),e,2)}function FY(t){return t.getUTCDay()}function UY(t,e){return Mn(Yd.count(Mo(t)-1,t),e,2)}function qY(t,e){return Mn(t.getUTCFullYear()%100,e,2)}function HY(t,e){return t=eM(t),Mn(t.getUTCFullYear()%100,e,2)}function WY(t,e){return Mn(t.getUTCFullYear()%1e4,e,4)}function $Y(t,e){var n=t.getUTCDay();return t=n>=4||n===0?O0(t):O0.ceil(t),Mn(t.getUTCFullYear()%1e4,e,4)}function GY(){return"+0000"}function G8(){return"%"}function V8(t){return+t}function Y8(t){return Math.floor(+t/1e3)}var uf,P_,Zd;VY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VY(t){return uf=VV(t),P_=uf.format,uf.parse,Zd=uf.utcFormat,uf.utcParse,uf}function YY(t){return new Date(t)}function ZY(t){return t instanceof Date?+t:+new Date(+t)}function Sb(t,e,n,r,i,s,a,l,u,f){var p=RE(),m=p.invert,g=p.domain,v=f(".%L"),b=f(":%S"),k=f("%I:%M"),R=f("%I %p"),N=f("%a %d"),x=f("%b %d"),T=f("%B"),M=f("%Y");function I(P){return(u(P)<P?v:l(P)<P?b:a(P)<P?k:s(P)<P?R:r(P)<P?i(P)<P?N:x:n(P)<P?T:M)(P)}return p.invert=function(P){return new Date(m(P))},p.domain=function(P){return arguments.length?g(Array.from(P,ZY)):g().map(YY)},p.ticks=function(P){var O=g();return t(O[0],O[O.length-1],P??10)},p.tickFormat=function(P,O){return O==null?I:f(O)},p.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?g(NE(O,P)):p},p.copy=function(){return Rp(p,Sb(t,e,n,r,i,s,a,l,u,f))},p}function XY(){return vl.apply(Sb($V,GV,Eo,I_,Gf,ph,M_,k_,ou,P_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jY(){return vl.apply(Sb(HV,WV,Mo,R_,Vf,A_,C_,E_,ou,Zd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function KY(){var t=0,e=1,n,r,i,s,a=ra,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function p(m){return function(g){var v,b;return arguments.length?([v,b]=g,a=m(v,b),f):[a(0),a(1)]}}return f.range=p(yc),f.rangeRound=p(Mp),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Pp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hd(){var t=dh(KY()(ra));return t.copy=function(){return Pp(t,hd())},Ap.apply(t,arguments)}function N_(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,f=ra,p,m=!1,g;function v(k){return isNaN(k=+k)?g:(k=.5+((k=+p(k))-s)*(r*k<r*s?l:u),f(m?Math.max(0,Math.min(1,k)):k))}v.domain=function(k){return arguments.length?([t,e,n]=k,i=p(t=+t),s=p(e=+e),a=p(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(k){return arguments.length?(m=!!k,v):m},v.interpolator=function(k){return arguments.length?(f=k,v):f};function b(k){return function(R){var N,x,T;return arguments.length?([N,x,T]=R,f=__(k,[N,x,T]),v):[f(0),f(.5),f(1)]}}return v.range=b(yc),v.rangeRound=b(Mp),v.unknown=function(k){return arguments.length?(g=k,v):g},function(k){return p=k,i=k(t),s=k(e),a=k(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function tM(){var t=dh(N_()(ra));return t.copy=function(){return Pp(t,tM())},Ap.apply(t,arguments)}function nM(){var t=LE(N_()).domain([.1,1,10]);return t.copy=function(){return Pp(t,nM()).base(t.base())},Ap.apply(t,arguments)}function rM(){var t=DE(N_());return t.copy=function(){return Pp(t,rM()).constant(t.constant())},Ap.apply(t,arguments)}function iM(){var t=zE(N_());return t.copy=function(){return Pp(t,iM()).exponent(t.exponent())},Ap.apply(t,arguments)}function jt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const JY=jt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),QY=jt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),eZ=jt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),tZ=jt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),nZ=jt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),rZ=jt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iZ=jt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sZ=jt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),aZ=jt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),oZ=jt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Jn=t=>PW(t[t.length-1]);var sM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(jt);const aM=Jn(sM);var oM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(jt);const lM=Jn(oM);var uM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(jt);const cM=Jn(uM);var fM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(jt);const hM=Jn(fM);var zy=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(jt);const Yf=Jn(zy);var dM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(jt);const pM=Jn(dM);var Fy=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(jt);const _g=Jn(Fy);var mM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(jt);const gM=Jn(mM);var _M=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(jt);const Tb=Jn(_M);var vM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(jt);const yM=Jn(vM);var bM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(jt);const wM=Jn(bM);var xM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(jt);const SM=Jn(xM);var TM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(jt);const kM=Jn(TM);var EM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(jt);const MM=Jn(EM);var CM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(jt);const AM=Jn(CM);var IM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(jt);const RM=Jn(IM);var PM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(jt);const NM=Jn(PM);var LM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(jt);const OM=Jn(LM);var DM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(jt);const BM=Jn(DM);var zM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(jt);const FM=Jn(zM);var UM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(jt);const qM=Jn(UM);var HM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(jt);const WM=Jn(HM);var $M=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(jt);const GM=Jn($M);var VM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(jt);const YM=Jn(VM);var ZM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(jt);const XM=Jn(ZM);var jM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(jt);const KM=Jn(jM);var JM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(jt);const QM=Jn(JM);function eC(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const tC=cb(pl(300,.5,0),pl(-240,.5,1));var nC=cb(pl(-100,.75,.35),pl(80,1.5,.8)),rC=cb(pl(260,.75,.35),pl(80,1.5,.8)),Gm=pl();function iC(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Gm.h=360*t-100,Gm.s=1.5-1.5*e,Gm.l=.8-.9*e,Gm+""}var Vm=vc(),lZ=Math.PI/3,uZ=Math.PI*2/3;function sC(t){var e;return t=(.5-t)*Math.PI,Vm.r=255*(e=Math.sin(t))*e,Vm.g=255*(e=Math.sin(t+lZ))*e,Vm.b=255*(e=Math.sin(t+uZ))*e,Vm+""}function vg(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function L_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const aC=L_(jt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var oC=L_(jt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),lC=L_(jt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),uC=L_(jt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function cf(t){return function(){return t}}const cC=Math.cos,kb=Math.min,yg=Math.sin,mi=Math.sqrt,Z8=1e-12,bg=Math.PI,O_=2*bg;function cZ(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Fk(e)}function fZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fC(t){this._context=t}fC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function D_(t){return new fC(t)}function hZ(t){return t[0]}function dZ(t){return t[1]}function pZ(t,e){var n=cf(!0),r=null,i=D_,s=null,a=cZ(l);t=typeof t=="function"?t:t===void 0?hZ:cf(t),e=typeof e=="function"?e:e===void 0?dZ:cf(e);function l(u){var f,p=(u=fZ(u)).length,m,g=!1,v;for(r==null&&(s=i(v=a())),f=0;f<=p;++f)!(f<p&&n(m=u[f],f,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,f,u),+e(m,f,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:cf(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:cf(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:cf(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}class hC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mZ(t){return new hC(t,!0)}function gZ(t){return new hC(t,!1)}const _Z=mi(3),dC={draw(t,e){const n=mi(e+kb(e/28,.75))*.59436,r=n/2,i=r*_Z;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Xd={draw(t,e){const n=mi(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,O_)}},pC={draw(t,e){const n=mi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mC=mi(1/3),vZ=mC*2,gC={draw(t,e){const n=mi(e/vZ),r=n*mC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_C={draw(t,e){const n=mi(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},vC={draw(t,e){const n=mi(e-kb(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},yC={draw(t,e){const n=mi(e),r=-n/2;t.rect(r,r,n,n)}},bC={draw(t,e){const n=mi(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},yZ=.8908130915292852,wC=yg(bg/10)/yg(7*bg/10),bZ=yg(O_/10)*wC,wZ=-cC(O_/10)*wC,xC={draw(t,e){const n=mi(e*yZ),r=bZ*n,i=wZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=O_*s/5,l=cC(a),u=yg(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},Q2=mi(3),SC={draw(t,e){const n=-mi(e/(Q2*3));t.moveTo(0,n*2),t.lineTo(-Q2*n,-n),t.lineTo(Q2*n,-n),t.closePath()}},xZ=mi(3),TC={draw(t,e){const n=mi(e)*.6824,r=n/2,i=n*xZ/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ba=-.5,za=mi(3)/2,Uy=1/mi(12),SZ=(Uy/2+1)*3,kC={draw(t,e){const n=mi(e/SZ),r=n/2,i=n*Uy,s=r,a=n*Uy+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(Ba*r-za*i,za*r+Ba*i),t.lineTo(Ba*s-za*a,za*s+Ba*a),t.lineTo(Ba*l-za*u,za*l+Ba*u),t.lineTo(Ba*r+za*i,Ba*i-za*r),t.lineTo(Ba*s+za*a,Ba*a-za*s),t.lineTo(Ba*l+za*u,Ba*u-za*l),t.closePath()}},EC={draw(t,e){const n=mi(e-kb(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},TZ=[Xd,pC,gC,yC,xC,SC,kC],kZ=[Xd,vC,EC,TC,dC,bC,_C];function bc(){}function wg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B_(t){this._context=t}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EZ(t){return new B_(t)}function MC(t){this._context=t}MC.prototype={areaStart:bc,areaEnd:bc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MZ(t){return new MC(t)}function CC(t){this._context=t}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CZ(t){return new CC(t)}function AC(t,e){this._basis=new B_(t),this._beta=e}AC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,l=-1,u;++l<=n;)u=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+u*s),this._beta*e[l]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const AZ=function t(e){function n(r){return e===1?new B_(r):new AC(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function xg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Eb(t,e){this._context=t,this._k=(1-e)/6}Eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:xg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const IZ=function t(e){function n(r){return new Eb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Mb(t,e){this._context=t,this._k=(1-e)/6}Mb.prototype={areaStart:bc,areaEnd:bc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const RZ=function t(e){function n(r){return new Mb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Cb(t,e){this._context=t,this._k=(1-e)/6}Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PZ=function t(e){function n(r){return new Cb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Ab(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>Z8){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Z8){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*f+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*f+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function IC(t,e){this._context=t,this._alpha=e}IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ab(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NZ=function t(e){function n(r){return e?new IC(r,e):new Eb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function RC(t,e){this._context=t,this._alpha=e}RC.prototype={areaStart:bc,areaEnd:bc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ab(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LZ=function t(e){function n(r){return e?new RC(r,e):new Mb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function PC(t,e){this._context=t,this._alpha=e}PC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ab(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const OZ=function t(e){function n(r){return e?new PC(r,e):new Cb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function NC(t){this._context=t}NC.prototype={areaStart:bc,areaEnd:bc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DZ(t){return new NC(t)}function X8(t){return t<0?-1:1}function j8(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(X8(s)+X8(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function K8(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function e4(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Sg(t){this._context=t}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e4(this,this._t0,K8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e4(this,K8(this,n=j8(this,t,e)),n);break;default:e4(this,this._t0,n=j8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LC(t){this._context=new OC(t)}(LC.prototype=Object.create(Sg.prototype)).point=function(t,e){Sg.prototype.point.call(this,e,t)};function OC(t){this._context=t}OC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function BZ(t){return new Sg(t)}function zZ(t){return new LC(t)}function DC(t){this._context=t}DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=J8(t),i=J8(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function J8(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function FZ(t){return new DC(t)}function z_(t,e){this._context=t,this._t=e}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UZ(t){return new z_(t,.5)}function qZ(t){return new z_(t,0)}function HZ(t){return new z_(t,1)}function dd(t,e,n){this.k=t,this.x=e,this.y=n}dd.prototype={constructor:dd,scale:function(t){return t===1?this:new dd(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new dd(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dd.prototype;function wc(t){return t!=null&&!Number.isNaN(t)}function gl(t,e){return+wc(e)-+wc(t)||aa(t,e)}function Tg(t,e){return+wc(e)-+wc(t)||Sp(t,e)}function Ib(t){return t!=null&&`${t}`!=""}function BC(t){return isFinite(t)?t:NaN}function Np(t){return t>0&&isFinite(t)?t:NaN}function F_(t){return t<0&&isFinite(t)?t:NaN}function zC(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${WZ(t.getUTCFullYear())}-${Ql(t.getUTCMonth()+1,2)}-${Ql(t.getUTCDate(),2)}${n||r||i||s?`T${Ql(n,2)}:${Ql(r,2)}${i||s?`:${Ql(i,2)}${s?`.${Ql(s,3)}`:""}`:""}Z`:""}`}function WZ(t){return t<0?`-${Ql(-t,6)}`:t>9999?`+${Ql(t,6)}`:Ql(t,4)}function Ql(t,e){return`${t}`.padStart(e,"0")}const $Z=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function FC(t,e){return $Z.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const I1=1e3,qy=I1*60,Hy=qy*60,jd=Hy*24,GZ=jd*7,Q8=jd*30,VZ=jd*365,Zh=[["millisecond",.5*I1],["second",I1],["second",30*I1],["minute",qy],["minute",30*qy],["hour",Hy],["hour",12*Hy],["day",jd],["day",2*jd],["week",GZ],["month",Q8],["month",3*Q8],["year",VZ]],YZ=new Map([["second",ou],["minute",k_],["hour",M_],["day",ph],["week",Gf],["month",I_],["year",Eo],["monday",Vd],["tuesday",HE],["wednesday",WE],["thursday",L0],["friday",$E],["saturday",GE],["sunday",Gf]]),ZZ=new Map([["second",ou],["minute",E_],["hour",C_],["day",xb],["week",Vf],["month",R_],["year",Mo],["monday",Yd],["tuesday",VE],["wednesday",YE],["thursday",O0],["friday",ZE],["saturday",XE],["sunday",Vf]]);function UC(t,e){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let s=e.get(n);if(!s)throw new Error(`unknown interval: ${t}`);if(!(r>1))return s;if(!s.every)throw new Error(`non-periodic interval: ${n}`);return s.every(r)}function XZ(t){return UC(t,YZ)}function jZ(t){return UC(t,ZZ)}function KZ(t){if(!t)return!1;const e=t.floor(new Date(Date.UTC(2e3,11,31)));return Mo(e)>=e}function JZ(t){if(!t)return!1;const e=t.floor(new Date(2e3,11,31));return Eo(e)>=e}function QZ(t,e,n,r){const i=t.type==="time"?P_:Zd,s=r==="left"||r==="right"?(a,l)=>`
${a}
${l}`:r==="top"?(a,l)=>`${l}
${a}`:(a,l)=>`${a}
${l}`;switch(eX(t,e,n)){case"millisecond":return l0(i(".%L"),i(":%M:%S"),s);case"second":return l0(i(":%S"),i("%-I:%M"),s);case"minute":return l0(i("%-I:%M"),i("%p"),s);case"hour":return l0(i("%-I %p"),i("%b %-d"),s);case"day":return l0(i("%-d"),i("%b"),s);case"week":return l0(i("%-d"),i("%b"),s);case"month":return l0(i("%b"),i("%Y"),s);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function eX(t,e,n){const r=Z1(vq(e,(u,f)=>Math.abs(f-u)||NaN));if(r>0)return Zh[Dd(([,u])=>u).right(Zh,r,1,Zh.length)-1][0];const[i,s]=Is(t.domain()),a=typeof n=="number"?n:10,l=Math.abs(s-i)/a;return Zh[Dd(([,u])=>Math.log(u)).center(Zh,Math.log(l))][0]}function l0(t,e,n){return(r,i,s)=>{const a=t(r,i),l=e(r,i),u=i-Xf(s);return i!==u&&s[u]!==void 0&&l===e(s[u],u)?a:n(a,l)}}const Kd=Object.getPrototypeOf(Uint8Array),tX=Object.prototype.toString;function Va(t,e,n){const r=typeof e;return r==="string"?e9(t,qC(e),n):r==="function"?e9(t,e,n):r==="number"||e instanceof Date||r==="boolean"?Ii(t,Lp(e),n):typeof(e==null?void 0:e.transform)=="function"?t9(e.transform(t),n):t9(e,n)}function e9(t,e,n){return Ii(t,(n==null?void 0:n.prototype)instanceof Kd?nX(e):e,n)}function t9(t,e){return e===void 0?Sa(t):t instanceof e?t:e.prototype instanceof Kd&&!(t instanceof Kd)?e.from(t,Rb):e.from(t)}function nX(t){return(e,n)=>Rb(t(e,n))}const R1=[null],qC=t=>e=>e[t],HC={transform:Pc},Ls={transform:t=>t},rX=()=>1,iX=()=>!0,ks=t=>t==null?t:`${t}`,ar=t=>t==null?t:+t,WC=t=>t?t[0]:void 0,sX=t=>t?t[1]:void 0,Lp=t=>()=>t;function aX(t){const e=+`${t}`.slice(1)/100;return(n,r)=>zd(n,e,r)}function kg(t){return t instanceof Kd?t:Ii(t,Rb,Float64Array)}function Rb(t){return t==null?NaN:Number(t)}function oX(t){return Ii(t,lX)}function lX(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?FC(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function D0(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:$_(t)?[void 0,t]:[t,void 0]}function os(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function U_(t,e,n){if(t!=null)return Cu(t,e,n)}function Cu(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Sa(t){return t==null||t instanceof Array||t instanceof Kd?t:Array.from(t)}function Ii(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function Wy(t,e=Array){return t instanceof e?t.slice():e.from(t)}function uX({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function $C({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function cX(t){return uX(t)||$C(t)||t.interval!==void 0}function mh(t){return(t==null?void 0:t.toString)===tX}function $y(t){return mh(t)&&(t.type!==void 0||t.domain!==void 0)}function q_(t){return mh(t)&&typeof t.transform!="function"}function Zf(t){return q_(t)&&t.value===void 0&&t.channel===void 0}function fX(t,e,n,r=Ls){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function H_(t,e){return t===void 0&&e===void 0?[WC,sX]:[t,e]}function GC({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=D0(e)),t===void 0&&([t]=D0(n)),t}function Pc(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function VC(t,e){return Ii(e,n=>t[n])}function hX(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function v0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gy(t){let e;return[{transform:()=>e,label:Op(t)},n=>e=n]}function dX(t){return t==null?[t]:Gy(t)}function Op(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function pX(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return yu(r)||yu(i)?Ii(r,(s,a)=>new Date((+r[a]+ +i[a])/2)):Ii(r,(s,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function mX(t,e){const n=YC(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Ii(t,n):t}function YC(t,e){const n=Pb(t,e);return n&&(r=>wc(r)?n.floor(r):r)}function Pb(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Es(Math.ceil(r*n),i*n).map(s=>s/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Es(Math.ceil(r/n),i/n).map(s=>s*n)}}if(typeof t=="string")return(e==="time"?XZ:jZ)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Dp(t,e){if(t=Pb(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function gX(t,e){if(t=Dp(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function W_(t){return t===void 0||q_(t)?t:{value:t}}function _X(t){return t==null?null:{transform:e=>Va(e,t,Float64Array),label:Op(t)}}function Nc(t){return t&&typeof t[Symbol.iterator]=="function"}function ZC(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function n9(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function yu(t){for(const e of t)if(e!=null)return e instanceof Date}function vX(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&FC(e)}function yX(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function bX(t){for(const e of t)if(e!=null)return typeof e=="number"}function t4(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}function $_(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),t==="none"||t==="currentcolor"||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||dl(t)!==null)}function wX(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function na(t){return t==null||Jd(t)}function Jd(t){return/^\s*none\s*$/i.test(t)}function xX(t){return/^\s*round\s*$/i.test(t)}function XC(t,e){return U_(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function G_(t="middle"){return XC(t,"frameAnchor")}function Xf(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Sp(e,n)}function SX(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const s=r[i];n===t?n={...n,[i]:s}:n[i]=s}return n}function TX(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function jC(t){return Nc(t)?TX(t):t}const il=Symbol("position"),Au=Symbol("color"),V_=Symbol("radius"),Y_=Symbol("length"),Z_=Symbol("opacity"),X_=Symbol("symbol"),kX=Symbol("projection"),Fr=new Map([["x",il],["y",il],["fx",il],["fy",il],["r",V_],["color",Au],["opacity",Z_],["symbol",X_],["length",Y_],["projection",kX]]),EX=Math.sqrt(3),MX=2/EX,CX={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*MX,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Nb=new Map([["asterisk",dC],["circle",Xd],["cross",pC],["diamond",gC],["diamond2",_C],["hexagon",CX],["plus",vC],["square",yC],["square2",bC],["star",xC],["times",EC],["triangle",SC],["triangle2",TC],["wye",kC]]);function Lb(t){return t&&typeof t.draw=="function"}function AX(t){return Lb(t)?!0:typeof t!="string"?!1:Nb.has(t.toLowerCase())}function Ob(t){if(t==null||Lb(t))return t;const e=Nb.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function IX(t){if(t==null||Lb(t))return[void 0,t];if(typeof t=="string"){const e=Nb.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function Db({filter:t,sort:e,reverse:n,transform:r,initializer:i,...s}={},a){if(r===void 0&&(t!=null&&(r=KC(t)),e!=null&&!Zf(e)&&(r=n4(r,Bb(e))),n&&(r=n4(r,JC))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(e===null||Zf(e))&&{sort:e},transform:n4(r,a)}}function jf({filter:t,sort:e,reverse:n,initializer:r,...i}={},s){return r===void 0&&(t!=null&&(r=KC(t)),e!=null&&!Zf(e)&&(r=r4(r,Bb(e))),n&&(r=r4(r,JC))),{...i,...(e===null||Zf(e))&&{sort:e},initializer:r4(r,s)}}function n4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Sa(n),r,i)}}function r4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...s){let a,l,u,f,p,m;return{data:l=n,facets:u=r,channels:a}=t.call(this,n,r,i,...s),{data:p=l,facets:m=u,channels:f}=e.call(this,l,u,{...i,...a},...s),{data:p,facets:m,channels:{...a,...f}}}}function RX(t,e){return(t.initializer!=null?jf:Db)(t,e)}function KC(t){return(e,n)=>{const r=Va(e,t);return{data:e,facets:n.map(i=>i.filter(s=>r[s]))}}}function JC(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function PX(t,{sort:e,...n}={}){return{...(q_(t)&&t.channel!==void 0?jf:RX)(n,Bb(t)),sort:Zf(e)?e:null}}function Bb(t){return(typeof t=="function"&&t.length!==1?NX:LX)(t)}function NX(t){return(e,n)=>{const r=(i,s)=>t(e[i],e[s]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function LX(t){let e,n;({channel:e,value:t,order:n}={...W_(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Tg:gl),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=gl;break;case"descending":n=Tg;break;default:throw new Error(`invalid order: ${n}`)}return(i,s,a)=>{let l;if(e===void 0)l=Va(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(l=a[e],!l)return{};l=l.value}const u=(f,p)=>n(l[f],l[p]);return{data:i,facets:s.map(f=>f.slice().sort(u))}}}function OX(t,e,n=DX){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&mh(t))return BX(t);if(typeof t=="function")return zX(t);if(/^p\d{2}$/i.test(t))return Jl(aX(t));switch(`${t}`.toLowerCase()){case"first":return UX;case"last":return qX;case"identity":return FX;case"count":return i9;case"distinct":return HX;case"sum":return e==null?i9:WX;case"proportion":return s9(e,"data");case"proportion-facet":return s9(e,"facet");case"deviation":return Jl(nq);case"min":return Jl(hl);case"min-index":return Jl(pq);case"max":return Jl(ko);case"max-index":return Jl(dq);case"mean":return r9(ry);case"median":return r9(Z1);case"variance":return Jl(XT);case"mode":return Jl(_q)}return n(t)}function DX(t){throw new Error(`invalid reduce: ${t}`)}function BX(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function zX(t){return{reduceIndex(e,n,r){return t(VC(n,e),r)}}}function Jl(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function r9(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return yu(n)?new Date(r):r}}}const FX={reduceIndex(t,e){return VC(e,t)}},UX={reduceIndex(t,e){return e[t[0]]}},qX={reduceIndex(t,e){return e[t[t.length-1]]}},i9={label:"Frequency",reduceIndex(t){return t.length}},HX={label:"Distinct",reduceIndex(t,e){const n=new J3;for(const r of t)n.add(e[r]);return n.size}},WX=Jl(rr);function s9(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>rr(n,s=>r[s])/i}}function Qd(t,{scale:e,type:n,value:r,filter:i,hint:s},a){return s===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(s=r.hint),QC(a,{scale:e,type:n,value:Va(t,r),label:Op(r),filter:i,hint:s})}function $X(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Qd(e,r,n)]))}function GX(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:s}])=>{const a=i==null?null:e[i];return[r,a==null?s:Ii(s,a)]}));return n.channels=t,n}function QC(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&t4(r,$_)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&t4(r,wX)?null:"opacity";break;case"symbol":n!==!0&&t4(r,AX)?(e.scale=null,e.value=Ii(r,Ob)):e.scale="symbol";break;default:e.scale=Fr.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Fr.has(n))throw new Error(`unknown scale: ${n}`);return e}function VX(t,e,n,r,i){const{order:s,reverse:a,reduce:l=!0,limit:u}=i;for(const f in i){if(!Fr.has(f))continue;let{value:p,order:m=s,reverse:g=a,reduce:v=l,limit:b=u}=W_(i[f]);const k=p==null?void 0:p.startsWith("-");if(k&&(p=p.slice(1)),m=m===void 0?k!==(p==="width"||p==="height")?tA:eA:XX(m),v==null||v===!1)continue;const R=f==="fx"||f==="fy"?ZX(e,r[f]):YX(n,f);if(!R)throw new Error(`missing channel for scale: ${f}`);const N=R.value,[x=0,T=1/0]=Nc(b)?b:b<0?[b]:[0,b];if(p==null)R.domain=()=>{let M=Array.from(new J3(N));return g&&(M=M.reverse()),(x!==0||T!==1/0)&&(M=M.slice(x,T)),M};else{const M=p==="data"?t:p==="height"?a9(n,"y1","y2"):p==="width"?a9(n,"x1","x2"):Vy(n,p,p==="y"?"y2":p==="x"?"x2":void 0),I=OX(v===!0?"max":v,M);R.domain=()=>{let P=rq(Pc(N),O=>I.reduceIndex(O,M),O=>N[O]);return m&&P.sort(m),g&&P.reverse(),(x!==0||T!==1/0)&&(P=P.slice(x,T)),P.map(WC)}}}}function YX(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function ZX(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let s=0;s<n.length;++s){const a=r[n[s][0]];for(const l of t[s])i[l]=a}return e}function a9(t,e,n){const r=Vy(t,e),i=Vy(t,n);return Ii(i,(s,a)=>Math.abs(s-r[a]),Float64Array)}function Vy(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function XX(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return eA;case"descending":return tA}throw new Error(`invalid order: ${t}`)}function eA([t,e],[n,r]){return gl(e,r)||gl(t,n)}function tA([t,e],[n,r]){return Tg(e,r)||gl(t,n)}function jX(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function zb(t={}){const{document:e=typeof window<"u"?window.document:void 0}=t;return{document:e}}function Ni(t,{document:e}){return ur(Tp(t).call(e.documentElement))}let Yy=0;function KX(){const t=Yy;return Yy=0,t}function k0(t){console.warn(t),++Yy}const nA=Math.PI,Yl=2*nA,o9=.618;function JX({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:s=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let l,u,f="frame";if(mh(t)){let I;if({type:t,domain:u,inset:I,insetTop:n=I!==void 0?I:n,insetRight:r=I!==void 0?I:r,insetBottom:i=I!==void 0?I:i,insetLeft:s=I!==void 0?I:s,clip:f=f,...l}=t,t==null)return}typeof t!="function"&&({type:t}=rA(t));const{width:p,height:m,marginLeft:g,marginRight:v,marginTop:b,marginBottom:k}=a,R=p-g-v-s-r,N=m-b-k-n-i;if(t=t==null?void 0:t({width:R,height:N,clip:f,...l}),t==null)return;f=QX(f,g,b,p-v,m-k);let x=g+s,T=b+n,M;if(u!=null){const[[I,P],[O,z]]=$f(t).bounds(u),$=Math.min(R/(O-I),N/(z-P));$>0?(x-=($*(I+O)-R)/2,T-=($*(P+z)-N)/2,M=Gd({point(ee,G){this.stream.point(ee*$+x,G*$+T)}})):k0("Warning: the projection could not be fit to the specified domain; using the default scale.")}return M??(M=x===0&&T===0?iA():Gd({point(I,P){this.stream.point(I+x,P+T)}})),{stream:I=>t.stream(M.stream(f(I)))}}function rA(t){switch(`${t}`.toLowerCase()){case"albers-usa":return po(mV,.7463,.4673);case"albers":return Ym(yE,.7463,.4673);case"azimuthal-equal-area":return po(gV,4,4);case"azimuthal-equidistant":return po(_V,Yl,Yl);case"conic-conformal":return Ym(yV,Yl,Yl);case"conic-equal-area":return Ym(dg,6.1702,2.9781);case"conic-equidistant":return Ym(xV,7.312,3.6282);case"equal-earth":return po(TV,5.4133,2.6347);case"equirectangular":return po(bV,Yl,nA);case"gnomonic":return po(kV,3.4641,3.4641);case"identity":return{type:iA};case"reflect-y":return{type:ej};case"mercator":return po(SE,Yl,Yl);case"orthographic":return po(EV,2,2);case"stereographic":return po(MV,2,2);case"transverse-mercator":return po(CV,Yl,Yl);default:throw new Error(`unknown projection type: ${t}`)}}function QX(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return s=>s;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return tE(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function po(t,e,n){return{type:({width:r,height:i,rotate:s,precision:a=.15,clip:l})=>{var f,p,m;const u=t();return a!=null&&((f=u.precision)==null||f.call(u,a)),s!=null&&((p=u.rotate)==null||p.call(u,s)),typeof l=="number"&&((m=u.clipAngle)==null||m.call(u,l)),u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/e}}function Ym(t,e,n){const{type:r,aspectRatio:i}=po(t,e,n);return{type:s=>{const{parallels:a,domain:l,width:u,height:f}=s,p=r(s);return a!=null&&(p.parallels(a),l===void 0&&p.fitSize([u,f],{type:"Sphere"})),p},aspectRatio:i}}const iA=Lp({stream:t=>t}),ej=Lp(Gd({point(t,e){this.stream.point(t,-e)}}));function tj(t,e,n,r){const i=n[t],s=n[e],a=i.length,l=n[t]=new Float64Array(a).fill(NaN),u=n[e]=new Float64Array(a).fill(NaN);let f;const p=r.stream({point(m,g){l[f]=m,u[f]=g}});for(f=0;f<a;++f)p.point(i[f],s[f])}function nj({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(mh(t)&&(t=t.type),t!=null)}function rj(t){if(typeof(t==null?void 0:t.stream)=="function")return o9;if(mh(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=rA(t);if(e)return e}return o9}}function ij(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},s={point(a,l){e.push(a),n.push(l)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)rc(a,s);return[r,i]}const sA=new Map([["accent",QY],["category10",JY],["dark2",eZ],["paired",tZ],["pastel1",nZ],["pastel2",rZ],["set1",iZ],["set2",sZ],["set3",aZ],["tableau10",oZ]]);function sj(t){return t!=null&&sA.has(`${t}`.toLowerCase())}const l9=new Map([...sA,["brbg",Zl(sM,aM)],["prgn",Zl(oM,lM)],["piyg",Zl(uM,cM)],["puor",Zl(fM,hM)],["rdbu",Zl(zy,Yf)],["rdgy",Zl(dM,pM)],["rdylbu",Zl(Fy,_g)],["rdylgn",Zl(mM,gM)],["spectral",Zl(_M,Tb)],["burd",u9(zy,Yf)],["buylrd",u9(Fy,_g)],["blues",Ti(HM,WM)],["greens",Ti($M,GM)],["greys",Ti(VM,YM)],["oranges",Ti(JM,QM)],["purples",Ti(ZM,XM)],["reds",Ti(jM,KM)],["turbo",Xl(vg)],["viridis",Xl(aC)],["magma",Xl(oC)],["inferno",Xl(lC)],["plasma",Xl(uC)],["cividis",Xl(eC)],["cubehelix",Xl(tC)],["warm",Xl(nC)],["cool",Xl(rC)],["bugn",Ti(vM,yM)],["bupu",Ti(bM,wM)],["gnbu",Ti(xM,SM)],["orrd",Ti(TM,kM)],["pubu",Ti(CM,AM)],["pubugn",Ti(EM,MM)],["purd",Ti(IM,RM)],["rdpu",Ti(PM,NM)],["ylgn",Ti(DM,BM)],["ylgnbu",Ti(LM,OM)],["ylorbr",Ti(zM,FM)],["ylorrd",Ti(UM,qM)],["rainbow",c9(iC)],["sinebow",c9(sC)]]);function Ti(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?wa(e,n):t[n])}function Zl(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?wa(e,n):t[n])}function u9(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?wa(r=>e(1-r),n):t[n].slice().reverse())}function Xl(t){return({length:e})=>wa(t,Math.max(2,Math.floor(e)))}function c9(t){return({length:e})=>wa(t,Math.floor(e)+1).slice(0,-1)}function aA(t){const e=`${t}`.toLowerCase();if(!l9.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return l9.get(e)}function j_(t,e){const n=aA(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function aj(t,e="greys"){const n=new Set,[r,i]=j_(e,2);for(const s of t)if(s!=null)if(s===!0)n.add(i);else if(s===!1)n.add(r);else return;return[...n]}const f9=new Map([["brbg",aM],["prgn",lM],["piyg",cM],["puor",hM],["rdbu",Yf],["rdgy",pM],["rdylbu",_g],["rdylgn",gM],["spectral",Tb],["burd",t=>Yf(1-t)],["buylrd",t=>_g(1-t)],["blues",WM],["greens",GM],["greys",YM],["purples",XM],["reds",KM],["oranges",QM],["turbo",vg],["viridis",aC],["magma",oC],["inferno",lC],["plasma",uC],["cividis",eC],["cubehelix",tC],["warm",nC],["cool",rC],["bugn",yM],["bupu",wM],["gnbu",SM],["orrd",kM],["pubugn",MM],["pubu",AM],["purd",RM],["rdpu",NM],["ylgnbu",OM],["ylgn",BM],["ylorbr",FM],["ylorrd",qM],["rainbow",iC],["sinebow",sC]]);function Fb(t){const e=`${t}`.toLowerCase();if(!f9.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return f9.get(e)}const oj=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function lj(t){return t!=null&&oj.has(`${t}`.toLowerCase())}const oA=t=>e=>t(1-e),i4=[0,1],h9=new Map([["number",ss],["rgb",R0],["hsl",GW],["hcl",ZW],["lab",VW]]);function lA(t){const e=`${t}`.toLowerCase();if(!h9.has(e))throw new Error(`unknown interpolator: ${e}`);return h9.get(e)}function Bp(t,e,n,{type:r,nice:i,clamp:s,zero:a,domain:l=cA(t,n),unknown:u,round:f,scheme:p,interval:m,range:g=Fr.get(t)===V_?yj(n,l):Fr.get(t)===Y_?bj(n,l):Fr.get(t)===Z_?i4:void 0,interpolate:v=Fr.get(t)===Au?p==null&&g!==void 0?R0:Fb(p!==void 0?p:r==="cyclical"?"rainbow":"turbo"):f?Mp:ss,reverse:b}){if(m=Dp(m,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof v!="function"&&(v=lA(v)),b=!!b,g!==void 0){const k=(l=Sa(l)).length,R=(g=Sa(g)).length;if(k!==R){if(v.length===1)throw new Error("invalid piecewise interpolator");v=__(v,g),g=void 0}}if(v.length===1?(b&&(v=oA(v),b=!1),g===void 0&&(g=Float64Array.from(l,(k,R)=>R/(l.length-1)),g.length===2&&(g=i4)),e.interpolate((g===i4?Lp:qb)(v))):e.interpolate(v),a){const[k,R]=Is(l);(k>0||R<0)&&(l=Wy(l),Xf(l)!==Math.sign(k)?l[l.length-1]=0:l[0]=0)}return b&&(l=Fd(l)),e.domain(l).unknown(u),i&&(e.nice(uj(i,r)),l=e.domain()),g!==void 0&&e.range(g),s&&e.clamp(s),{type:r,domain:l,range:g,scale:e,interpolate:v,interval:m}}function uj(t,e){return t===!0?void 0:typeof t=="number"?t:gX(t,e)}function cj(t,e,n){return Bp(t,T_(),e,n)}function fj(t,e,n){return uA(t,e,{...n,exponent:.5})}function uA(t,e,{exponent:n=1,...r}){return Bp(t,FE().exponent(n),e,{...r,type:"pow"})}function hj(t,e,{base:n=10,domain:r=wj(e),...i}){return Bp(t,OE().base(n),e,{...i,domain:r})}function dj(t,e,{constant:n=1,...r}){return Bp(t,BE().constant(n),e,r)}function pj(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:s="rdylbu",domain:a=xj(e),unknown:l,interpolate:u,reverse:f}){return n===void 0&&(n=u!==void 0?wa(u,i):Fr.get(t)===Au?j_(s,i):void 0),a.length>0&&(a=UE(a,n===void 0?{length:i}:n).quantiles()),Ub(t,e,{domain:a,range:n,reverse:f,unknown:l})}function mj(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:s=cA(t,e),unknown:a,interpolate:l,reverse:u}){const[f,p]=Is(s);let m;return n===void 0?(m=Bd(f,p,r),m[0]<=f&&m.splice(0,1),m[m.length-1]>=p&&m.pop(),r=m.length+1,n=l!==void 0?wa(l,r):Fr.get(t)===Au?j_(i,r):void 0):(m=wa(ss(f,p),r+1).slice(1,-1),f instanceof Date&&(m=m.map(g=>new Date(g)))),Xf(Sa(s))<0&&m.reverse(),Ub(t,e,{domain:m,range:n,reverse:u,unknown:a})}function Ub(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:s,range:a=s!==void 0?wa(s,n.length+1):Fr.get(t)===Au?j_(i,n.length+1):void 0,reverse:l}){n=Sa(n);const u=Xf(n);if(!isNaN(u)&&!gj(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return l&&(a=Fd(a)),{type:"threshold",scale:qE(u<0?Fd(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function gj(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const s=Sp(i,i=t[n]);if(s!==0&&s!==e)return!1}return!0}function _j(){return{type:"identity",scale:PE()}}function ep(t,e=BC){return t.length?[hl(t,({value:n})=>n===void 0?n:hl(n,e)),ko(t,({value:n})=>n===void 0?n:ko(n,e))]:[0,1]}function cA(t,e){const n=Fr.get(t);return(n===V_||n===Z_||n===Y_?vj:ep)(e)}function vj(t){return[0,t.length?ko(t,({value:e})=>e===void 0?e:ko(e,BC)):1]}function yj(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=zd(t,.5,({value:a})=>a===void 0?NaN:zd(a,.25,Np)),i=e.map(a=>3*Math.sqrt(a/r)),s=30/ko(i);return s<1?i.map(a=>a*s):i}function bj(t,e){const n=Z1(t,({value:s})=>s===void 0?NaN:Z1(s,Math.abs)),r=e.map(s=>12*s/n),i=60/ko(r);return i<1?r.map(s=>s*i):r}function wj(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ep(t,Np);if(n<0)return ep(t,F_)}return[1,10]}function xj(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function qb(t){return(e,n)=>r=>t(e+r*(n-e))}function K_(t,e,n,r,{type:i,nice:s,clamp:a,domain:l=ep(r),unknown:u,pivot:f=0,scheme:p,range:m,symmetric:g=!0,interpolate:v=Fr.get(t)===Au?p==null&&m!==void 0?R0:Fb(p!==void 0?p:"rdbu"):ss,reverse:b}){f=+f,l=Sa(l);let[k,R]=l;if(l.length>2&&k0(`Warning: the diverging ${t} scale domain contains extra elements.`),Sp(k,R)<0&&([k,R]=[R,k],b=!b),k=Math.min(k,f),R=Math.max(R,f),typeof v!="function"&&(v=lA(v)),m!==void 0&&(v=v.length===1?qb(v)(...m):__(v,m)),b&&(v=oA(v)),g){const N=n.apply(f),x=N-n.apply(k),T=n.apply(R)-N;x<T?k=n.invert(N-T):x>T&&(R=n.invert(N+x))}return e.domain([k,f,R]).unknown(u).interpolator(v),a&&e.clamp(a),s&&e.nice(s),{type:i,domain:[k,R],pivot:f,interpolate:v,scale:e}}function Sj(t,e,n){return K_(t,tM(),Mj,e,n)}function Tj(t,e,n){return fA(t,e,{...n,exponent:.5})}function fA(t,e,{exponent:n=1,...r}){return K_(t,iM().exponent(n=+n),Ij(n),e,{...r,type:"diverging-pow"})}function kj(t,e,{base:n=10,pivot:r=1,domain:i=ep(e,r<0?F_:Np),...s}){return K_(t,nM().base(n=+n),Cj,e,{domain:i,pivot:r,...s})}function Ej(t,e,{constant:n=1,...r}){return K_(t,rM().constant(n=+n),Rj(n),e,r)}const Mj={apply(t){return t},invert(t){return t}},Cj={apply:Math.log,invert:Math.exp},Aj={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Ij(t){return t===.5?Aj:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function Rj(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function hA(t,e,n,r){return Bp(t,e,n,r)}function Pj(t,e,n){return hA(t,XY(),e,n)}function Nj(t,e,n){return hA(t,jY(),e,n)}const zp=Symbol("ordinal");function dA(t,e,n,{type:r,interval:i,domain:s,range:a,reverse:l,hint:u}){return i=Dp(i,r),s===void 0&&(s=mA(n,i,t)),(r==="categorical"||r===zp)&&(r="ordinal"),l&&(s=Fd(s)),e.domain(s),a!==void 0&&(typeof a=="function"&&(a=a(s)),e.range(a)),{type:r,domain:s,range:a,scale:e,hint:u,interval:i}}function Lj(t,e,{type:n,interval:r,domain:i,range:s,scheme:a,unknown:l,...u}){r=Dp(r,n),i===void 0&&(i=mA(e,r,t));let f;if(Fr.get(t)===X_)f=Bj(e),s=s===void 0?zj(f):Ii(s,Ob);else if(Fr.get(t)===Au&&(s===void 0&&(n==="ordinal"||n===zp)&&(s=aj(i,a),s!==void 0&&(a=void 0)),a===void 0&&s===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(s!==void 0){const p=Fb(a),m=s[0],g=s[1]-s[0];s=({length:v})=>wa(b=>p(m+g*b),v)}else s=aA(a);if(l===Oy)throw new Error(`implicit unknown on ${t} scale is not supported`);return dA(t,x_().unknown(l),e,{...u,type:n,domain:i,range:s,hint:f})}function Oj(t,e,{align:n=.5,padding:r=.5,...i}){return pA(AV().align(n).padding(r),e,i,t)}function Dj(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:s=t==="fx"||t==="fy"?0:r,...a}){return pA(Ip().align(n).paddingInner(i).paddingOuter(s),e,a,t)}function pA(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=dA(r,t,e,n),t.round=i,t}function mA(t,e,n){const r=new J3;for(const{value:i,domain:s}of t){if(s!==void 0)return s();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,s]=Is(r).map(e.floor,e);return e.range(i,e.offset(s))}if(r.size>1e4&&Fr.get(n)===il)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return G1(r,gl)}function d9(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function Bj(t){return{fill:d9(t,"fill"),stroke:d9(t,"stroke")}}function zj(t){return na(t.fill)?kZ:TZ}function Zy(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:s=n,insetLeft:a=n,round:l,nice:u,clamp:f,zero:p,align:m,padding:g,projection:v,facet:{label:b=e}={},...k}={}){const R={};for(const[N,x]of t){const T=k[N],M=Hj(N,x,{round:Fr.get(N)===il?l:void 0,nice:u,clamp:f,zero:p,align:m,padding:g,projection:v,...T});if(M){let{label:I=N==="fx"||N==="fy"?b:e,percent:P,transform:O,inset:z,insetTop:$=z!==void 0?z:N==="y"?r:0,insetRight:ee=z!==void 0?z:N==="x"?i:0,insetBottom:G=z!==void 0?z:N==="y"?s:0,insetLeft:J=z!==void 0?z:N==="x"?a:0}=T||{};if(O==null)O=void 0;else if(typeof O!="function")throw new Error("invalid scale transform; not a function");M.percent=!!P,M.label=I===void 0?Uj(x,M):I,M.transform=O,N==="x"||N==="fx"?(M.insetLeft=+J,M.insetRight=+ee):(N==="y"||N==="fy")&&(M.insetTop=+$,M.insetBottom=+G),R[N]=M}}return R}function p9(t){return Object.fromEntries(Object.entries(t).filter(([,{scale:e}])=>e).map(([e,{scale:n,type:r,interval:i,label:s}])=>(n.type=r,i!=null&&(n.interval=i),s!=null&&(n.label=s),[e,n])))}function Fj(t,e){const{x:n,y:r,fx:i,fy:s}=t,a=i||s?Hb(e):e;i&&m9(i,a),s&&g9(s,a);const l=i||s?gA(t,e):e;n&&m9(n,l),r&&g9(r,l)}function Uj(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Z0(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Hb(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:s,height:a,facet:{marginTop:l,marginRight:u,marginBottom:f,marginLeft:p}}=t;return{marginTop:Math.max(e,l),marginRight:Math.max(n,u),marginBottom:Math.max(r,f),marginLeft:Math.max(i,p),width:s,height:a}}function gA({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:u}=Hb(n);return{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:t?t.scale.bandwidth()+a+i:l,height:e?e.scale.bandwidth()+r+s:u,facet:{width:l,height:u}}}function m9(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:s=0,marginRight:a=0}=e,l=s+n,u=i-a-r;t.range=[l,Math.max(l,u)],Z0(t)||(t.range=vA(t)),t.scale.range(t.range)}_A(t)}function g9(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:s=0,marginBottom:a=0}=e,l=s+n,u=i-a-r;t.range=[Math.max(l,u),l],Z0(t)?t.range.reverse():t.range=vA(t),t.scale.range(t.range)}_A(t)}function _A(t){t.round===void 0&&$j(t)&&qj(t)<=30&&t.scale.round(!0)}function qj({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,l=Math.abs(r-n)/Math.max(1,a+s*2);return(l-Math.floor(l))*a}function vA(t){const e=t.scale.domain().length+yA(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,s)=>n+s/(e-1)*(r-n))}function Hj(t,e=[],n={}){const r=Wj(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Z0({type:r})){const i=e.map(({value:s})=>s).filter(s=>s!==void 0);i.some(yu)?k0(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ff(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ff(r)}".`):i.some(vX)?k0(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ff(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ff(r)}".`):i.some(yX)&&k0(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ff(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ff(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Zm(e,n,kg);break;case"identity":switch(Fr.get(t)){case il:n=Zm(e,n,kg);break;case X_:n=Zm(e,n,Gj);break}break;case"utc":case"time":n=Zm(e,n,oX);break}switch(r){case"diverging":return Sj(t,e,n);case"diverging-sqrt":return Tj(t,e,n);case"diverging-pow":return fA(t,e,n);case"diverging-log":return kj(t,e,n);case"diverging-symlog":return Ej(t,e,n);case"categorical":case"ordinal":case zp:return Lj(t,e,n);case"cyclical":case"sequential":case"linear":return cj(t,e,n);case"sqrt":return fj(t,e,n);case"threshold":return Ub(t,e,n);case"quantile":return pj(t,e,n);case"quantize":return mj(t,e,n);case"pow":return uA(t,e,n);case"log":return hj(t,e,n);case"symlog":return dj(t,e,n);case"utc":return Nj(t,e,n);case"time":return Pj(t,e,n);case"point":return Oj(t,e,n);case"band":return Dj(t,e,n);case"identity":return Fr.get(t)===il?_j():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ff(t){return typeof t=="symbol"?t.description:t}const _9={toString:()=>"projection"};function Wj(t,e,{type:n,domain:r,range:i,scheme:s,pivot:a,projection:l}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&l!=null&&(n=_9);for(const{type:f}of e)if(f!==void 0){if(n===void 0)n=f;else if(n!==f)throw new Error(`scale incompatible with channel: ${n} !== ${f}`)}if(n===_9)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:f})=>f!==void 0))return;const u=Fr.get(t);if(u===V_)return"sqrt";if(u===Z_||u===Y_)return"linear";if(u===X_)return"ordinal";if((r||i||[]).length>2)return s4(u);if(r!==void 0){if(n9(r))return s4(u);if(yu(r))return"utc"}else{const f=e.map(({value:p})=>p).filter(p=>p!==void 0);if(f.some(n9))return s4(u);if(f.some(yu))return"utc"}if(u===Au){if(a!=null||lj(s))return"diverging";if(sj(s))return"categorical"}return"linear"}function s4(t){switch(t){case il:return"point";case Au:return zp;default:return"ordinal"}}function Wb({type:t}){return t==="time"||t==="utc"}function Z0({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===zp}function yA({type:t}){return t==="threshold"}function $j({type:t}){return t==="point"||t==="band"}function Kf(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function Zm(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function Gj(t){return Ii(t,Ob)}function Vj(t){return e=>{if(!Fr.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in t?Yj(t[e]):void 0}}function Yj({scale:t,type:e,domain:n,range:r,interpolate:i,interval:s,transform:a,percent:l,pivot:u}){if(e==="identity")return{type:"identity",apply:p=>p,invert:p=>p};const f=t.unknown?t.unknown():void 0;return{type:e,domain:Wy(n),...r!==void 0&&{range:Wy(r)},...a!==void 0&&{transform:a},...l&&{percent:l},...f!==void 0&&{unknown:f},...s!==void 0&&{interval:s},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:p=>t(p),...t.invert&&{invert:p=>t.invert(p)}}}function Zj(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,s)=>i!==r[s]))&&(n=r,e=t(...r)),e)}const Xj=Zj(t=>new Intl.NumberFormat(t));function jj(t="en-US"){const e=Xj(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function Kj(t){return zC(t,"Invalid Date")}function Jj(t="en-US"){const e=jj(t);return n=>(n instanceof Date?Kj:typeof n=="number"?e:ks)(n)}const fu=Jj(),Ms=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Qj=0;function v9(){return`plot-clip-${++Qj}`}function eK(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:s,target:a,fill:l,fillOpacity:u,stroke:f,strokeWidth:p,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:v,strokeMiterlimit:b,strokeDasharray:k,strokeDashoffset:R,opacity:N,mixBlendMode:x,imageFilter:T,paintOrder:M,pointerEvents:I,shapeRendering:P,channels:O},{ariaLabel:z,fill:$="currentColor",fillOpacity:ee,stroke:G="none",strokeOpacity:J,strokeWidth:ie,strokeLinecap:se,strokeLinejoin:te,strokeMiterlimit:ae,paintOrder:V}){$===null&&(l=null,u=null),G===null&&(f=null,m=null),na($)?!na(G)&&(!na(l)||O!=null&&O.fill)&&(G="none"):na(G)&&(!na(f)||O!=null&&O.stroke)&&($="none");const[Y,he]=D0(l,$),[re,ye]=os(u,ee),[me,Ne]=D0(f,G),[xe,Ce]=os(m,J),[Me,Le]=os(N);Jd(Ne)||(p===void 0&&(p=ie),v===void 0&&(v=se),g===void 0&&(g=te),b===void 0&&!xX(g)&&(b=ae),!Jd(he)&&M===void 0&&(M=V));const[Fe,pe]=os(p);return $!==null&&(t.fill=Gi(he,"currentColor"),t.fillOpacity=Xh(ye,1)),G!==null&&(t.stroke=Gi(Ne,"none"),t.strokeWidth=Xh(pe,1),t.strokeOpacity=Xh(Ce,1),t.strokeLinejoin=Gi(g,"miter"),t.strokeLinecap=Gi(v,"butt"),t.strokeMiterlimit=Xh(b,4),t.strokeDasharray=Gi(k,"none"),t.strokeDashoffset=Gi(R,"0")),t.target=ks(a),t.ariaLabel=ks(z),t.ariaDescription=ks(i),t.ariaHidden=ks(s),t.opacity=Xh(Le,1),t.mixBlendMode=Gi(x,"normal"),t.imageFilter=Gi(T,"none"),t.paintOrder=Gi(M,"normal"),t.pointerEvents=Gi(I,"auto"),t.shapeRendering=Gi(P,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:re,scale:"auto",optional:!0},stroke:{value:me,scale:"auto",optional:!0},strokeOpacity:{value:xe,scale:"auto",optional:!0},strokeWidth:{value:Fe,optional:!0},opacity:{value:Me,scale:"auto",optional:!0}}}function tK(t,e){e&&t.filter(n=>Ib(e[n])).append("title").call(rK,e)}function nK(t,e){e&&t.filter(([n])=>Ib(e[n])).append("title").call(iK,e)}function rK(t,e){e&&t.text(n=>fu(e[n]))}function iK(t,e){e&&t.text(([n])=>fu(e[n]))}function Iu(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:u,strokeWidth:f,opacity:p,href:m}){r&&Vt(t,"aria-label",g=>r[g]),s&&Vt(t,"fill",g=>s[g]),a&&Vt(t,"fill-opacity",g=>a[g]),l&&Vt(t,"stroke",g=>l[g]),u&&Vt(t,"stroke-opacity",g=>u[g]),f&&Vt(t,"stroke-width",g=>f[g]),p&&Vt(t,"opacity",g=>p[g]),m&&bA(t,g=>m[g],e),n||tK(t,i)}function sK(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:u,strokeWidth:f,opacity:p,href:m}){r&&Vt(t,"aria-label",([g])=>r[g]),s&&Vt(t,"fill",([g])=>s[g]),a&&Vt(t,"fill-opacity",([g])=>a[g]),l&&Vt(t,"stroke",([g])=>l[g]),u&&Vt(t,"stroke-opacity",([g])=>u[g]),f&&Vt(t,"stroke-width",([g])=>f[g]),p&&Vt(t,"opacity",([g])=>p[g]),m&&bA(t,([g])=>m[g],e),n||nK(t,i)}function aK({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:s,strokeWidth:a,opacity:l,href:u},{tip:f}){return[t,f?void 0:e,n,r,i,s,a,l,u].filter(p=>p!==void 0)}function oK(t,e,n){const r=Q3(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&k0("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*lK(t,e,n,r){const{z:i}=n,{z:s}=r,a=aK(r,n),l=[...e,...a];for(const u of s?oK(t,s,i):[t]){let f,p;e:for(const m of u){for(const g of l)if(!wc(g[m])){p&&p.push(-1);continue e}if(f===void 0){p&&(yield p),f=a.map(g=>v0(g[m])),p=[m];continue}p.push(m);for(let g=0;g<a.length;++g)if(v0(a[g][m])!==f[g]){yield p,f=a.map(b=>v0(b[m])),p=[m];continue e}}p&&(yield p)}}function uK(t){return t===!0?t="frame":t===!1&&(t=null),U_(t,"clip",["frame","sphere"])}function cK(t,e,n,r){let i;switch(e.clip){case"frame":{const{width:s,height:a,marginLeft:l,marginRight:u,marginTop:f,marginBottom:p}=n,m=v9();i=`url(#${m})`,t=Ni("svg:g",r).call(g=>g.append("svg:clipPath").attr("id",m).append("rect").attr("x",l).attr("y",f).attr("width",s-u-l).attr("height",a-f-p)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const a=v9();i=`url(#${a})`,t.append("clipPath").attr("id",a).append("path").attr("d",$f(s)({type:"Sphere"}));break}}Vt(t,"aria-label",e.ariaLabel),Vt(t,"aria-description",e.ariaDescription),Vt(t,"aria-hidden",e.ariaHidden),Vt(t,"clip-path",i)}function Io(t,e,n,r){cK(t,e,n,r),Vt(t,"fill",e.fill),Vt(t,"fill-opacity",e.fillOpacity),Vt(t,"stroke",e.stroke),Vt(t,"stroke-width",e.strokeWidth),Vt(t,"stroke-opacity",e.strokeOpacity),Vt(t,"stroke-linejoin",e.strokeLinejoin),Vt(t,"stroke-linecap",e.strokeLinecap),Vt(t,"stroke-miterlimit",e.strokeMiterlimit),Vt(t,"stroke-dasharray",e.strokeDasharray),Vt(t,"stroke-dashoffset",e.strokeDashoffset),Vt(t,"shape-rendering",e.shapeRendering),Vt(t,"filter",e.imageFilter),Vt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Vt(t,"pointer-events",i)}function Ro(t,e){fK(t,"mix-blend-mode",e.mixBlendMode),Vt(t,"opacity",e.opacity)}function bA(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const s=this.ownerDocument.createElementNS(Df.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(Df.xlink,"href",i),n!=null&&s.setAttribute("target",n),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Vt(t,e,n){n!=null&&t.attr(e,n)}function fK(t,e,n){n!=null&&t.style(e,n)}function Qa(t,e,{x:n,y:r},i=Ms,s=Ms){i+=e.dx,s+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(s+=r.bandwidth()/2),(i||s)&&t.attr("transform",`translate(${i},${s})`)}function Gi(t,e){if((t=ks(t))!==e)return t}function Xh(t,e){if((t=ar(t))!==e)return t}const hK=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function $b(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!hK.test(t))throw new Error(`invalid class name: ${t}`);return t}function Gb(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Fp({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:s,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-s:(r+n-s)/2]}function dK(t,e,n={}){let r=.5-Ms,i=.5+Ms,s=.5+Ms,a=.5-Ms;for(const{marginTop:k,marginRight:R,marginBottom:N,marginLeft:x}of e)k>r&&(r=k),R>i&&(i=R),N>s&&(s=N),x>a&&(a=x);let{margin:l,marginTop:u=l!==void 0?l:r,marginRight:f=l!==void 0?l:i,marginBottom:p=l!==void 0?l:s,marginLeft:m=l!==void 0?l:a}=n;u=+u,f=+f,p=+p,m=+m;let{width:g=640,height:v=pK(t,n,{width:g,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:s,marginLeftDefault:a})+Math.max(0,u-r+p-s)}=n;g=+g,v=+v;const b={width:g,height:v,marginTop:u,marginRight:f,marginBottom:p,marginLeft:m};if(t.fx||t.fy){let{margin:k,marginTop:R=k!==void 0?k:u,marginRight:N=k!==void 0?k:f,marginBottom:x=k!==void 0?k:p,marginLeft:T=k!==void 0?k:m}=n.facet??{};R=+R,N=+N,x=+x,T=+T,b.facet={marginTop:R,marginRight:N,marginBottom:x,marginLeft:T}}return b}function pK({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:s},{width:a,marginTopDefault:l,marginRightDefault:u,marginBottomDefault:f,marginLeftDefault:p}){const m=n?n.scale.domain().length:1,g=rj(i);if(g){const b=r?r.scale.domain().length:1,k=(1.1*m-.1)/(1.1*b-.1)*g,R=Math.max(.1,Math.min(10,k));return Math.round((a-p-u)*R+l+f)}const v=e?Z0(e)?e.scale.domain().length:Math.max(7,17/m):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const b=y9("y",e)/(y9("x",t)*s),k=r?r.scale.bandwidth():1,R=n?n.scale.bandwidth():1,N=k*(a-p-u)-t.insetLeft-t.insetRight;return(b*N+e.insetTop+e.insetBottom)/R+l+f}return!!(e||n)*Math.max(1,Math.min(60,v*m))*20+!!r*30+60}function y9(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const l=e.scale.exponent();i=u=>Math.pow(u,l);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[s,a]=Is(r);return Math.abs(i(a)-i(s))}function mK(t,e){const{fx:n,fy:r}=Zy(t,e),i=n==null?void 0:n.scale.domain(),s=r==null?void 0:r.scale.domain();return i&&s?eq(i,s).map(([a,l],u)=>({x:a,y:l,i:u})):i?i.map((a,l)=>({x:a,i:l})):s?s.map((a,l)=>({y:a,i:l})):void 0}function gK(t,{x:e,y:n}){return e&&(e=Xy(e)),n&&(n=Xy(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Vb(t,{fx:e,fy:n}){const r=Pc(t),i=e==null?void 0:e.value,s=n==null?void 0:n.value;return e&&n?_d(r,a=>(a.fx=i[a[0]],a.fy=s[a[0]],a),a=>i[a],a=>s[a]):e?_d(r,a=>(a.fx=i[a[0]],a),a=>i[a]):_d(r,a=>(a.fy=s[a[0]],a),a=>s[a])}function _K(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:s})=>`translate(${t(i)-r},${e(s)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function vK(t){const e=[],n=new Uint32Array(rr(t,r=>r.length));for(const r of t){let i=0;for(const s of t)r!==s&&(n.set(s,i),i+=s.length);e.push(n.slice(0,i))}return e}const yK=new Map([["top",a4],["right",u4],["bottom",o4],["left",l4],["top-left",Xm(a4,l4)],["top-right",Xm(a4,u4)],["bottom-left",Xm(o4,l4)],["bottom-right",Xm(o4,u4)],["top-empty",xK],["right-empty",kK],["bottom-empty",SK],["left-empty",TK],["empty",EK]]);function bK(t){if(t==null)return null;const e=yK.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const b9=new WeakMap;function Xy(t){let e=b9.get(t);return e||b9.set(t,e=new A0(Ii(t,(n,r)=>[n,r]))),e}function Lc(t,e){return Xy(t).get(e)}function wK(t,e,n){return e=v0(e),n=v0(n),t.find(r=>Object.is(v0(r.x),e)&&Object.is(v0(r.y),n))}function J_(t,e,n){var r;return(r=wK(t,e,n))==null?void 0:r.empty}function a4(t,{y:e},{y:n}){return e?Lc(e,n)===0:!0}function o4(t,{y:e},{y:n}){return e?Lc(e,n)===e.length-1:!0}function l4(t,{x:e},{x:n}){return e?Lc(e,n)===0:!0}function u4(t,{x:e},{x:n}){return e?Lc(e,n)===e.length-1:!0}function xK(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=Lc(e,r);if(s>0)return J_(t,n,e[s-1])}function SK(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=Lc(e,r);if(s<e.length-1)return J_(t,n,e[s+1])}function TK(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=Lc(e,n);if(s>0)return J_(t,e[s-1],r)}function kK(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=Lc(e,n);if(s<e.length-1)return J_(t,e[s+1],r)}function EK(t,e,{empty:n}){return n}function Xm(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function c4(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:s})=>{var a;return((a=r.get(i))==null?void 0:a.get(s))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class la{constructor(e,n={},r={},i){const{facet:s="auto",facetAnchor:a,fx:l,fy:u,sort:f,dx:p=0,dy:m=0,margin:g=0,marginTop:v=g,marginRight:b=g,marginBottom:k=g,marginLeft:R=g,clip:N,channels:x,tip:T,render:M}=r;if(this.data=e,this.sort=Zf(f)?f:null,this.initializer=jf(r).initializer,this.transform=this.initializer?r.transform:Db(r).transform,s===null||s===!1?this.facet=null:(this.facet=Cu(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=e===R1&&typeof l=="string"?[l]:l,this.fy=e===R1&&typeof u=="string"?[u]:u),this.facetAnchor=bK(a),n=jC(n),x!==void 0&&(n={...MK(x),...n}),i!==void 0&&(n={...eK(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([I,P])=>{if(q_(P.value)){const{value:O,scale:z=P.scale}=P.value;P={...P,scale:z,value:O}}if(e===R1&&typeof P.value=="string"){const{value:O}=P;P={...P,value:[O]}}return[I,P]}).filter(([I,{value:P,optional:O}])=>{if(P!=null)return!0;if(O)return!1;throw new Error(`missing channel value: ${I}`)})),this.dx=+p,this.dy=+m,this.marginTop=+v,this.marginRight=+b,this.marginBottom=+k,this.marginLeft=+R,this.clip=uK(N),this.tip=CK(T),this.facet==="super"){if(l||u)throw new Error("super-faceting cannot use fx or fy");for(const I in this.channels){const{scale:P}=n[I];if(!(P!=="x"&&P!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=xA(M,this.render))}initialize(e,n,r){let i=Sa(this.data);e===void 0&&i!=null&&(e=[Pc(i)]);const s=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Sa(i)),e!==void 0&&(e.original=s);const a=$X(this.channels,i);return this.sort!=null&&VX(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:s=wc}=n[i];if(s!==null){const a=r[i];e=e.filter(l=>s(a[l]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const s=i.replace(/^x|x$/,"y");s in e&&e[s].scale==="y"&&tj(i,s,n,r.projection)}}scale(e,n,r){const i=GX(e,n);return r.projection&&this.project(e,i,r),i}}function wA(...t){return t.plot=la.prototype.plot,t}function xA(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,s,a,l){return t.call(this,n,r,i,s,a,(u,f,p,m,g)=>e.call(this,u,f,p,m,g,l))}}function MK(t){return Object.fromEntries(Object.entries(jC(t)).map(([e,n])=>(n=W_(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function CK(t){return t===!0?"xy":t===!1?null:U_(t,"tip",["x","y","xy"])}function Yb(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:t}const w9=new WeakMap;function Zb(t,e,{x:n,y:r,px:i,py:s,maxRadius:a=40,channels:l,render:u,...f}={}){return a=+a,i!=null&&(n??(n=null),l={...l,px:{value:i,scale:"x"}}),s!=null&&(r??(r=null),l={...l,py:{value:s,scale:"y"}}),{x:n,y:r,channels:l,...f,render:xA(function(p,m,g,v,b,k){b={...b,pointerSticky:!1};const R=b.ownerSVGElement,{data:N}=b.getMarkState(this);let x=w9.get(R);x||w9.set(R,x={sticky:!1,roots:[],renders:[]});let T=x.renders.push(Ne)-1;const{x:M,y:I,fx:P,fy:O}=m;let z=P?P(p.fx)-v.marginLeft:0,$=O?O(p.fy)-v.marginTop:0;M!=null&&M.bandwidth&&(z+=M.bandwidth()/2),I!=null&&I.bandwidth&&($+=I.bandwidth()/2);const ee=p.fi!=null;let G;if(ee){let Le=x.facetStates;Le||(x.facetStates=Le=new Map),G=Le.get(this),G||Le.set(this,G=new Map)}const[J,ie]=Fp(this,v),{px:se,py:te}=g,ae=se?Le=>se[Le]:SA(g,J),V=te?Le=>te[Le]:TA(g,ie);let Y,he,re,ye;function me(Le,Fe){if(ee)if(ye&&(ye=cancelAnimationFrame(ye)),Le==null)G.delete(p.fi);else{G.set(p.fi,Fe),ye=requestAnimationFrame(()=>{ye=null;for(const pe of G.values())if(pe<Fe){Le=null;break}Ne(Le)});return}Ne(Le)}function Ne(Le){if(Y===Le&&re===x.sticky)return;Y=Le,re=b.pointerSticky=x.sticky;const Fe=Y==null?[]:[Y];ee&&(Fe.fx=p.fx,Fe.fy=p.fy,Fe.fi=p.fi);const pe=k(Fe,m,g,v,b);if(he){if(ee){const Ie=he.parentNode,Ae=he.getAttribute("transform"),ve=pe.getAttribute("transform");Ae?pe.setAttribute("transform",Ae):pe.removeAttribute("transform"),ve?Ie.setAttribute("transform",ve):Ie.removeAttribute("transform"),pe.removeAttribute("aria-label"),pe.removeAttribute("aria-description"),pe.removeAttribute("aria-hidden")}he.replaceWith(pe)}return x.roots[T]=he=pe,b.dispatchValue(Y==null?null:N[Y]),pe}function xe(Le){if(x.sticky||Le.pointerType==="mouse"&&Le.buttons===1)return;let[Fe,pe]=dW(Le);Fe-=z,pe-=$;let Ie=null,Ae=a*a;for(const ve of p){const Ue=t*(ae(ve)-Fe),Ge=e*(V(ve)-pe),nt=Ue*Ue+Ge*Ge;nt<=Ae&&(Ie=ve,Ae=nt)}me(Ie,Ae)}function Ce(Le){Le.pointerType==="mouse"&&Y!=null&&(x.sticky&&x.roots.some(Fe=>Fe==null?void 0:Fe.contains(Le.target))||(x.sticky?(x.sticky=!1,x.renders.forEach(Fe=>Fe(null))):(x.sticky=!0,Ne(Y)),Le.stopImmediatePropagation()))}function Me(Le){Le.pointerType==="mouse"&&(x.sticky||me(null))}return R.addEventListener("pointerenter",xe),R.addEventListener("pointermove",xe),R.addEventListener("pointerdown",Ce),R.addEventListener("pointerleave",Me),Ne(null)},u)}}function AK(t){return Zb(1,1,t)}function IK(t){return Zb(1,.01,t)}function RK(t){return Zb(.01,1,t)}function SA({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function TA({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function kA(t){return Z0(t)&&t.interval===void 0?void 0:"tabular-nums"}function PK(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:s=44+r,marginTop:a=18,marginRight:l=0,marginBottom:u=16+r,marginLeft:f=0,style:p,ticks:m=(i-f-l)/64,tickFormat:g,fontVariant:v=kA(t),round:b=!0,opacity:k,className:R}=e;const N=zb(e);R=$b(R),k=os(k)[1],g===null&&(g=()=>null);const x=Ni("svg",N).attr("class",`${R}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",s).attr("viewBox",`0 0 ${i} ${s}`).call(J=>J.append("style").text(`.${R}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${R}-ramp text {
  white-space: pre;
}`)).call(Gb,p);let T=J=>J.selectAll(".tick line").attr("y1",a+u-s),M;const I=b?(J,ie)=>J.rangeRound(ie):(J,ie)=>J.range(ie),{type:P,domain:O,range:z,interpolate:$,scale:ee,pivot:G}=t;if($){const J=z===void 0?$:__($.length===1?qb($):$,z);M=I(ee.copy(),wa(ss(f,i-l),Math.min(O.length+(G!==void 0),z===void 0?1/0:z.length)));const ie=256,se=N.document.createElement("canvas");se.width=ie,se.height=1;const te=se.getContext("2d");for(let ae=0,V=ie-1;ae<ie;++ae)te.fillStyle=J(ae/V),te.fillRect(ae,0,1,1);x.append("image").attr("opacity",k).attr("x",f).attr("y",a).attr("width",i-f-l).attr("height",s-a-u).attr("preserveAspectRatio","none").attr("xlink:href",se.toDataURL())}else if(P==="threshold"){const J=O,ie=g===void 0?se=>se:typeof g=="string"?kr(g):g;M=I(T_().domain([-1,z.length-1]),[f,i-l]),x.append("g").attr("fill-opacity",k).selectAll().data(z).enter().append("rect").attr("x",(se,te)=>M(te-1)).attr("y",a).attr("width",(se,te)=>M(te)-M(te-1)).attr("height",s-a-u).attr("fill",se=>se),m=Ii(J,(se,te)=>te),g=se=>ie(J[se],se)}else M=I(Ip().domain(O),[f,i-l]),x.append("g").attr("fill-opacity",k).selectAll().data(O).enter().append("rect").attr("x",M).attr("y",a).attr("width",Math.max(0,M.bandwidth()-1)).attr("height",s-a-u).attr("fill",ee),T=()=>{};return x.append("g").attr("transform",`translate(0,${s-u})`).call(nk(M).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(r).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Gi(v,"normal")).call(T).call(J=>J.select(".domain").remove()),n!==void 0&&x.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),x.node()}const EA=Math.PI/180;function Q_(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=f4(n),t.markerMid=f4(r),t.markerEnd=f4(i)}function f4(t){if(t==null||t===!1)return null;if(t===!0)return S9;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return x9("auto");case"arrow-reverse":return x9("auto-start-reverse");case"dot":return NK;case"circle":case"circle-fill":return S9;case"circle-stroke":return LK}throw new Error(`invalid marker: ${t}`)}function x9(t){return(e,n)=>Ni("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function NK(t,e){return Ni("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function S9(t,e){return Ni("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function LK(t,e){return Ni("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let OK=0;function Xb(t,e,{stroke:n},r){return MA(t,e,n&&(i=>n[i]),r)}function DK(t,e,{stroke:n},r){return MA(t,e,n&&(([i])=>n[i]),r)}function MA(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},s=()=>i,a){const l=new Map;function u(f){return function(p){const m=s(p);let g=l.get(f);g||l.set(f,g=new Map);let v=g.get(m);if(!v){const b=this.parentNode.insertBefore(f(m,a),this),k=`plot-marker-${++OK}`;b.setAttribute("id",k),g.set(m,v=`url(#${k})`)}return v}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function CA({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=IA(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function AA({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=IA(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function IA(t,e,n){return t===void 0&&e===void 0&&n===void 0?Ms?[1,0]:[.5,.5]:[e,n]}function RA(t,{interval:e}){return t={...W_(t)},t.interval=Pb(t.interval===void 0?e:t.interval),t}function PA(t,e,n,r){const{[t]:i,[`${t}1`]:s,[`${t}2`]:a}=n,{value:l,interval:u}=RA(i,n);if(l==null||u==null&&!r)return n;const f=Op(i);if(u==null){let v;const b={transform:k=>v||(v=Va(k,l)),label:f};return{...n,[t]:void 0,[`${t}1`]:s===void 0?b:s,[`${t}2`]:a===void 0?b:a}}let p,m;function g(v){return m!==void 0&&v===p?m:m=Ii(Va(p=v,l),b=>u.floor(b))}return e({...n,[t]:void 0,[`${t}1`]:s===void 0?{transform:g,label:f}:s,[`${t}2`]:a===void 0?{transform:v=>g(v).map(b=>u.offset(b)),label:f}:a})}function NA(t,e,n){const{[t]:r}=n,{value:i,interval:s}=RA(r,n);return i==null||s==null?n:e({...n,[t]:{label:Op(r),transform:a=>{const l=Ii(Va(a,i),f=>s.floor(f)),u=l.map(f=>s.offset(f));return l.map(yu(l)?(f,p)=>f==null||isNaN(f=+f)||(p=u[p],p==null)||isNaN(p=+p)?void 0:new Date((f+p)/2):(f,p)=>f==null||(p=u[p],p==null)?NaN:(+f+ +p)/2)}}})}function BK(t={}){return PA("x",CA,t)}function LA(t={}){return PA("y",AA,t)}function zK(t={}){return NA("x",CA,t)}function FK(t={}){return NA("y",AA,t)}const OA={ariaLabel:"rule",fill:null,stroke:"currentColor"};class UK extends la{constructor(e,n={}){const{x:r,y1:i,y2:s,inset:a=0,insetTop:l=a,insetBottom:u=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},Yb(n,"x"),OA),this.insetTop=ar(l),this.insetBottom=ar(u),Q_(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:u,y1:f,y2:p}=r,{width:m,height:g,marginTop:v,marginRight:b,marginLeft:k,marginBottom:R}=i,{insetTop:N,insetBottom:x}=this;return Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,{x:u&&a},Ms,0).call(T=>T.selectAll().data(e).enter().append("line").call(Ro,this).attr("x1",u?M=>u[M]:(k+m-b)/2).attr("x2",u?M=>u[M]:(k+m-b)/2).attr("y1",f&&!Kf(l)?M=>f[M]+N:v+N).attr("y2",p&&!Kf(l)?l.bandwidth?M=>p[M]+l.bandwidth()-x:M=>p[M]-x:g-R-x).call(Iu,this,r).call(Xb,this,r,s)).node()}}class qK extends la{constructor(e,n={}){const{x1:r,x2:i,y:s,inset:a=0,insetRight:l=a,insetLeft:u=a}=n;super(e,{y:{value:s,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Yb(n,"y"),OA),this.insetRight=ar(l),this.insetLeft=ar(u),Q_(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{y:u,x1:f,x2:p}=r,{width:m,height:g,marginTop:v,marginRight:b,marginLeft:k,marginBottom:R}=i,{insetLeft:N,insetRight:x}=this;return Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,{y:u&&l},0,Ms).call(T=>T.selectAll().data(e).enter().append("line").call(Ro,this).attr("x1",f&&!Kf(a)?M=>f[M]+N:k+N).attr("x2",p&&!Kf(a)?a.bandwidth?M=>p[M]+a.bandwidth()-x:M=>p[M]-x:m-b-x).attr("y1",u?M=>u[M]:(v+g-R)/2).attr("y2",u?M=>u[M]:(v+g-R)/2).call(Iu,this,r).call(Xb,this,r,s)).node()}}function HK(t,e){let{x:n=Ls,y:r,y1:i,y2:s,...a}=LA(e);return[i,s]=DA(r,i,s),new UK(t,{...a,x:n,y1:i,y2:s})}function jy(t,e){let{y:n=Ls,x:r,x1:i,x2:s,...a}=BK(e);return[i,s]=DA(r,i,s),new qK(t,{...a,y:n,x1:i,x2:s})}function DA(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function jb(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let s=0;s<n;++s)i+=e[s](r)+t[s+1];return i}}const WK={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},BA="­";let Kb=class extends la{constructor(e,n={}){const{x:r,y:i,text:s=Nc(e)&&ZC(e)?Ls:HC,frameAnchor:a,textAnchor:l=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:f=1,lineWidth:p=1/0,textOverflow:m,monospace:g,fontFamily:v=g?"ui-monospace, monospace":void 0,fontSize:b,fontStyle:k,fontVariant:R,fontWeight:N,rotate:x}=n,[T,M]=os(x,0),[I,P]=ZK(b);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:I,optional:!0},rotate:{value:_X(T),optional:!0},text:{value:s,filter:Ib,optional:!0}},n,WK),this.rotate=M,this.textAnchor=Gi(l,"middle"),this.lineAnchor=Cu(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+p,this.textOverflow=zA(m),this.monospace=!!g,this.fontFamily=ks(v),this.fontSize=P,this.fontStyle=ks(k),this.fontVariant=ks(R),this.fontWeight=ks(N),this.frameAnchor=G_(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${p}`);this.splitLines=UA(this),this.clipLine=qA(this)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:u,y:f,rotate:p,text:m,title:g,fontSize:v}=r,{rotate:b}=this,[k,R]=Fp(this,i);return Ni("svg:g",s).call(Io,this,i,s).call(FA,this,m,i).call(Qa,this,{x:u&&a,y:f&&l}).call(N=>N.selectAll().data(e).enter().append("text").call(Ro,this).call($K,this,m,g).attr("transform",jb`translate(${u?x=>u[x]:k},${f?x=>f[x]:R})${p?x=>` rotate(${p[x]})`:b?` rotate(${b})`:""}`).call(Vt,"font-size",v&&(x=>v[x])).call(Iu,this,r)).node()}};function zA(t){return t==null?null:Cu(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function $K(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:s,textOverflow:a,splitLines:l,clipLine:u}=e;t.each(function(f){const p=l(fu(n[f])??"").map(u),m=p.length,g=i==="top"?.71:i==="bottom"?1-m:(164-m*100)/200;if(m>1){let v=0;for(let b=0;b<m;++b){if(++v,!p[b])continue;const k=this.ownerDocument.createElementNS(Df.svg,"tspan");k.setAttribute("x",0),b===v-1?k.setAttribute("y",`${(g+b)*s}em`):k.setAttribute("dy",`${v*s}em`),k.textContent=p[b],this.appendChild(k),v=0}}else g&&this.setAttribute("y",`${g*s}em`),this.textContent=p[0];if(a&&!r&&p[0]!==n[f]){const v=this.ownerDocument.createElementNS(Df.svg,"title");v.textContent=n[f],this.appendChild(v)}})}function Eg(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=H_(e,n)),new Kb(t,{...r,x:e,y:n})}function GK(t,{x:e=Ls,...n}={}){return new Kb(t,FK({...n,x:e}))}function h0(t,{y:e=Ls,...n}={}){return new Kb(t,zK({...n,y:e}))}function FA(t,e,n){Vt(t,"text-anchor",e.textAnchor),Vt(t,"font-family",e.fontFamily),Vt(t,"font-size",e.fontSize),Vt(t,"font-style",e.fontStyle),Vt(t,"font-variant",e.fontVariant===void 0?VK(n):e.fontVariant),Vt(t,"font-weight",e.fontWeight)}function VK(t){return t&&(bX(t)||yu(t))?"tabular-nums":void 0}const YK=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function ZK(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),YK.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function XK(t,e,n){const r=[];let i,s=0;for(const[a,l,u]of jK(t)){if(i===void 0&&(i=a),s>i&&n(t,i,l)>e&&(r.push(t.slice(i,s)+(t[s-1]===BA?"-":"")),i=a),u){r.push(t.slice(i,l)),i=void 0;continue}s=l}return r}function*jK(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case BA:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const T9={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Jb(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=gh(t,i))r+=T9[t[i]]??(WA(t,i)?120:T9.e);return r}function Qb(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=gh(t,i))r+=WA(t,i)?200:100;return r}function UA({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return s=>s.split(/\r\n?|\n/g);const r=t?Qb:Jb,i=e*100;return s=>XK(s,i,r)}function qA({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return s=>s;const r=t?Qb:Jb,i=e*100;switch(n){case"clip-start":return s=>E9(s,i,r,"");case"clip-end":return s=>k9(s,i,r,"");case"ellipsis-start":return s=>E9(s,i,r,Cf);case"ellipsis-middle":return s=>KK(s,i,r,Cf);case"ellipsis-end":return s=>k9(s,i,r,Cf)}}const Cf="…";function Jf(t,e,n,r){const i=[];let s=0;for(let a=0,l=0,u=t.length;a<u;a=l){l=gh(t,a);const f=n(t,a,l);if(s+f>e){for(s+=r;s>e&&a>0;)l=a,a=i.pop(),s-=n(t,a,l);return[a,e-s]}s+=f,i.push(a)}return[-1,0]}function k9(t,e,n,r){t=t.trim();const i=n(r),[s]=Jf(t,e,n,i);return s<0?t:t.slice(0,s).trimEnd()+r}function KK(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r)/2,[a,l]=Jf(t,e/2,n,s),[u]=Jf(t,i-e/2-l+s,n,-s);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(gh(t,u)).trimStart()}function E9(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r),[a]=Jf(t,i-e+s,n,-s);return a<0?r:r+t.slice(gh(t,a)).trimStart()}const Ky=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,M9=/\p{Extended_Pictographic}/uy;function gh(t,e){return e+=JK(t,e)?2:1,eJ(t,e)&&(e=Ky.lastIndex),QK(t,e)?gh(t,e+1):e}function HA(t,e){return t.charCodeAt(e)<128}function JK(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function QK(t,e){return t.charCodeAt(e)===8205}function eJ(t,e){return HA(t,e)?!1:(Ky.lastIndex=e,Ky.test(t))}function WA(t,e){return HA(t,e)?!1:(M9.lastIndex=e,M9.test(t))}const tJ={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},$A=3.5,nJ=$A*5,GA={draw(t,e,n){const r=e*n/nJ;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},rJ={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},iJ=new Map([["arrow",GA],["spike",rJ]]);function sJ(t){return t&&typeof t.draw=="function"}function aJ(t){if(sJ(t))return t;const e=iJ.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class VA extends la{constructor(e,n={}){const{x:r,y:i,r:s=$A,length:a,rotate:l,shape:u=GA,anchor:f="middle",frameAnchor:p}=n,[m,g]=os(a,12),[v,b]=os(l,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:v,optional:!0}},n,tJ),this.r=+s,this.length=g,this.rotate=b,this.shape=aJ(u),this.anchor=Cu(f,"anchor",["start","middle","end"]),this.frameAnchor=G_(p)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:u,y:f,length:p,rotate:m}=r,{length:g,rotate:v,anchor:b,shape:k,r:R}=this,[N,x]=Fp(this,i);return Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,{x:u&&a,y:f&&l}).call(T=>T.selectAll().data(e).enter().append("path").call(Ro,this).attr("transform",jb`translate(${u?M=>u[M]:N},${f?M=>f[M]:x})${m?M=>` rotate(${m[M]})`:v?` rotate(${v})`:""}${b==="start"?"":b==="end"?p?M=>` translate(0,${p[M]})`:` translate(0,${g})`:p?M=>` translate(0,${p[M]/2})`:` translate(0,${g/2})`}`).attr("d",p?M=>{const I=_0();return k.draw(I,p[M],R),I}:(()=>{const M=_0();return k.draw(M,g,R),M})()).call(Iu,this,r)).node()}}function oJ(t,e={}){const{x:n=Ls,...r}=e;return new VA(t,{...r,x:n})}function lJ(t,e={}){const{y:n=Ls,...r}=e;return new VA(t,{...r,y:n})}function Oc(t,e){return arguments.length<2&&!Nc(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function ev({anchor:t}={},e){return t===void 0?e[0]:Cu(t,"anchor",e)}function YA(t){return ev(t,["left","right"])}function ZA(t){return ev(t,["right","left"])}function XA(t){return ev(t,["bottom","top"])}function jA(t){return ev(t,["top","bottom"])}function KA(){const[t,e]=Oc(...arguments);return QA("y",YA(e),t,e)}function uJ(){const[t,e]=Oc(...arguments);return QA("fy",ZA(e),t,e)}function JA(){const[t,e]=Oc(...arguments);return eI("x",XA(e),t,e)}function cJ(){const[t,e]=Oc(...arguments);return eI("fx",jA(e),t,e)}function QA(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:u=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:v,tickSize:b=t==="y"?6:0,tickPadding:k,tickRotate:R,x:N,margin:x,marginTop:T=x===void 0?20:x,marginRight:M=x===void 0?e==="right"?40:0:x,marginBottom:I=x===void 0?20:x,marginLeft:P=x===void 0?e==="left"?40:0:x,label:O,labelAnchor:z,labelArrow:$,labelOffset:ee,...G}){return b=ar(b),k=ar(k),R=ar(R),z!==void 0&&(z=Cu(z,"labelAnchor",["center","top","bottom"])),$=lI($),wA(b&&!na(s)?fJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:b,tickPadding:k,tickRotate:R,x:N,...G}):null,na(u)?null:dJ(t,e,n,{fill:u,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:v,textAnchor:p,tickSize:b,tickPadding:k,tickRotate:R,x:N,marginTop:T,marginRight:M,marginBottom:I,marginLeft:P,...G}),!na(u)&&O!==null?Eg([],iI({fill:u,fillOpacity:f,...G},function(J,ie,se,te,ae){const V=te[t],{marginTop:Y,marginRight:he,marginBottom:re,marginLeft:ye}=t==="y"&&ae.inset||ae,me=z??(V.bandwidth?"center":"top"),Ne=ee??(e==="right"?he:ye)-3;return me==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=me,this.frameAnchor=`${me}-${e}`,this.rotate=0),this.dy=me==="top"?3-Y:me==="bottom"?re-3:0,this.dx=e==="right"?Ne:-Ne,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[oI(t,V,{anchor:e,label:O,labelAnchor:me,labelArrow:$})]}}}})):null)}function eI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:u=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:v,tickSize:b=t==="x"?6:0,tickPadding:k,tickRotate:R,y:N,margin:x,marginTop:T=x===void 0?e==="top"?30:0:x,marginRight:M=x===void 0?20:x,marginBottom:I=x===void 0?e==="bottom"?30:0:x,marginLeft:P=x===void 0?20:x,label:O,labelAnchor:z,labelArrow:$,labelOffset:ee,...G}){return b=ar(b),k=ar(k),R=ar(R),z!==void 0&&(z=Cu(z,"labelAnchor",["center","left","right"])),$=lI($),wA(b&&!na(s)?hJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:b,tickPadding:k,tickRotate:R,y:N,...G}):null,na(u)?null:pJ(t,e,n,{fill:u,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:v,textAnchor:p,tickSize:b,tickPadding:k,tickRotate:R,y:N,marginTop:T,marginRight:M,marginBottom:I,marginLeft:P,...G}),!na(u)&&O!==null?Eg([],iI({fill:u,fillOpacity:f,...G},function(J,ie,se,te,ae){const V=te[t],{marginTop:Y,marginRight:he,marginBottom:re,marginLeft:ye}=t==="x"&&ae.inset||ae,me=z??(V.bandwidth?"center":"right"),Ne=ee??(e==="top"?Y:re)-3;return me==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${me}`,this.textAnchor=me==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Ne:Ne,this.dx=me==="right"?he-3:me==="left"?3-ye:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[oI(t,V,{anchor:e,label:O,labelAnchor:me,labelArrow:$})]}}}})):null)}function fJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:l=e,tickSize:u,inset:f=0,insetLeft:p=f,insetRight:m=f,dx:g=0,y:v=t==="y"?void 0:null,...b}){return _h(lJ,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:s,facetAnchor:a,frameAnchor:l,y:v,...b,dx:e==="left"?+g-Ms+ +p:+g+Ms-m,anchor:"start",length:u,shape:e==="left"?wJ:xJ})}function hJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:l=e,tickSize:u,inset:f=0,insetTop:p=f,insetBottom:m=f,dy:g=0,x:v=t==="x"?void 0:null,...b}){return _h(oJ,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:s,strokeLinecap:i,facetAnchor:a,frameAnchor:l,x:v,...b,dy:e==="bottom"?+g-Ms-m:+g+Ms+ +p,anchor:"start",length:u,shape:e==="bottom"?yJ:bJ})}function dJ(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>60?4*Math.cos(a*EA):0),tickFormat:u,text:f=typeof u=="function"?u:void 0,textAnchor:p=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:m=a>60?"top":a<-60?"bottom":"middle",fontVariant:g,inset:v=0,insetLeft:b=v,insetRight:k=v,dx:R=0,y:N=t==="y"?void 0:null,...x}){return _h(h0,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:p,lineAnchor:m,fontVariant:g,rotate:a,y:N,...x,dx:e==="left"?+R-s-l+ +b:+R+ +s+ +l-k},function(T,M,I,P){g===void 0&&(this.fontVariant=aI(T)),f===void 0&&(P.text=sI(T,M,I,u,e))})}function pJ(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>=10?4*Math.cos(a*EA):0),tickFormat:u,text:f=typeof u=="function"?u:void 0,textAnchor:p=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:m=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:g,inset:v=0,insetTop:b=v,insetBottom:k=v,dy:R=0,x:N=t==="x"?void 0:null,...x}){return _h(GK,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:p,lineAnchor:m,fontVariant:g,rotate:a,x:N,...x,dy:e==="bottom"?+R+ +s+ +l-k:+R-s-l+ +b},function(T,M,I,P){g===void 0&&(this.fontVariant=aI(T)),f===void 0&&(P.text=sI(T,M,I,u,e))})}function mJ(){const[t,e]=Oc(...arguments);return tI("y",YA(e),t,e)}function gJ(){const[t,e]=Oc(...arguments);return tI("fy",ZA(e),t,e)}function _J(){const[t,e]=Oc(...arguments);return nI("x",XA(e),t,e)}function vJ(){const[t,e]=Oc(...arguments);return nI("fx",jA(e),t,e)}function tI(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:s=e==="left"?i:null,x2:a=e==="right"?i:null,...l}){return _h(jy,t,`${t}-grid`,n,{y:r,x1:s,x2:a,...rI(l)})}function nI(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:s=e==="top"?i:null,y2:a=e==="bottom"?i:null,...l}){return _h(HK,t,`${t}-grid`,n,{x:r,y1:s,y2:a,...rI(l)})}function rI({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...s}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...s}}function iI({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:s,monospace:a,pointerEvents:l,shapeRendering:u},f){return[,t]=D0(t),[,e]=os(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:s,monospace:a,pointerEvents:l,shapeRendering:u,initializer:f}}function _h(t,e,n,r,i,s){let a;function l(p,m,g,v,b,k){const R=p==null&&(e==="fx"||e==="fy"),{[e]:N}=v;if(!N)throw new Error(`missing scale: ${e}`);let{ticks:x,tickSpacing:T,interval:M}=i;if(Wb(N)&&typeof x=="string"&&(M=x,x=void 0),p==null){if(Nc(x))p=Sa(x);else if(N.ticks)if(x!==void 0)p=N.ticks(x);else if(M=Dp(M===void 0?N.interval:M,N.type),M!==void 0){const[P,O]=Is(N.domain());p=M.range(P,M.offset(M.floor(O)))}else{const[P,O]=Is(N.range());x=(O-P)/(T===void 0?e==="x"?80:35:T),p=N.ticks(x)}else p=N.domain();e==="y"||e==="x"?m=[Pc(p)]:a[e]={scale:e,value:Ls}}s==null||s.call(this,N,p,x,a);const I=Object.fromEntries(Object.entries(a).map(([P,O])=>[P,{...O,value:Va(p,O.value)}]));return R&&(m=k.filterFacets(p,I)),{data:p,facets:m,channels:I}}const u=jf(i).initializer,f=t(r,jf({...i,initializer:l},u));return r==null?(a=f.channels,f.channels={}):a={},f.ariaLabel=n,f}function sI(t,e,n,r,i){return{value:Mg(t,e,n,r,i)}}function Mg(t,e,n,r,i){return r===void 0&&Wb(t)?QZ(t,e,n,i):t.tickFormat?t.tickFormat(Nc(n)?null:n,r):r===void 0?KZ(t.interval)?Zd("%Y"):JZ(t.interval)?P_("%Y"):fu:typeof r=="string"?(yu(t.domain())?Zd:kr)(r):Lp(r)}const yJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},bJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},wJ={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},xJ={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function aI(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function SJ(t){return Math.sign(Xf(t.domain()))*Math.sign(Xf(t.range()))}function oI(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:s}={}){if(!(r==null||r.inferred&&TJ(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),s==="auto"&&(s=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!s)return r;if(s===!0){const a=SJ(e);a&&(s=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(s){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function lI(t="auto"){return na(t)?!1:typeof t=="boolean"?t:Cu(t,"labelArrow",["auto","up","right","down","left"])}function TJ(t){return Wb(t)||t.interval!=null}function C9(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function kJ(t,{opacity:e,...n}={}){if(!Z0(t)&&!yA(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return uI(t,n,(r,i,s,a)=>r.append("svg").attr("width",s).attr("height",a).attr("fill",i.scale).attr("fill-opacity",os(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function EJ(t,{fill:e=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(p=>(p=t.hint)==null?void 0:p.stroke)()!==void 0?t.hint.stroke:na(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:s=1.5,r:a=4.5,...l}={},u){const[m,g]=D0(e),[v,b]=D0(r),k=C9(u,m),R=C9(u,v),N=a*a*Math.PI;return n=os(n)[1],i=os(i)[1],s=os(s)[1],uI(t,l,(x,T,M,I)=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("width",M).attr("height",I).attr("fill",m==="color"?P=>k.scale(P):g).attr("fill-opacity",n).attr("stroke",v==="color"?P=>R.scale(P):b).attr("stroke-opacity",i).attr("stroke-width",s).append("path").attr("d",P=>{const O=_0();return t.scale(P).draw(O,N),O}))}function uI(t,e={},n){let{columns:r,tickFormat:i,fontVariant:s=kA(t),swatchSize:a=15,swatchWidth:l=a,swatchHeight:u=a,marginLeft:f=0,className:p,style:m,width:g}=e;const v=zb(e);p=$b(p),typeof i!="function"&&(i=Mg(t.scale,t.domain,void 0,i));const b=Ni("div",v).attr("class",`${p}-swatches ${p}-swatches-${r!=null?"columns":"wrap"}`);let k;return r!=null?(k=`.${p}-swatches-columns .${p}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${p}-swatches-columns .${p}-swatch::before {
  flex-shrink: 0;
}
.${p}-swatches-columns .${p}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,b.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${p}-swatch`).call(n,t,l,u).call(R=>R.append("div").attr("class",`${p}-swatch-label`).attr("title",i).text(i))):(k=`.${p}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${p}-swatches-wrap .${p}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,b.selectAll().data(t.domain).enter().append("span").attr("class",`${p}-swatch`).call(n,t,l,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),b.call(R=>R.insert("style","*").text(`.${p}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${p}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${k}`)).style("margin-left",f?`${+f}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",Gi(s,"normal")).call(Gb,m).node()}const Jy=new Map([["symbol",EJ],["color",fI],["opacity",CJ]]);function MJ(t,e,n={}){return(r,i)=>{if(!Jy.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Jy.get(r)(t[r],cI(e,n[r],i),s=>t[s])}}function cI({className:t,...e},{label:n,ticks:r,tickFormat:i}={},s){return SX(s,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function fI(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return kJ(t,n);case"ramp":return PK(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function CJ({type:t,interpolate:e,...n},{legend:r=!0,color:i=vc(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return fI({type:t,...n,interpolate:AJ(i)},{legend:r,...s})}function AJ(t){const{r:e,g:n,b:r}=vc(t)||vc(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function IJ(t,e,n){const r=[];for(const[i,s]of Jy){const a=n[i];if(a!=null&&a.legend&&i in t){const l=s(t[i],cI(e,t[i],a),u=>t[u]);l!=null&&r.push(l)}}return r}const RJ={ariaLabel:"frame",fill:"none",stroke:"currentColor"},PJ={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class NJ extends la{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:s=r,insetBottom:a=r,insetLeft:l=r,rx:u,ry:f}=e;super(R1,void 0,e,n==null?RJ:PJ),this.anchor=U_(n,"anchor",["top","right","bottom","left"]),this.insetTop=ar(i),this.insetRight=ar(s),this.insetBottom=ar(a),this.insetLeft=ar(l),this.rx=ar(u),this.ry=ar(f)}render(e,n,r,i,s){const{marginTop:a,marginRight:l,marginBottom:u,marginLeft:f,width:p,height:m}=i,{anchor:g,insetTop:v,insetRight:b,insetBottom:k,insetLeft:R,rx:N,ry:x}=this,T=f+R,M=p-l-b,I=a+v,P=m-u-k;return Ni(g?"svg:line":"svg:rect",s).datum(0).call(Io,this,i,s).call(Ro,this).call(Iu,this,r).call(Qa,this,{}).call(g==="left"?O=>O.attr("x1",T).attr("x2",T).attr("y1",I).attr("y2",P):g==="right"?O=>O.attr("x1",M).attr("x2",M).attr("y1",I).attr("y2",P):g==="top"?O=>O.attr("x1",T).attr("x2",M).attr("y1",I).attr("y2",I):g==="bottom"?O=>O.attr("x1",T).attr("x2",M).attr("y1",P).attr("y2",P):O=>O.attr("x",T).attr("y",I).attr("width",M-T).attr("height",P-I).attr("rx",N).attr("ry",x)).node()}}function LJ(t){return new NJ(t)}const h4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},OJ=new Set(["geometry","href","src","ariaLabel"]);class DJ extends la{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Nc(e)&&ZC(e)&&(n={...n,title:Ls});const{x:r,y:i,x1:s,x2:a,y1:l,y2:u,anchor:f,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:v,fontVariant:b,fontWeight:k,lineHeight:R=1,lineWidth:N=20,frameAnchor:x,textAnchor:T="start",textOverflow:M,textPadding:I=8,title:P,pointerSize:O=12,pathFilter:z="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:s!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:l!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:a==null},y1:{value:l,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:s==null},y2:{value:u,scale:"y",optional:l==null},title:{value:P,optional:!0}},n,h4),this.anchor=XC(f,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=G_(x),this.textAnchor=Gi(T,"middle"),this.textPadding=+I,this.pointerSize=+O,this.pathFilter=ks(z),this.lineHeight=+R,this.lineWidth=+N,this.textOverflow=zA(M),this.monospace=!!p,this.fontFamily=ks(m),this.fontSize=ar(g),this.fontStyle=ks(v),this.fontVariant=ks(b),this.fontWeight=ks(k);for(const $ in h4)$ in this.channels&&(this[$]=h4[$]);this.splitLines=UA(this),this.clipLine=qA(this)}render(e,n,r,i,s){const a=this,{x:l,y:u,fx:f,fy:p}=n,{ownerSVGElement:m,document:g}=s,{anchor:v,monospace:b,lineHeight:k,lineWidth:R}=this,{textPadding:N,pointerSize:x,pathFilter:T}=this,{marginTop:M,marginLeft:I}=i,P=qJ(r),{x1:O,y1:z,x2:$,y2:ee,x:G=O??$,y:J=z??ee}=r,ie=f?f(e.fx)-I:0,se=p?p(e.fy)-M:0,[te,ae]=Fp(this,i),V=SA(r,te),Y=TA(r,ae),he=b?Qb:Jb,re=he(Cf),ye=f&&Mg(f),me=p&&Mg(p);function*Ne(Le,Fe){if("title"in Le){const pe=Le.title.value[Fe];for(const Ie of a.splitLines(fu(pe)))yield{name:"",value:a.clipLine(Ie)};return}for(const pe in Le){if(pe==="x1"&&"x2"in Le||pe==="y1"&&"y2"in Le)continue;const Ie=Le[pe],Ae=Ie.value[Fe];if(!(!wc(Ae)&&Ie.scale==null))if(pe==="x2"&&"x1"in Le)yield{name:d4(n,Ie,"x"),value:A9(Le.x1,Ie,Fe)};else if(pe==="y2"&&"y1"in Le)yield{name:d4(n,Ie,"y"),value:A9(Le.y1,Ie,Fe)};else{const ve=Ie.scale,Ue={name:d4(n,Ie,pe),value:fu(Ae)};(ve==="color"||ve==="opacity")&&(Ue[ve]=r[pe][Fe]),yield Ue}}e.fi!=null&&f&&(yield{name:String(f.label??"fx"),value:ye(e.fx)}),e.fi!=null&&p&&(yield{name:String(p.label??"fy"),value:me(e.fy)})}const xe=Ni("svg:g",s).call(Io,this,i,s).call(FA,this).call(Qa,this,{x:G&&l,y:J&&u}).call(Le=>Le.selectAll().data(e).enter().append("g").attr("transform",Fe=>`translate(${Math.round(V(Fe))},${Math.round(Y(Fe))})`).call(Ro,this).call(Fe=>Fe.append("path").attr("filter",T)).call(Fe=>Fe.append("text").each(function(pe){const Ie=ur(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Ae=new Set;for(const ve of Ne(P,pe)){const Ue=ve.name;Ue&&Ae.has(Ue)||(Ae.add(Ue),Ce(Ie,ve))}})));function Ce(Le,{name:Fe,value:pe,color:Ie,opacity:Ae}){const ve=Ie!=null||Ae!=null;let Ue,Ge=R*100;const[nt]=Jf(Fe,Ge,he,re);if(nt>=0)Fe=Fe.slice(0,nt).trimEnd()+Cf,Ue=pe.trim(),pe="";else{(Fe||!pe&&!ve)&&(pe=" "+pe);const[ht]=Jf(pe,Ge-he(Fe),he,re);ht>=0&&(pe=pe.slice(0,ht).trimEnd()+Cf,Ue=pe.trim())}const Re=Le.append("tspan").attr("x",0).attr("dy",`${k}em`).text("​");Fe&&Re.append("tspan").attr("font-weight","bold").text(Fe),pe&&Re.append(()=>g.createTextNode(pe)),ve&&Re.append("tspan").text(" ■").attr("fill",Ie).attr("fill-opacity",Ae).style("user-select","none"),Ue&&Re.append("title").text(Ue)}function Me(){const{width:Le,height:Fe}=i.facet??i;xe.selectChildren().each(function(pe){let{x:Ie,width:Ae,height:ve}=this.getBBox();Ae=Math.round(Ae),ve=Math.round(ve);let Ue=v;if(Ue===void 0){Ue=a.previousAnchor;const Re=V(pe)+ie,ht=Y(pe)+se,vt=Re+Ae+N*2<Le,Ft=Re-Ae-N*2>0,yt=ht+ve+x+N*2+7<Fe,Lt=ht-ve-x-N*2>0,Hn=(/-left$/.test(Ue)?vt||!Ft:vt&&!Ft)?"left":"right",Qt=(/^top-/.test(Ue)?yt||!Lt:yt&&!Lt)?"top":"bottom";Ue=a.previousAnchor=`${Qt}-${Hn}`}const Ge=this.firstChild,nt=this.lastChild;if(Ge.setAttribute("d",UJ(Ue,x,N,Ae,ve)),Ie)for(const Re of nt.childNodes)Re.setAttribute("x",-Ie);nt.setAttribute("y",`${+zJ(Ue,nt.childNodes.length,k).toFixed(6)}em`),nt.setAttribute("transform",`translate(${FJ(Ue,x,N,Ae,ve)})`)})}return m.isConnected?Promise.resolve().then(Me):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Me),xe.node()}}function BJ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=H_(e,n)),new DJ(t,{...r,x:e,y:n})}function zJ(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function FJ(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function UJ(t,e,n,r,i){const s=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-s/2},${-a/2}h${s}v${a}h${-s}z`;case"top-left":return`M0,0l${e},${e}h${s-e}v${a}h${-s}z`;case"top":return`M0,0l${e/2},${e/2}h${(s-e)/2}v${a}h${-s}v${-a}h${(s-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-s}v${a}h${s}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-s}v${a}h${s}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${s-e}v${-a}h${-s}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(s-e)/2}v${-a}h${-s}v${a}h${(s-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-s}v${-a}h${s}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${s}v${a}h${-s}v${e/2-a/2}z`}}function qJ({channels:t}){const e={};for(const n in t){if(OJ.has(n))continue;const r=jX(t,n);r&&(e[n]=r)}return e}function A9(t,e,n){var r;return(r=e.hint)!=null&&r.length?`${fu(e.value[n]-t.value[n])}`:`${fu(t.value[n])}–${fu(e.value[n])}`}function d4(t,e,n){var r;return String(((r=t[e.scale])==null?void 0:r.label)??(e==null?void 0:e.label)??n)}function rl(t={}){var ae;const{facet:e,style:n,caption:r,ariaLabel:i,ariaDescription:s}=t,a=$b(t.className),l=t.marks===void 0?[]:I9(t.marks);l.push(...ZJ(l));const u=VJ(e,t),f=new Map;for(const V of l){const Y=R9(V,u,t);Y&&f.set(V,Y)}const p=new Map;u&&jh(p,[u],t),jh(p,f,t);const m=I9(XJ(l,p,t));for(const V of m){const Y=R9(V,u,t);Y&&f.set(V,Y)}l.unshift(...m);let g=mK(p,t);if(g!==void 0){const V=u?c4(g,u):void 0;for(const he of l){if(he.facet===null||he.facet==="super")continue;const re=f.get(he);re!==void 0&&(re.facetsIndex=he.fx!=null||he.fy!=null?c4(g,re):V)}const Y=new Set;for(const{facetsIndex:he}of f.values())he==null||he.forEach((re,ye)=>{(re==null?void 0:re.length)>0&&Y.add(ye)});g.forEach(0<Y.size&&Y.size<g.length?(he,re)=>he.empty=!Y.has(re):he=>he.empty=!1);for(const he of l)if(he.facet==="exclude"){const re=f.get(he);re!==void 0&&(re.facetsIndex=vK(re.facetsIndex))}}for(const V of Fr.keys())$y(t[V])&&V!=="fx"&&V!=="fy"&&p.set(V,[]);const v=new Map;for(const V of l){if(v.has(V))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Y,channels:he}=f.get(V)??{},{data:re,facets:ye,channels:me}=V.initialize(Y,he,t);e5(me,t),v.set(V,{data:re,facets:ye,channels:me})}const b=Zy(jh(p,v,t),t),k=p9(b),R=dK(b,l,t);Fj(b,R);const{fx:N,fy:x}=k,T=N||x?gA(b,R):R,M=N||x?nQ(k,R):R,I=zb(t),P=I.document,O=Tp("svg").call(P.documentElement);let z=O;I.ownerSVGElement=O,I.className=a,I.projection=JX(t,T),I.filterFacets=(V,Y)=>c4(g,{channels:Y,groups:Vb(V,Y)}),I.getMarkState=V=>{const Y=v.get(V),he=f.get(V);return{...Y,channels:{...Y.channels,...he==null?void 0:he.channels}}},I.dispatchValue=V=>{z.value!==V&&(z.value=V,z.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[V,Y]of v)if(V.initializer!=null){const he=V.facet==="super"?M:T,re=V.initializer(Y.data,Y.facets,Y.channels,k,he,I);if(re.data!==void 0&&(Y.data=re.data),re.facets!==void 0&&(Y.facets=re.facets),re.channels!==void 0){const{fx:ye,fy:me,...Ne}=re.channels;GJ(Ne),Object.assign(Y.channels,Ne);for(const xe of Object.values(Ne)){const{scale:Ce}=xe;Ce!=null&&Fr.get(Ce)!==il&&(hI(xe,t),$.add(Ce))}(ye!=null||me!=null)&&f.set(V,!0)}}if($.size){const V=new Map;jh(V,v,t,re=>$.has(re)),jh(p,v,t,re=>$.has(re));const Y=tQ(Zy(V,t),b),he=p9(Y);Object.assign(b,Y),Object.assign(k,he)}let ee,G;g!==void 0&&(ee={x:N==null?void 0:N.domain(),y:x==null?void 0:x.domain()},g=gK(g,ee),G=_K(N,x,R));for(const[V,Y]of v)Y.values=V.scale(Y.channels,k,I);const{width:J,height:ie}=R;ur(O).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",J).attr("height",ie).attr("viewBox",`0 0 ${J} ${ie}`).attr("aria-label",i).attr("aria-description",s).call(V=>V.append("style").text(`.${a} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${a} text,
.${a} tspan {
  white-space: pre;
}`)).call(Gb,n);for(const V of l){const{channels:Y,values:he,facets:re}=v.get(V);if(g===void 0||V.facet==="super"){let ye=null;if(re&&(ye=re[0],ye=V.filter(ye,Y,he),ye.length===0))continue;const me=V.render(ye,k,he,M,I);if(me==null)continue;O.appendChild(me)}else{let ye;for(const me of g){if(!(((ae=V.facetAnchor)==null?void 0:ae.call(V,g,ee,me))??!me.empty))continue;let Ne=null;if(re){const Ce=f.has(V);if(Ne=re[Ce?me.i:0],Ne=V.filter(Ne,Y,he),Ne.length===0)continue;!Ce&&Ne===re[0]&&(Ne=hX(Ne)),Ne.fx=me.x,Ne.fy=me.y,Ne.fi=me.i}const xe=V.render(Ne,k,he,T,I);if(xe!=null){(ye??(ye=ur(O).append("g"))).append(()=>xe).datum(me);for(const Ce of["aria-label","aria-description","aria-hidden","transform"])xe.hasAttribute(Ce)&&(ye.attr(Ce,xe.getAttribute(Ce)),xe.removeAttribute(Ce))}}ye==null||ye.selectChildren().attr("transform",G)}}const se=IJ(b,I,t);if(r!=null||se.length>0){z=P.createElement("figure"),z.style.maxWidth="initial";for(const V of se)z.appendChild(V);if(z.appendChild(O),r!=null){const V=P.createElement("figcaption");V.appendChild(r!=null&&r.ownerDocument?r:P.createTextNode(r)),z.appendChild(V)}}z.scale=Vj(b),z.legend=MJ(b,I,t);const te=KX();return te>0&&ur(O).append("text").attr("x",J).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${te.toLocaleString("en-US")} warning${te===1?"":"s"}. Please check the console.`),z}function HJ({marks:t=[],...e}={}){return rl({...e,marks:[...t,this]})}la.prototype.plot=HJ;function I9(t){return t.flat(1/0).filter(e=>e!=null).map(WJ)}function WJ(t){return typeof t.render=="function"?t:new $J(t)}class $J extends la{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function e5(t,e){for(const n in t)hI(t[n],e);return t}function hI(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:s,interval:a,transform:l=s?u=>u*100:YC(a,i)}=e[n]??{};l!=null&&(t.value=Ii(t.value,l),t.transform=!1)}function GJ(t){for(const e in t)QC(e,t[e])}function jh(t,e,n,r=iX){var i,s;for(const{channels:a}of e.values())for(const l in a){const u=a[l],{scale:f}=u;if(f!=null&&r(f))if(f==="projection"){if(!nj(n)){const p=((i=n.x)==null?void 0:i.domain)===void 0,m=((s=n.y)==null?void 0:s.domain)===void 0;if(p||m){const[g,v]=ij(u);p&&p4(t,"x",g),m&&p4(t,"y",v)}}}else p4(t,f,u)}return t}function p4(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function VJ(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Sa(t.data);if(i==null)throw new Error("missing facet data");const s={};n!=null&&(s.fx=Qd(i,{value:n,scale:"fx"})),r!=null&&(s.fy=Qd(i,{value:r,scale:"fy"})),e5(s,e);const a=Vb(i,s);return{channels:s,groups:a,data:t.data}}function R9(t,e,n){var u;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=Sa(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const p={};return r!=null&&(p.fx=Qd(f,{value:r,scale:"fx"})),i!=null&&(p.fy=Qd(f,{value:i,scale:"fy"})),e5(p,n),{channels:p,groups:Vb(f,p)}}if(e===void 0)return;const{channels:s,groups:a,data:l}=e;if(t.facet!=="auto"||t.data===l)return{channels:s,groups:a};l.length>0&&(a.size>1||a.size===1&&s.fx&&s.fy&&[...a][0][1].size>1)&&((u=Sa(t.data))==null?void 0:u.length)===l.length&&k0(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function YJ(t,e={}){return jf({...e,x:null,y:null},(n,r,i,s,a,l)=>l.getMarkState(t))}function ZJ(t){const e=[];for(const n of t){const r=n.tip;if(r){const s=(r==="x"?IK:r==="y"?RK:AK)(YJ(n));s.title=null,e.push(BJ(n.data,s))}}return e}function XJ(t,e,n){let{projection:r,x:i={},y:s={},fx:a={},fy:l={},axis:u,grid:f,facet:p={},facet:{axis:m=u,grid:g}=p,x:{axis:v=u,grid:b=v===null?null:f}=i,y:{axis:k=u,grid:R=k===null?null:f}=s,fx:{axis:N=m,grid:x=N===null?null:g}=a,fy:{axis:T=m,grid:M=T===null?null:g}=l}=n;(r||!$y(i)&&!P9("x",t))&&(v=b=null),(r||!$y(s)&&!P9("y",t))&&(k=R=null),e.has("fx")||(N=x=null),e.has("fy")||(T=M=null),v===void 0&&(v=!Jm(t,"x")),k===void 0&&(k=!Jm(t,"y")),N===void 0&&(N=!Jm(t,"fx")),T===void 0&&(T=!Jm(t,"fy")),v===!0&&(v="bottom"),k===!0&&(k="left"),N===!0&&(N=v==="top"||v===null?"bottom":"top"),T===!0&&(T=k==="right"||k===null?"left":"right");const I=[];return Km(I,M,gJ,l),jm(I,T,uJ,"right","left",p,l),Km(I,x,vJ,a),jm(I,N,cJ,"top","bottom",p,a),Km(I,R,mJ,s),jm(I,k,KA,"left","right",n,s),Km(I,b,_J,i),jm(I,v,JA,"bottom","top",n,i),I}function jm(t,e,n,r,i,s,a){if(!e)return;const l=jJ(e);a=KJ(l?r:e,s,a);const{line:u}=a;(n===KA||n===JA)&&u&&!Jd(u)&&t.push(LJ(JJ(a))),t.push(n(a)),l&&t.push(n({...a,anchor:i,label:null}))}function Km(t,e,n,r){!e||Jd(e)||t.push(n(QJ(e,r)))}function jJ(t){return/^\s*both\s*$/i.test(t)}function KJ(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:u,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g=e.label,labelAnchor:v,labelArrow:b=e.labelArrow,labelOffset:k}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:u,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g,labelAnchor:v,labelArrow:b,labelOffset:k}}function JJ(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function QJ(t,{stroke:e=$_(t)?t:void 0,ticks:n=eQ(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:s}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:s}}function eQ(t){switch(typeof t){case"number":return!0;case"string":return!$_(t)}return Nc(t)||typeof(t==null?void 0:t.range)=="function"}function Jm(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function P9(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function tQ(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function nQ({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:u}=Hb(n),f=t&&N9(t),p=e&&N9(e);return{marginTop:e?p[0]:r,marginRight:t?l-f[1]:i,marginBottom:e?u-p[1]:s,marginLeft:t?f[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:u}}function N9(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const rQ=new Map([["basis",EZ],["basis-closed",MZ],["basis-open",CZ],["bundle",AZ],["bump-x",mZ],["bump-y",gZ],["cardinal",IZ],["cardinal-closed",RZ],["cardinal-open",PZ],["catmull-rom",NZ],["catmull-rom-closed",LZ],["catmull-rom-open",OZ],["linear",D_],["linear-closed",DZ],["monotone-x",BZ],["monotone-y",zZ],["natural",FZ],["step",UZ],["step-after",HZ],["step-before",qZ]]);function iQ(t=D_,e){if(typeof t=="function")return t;const n=rQ.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function sQ(t=Cg,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Cg:iQ(t,e)}function Cg(t){return D_(t)}function aQ(t={}){return $C(t)?t:{...t,y:Ls}}function oQ(t={},e={}){arguments.length===1&&([t,e]=uQ(t));const{x1:n,x:r=n,y:i,...s}=e,[a,l,u,f]=fQ(r,i,"x","y",t,s);return{...a,x1:n,x:l,y1:u,y2:f,y:pX(u,f)}}function lQ({y:t,y1:e,y2:n,...r}={}){return r=Yb(r,"x"),e===void 0&&n===void 0?oQ({y:t,...r}):([e,n]=fX(t,e,n),{...r,y1:e,y2:n})}function uQ(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const cQ={length:!0};function fQ(t,e=rX,n,r,{offset:i,order:s,reverse:a},l){const u=GC(l),[f,p]=dX(t),[m,g]=Gy(e),[v,b]=Gy(e);return m.hint=v.hint=cQ,i=hQ(i),s=mQ(s,i,r),[Db(l,(k,R,N)=>{const x=t==null?void 0:p(mX(Va(k,t),N==null?void 0:N[n])),T=Va(k,e,Float64Array),M=Va(k,u),I=s&&s(k,x,T,M),P=k.length,O=g(new Float64Array(P)),z=b(new Float64Array(P)),$=[];for(const ee of R){const G=x?Array.from(Q3(ee,J=>x[J]).values()):[ee];if(I)for(const J of G)J.sort(I);for(const J of G){let ie=0,se=0;a&&J.reverse();for(const te of J){const ae=T[te];ae<0?ie=z[te]=(O[te]=ie)+ae:ae>0?se=z[te]=(O[te]=se)+ae:z[te]=O[te]=se}}$.push(G)}return i&&i($,O,z,M),{data:k,facets:R}}),f,m,v]}function hQ(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return dQ;case"center":case"silhouette":return pQ;case"wiggle":return pI}throw new Error(`unknown offset: ${t}`)}}function dI(t,e){let n=0,r=0;for(const i of t){const s=e[i];s<n&&(n=s),s>r&&(r=s)}return[n,r]}function dQ(t,e,n){for(const r of t)for(const i of r){const[s,a]=dI(i,n);for(const l of i){const u=1/(a-s||1);e[l]=u*(e[l]-s),n[l]=u*(n[l]-s)}}}function pQ(t,e,n){for(const r of t){for(const i of r){const[s,a]=dI(i,n);for(const l of i){const u=(a+s)/2;e[l]-=u,n[l]-=u}}mI(r,e,n)}gI(t,e,n)}function pI(t,e,n,r){for(const i of t){const s=new A0;let a=0;for(const l of i){let u=-1;const f=l.map(v=>Math.abs(n[v]-e[v])),p=l.map(v=>{u=r?r[v]:++u;const b=n[v]-e[v],k=s.has(u)?b-s.get(u):0;return s.set(u,b),k}),m=[0,...tq(p)];for(const v of l)e[v]+=a,n[v]+=a;const g=rr(f);g&&(a-=rr(f,(v,b)=>(p[b]/2+m[b])*v)/g)}mI(i,e,n)}gI(t,e,n)}function mI(t,e,n){const r=hl(t,i=>hl(i,s=>e[s]));for(const i of t)for(const s of i)e[s]-=r,n[s]-=r}function gI(t,e,n){const r=t.length;if(r===1)return;const i=t.map(l=>l.flat()),s=i.map(l=>(hl(l,u=>e[u])+ko(l,u=>n[u]))/2),a=hl(s);for(let l=0;l<r;l++){const u=a-s[l];for(const f of i[l])e[f]+=u,n[f]+=u}}function mQ(t,e,n){if(t===void 0&&e===pI)return L9(gl);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Tg:gl;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return gQ(i);case"z":return _Q(i);case"sum":return vQ(i);case"appearance":return yQ(i);case"inside-out":return L9(i)}return O9(qC(t))}if(typeof t=="function")return(t.length===1?O9:bQ)(t);if(Array.isArray(t))return wQ(t);throw new Error(`invalid order: ${t}`)}}function gQ(t){return(e,n,r)=>(i,s)=>t(r[i],r[s])}function _Q(t){return(e,n,r,i)=>(s,a)=>t(i[s],i[a])}function vQ(t){return tv(t,(e,n,r,i)=>tb(Pc(e),s=>rr(s,a=>r[a]),s=>i[s]))}function yQ(t){return tv(t,(e,n,r,i)=>tb(Pc(e),s=>n[nb(s,a=>r[a])],s=>i[s]))}function L9(t){return tv(t,(e,n,r,i)=>{const s=Pc(e),a=tb(s,m=>n[nb(m,g=>r[g])],m=>i[m]),l=_d(s,m=>rr(m,g=>r[g]),m=>i[m]),u=[],f=[];let p=0;for(const m of a)p<0?(p+=l.get(m),u.push(m)):(p-=l.get(m),f.push(m));return f.reverse().concat(u)})}function O9(t){return e=>{const n=Va(e,t);return(r,i)=>gl(n[r],n[i])}}function bQ(t){return e=>(n,r)=>t(e[n],e[r])}function wQ(t){return tv(gl,()=>t)}function tv(t,e){return(n,r,i,s)=>{if(!s)throw new Error("missing channel: z");const a=new A0(e(n,r,i,s).map((l,u)=>[l,u]));return(l,u)=>t(a.get(s[l]),a.get(s[u]))}}class xQ extends la{constructor(e,n,r={},i){super(e,n,r,i);const{inset:s=0,insetTop:a=s,insetRight:l=s,insetBottom:u=s,insetLeft:f=s,rx:p,ry:m}=r;this.insetTop=ar(a),this.insetRight=ar(l),this.insetBottom=ar(u),this.insetLeft=ar(f),this.rx=Gi(p,"auto"),this.ry=Gi(m,"auto")}render(e,n,r,i,s){const{rx:a,ry:l}=this;return Ni("svg:g",s).call(Io,this,i,s).call(this._transform,this,n).call(u=>u.selectAll().data(e).enter().append("rect").call(Ro,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Vt,"rx",a).call(Vt,"ry",l).call(Iu,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?s=>n[s]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?s=>n[s]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:s}){const{insetLeft:a,insetRight:l}=this,u=n&&e?e.bandwidth():s-r-i;return Math.max(0,u-a-l)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:s}){const{insetTop:a,insetBottom:l}=this,u=n&&e?e.bandwidth():s-r-i;return Math.max(0,u-a-l)}}const SQ={ariaLabel:"bar"};class TQ extends xQ{constructor(e,n={}){const{x:r,y1:i,y2:s}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:s,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,SQ)}_transform(e,n,{y:r}){e.call(Qa,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:s}=this;return Kf(e)?i+s:a=>Math.min(n[a],r[a])+s}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:s,height:a}){const{insetTop:l,insetBottom:u}=this;return Kf(e)?a-i-s-l-u:f=>Math.max(0,Math.abs(r[f]-n[f])-l-u)}}function hf(t,e={}){return cX(e)||(e={...e,x:HC,y2:Ls}),new TQ(t,lQ(LA(aQ(e))))}const kQ={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function _I(t){return t.sort===void 0&&t.reverse===void 0?PX({channel:"-r"},t):t}class EQ extends la{constructor(e,n={}){const{x:r,y:i,r:s,rotate:a,symbol:l=Xd,frameAnchor:u}=n,[f,p]=os(a,0),[m,g]=IX(l),[v,b]=os(s,m==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:v,scale:"r",filter:Np,optional:!0},rotate:{value:f,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},_I(n),kQ),this.r=b,this.rotate=p,this.symbol=g,this.frameAnchor=G_(u);const{channels:k}=this,{symbol:R}=k;if(R){const{fill:N,stroke:x}=k;R.hint={fill:N?N.value===R.value?"color":"currentColor":this.fill,stroke:x?x.value===R.value?"color":"currentColor":this.stroke}}}render(e,n,r,i,s){const{x:a,y:l}=n,{x:u,y:f,r:p,rotate:m,symbol:g}=r,{r:v,rotate:b,symbol:k}=this,[R,N]=Fp(this,i),x=k===Xd,T=p?void 0:v*v*Math.PI;return F_(v)&&(e=[]),Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,{x:u&&a,y:f&&l}).call(M=>M.selectAll().data(e).enter().append(x?"circle":"path").call(Ro,this).call(x?I=>{I.attr("cx",u?P=>u[P]:R).attr("cy",f?P=>f[P]:N).attr("r",p?P=>p[P]:v)}:I=>{I.attr("transform",jb`translate(${u?P=>u[P]:R},${f?P=>f[P]:N})${m?P=>` rotate(${m[P]})`:b?` rotate(${b})`:""}`).attr("d",p&&g?P=>{const O=_0();return g[P].draw(O,p[P]*p[P]*Math.PI),O}:p?P=>{const O=_0();return k.draw(O,p[P]*p[P]*Math.PI),O}:g?P=>{const O=_0();return g[P].draw(O,T),O}:(()=>{const P=_0();return k.draw(P,T),P})())}).call(Iu,this,r)).node()}}function MQ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=H_(e,n)),new EQ(t,{...r,x:e,y:n})}const CQ={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class AQ extends la{constructor(e,n={}){const{x:r,y:i,z:s,curve:a,tension:l}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:GC(n),optional:!0}},n,CQ),this.z=s,this.curve=sQ(a,l),Q_(this,n)}filter(e){return e}project(e,n,r){this.curve!==Cg&&super.project(e,n,r)}render(e,n,r,i,s){const{x:a,y:l}=r,{curve:u}=this;return Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,n).call(f=>f.selectAll().data(lK(e,[a,l],this,r)).enter().append("path").call(Ro,this).call(sK,this,r).call(DK,this,r,s).attr("d",u===Cg&&s.projection?IQ(s.projection,a,l):pZ().curve(u).defined(p=>p>=0).x(p=>a[p]).y(p=>l[p]))).node()}}function IQ(t,e,n){const r=$f(t);return e=kg(e),n=kg(n),i=>{let s=[];const a=[s];for(const l of i)l===-1?(s=[],a.push(s)):s.push([e[l],n[l]]);return r({type:"MultiLineString",coordinates:a})}}function xd(t,{x:e,y:n,...r}={}){return[e,n]=H_(e,n),new AQ(t,{...r,x:e,y:n})}const RQ={ariaLabel:"tick",fill:null,stroke:"currentColor"};class vI extends la{constructor(e,n,r){super(e,n,r,RQ),Q_(this,r)}render(e,n,r,i,s){return Ni("svg:g",s).call(Io,this,i,s).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(Ro,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Iu,this,r).call(Xb,this,r,s)).node()}}class PQ extends vI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetTop:a=s,insetBottom:l=s}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=ar(a),this.insetBottom=ar(l)}_transform(e,n,{x:r}){e.call(Qa,n,{x:r},Ms,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?s=>n[s]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}}class NQ extends vI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetRight:a=s,insetLeft:l=s}=n;super(e,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=ar(a),this.insetLeft=ar(l)}_transform(e,n,{y:r}){e.call(Qa,n,{y:r},0,Ms)}_x1({x:e},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&e?s=>n[s]+i:r+i}_x2({x:e},{x:n},{width:r,marginRight:i}){const{insetRight:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}_y1(e,{y:n}){return r=>n[r]}_y2(e,{y:n}){return r=>n[r]}}function LQ(t,{x:e=Ls,...n}={}){return new PQ(t,{...n,x:e})}function Qm(t,{y:e=Ls,...n}={}){return new NQ(t,{...n,y:e})}const OQ={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class DQ extends la{constructor(e,n={}){const[r,i]=os(n.r,3);super(e,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:Np,optional:!0}},_I(n),OQ),this.r=i}render(e,n,r,i,s){const{geometry:a,r:l}=r,u=$f(s.projection??BQ(n)),{r:f}=this;return F_(f)?e=[]:f!==void 0&&u.pointRadius(f),Ni("svg:g",s).call(Io,this,i,s).call(Qa,this,n).call(p=>{p.selectAll().data(e).enter().append("path").call(Ro,this).attr("d",l?m=>u.pointRadius(l[m])(a[m]):m=>u(a[m])).call(Iu,this,r)}).node()}}function BQ({x:t,y:e}){if(t||e)return t??(t=n=>n),e??(e=n=>n),Gd({point(n,r){this.stream.point(t(n),e(r))}})}function Qo(t,{geometry:e=Ls,...n}={}){switch(t==null?void 0:t.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t];break}return new DQ(t,{geometry:e,...n})}function yI({strokeWidth:t=1.5,...e}={}){return Qo({type:"Sphere"},{strokeWidth:t,...e})}function bI({strokeOpacity:t=.1,...e}={}){return Qo(YG(),{strokeOpacity:t,...e})}var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const zQ="modulepreload",FQ=function(t){return"/"+t},D9={},tp=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=FQ(s),s in D9)return;D9[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":zQ,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},df=[];function n5(t,e=Pn){let n;const r=new Set;function i(l){if(Za(t,l)&&(t=l,n)){const u=!df.length;for(const f of r)f[1](),df.push(f,t);if(u){for(let f=0;f<df.length;f+=2)df[f][0](df[f+1]);df.length=0}}}function s(l){i(l(t))}function a(l,u=Pn){const f=[l,u];return r.add(f),r.size===1&&(n=e(i)||Pn),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(t,e){if(!t)throw vh(e)},vh=function(t){return new Error("Firebase Database ("+wI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},r5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,v=f&63;u||(v=64,a||(g=64)),r.push(n[p],n[m],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||m==null)throw new qQ;const g=s<<2|l>>4;if(r.push(g),f!==64){const v=l<<4&240|f>>2;if(r.push(v),m!==64){const b=f<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(t){const e=xI(t);return r5.encodeByteArray(e,!0)},Ag=function(t){return SI(t).replace(/\./g,"")},Ig=function(t){try{return r5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t){return TI(void 0,t)}function TI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!WQ(n)||(t[n]=TI(t[n],e[n]));return t}function WQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=()=>$Q().__FIREBASE_DEFAULTS__,VQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ig(t[1]);return e&&JSON.parse(e)},i5=()=>{try{return GQ()||VQ()||YQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kI=t=>{var e,n;return(n=(e=i5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EI=t=>{const e=kI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MI=()=>{var t;return(t=i5())===null||t===void 0?void 0:t.config},CI=t=>{var e;return(e=i5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ag(JSON.stringify(n)),Ag(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ls())}function ZQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XQ(){const t=ls();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RI(){return wI.NODE_ADMIN===!0}function jQ(){try{return typeof indexedDB=="object"}catch{return!1}}function KQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ="FirebaseError";class Ru extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JQ,Object.setPrototypeOf(this,Ru.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qp.prototype.create)}}class qp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QQ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ru(i,l,r)}}function QQ(t,e){return t.replace(eee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return JSON.parse(t)}function hi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=np(Ig(s[0])||""),n=np(Ig(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},tee=function(t){const e=PI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nee=function(t){const e=PI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Pg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(B9(s)&&B9(a)){if(!Pg(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=l^s&(a^l),p=1518500249):(f=s^a^l,p=1859775393):m<60?(f=s&a|l&(s|a),p=2400959708):(f=s^a^l,p=3395469782);const g=(i<<5|i>>>27)+f+u+p+r[m]&4294967295;u=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function iee(t,e){const n=new see(t,e);return n.subscribe.bind(n)}class see{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m4),i.error===void 0&&(i.error=m4),i.complete===void 0&&(i.complete=m4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m4(){}function rv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ve(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return t&&t._delegate?t._delegate:t}class xc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Up;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cee(e))try{this.getOrInitializeService({instanceIdentifier:d0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=d0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=d0){return this.instances.has(e)}getOptions(e=d0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=d0){return this.component?this.component.multipleInstances?e:d0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uee(t){return t===d0?void 0:t}function cee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($n||($n={}));const hee={debug:$n.DEBUG,verbose:$n.VERBOSE,info:$n.INFO,warn:$n.WARN,error:$n.ERROR,silent:$n.SILENT},dee=$n.INFO,pee={[$n.DEBUG]:"log",[$n.VERBOSE]:"log",[$n.INFO]:"info",[$n.WARN]:"warn",[$n.ERROR]:"error"},mee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a5{constructor(e){this.name=e,this._logLevel=dee,this._logHandler=mee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$n.DEBUG,...e),this._logHandler(this,$n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$n.VERBOSE,...e),this._logHandler(this,$n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$n.INFO,...e),this._logHandler(this,$n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$n.WARN,...e),this._logHandler(this,$n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$n.ERROR,...e),this._logHandler(this,$n.ERROR,...e)}}const gee=(t,e)=>e.some(n=>t instanceof n);let z9,F9;function _ee(){return z9||(z9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vee(){return F9||(F9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NI=new WeakMap,e3=new WeakMap,LI=new WeakMap,g4=new WeakMap,o5=new WeakMap;function yee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(hc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&NI.set(n,t)}).catch(()=>{}),o5.set(e,t),e}function bee(t){if(e3.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});e3.set(t,e)}let t3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wee(t){t3=t(t3)}function xee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_4(this),e,...n);return LI.set(r,e.sort?e.sort():[e]),hc(r)}:vee().includes(t)?function(...e){return t.apply(_4(this),e),hc(NI.get(this))}:function(...e){return hc(t.apply(_4(this),e))}}function See(t){return typeof t=="function"?xee(t):(t instanceof IDBTransaction&&bee(t),gee(t,_ee())?new Proxy(t,t3):t)}function hc(t){if(t instanceof IDBRequest)return yee(t);if(g4.has(t))return g4.get(t);const e=See(t);return e!==t&&(g4.set(t,e),o5.set(e,t)),e}const _4=t=>o5.get(t);function Tee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=hc(a);return r&&a.addEventListener("upgradeneeded",u=>{r(hc(a.result),u.oldVersion,u.newVersion,hc(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const kee=["get","getKey","getAll","getAllKeys","count"],Eee=["put","add","delete","clear"],v4=new Map;function U9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v4.get(e))return v4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kee.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return v4.set(e,s),s}wee(t=>({...t,get:(e,n,r)=>U9(e,n)||t.get(e,n,r),has:(e,n)=>!!U9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n3="@firebase/app",q9="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new a5("@firebase/app"),Aee="@firebase/app-compat",Iee="@firebase/analytics-compat",Ree="@firebase/analytics",Pee="@firebase/app-check-compat",Nee="@firebase/app-check",Lee="@firebase/auth",Oee="@firebase/auth-compat",Dee="@firebase/database",Bee="@firebase/database-compat",zee="@firebase/functions",Fee="@firebase/functions-compat",Uee="@firebase/installations",qee="@firebase/installations-compat",Hee="@firebase/messaging",Wee="@firebase/messaging-compat",$ee="@firebase/performance",Gee="@firebase/performance-compat",Vee="@firebase/remote-config",Yee="@firebase/remote-config-compat",Zee="@firebase/storage",Xee="@firebase/storage-compat",jee="@firebase/firestore",Kee="@firebase/firestore-compat",Jee="firebase",Qee="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="[DEFAULT]",ete={[n3]:"fire-core",[Aee]:"fire-core-compat",[Ree]:"fire-analytics",[Iee]:"fire-analytics-compat",[Nee]:"fire-app-check",[Pee]:"fire-app-check-compat",[Lee]:"fire-auth",[Oee]:"fire-auth-compat",[Dee]:"fire-rtdb",[Bee]:"fire-rtdb-compat",[zee]:"fire-fn",[Fee]:"fire-fn-compat",[Uee]:"fire-iid",[qee]:"fire-iid-compat",[Hee]:"fire-fcm",[Wee]:"fire-fcm-compat",[$ee]:"fire-perf",[Gee]:"fire-perf-compat",[Vee]:"fire-rc",[Yee]:"fire-rc-compat",[Zee]:"fire-gcs",[Xee]:"fire-gcs-compat",[jee]:"fire-fst",[Kee]:"fire-fst-compat","fire-js":"fire-js",[Jee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map,i3=new Map;function tte(t,e){try{t.container.addComponent(e)}catch(n){B0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function z0(t){const e=t.name;if(i3.has(e))return B0.debug(`There were multiple attempts to register component ${e}.`),!1;i3.set(e,t);for(const n of Ng.values())tte(n,t);return!0}function sv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},dc=new qp("app","Firebase",nte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=Qee;function OI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:r3,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dc.create("bad-app-name",{appName:String(i)});if(n||(n=MI()),!n)throw dc.create("no-options");const s=Ng.get(i);if(s){if(Pg(n,s.options)&&Pg(r,s.config))return s;throw dc.create("duplicate-app",{appName:i})}const a=new fee(i);for(const u of i3.values())a.addComponent(u);const l=new rte(n,r,a);return Ng.set(i,l),l}function av(t=r3){const e=Ng.get(t);if(!e&&t===r3&&MI())return OI();if(!e)throw dc.create("no-app",{appName:t});return e}function hu(t,e,n){var r;let i=(r=ete[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),B0.warn(l.join(" "));return}z0(new xc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite="firebase-heartbeat-database",ste=1,rp="firebase-heartbeat-store";let y4=null;function DI(){return y4||(y4=Tee(ite,ste,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rp)}}}).catch(t=>{throw dc.create("idb-open",{originalErrorMessage:t.message})})),y4}async function ate(t){try{return await(await DI()).transaction(rp).objectStore(rp).get(BI(t))}catch(e){if(e instanceof Ru)B0.warn(e.message);else{const n=dc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});B0.warn(n.message)}}}async function H9(t,e){try{const r=(await DI()).transaction(rp,"readwrite");await r.objectStore(rp).put(e,BI(t)),await r.done}catch(n){if(n instanceof Ru)B0.warn(n.message);else{const r=dc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});B0.warn(r.message)}}}function BI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=1024,lte=30*24*60*60*1e3;class ute{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=W9();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lte}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W9(),{heartbeatsToSend:n,unsentEntries:r}=cte(this._heartbeatsCache.heartbeats),i=Ag(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function W9(){return new Date().toISOString().substring(0,10)}function cte(t,e=ote){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),$9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jQ()?KQ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ate(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $9(t){return Ag(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(t){z0(new xc("platform-logger",e=>new Mee(e),"PRIVATE")),z0(new xc("heartbeat",e=>new ute(e),"PRIVATE")),hu(n3,q9,t),hu(n3,q9,"esm2017"),hu("fire-js","")}hte("");function l5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dte=zI,FI=new qp("auth","Firebase",zI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new a5("@firebase/auth");function pte(t,...e){Lg.logLevel<=$n.WARN&&Lg.warn(`Auth (${X0}): ${t}`,...e)}function P1(t,...e){Lg.logLevel<=$n.ERROR&&Lg.error(`Auth (${X0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,...e){throw u5(t,...e)}function ul(t,...e){return u5(t,...e)}function mte(t,e,n){const r=Object.assign(Object.assign({},dte()),{[e]:n});return new qp("auth","Firebase",r).create(e,{appName:t.name})}function u5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FI.create(t,...e)}function Dt(t,e,...n){if(!t)throw u5(e,...n)}function lu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw P1(e),new Error(e)}function bu(t,e){t||lu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gte(){return G9()==="http:"||G9()==="https:"}function G9(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gte()||ZQ()||"connection"in navigator)?navigator.onLine:!0}function vte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.shortDelay=e,this.longDelay=n,bu(n>e,"Short delay should be less than long delay!"),this.isMobile=s5()||II()}get(){return _te()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){bu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;lu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;lu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;lu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new Hp(3e4,6e4);function Wp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bh(t,e,n,r,i={}){return qI(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=yh(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),UI.fetch()(HI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function qI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yte),e);try{const i=new wte(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw e1(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw e1(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw e1(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw e1(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mte(t,p,f);Co(t,p)}}catch(i){if(i instanceof Ru)throw i;Co(t,"network-request-failed",{message:String(i)})}}async function ov(t,e,n,r,i={}){const s=await bh(t,e,n,r,i);return"mfaPendingCredential"in s&&Co(t,"multi-factor-auth-required",{_serverResponse:s}),s}function HI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?c5(t.config,i):`${t.config.apiScheme}://${i}`}class wte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ul(this.auth,"network-request-failed")),bte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function e1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ul(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e){return bh(t,"POST","/v1/accounts:delete",e)}async function Ste(t,e){return bh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tte(t,e=!1){const n=Xi(t),r=await n.getIdToken(e),i=f5(r);Dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sd(b4(i.auth_time)),issuedAtTime:Sd(b4(i.iat)),expirationTime:Sd(b4(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function b4(t){return Number(t)*1e3}function f5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return P1("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ig(n);return i?JSON.parse(i):(P1("Failed to decode base64 JWT payload"),null)}catch(i){return P1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kte(t){const e=f5(t);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ru&&Ete(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ete({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sd(this.lastLoginAt),this.creationTime=Sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ip(t,Ste(n,{idToken:r}));Dt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ite(s.providerUserInfo):[],l=Ate(t.providerData,a),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new WI(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function Cte(t){const e=Xi(t);await Og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ate(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ite(t){return t.map(e=>{var{providerId:n}=e,r=l5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rte(t,e){const n=await qI(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=HI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",UI.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kte(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Dt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Rte(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new sp;return r&&(Dt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Dt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Dt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sp,this.toJSON())}_performRefresh(){return lu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e){Dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class E0{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=l5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ip(this,this.stsTokenManager.getToken(this.auth,e));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tte(this,e)}reload(){return Cte(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new E0(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ip(this,xte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,N=(f=n.createdAt)!==null&&f!==void 0?f:void 0,x=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:T,emailVerified:M,isAnonymous:I,providerData:P,stsTokenManager:O}=n;Dt(T&&O,e,"internal-error");const z=sp.fromJSON(this.name,O);Dt(typeof T=="string",e,"internal-error"),Qu(m,e.name),Qu(g,e.name),Dt(typeof M=="boolean",e,"internal-error"),Dt(typeof I=="boolean",e,"internal-error"),Qu(v,e.name),Qu(b,e.name),Qu(k,e.name),Qu(R,e.name),Qu(N,e.name),Qu(x,e.name);const $=new E0({uid:T,auth:e,email:g,emailVerified:M,displayName:m,isAnonymous:I,photoURL:b,phoneNumber:v,tenantId:k,stsTokenManager:z,createdAt:N,lastLoginAt:x});return P&&Array.isArray(P)&&($.providerData=P.map(ee=>Object.assign({},ee))),R&&($._redirectEventId=R),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new sp;i.updateFromServerResponse(n);const s=new E0({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Og(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Map;function uu(t){bu(t instanceof Function,"Expected a class definition");let e=V9.get(t);return e?(bu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V9.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$I.type="NONE";const Y9=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e,n){return`firebase:${t}:${e}:${n}`}class Af{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=N1(this.userKey,i.apiKey,s),this.fullPersistenceKey=N1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?E0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Af(uu(Y9),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||uu(Y9);const a=N1(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const p=await f._get(a);if(p){const m=E0._fromJSON(e,p);f!==s&&(l=m),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Af(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Af(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XI(e))return"Blackberry";if(jI(e))return"Webos";if(h5(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if(ZI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GI(t=ls()){return/firefox\//i.test(t)}function h5(t=ls()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(t=ls()){return/crios\//i.test(t)}function YI(t=ls()){return/iemobile/i.test(t)}function ZI(t=ls()){return/android/i.test(t)}function XI(t=ls()){return/blackberry/i.test(t)}function jI(t=ls()){return/webos/i.test(t)}function lv(t=ls()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pte(t=ls()){var e;return lv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nte(){return XQ()&&document.documentMode===10}function KI(t=ls()){return lv(t)||ZI(t)||jI(t)||XI(t)||/windows phone/i.test(t)||YI(t)}function Lte(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e=[]){let n;switch(t){case"Browser":n=Z9(ls());break;case"Worker":n=`${Z9(ls())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${X0}/${r}`}async function QI(t,e){return bh(t,"GET","/v2/recaptchaConfig",Wp(t,e))}function X9(t){return t!==void 0&&t.enterprise!==void 0}class eR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ul("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ote().appendChild(r)})}function Dte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Bte="https://www.google.com/recaptcha/enterprise.js?render=",zte="recaptcha-enterprise",Fte="NO_RECAPTCHA";class nR{constructor(e){this.type=zte,this.auth=$p(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{QI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new eR(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;X9(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Fte)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&X9(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}tR(Bte+l).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function j9(t,e,n,r=!1){const i=new nR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K9(this),this.idTokenSubscription=new K9(this),this.beforeStateQueue=new Ute(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=uu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Af.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Og(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Xi(e):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(uu(e))})}async initializeRecaptchaConfig(){const e=await QI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new eR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&uu(e)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await Af.create(this,[uu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Dt(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pte(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $p(t){return Xi(t)}class K9{constructor(e){this.auth=e,this.observer=null,this.addObserver=iee(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(t,e){const n=sv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pg(s,e??{}))return i;Co(i,"already-initialized")}return n.initialize({options:e})}function Wte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $te(t,e,n){const r=$p(t);Dt(r._canInitEmulator,r,"emulator-config-failed"),Dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rR(e),{host:a,port:l}=Gte(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Vte()}function rR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gte(t){const e=rR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:J9(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:J9(a)}}}function J9(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lu("not implemented")}_getIdTokenResponse(e){return lu("not implemented")}_linkToIdToken(e,n){return lu("not implemented")}_getReauthenticationResolver(e){return lu("not implemented")}}async function Yte(t,e){return bh(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){return ov(t,"POST","/v1/accounts:signInWithPassword",Wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zte(t,e){return ov(t,"POST","/v1/accounts:signInWithEmailLink",Wp(t,e))}async function Xte(t,e){return ov(t,"POST","/v1/accounts:signInWithEmailLink",Wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends d5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ap(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ap(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await j9(e,r,"signInWithPassword");return w4(e,i)}else return w4(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await j9(e,r,"signInWithPassword");return w4(e,s)}else return Promise.reject(i)});case"emailLink":return Zte(e,{email:this._email,oobCode:this._password});default:Co(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Yte(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Xte(e,{idToken:n,email:this._email,oobCode:this._password});default:Co(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t,e){return ov(t,"POST","/v1/accounts:signInWithIdp",Wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte="http://localhost";class F0 extends d5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new F0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Co("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=l5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new F0(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return If(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,If(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,If(e,n)}buildRequest(){const e={requestUri:jte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jte(t){const e=pd(md(t)).link,n=e?pd(md(e)).deep_link_id:null,r=pd(md(t)).deep_link_id;return(r?pd(md(r)).link:null)||r||n||e||t}class p5{constructor(e){var n,r,i,s,a,l;const u=pd(md(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=Kte((i=u.mode)!==null&&i!==void 0?i:null);Dt(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Jte(e);try{return new p5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.providerId=wh.PROVIDER_ID}static credential(e,n){return ap._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p5.parseLink(n);return Dt(r,"argument-error"),ap._fromEmailAndCode(e,r.code,r.tenantId)}}wh.PROVIDER_ID="password";wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends iR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Gp{constructor(){super("facebook.com")}static credential(e){return F0._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sc.credential(e.oauthAccessToken)}catch{return null}}}sc.FACEBOOK_SIGN_IN_METHOD="facebook.com";sc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Gp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return F0._fromParams({providerId:ac.PROVIDER_ID,signInMethod:ac.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ac.credentialFromTaggedObject(e)}static credentialFromError(e){return ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ac.credential(n,r)}catch{return null}}}ac.GOOGLE_SIGN_IN_METHOD="google.com";ac.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Gp{constructor(){super("github.com")}static credential(e){return F0._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oc.credential(e.oauthAccessToken)}catch{return null}}}oc.GITHUB_SIGN_IN_METHOD="github.com";oc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Gp{constructor(){super("twitter.com")}static credential(e,n){return F0._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lc.credentialFromTaggedObject(e)}static credentialFromError(e){return lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lc.credential(n,r)}catch{return null}}}lc.TWITTER_SIGN_IN_METHOD="twitter.com";lc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await E0._fromIdTokenResponse(e,r,i),a=Q9(r);return new eh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q9(r);return new eh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q9(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Ru{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dg(e,n,r,i)}}function sR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dg._fromErrorAndOperation(t,s,e,r):s})}async function Qte(t,e,n=!1){const r=await ip(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ip(t,sR(r,i,e,t),n);Dt(s.idToken,r,"internal-error");const a=f5(s.idToken);Dt(a,r,"internal-error");const{sub:l}=a;return Dt(t.uid===l,r,"user-mismatch"),eh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Co(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e,n=!1){const r="signIn",i=await sR(t,r,e),s=await eh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function tne(t,e){return aR($p(t),e)}function nne(t,e,n){return tne(Xi(t),wh.credential(e,n))}function rne(t,e,n,r){return Xi(t).onIdTokenChanged(e,n,r)}function ine(t,e,n){return Xi(t).beforeAuthStateChanged(e,n)}function sne(t){return Xi(t).signOut()}const Bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bg,"1"),this.storage.removeItem(Bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){const t=ls();return h5(t)||lv(t)}const one=1e3,lne=10;class lR extends oR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ane()&&Lte(),this.fallbackToPolling=KI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Nte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lne):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},one)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lR.type="LOCAL";const uR=lR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends oR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cR.type="SESSION";const fR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),u=await une(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const f=m5("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}function fne(t){cl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof cl().WorkerGlobalScope<"u"&&typeof cl().importScripts=="function"}async function hne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pne(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",mne=1,zg="firebaseLocalStorage",pR="fbase_key";class Vp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cv(t,e){return t.transaction([zg],e?"readwrite":"readonly").objectStore(zg)}function gne(){const t=indexedDB.deleteDatabase(dR);return new Vp(t).toPromise()}function a3(){const t=indexedDB.open(dR,mne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zg,{keyPath:pR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zg)?e(r):(r.close(),await gne(),e(await a3()))})})}async function ex(t,e,n){const r=cv(t,!0).put({[pR]:e,value:n});return new Vp(r).toPromise()}async function _ne(t,e){const n=cv(t,!1).get(e),r=await new Vp(n).toPromise();return r===void 0?null:r.value}function tx(t,e){const n=cv(t,!0).delete(e);return new Vp(n).toPromise()}const vne=800,yne=3;class mR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uv._getInstance(pne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hne(),!this.activeServiceWorker)return;this.sender=new cne(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a3();return await ex(e,Bg,"1"),await tx(e,Bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_ne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cv(i,!1).getAll();return new Vp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mR.type="LOCAL";const bne=mR;new Hp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(t,e){return e?uu(e):(Dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5 extends d5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return If(e,this._buildIdpRequest())}_linkToIdToken(e,n){return If(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return If(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xne(t){return aR(t.auth,new g5(t),t.bypassAuthState)}function Sne(t){const{auth:e,user:n}=t;return Dt(n,e,"internal-error"),ene(n,new g5(t),t.bypassAuthState)}async function Tne(t){const{auth:e,user:n}=t;return Dt(n,e,"internal-error"),Qte(n,new g5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xne;case"linkViaPopup":case"linkViaRedirect":return Tne;case"reauthViaPopup":case"reauthViaRedirect":return Sne;default:Co(this.auth,"internal-error")}}resolve(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=new Hp(2e3,1e4);class wf extends gR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wf.currentPopupAction&&wf.currentPopupAction.cancel(),wf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){bu(this.filter.length===1,"Popup operations only handle one event");const e=m5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kne.get())};e()}}wf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene="pendingRedirect",L1=new Map;class Mne extends gR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=L1.get(this.auth._key());if(!e){try{const r=await Cne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}L1.set(this.auth._key(),e)}return this.bypassAuthState||L1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cne(t,e){const n=Rne(e),r=Ine(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ane(t,e){L1.set(t._key(),e)}function Ine(t){return uu(t._redirectPersistence)}function Rne(t){return N1(Ene,t.config.apiKey,t.name)}async function Pne(t,e,n=!1){const r=$p(t),i=wne(r,e),a=await new Mne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne=10*60*1e3;class Lne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!One(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_R(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ul(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nne&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function One(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(t,e={}){return bh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zne=/^https?/;async function Fne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dne(t);for(const n of e)try{if(Une(n))return}catch{}Co(t,"unauthorized-domain")}function Une(t){const e=s3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!zne.test(n))return!1;if(Bne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=new Hp(3e4,6e4);function rx(){const t=cl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hne(t){return new Promise((e,n)=>{var r,i,s;function a(){rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rx(),n(ul(t,"network-request-failed"))},timeout:qne.get()})}if(!((i=(r=cl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cl().gapi)===null||s===void 0)&&s.load)a();else{const l=Dte("iframefcb");return cl()[l]=()=>{gapi.load?a():n(ul(t,"network-request-failed"))},tR(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw O1=null,e})}let O1=null;function Wne(t){return O1=O1||Hne(t),O1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=new Hp(5e3,15e3),Gne="__/auth/iframe",Vne="emulator/auth/iframe",Yne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xne(t){const e=t.config;Dt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c5(e,Vne):`https://${t.config.authDomain}/${Gne}`,r={apiKey:e.apiKey,appName:t.name,v:X0},i=Zne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yh(r).slice(1)}`}async function jne(t){const e=await Wne(t),n=cl().gapi;return Dt(n,t,"internal-error"),e.open({where:document.body,url:Xne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ul(t,"network-request-failed"),l=cl().setTimeout(()=>{s(a)},$ne.get());function u(){cl().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jne=500,Qne=600,ere="_blank",tre="http://localhost";class ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nre(t,e,n,r=Jne,i=Qne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Kne),{width:r.toString(),height:i.toString(),top:s,left:a}),f=ls().toLowerCase();n&&(l=VI(f)?ere:n),GI(f)&&(e=e||tre,u.scrollbars="yes");const p=Object.entries(u).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(Pte(f)&&l!=="_self")return rre(e||"",l),new ix(null);const m=window.open(e||"",l,p);Dt(m,t,"popup-blocked");try{m.focus()}catch{}return new ix(m)}function rre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire="__/auth/handler",sre="emulator/auth/handler",are=encodeURIComponent("fac");async function sx(t,e,n,r,i,s){Dt(t.config.authDomain,t,"auth-domain-config-required"),Dt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:X0,eventId:i};if(e instanceof iR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Qy(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof Gp){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),f=u?`#${are}=${encodeURIComponent(u)}`:"";return`${ore(t)}?${yh(l).slice(1)}${f}`}function ore({config:t}){return t.emulator?c5(t,sre):`https://${t.authDomain}/${ire}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="webStorageSupport";class lre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=Pne,this._overrideRedirectResult=Ane}async _openPopup(e,n,r,i){var s;bu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await sx(e,n,r,s3(),i);return nre(e,a,m5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sx(e,n,r,s3(),i);return fne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(bu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jne(e),r=new Lne(e);return n.register("authEvent",i=>(Dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x4,{type:x4},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[x4];a!==void 0&&n(!!a),Co(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KI()||h5()||lv()}}const ure=lre;var ax="@firebase/auth",ox="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hre(t){z0(new xc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Dt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JI(t)},f=new qte(r,i,s,u);return Wte(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),z0(new xc("auth-internal",e=>{const n=$p(e.getProvider("auth").getImmediate());return(r=>new cre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hu(ax,ox,fre(t)),hu(ax,ox,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=5*60,pre=CI("authIdTokenMaxAge")||dre;let lx=null;const mre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pre)return;const i=n==null?void 0:n.token;lx!==i&&(lx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vR(t=av()){const e=sv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hte(t,{popupRedirectResolver:ure,persistence:[bne,uR,fR]}),r=CI("authTokenSyncURL");if(r){const s=mre(r);ine(n,s,()=>s(n.currentUser)),rne(n,a=>s(a))}const i=kI("auth");return i&&$te(n,`http://${i}`),n}hre("Browser");const ux="@firebase/database",cx="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yR="";function gre(t){yR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),hi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:np(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _re(e)}}catch{}return new vre},y0=bR("localStorage"),o3=bR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new a5("@firebase/database"),yre=function(){let t=1;return function(){return t++}}(),wR=function(t){const e=oee(t),n=new ree;n.update(e);const r=n.digest();return r5.encodeByteArray(r)},Yp=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Yp.apply(null,r):typeof r=="object"?e+=hi(r):e+=r,e+=" "}return e};let M0=null,fx=!0;const bre=function(t,e){Ve(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Rf.logLevel=$n.VERBOSE,M0=Rf.log.bind(Rf),e&&o3.set("logging_enabled",!0)):typeof t=="function"?M0=t:(M0=null,o3.remove("logging_enabled"))},Vi=function(...t){if(fx===!0&&(fx=!1,M0===null&&o3.get("logging_enabled")===!0&&bre(!0)),M0){const e=Yp.apply(null,t);M0(e)}},Zp=function(t){return function(...e){Vi(t,...e)}},l3=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yp(...t);Rf.error(e)},wu=function(...t){const e=`FIREBASE FATAL ERROR: ${Yp(...t)}`;throw Rf.error(e),new Error(e)},Rs=function(...t){const e="FIREBASE WARNING: "+Yp(...t);Rf.warn(e)},wre=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_5=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xre=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},th="[MIN_NAME]",U0="[MAX_NAME]",j0=function(t,e){if(t===e)return 0;if(t===th||e===U0)return-1;if(e===th||t===U0)return 1;{const n=hx(t),r=hx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Sre=function(t,e){return t===e?0:t<e?-1:1},Kh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+hi(e))},v5=function(t){if(typeof t!="object"||t===null)return hi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=hi(e[r]),n+=":",n+=v5(t[e[r]]);return n+="}",n},xR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Zi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const SR=function(t){Ve(!_5(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,u;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(u=n;u;u-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const p=f.join("");let m="";for(u=0;u<64;u+=8){let g=parseInt(p.substr(u,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},Tre=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kre=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ere(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Mre=new RegExp("^-?(0*)\\d{1,10}$"),Cre=-2147483648,Are=2147483647,hx=function(t){if(Mre.test(t)){const e=Number(t);if(e>=Cre&&e<=Are)return e}return null},xh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Rs("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ire=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Td=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rs(e)}}class Pf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="5",TR="v",kR="s",ER="r",MR="f",CR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AR="ls",IR="p",u3="ac",RR="websocket",PR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,s=!1,a="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=y0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&y0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Nre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function LR(t,e,n){Ve(typeof e=="string","typeof type must == string"),Ve(typeof n=="object","typeof params must == object");let r;if(e===RR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===PR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Nre(t)&&(n.ns=t.namespace);const i=[];return Zi(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.counters_={}}incrementCounter(e,n=1){yl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={},T4={};function b5(t){const e=t.toString();return S4[e]||(S4[e]=new Lre),S4[e]}function Ore(t,e){const n=t.toString();return T4[n]||(T4[n]=e()),T4[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="start",Bre="close",zre="pLPCommand",Fre="pRTLPCB",OR="id",DR="pw",BR="ser",Ure="cb",qre="seg",Hre="ts",Wre="d",$re="dframe",zR=1870,FR=30,Gre=zR-FR,Vre=25e3,Yre=3e4;class xf{constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zp(e),this.stats_=b5(n),this.urlFn=u=>(this.appCheckToken&&(u[u3]=this.appCheckToken),LR(n,PR,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dre(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yre)),xre(()=>{if(this.isClosed_)return;this.scriptTagHolder=new w5((...s)=>{const[a,l,u,f,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===dx)this.id=l,this.password=u;else if(a===Bre)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[dx]="t",r[BR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ure]=this.scriptTagHolder.uniqueCallbackIdentifier),r[TR]=y5,this.transportSessionId&&(r[kR]=this.transportSessionId),this.lastSessionId&&(r[AR]=this.lastSessionId),this.applicationId&&(r[IR]=this.applicationId),this.appCheckToken&&(r[u3]=this.appCheckToken),typeof location<"u"&&location.hostname&&CR.test(location.hostname)&&(r[ER]=MR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xf.forceAllow_=!0}static forceDisallow(){xf.forceDisallow_=!0}static isAvailable(){return xf.forceAllow_?!0:!xf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tre()&&!kre()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=hi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=SI(n),i=xR(r,Gre);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$re]="t",r[OR]=e,r[DR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=hi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class w5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yre(),window[zre+this.uniqueCallbackIdentifier]=e,window[Fre+this.uniqueCallbackIdentifier]=n,this.myIFrame=w5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Vi("frame writing exception"),l.stack&&Vi(l.stack),Vi(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OR]=this.myID,e[DR]=this.myPW,e[BR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FR+r.length<=zR;){const a=this.pendingSegs.shift();r=r+"&"+qre+i+"="+a.seg+"&"+Hre+i+"="+a.ts+"&"+Wre+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Vre)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre=16384,Xre=45e3;let Fg=null;typeof MozWebSocket<"u"?Fg=MozWebSocket:typeof WebSocket<"u"&&(Fg=WebSocket);class bo{constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zp(this.connId),this.stats_=b5(n),this.connURL=bo.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[TR]=y5,typeof location<"u"&&location.hostname&&CR.test(location.hostname)&&(a[ER]=MR),n&&(a[kR]=n),r&&(a[AR]=r),i&&(a[u3]=i),s&&(a[IR]=s),LR(e,RR,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,y0.set("previous_websocket_failure",!0);try{let r;RI(),this.mySock=new Fg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fg!==null&&!bo.forceDisallow_}static previouslyFailed(){return y0.isInMemoryStorage||y0.get("previous_websocket_failure")===!0}markConnectionHealthy(){y0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=np(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=hi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xR(n,Zre);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xre))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bo.responsesRequiredToBeHealthy=2;bo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xf,bo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bo&&bo.isAvailable();let r=n&&!bo.previouslyFailed();if(e.webSocketOnly&&(n||Rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bo];else{const i=this.transports_=[];for(const s of op.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);op.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}op.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=6e4,Kre=5e3,Jre=10*1024,Qre=100*1024,k4="t",px="d",eie="s",mx="r",tie="e",gx="o",_x="a",vx="n",yx="p",nie="h";class rie{constructor(e,n,r,i,s,a,l,u,f,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zp("c:"+this.id+":"),this.transportManager_=new op(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Td(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Qre?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jre?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(k4 in e){const n=e[k4];n===_x?this.upgradeIfSecondaryHealthy_():n===mx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Kh("t",e),r=Kh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_x,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Kh("t",e),r=Kh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Kh(k4,e);if(px in e){const r=e[px];if(n===nie){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===vx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===eie?this.onConnectionShutdown_(r):n===mx?this.onReset_(r):n===tie?l3("Server Error: "+r):n===gx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l3("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),y5!==r&&Rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Td(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jre))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Td(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Kre))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(y0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.allowedEvents_=e,this.listeners_={},Ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ve(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends qR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!s5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ug}getInitialEvent(e){return Ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=32,wx=768;class Vn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function kn(){return new Vn("")}function mn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sc(t){return t.pieces_.length-t.pieceNum_}function sr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vn(t.pieces_,e)}function x5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vn(e,0)}function zr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Vn(n,0)}function hn(t){return t.pieceNum_>=t.pieces_.length}function Cs(t,e){const n=mn(t),r=mn(e);if(n===null)return e;if(n===r)return Cs(sr(t),sr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sie(t,e){const n=lp(t,0),r=lp(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=j0(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function WR(t,e){if(Sc(t)!==Sc(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $a(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Sc(t)>Sc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class aie{constructor(e,n){this.errorPrefix_=n,this.parts_=lp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=iv(this.parts_[r]);$R(this)}}function oie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=iv(e),$R(t)}function lie(t){const e=t.parts_.pop();t.byteLength_-=iv(e),t.parts_.length>0&&(t.byteLength_-=1)}function $R(t){if(t.byteLength_>wx)throw new Error(t.errorPrefix_+"has a key path longer than "+wx+" bytes ("+t.byteLength_+").");if(t.parts_.length>bx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bx+") or object contains a cycle "+p0(t))}function p0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5 extends qR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new S5}getInitialEvent(e){return Ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=1e3,uie=60*5*1e3,xx=30*1e3,cie=1.3,fie=3e4,hie="server_kill",Sx=3;class du extends UR{constructor(e,n,r,i,s,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=du.nextPersistentConnectionId_++,this.log_=Zp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jh,this.maxReconnectDelay_=uie,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!RI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");S5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ug.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(hi(s)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Up,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const u=l.d,f=l.s;du.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yl(e,"w")){const r=Qf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Rs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tee(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+hi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):l3("Unrecognized action received from server: "+hi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fie&&(this.reconnectDelay_=Jh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cie)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+du.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const u=function(){l?l.close():(a=!0,r())},f=function(m){Ve(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:u,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Vi("getToken() completed but was canceled"):(Vi("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new rie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Rs(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(hie)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Rs(m),u())}}}interrupt(e){Vi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qy(this.interruptReasons_)&&(this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>v5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Vn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Vi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sx&&(this.reconnectDelay_=xx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yR.replace(/\./g,"-")]=1,s5()?e["framework.cordova"]=1:II()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ug.getInstance().currentlyOnline();return Qy(this.interruptReasons_)&&e}}du.nextPersistentConnectionId_=0;du.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new on(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new on(th,e),i=new on(th,n);return this.compare(r,i)!==0}minPost(){return on.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1;class GR extends fv{static get __EMPTY_NODE(){return t1}static set __EMPTY_NODE(e){t1=e}compare(e,n){return j0(e.name,n.name)}isDefinedOn(e){throw vh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return on.MIN}maxPost(){return new on(U0,t1)}makePost(e,n){return Ve(typeof e=="string","KeyIndex indexValue must always be a string."),new on(e,t1)}toString(){return".key"}}const Nf=new GR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mi.RED,this.left=i??ia.EMPTY_NODE,this.right=s??ia.EMPTY_NODE}copy(e,n,r,i,s){return new Mi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ia.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ia.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mi.RED=!0;Mi.BLACK=!1;class die{copy(e,n,r,i,s){return this}insert(e,n,r){return new Mi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ia{constructor(e,n=ia.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ia(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mi.BLACK,null,null))}remove(e){return new ia(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new n1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new n1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new n1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new n1(this.root_,null,this.comparator_,!0,e)}}ia.EMPTY_NODE=new die;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pie(t,e){return j0(t.name,e.name)}function T5(t,e){return j0(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c3;function mie(t){c3=t}const VR=function(t){return typeof t=="number"?"number:"+SR(t):"string:"+t},YR=function(t){if(t.isLeafNode()){const e=t.val();Ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yl(e,".sv"),"Priority must be a string or number.")}else Ve(t===c3||t.isEmpty(),"priority of unexpected type.");Ve(t===c3||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tx;class Ei{constructor(e,n=Ei.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YR(this.priorityNode_)}static set __childrenNodeConstructor(e){Tx=e}static get __childrenNodeConstructor(){return Tx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ei(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ei.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return hn(e)?this:mn(e)===".priority"?this.priorityNode_:Ei.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ei.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=mn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ve(r!==".priority"||Sc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ei.__childrenNodeConstructor.EMPTY_NODE.updateChild(sr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=SR(this.value_):e+=this.value_,this.lazyHash_=wR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ei.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ei.__childrenNodeConstructor?-1:(Ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ei.VALUE_TYPE_ORDER.indexOf(n),s=Ei.VALUE_TYPE_ORDER.indexOf(r);return Ve(i>=0,"Unknown leaf type: "+n),Ve(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ei.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZR,XR;function gie(t){ZR=t}function _ie(t){XR=t}class vie extends fv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?j0(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return on.MIN}maxPost(){return new on(U0,new Ei("[PRIORITY-POST]",XR))}makePost(e,n){const r=ZR(e);return new on(n,new Ei("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ur=new vie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=Math.log(2);class bie{constructor(e){const n=s=>parseInt(Math.log(s)/yie,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qg=function(t,e,n,r){t.sort(e);const i=function(u,f){const p=f-u;let m,g;if(p===0)return null;if(p===1)return m=t[u],g=n?n(m):m,new Mi(g,m.node,Mi.BLACK,null,null);{const v=parseInt(p/2,10)+u,b=i(u,v),k=i(v+1,f);return m=t[v],g=n?n(m):m,new Mi(g,m.node,Mi.BLACK,b,k)}},s=function(u){let f=null,p=null,m=t.length;const g=function(b,k){const R=m-b,N=m;m-=b;const x=i(R+1,N),T=t[R],M=n?n(T):T;v(new Mi(M,T.node,k,null,x))},v=function(b){f?(f.left=b,f=b):(p=b,f=b)};for(let b=0;b<u.count;++b){const k=u.nextBitIsOne(),R=Math.pow(2,u.count-(b+1));k?g(R,Mi.BLACK):(g(R,Mi.BLACK),g(R,Mi.RED))}return p},a=new bie(t.length),l=s(a);return new ia(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E4;const pf={};class cu{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ve(pf&&Ur,"ChildrenNode.ts has not been loaded"),E4=E4||new cu({".priority":pf},{".priority":Ur}),E4}get(e){const n=Qf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ia?n:null}hasIndex(e){return yl(this.indexSet_,e.toString())}addIndex(e,n){Ve(e!==Nf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(on.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=qg(r,e.getCompare()):l=pf;const u=e.toString(),f=Object.assign({},this.indexSet_);f[u]=e;const p=Object.assign({},this.indexes_);return p[u]=l,new cu(p,f)}addToIndexes(e,n){const r=Rg(this.indexes_,(i,s)=>{const a=Qf(this.indexSet_,s);if(Ve(a,"Missing index implementation for "+s),i===pf)if(a.isDefinedOn(e.node)){const l=[],u=n.getIterator(on.Wrap);let f=u.getNext();for(;f;)f.name!==e.name&&l.push(f),f=u.getNext();return l.push(e),qg(l,a.getCompare())}else return pf;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new on(e.name,l))),u.insert(e,e.node)}});return new cu(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rg(this.indexes_,i=>{if(i===pf)return i;{const s=n.get(e.name);return s?i.remove(new on(e.name,s)):i}});return new cu(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;class Mt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YR(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qh||(Qh=new Mt(new ia(T5),null,cu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qh}updatePriority(e){return this.children_.isEmpty()?this:new Mt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qh:n}}getChild(e){const n=mn(e);return n===null?this:this.getImmediateChild(n).getChild(sr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ve(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new on(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Qh:this.priorityNode_;return new Mt(i,a,s)}}updateChild(e,n){const r=mn(e);if(r===null)return n;{Ve(mn(e)!==".priority"||Sc(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ur,(a,l)=>{n[a]=l.val(e),r++,s&&Mt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VR(this.getPriority().val())+":"),this.forEachChild(Ur,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":wR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new on(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new on(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new on(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,on.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,on.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xp?-1:0}withIndex(e){if(e===Nf||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Mt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Nf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ur),i=n.getIterator(Ur);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Nf?null:this.indexMap_.get(e.toString())}}Mt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wie extends Mt{constructor(){super(new ia(T5),Mt.EMPTY_NODE,cu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Mt.EMPTY_NODE}isEmpty(){return!1}}const Xp=new wie;Object.defineProperties(on,{MIN:{value:new on(th,Mt.EMPTY_NODE)},MAX:{value:new on(U0,Xp)}});GR.__EMPTY_NODE=Mt.EMPTY_NODE;Ei.__childrenNodeConstructor=Mt;mie(Xp);_ie(Xp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=!0;function fi(t,e=null){if(t===null)return Mt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ei(n,fi(e))}if(!(t instanceof Array)&&xie){const n=[];let r=!1;if(Zi(t,(a,l)=>{if(a.substring(0,1)!=="."){const u=fi(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new on(a,u)))}}),n.length===0)return Mt.EMPTY_NODE;const s=qg(n,pie,a=>a.name,T5);if(r){const a=qg(n,Ur.getCompare());return new Mt(s,fi(e),new cu({".priority":a},{".priority":Ur}))}else return new Mt(s,fi(e),cu.Default)}else{let n=Mt.EMPTY_NODE;return Zi(t,(r,i)=>{if(yl(t,r)&&r.substring(0,1)!=="."){const s=fi(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(fi(e))}}gie(fi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie extends fv{constructor(e){super(),this.indexPath_=e,Ve(!hn(e)&&mn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?j0(e.name,n.name):s}makePost(e,n){const r=fi(e),i=Mt.EMPTY_NODE.updateChild(this.indexPath_,r);return new on(n,i)}maxPost(){const e=Mt.EMPTY_NODE.updateChild(this.indexPath_,Xp);return new on(U0,e)}toString(){return lp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie extends fv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?j0(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(e,n){const r=fi(e);return new on(n,r)}toString(){return".value"}}const kie=new Tie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){return{type:"value",snapshotNode:t}}function nh(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function up(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Eie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){Ve(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(up(n,l)):Ve(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(nh(n,r)):a.trackChildChange(cp(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ur,(i,s)=>{n.hasChild(i)||r.trackChildChange(up(i,s))}),n.isLeafNode()||n.forEachChild(Ur,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(cp(i,s,a))}else r.trackChildChange(nh(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Mt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.indexedFilter_=new k5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fp.getStartPost_(e),this.endPost_=fp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new on(n,r))||(r=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Mt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Mt.EMPTY_NODE);const s=this;return n.forEachChild(Ur,(a,l)=>{s.matches(new on(a,l))||(i=i.updateImmediateChild(a,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new fp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new on(n,r))||(r=Mt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Mt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Mt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Mt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const l=s.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,Mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(g,v)=>m(v,g)}else a=this.index_.getCompare();const l=e;Ve(l.numChildren()===this.limit_,"");const u=new on(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(l.hasChild(n)){const m=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:a(g,u);if(p&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(cp(n,r,m)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(up(n,m));const k=l.updateImmediateChild(n,Mt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(nh(g.name,g.node)),k.updateImmediateChild(g.name,g.node)):k}}else return r.isEmpty()?e:p&&a(f,u)>=0?(s!=null&&(s.trackChildChange(up(f.name,f.node)),s.trackChildChange(nh(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Mt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ur}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:th}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:U0}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ur}copy(){const e=new E5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Cie(t){return t.loadsAllData()?new k5(t.getIndex()):t.hasLimit()?new Mie(t):new fp(t)}function kx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ur?n="$priority":t.index_===kie?n="$value":t.index_===Nf?n="$key":(Ve(t.index_ instanceof Sie,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=hi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=hi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+hi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=hi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+hi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ex(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ur&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends UR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Hg.getListenId_(e,r),l={};this.listens_[a]=l;const u=kx(e._queryParams);this.restRequest_(s+".json",u,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,r),Qf(this.listens_,a)===l){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",i(g,null)}})}unlisten(e,n){const r=Hg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kx(e._queryParams),r=e._path.toString(),i=new Up;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yh(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=np(l.responseText)}catch{Rs("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Rs("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){return{value:null,children:new Map}}function KR(t,e,n){if(hn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=mn(e);t.children.has(r)||t.children.set(r,Wg());const i=t.children.get(r);e=sr(e),KR(i,e,n)}}function f3(t,e,n){t.value!==null?n(e,t.value):Iie(t,(r,i)=>{const s=new Vn(e.toString()+"/"+r);f3(i,s,n)})}function Iie(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Zi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=10*1e3,Pie=30*1e3,Nie=5*60*1e3;class Lie{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rie(e);const r=Mx+(Pie-Mx)*Math.random();Td(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Zi(e,(i,s)=>{s>0&&yl(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Td(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wo||(wo={}));function M5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function C5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function A5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wo.ACK_USER_WRITE,this.source=M5()}operationForChild(e){if(hn(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vn(e));return new $g(kn(),n,this.revert)}}else return Ve(mn(this.path)===e,"operationForChild called for unrelated child."),new $g(sr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.source=e,this.path=n,this.type=wo.LISTEN_COMPLETE}operationForChild(e){return hn(this.path)?new hp(this.source,kn()):new hp(this.source,sr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wo.OVERWRITE}operationForChild(e){return hn(this.path)?new q0(this.source,kn(),this.snap.getImmediateChild(e)):new q0(this.source,sr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wo.MERGE}operationForChild(e){if(hn(this.path)){const n=this.children.subtree(new Vn(e));return n.isEmpty()?null:n.value?new q0(this.source,kn(),n.value):new rh(this.source,kn(),n)}else return Ve(mn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rh(this.source,sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(hn(e))return this.isFullyInitialized()&&!this.filtered_;const n=mn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Die(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Eie(a.childName,a.snapshotNode))}),ed(t,i,"child_removed",e,r,n),ed(t,i,"child_added",e,r,n),ed(t,i,"child_moved",s,r,n),ed(t,i,"child_changed",e,r,n),ed(t,i,"value",e,r,n),i}function ed(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,u)=>zie(t,l,u)),a.forEach(l=>{const u=Bie(t,l,s);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(u,t.query_))})})}function Bie(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zie(t,e,n){if(e.childName==null||n.childName==null)throw vh("Should only compare child_ events.");const r=new on(e.childName,e.snapshotNode),i=new on(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){return{eventCache:t,serverCache:e}}function kd(t,e,n,r){return hv(new Tc(e,n,r),t.serverCache)}function JR(t,e,n,r){return hv(t.eventCache,new Tc(e,n,r))}function Gg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function H0(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M4;const Fie=()=>(M4||(M4=new ia(Sre)),M4);class ir{constructor(e,n=Fie()){this.value=e,this.children=n}static fromObject(e){let n=new ir(null);return Zi(e,(r,i)=>{n=n.set(new Vn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kn(),value:this.value};if(hn(e))return null;{const r=mn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sr(e),n);return s!=null?{path:zr(new Vn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(hn(e))return this;{const n=mn(e),r=this.children.get(n);return r!==null?r.subtree(sr(e)):new ir(null)}}set(e,n){if(hn(e))return new ir(n,this.children);{const r=mn(e),s=(this.children.get(r)||new ir(null)).set(sr(e),n),a=this.children.insert(r,s);return new ir(this.value,a)}}remove(e){if(hn(e))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const n=mn(e),r=this.children.get(n);if(r){const i=r.remove(sr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ir(null):new ir(this.value,s)}else return this}}get(e){if(hn(e))return this.value;{const n=mn(e),r=this.children.get(n);return r?r.get(sr(e)):null}}setTree(e,n){if(hn(e))return n;{const r=mn(e),s=(this.children.get(r)||new ir(null)).setTree(sr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new ir(this.value,a)}}fold(e){return this.fold_(kn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(zr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(hn(e))return null;{const s=mn(e),a=this.children.get(s);return a?a.findOnPath_(sr(e),zr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kn(),n)}foreachOnPath_(e,n,r){if(hn(e))return this;{this.value&&r(n,this.value);const i=mn(e),s=this.children.get(i);return s?s.foreachOnPath_(sr(e),zr(n,i),r):new ir(null)}}foreach(e){this.foreach_(kn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.writeTree_=e}static empty(){return new To(new ir(null))}}function Ed(t,e,n){if(hn(e))return new To(new ir(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Cs(i,e);return s=s.updateChild(a,n),new To(t.writeTree_.set(i,s))}else{const i=new ir(n),s=t.writeTree_.setTree(e,i);return new To(s)}}}function h3(t,e,n){let r=t;return Zi(n,(i,s)=>{r=Ed(r,zr(e,i),s)}),r}function Cx(t,e){if(hn(e))return To.empty();{const n=t.writeTree_.setTree(e,new ir(null));return new To(n)}}function d3(t,e){return K0(t,e)!=null}function K0(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Cs(n.path,e)):null}function Ax(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ur,(r,i)=>{e.push(new on(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new on(r,i.value))}),e}function pc(t,e){if(hn(e))return t;{const n=K0(t,e);return n!=null?new To(new ir(n)):new To(t.writeTree_.subtree(e))}}function p3(t){return t.writeTree_.isEmpty()}function ih(t,e){return QR(kn(),t.writeTree_,e)}function QR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ve(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=QR(zr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(zr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){return rP(e,t)}function Uie(t,e,n,r,i){Ve(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ed(t.visibleWrites,e,n)),t.lastWriteId=r}function qie(t,e,n,r){Ve(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=h3(t.visibleWrites,e,n),t.lastWriteId=r}function Hie(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Wie(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Ve(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&$ie(l,r.path)?i=!1:$a(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return Gie(t),!0;if(r.snap)t.visibleWrites=Cx(t.visibleWrites,r.path);else{const l=r.children;Zi(l,u=>{t.visibleWrites=Cx(t.visibleWrites,zr(r.path,u))})}return!0}else return!1}function $ie(t,e){if(t.snap)return $a(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$a(zr(t.path,n),e))return!0;return!1}function Gie(t){t.visibleWrites=eP(t.allWrites,Vie,kn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Vie(t){return t.visible}function eP(t,e,n){let r=To.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)$a(n,a)?(l=Cs(n,a),r=Ed(r,l,s.snap)):$a(a,n)&&(l=Cs(a,n),r=Ed(r,kn(),s.snap.getChild(l)));else if(s.children){if($a(n,a))l=Cs(n,a),r=h3(r,l,s.children);else if($a(a,n))if(l=Cs(a,n),hn(l))r=h3(r,kn(),s.children);else{const u=Qf(s.children,mn(l));if(u){const f=u.getChild(sr(l));r=Ed(r,kn(),f)}}}else throw vh("WriteRecord should have .snap or .children")}}return r}function tP(t,e,n,r,i){if(!r&&!i){const s=K0(t.visibleWrites,e);if(s!=null)return s;{const a=pc(t.visibleWrites,e);if(p3(a))return n;if(n==null&&!d3(a,kn()))return null;{const l=n||Mt.EMPTY_NODE;return ih(a,l)}}}else{const s=pc(t.visibleWrites,e);if(!i&&p3(s))return n;if(!i&&n==null&&!d3(s,kn()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&($a(f.path,e)||$a(e,f.path))},l=eP(t.allWrites,a,e),u=n||Mt.EMPTY_NODE;return ih(l,u)}}}function Yie(t,e,n){let r=Mt.EMPTY_NODE;const i=K0(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ur,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=pc(t.visibleWrites,e);return n.forEachChild(Ur,(a,l)=>{const u=ih(pc(s,new Vn(a)),l);r=r.updateImmediateChild(a,u)}),Ax(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=pc(t.visibleWrites,e);return Ax(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Zie(t,e,n,r,i){Ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=zr(e,n);if(d3(t.visibleWrites,s))return null;{const a=pc(t.visibleWrites,s);return p3(a)?i.getChild(n):ih(a,i.getChild(n))}}function Xie(t,e,n,r){const i=zr(e,n),s=K0(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=pc(t.visibleWrites,i);return ih(a,r.getNode().getImmediateChild(n))}else return null}function jie(t,e){return K0(t.visibleWrites,e)}function Kie(t,e,n,r,i,s,a){let l;const u=pc(t.visibleWrites,e),f=K0(u,kn());if(f!=null)l=f;else if(n!=null)l=ih(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const p=[],m=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let v=g.getNext();for(;v&&p.length<i;)m(v,r)!==0&&p.push(v),v=g.getNext();return p}else return[]}function Jie(){return{visibleWrites:To.empty(),allWrites:[],lastWriteId:-1}}function Vg(t,e,n,r){return tP(t.writeTree,t.treePath,e,n,r)}function I5(t,e){return Yie(t.writeTree,t.treePath,e)}function Ix(t,e,n,r){return Zie(t.writeTree,t.treePath,e,n,r)}function Yg(t,e){return jie(t.writeTree,zr(t.treePath,e))}function Qie(t,e,n,r,i,s){return Kie(t.writeTree,t.treePath,e,n,r,i,s)}function R5(t,e,n){return Xie(t.writeTree,t.treePath,e,n)}function nP(t,e){return rP(zr(t.treePath,e),t.writeTree)}function rP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ve(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ve(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,up(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,nh(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cp(r,e.snapshotNode,i.oldSnap));else throw vh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const iP=new tse;class P5{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Tc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return R5(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:H0(this.viewCache_),s=Qie(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){return{filter:t}}function rse(t,e){Ve(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ve(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ise(t,e,n,r,i){const s=new ese;let a,l;if(n.type===wo.OVERWRITE){const f=n;f.source.fromUser?a=m3(t,e,f.path,f.snap,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!hn(f.path),a=Zg(t,e,f.path,f.snap,r,i,l,s))}else if(n.type===wo.MERGE){const f=n;f.source.fromUser?a=ase(t,e,f.path,f.children,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),a=g3(t,e,f.path,f.children,r,i,l,s))}else if(n.type===wo.ACK_USER_WRITE){const f=n;f.revert?a=use(t,e,f.path,r,i,s):a=ose(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===wo.LISTEN_COMPLETE)a=lse(t,e,n.path,r,s);else throw vh("Unknown operation type: "+n.type);const u=s.getChanges();return sse(e,a,u),{viewCache:a,changes:u}}function sse(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Gg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(jR(Gg(e)))}}function sP(t,e,n,r,i,s){const a=e.eventCache;if(Yg(r,n)!=null)return e;{let l,u;if(hn(n))if(Ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=H0(e),p=f instanceof Mt?f:Mt.EMPTY_NODE,m=I5(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=Vg(r,H0(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=mn(n);if(f===".priority"){Ve(Sc(n)===1,"Can't have a priority with additional path components");const p=a.getNode();u=e.serverCache.getNode();const m=Ix(r,n,p,u);m!=null?l=t.filter.updatePriority(p,m):l=a.getNode()}else{const p=sr(n);let m;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();const g=Ix(r,n,a.getNode(),u);g!=null?m=a.getNode().getImmediateChild(f).updateChild(p,g):m=a.getNode().getImmediateChild(f)}else m=R5(r,f,e.serverCache);m!=null?l=t.filter.updateChild(a.getNode(),f,m,p,i,s):l=a.getNode()}}return kd(e,l,a.isFullyInitialized()||hn(n),t.filter.filtersNodes())}}function Zg(t,e,n,r,i,s,a,l){const u=e.serverCache;let f;const p=a?t.filter:t.filter.getIndexedFilter();if(hn(n))f=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(n,r);f=p.updateFullNode(u.getNode(),v,null)}else{const v=mn(n);if(!u.isCompleteForPath(n)&&Sc(n)>1)return e;const b=sr(n),R=u.getNode().getImmediateChild(v).updateChild(b,r);v===".priority"?f=p.updatePriority(u.getNode(),R):f=p.updateChild(u.getNode(),v,R,b,iP,null)}const m=JR(e,f,u.isFullyInitialized()||hn(n),p.filtersNodes()),g=new P5(i,m,s);return sP(t,m,n,i,g,l)}function m3(t,e,n,r,i,s,a){const l=e.eventCache;let u,f;const p=new P5(i,e,s);if(hn(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=kd(e,f,!0,t.filter.filtersNodes());else{const m=mn(n);if(m===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),u=kd(e,f,l.isFullyInitialized(),l.isFiltered());else{const g=sr(n),v=l.getNode().getImmediateChild(m);let b;if(hn(g))b=r;else{const k=p.getCompleteChild(m);k!=null?x5(g)===".priority"&&k.getChild(HR(g)).isEmpty()?b=k:b=k.updateChild(g,r):b=Mt.EMPTY_NODE}if(v.equals(b))u=e;else{const k=t.filter.updateChild(l.getNode(),m,b,g,p,a);u=kd(e,k,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Rx(t,e){return t.eventCache.isCompleteForChild(e)}function ase(t,e,n,r,i,s,a){let l=e;return r.foreach((u,f)=>{const p=zr(n,u);Rx(e,mn(p))&&(l=m3(t,l,p,f,i,s,a))}),r.foreach((u,f)=>{const p=zr(n,u);Rx(e,mn(p))||(l=m3(t,l,p,f,i,s,a))}),l}function Px(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function g3(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,f;hn(n)?f=r:f=new ir(null).setTree(n,r);const p=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const v=e.serverCache.getNode().getImmediateChild(m),b=Px(t,v,g);u=Zg(t,u,new Vn(m),b,i,s,a,l)}}),f.children.inorderTraversal((m,g)=>{const v=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!v){const b=e.serverCache.getNode().getImmediateChild(m),k=Px(t,b,g);u=Zg(t,u,new Vn(m),k,i,s,a,l)}}),u}function ose(t,e,n,r,i,s,a){if(Yg(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(hn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Zg(t,e,n,u.getNode().getChild(n),i,s,l,a);if(hn(n)){let f=new ir(null);return u.getNode().forEachChild(Nf,(p,m)=>{f=f.set(new Vn(p),m)}),g3(t,e,n,f,i,s,l,a)}else return e}else{let f=new ir(null);return r.foreach((p,m)=>{const g=zr(n,p);u.isCompleteForPath(g)&&(f=f.set(p,u.getNode().getChild(g)))}),g3(t,e,n,f,i,s,l,a)}}function lse(t,e,n,r,i){const s=e.serverCache,a=JR(e,s.getNode(),s.isFullyInitialized()||hn(n),s.isFiltered());return sP(t,a,n,r,iP,i)}function use(t,e,n,r,i,s){let a;if(Yg(r,n)!=null)return e;{const l=new P5(r,e,i),u=e.eventCache.getNode();let f;if(hn(n)||mn(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Vg(r,H0(e));else{const m=e.serverCache.getNode();Ve(m instanceof Mt,"serverChildren would be complete if leaf node"),p=I5(r,m)}p=p,f=t.filter.updateFullNode(u,p,s)}else{const p=mn(n);let m=R5(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?f=t.filter.updateChild(u,p,m,sr(n),l,s):e.eventCache.getNode().hasChild(p)?f=t.filter.updateChild(u,p,Mt.EMPTY_NODE,sr(n),l,s):f=u,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Vg(r,H0(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||Yg(r,kn())!=null,kd(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new k5(r.getIndex()),s=Cie(r);this.processor_=nse(s);const a=n.serverCache,l=n.eventCache,u=i.updateFullNode(Mt.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Mt.EMPTY_NODE,l.getNode(),null),p=new Tc(u,a.isFullyInitialized(),i.filtersNodes()),m=new Tc(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=hv(m,p),this.eventGenerator_=new Oie(this.query_)}get query(){return this.query_}}function fse(t){return t.viewCache_.serverCache.getNode()}function hse(t){return Gg(t.viewCache_)}function dse(t,e){const n=H0(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!hn(e)&&!n.getImmediateChild(mn(e)).isEmpty())?n.getChild(e):null}function Nx(t){return t.eventRegistrations_.length===0}function pse(t,e){t.eventRegistrations_.push(e)}function Lx(t,e,n){const r=[];if(n){Ve(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Ox(t,e,n,r){e.type===wo.MERGE&&e.source.queryId!==null&&(Ve(H0(t.viewCache_),"We should always have a full cache before handling merges"),Ve(Gg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ise(t.processor_,i,e,n,r);return rse(t.processor_,s.viewCache),Ve(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,aP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function mse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ur,(s,a)=>{r.push(nh(s,a))}),n.isFullyInitialized()&&r.push(jR(n.getNode())),aP(t,r,n.getNode(),e)}function aP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Die(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;class oP{constructor(){this.views=new Map}}function gse(t){Ve(!Xg,"__referenceConstructor has already been defined"),Xg=t}function _se(){return Ve(Xg,"Reference.ts has not been loaded"),Xg}function vse(t){return t.views.size===0}function N5(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ve(s!=null,"SyncTree gave us an op for an invalid query."),Ox(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(Ox(a,e,n,r));return s}}function lP(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let l=Vg(n,i?r:null),u=!1;l?u=!0:r instanceof Mt?(l=I5(n,r),u=!1):(l=Mt.EMPTY_NODE,u=!1);const f=hv(new Tc(l,u,!1),new Tc(r,i,!1));return new cse(e,f)}return a}function yse(t,e,n,r,i,s){const a=lP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),pse(a,n),mse(a,n)}function bse(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const l=kc(t);if(i==="default")for(const[u,f]of t.views.entries())a=a.concat(Lx(f,n,r)),Nx(f)&&(t.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=t.views.get(i);u&&(a=a.concat(Lx(u,n,r)),Nx(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!kc(t)&&s.push(new(_se())(e._repo,e._path)),{removed:s,events:a}}function uP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function mc(t,e){let n=null;for(const r of t.views.values())n=n||dse(r,e);return n}function cP(t,e){if(e._queryParams.loadsAllData())return pv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function fP(t,e){return cP(t,e)!=null}function kc(t){return pv(t)!=null}function pv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;function wse(t){Ve(!jg,"__referenceConstructor has already been defined"),jg=t}function xse(){return Ve(jg,"Reference.ts has not been loaded"),jg}let Sse=1;class Dx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ir(null),this.pendingWriteTree_=Jie(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hP(t,e,n,r,i){return Uie(t.pendingWriteTree_,e,n,r,i),i?Sh(t,new q0(M5(),e,n)):[]}function Tse(t,e,n,r){qie(t.pendingWriteTree_,e,n,r);const i=ir.fromObject(n);return Sh(t,new rh(M5(),e,i))}function cc(t,e,n=!1){const r=Hie(t.pendingWriteTree_,e);if(Wie(t.pendingWriteTree_,e)){let s=new ir(null);return r.snap!=null?s=s.set(kn(),!0):Zi(r.children,a=>{s=s.set(new Vn(a),!0)}),Sh(t,new $g(r.path,s,n))}else return[]}function jp(t,e,n){return Sh(t,new q0(C5(),e,n))}function kse(t,e,n){const r=ir.fromObject(n);return Sh(t,new rh(C5(),e,r))}function Ese(t,e){return Sh(t,new hp(C5(),e))}function Mse(t,e,n){const r=O5(t,n);if(r){const i=D5(r),s=i.path,a=i.queryId,l=Cs(s,e),u=new hp(A5(a),l);return B5(t,s,u)}else return[]}function dP(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let l=[];if(a&&(e._queryIdentifier==="default"||fP(a,e))){const u=bse(a,e,n,r);vse(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=u.removed;if(l=u.events,!i){const p=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,v)=>kc(v));if(p&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=Rse(g);for(let b=0;b<v.length;++b){const k=v[b],R=k.query,N=_P(t,k);t.listenProvider_.startListening(Md(R),dp(t,R),N.hashFn,N.onComplete)}}}!m&&f.length>0&&!r&&(p?t.listenProvider_.stopListening(Md(e),null):f.forEach(g=>{const v=t.queryToTagMap.get(mv(g));t.listenProvider_.stopListening(Md(g),v)}))}Pse(t,f)}return l}function pP(t,e,n,r){const i=O5(t,r);if(i!=null){const s=D5(i),a=s.path,l=s.queryId,u=Cs(a,e),f=new q0(A5(l),u,n);return B5(t,a,f)}else return[]}function Cse(t,e,n,r){const i=O5(t,r);if(i){const s=D5(i),a=s.path,l=s.queryId,u=Cs(a,e),f=ir.fromObject(n),p=new rh(A5(l),u,f);return B5(t,a,p)}else return[]}function Ase(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const b=Cs(g,i);s=s||mc(v,b),a=a||kc(v)});let l=t.syncPointTree_.get(i);l?(a=a||kc(l),s=s||mc(l,kn())):(l=new oP,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=Mt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,b)=>{const k=mc(b,kn());k&&(s=s.updateImmediateChild(v,k))}));const f=fP(l,e);if(!f&&!e._queryParams.loadsAllData()){const g=mv(e);Ve(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=Nse();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const p=dv(t.pendingWriteTree_,i);let m=yse(l,e,n,p,s,u);if(!f&&!a&&!r){const g=cP(l,e);m=m.concat(Lse(t,e,g))}return m}function L5(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const u=Cs(a,e),f=mc(l,u);if(f)return f});return tP(i,e,s,n,!0)}function Ise(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,p)=>{const m=Cs(f,n);r=r||mc(p,m)});let i=t.syncPointTree_.get(n);i?r=r||mc(i,kn()):(i=new oP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Tc(r,!0,!1):null,l=dv(t.pendingWriteTree_,e._path),u=lP(i,e,l,s?a.getNode():Mt.EMPTY_NODE,s);return hse(u)}function Sh(t,e){return mP(e,t.syncPointTree_,null,dv(t.pendingWriteTree_,kn()))}function mP(t,e,n,r){if(hn(t.path))return gP(t,e,n,r);{const i=e.get(kn());n==null&&i!=null&&(n=mc(i,kn()));let s=[];const a=mn(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){const f=n?n.getImmediateChild(a):null,p=nP(r,a);s=s.concat(mP(l,u,f,p))}return i&&(s=s.concat(N5(i,t,r,n))),s}}function gP(t,e,n,r){const i=e.get(kn());n==null&&i!=null&&(n=mc(i,kn()));let s=[];return e.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,f=nP(r,a),p=t.operationForChild(a);p&&(s=s.concat(gP(p,l,u,f)))}),i&&(s=s.concat(N5(i,t,r,n))),s}function _P(t,e){const n=e.query,r=dp(t,n);return{hashFn:()=>(fse(e)||Mt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Mse(t,n._path,r):Ese(t,n._path);{const s=Ere(i,n);return dP(t,n,null,s)}}}}function dp(t,e){const n=mv(e);return t.queryToTagMap.get(n)}function mv(t){return t._path.toString()+"$"+t._queryIdentifier}function O5(t,e){return t.tagToQueryMap.get(e)}function D5(t){const e=t.indexOf("$");return Ve(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vn(t.substr(0,e))}}function B5(t,e,n){const r=t.syncPointTree_.get(e);Ve(r,"Missing sync point for query tag that we're tracking");const i=dv(t.pendingWriteTree_,e);return N5(r,n,i,null)}function Rse(t){return t.fold((e,n,r)=>{if(n&&kc(n))return[pv(n)];{let i=[];return n&&(i=uP(n)),Zi(r,(s,a)=>{i=i.concat(a)}),i}})}function Md(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xse())(t._repo,t._path):t}function Pse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=mv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Nse(){return Sse++}function Lse(t,e,n){const r=e._path,i=dp(t,e),s=_P(t,n),a=t.listenProvider_.startListening(Md(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)Ve(!kc(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((f,p,m)=>{if(!hn(f)&&p&&kc(p))return[pv(p).query];{let g=[];return p&&(g=g.concat(uP(p).map(v=>v.query))),Zi(m,(v,b)=>{g=g.concat(b)}),g}});for(let f=0;f<u.length;++f){const p=u[f];t.listenProvider_.stopListening(Md(p),dp(t,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new z5(n)}node(){return this.node_}}class F5{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zr(this.path_,e);return new F5(this.syncTree_,n)}node(){return L5(this.syncTree_,this.path_)}}const Ose=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Bx=function(t,e,n){if(!t||typeof t!="object")return t;if(Ve(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Dse(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Bse(t[".sv"],e);Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Dse=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ve(!1,"Unexpected server value: "+t)}},Bse=function(t,e,n){t.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ve(!1,"Unexpected increment value: "+r);const i=e.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},vP=function(t,e,n,r){return U5(e,new F5(n,t),r)},yP=function(t,e,n){return U5(t,new z5(e),n)};function U5(t,e,n){const r=t.getPriority().val(),i=Bx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=Bx(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Ei(l,fi(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ei(i))),a.forEachChild(Ur,(l,u)=>{const f=U5(u,e.getImmediateChild(l),n);f!==u&&(s=s.updateImmediateChild(l,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function H5(t,e){let n=e instanceof Vn?e:new Vn(e),r=t,i=mn(n);for(;i!==null;){const s=Qf(r.node.children,i)||{children:{},childCount:0};r=new q5(i,r,s),n=sr(n),i=mn(n)}return r}function Th(t){return t.node.value}function bP(t,e){t.node.value=e,_3(t)}function wP(t){return t.node.childCount>0}function zse(t){return Th(t)===void 0&&!wP(t)}function gv(t,e){Zi(t.node.children,(n,r)=>{e(new q5(n,t,r))})}function xP(t,e,n,r){n&&!r&&e(t),gv(t,i=>{xP(i,e,!0,r)}),n&&r&&e(t)}function Fse(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Kp(t){return new Vn(t.parent===null?t.name:Kp(t.parent)+"/"+t.name)}function _3(t){t.parent!==null&&Use(t.parent,t.name,t)}function Use(t,e,n){const r=zse(n),i=yl(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_3(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_3(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=/[\[\].#$\/\u0000-\u001F\u007F]/,Hse=/[\[\].#$\u0000-\u001F\u007F]/,C4=10*1024*1024,W5=function(t){return typeof t=="string"&&t.length!==0&&!qse.test(t)},SP=function(t){return typeof t=="string"&&t.length!==0&&!Hse.test(t)},Wse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),SP(t)},$se=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!_5(t)||t&&typeof t=="object"&&yl(t,".sv")},Gse=function(t,e,n,r){r&&e===void 0||_v(rv(t,"value"),e,n)},_v=function(t,e,n){const r=n instanceof Vn?new aie(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+p0(r));if(typeof e=="function")throw new Error(t+"contains a function "+p0(r)+" with contents = "+e.toString());if(_5(e))throw new Error(t+"contains "+e.toString()+" "+p0(r));if(typeof e=="string"&&e.length>C4/3&&iv(e)>C4)throw new Error(t+"contains a string greater than "+C4+" utf8 bytes "+p0(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Zi(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!W5(a)))throw new Error(t+" contains an invalid key ("+a+") "+p0(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oie(r,a),_v(t,l,r),lie(r)}),i&&s)throw new Error(t+' contains ".value" child '+p0(r)+" in addition to actual children.")}},Vse=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=lp(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!W5(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(sie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&$a(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Yse=function(t,e,n,r){if(r&&e===void 0)return;const i=rv(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Zi(e,(a,l)=>{const u=new Vn(a);if(_v(i,l,zr(n,u)),x5(u)===".priority"&&!$se(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),Vse(i,s)},TP=function(t,e,n,r){if(!(r&&n===void 0)&&!SP(n))throw new Error(rv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Zse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),TP(t,e,n,r)},Xse=function(t,e){if(mn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},jse=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!W5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wse(n))throw new Error(rv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $5(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!WR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ja(t,e,n){$5(t,n),Jse(t,r=>$a(r,e)||$a(e,r))}function Jse(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Qse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();M0&&Vi("event: "+n.toString()),xh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae="repo_interrupt",tae=25;class nae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wg(),this.transactionQueueTree_=new q5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rae(t,e,n){if(t.stats_=b5(t.repoInfo_),t.forceRestClient_||Ire())t.server_=new Hg(t.repoInfo_,(r,i,s,a)=>{zx(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{hi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new du(t.repoInfo_,e,(r,i,s,a)=>{zx(t,r,i,s,a)},r=>{Fx(t,r)},r=>{sae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ore(t.repoInfo_,()=>new Lie(t.stats_,t.server_)),t.infoData_=new Aie,t.infoSyncTree_=new Dx({startListening:(r,i,s,a)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=jp(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),G5(t,"connected",!1),t.serverSyncTree_=new Dx({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(l,u)=>{const f=a(l,u);ja(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function iae(t){const n=t.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vv(t){return Ose({timestamp:iae(t)})}function zx(t,e,n,r,i){t.dataUpdateCount++;const s=new Vn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const u=Rg(n,f=>fi(f));a=Cse(t.serverSyncTree_,s,u,i)}else{const u=fi(n);a=pP(t.serverSyncTree_,s,u,i)}else if(r){const u=Rg(n,f=>fi(f));a=kse(t.serverSyncTree_,s,u)}else{const u=fi(n);a=jp(t.serverSyncTree_,s,u)}let l=s;a.length>0&&(l=sh(t,s)),ja(t.eventQueue_,l,a)}function Fx(t,e){G5(t,"connected",e),e===!1&&uae(t)}function sae(t,e){Zi(e,(n,r)=>{G5(t,n,r)})}function G5(t,e,n){const r=new Vn("/.info/"+e),i=fi(n);t.infoData_.updateSnapshot(r,i);const s=jp(t.infoSyncTree_,r,i);ja(t.eventQueue_,r,s)}function V5(t){return t.nextWriteId_++}function aae(t,e,n){const r=Ise(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=fi(i).withIndex(e._queryParams.getIndex());Ase(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=jp(t.serverSyncTree_,e._path,s);else{const l=dp(t.serverSyncTree_,e);a=pP(t.serverSyncTree_,e._path,s,l)}return ja(t.eventQueue_,e._path,a),dP(t.serverSyncTree_,e,n,null,!0),s},i=>(Jp(t,"get for query "+hi(e)+" failed: "+i),Promise.reject(new Error(i))))}function oae(t,e,n,r,i){Jp(t,"set",{path:e.toString(),value:n,priority:r});const s=vv(t),a=fi(n,r),l=L5(t.serverSyncTree_,e),u=yP(a,l,s),f=V5(t),p=hP(t.serverSyncTree_,e,u,f,!0);$5(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),(g,v)=>{const b=g==="ok";b||Rs("set at "+e+" failed: "+g);const k=cc(t.serverSyncTree_,f,!b);ja(t.eventQueue_,e,k),v3(t,i,g,v)});const m=Z5(t,e);sh(t,m),ja(t.eventQueue_,m,[])}function lae(t,e,n,r){Jp(t,"update",{path:e.toString(),value:n});let i=!0;const s=vv(t),a={};if(Zi(n,(l,u)=>{i=!1,a[l]=vP(zr(e,l),fi(u),t.serverSyncTree_,s)}),i)Vi("update() called with empty data.  Don't do anything."),v3(t,r,"ok",void 0);else{const l=V5(t),u=Tse(t.serverSyncTree_,e,a,l);$5(t.eventQueue_,u),t.server_.merge(e.toString(),n,(f,p)=>{const m=f==="ok";m||Rs("update at "+e+" failed: "+f);const g=cc(t.serverSyncTree_,l,!m),v=g.length>0?sh(t,e):e;ja(t.eventQueue_,v,g),v3(t,r,f,p)}),Zi(n,f=>{const p=Z5(t,zr(e,f));sh(t,p)}),ja(t.eventQueue_,e,[])}}function uae(t){Jp(t,"onDisconnectEvents");const e=vv(t),n=Wg();f3(t.onDisconnect_,kn(),(i,s)=>{const a=vP(i,s,t.serverSyncTree_,e);KR(n,i,a)});let r=[];f3(n,kn(),(i,s)=>{r=r.concat(jp(t.serverSyncTree_,i,s));const a=Z5(t,i);sh(t,a)}),t.onDisconnect_=Wg(),ja(t.eventQueue_,kn(),r)}function cae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eae)}function Jp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vi(n,...e)}function v3(t,e,n,r){e&&xh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function kP(t,e,n){return L5(t.serverSyncTree_,e,n)||Mt.EMPTY_NODE}function Y5(t,e=t.transactionQueueTree_){if(e||yv(t,e),Th(e)){const n=MP(t,e);Ve(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fae(t,Kp(e),n)}else wP(e)&&gv(e,n=>{Y5(t,n)})}function fae(t,e,n){const r=n.map(f=>f.currentWriteId),i=kP(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const p=n[f];Ve(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Cs(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,f=>{Jp(t,"transaction put response",{path:u.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(cc(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();yv(t,H5(t.transactionQueueTree_,e)),Y5(t,t.transactionQueueTree_),ja(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)xh(m[g])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Rs("transaction at "+u.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}sh(t,e)}},a)}function sh(t,e){const n=EP(t,e),r=Kp(n),i=MP(t,n);return hae(t,i,r),r}function hae(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],f=Cs(n,u.path);let p=!1,m;if(Ve(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,i=i.concat(cc(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=tae)p=!0,m="maxretry",i=i.concat(cc(t.serverSyncTree_,u.currentWriteId,!0));else{const g=kP(t,u.path,a);u.currentInputSnapshot=g;const v=e[l].update(g.val());if(v!==void 0){_v("transaction failed: Data returned ",v,u.path);let b=fi(v);typeof v=="object"&&v!=null&&yl(v,".priority")||(b=b.updatePriority(g.getPriority()));const R=u.currentWriteId,N=vv(t),x=yP(b,g,N);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=x,u.currentWriteId=V5(t),a.splice(a.indexOf(R),1),i=i.concat(hP(t.serverSyncTree_,u.path,x,u.currentWriteId,u.applyLocally)),i=i.concat(cc(t.serverSyncTree_,R,!0))}else p=!0,m="nodata",i=i.concat(cc(t.serverSyncTree_,u.currentWriteId,!0))}ja(t.eventQueue_,n,i),i=[],p&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(m),!1,null))))}yv(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)xh(r[l]);Y5(t,t.transactionQueueTree_)}function EP(t,e){let n,r=t.transactionQueueTree_;for(n=mn(e);n!==null&&Th(r)===void 0;)r=H5(r,n),e=sr(e),n=mn(e);return r}function MP(t,e){const n=[];return CP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CP(t,e,n){const r=Th(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gv(e,i=>{CP(t,i,n)})}function yv(t,e){const n=Th(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,bP(e,n.length>0?n:void 0)}gv(e,r=>{yv(t,r)})}function Z5(t,e){const n=Kp(EP(t,e)),r=H5(t.transactionQueueTree_,e);return Fse(r,i=>{A4(t,i)}),A4(t,r),xP(r,i=>{A4(t,i)}),n}function A4(t,e){const n=Th(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ve(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Ve(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(cc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?bP(e,void 0):n.length=s+1,ja(t.eventQueue_,Kp(e),i);for(let a=0;a<r.length;a++)xh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function pae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rs(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ux=function(t,e){const n=mae(t),r=n.namespace;n.domain==="firebase.com"&&wu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wre();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new NR(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Vn(n.pathString)}},mae=function(t){let e="",n="",r="",i="",s="",a=!0,l="https",u=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=dae(t.substring(p,m)));const g=pae(t.substring(Math.min(t.length,m)));f=e.indexOf(":"),f>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(f+1),10)):f=e.length;const v=e.slice(0,f);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+hi(this.snapshot.exportVal())}}class _ae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return hn(this._path)?null:x5(this._path)}get ref(){return new Pu(this._repo,this._path)}get _queryIdentifier(){const e=Ex(this._queryParams),n=v5(e);return n==="{}"?"default":n}get _queryObject(){return Ex(this._queryParams)}isEqual(e){if(e=Xi(e),!(e instanceof X5))return!1;const n=this._repo===e._repo,r=WR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+iie(this._path)}}class Pu extends X5{constructor(e,n){super(e,n,new E5,!1)}get parent(){const e=HR(this._path);return e===null?null:new Pu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class pp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Vn(e),r=b3(this.ref,e);return new pp(this._node.getChild(n),r,Ur)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new pp(i,b3(this.ref,r),Ur)))}hasChild(e){const n=new Vn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function y3(t,e){return t=Xi(t),t._checkNotDeleted("ref"),e!==void 0?b3(t._root,e):t._root}function b3(t,e){return t=Xi(t),mn(t._path)===null?Zse("child","path",e,!1):TP("child","path",e,!1),new Pu(t._repo,zr(t._path,e))}function yae(t,e){t=Xi(t),Xse("set",t._path),Gse("set",e,t._path,!1);const n=new Up;return oae(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bae(t,e){Yse("update",e,t._path,!1);const n=new Up;return lae(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function wae(t){t=Xi(t);const e=new vae(()=>{}),n=new j5(e);return aae(t._repo,t,n).then(r=>new pp(r,new Pu(t._repo,t._path),t._queryParams.getIndex()))}class j5{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gae("value",this,new pp(e.snapshotNode,new Pu(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new _ae(this,e,n):null}matches(e){return e instanceof j5?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}gse(Pu);wse(Pu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae="FIREBASE_DATABASE_EMULATOR_HOST",w3={};let Sae=!1;function Tae(t,e,n,r){t.repoInfo_=new NR(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function kae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||wu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Ux(s,i),l=a.repoInfo,u,f;typeof process<"u"&&process.env&&(f=process.env[xae]),f?(u=!0,s=`http://${f}?ns=${l.namespace}`,a=Ux(s,i),l=a.repoInfo):u=!a.repoInfo.secure;const p=i&&u?new Pf(Pf.OWNER):new Pre(t.name,t.options,e);jse("Invalid Firebase Database URL",a),hn(a.path)||wu("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Mae(l,t,p,new Rre(t.name,n));return new Cae(m,t)}function Eae(t,e){const n=w3[e];(!n||n[t.key]!==t)&&wu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cae(t),delete n[t.key]}function Mae(t,e,n,r){let i=w3[e.name];i||(i={},w3[e.name]=i);let s=i[t.toURLString()];return s&&wu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nae(t,Sae,n,r),i[t.toURLString()]=s,s}class Cae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pu(this._repo,kn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Eae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wu("Cannot call "+e+" on a deleted database.")}}function AP(t=av(),e){const n=sv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=EI("database");r&&Aae(n,...r)}return n}function Aae(t,e,n,r={}){t=Xi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wu("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pf(Pf.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:AI(r.mockUserToken,t.app.options.projectId);s=new Pf(a)}Tae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t){gre(X0),z0(new xc("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return kae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),hu(ux,cx,t),hu(ux,cx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae={".sv":"timestamp"};function Pae(){return Rae}du.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};du.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Iae();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="firebasestorage.googleapis.com",RP="storageBucket",Nae=2*60*1e3,Lae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ru{constructor(e,n,r=0){super(I4(e),`Firebase Storage: ${n} (${I4(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I4(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ri;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ri||(Ri={}));function I4(t){return"storage/"+t}function PP(){const t="An unknown error occurred, please check the error payload for server response.";return new Li(Ri.UNKNOWN,t)}function Oae(t){return new Li(Ri.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Dae(t){return new Li(Ri.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Li(Ri.UNAUTHENTICATED,t)}function zae(){return new Li(Ri.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Fae(t){return new Li(Ri.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Uae(){return new Li(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qae(){return new Li(Ri.CANCELED,"User canceled the upload/download.")}function Hae(t){return new Li(Ri.INVALID_URL,"Invalid URL '"+t+"'.")}function Wae(t){return new Li(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $ae(){return new Li(Ri.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RP+"' property when initializing the app?")}function Gae(){return new Li(Ri.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function x3(t){return new Li(Ri.INVALID_ARGUMENT,t)}function NP(){return new Li(Ri.APP_DELETED,"The Firebase app was deleted.")}function Vae(t){return new Li(Ri.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function td(t){throw new Li(Ri.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ba.makeFromUrl(e,n)}catch{return new ba(e,"")}if(r.path==="")return r;throw Wae(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function f(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},k=n===IP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",N=new RegExp(`^https?://${k}/${i}/${R}`,"i"),T=[{regex:l,indices:u,postModify:s},{regex:v,indices:b,postModify:f},{regex:N,indices:{bucket:1,path:2},postModify:f}];for(let M=0;M<T.length;M++){const I=T[M],P=I.regex.exec(e);if(P){const O=P[I.indices.bucket];let z=P[I.indices.path];z||(z=""),r=new ba(O,z),I.postModify(r);break}}if(r==null)throw Hae(e);return r}}class Yae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let f=!1;function p(...R){f||(f=!0,e.apply(null,R))}function m(R){i=setTimeout(()=>{i=null,t(v,u())},R)}function g(){s&&clearTimeout(s)}function v(R,...N){if(f){g();return}if(R){g(),p.call(null,R,...N);return}if(u()||a){g(),p.call(null,R,...N);return}r<64&&(r*=2);let T;l===1?(l=2,T=0):T=(r+Math.random())*1e3,m(T)}let b=!1;function k(R){b||(b=!0,g(),!f&&(i!==null?(R||(l=2),clearTimeout(i),m(0)):R||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,k(!0)},n),k}function Xae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(t){return t!==void 0}function Kae(t){return typeof t=="object"&&!Array.isArray(t)}function LP(t){return typeof t=="string"||t instanceof String}function qx(t,e,n,r){if(r<e)throw x3(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw x3(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(C0||(C0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e,n,r,i,s,a,l,u,f,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new r1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===C0.NO_ERROR,u=s.getStatus();if(!l||Jae(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===C0.ABORT;r(!1,new r1(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new r1(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());jae(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=PP();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?NP():qae();a(u)}else{const u=Uae();a(u)}};this.canceled_?n(!1,new r1(!1,null,!0)):this.backoffId_=Zae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class r1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eoe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function toe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function noe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function roe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ioe(t,e,n,r,i,s,a=!0){const l=DP(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return noe(f,e),eoe(f,n),toe(f,s),roe(f,r),new Qae(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){let e;try{e=JSON.parse(t)}catch{return null}return Kae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aoe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t,e){return e}class ws{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ooe}}let i1=null;function loe(t){return!LP(t)||t.length<2?t:zP(t)}function uoe(){if(i1)return i1;const t=[];t.push(new ws("bucket")),t.push(new ws("generation")),t.push(new ws("metageneration")),t.push(new ws("name","fullPath",!0));function e(s,a){return loe(a)}const n=new ws("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new ws("size");return i.xform=r,t.push(i),t.push(new ws("timeCreated")),t.push(new ws("updated")),t.push(new ws("md5Hash",null,!0)),t.push(new ws("cacheControl",null,!0)),t.push(new ws("contentDisposition",null,!0)),t.push(new ws("contentEncoding",null,!0)),t.push(new ws("contentLanguage",null,!0)),t.push(new ws("contentType",null,!0)),t.push(new ws("metadata","customMetadata",!0)),i1=t,i1}function coe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ba(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function foe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return coe(r,t),r}function hoe(t,e,n){const r=BP(e);return r===null?null:foe(t,r,n)}function doe(t,e,n,r){const i=BP(e);if(i===null||!LP(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const p=t.bucket,m=t.fullPath,g="/b/"+a(p)+"/o/"+a(m),v=OP(g,n,r),b=DP({alt:"media",token:f});return v+b})[0]}class poe{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){if(!t)throw PP()}function goe(t,e){function n(r,i){const s=hoe(t,i,e);return moe(s!==null),doe(s,i,t.host,t._protocol)}return n}function _oe(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zae():i=Bae():n.getStatus()===402?i=Dae(t.bucket):n.getStatus()===403?i=Fae(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function voe(t){const e=_oe(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Oae(t.path)),s.serverResponse=i.serverResponse,s}return n}function yoe(t,e,n){const r=e.fullServerUrl(),i=OP(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new poe(i,s,goe(t,n),a);return l.errorHandler=voe(e),l}class boe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=C0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=C0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=C0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw td("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class woe extends boe{initXhr(){this.xhr_.responseType="text"}}function xoe(){return new woe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this._service=e,n instanceof ba?this._location=n:this._location=ba.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new W0(e,n)}get root(){const e=new ba(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zP(this._location.path)}get storage(){return this._service}get parent(){const e=soe(this._location.path);if(e===null)return null;const n=new ba(this._location.bucket,e);return new W0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vae(e)}}function Soe(t){t._throwIfRoot("getDownloadURL");const e=yoe(t.storage,t._location,uoe());return t.storage.makeRequestWithTokens(e,xoe).then(n=>{if(n===null)throw Gae();return n})}function Toe(t,e){const n=aoe(t._location.path,e),r=new ba(t._location.bucket,n);return new W0(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t){return/^[A-Za-z]+:\/\//.test(t)}function Eoe(t,e){return new W0(t,e)}function FP(t,e){if(t instanceof K5){const n=t;if(n._bucket==null)throw $ae();const r=new W0(n,n._bucket);return e!=null?FP(r,e):r}else return e!==void 0?Toe(t,e):t}function Moe(t,e){if(e&&koe(e)){if(t instanceof K5)return Eoe(t,e);throw x3("To use ref(service, url), the first argument must be a Storage instance.")}else return FP(t,e)}function Hx(t,e){const n=e==null?void 0:e[RP];return n==null?null:ba.makeFromBucketSpec(n,t)}function Coe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:AI(i,t.app.options.projectId))}class K5{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=IP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nae,this._maxUploadRetryTime=Lae,this._requests=new Set,i!=null?this._bucket=ba.makeFromBucketSpec(i,this._host):this._bucket=Hx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ba.makeFromBucketSpec(this._url,e):this._bucket=Hx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new W0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Yae(NP());{const a=ioe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Wx="@firebase/storage",$x="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="storage";function Aoe(t){return t=Xi(t),Soe(t)}function Ioe(t,e){return t=Xi(t),Moe(t,e)}function Roe(t=av(),e){t=Xi(t);const r=sv(t,UP).getImmediate({identifier:e}),i=EI("storage");return i&&Poe(r,...i),r}function Poe(t,e,n,r={}){Coe(t,e,n,r)}function Noe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new K5(n,r,i,e,X0)}function Loe(){z0(new xc(UP,Noe,"PUBLIC").setMultipleInstances(!0)),hu(Wx,$x,""),hu(Wx,$x,"esm2017")}Loe();function Kg(t,e,n){n=n||{};var r=t.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(e,{detail:n}):(i=r.createEvent("Event"),i.initEvent(e,!1,!1),i.detail=n),t.dispatchEvent(i)}function qP(t){return Array.isArray(t)||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function HP(t){return t===(t|0)+""}function sl(t){const e=document.createElement("span");return e.className="observablehq--cellname",e.textContent=`${t} = `,e}const Ooe=Symbol.prototype.toString;function kh(t){return Ooe.call(t)}const{getOwnPropertySymbols:Doe,prototype:{hasOwnProperty:Boe}}=Object,{toStringTag:zoe}=Symbol,WP={},Qp=Doe;function bv(t,e){return Boe.call(t,e)}function S3(t){return t[zoe]||t.constructor&&t.constructor.name||"Object"}function Ya(t,e){try{const n=t[e];return n&&n.constructor,n}catch{return WP}}const Foe=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function $P(t){try{let e=Foe.filter(({symbol:a})=>t[a]===!0);if(!e.length)return;const n=e.find(a=>!a.modifier),r=n.name==="Map"&&e.find(a=>a.modifier&&a.prefix),i=e.some(a=>a.arrayish),s=e.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:e,arrayish:i&&!s,setish:s}}catch{return null}}const{getPrototypeOf:J5,getOwnPropertyDescriptors:Uoe}=Object,GP=J5({});function VP(t,e,n,r){let i=qP(t),s,a,l,u;t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=qoe):(s="Map()",a=Cd):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Hoe):(s="Set()",a=Cd):i?(s=`${t.constructor.name}(${t.length})`,a=$oe):(u=$P(t))?(s=`Immutable.${u.name}${u.name==="Record"?"":`(${t.size})`}`,i=u.arrayish,a=u.arrayish?Goe:u.setish?Woe:Yoe):r?(s=S3(t),a=Voe):(s=S3(t),a=Cd);const f=document.createElement("span");f.className="observablehq--expanded",n&&f.appendChild(sl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),p.addEventListener("mouseup",function(m){m.stopPropagation(),Qg(f,Q5(t,null,n,r))}),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)f.appendChild(l.value);if(!l.done){const m=f.appendChild(document.createElement("a"));m.className="observablehq--field",m.style.display="block",m.appendChild(document.createTextNode("  … more")),m.addEventListener("mouseup",function(g){g.stopPropagation(),f.insertBefore(l.value,f.lastChild.previousSibling);for(let v=0;!(l=a.next()).done&&v<19;++v)f.insertBefore(l.value,f.lastChild.previousSibling);l.done&&f.removeChild(f.lastChild.previousSibling),Kg(f,"load")})}return f.appendChild(document.createTextNode(i?"]":"}")),f}function*qoe(t){for(const[e,n]of t)yield Zoe(e,n);yield*Cd(t)}function*Hoe(t){for(const e of t)yield ZP(e);yield*Cd(t)}function*Woe(t){for(const e of t)yield ZP(e)}function*$oe(t){for(let e=0,n=t.length;e<n;++e)e in t&&(yield pu(e,Ya(t,e),"observablehq--index"));for(const e in t)!HP(e)&&bv(t,e)&&(yield pu(e,Ya(t,e),"observablehq--key"));for(const e of Qp(t))yield pu(kh(e),Ya(t,e),"observablehq--symbol")}function*Goe(t){let e=0;for(const n=t.size;e<n;++e)yield pu(e,t.get(e),!0)}function*Voe(t){for(const n in Uoe(t))yield pu(n,Ya(t,n),"observablehq--key");for(const n of Qp(t))yield pu(kh(n),Ya(t,n),"observablehq--symbol");const e=J5(t);e&&e!==GP&&(yield YP(e))}function*Cd(t){for(const n in t)bv(t,n)&&(yield pu(n,Ya(t,n),"observablehq--key"));for(const n of Qp(t))yield pu(kh(n),Ya(t,n),"observablehq--symbol");const e=J5(t);e&&e!==GP&&(yield YP(e))}function*Yoe(t){for(const[e,n]of t)yield pu(e,n,"observablehq--key")}function YP(t){const e=document.createElement("div"),n=e.appendChild(document.createElement("span"));return e.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",e.appendChild(document.createTextNode(": ")),e.appendChild(oa(t,void 0,void 0,void 0,!0)),e}function pu(t,e,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${t}`,r.appendChild(document.createTextNode(": ")),r.appendChild(oa(e)),r}function Zoe(t,e){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(oa(t)),n.appendChild(document.createTextNode(" => ")),n.appendChild(oa(e)),n}function ZP(t){const e=document.createElement("div");return e.className="observablehq--field",e.appendChild(document.createTextNode("  ")),e.appendChild(oa(t)),e}function Gx(t){const e=window.getSelection();return e.type==="Range"&&(e.containsNode(t,!0)||e.anchorNode.isSelfOrDescendant(t)||e.focusNode.isSelfOrDescendant(t))}function Q5(t,e,n,r){let i=qP(t),s,a,l,u;if(t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=Xoe):(s="Map()",a=Ad):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=joe):(s="Set()",a=Ad):i?(s=`${t.constructor.name}(${t.length})`,a=Qoe):(u=$P(t))?(s=`Immutable.${u.name}${u.name==="Record"?"":`(${t.size})`}`,i=u.arrayish,a=u.arrayish?Joe:u.setish?Koe:ele):(s=S3(t),a=Ad),e){const m=document.createElement("span");return m.className="observablehq--shallow",n&&m.appendChild(sl(n)),m.appendChild(document.createTextNode(s)),m.addEventListener("mouseup",function(g){Gx(m)||(g.stopPropagation(),Qg(m,Q5(t)))}),m}const f=document.createElement("span");f.className="observablehq--collapsed",n&&f.appendChild(sl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),f.addEventListener("mouseup",function(m){Gx(f)||(m.stopPropagation(),Qg(f,VP(t,null,n,r)))},!0),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)m>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(l.value);return l.done||f.appendChild(document.createTextNode(", …")),f.appendChild(document.createTextNode(i?"]":"}")),f}function*Xoe(t){for(const[e,n]of t)yield tle(e,n);yield*Ad(t)}function*joe(t){for(const e of t)yield oa(e,!0);yield*Ad(t)}function*Koe(t){for(const e of t)yield oa(e,!0)}function*Joe(t){let e=-1,n=0;for(const r=t.size;n<r;++n)n>e+1&&(yield Jg(n-e-1)),yield oa(t.get(n),!0),e=n;n>e+1&&(yield Jg(n-e-1))}function*Qoe(t){let e=-1,n=0;for(const r=t.length;n<r;++n)n in t&&(n>e+1&&(yield Jg(n-e-1)),yield oa(Ya(t,n),!0),e=n);n>e+1&&(yield Jg(n-e-1));for(const r in t)!HP(r)&&bv(t,r)&&(yield mp(r,Ya(t,r),"observablehq--key"));for(const r of Qp(t))yield mp(kh(r),Ya(t,r),"observablehq--symbol")}function*Ad(t){for(const e in t)bv(t,e)&&(yield mp(e,Ya(t,e),"observablehq--key"));for(const e of Qp(t))yield mp(kh(e),Ya(t,e),"observablehq--symbol")}function*ele(t){for(const[e,n]of t)yield mp(e,n,"observablehq--key")}function Jg(t){const e=document.createElement("span");return e.className="observablehq--empty",e.textContent=t===1?"empty":`empty × ${t}`,e}function mp(t,e,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=t,r.appendChild(document.createTextNode(": ")),r.appendChild(oa(e,!0)),r}function tle(t,e){const n=document.createDocumentFragment();return n.appendChild(oa(t,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(oa(e,!0)),n}function nle(t){return zC(t,"Invalid Date")}var rle=Error.prototype.toString;function ile(t){return t.stack||rle.call(t)}var sle=RegExp.prototype.toString;function ale(t){return sle.call(t)}const R4=20;function ole(t,e,n,r){if(e===!1){if(Yx(t,/["\n]/g)<=Yx(t,/`|\${/g)){const f=document.createElement("span");r&&f.appendChild(sl(r));const p=f.appendChild(document.createElement("span"));return p.className="observablehq--string",p.textContent=JSON.stringify(t),f}const a=t.split(`
`);if(a.length>R4&&!n){const f=document.createElement("div");r&&f.appendChild(sl(r));const p=f.appendChild(document.createElement("span"));p.className="observablehq--string",p.textContent="`"+Vx(a.slice(0,R4).join(`
`));const m=f.appendChild(document.createElement("span")),g=a.length-R4;return m.textContent=`Show ${g} truncated line${g>1?"s":""}`,m.className="observablehq--string-expand",m.addEventListener("mouseup",function(v){v.stopPropagation(),Qg(f,oa(t,e,!0,r))}),f}const l=document.createElement("span");r&&l.appendChild(sl(r));const u=l.appendChild(document.createElement("span"));return u.className=`observablehq--string${n?" observablehq--expanded":""}`,u.textContent="`"+Vx(t)+"`",l}const i=document.createElement("span");r&&i.appendChild(sl(r));const s=i.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(t.length>100?`${t.slice(0,50)}…${t.slice(-49)}`:t),i}function Vx(t){return t.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,lle)}function lle(t){var e=t.charCodeAt(0);switch(e){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return e<16?"\\x0"+e.toString(16):e<32?"\\x"+e.toString(16):"\\"+t}function Yx(t,e){for(var n=0;e.exec(t);)++n;return n}var ule=Function.prototype.toString,cle={prefix:"async ƒ"},fle={prefix:"async ƒ*"},Zx={prefix:"class"},hle={prefix:"ƒ"},dle={prefix:"ƒ*"};function ple(t,e){var n,r,i=ule.call(t);switch(t.constructor&&t.constructor.name){case"AsyncFunction":n=cle;break;case"AsyncGeneratorFunction":n=fle;break;case"GeneratorFunction":n=dle;break;default:n=/^class\b/.test(i)?Zx:hle;break}return n===Zx?nd(n,"",e):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?nd(n,"("+r[1]+")",e):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?nd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?nd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):nd(n,"(…)",e)}function nd(t,e,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(sl(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=t.prefix,r.appendChild(document.createTextNode(e)),r}const{prototype:{toString:mle}}=Object;function oa(t,e,n,r,i){let s=typeof t;switch(s){case"boolean":case"undefined":{t+="";break}case"number":{t=t===0&&1/t<0?"-0":t+"";break}case"bigint":{t=t+"n";break}case"symbol":{t=kh(t);break}case"function":return ple(t,r);case"string":return ole(t,e,n,r);default:{if(t===null){s=null,t="null";break}if(t instanceof Date){s="date",t=nle(t);break}if(t===WP){s="forbidden",t="[forbidden]";break}switch(mle.call(t)){case"[object RegExp]":{s="regexp",t=ale(t);break}case"[object Error]":case"[object DOMException]":{s="error",t=ile(t);break}default:return(n?VP:Q5)(t,e,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(sl(r));const l=a.appendChild(document.createElement("span"));return l.className=`observablehq--${s}`,l.textContent=t,a}function Qg(t,e){t.classList.contains("observablehq--inspect")&&e.classList.add("observablehq--inspect"),t.parentNode.replaceChild(e,t),Kg(e,"load")}const gle=/\s+\(\d+:\d+\)$/m;class T3{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,n){const{_node:r}=this;if((!_le(e)||e.parentNode&&e.parentNode!==r)&&(e=oa(e,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),e.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==e)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(e,r.firstChild)}else r.appendChild(e);Kg(r,"update")}rejected(e,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(sl(n)),i.appendChild(document.createTextNode((e+"").replace(gle,""))),r.appendChild(i),Kg(r,"error",{error:e})}}T3.into=function(t){if(typeof t=="string"&&(t=document.querySelector(t),t==null))throw new Error("container not found");return function(){return new T3(t.appendChild(document.createElement("div")))}};function _le(t){return(t instanceof Element||t instanceof Text)&&t instanceof t.constructor}const J0=n5(null),XP=n5(["Login First!"]),gp=n5("default"),vle=!1;var D1,jP;const yle=async()=>{console.log("Loading localkey module..1");const{firebaselocalConfig:t,defemail:e}=await tp(()=>import("./localkey-d9aef887.js"),[]);console.log("Loading localkey module..2 done | ","production",t,e),D1=t,D1.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M",console.log("Setting PRODUCTION"),jP=OI(D1)};yle();console.log("firebaseConfig",D1);async function ble(){const t=av();var e=sne(vR(t));return e.then(()=>J0.set(void 0)),e}async function wle(t,e){const n=vR();return n.setPersistence(uR).then(()=>nne(n,t,e).then(async r=>{J0.set(r);const i=AP();return await bae(y3(i,"/users/"+r.user.uid+"/"),{lastlogged:Pae()}),await yae(y3(i,"/users/"+r.user.uid+"/email"),r.user.email),JP("/users/"+r.user.uid+"/profiles").then(s=>{console.log("userSetting ",s),XP.set(s),gp.set(s[0])}),r}))}async function KP(t){t=t||"fss/hello.json";var e=Roe(jP);const n=Ioe(e,t);return Aoe(n)}async function JP(t){if(IU(J0)==null&&!vle)throw console.log("not DEVELMODE not Logged In "),TypeError("unAuthorized");console.log("RTDB getData path = ",t);const n=y3(AP(),t);return wae(n).then(r=>{if(r.exists()){let i=r.val();return console.log("RTDB",i),i}return null}).catch(r=>{console.error("RTDB",r)})}function Xx(t){var e=Object.keys(t[0]),n=[e,...t.map(r=>{var i=[];for(let s of e)i.push(r[s]);return i})].map(r=>r.join(",")).join(`
`);return n}J0.subscribe(t=>{console.log("User Changed...",t)});function xle(t){let e,n,r=(t[0]==null?"...":t[0].length)+"",i,s,a,l;return{c(){e=ce("button"),n=ze("gainloss : "),i=ze(r),X(e,"class",s="ui button small "+(t[0]==null?"orange  ":"green")+" "+(t[2]!=null)+"?'loading':''")},m(u,f){Nt(u,e,f),U(e,n),U(e,i),a||(l=ft(e,"click",t[4]),a=!0)},p(u,[f]){f&1&&r!==(r=(u[0]==null?"...":u[0].length)+"")&&Ht(i,r),f&5&&s!==(s="ui button small "+(u[0]==null?"orange  ":"green")+" "+(u[2]!=null)+"?'loading':''")&&X(e,"class",s)},i:Pn,o:Pn,d(u){u&&_t(e),a=!1,l()}}}let Sle="/fss/";function Tle(t,e,n){let r;x0(t,J0,g=>n(2,r=g));let{gainloss:i}=e,{logger:s=null}=e;Od(()=>{});let a={gainloss:{localpath:"/common/LossesPerElevation@1.csv",fspath:"/LossesPerElevation@1.csv",type:"csv"}};console.log("gainloss : FilePaths",a);let l;function u(g,v){if(i==null)return;l=l||g.clientWidth;const b=rl({width:l,marks:[xd(i,{y:"UrbanAg",x:"el",title:R=>`${R.UrbanAg.toFixed(1)}dB @ ${R.el}`,stroke:R=>"Urban"}),xd(i,{y:"SubUrbanAg",x:"el",title:R=>`${R.SubUrbanAg.toFixed(1)}dB @ ${R.el}`,stroke:R=>"SubUrban"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:R=>Math.floor(R)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"BS/sector Antenna Gain"}});let k=ur(g).selectAll("figure#p4");k.empty()||k.remove(),b.id="p4",g.append(b)}async function f(g){let v="Path Error "+g,b=a[g];{if(r!=null)v=await KP(Sle+b.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",v)}return v}async function p(g){return console.log("loadGainLoss..started ",g),f(g).then(v=>{var b=Gk(v,pb);b.then(k=>{var R=k.map(N=>({el:+N["Elev angle"],UrbanAg:N.UrbanAg,SubUrbanAg:N.SubUrbanAg,GL:N["Gas loss"],CL:-N["Clutter gain"],PL:N["Propagation loss"]}));return n(0,i=R),R}),s.showStatus("gainloss",b)}).catch(v=>{s!=null&&s.appendNode("gainloss",v.toString())}),console.log("loadGainLoss..done..."),""}const m=()=>{s.queueNode("gainloss",i)};return t.$$set=g=>{"gainloss"in g&&n(0,i=g.gainloss),"logger"in g&&n(1,s=g.logger)},t.$$.update=()=>{t.$$.dirty&4&&(r!=null?(console.log("must be running again gainloss",r),p("gainloss")):(console.log("DEVELMODE gainloss"),p("gainloss")))},[i,s,r,u,m]}class kle extends Mu{constructor(e){super(),Eu(this,e,Tle,xle,Za,{gainloss:0,logger:1,showGainLoss:3})}get showGainLoss(){return this.$$.ctx[3]}}var ki=63710088e-1,e6={centimeters:ki*100,centimetres:ki*100,degrees:ki/111325,feet:ki*3.28084,inches:ki*39.37,kilometers:ki/1e3,kilometres:ki/1e3,meters:ki,metres:ki,miles:ki/1609.344,millimeters:ki*1e3,millimetres:ki*1e3,nauticalmiles:ki/1852,radians:1,yards:ki*1.0936},Ele={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/ki,yards:1.0936133},k3={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Ta(t,e,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Mle(t,e,n){switch(t){case"Point":return Ts(e).geometry;case"LineString":return xo(e).geometry;case"Polygon":return $0(e).geometry;case"MultiPoint":return QP(e).geometry;case"MultiLineString":return t6(e).geometry;case"MultiPolygon":return eN(e).geometry;default:throw new Error(t+" is invalid")}}function Ts(t,e,n){if(n===void 0&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ah(t[0])||!ah(t[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:t};return Ta(r,e,n)}function Cle(t,e,n){return n===void 0&&(n={}),Yi(t.map(function(r){return Ts(r,e)}),n)}function $0(t,e,n){n===void 0&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:t};return Ta(l,e,n)}function Ale(t,e,n){return n===void 0&&(n={}),Yi(t.map(function(r){return $0(r,e)}),n)}function xo(t,e,n){if(n===void 0&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:t};return Ta(r,e,n)}function Ile(t,e,n){return n===void 0&&(n={}),Yi(t.map(function(r){return xo(r,e)}),n)}function Yi(t,e){e===void 0&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function t6(t,e,n){n===void 0&&(n={});var r={type:"MultiLineString",coordinates:t};return Ta(r,e,n)}function QP(t,e,n){n===void 0&&(n={});var r={type:"MultiPoint",coordinates:t};return Ta(r,e,n)}function eN(t,e,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:t};return Ta(r,e,n)}function Rle(t,e,n){n===void 0&&(n={});var r={type:"GeometryCollection",geometries:t};return Ta(r,e,n)}function Ple(t,e){if(e===void 0&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function n6(t,e){e===void 0&&(e="kilometers");var n=e6[e];if(!n)throw new Error(e+" units is invalid");return t*n}function r6(t,e){e===void 0&&(e="kilometers");var n=e6[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Nle(t,e){return i6(r6(t,e))}function Lle(t){var e=t%360;return e<0&&(e+=360),e}function i6(t){var e=t%(2*Math.PI);return e*180/Math.PI}function So(t){var e=t%360;return e*Math.PI/180}function s6(t,e,n){if(e===void 0&&(e="kilometers"),n===void 0&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return n6(r6(t,e),n)}function Ole(t,e,n){if(e===void 0&&(e="meters"),n===void 0&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=k3[e];if(!r)throw new Error("invalid original units");var i=k3[n];if(!i)throw new Error("invalid final units");return t/r*i}function ah(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function em(t){return!!t&&t.constructor===Object}function Dle(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(e){if(!ah(e))throw new Error("bbox must only contain numbers")})}function Ble(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}const zle=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:k3,bearingToAzimuth:Lle,convertArea:Ole,convertLength:s6,degreesToRadians:So,earthRadius:ki,factors:e6,feature:Ta,featureCollection:Yi,geometry:Mle,geometryCollection:Rle,isNumber:ah,isObject:em,lengthToDegrees:Nle,lengthToRadians:r6,lineString:xo,lineStrings:Ile,multiLineString:t6,multiPoint:QP,multiPolygon:eN,point:Ts,points:Cle,polygon:$0,polygons:Ale,radiansToDegrees:i6,radiansToLength:n6,round:Ple,unitsFactors:Ele,validateBBox:Dle,validateId:Ble},Symbol.toStringTag,{value:"Module"}));function bl(t,e,n){if(t!==null)for(var r,i,s,a,l,u,f,p=0,m=0,g,v=t.type,b=v==="FeatureCollection",k=v==="Feature",R=b?t.features.length:1,N=0;N<R;N++){f=b?t.features[N].geometry:k?t.geometry:t,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var x=0;x<l;x++){var T=0,M=0;if(a=g?f.geometries[x]:f,a!==null){u=a.coordinates;var I=a.type;switch(p=n&&(I==="Polygon"||I==="MultiPolygon")?1:0,I){case null:break;case"Point":if(e(u,m,N,T,M)===!1)return!1;m++,T++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(e(u[r],m,N,T,M)===!1)return!1;m++,I==="MultiPoint"&&T++}I==="LineString"&&T++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-p;i++){if(e(u[r][i],m,N,T,M)===!1)return!1;m++}I==="MultiLineString"&&T++,I==="Polygon"&&M++}I==="Polygon"&&T++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(M=0,i=0;i<u[r].length;i++){for(s=0;s<u[r][i].length-p;s++){if(e(u[r][i][s],m,N,T,M)===!1)return!1;m++}M++}T++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(bl(a.geometries[r],e,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Fle(t,e,n,r){var i=n;return bl(t,function(s,a,l,u,f){a===0&&n===void 0?i=s:i=e(i,s,a,l,u,f)},r),i}function tN(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&e(t.features[n].properties,n)!==!1;n++);break;case"Feature":e(t.properties,0);break}}function Ule(t,e,n){var r=n;return tN(t,function(i,s){s===0&&n===void 0?r=i:r=e(r,i,s)}),r}function oh(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function qle(t,e,n){var r=n;return oh(t,function(i,s){s===0&&n===void 0?r=i:r=e(r,i,s)}),r}function Hle(t){var e=[];return bl(t,function(n){e.push(n)}),e}function a6(t,e){var n,r,i,s,a,l,u,f,p,m,g=0,v=t.type==="FeatureCollection",b=t.type==="Feature",k=v?t.features.length:1;for(n=0;n<k;n++){for(l=v?t.features[n].geometry:b?t.geometry:t,f=v?t.features[n].properties:b?t.properties:{},p=v?t.features[n].bbox:b?t.bbox:void 0,m=v?t.features[n].id:b?t.id:void 0,u=l?l.type==="GeometryCollection":!1,a=u?l.geometries.length:1,i=0;i<a;i++){if(s=u?l.geometries[i]:l,s===null){if(e(null,g,f,p,m)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,g,f,p,m)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<s.geometries.length;r++)if(e(s.geometries[r],g,f,p,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function nN(t,e,n){var r=n;return a6(t,function(i,s,a,l,u){s===0&&n===void 0?r=i:r=e(r,i,s,a,l,u)}),r}function xu(t,e){a6(t,function(n,r,i,s,a){var l=n===null?null:n.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(Ta(n,i,{bbox:s,id:a}),r,0)===!1?!1:void 0}var u;switch(l){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon";break}for(var f=0;f<n.coordinates.length;f++){var p=n.coordinates[f],m={type:u,coordinates:p};if(e(Ta(m,i),r,f)===!1)return!1}})}function Wle(t,e,n){var r=n;return xu(t,function(i,s,a){s===0&&a===0&&n===void 0?r=i:r=e(r,i,s,a)}),r}function rN(t,e){xu(t,function(n,r,i){var s=0;if(n.geometry){var a=n.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,u=0,f=0,p=0;if(bl(n,function(m,g,v,b,k){if(l===void 0||r>u||b>f||k>p){l=m,u=r,f=b,p=k,s=0;return}var R=xo([l,m],n.properties);if(e(R,r,i,k,s)===!1)return!1;s++,l=m})===!1)return!1}}})}function $le(t,e,n){var r=n,i=!1;return rN(t,function(s,a,l,u,f){i===!1&&n===void 0?r=s:r=e(r,s,a,l,u,f),i=!0}),r}function iN(t,e){if(!t)throw new Error("geojson is required");xu(t,function(n,r,i){if(n.geometry!==null){var s=n.geometry.type,a=n.geometry.coordinates;switch(s){case"LineString":if(e(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(xo(a[l],n.properties),r,i,l)===!1)return!1;break}}})}function Gle(t,e,n){var r=n;return iN(t,function(i,s,a,l){s===0&&n===void 0?r=i:r=e(r,i,s,a,l)}),r}function Vle(t,e){if(e=e||{},!em(e))throw new Error("options is invalid");var n=e.featureIndex||0,r=e.multiFeatureIndex||0,i=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties,l;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,l=t.features[n].geometry;break;case"Feature":a=a||t.properties,l=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=t;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var u=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),xo([u[s],u[s+1]],a,e);case"Polygon":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),xo([u[i][s],u[i][s+1]],a,e);case"MultiLineString":return r<0&&(r=u.length+r),s<0&&(s=u[r].length+s-1),xo([u[r][s],u[r][s+1]],a,e);case"MultiPolygon":return r<0&&(r=u.length+r),i<0&&(i=u[r].length+i),s<0&&(s=u[r][i].length-s-1),xo([u[r][i][s],u[r][i][s+1]],a,e)}throw new Error("geojson is invalid")}function Yle(t,e){if(e=e||{},!em(e))throw new Error("options is invalid");var n=e.featureIndex||0,r=e.multiFeatureIndex||0,i=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties,l;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,l=t.features[n].geometry;break;case"Feature":a=a||t.properties,l=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=t;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var u=l.coordinates;switch(l.type){case"Point":return Ts(u,a,e);case"MultiPoint":return r<0&&(r=u.length+r),Ts(u[r],a,e);case"LineString":return s<0&&(s=u.length+s),Ts(u[s],a,e);case"Polygon":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),Ts(u[i][s],a,e);case"MultiLineString":return r<0&&(r=u.length+r),s<0&&(s=u[r].length+s),Ts(u[r][s],a,e);case"MultiPolygon":return r<0&&(r=u.length+r),i<0&&(i=u[r].length+i),s<0&&(s=u[r][i].length-s),Ts(u[r][i][s],a,e)}throw new Error("geojson is invalid")}const Zle=Object.freeze(Object.defineProperty({__proto__:null,coordAll:Hle,coordEach:bl,coordReduce:Fle,featureEach:oh,featureReduce:qle,findPoint:Yle,findSegment:Vle,flattenEach:xu,flattenReduce:Wle,geomEach:a6,geomReduce:nN,lineEach:iN,lineReduce:Gle,propEach:tN,propReduce:Ule,segmentEach:rN,segmentReduce:$le},Symbol.toStringTag,{value:"Module"}));function _p(t){var e=[1/0,1/0,-1/0,-1/0];return bl(t,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}_p.default=_p;const Xle=Object.freeze(Object.defineProperty({__proto__:null,default:_p},Symbol.toStringTag,{value:"Module"}));function sa(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function lh(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function wv(t){return t.type==="Feature"?t.geometry:t}function jle(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}var o6={exports:{}},sN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tu,function(){function n(x,T,M,I,P){(function O(z,$,ee,G,J){for(;G>ee;){if(G-ee>600){var ie=G-ee+1,se=$-ee+1,te=Math.log(ie),ae=.5*Math.exp(2*te/3),V=.5*Math.sqrt(te*ae*(ie-ae)/ie)*(se-ie/2<0?-1:1),Y=Math.max(ee,Math.floor($-se*ae/ie+V)),he=Math.min(G,Math.floor($+(ie-se)*ae/ie+V));O(z,$,Y,he,J)}var re=z[$],ye=ee,me=G;for(r(z,ee,$),J(z[G],re)>0&&r(z,ee,G);ye<me;){for(r(z,ye,me),ye++,me--;J(z[ye],re)<0;)ye++;for(;J(z[me],re)>0;)me--}J(z[ee],re)===0?r(z,ee,me):r(z,++me,G),me<=$&&(ee=me+1),$<=me&&(G=me-1)}})(x,T,M||0,I||x.length-1,P||i)}function r(x,T,M){var I=x[T];x[T]=x[M],x[M]=I}function i(x,T){return x<T?-1:x>T?1:0}var s=function(x){x===void 0&&(x=9),this._maxEntries=Math.max(4,x),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(x,T,M){if(!M)return T.indexOf(x);for(var I=0;I<T.length;I++)if(M(x,T[I]))return I;return-1}function l(x,T){u(x,0,x.children.length,T,x)}function u(x,T,M,I,P){P||(P=R(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var O=T;O<M;O++){var z=x.children[O];f(P,x.leaf?I(z):z)}return P}function f(x,T){return x.minX=Math.min(x.minX,T.minX),x.minY=Math.min(x.minY,T.minY),x.maxX=Math.max(x.maxX,T.maxX),x.maxY=Math.max(x.maxY,T.maxY),x}function p(x,T){return x.minX-T.minX}function m(x,T){return x.minY-T.minY}function g(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function v(x){return x.maxX-x.minX+(x.maxY-x.minY)}function b(x,T){return x.minX<=T.minX&&x.minY<=T.minY&&T.maxX<=x.maxX&&T.maxY<=x.maxY}function k(x,T){return T.minX<=x.maxX&&T.minY<=x.maxY&&T.maxX>=x.minX&&T.maxY>=x.minY}function R(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function N(x,T,M,I,P){for(var O=[T,M];O.length;)if(!((M=O.pop())-(T=O.pop())<=I)){var z=T+Math.ceil((M-T)/I/2)*I;n(x,z,T,M,P),O.push(T,z,z,M)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(x){var T=this.data,M=[];if(!k(x,T))return M;for(var I=this.toBBox,P=[];T;){for(var O=0;O<T.children.length;O++){var z=T.children[O],$=T.leaf?I(z):z;k(x,$)&&(T.leaf?M.push(z):b(x,$)?this._all(z,M):P.push(z))}T=P.pop()}return M},s.prototype.collides=function(x){var T=this.data;if(!k(x,T))return!1;for(var M=[];T;){for(var I=0;I<T.children.length;I++){var P=T.children[I],O=T.leaf?this.toBBox(P):P;if(k(x,O)){if(T.leaf||b(x,O))return!0;M.push(P)}}T=M.pop()}return!1},s.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var T=0;T<x.length;T++)this.insert(x[T]);return this}var M=this._build(x.slice(),0,x.length-1,0);if(this.data.children.length)if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var I=this.data;this.data=M,M=I}this._insert(M,this.data.height-M.height-1,!0)}else this.data=M;return this},s.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},s.prototype.clear=function(){return this.data=R([]),this},s.prototype.remove=function(x,T){if(!x)return this;for(var M,I,P,O=this.data,z=this.toBBox(x),$=[],ee=[];O||$.length;){if(O||(O=$.pop(),I=$[$.length-1],M=ee.pop(),P=!0),O.leaf){var G=a(x,O.children,T);if(G!==-1)return O.children.splice(G,1),$.push(O),this._condense($),this}P||O.leaf||!b(O,z)?I?(M++,O=I.children[M],P=!1):O=null:($.push(O),ee.push(M),M=0,I=O,O=O.children[0])}return this},s.prototype.toBBox=function(x){return x},s.prototype.compareMinX=function(x,T){return x.minX-T.minX},s.prototype.compareMinY=function(x,T){return x.minY-T.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(x){return this.data=x,this},s.prototype._all=function(x,T){for(var M=[];x;)x.leaf?T.push.apply(T,x.children):M.push.apply(M,x.children),x=M.pop();return T},s.prototype._build=function(x,T,M,I){var P,O=M-T+1,z=this._maxEntries;if(O<=z)return l(P=R(x.slice(T,M+1)),this.toBBox),P;I||(I=Math.ceil(Math.log(O)/Math.log(z)),z=Math.ceil(O/Math.pow(z,I-1))),(P=R([])).leaf=!1,P.height=I;var $=Math.ceil(O/z),ee=$*Math.ceil(Math.sqrt(z));N(x,T,M,ee,this.compareMinX);for(var G=T;G<=M;G+=ee){var J=Math.min(G+ee-1,M);N(x,G,J,$,this.compareMinY);for(var ie=G;ie<=J;ie+=$){var se=Math.min(ie+$-1,J);P.children.push(this._build(x,ie,se,I-1))}}return l(P,this.toBBox),P},s.prototype._chooseSubtree=function(x,T,M,I){for(;I.push(T),!T.leaf&&I.length-1!==M;){for(var P=1/0,O=1/0,z=void 0,$=0;$<T.children.length;$++){var ee=T.children[$],G=g(ee),J=(ie=x,se=ee,(Math.max(se.maxX,ie.maxX)-Math.min(se.minX,ie.minX))*(Math.max(se.maxY,ie.maxY)-Math.min(se.minY,ie.minY))-G);J<O?(O=J,P=G<P?G:P,z=ee):J===O&&G<P&&(P=G,z=ee)}T=z||T.children[0]}var ie,se;return T},s.prototype._insert=function(x,T,M){var I=M?x:this.toBBox(x),P=[],O=this._chooseSubtree(I,this.data,T,P);for(O.children.push(x),f(O,I);T>=0&&P[T].children.length>this._maxEntries;)this._split(P,T),T--;this._adjustParentBBoxes(I,P,T)},s.prototype._split=function(x,T){var M=x[T],I=M.children.length,P=this._minEntries;this._chooseSplitAxis(M,P,I);var O=this._chooseSplitIndex(M,P,I),z=R(M.children.splice(O,M.children.length-O));z.height=M.height,z.leaf=M.leaf,l(M,this.toBBox),l(z,this.toBBox),T?x[T-1].children.push(z):this._splitRoot(M,z)},s.prototype._splitRoot=function(x,T){this.data=R([x,T]),this.data.height=x.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(x,T,M){for(var I,P,O,z,$,ee,G,J=1/0,ie=1/0,se=T;se<=M-T;se++){var te=u(x,0,se,this.toBBox),ae=u(x,se,M,this.toBBox),V=(P=te,O=ae,z=void 0,$=void 0,ee=void 0,G=void 0,z=Math.max(P.minX,O.minX),$=Math.max(P.minY,O.minY),ee=Math.min(P.maxX,O.maxX),G=Math.min(P.maxY,O.maxY),Math.max(0,ee-z)*Math.max(0,G-$)),Y=g(te)+g(ae);V<J?(J=V,I=se,ie=Y<ie?Y:ie):V===J&&Y<ie&&(ie=Y,I=se)}return I||M-T},s.prototype._chooseSplitAxis=function(x,T,M){var I=x.leaf?this.compareMinX:p,P=x.leaf?this.compareMinY:m;this._allDistMargin(x,T,M,I)<this._allDistMargin(x,T,M,P)&&x.children.sort(I)},s.prototype._allDistMargin=function(x,T,M,I){x.children.sort(I);for(var P=this.toBBox,O=u(x,0,T,P),z=u(x,M-T,M,P),$=v(O)+v(z),ee=T;ee<M-T;ee++){var G=x.children[ee];f(O,x.leaf?P(G):G),$+=v(O)}for(var J=M-T-1;J>=T;J--){var ie=x.children[J];f(z,x.leaf?P(ie):ie),$+=v(z)}return $},s.prototype._adjustParentBBoxes=function(x,T,M){for(var I=M;I>=0;I--)f(T[I],x)},s.prototype._condense=function(x){for(var T=x.length-1,M=void 0;T>=0;T--)x[T].children.length===0?T>0?(M=x[T-1].children).splice(M.indexOf(x[T]),1):this.clear():l(x[T],this.toBBox)},s})})(sN);var Kle=sN.exports;class Jle{constructor(e=[],n=Qle){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const s=e-1>>1,a=n[s];if(r(i,a)>=0)break;n[e]=a,e=s}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,s=n[e];for(;e<i;){let a=(e<<1)+1,l=n[a];const u=a+1;if(u<this.length&&r(n[u],l)<0&&(a=u,l=n[u]),r(l,s)>=0)break;n[e]=l,e=a}n[e]=s}}function Qle(t,e){return t<e?-1:t>e?1:0}const eue=Object.freeze(Object.defineProperty({__proto__:null,default:Jle},Symbol.toStringTag,{value:"Module"})),tue=nv(eue);var xv={exports:{}},nue=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var u=(i-r)/2,f=0,p=u-1;f<u;p=f++){var m=n[r+f*2+0],g=n[r+f*2+1],v=n[r+p*2+0],b=n[r+p*2+1],k=g>a!=b>a&&s<(v-m)*(a-g)/(b-g)+m;k&&(l=!l)}return l},rue=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var u=i-r,f=0,p=u-1;f<u;p=f++){var m=n[f+r][0],g=n[f+r][1],v=n[p+r][0],b=n[p+r][1],k=g>a!=b>a&&s<(v-m)*(a-g)/(b-g)+m;k&&(l=!l)}return l},aN=nue,oN=rue;xv.exports=function(e,n,r,i){return n.length>0&&Array.isArray(n[0])?oN(e,n,r,i):aN(e,n,r,i)};xv.exports.nested=oN;xv.exports.flat=aN;var iue=xv.exports,E3={exports:{}};(function(t,e){(function(n,r){r(e)})(tu,function(n){const i=33306690738754706e-32;function s(k,R,N,x,T){let M,I,P,O,z=R[0],$=x[0],ee=0,G=0;$>z==$>-z?(M=z,z=R[++ee]):(M=$,$=x[++G]);let J=0;if(ee<k&&G<N)for($>z==$>-z?(P=M-((I=z+M)-z),z=R[++ee]):(P=M-((I=$+M)-$),$=x[++G]),M=I,P!==0&&(T[J++]=P);ee<k&&G<N;)$>z==$>-z?(P=M-((I=M+z)-(O=I-M))+(z-O),z=R[++ee]):(P=M-((I=M+$)-(O=I-M))+($-O),$=x[++G]),M=I,P!==0&&(T[J++]=P);for(;ee<k;)P=M-((I=M+z)-(O=I-M))+(z-O),z=R[++ee],M=I,P!==0&&(T[J++]=P);for(;G<N;)P=M-((I=M+$)-(O=I-M))+($-O),$=x[++G],M=I,P!==0&&(T[J++]=P);return M===0&&J!==0||(T[J++]=M),J}function a(k){return new Float64Array(k)}const l=33306690738754716e-32,u=22204460492503146e-32,f=11093356479670487e-47,p=a(4),m=a(8),g=a(12),v=a(16),b=a(4);n.orient2d=function(k,R,N,x,T,M){const I=(R-M)*(N-T),P=(k-T)*(x-M),O=I-P;if(I===0||P===0||I>0!=P>0)return O;const z=Math.abs(I+P);return Math.abs(O)>=l*z?O:-function($,ee,G,J,ie,se,te){let ae,V,Y,he,re,ye,me,Ne,xe,Ce,Me,Le,Fe,pe,Ie,Ae,ve,Ue;const Ge=$-ie,nt=G-ie,Re=ee-se,ht=J-se;re=(Ie=(Ne=Ge-(me=(ye=134217729*Ge)-(ye-Ge)))*(Ce=ht-(xe=(ye=134217729*ht)-(ye-ht)))-((pe=Ge*ht)-me*xe-Ne*xe-me*Ce))-(Me=Ie-(ve=(Ne=Re-(me=(ye=134217729*Re)-(ye-Re)))*(Ce=nt-(xe=(ye=134217729*nt)-(ye-nt)))-((Ae=Re*nt)-me*xe-Ne*xe-me*Ce))),p[0]=Ie-(Me+re)+(re-ve),re=(Fe=pe-((Le=pe+Me)-(re=Le-pe))+(Me-re))-(Me=Fe-Ae),p[1]=Fe-(Me+re)+(re-Ae),re=(Ue=Le+Me)-Le,p[2]=Le-(Ue-re)+(Me-re),p[3]=Ue;let vt=function(Qt,cr){let _r=cr[0];for(let vn=1;vn<Qt;vn++)_r+=cr[vn];return _r}(4,p),Ft=u*te;if(vt>=Ft||-vt>=Ft||(ae=$-(Ge+(re=$-Ge))+(re-ie),Y=G-(nt+(re=G-nt))+(re-ie),V=ee-(Re+(re=ee-Re))+(re-se),he=J-(ht+(re=J-ht))+(re-se),ae===0&&V===0&&Y===0&&he===0)||(Ft=f*te+i*Math.abs(vt),(vt+=Ge*he+ht*ae-(Re*Y+nt*V))>=Ft||-vt>=Ft))return vt;re=(Ie=(Ne=ae-(me=(ye=134217729*ae)-(ye-ae)))*(Ce=ht-(xe=(ye=134217729*ht)-(ye-ht)))-((pe=ae*ht)-me*xe-Ne*xe-me*Ce))-(Me=Ie-(ve=(Ne=V-(me=(ye=134217729*V)-(ye-V)))*(Ce=nt-(xe=(ye=134217729*nt)-(ye-nt)))-((Ae=V*nt)-me*xe-Ne*xe-me*Ce))),b[0]=Ie-(Me+re)+(re-ve),re=(Fe=pe-((Le=pe+Me)-(re=Le-pe))+(Me-re))-(Me=Fe-Ae),b[1]=Fe-(Me+re)+(re-Ae),re=(Ue=Le+Me)-Le,b[2]=Le-(Ue-re)+(Me-re),b[3]=Ue;const yt=s(4,p,4,b,m);re=(Ie=(Ne=Ge-(me=(ye=134217729*Ge)-(ye-Ge)))*(Ce=he-(xe=(ye=134217729*he)-(ye-he)))-((pe=Ge*he)-me*xe-Ne*xe-me*Ce))-(Me=Ie-(ve=(Ne=Re-(me=(ye=134217729*Re)-(ye-Re)))*(Ce=Y-(xe=(ye=134217729*Y)-(ye-Y)))-((Ae=Re*Y)-me*xe-Ne*xe-me*Ce))),b[0]=Ie-(Me+re)+(re-ve),re=(Fe=pe-((Le=pe+Me)-(re=Le-pe))+(Me-re))-(Me=Fe-Ae),b[1]=Fe-(Me+re)+(re-Ae),re=(Ue=Le+Me)-Le,b[2]=Le-(Ue-re)+(Me-re),b[3]=Ue;const Lt=s(yt,m,4,b,g);re=(Ie=(Ne=ae-(me=(ye=134217729*ae)-(ye-ae)))*(Ce=he-(xe=(ye=134217729*he)-(ye-he)))-((pe=ae*he)-me*xe-Ne*xe-me*Ce))-(Me=Ie-(ve=(Ne=V-(me=(ye=134217729*V)-(ye-V)))*(Ce=Y-(xe=(ye=134217729*Y)-(ye-Y)))-((Ae=V*Y)-me*xe-Ne*xe-me*Ce))),b[0]=Ie-(Me+re)+(re-ve),re=(Fe=pe-((Le=pe+Me)-(re=Le-pe))+(Me-re))-(Me=Fe-Ae),b[1]=Fe-(Me+re)+(re-Ae),re=(Ue=Le+Me)-Le,b[2]=Le-(Ue-re)+(Me-re),b[3]=Ue;const Hn=s(Lt,g,4,b,v);return v[Hn-1]}(k,R,N,x,T,M,z)},n.orient2dfast=function(k,R,N,x,T,M){return(R-M)*(N-T)-(k-T)*(x-M)},Object.defineProperty(n,"__esModule",{value:!0})})})(E3,E3.exports);var sue=E3.exports,jx=Kle,B1=tue,aue=iue,oue=sue.orient2d;B1.default&&(B1=B1.default);o6.exports=lN;o6.exports.default=lN;function lN(t,e,n){e=Math.max(0,e===void 0?2:e),n=n||0;var r=hue(t),i=new jx(16);i.toBBox=function(x){return{minX:x[0],minY:x[1],maxX:x[0],maxY:x[1]}},i.compareMinX=function(x,T){return x[0]-T[0]},i.compareMinY=function(x,T){return x[1]-T[1]},i.load(t);for(var s=[],a=0,l;a<r.length;a++){var u=r[a];i.remove(u),l=Qx(u,l),s.push(l)}var f=new jx(16);for(a=0;a<s.length;a++)f.insert(P4(s[a]));for(var p=e*e,m=n*n;s.length;){var g=s.shift(),v=g.p,b=g.next.p,k=N4(v,b);if(!(k<m)){var R=k/p;u=lue(i,g.prev.p,v,b,g.next.next.p,R,f),u&&Math.min(N4(u,v),N4(u,b))<=R&&(s.push(g),s.push(Qx(u,g)),i.remove(u),f.remove(g),f.insert(P4(g)),f.insert(P4(g.next)))}}g=l;var N=[];do N.push(g.p),g=g.next;while(g!==l);return N.push(g.p),N}function lue(t,e,n,r,i,s,a){for(var l=new B1([],uue),u=t.data;u;){for(var f=0;f<u.children.length;f++){var p=u.children[f],m=u.leaf?L4(p,n,r):cue(n,r,p);m>s||l.push({node:p,dist:m})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),v=g.node,b=L4(v,e,n),k=L4(v,r,i);if(g.dist<b&&g.dist<k&&Jx(n,v,a)&&Jx(r,v,a))return v}u=l.pop(),u&&(u=u.node)}return null}function uue(t,e){return t.dist-e.dist}function cue(t,e,n){if(Kx(t,n)||Kx(e,n))return 0;var r=s1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(r===0)return 0;var i=s1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(i===0)return 0;var s=s1(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(s===0)return 0;var a=s1(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return a===0?0:Math.min(r,i,s,a)}function Kx(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function Jx(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),s=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),l=n.search({minX:r,minY:i,maxX:s,maxY:a}),u=0;u<l.length;u++)if(fue(l[u].p,l[u].next.p,t,e))return!1;return!0}function Sf(t,e,n){return oue(t[0],t[1],e[0],e[1],n[0],n[1])}function fue(t,e,n,r){return t!==r&&e!==n&&Sf(t,e,n)>0!=Sf(t,e,r)>0&&Sf(n,r,t)>0!=Sf(n,r,e)>0}function P4(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function hue(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var l=[e,n,r,i],u=l.slice();for(s=0;s<t.length;s++)aue(t[s],l)||u.push(t[s]);return pue(u)}function Qx(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function N4(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function L4(t,e,n){var r=e[0],i=e[1],s=n[0]-r,a=n[1]-i;if(s!==0||a!==0){var l=((t[0]-r)*s+(t[1]-i)*a)/(s*s+a*a);l>1?(r=n[0],i=n[1]):l>0&&(r+=s*l,i+=a*l)}return s=t[0]-r,a=t[1]-i,s*s+a*a}function s1(t,e,n,r,i,s,a,l){var u=n-t,f=r-e,p=a-i,m=l-s,g=t-i,v=e-s,b=u*u+f*f,k=u*p+f*m,R=p*p+m*m,N=u*g+f*v,x=p*g+m*v,T=b*R-k*k,M,I,P,O,z=T,$=T;T===0?(I=0,z=1,O=x,$=R):(I=k*x-R*N,O=b*x-k*N,I<0?(I=0,O=x,$=R):I>z&&(I=z,O=x+k,$=R)),O<0?(O=0,-N<0?I=0:-N>b?I=z:(I=-N,z=b)):O>$&&(O=$,-N+k<0?I=0:-N+k>b?I=z:(I=-N+k,z=b)),M=I===0?0:I/z,P=O===0?0:O/$;var ee=(1-M)*t+M*n,G=(1-M)*e+M*r,J=(1-P)*i+P*a,ie=(1-P)*s+P*l,se=J-ee,te=ie-G;return se*se+te*te}function due(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function pue(t){t.sort(due);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Sf(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&Sf(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}var mue=o6.exports;const gue=t5(mue);function uN(t,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(bl(t,function(i){n.push([i[0],i[1]])}),!n.length)return null;var r=gue(n,e.concavity);return r.length>3?$0([r]):null}function vp(t,e,n){if(n===void 0&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=sa(t),i=wv(e),s=i.type,a=e.bbox,l=i.coordinates;if(a&&_ue(r,a)===!1)return!1;s==="Polygon"&&(l=[l]);for(var u=!1,f=0;f<l.length&&!u;f++)if(eS(r,l[f][0],n.ignoreBoundary)){for(var p=!1,m=1;m<l[f].length&&!p;)eS(r,l[f][m],!n.ignoreBoundary)&&(p=!0),m++;p||(u=!0)}return u}function eS(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,s=e.length-1;i<e.length;s=i++){var a=e[i][0],l=e[i][1],u=e[s][0],f=e[s][1],p=t[1]*(a-u)+l*(u-t[0])+f*(t[0]-a)===0&&(a-t[0])*(u-t[0])<=0&&(l-t[1])*(f-t[1])<=0;if(p)return!n;var m=l>t[1]!=f>t[1]&&t[0]<(u-a)*(t[1]-l)/(f-l)+a;m&&(r=!r)}return r}function _ue(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function M3(t,e,n){n===void 0&&(n={});var r=sa(t),i=sa(e),s=So(i[1]-r[1]),a=So(i[0]-r[0]),l=So(r[1]),u=So(i[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(u);return n6(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}function cN(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return fN(t);case"FeatureCollection":return vue(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return l6(t);default:throw new Error("unknown GeoJSON type")}}function fN(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=hN(t.properties),e.geometry=l6(t.geometry),e}function hN(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];typeof r=="object"?r===null?e[n]=null:Array.isArray(r)?e[n]=r.map(function(i){return i}):e[n]=hN(r):e[n]=r}),e}function vue(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(n){return fN(n)}),e}function l6(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(function(n){return l6(n)}),e):(e.coordinates=dN(t.coordinates),e)}function dN(t){var e=t;return typeof e[0]!="object"?e.slice():e.map(function(n){return dN(n)})}function C3(t,e){e===void 0&&(e={});var n=0,r=0,i=0;return bl(t,function(s){n+=s[0],r+=s[1],i++},!0),Ts([n/i,r/i],e.properties)}function z1(t,e){switch(e===void 0&&(e={}),jle(t)){case"Point":return Ts(sa(t),e.properties);case"Polygon":var n=[];bl(t,function(M){n.push(M)});var r=C3(t,{properties:e.properties}),i=r.geometry.coordinates,s=0,a=0,l=0,u,f,p,m,g,v,b,k,R=n.map(function(M){return[M[0]-i[0],M[1]-i[1]]});for(u=0;u<n.length-1;u++)f=R[u],m=f[0],v=f[1],p=R[u+1],g=p[0],b=p[1],k=m*b-g*v,l+=k,s+=(m+g)*k,a+=(v+b)*k;if(l===0)return r;var N=l*.5,x=1/(6*N);return Ts([i[0]+x*s,i[1]+x*a],e.properties);default:var T=uN(t);return T?z1(T,{properties:e.properties}):C3(t,{properties:e.properties})}}function yue(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return oh(t,function(n){var r,i,s,a;switch((a=n.geometry)===null||a===void 0?void 0:a.type){case"Point":e.MultiPoint.coordinates.push(n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"MultiPoint":(r=e.MultiPoint.coordinates).push.apply(r,n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"LineString":e.MultiLineString.coordinates.push(n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"MultiLineString":(i=e.MultiLineString.coordinates).push.apply(i,n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":(s=e.MultiPolygon.coordinates).push.apply(s,n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break}}),Yi(Object.keys(e).filter(function(n){return e[n].coordinates.length}).sort().map(function(n){var r={type:n,coordinates:e[n].coordinates},i={collectedProperties:e[n].properties};return Ta(r,i)}))}function bue(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,i=0;return oh(e,function(s,a){var l=M3(t,s);l<r&&(i=a,r=l)}),n=cN(e.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function tS(t){if(!t)throw new Error("geojson is required");var e=[];return xu(t,function(n){wue(n,e)}),Yi(e)}function wue(t,e){var n=[],r=t.geometry;if(r!==null){switch(r.type){case"Polygon":n=lh(r);break;case"LineString":n=[lh(r)]}n.forEach(function(i){var s=xue(i,t.properties);s.forEach(function(a){a.id=e.length,e.push(a)})})}}function xue(t,e){var n=[];return t.reduce(function(r,i){var s=xo([r,i],e);return s.bbox=Sue(r,i),n.push(s),i}),n}function Sue(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=n<i?n:i,l=r<s?r:s,u=n>i?n:i,f=r>s?r:s;return[a,l,u,f]}var u6={exports:{}},pN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tu,function(){function n(x,T,M,I,P){(function O(z,$,ee,G,J){for(;G>ee;){if(G-ee>600){var ie=G-ee+1,se=$-ee+1,te=Math.log(ie),ae=.5*Math.exp(2*te/3),V=.5*Math.sqrt(te*ae*(ie-ae)/ie)*(se-ie/2<0?-1:1),Y=Math.max(ee,Math.floor($-se*ae/ie+V)),he=Math.min(G,Math.floor($+(ie-se)*ae/ie+V));O(z,$,Y,he,J)}var re=z[$],ye=ee,me=G;for(r(z,ee,$),J(z[G],re)>0&&r(z,ee,G);ye<me;){for(r(z,ye,me),ye++,me--;J(z[ye],re)<0;)ye++;for(;J(z[me],re)>0;)me--}J(z[ee],re)===0?r(z,ee,me):r(z,++me,G),me<=$&&(ee=me+1),$<=me&&(G=me-1)}})(x,T,M||0,I||x.length-1,P||i)}function r(x,T,M){var I=x[T];x[T]=x[M],x[M]=I}function i(x,T){return x<T?-1:x>T?1:0}var s=function(x){x===void 0&&(x=9),this._maxEntries=Math.max(4,x),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(x,T,M){if(!M)return T.indexOf(x);for(var I=0;I<T.length;I++)if(M(x,T[I]))return I;return-1}function l(x,T){u(x,0,x.children.length,T,x)}function u(x,T,M,I,P){P||(P=R(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var O=T;O<M;O++){var z=x.children[O];f(P,x.leaf?I(z):z)}return P}function f(x,T){return x.minX=Math.min(x.minX,T.minX),x.minY=Math.min(x.minY,T.minY),x.maxX=Math.max(x.maxX,T.maxX),x.maxY=Math.max(x.maxY,T.maxY),x}function p(x,T){return x.minX-T.minX}function m(x,T){return x.minY-T.minY}function g(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function v(x){return x.maxX-x.minX+(x.maxY-x.minY)}function b(x,T){return x.minX<=T.minX&&x.minY<=T.minY&&T.maxX<=x.maxX&&T.maxY<=x.maxY}function k(x,T){return T.minX<=x.maxX&&T.minY<=x.maxY&&T.maxX>=x.minX&&T.maxY>=x.minY}function R(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function N(x,T,M,I,P){for(var O=[T,M];O.length;)if(!((M=O.pop())-(T=O.pop())<=I)){var z=T+Math.ceil((M-T)/I/2)*I;n(x,z,T,M,P),O.push(T,z,z,M)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(x){var T=this.data,M=[];if(!k(x,T))return M;for(var I=this.toBBox,P=[];T;){for(var O=0;O<T.children.length;O++){var z=T.children[O],$=T.leaf?I(z):z;k(x,$)&&(T.leaf?M.push(z):b(x,$)?this._all(z,M):P.push(z))}T=P.pop()}return M},s.prototype.collides=function(x){var T=this.data;if(!k(x,T))return!1;for(var M=[];T;){for(var I=0;I<T.children.length;I++){var P=T.children[I],O=T.leaf?this.toBBox(P):P;if(k(x,O)){if(T.leaf||b(x,O))return!0;M.push(P)}}T=M.pop()}return!1},s.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var T=0;T<x.length;T++)this.insert(x[T]);return this}var M=this._build(x.slice(),0,x.length-1,0);if(this.data.children.length)if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var I=this.data;this.data=M,M=I}this._insert(M,this.data.height-M.height-1,!0)}else this.data=M;return this},s.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},s.prototype.clear=function(){return this.data=R([]),this},s.prototype.remove=function(x,T){if(!x)return this;for(var M,I,P,O=this.data,z=this.toBBox(x),$=[],ee=[];O||$.length;){if(O||(O=$.pop(),I=$[$.length-1],M=ee.pop(),P=!0),O.leaf){var G=a(x,O.children,T);if(G!==-1)return O.children.splice(G,1),$.push(O),this._condense($),this}P||O.leaf||!b(O,z)?I?(M++,O=I.children[M],P=!1):O=null:($.push(O),ee.push(M),M=0,I=O,O=O.children[0])}return this},s.prototype.toBBox=function(x){return x},s.prototype.compareMinX=function(x,T){return x.minX-T.minX},s.prototype.compareMinY=function(x,T){return x.minY-T.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(x){return this.data=x,this},s.prototype._all=function(x,T){for(var M=[];x;)x.leaf?T.push.apply(T,x.children):M.push.apply(M,x.children),x=M.pop();return T},s.prototype._build=function(x,T,M,I){var P,O=M-T+1,z=this._maxEntries;if(O<=z)return l(P=R(x.slice(T,M+1)),this.toBBox),P;I||(I=Math.ceil(Math.log(O)/Math.log(z)),z=Math.ceil(O/Math.pow(z,I-1))),(P=R([])).leaf=!1,P.height=I;var $=Math.ceil(O/z),ee=$*Math.ceil(Math.sqrt(z));N(x,T,M,ee,this.compareMinX);for(var G=T;G<=M;G+=ee){var J=Math.min(G+ee-1,M);N(x,G,J,$,this.compareMinY);for(var ie=G;ie<=J;ie+=$){var se=Math.min(ie+$-1,J);P.children.push(this._build(x,ie,se,I-1))}}return l(P,this.toBBox),P},s.prototype._chooseSubtree=function(x,T,M,I){for(;I.push(T),!T.leaf&&I.length-1!==M;){for(var P=1/0,O=1/0,z=void 0,$=0;$<T.children.length;$++){var ee=T.children[$],G=g(ee),J=(ie=x,se=ee,(Math.max(se.maxX,ie.maxX)-Math.min(se.minX,ie.minX))*(Math.max(se.maxY,ie.maxY)-Math.min(se.minY,ie.minY))-G);J<O?(O=J,P=G<P?G:P,z=ee):J===O&&G<P&&(P=G,z=ee)}T=z||T.children[0]}var ie,se;return T},s.prototype._insert=function(x,T,M){var I=M?x:this.toBBox(x),P=[],O=this._chooseSubtree(I,this.data,T,P);for(O.children.push(x),f(O,I);T>=0&&P[T].children.length>this._maxEntries;)this._split(P,T),T--;this._adjustParentBBoxes(I,P,T)},s.prototype._split=function(x,T){var M=x[T],I=M.children.length,P=this._minEntries;this._chooseSplitAxis(M,P,I);var O=this._chooseSplitIndex(M,P,I),z=R(M.children.splice(O,M.children.length-O));z.height=M.height,z.leaf=M.leaf,l(M,this.toBBox),l(z,this.toBBox),T?x[T-1].children.push(z):this._splitRoot(M,z)},s.prototype._splitRoot=function(x,T){this.data=R([x,T]),this.data.height=x.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(x,T,M){for(var I,P,O,z,$,ee,G,J=1/0,ie=1/0,se=T;se<=M-T;se++){var te=u(x,0,se,this.toBBox),ae=u(x,se,M,this.toBBox),V=(P=te,O=ae,z=void 0,$=void 0,ee=void 0,G=void 0,z=Math.max(P.minX,O.minX),$=Math.max(P.minY,O.minY),ee=Math.min(P.maxX,O.maxX),G=Math.min(P.maxY,O.maxY),Math.max(0,ee-z)*Math.max(0,G-$)),Y=g(te)+g(ae);V<J?(J=V,I=se,ie=Y<ie?Y:ie):V===J&&Y<ie&&(ie=Y,I=se)}return I||M-T},s.prototype._chooseSplitAxis=function(x,T,M){var I=x.leaf?this.compareMinX:p,P=x.leaf?this.compareMinY:m;this._allDistMargin(x,T,M,I)<this._allDistMargin(x,T,M,P)&&x.children.sort(I)},s.prototype._allDistMargin=function(x,T,M,I){x.children.sort(I);for(var P=this.toBBox,O=u(x,0,T,P),z=u(x,M-T,M,P),$=v(O)+v(z),ee=T;ee<M-T;ee++){var G=x.children[ee];f(O,x.leaf?P(G):G),$+=v(O)}for(var J=M-T-1;J>=T;J--){var ie=x.children[J];f(z,x.leaf?P(ie):ie),$+=v(z)}return $},s.prototype._adjustParentBBoxes=function(x,T,M){for(var I=M;I>=0;I--)f(T[I],x)},s.prototype._condense=function(x){for(var T=x.length-1,M=void 0;T>=0;T--)x[T].children.length===0?T>0?(M=x[T-1].children).splice(M.indexOf(x[T]),1):this.clear():l(x[T],this.toBBox)},s})})(pN);var Tue=pN.exports;const kue=nv(zle),Eue=nv(Zle),Mue=nv(Xle);var jo=Tue,mN=kue,gN=Eue,mf=Mue.default,Cue=gN.featureEach;gN.coordEach;mN.polygon;var nS=mN.featureCollection;function _N(t){var e=new jo(t);return e.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:mf(n),jo.prototype.insert.call(this,n)},e.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:mf(i),r.push(i)}):Cue(n,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:mf(i),r.push(i)}),jo.prototype.load.call(this,r)},e.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:mf(n),jo.prototype.remove.call(this,n,r)},e.clear=function(){return jo.prototype.clear.call(this)},e.search=function(n){var r=jo.prototype.search.call(this,this.toBBox(n));return nS(r)},e.collides=function(n){return jo.prototype.collides.call(this,this.toBBox(n))},e.all=function(){var n=jo.prototype.all.call(this);return nS(n)},e.toJSON=function(){return jo.prototype.toJSON.call(this)},e.fromJSON=function(n){return jo.prototype.fromJSON.call(this,n)},e.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=mf(n);else if(n.type==="FeatureCollection")r=mf(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},e}u6.exports=_N;u6.exports.default=_N;var Aue=u6.exports;const Iue=t5(Aue);function c6(t,e){var n={},r=[];if(t.type==="LineString"&&(t=Ta(t)),e.type==="LineString"&&(e=Ta(e)),t.type==="Feature"&&e.type==="Feature"&&t.geometry!==null&&e.geometry!==null&&t.geometry.type==="LineString"&&e.geometry.type==="LineString"&&t.geometry.coordinates.length===2&&e.geometry.coordinates.length===2){var i=rS(t,e);return i&&r.push(i),Yi(r)}var s=Iue();return s.load(tS(e)),oh(tS(t),function(a){oh(s.search(a),function(l){var u=rS(a,l);if(u){var f=lh(u).join(",");n[f]||(n[f]=!0,r.push(u))}})}),Yi(r)}function rS(t,e){var n=lh(t),r=lh(e);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(r.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],s=n[0][1],a=n[1][0],l=n[1][1],u=r[0][0],f=r[0][1],p=r[1][0],m=r[1][1],g=(m-f)*(a-i)-(p-u)*(l-s),v=(p-u)*(s-f)-(m-f)*(i-u),b=(a-i)*(s-f)-(l-s)*(i-u);if(g===0)return null;var k=v/g,R=b/g;if(k>=0&&k<=1&&R>=0&&R<=1){var N=i+k*(a-i),x=s+k*(l-s);return Ts([N,x])}return null}function Rue(t,e,n){n===void 0&&(n={});var r=sa(t),i=sa(e);i[0]+=i[0]-r[0]>180?-360:r[0]-i[0]>180?360:0;var s=Pue(r,i),a=s6(s,"meters",n.units);return a}function Pue(t,e,n){n=n===void 0?ki:Number(n);var r=n,i=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-i,l=Math.abs(e[0]-t[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var u=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.abs(u)>1e-11?a/u:Math.cos(i),p=Math.sqrt(a*a+f*f*l*l),m=p*r;return m}var iS=6378137;function a1(t){return nN(t,function(e,n){return e+Nue(n)},0)}function Nue(t){var e=0,n;switch(t.type){case"Polygon":return sS(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=sS(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function sS(t){var e=0;if(t&&t.length>0){e+=Math.abs(aS(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(aS(t[n]))}return e}function aS(t){var e,n,r,i,s,a,l,u=0,f=t.length;if(f>2){for(l=0;l<f;l++)l===f-2?(i=f-2,s=f-1,a=0):l===f-1?(i=f-1,s=0,a=1):(i=l,s=l+1,a=l+2),e=t[i],n=t[s],r=t[a],u+=(O4(r[0])-O4(e[0]))*Math.sin(O4(n[1]));u=u*iS*iS/2}return u}function O4(t){return t*Math.PI/180}function A3(t,e){e===void 0&&(e={});var n=wv(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),n.type){case"Polygon":return Lue(n,e);case"MultiPolygon":return Oue(n,e);default:throw new Error("invalid poly")}}function Lue(t,e){e===void 0&&(e={});var n=wv(t),r=n.coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{};return vN(r,i)}function Oue(t,e){e===void 0&&(e={});var n=wv(t),r=n.coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{},s=[];return r.forEach(function(a){s.push(vN(a,i))}),Yi(s)}function vN(t,e){return t.length>1?t6(t,e):xo(t[0],e)}function Due(t,e,n){n===void 0&&(n={});var r;n.final?r=oS(sa(e),sa(t)):r=oS(sa(t),sa(e));var i=r>180?-(360-r):r;return i}function oS(t,e){var n=So(t[1]),r=So(e[1]),i=So(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(i,s);return(i6(a)+360)%360}function I3(t,e,n,r){r===void 0&&(r={});var i=e<0,s=s6(Math.abs(e),r.units,"meters");i&&(s=-Math.abs(s));var a=sa(t),l=Bue(a,s,n);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,Ts(l,r.properties)}function Bue(t,e,n,r){r=r===void 0?ki:Number(r);var i=e/r,s=t[0]*Math.PI/180,a=So(t[1]),l=So(n),u=i*Math.cos(l),f=a+u;Math.abs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f);var p=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),m=Math.abs(p)>1e-11?u/p:Math.cos(a),g=i*Math.sin(l)/m,v=s+g;return[(v*180/Math.PI+540)%360-180,f*180/Math.PI]}function zue(t,e,n){if(n=n||{},!em(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(e==null||isNaN(e))throw new Error("angle is required");return e===0||(r||(r=C3(t)),(i===!1||i===void 0)&&(t=cN(t)),bl(t,function(s){var a=Due(r,s),l=a+e,u=Rue(r,s),f=lh(I3(r,u,l));s[0]=f[0],s[1]=f[1]})),t}function Fue(t,e){var n=!0;return xu(t,function(r){xu(e,function(i){if(n===!1)return!1;n=Uue(r.geometry,i.geometry)})}),n}function Uue(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!$ue(t.coordinates,e.coordinates);case"LineString":return!lS(e,t);case"Polygon":return!vp(t,e)}break;case"LineString":switch(e.type){case"Point":return!lS(t,e);case"LineString":return!que(t,e);case"Polygon":return!uS(e,t)}break;case"Polygon":switch(e.type){case"Point":return!vp(e,t);case"LineString":return!uS(t,e);case"Polygon":return!Hue(e,t)}}return!1}function lS(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(Wue(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function que(t,e){var n=c6(t,e);return n.features.length>0}function uS(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){var i=r[n];if(vp(i,t))return!0}var s=c6(e,A3(t));return s.features.length>0}function Hue(t,e){for(var n=0,r=t.coordinates[0];n<r.length;n++){var i=r[n];if(vp(i,e))return!0}for(var s=0,a=e.coordinates[0];s<a.length;s++){var l=a[s];if(vp(l,t))return!0}var u=c6(A3(t),A3(e));return u.features.length>0}function Wue(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],l=r*a-i*s;return l!==0?!1:Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]}function $ue(t,e){return t[0]===e[0]&&t[1]===e[1]}function yN(t,e){var n=!1;return xu(t,function(r){xu(e,function(i){if(n===!0)return!0;n=!Fue(r.geometry,i.geometry)})}),n}function Gue(t,e,n,r){r=r||{};var i=r.steps||64,s=r.units||"kilometers",a=r.angle||0,l=r.pivot||t,u=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!em(r))throw new Error("options must be an object");if(!ah(i))throw new Error("steps must be a number");if(!ah(a))throw new Error("angle must be a number");var f=sa(t);if(s==="degrees")var p=So(a);else e=I3(t,e,90,{units:s}),n=I3(t,n,0,{units:s}),e=sa(e)[0]-f[0],n=sa(n)[1]-f[1];for(var m=[],g=0;g<i;g+=1){var v=g*-360/i,b=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(cS(v),2)),k=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(cS(v),2));if(v<-90&&v>=-270&&(b=-b),v<-180&&v>=-360&&(k=-k),s==="degrees"){var R=b*Math.cos(p)+k*Math.sin(p),N=k*Math.cos(p)-b*Math.sin(p);b=R,k=N}m.push([b+f[0],k+f[1]])}return m.push(m[0]),s==="degrees"?$0([m],u):zue($0([m],u),a,{pivot:l})}function cS(t){var e=t*Math.PI/180;return Math.tan(e)}function Vue(t,e,n,r){r===void 0&&(r={});for(var i=[],s=t[0],a=t[1],l=t[2],u=t[3],f=e/M3([s,a],[l,a],r),p=f*(l-s),m=n/M3([s,a],[s,u],r),g=m*(u-a),v=l-s,b=u-a,k=Math.floor(v/p),R=Math.floor(b/g),N=(v-k*p)/2,x=(b-R*g)/2,T=s+N,M=0;M<k;M++){for(var I=a+x,P=0;P<R;P++){var O=$0([[[T,I],[T,I+g],[T+p,I+g],[T+p,I],[T,I]]],r.properties);r.mask?yN(r.mask,O)&&i.push(O):i.push(O),I+=g}T+=p}return Yi(i)}function Yue(t,e,n){return n===void 0&&(n={}),Vue(t,e,e,n)}var e_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e_.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,g=2,v=4,b=1,k=2,R=1,N=2,x=4,T=8,M=16,I=32,P=64,O=128,z=256,$=512,ee=30,G="...",J=800,ie=16,se=1,te=2,ae=3,V=1/0,Y=9007199254740991,he=17976931348623157e292,re=0/0,ye=4294967295,me=ye-1,Ne=ye>>>1,xe=[["ary",O],["bind",R],["bindKey",N],["curry",T],["curryRight",M],["flip",$],["partial",I],["partialRight",P],["rearg",z]],Ce="[object Arguments]",Me="[object Array]",Le="[object AsyncFunction]",Fe="[object Boolean]",pe="[object Date]",Ie="[object DOMException]",Ae="[object Error]",ve="[object Function]",Ue="[object GeneratorFunction]",Ge="[object Map]",nt="[object Number]",Re="[object Null]",ht="[object Object]",vt="[object Promise]",Ft="[object Proxy]",yt="[object RegExp]",Lt="[object Set]",Hn="[object String]",Qt="[object Symbol]",cr="[object Undefined]",_r="[object WeakMap]",vn="[object WeakSet]",Yn="[object ArrayBuffer]",_n="[object DataView]",vr="[object Float32Array]",Zn="[object Float64Array]",qr="[object Int8Array]",Sn="[object Int16Array]",lr="[object Int32Array]",yn="[object Uint8Array]",ot="[object Uint8ClampedArray]",en="[object Uint16Array]",Cn="[object Uint32Array]",Cr=/\b__p \+= '';/g,ti=/\b(__p \+=) '' \+/g,Xr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yr=/&(?:amp|lt|gt|quot|#39);/g,Ar=/[&<>"']/g,Qn=RegExp(yr.source),Ir=RegExp(Ar.source),Ds=/<%-([\s\S]+?)%>/g,Hr=/<%([\s\S]+?)%>/g,Oi=/<%=([\s\S]+?)%>/g,ji=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gi=/^\w*$/,Nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ni=/[\\^$.*+?()[\]{}|]/g,Rr=RegExp(ni.source),_i=/^\s+/,Pr=/\s/,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Di=/\{\n\/\* \[wrapped with (.+)\] \*/,Wr=/,? & /,Ln=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,us=/[()=,{}\[\]\/\s]/,Bs=/\\(\\)?/g,Nr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Un=/\w*$/,Ki=/^[-+]0x[0-9a-f]+$/i,fr=/^0b[01]+$/i,ri=/^\[object .+?Constructor\]$/,hr=/^0o[0-7]+$/i,Bi=/^(?:0|[1-9]\d*)$/,er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vi=/($^)/,Xn=/['\n\r\u2028\u2029\\]/g,Qe="\\ud800-\\udfff",ct="\\u0300-\\u036f",bn="\\ufe20-\\ufe2f",lt="\\u20d0-\\u20ff",$r=ct+bn+lt,ca="\\u2700-\\u27bf",zs="a-z\\xdf-\\xf6\\xf8-\\xff",Tl="\\xac\\xb1\\xd7\\xf7",eo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fs="\\u2000-\\u206f",tn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",Ji="\\ufe0e\\ufe0f",Us=Tl+eo+Fs+tn,zi="['’]",to="["+Qe+"]",Ct="["+Us+"]",An="["+$r+"]",no="\\d+",ro="["+ca+"]",dr="["+zs+"]",kl="[^"+Qe+Us+no+ca+zs+dn+"]",cs="\\ud83c[\\udffb-\\udfff]",fs="(?:"+An+"|"+cs+")",Wn="[^"+Qe+"]",Qi="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",st="["+dn+"]",$e="\\u200d",He="(?:"+dr+"|"+kl+")",Ut="(?:"+st+"|"+kl+")",at="(?:"+zi+"(?:d|ll|m|re|s|t|ve))?",Ye="(?:"+zi+"(?:D|LL|M|RE|S|T|VE))?",Rt=fs+"?",gt="["+Ji+"]?",dt="(?:"+$e+"(?:"+[Wn,Qi,le].join("|")+")"+gt+Rt+")*",sn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ln="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jr=gt+Rt+dt,wt="(?:"+[ro,Qi,le].join("|")+")"+jr,es="(?:"+[Wn+An+"?",An,Qi,le,to].join("|")+")",In=RegExp(zi,"g"),Fi=RegExp(An,"g"),Ea=RegExp(cs+"(?="+cs+")|"+es+jr,"g"),Po=RegExp([st+"?"+dr+"+"+at+"(?="+[Ct,st,"$"].join("|")+")",Ut+"+"+Ye+"(?="+[Ct,st+He,"$"].join("|")+")",st+"?"+He+"+"+at,st+"+"+Ye,ln,sn,no,wt].join("|"),"g"),Lu=RegExp("["+$e+Qe+$r+Ji+"]"),Lr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,No=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ma=-1,Ot={};Ot[vr]=Ot[Zn]=Ot[qr]=Ot[Sn]=Ot[lr]=Ot[yn]=Ot[ot]=Ot[en]=Ot[Cn]=!0,Ot[Ce]=Ot[Me]=Ot[Yn]=Ot[Fe]=Ot[_n]=Ot[pe]=Ot[Ae]=Ot[ve]=Ot[Ge]=Ot[nt]=Ot[ht]=Ot[yt]=Ot[Lt]=Ot[Hn]=Ot[_r]=!1;var un={};un[Ce]=un[Me]=un[Yn]=un[_n]=un[Fe]=un[pe]=un[vr]=un[Zn]=un[qr]=un[Sn]=un[lr]=un[Ge]=un[nt]=un[ht]=un[yt]=un[Lt]=un[Hn]=un[Qt]=un[yn]=un[ot]=un[en]=un[Cn]=!0,un[Ae]=un[ve]=un[_r]=!1;var zc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},io={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ef={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},El={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ou=parseFloat,Lo=parseInt,Oo=typeof tu=="object"&&tu&&tu.Object===Object&&tu,Kt=typeof self=="object"&&self&&self.Object===Object&&self,pr=Oo||Kt||Function("return this")(),yi=e&&!e.nodeType&&e,Kr=yi&&!0&&t&&!t.nodeType&&t,qs=Kr&&Kr.exports===yi,Ml=qs&&Oo.process,ii=function(){try{var ue=Kr&&Kr.require&&Kr.require("util").types;return ue||Ml&&Ml.binding&&Ml.binding("util")}catch{}}(),Do=ii&&ii.isArrayBuffer,Du=ii&&ii.isDate,Cl=ii&&ii.isMap,Fc=ii&&ii.isRegExp,Hs=ii&&ii.isSet,Uc=ii&&ii.isTypedArray;function jn(ue,Se,we){switch(we.length){case 0:return ue.call(Se);case 1:return ue.call(Se,we[0]);case 2:return ue.call(Se,we[0],we[1]);case 3:return ue.call(Se,we[0],we[1],we[2])}return ue.apply(Se,we)}function Ui(ue,Se,we,Xe){for(var At=-1,pn=ue==null?0:ue.length;++At<pn;){var wr=ue[At];Se(Xe,wr,we(wr),ue)}return Xe}function si(ue,Se){for(var we=-1,Xe=ue==null?0:ue.length;++we<Xe&&Se(ue[we],we,ue)!==!1;);return ue}function Ws(ue,Se){for(var we=ue==null?0:ue.length;we--&&Se(ue[we],we,ue)!==!1;);return ue}function Al(ue,Se){for(var we=-1,Xe=ue==null?0:ue.length;++we<Xe;)if(!Se(ue[we],we,ue))return!1;return!0}function hs(ue,Se){for(var we=-1,Xe=ue==null?0:ue.length,At=0,pn=[];++we<Xe;){var wr=ue[we];Se(wr,we,ue)&&(pn[At++]=wr)}return pn}function Ca(ue,Se){var we=ue==null?0:ue.length;return!!we&&qi(ue,Se,0)>-1}function Bu(ue,Se,we){for(var Xe=-1,At=ue==null?0:ue.length;++Xe<At;)if(we(Se,ue[Xe]))return!0;return!1}function wn(ue,Se){for(var we=-1,Xe=ue==null?0:ue.length,At=Array(Xe);++we<Xe;)At[we]=Se(ue[we],we,ue);return At}function Gr(ue,Se){for(var we=-1,Xe=Se.length,At=ue.length;++we<Xe;)ue[At+we]=Se[we];return ue}function Il(ue,Se,we,Xe){var At=-1,pn=ue==null?0:ue.length;for(Xe&&pn&&(we=ue[++At]);++At<pn;)we=Se(we,ue[At],At,ue);return we}function qc(ue,Se,we,Xe){var At=ue==null?0:ue.length;for(Xe&&At&&(we=ue[--At]);At--;)we=Se(we,ue[At],At,ue);return we}function Bo(ue,Se){for(var we=-1,Xe=ue==null?0:ue.length;++we<Xe;)if(Se(ue[we],we,ue))return!0;return!1}var Hc=so("length");function Wc(ue){return ue.split("")}function ds(ue){return ue.match(Ln)||[]}function fa(ue,Se,we){var Xe;return we(ue,function(At,pn,wr){if(Se(At,pn,wr))return Xe=pn,!1}),Xe}function ps(ue,Se,we,Xe){for(var At=ue.length,pn=we+(Xe?1:-1);Xe?pn--:++pn<At;)if(Se(ue[pn],pn,ue))return pn;return-1}function qi(ue,Se,we){return Se===Se?Ho(ue,Se,we):ps(ue,Jr,we)}function zo(ue,Se,we,Xe){for(var At=we-1,pn=ue.length;++At<pn;)if(Xe(ue[At],Se))return At;return-1}function Jr(ue){return ue!==ue}function Rl(ue,Se){var we=ue==null?0:ue.length;return we?Nl(ue,Se)/we:re}function so(ue){return function(Se){return Se==null?n:Se[ue]}}function zu(ue){return function(Se){return ue==null?n:ue[Se]}}function Hi(ue,Se,we,Xe,At){return At(ue,function(pn,wr,Tn){we=Xe?(Xe=!1,pn):Se(we,pn,wr,Tn)}),we}function Pl(ue,Se){var we=ue.length;for(ue.sort(Se);we--;)ue[we]=ue[we].value;return ue}function Nl(ue,Se){for(var we,Xe=-1,At=ue.length;++Xe<At;){var pn=Se(ue[Xe]);pn!==n&&(we=we===n?pn:we+pn)}return we}function Fu(ue,Se){for(var we=-1,Xe=Array(ue);++we<ue;)Xe[we]=Se(we);return Xe}function Wi(ue,Se){return wn(Se,function(we){return[we,ue[we]]})}function Uu(ue){return ue&&ue.slice(0,Gc(ue)+1).replace(_i,"")}function qn(ue){return function(Se){return ue(Se)}}function $s(ue,Se){return wn(Se,function(we){return ue[we]})}function ao(ue,Se){return ue.has(Se)}function ms(ue,Se){for(var we=-1,Xe=ue.length;++we<Xe&&qi(Se,ue[we],0)>-1;);return we}function gs(ue,Se){for(var we=ue.length;we--&&qi(Se,ue[we],0)>-1;);return we}function Aa(ue,Se){for(var we=ue.length,Xe=0;we--;)ue[we]===Se&&++Xe;return Xe}var $c=zu(zc),Fo=zu(io);function Uo(ue){return"\\"+El[ue]}function Ll(ue,Se){return ue==null?n:ue[Se]}function Ia(ue){return Lu.test(ue)}function qt(ue){return Lr.test(ue)}function qo(ue){for(var Se,we=[];!(Se=ue.next()).done;)we.push(Se.value);return we}function qu(ue){var Se=-1,we=Array(ue.size);return ue.forEach(function(Xe,At){we[++Se]=[At,Xe]}),we}function Hu(ue,Se){return function(we){return ue(Se(we))}}function Ra(ue,Se){for(var we=-1,Xe=ue.length,At=0,pn=[];++we<Xe;){var wr=ue[we];(wr===Se||wr===p)&&(ue[we]=p,pn[At++]=we)}return pn}function ts(ue){var Se=-1,we=Array(ue.size);return ue.forEach(function(Xe){we[++Se]=Xe}),we}function Ch(ue){var Se=-1,we=Array(ue.size);return ue.forEach(function(Xe){we[++Se]=[Xe,Xe]}),we}function Ho(ue,Se,we){for(var Xe=we-1,At=ue.length;++Xe<At;)if(ue[Xe]===Se)return Xe;return-1}function Ah(ue,Se,we){for(var Xe=we+1;Xe--;)if(ue[Xe]===Se)return Xe;return Xe}function bi(ue){return Ia(ue)?Wu(ue):Hc(ue)}function wi(ue){return Ia(ue)?Yc(ue):Wc(ue)}function Gc(ue){for(var Se=ue.length;Se--&&Pr.test(ue.charAt(Se)););return Se}var Vc=zu(ef);function Wu(ue){for(var Se=Ea.lastIndex=0;Ea.test(ue);)++Se;return Se}function Yc(ue){return ue.match(Ea)||[]}function $u(ue){return ue.match(Po)||[]}var br=function ue(Se){Se=Se==null?pr:tr.defaults(pr.Object(),Se,tr.pick(pr,No));var we=Se.Array,Xe=Se.Date,At=Se.Error,pn=Se.Function,wr=Se.Math,Tn=Se.Object,Zc=Se.RegExp,ai=Se.String,oi=Se.TypeError,Gu=we.prototype,Wo=pn.prototype,$o=Tn.prototype,Ol=Se["__core-js_shared__"],Go=Wo.toString,cn=$o.hasOwnProperty,Ih=0,oo=function(){var c=/[^.]+$/.exec(Ol&&Ol.keys&&Ol.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Dl=$o.toString,Vo=Go.call(Tn),Rh=pr._,ha=Zc("^"+Go.call(cn).replace(ni,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lo=qs?Se.Buffer:n,fe=Se.Symbol,qe=Se.Uint8Array,li=lo?lo.allocUnsafe:n,Pa=Hu(Tn.getPrototypeOf,Tn),uo=Tn.create,Gs=$o.propertyIsEnumerable,ui=Gu.splice,Vu=fe?fe.isConcatSpreadable:n,Vs=fe?fe.iterator:n,Ys=fe?fe.toStringTag:n,Xc=function(){try{var c=i0(Tn,"defineProperty");return c({},"",{}),c}catch{}}(),om=Se.clearTimeout!==pr.clearTimeout&&Se.clearTimeout,lm=Xe&&Xe.now!==pr.Date.now&&Xe.now,Pv=Se.setTimeout!==pr.setTimeout&&Se.setTimeout,jc=wr.ceil,Kc=wr.floor,Ph=Tn.getOwnPropertySymbols,o=lo?lo.isBuffer:n,h=Se.isFinite,_=Gu.join,w=Hu(Tn.keys,Tn),C=wr.max,F=wr.min,Q=Xe.now,ge=Se.parseInt,be=wr.random,Pe=Gu.reverse,Ke=i0(Se,"DataView"),pt=i0(Se,"Map"),$t=i0(Se,"Promise"),Or=i0(Se,"Set"),mr=i0(Se,"WeakMap"),xi=i0(Tn,"create"),ci=mr&&new mr,da={},Nv=s0(Ke),Lv=s0(pt),Ov=s0($t),um=s0(Or),Dv=s0(mr),Jc=fe?fe.prototype:n,nr=Jc?Jc.valueOf:n,Qc=Jc?Jc.toString:n;function q(c){if(Dr(c)&&!Wt(c)&&!(c instanceof nn)){if(c instanceof ns)return c;if(cn.call(c,"__wrapped__"))return q7(c)}return new ns(c)}var Yu=function(){function c(){}return function(d){if(!xr(d))return{};if(uo)return uo(d);c.prototype=d;var y=new c;return c.prototype=n,y}}();function tf(){}function ns(c,d){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}q.templateSettings={escape:Ds,evaluate:Hr,interpolate:Oi,variable:"",imports:{_:q}},q.prototype=tf.prototype,q.prototype.constructor=q,ns.prototype=Yu(tf.prototype),ns.prototype.constructor=ns;function nn(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Bv(){var c=new nn(this.__wrapped__);return c.__actions__=Zs(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Zs(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Zs(this.__views__),c}function FL(){if(this.__filtered__){var c=new nn(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function UL(){var c=this.__wrapped__.value(),d=this.__dir__,y=Wt(c),E=d<0,D=y?c.length:0,W=JO(0,D,this.__views__),j=W.start,ne=W.end,de=ne-j,ke=E?ne:j-1,Ee=this.__iteratees__,Oe=Ee.length,je=0,ut=F(de,this.__takeCount__);if(!y||!E&&D==de&&ut==de)return c7(c,this.__actions__);var Tt=[];e:for(;de--&&je<ut;){ke+=d;for(var Jt=-1,kt=c[ke];++Jt<Oe;){var fn=Ee[Jt],gn=fn.iteratee,ga=fn.type,ys=gn(kt);if(ga==te)kt=ys;else if(!ys){if(ga==se)continue e;break e}}Tt[je++]=kt}return Tt}nn.prototype=Yu(tf.prototype),nn.prototype.constructor=nn;function e0(c){var d=-1,y=c==null?0:c.length;for(this.clear();++d<y;){var E=c[d];this.set(E[0],E[1])}}function qL(){this.__data__=xi?xi(null):{},this.size=0}function HL(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}function WL(c){var d=this.__data__;if(xi){var y=d[c];return y===u?n:y}return cn.call(d,c)?d[c]:n}function $L(c){var d=this.__data__;return xi?d[c]!==n:cn.call(d,c)}function GL(c,d){var y=this.__data__;return this.size+=this.has(c)?0:1,y[c]=xi&&d===n?u:d,this}e0.prototype.clear=qL,e0.prototype.delete=HL,e0.prototype.get=WL,e0.prototype.has=$L,e0.prototype.set=GL;function Bl(c){var d=-1,y=c==null?0:c.length;for(this.clear();++d<y;){var E=c[d];this.set(E[0],E[1])}}function VL(){this.__data__=[],this.size=0}function YL(c){var d=this.__data__,y=cm(d,c);if(y<0)return!1;var E=d.length-1;return y==E?d.pop():ui.call(d,y,1),--this.size,!0}function ZL(c){var d=this.__data__,y=cm(d,c);return y<0?n:d[y][1]}function XL(c){return cm(this.__data__,c)>-1}function jL(c,d){var y=this.__data__,E=cm(y,c);return E<0?(++this.size,y.push([c,d])):y[E][1]=d,this}Bl.prototype.clear=VL,Bl.prototype.delete=YL,Bl.prototype.get=ZL,Bl.prototype.has=XL,Bl.prototype.set=jL;function zl(c){var d=-1,y=c==null?0:c.length;for(this.clear();++d<y;){var E=c[d];this.set(E[0],E[1])}}function KL(){this.size=0,this.__data__={hash:new e0,map:new(pt||Bl),string:new e0}}function JL(c){var d=xm(this,c).delete(c);return this.size-=d?1:0,d}function QL(c){return xm(this,c).get(c)}function eO(c){return xm(this,c).has(c)}function tO(c,d){var y=xm(this,c),E=y.size;return y.set(c,d),this.size+=y.size==E?0:1,this}zl.prototype.clear=KL,zl.prototype.delete=JL,zl.prototype.get=QL,zl.prototype.has=eO,zl.prototype.set=tO;function t0(c){var d=-1,y=c==null?0:c.length;for(this.__data__=new zl;++d<y;)this.add(c[d])}function nO(c){return this.__data__.set(c,u),this}function rO(c){return this.__data__.has(c)}t0.prototype.add=t0.prototype.push=nO,t0.prototype.has=rO;function co(c){var d=this.__data__=new Bl(c);this.size=d.size}function iO(){this.__data__=new Bl,this.size=0}function sO(c){var d=this.__data__,y=d.delete(c);return this.size=d.size,y}function aO(c){return this.__data__.get(c)}function oO(c){return this.__data__.has(c)}function lO(c,d){var y=this.__data__;if(y instanceof Bl){var E=y.__data__;if(!pt||E.length<i-1)return E.push([c,d]),this.size=++y.size,this;y=this.__data__=new zl(E)}return y.set(c,d),this.size=y.size,this}co.prototype.clear=iO,co.prototype.delete=sO,co.prototype.get=aO,co.prototype.has=oO,co.prototype.set=lO;function q6(c,d){var y=Wt(c),E=!y&&a0(c),D=!y&&!E&&Ju(c),W=!y&&!E&&!D&&af(c),j=y||E||D||W,ne=j?Fu(c.length,ai):[],de=ne.length;for(var ke in c)(d||cn.call(c,ke))&&!(j&&(ke=="length"||D&&(ke=="offset"||ke=="parent")||W&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||Hl(ke,de)))&&ne.push(ke);return ne}function H6(c){var d=c.length;return d?c[Zv(0,d-1)]:n}function uO(c,d){return Sm(Zs(c),n0(d,0,c.length))}function cO(c){return Sm(Zs(c))}function zv(c,d,y){(y!==n&&!fo(c[d],y)||y===n&&!(d in c))&&Fl(c,d,y)}function Nh(c,d,y){var E=c[d];(!(cn.call(c,d)&&fo(E,y))||y===n&&!(d in c))&&Fl(c,d,y)}function cm(c,d){for(var y=c.length;y--;)if(fo(c[y][0],d))return y;return-1}function fO(c,d,y,E){return Zu(c,function(D,W,j){d(E,D,y(D),j)}),E}function W6(c,d){return c&&Zo(d,Si(d),c)}function hO(c,d){return c&&Zo(d,js(d),c)}function Fl(c,d,y){d=="__proto__"&&Xc?Xc(c,d,{configurable:!0,enumerable:!0,value:y,writable:!0}):c[d]=y}function Fv(c,d){for(var y=-1,E=d.length,D=we(E),W=c==null;++y<E;)D[y]=W?n:y2(c,d[y]);return D}function n0(c,d,y){return c===c&&(y!==n&&(c=c<=y?c:y),d!==n&&(c=c>=d?c:d)),c}function Na(c,d,y,E,D,W){var j,ne=d&m,de=d&g,ke=d&v;if(y&&(j=D?y(c,E,D,W):y(c)),j!==n)return j;if(!xr(c))return c;var Ee=Wt(c);if(Ee){if(j=eD(c),!ne)return Zs(c,j)}else{var Oe=rs(c),je=Oe==ve||Oe==Ue;if(Ju(c))return d7(c,ne);if(Oe==ht||Oe==Ce||je&&!D){if(j=de||je?{}:P7(c),!ne)return de?WO(c,hO(j,c)):HO(c,W6(j,c))}else{if(!un[Oe])return D?c:{};j=tD(c,Oe,ne)}}W||(W=new co);var ut=W.get(c);if(ut)return ut;W.set(c,j),ow(c)?c.forEach(function(kt){j.add(Na(kt,d,y,kt,c,W))}):sw(c)&&c.forEach(function(kt,fn){j.set(fn,Na(kt,d,y,fn,c,W))});var Tt=ke?de?s2:i2:de?js:Si,Jt=Ee?n:Tt(c);return si(Jt||c,function(kt,fn){Jt&&(fn=kt,kt=c[fn]),Nh(j,fn,Na(kt,d,y,fn,c,W))}),j}function dO(c){var d=Si(c);return function(y){return $6(y,c,d)}}function $6(c,d,y){var E=y.length;if(c==null)return!E;for(c=Tn(c);E--;){var D=y[E],W=d[D],j=c[D];if(j===n&&!(D in c)||!W(j))return!1}return!0}function G6(c,d,y){if(typeof c!="function")throw new oi(a);return Uh(function(){c.apply(n,y)},d)}function Lh(c,d,y,E){var D=-1,W=Ca,j=!0,ne=c.length,de=[],ke=d.length;if(!ne)return de;y&&(d=wn(d,qn(y))),E?(W=Bu,j=!1):d.length>=i&&(W=ao,j=!1,d=new t0(d));e:for(;++D<ne;){var Ee=c[D],Oe=y==null?Ee:y(Ee);if(Ee=E||Ee!==0?Ee:0,j&&Oe===Oe){for(var je=ke;je--;)if(d[je]===Oe)continue e;de.push(Ee)}else W(d,Oe,E)||de.push(Ee)}return de}var Zu=v7(Yo),V6=v7(qv,!0);function pO(c,d){var y=!0;return Zu(c,function(E,D,W){return y=!!d(E,D,W),y}),y}function fm(c,d,y){for(var E=-1,D=c.length;++E<D;){var W=c[E],j=d(W);if(j!=null&&(ne===n?j===j&&!ma(j):y(j,ne)))var ne=j,de=W}return de}function mO(c,d,y,E){var D=c.length;for(y=Zt(y),y<0&&(y=-y>D?0:D+y),E=E===n||E>D?D:Zt(E),E<0&&(E+=D),E=y>E?0:uw(E);y<E;)c[y++]=d;return c}function Y6(c,d){var y=[];return Zu(c,function(E,D,W){d(E,D,W)&&y.push(E)}),y}function $i(c,d,y,E,D){var W=-1,j=c.length;for(y||(y=rD),D||(D=[]);++W<j;){var ne=c[W];d>0&&y(ne)?d>1?$i(ne,d-1,y,E,D):Gr(D,ne):E||(D[D.length]=ne)}return D}var Uv=y7(),Z6=y7(!0);function Yo(c,d){return c&&Uv(c,d,Si)}function qv(c,d){return c&&Z6(c,d,Si)}function hm(c,d){return hs(d,function(y){return Wl(c[y])})}function r0(c,d){d=ju(d,c);for(var y=0,E=d.length;c!=null&&y<E;)c=c[Xo(d[y++])];return y&&y==E?c:n}function X6(c,d,y){var E=d(c);return Wt(c)?E:Gr(E,y(c))}function _s(c){return c==null?c===n?cr:Re:Ys&&Ys in Tn(c)?KO(c):cD(c)}function Hv(c,d){return c>d}function gO(c,d){return c!=null&&cn.call(c,d)}function _O(c,d){return c!=null&&d in Tn(c)}function vO(c,d,y){return c>=F(d,y)&&c<C(d,y)}function Wv(c,d,y){for(var E=y?Bu:Ca,D=c[0].length,W=c.length,j=W,ne=we(W),de=1/0,ke=[];j--;){var Ee=c[j];j&&d&&(Ee=wn(Ee,qn(d))),de=F(Ee.length,de),ne[j]=!y&&(d||D>=120&&Ee.length>=120)?new t0(j&&Ee):n}Ee=c[0];var Oe=-1,je=ne[0];e:for(;++Oe<D&&ke.length<de;){var ut=Ee[Oe],Tt=d?d(ut):ut;if(ut=y||ut!==0?ut:0,!(je?ao(je,Tt):E(ke,Tt,y))){for(j=W;--j;){var Jt=ne[j];if(!(Jt?ao(Jt,Tt):E(c[j],Tt,y)))continue e}je&&je.push(Tt),ke.push(ut)}}return ke}function yO(c,d,y,E){return Yo(c,function(D,W,j){d(E,y(D),W,j)}),E}function Oh(c,d,y){d=ju(d,c),c=D7(c,d);var E=c==null?c:c[Xo(Oa(d))];return E==null?n:jn(E,c,y)}function j6(c){return Dr(c)&&_s(c)==Ce}function bO(c){return Dr(c)&&_s(c)==Yn}function wO(c){return Dr(c)&&_s(c)==pe}function Dh(c,d,y,E,D){return c===d?!0:c==null||d==null||!Dr(c)&&!Dr(d)?c!==c&&d!==d:xO(c,d,y,E,Dh,D)}function xO(c,d,y,E,D,W){var j=Wt(c),ne=Wt(d),de=j?Me:rs(c),ke=ne?Me:rs(d);de=de==Ce?ht:de,ke=ke==Ce?ht:ke;var Ee=de==ht,Oe=ke==ht,je=de==ke;if(je&&Ju(c)){if(!Ju(d))return!1;j=!0,Ee=!1}if(je&&!Ee)return W||(W=new co),j||af(c)?A7(c,d,y,E,D,W):XO(c,d,de,y,E,D,W);if(!(y&b)){var ut=Ee&&cn.call(c,"__wrapped__"),Tt=Oe&&cn.call(d,"__wrapped__");if(ut||Tt){var Jt=ut?c.value():c,kt=Tt?d.value():d;return W||(W=new co),D(Jt,kt,y,E,W)}}return je?(W||(W=new co),jO(c,d,y,E,D,W)):!1}function SO(c){return Dr(c)&&rs(c)==Ge}function $v(c,d,y,E){var D=y.length,W=D,j=!E;if(c==null)return!W;for(c=Tn(c);D--;){var ne=y[D];if(j&&ne[2]?ne[1]!==c[ne[0]]:!(ne[0]in c))return!1}for(;++D<W;){ne=y[D];var de=ne[0],ke=c[de],Ee=ne[1];if(j&&ne[2]){if(ke===n&&!(de in c))return!1}else{var Oe=new co;if(E)var je=E(ke,Ee,de,c,d,Oe);if(!(je===n?Dh(Ee,ke,b|k,E,Oe):je))return!1}}return!0}function K6(c){if(!xr(c)||sD(c))return!1;var d=Wl(c)?ha:ri;return d.test(s0(c))}function TO(c){return Dr(c)&&_s(c)==yt}function kO(c){return Dr(c)&&rs(c)==Lt}function EO(c){return Dr(c)&&Am(c.length)&&!!Ot[_s(c)]}function J6(c){return typeof c=="function"?c:c==null?Ks:typeof c=="object"?Wt(c)?t7(c[0],c[1]):e7(c):bw(c)}function Gv(c){if(!Fh(c))return w(c);var d=[];for(var y in Tn(c))cn.call(c,y)&&y!="constructor"&&d.push(y);return d}function MO(c){if(!xr(c))return uD(c);var d=Fh(c),y=[];for(var E in c)E=="constructor"&&(d||!cn.call(c,E))||y.push(E);return y}function Vv(c,d){return c<d}function Q6(c,d){var y=-1,E=Xs(c)?we(c.length):[];return Zu(c,function(D,W,j){E[++y]=d(D,W,j)}),E}function e7(c){var d=o2(c);return d.length==1&&d[0][2]?L7(d[0][0],d[0][1]):function(y){return y===c||$v(y,c,d)}}function t7(c,d){return u2(c)&&N7(d)?L7(Xo(c),d):function(y){var E=y2(y,c);return E===n&&E===d?b2(y,c):Dh(d,E,b|k)}}function dm(c,d,y,E,D){c!==d&&Uv(d,function(W,j){if(D||(D=new co),xr(W))CO(c,d,j,y,dm,E,D);else{var ne=E?E(f2(c,j),W,j+"",c,d,D):n;ne===n&&(ne=W),zv(c,j,ne)}},js)}function CO(c,d,y,E,D,W,j){var ne=f2(c,y),de=f2(d,y),ke=j.get(de);if(ke){zv(c,y,ke);return}var Ee=W?W(ne,de,y+"",c,d,j):n,Oe=Ee===n;if(Oe){var je=Wt(de),ut=!je&&Ju(de),Tt=!je&&!ut&&af(de);Ee=de,je||ut||Tt?Wt(ne)?Ee=ne:Vr(ne)?Ee=Zs(ne):ut?(Oe=!1,Ee=d7(de,!0)):Tt?(Oe=!1,Ee=p7(de,!0)):Ee=[]:qh(de)||a0(de)?(Ee=ne,a0(ne)?Ee=cw(ne):(!xr(ne)||Wl(ne))&&(Ee=P7(de))):Oe=!1}Oe&&(j.set(de,Ee),D(Ee,de,E,W,j),j.delete(de)),zv(c,y,Ee)}function n7(c,d){var y=c.length;if(y)return d+=d<0?y:0,Hl(d,y)?c[d]:n}function r7(c,d,y){d.length?d=wn(d,function(W){return Wt(W)?function(j){return r0(j,W.length===1?W[0]:W)}:W}):d=[Ks];var E=-1;d=wn(d,qn(xt()));var D=Q6(c,function(W,j,ne){var de=wn(d,function(ke){return ke(W)});return{criteria:de,index:++E,value:W}});return Pl(D,function(W,j){return qO(W,j,y)})}function AO(c,d){return i7(c,d,function(y,E){return b2(c,E)})}function i7(c,d,y){for(var E=-1,D=d.length,W={};++E<D;){var j=d[E],ne=r0(c,j);y(ne,j)&&Bh(W,ju(j,c),ne)}return W}function IO(c){return function(d){return r0(d,c)}}function Yv(c,d,y,E){var D=E?zo:qi,W=-1,j=d.length,ne=c;for(c===d&&(d=Zs(d)),y&&(ne=wn(c,qn(y)));++W<j;)for(var de=0,ke=d[W],Ee=y?y(ke):ke;(de=D(ne,Ee,de,E))>-1;)ne!==c&&ui.call(ne,de,1),ui.call(c,de,1);return c}function s7(c,d){for(var y=c?d.length:0,E=y-1;y--;){var D=d[y];if(y==E||D!==W){var W=D;Hl(D)?ui.call(c,D,1):Kv(c,D)}}return c}function Zv(c,d){return c+Kc(be()*(d-c+1))}function RO(c,d,y,E){for(var D=-1,W=C(jc((d-c)/(y||1)),0),j=we(W);W--;)j[E?W:++D]=c,c+=y;return j}function Xv(c,d){var y="";if(!c||d<1||d>Y)return y;do d%2&&(y+=c),d=Kc(d/2),d&&(c+=c);while(d);return y}function rn(c,d){return h2(O7(c,d,Ks),c+"")}function PO(c){return H6(of(c))}function NO(c,d){var y=of(c);return Sm(y,n0(d,0,y.length))}function Bh(c,d,y,E){if(!xr(c))return c;d=ju(d,c);for(var D=-1,W=d.length,j=W-1,ne=c;ne!=null&&++D<W;){var de=Xo(d[D]),ke=y;if(de==="__proto__"||de==="constructor"||de==="prototype")return c;if(D!=j){var Ee=ne[de];ke=E?E(Ee,de,ne):n,ke===n&&(ke=xr(Ee)?Ee:Hl(d[D+1])?[]:{})}Nh(ne,de,ke),ne=ne[de]}return c}var a7=ci?function(c,d){return ci.set(c,d),c}:Ks,LO=Xc?function(c,d){return Xc(c,"toString",{configurable:!0,enumerable:!1,value:x2(d),writable:!0})}:Ks;function OO(c){return Sm(of(c))}function La(c,d,y){var E=-1,D=c.length;d<0&&(d=-d>D?0:D+d),y=y>D?D:y,y<0&&(y+=D),D=d>y?0:y-d>>>0,d>>>=0;for(var W=we(D);++E<D;)W[E]=c[E+d];return W}function DO(c,d){var y;return Zu(c,function(E,D,W){return y=d(E,D,W),!y}),!!y}function pm(c,d,y){var E=0,D=c==null?E:c.length;if(typeof d=="number"&&d===d&&D<=Ne){for(;E<D;){var W=E+D>>>1,j=c[W];j!==null&&!ma(j)&&(y?j<=d:j<d)?E=W+1:D=W}return D}return jv(c,d,Ks,y)}function jv(c,d,y,E){var D=0,W=c==null?0:c.length;if(W===0)return 0;d=y(d);for(var j=d!==d,ne=d===null,de=ma(d),ke=d===n;D<W;){var Ee=Kc((D+W)/2),Oe=y(c[Ee]),je=Oe!==n,ut=Oe===null,Tt=Oe===Oe,Jt=ma(Oe);if(j)var kt=E||Tt;else ke?kt=Tt&&(E||je):ne?kt=Tt&&je&&(E||!ut):de?kt=Tt&&je&&!ut&&(E||!Jt):ut||Jt?kt=!1:kt=E?Oe<=d:Oe<d;kt?D=Ee+1:W=Ee}return F(W,me)}function o7(c,d){for(var y=-1,E=c.length,D=0,W=[];++y<E;){var j=c[y],ne=d?d(j):j;if(!y||!fo(ne,de)){var de=ne;W[D++]=j===0?0:j}}return W}function l7(c){return typeof c=="number"?c:ma(c)?re:+c}function pa(c){if(typeof c=="string")return c;if(Wt(c))return wn(c,pa)+"";if(ma(c))return Qc?Qc.call(c):"";var d=c+"";return d=="0"&&1/c==-V?"-0":d}function Xu(c,d,y){var E=-1,D=Ca,W=c.length,j=!0,ne=[],de=ne;if(y)j=!1,D=Bu;else if(W>=i){var ke=d?null:YO(c);if(ke)return ts(ke);j=!1,D=ao,de=new t0}else de=d?[]:ne;e:for(;++E<W;){var Ee=c[E],Oe=d?d(Ee):Ee;if(Ee=y||Ee!==0?Ee:0,j&&Oe===Oe){for(var je=de.length;je--;)if(de[je]===Oe)continue e;d&&de.push(Oe),ne.push(Ee)}else D(de,Oe,y)||(de!==ne&&de.push(Oe),ne.push(Ee))}return ne}function Kv(c,d){return d=ju(d,c),c=D7(c,d),c==null||delete c[Xo(Oa(d))]}function u7(c,d,y,E){return Bh(c,d,y(r0(c,d)),E)}function mm(c,d,y,E){for(var D=c.length,W=E?D:-1;(E?W--:++W<D)&&d(c[W],W,c););return y?La(c,E?0:W,E?W+1:D):La(c,E?W+1:0,E?D:W)}function c7(c,d){var y=c;return y instanceof nn&&(y=y.value()),Il(d,function(E,D){return D.func.apply(D.thisArg,Gr([E],D.args))},y)}function Jv(c,d,y){var E=c.length;if(E<2)return E?Xu(c[0]):[];for(var D=-1,W=we(E);++D<E;)for(var j=c[D],ne=-1;++ne<E;)ne!=D&&(W[D]=Lh(W[D]||j,c[ne],d,y));return Xu($i(W,1),d,y)}function f7(c,d,y){for(var E=-1,D=c.length,W=d.length,j={};++E<D;){var ne=E<W?d[E]:n;y(j,c[E],ne)}return j}function Qv(c){return Vr(c)?c:[]}function e2(c){return typeof c=="function"?c:Ks}function ju(c,d){return Wt(c)?c:u2(c,d)?[c]:U7(On(c))}var BO=rn;function Ku(c,d,y){var E=c.length;return y=y===n?E:y,!d&&y>=E?c:La(c,d,y)}var h7=om||function(c){return pr.clearTimeout(c)};function d7(c,d){if(d)return c.slice();var y=c.length,E=li?li(y):new c.constructor(y);return c.copy(E),E}function t2(c){var d=new c.constructor(c.byteLength);return new qe(d).set(new qe(c)),d}function zO(c,d){var y=d?t2(c.buffer):c.buffer;return new c.constructor(y,c.byteOffset,c.byteLength)}function FO(c){var d=new c.constructor(c.source,Un.exec(c));return d.lastIndex=c.lastIndex,d}function UO(c){return nr?Tn(nr.call(c)):{}}function p7(c,d){var y=d?t2(c.buffer):c.buffer;return new c.constructor(y,c.byteOffset,c.length)}function m7(c,d){if(c!==d){var y=c!==n,E=c===null,D=c===c,W=ma(c),j=d!==n,ne=d===null,de=d===d,ke=ma(d);if(!ne&&!ke&&!W&&c>d||W&&j&&de&&!ne&&!ke||E&&j&&de||!y&&de||!D)return 1;if(!E&&!W&&!ke&&c<d||ke&&y&&D&&!E&&!W||ne&&y&&D||!j&&D||!de)return-1}return 0}function qO(c,d,y){for(var E=-1,D=c.criteria,W=d.criteria,j=D.length,ne=y.length;++E<j;){var de=m7(D[E],W[E]);if(de){if(E>=ne)return de;var ke=y[E];return de*(ke=="desc"?-1:1)}}return c.index-d.index}function g7(c,d,y,E){for(var D=-1,W=c.length,j=y.length,ne=-1,de=d.length,ke=C(W-j,0),Ee=we(de+ke),Oe=!E;++ne<de;)Ee[ne]=d[ne];for(;++D<j;)(Oe||D<W)&&(Ee[y[D]]=c[D]);for(;ke--;)Ee[ne++]=c[D++];return Ee}function _7(c,d,y,E){for(var D=-1,W=c.length,j=-1,ne=y.length,de=-1,ke=d.length,Ee=C(W-ne,0),Oe=we(Ee+ke),je=!E;++D<Ee;)Oe[D]=c[D];for(var ut=D;++de<ke;)Oe[ut+de]=d[de];for(;++j<ne;)(je||D<W)&&(Oe[ut+y[j]]=c[D++]);return Oe}function Zs(c,d){var y=-1,E=c.length;for(d||(d=we(E));++y<E;)d[y]=c[y];return d}function Zo(c,d,y,E){var D=!y;y||(y={});for(var W=-1,j=d.length;++W<j;){var ne=d[W],de=E?E(y[ne],c[ne],ne,y,c):n;de===n&&(de=c[ne]),D?Fl(y,ne,de):Nh(y,ne,de)}return y}function HO(c,d){return Zo(c,l2(c),d)}function WO(c,d){return Zo(c,I7(c),d)}function gm(c,d){return function(y,E){var D=Wt(y)?Ui:fO,W=d?d():{};return D(y,c,xt(E,2),W)}}function nf(c){return rn(function(d,y){var E=-1,D=y.length,W=D>1?y[D-1]:n,j=D>2?y[2]:n;for(W=c.length>3&&typeof W=="function"?(D--,W):n,j&&vs(y[0],y[1],j)&&(W=D<3?n:W,D=1),d=Tn(d);++E<D;){var ne=y[E];ne&&c(d,ne,E,W)}return d})}function v7(c,d){return function(y,E){if(y==null)return y;if(!Xs(y))return c(y,E);for(var D=y.length,W=d?D:-1,j=Tn(y);(d?W--:++W<D)&&E(j[W],W,j)!==!1;);return y}}function y7(c){return function(d,y,E){for(var D=-1,W=Tn(d),j=E(d),ne=j.length;ne--;){var de=j[c?ne:++D];if(y(W[de],de,W)===!1)break}return d}}function $O(c,d,y){var E=d&R,D=zh(c);function W(){var j=this&&this!==pr&&this instanceof W?D:c;return j.apply(E?y:this,arguments)}return W}function b7(c){return function(d){d=On(d);var y=Ia(d)?wi(d):n,E=y?y[0]:d.charAt(0),D=y?Ku(y,1).join(""):d.slice(1);return E[c]()+D}}function rf(c){return function(d){return Il(vw(_w(d).replace(In,"")),c,"")}}function zh(c){return function(){var d=arguments;switch(d.length){case 0:return new c;case 1:return new c(d[0]);case 2:return new c(d[0],d[1]);case 3:return new c(d[0],d[1],d[2]);case 4:return new c(d[0],d[1],d[2],d[3]);case 5:return new c(d[0],d[1],d[2],d[3],d[4]);case 6:return new c(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new c(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var y=Yu(c.prototype),E=c.apply(y,d);return xr(E)?E:y}}function GO(c,d,y){var E=zh(c);function D(){for(var W=arguments.length,j=we(W),ne=W,de=sf(D);ne--;)j[ne]=arguments[ne];var ke=W<3&&j[0]!==de&&j[W-1]!==de?[]:Ra(j,de);if(W-=ke.length,W<y)return k7(c,d,_m,D.placeholder,n,j,ke,n,n,y-W);var Ee=this&&this!==pr&&this instanceof D?E:c;return jn(Ee,this,j)}return D}function w7(c){return function(d,y,E){var D=Tn(d);if(!Xs(d)){var W=xt(y,3);d=Si(d),y=function(ne){return W(D[ne],ne,D)}}var j=c(d,y,E);return j>-1?D[W?d[j]:j]:n}}function x7(c){return ql(function(d){var y=d.length,E=y,D=ns.prototype.thru;for(c&&d.reverse();E--;){var W=d[E];if(typeof W!="function")throw new oi(a);if(D&&!j&&wm(W)=="wrapper")var j=new ns([],!0)}for(E=j?E:y;++E<y;){W=d[E];var ne=wm(W),de=ne=="wrapper"?a2(W):n;de&&c2(de[0])&&de[1]==(O|T|I|z)&&!de[4].length&&de[9]==1?j=j[wm(de[0])].apply(j,de[3]):j=W.length==1&&c2(W)?j[ne]():j.thru(W)}return function(){var ke=arguments,Ee=ke[0];if(j&&ke.length==1&&Wt(Ee))return j.plant(Ee).value();for(var Oe=0,je=y?d[Oe].apply(this,ke):Ee;++Oe<y;)je=d[Oe].call(this,je);return je}})}function _m(c,d,y,E,D,W,j,ne,de,ke){var Ee=d&O,Oe=d&R,je=d&N,ut=d&(T|M),Tt=d&$,Jt=je?n:zh(c);function kt(){for(var fn=arguments.length,gn=we(fn),ga=fn;ga--;)gn[ga]=arguments[ga];if(ut)var ys=sf(kt),_a=Aa(gn,ys);if(E&&(gn=g7(gn,E,D,ut)),W&&(gn=_7(gn,W,j,ut)),fn-=_a,ut&&fn<ke){var Yr=Ra(gn,ys);return k7(c,d,_m,kt.placeholder,y,gn,Yr,ne,de,ke-fn)}var ho=Oe?y:this,Gl=je?ho[c]:c;return fn=gn.length,ne?gn=fD(gn,ne):Tt&&fn>1&&gn.reverse(),Ee&&de<fn&&(gn.length=de),this&&this!==pr&&this instanceof kt&&(Gl=Jt||zh(Gl)),Gl.apply(ho,gn)}return kt}function S7(c,d){return function(y,E){return yO(y,c,d(E),{})}}function vm(c,d){return function(y,E){var D;if(y===n&&E===n)return d;if(y!==n&&(D=y),E!==n){if(D===n)return E;typeof y=="string"||typeof E=="string"?(y=pa(y),E=pa(E)):(y=l7(y),E=l7(E)),D=c(y,E)}return D}}function n2(c){return ql(function(d){return d=wn(d,qn(xt())),rn(function(y){var E=this;return c(d,function(D){return jn(D,E,y)})})})}function ym(c,d){d=d===n?" ":pa(d);var y=d.length;if(y<2)return y?Xv(d,c):d;var E=Xv(d,jc(c/bi(d)));return Ia(d)?Ku(wi(E),0,c).join(""):E.slice(0,c)}function VO(c,d,y,E){var D=d&R,W=zh(c);function j(){for(var ne=-1,de=arguments.length,ke=-1,Ee=E.length,Oe=we(Ee+de),je=this&&this!==pr&&this instanceof j?W:c;++ke<Ee;)Oe[ke]=E[ke];for(;de--;)Oe[ke++]=arguments[++ne];return jn(je,D?y:this,Oe)}return j}function T7(c){return function(d,y,E){return E&&typeof E!="number"&&vs(d,y,E)&&(y=E=n),d=$l(d),y===n?(y=d,d=0):y=$l(y),E=E===n?d<y?1:-1:$l(E),RO(d,y,E,c)}}function bm(c){return function(d,y){return typeof d=="string"&&typeof y=="string"||(d=Da(d),y=Da(y)),c(d,y)}}function k7(c,d,y,E,D,W,j,ne,de,ke){var Ee=d&T,Oe=Ee?j:n,je=Ee?n:j,ut=Ee?W:n,Tt=Ee?n:W;d|=Ee?I:P,d&=~(Ee?P:I),d&x||(d&=~(R|N));var Jt=[c,d,D,ut,Oe,Tt,je,ne,de,ke],kt=y.apply(n,Jt);return c2(c)&&B7(kt,Jt),kt.placeholder=E,z7(kt,c,d)}function r2(c){var d=wr[c];return function(y,E){if(y=Da(y),E=E==null?0:F(Zt(E),292),E&&h(y)){var D=(On(y)+"e").split("e"),W=d(D[0]+"e"+(+D[1]+E));return D=(On(W)+"e").split("e"),+(D[0]+"e"+(+D[1]-E))}return d(y)}}var YO=Or&&1/ts(new Or([,-0]))[1]==V?function(c){return new Or(c)}:k2;function E7(c){return function(d){var y=rs(d);return y==Ge?qu(d):y==Lt?Ch(d):Wi(d,c(d))}}function Ul(c,d,y,E,D,W,j,ne){var de=d&N;if(!de&&typeof c!="function")throw new oi(a);var ke=E?E.length:0;if(ke||(d&=~(I|P),E=D=n),j=j===n?j:C(Zt(j),0),ne=ne===n?ne:Zt(ne),ke-=D?D.length:0,d&P){var Ee=E,Oe=D;E=D=n}var je=de?n:a2(c),ut=[c,d,y,E,D,Ee,Oe,W,j,ne];if(je&&lD(ut,je),c=ut[0],d=ut[1],y=ut[2],E=ut[3],D=ut[4],ne=ut[9]=ut[9]===n?de?0:c.length:C(ut[9]-ke,0),!ne&&d&(T|M)&&(d&=~(T|M)),!d||d==R)var Tt=$O(c,d,y);else d==T||d==M?Tt=GO(c,d,ne):(d==I||d==(R|I))&&!D.length?Tt=VO(c,d,y,E):Tt=_m.apply(n,ut);var Jt=je?a7:B7;return z7(Jt(Tt,ut),c,d)}function M7(c,d,y,E){return c===n||fo(c,$o[y])&&!cn.call(E,y)?d:c}function C7(c,d,y,E,D,W){return xr(c)&&xr(d)&&(W.set(d,c),dm(c,d,n,C7,W),W.delete(d)),c}function ZO(c){return qh(c)?n:c}function A7(c,d,y,E,D,W){var j=y&b,ne=c.length,de=d.length;if(ne!=de&&!(j&&de>ne))return!1;var ke=W.get(c),Ee=W.get(d);if(ke&&Ee)return ke==d&&Ee==c;var Oe=-1,je=!0,ut=y&k?new t0:n;for(W.set(c,d),W.set(d,c);++Oe<ne;){var Tt=c[Oe],Jt=d[Oe];if(E)var kt=j?E(Jt,Tt,Oe,d,c,W):E(Tt,Jt,Oe,c,d,W);if(kt!==n){if(kt)continue;je=!1;break}if(ut){if(!Bo(d,function(fn,gn){if(!ao(ut,gn)&&(Tt===fn||D(Tt,fn,y,E,W)))return ut.push(gn)})){je=!1;break}}else if(!(Tt===Jt||D(Tt,Jt,y,E,W))){je=!1;break}}return W.delete(c),W.delete(d),je}function XO(c,d,y,E,D,W,j){switch(y){case _n:if(c.byteLength!=d.byteLength||c.byteOffset!=d.byteOffset)return!1;c=c.buffer,d=d.buffer;case Yn:return!(c.byteLength!=d.byteLength||!W(new qe(c),new qe(d)));case Fe:case pe:case nt:return fo(+c,+d);case Ae:return c.name==d.name&&c.message==d.message;case yt:case Hn:return c==d+"";case Ge:var ne=qu;case Lt:var de=E&b;if(ne||(ne=ts),c.size!=d.size&&!de)return!1;var ke=j.get(c);if(ke)return ke==d;E|=k,j.set(c,d);var Ee=A7(ne(c),ne(d),E,D,W,j);return j.delete(c),Ee;case Qt:if(nr)return nr.call(c)==nr.call(d)}return!1}function jO(c,d,y,E,D,W){var j=y&b,ne=i2(c),de=ne.length,ke=i2(d),Ee=ke.length;if(de!=Ee&&!j)return!1;for(var Oe=de;Oe--;){var je=ne[Oe];if(!(j?je in d:cn.call(d,je)))return!1}var ut=W.get(c),Tt=W.get(d);if(ut&&Tt)return ut==d&&Tt==c;var Jt=!0;W.set(c,d),W.set(d,c);for(var kt=j;++Oe<de;){je=ne[Oe];var fn=c[je],gn=d[je];if(E)var ga=j?E(gn,fn,je,d,c,W):E(fn,gn,je,c,d,W);if(!(ga===n?fn===gn||D(fn,gn,y,E,W):ga)){Jt=!1;break}kt||(kt=je=="constructor")}if(Jt&&!kt){var ys=c.constructor,_a=d.constructor;ys!=_a&&"constructor"in c&&"constructor"in d&&!(typeof ys=="function"&&ys instanceof ys&&typeof _a=="function"&&_a instanceof _a)&&(Jt=!1)}return W.delete(c),W.delete(d),Jt}function ql(c){return h2(O7(c,n,$7),c+"")}function i2(c){return X6(c,Si,l2)}function s2(c){return X6(c,js,I7)}var a2=ci?function(c){return ci.get(c)}:k2;function wm(c){for(var d=c.name+"",y=da[d],E=cn.call(da,d)?y.length:0;E--;){var D=y[E],W=D.func;if(W==null||W==c)return D.name}return d}function sf(c){var d=cn.call(q,"placeholder")?q:c;return d.placeholder}function xt(){var c=q.iteratee||S2;return c=c===S2?J6:c,arguments.length?c(arguments[0],arguments[1]):c}function xm(c,d){var y=c.__data__;return iD(d)?y[typeof d=="string"?"string":"hash"]:y.map}function o2(c){for(var d=Si(c),y=d.length;y--;){var E=d[y],D=c[E];d[y]=[E,D,N7(D)]}return d}function i0(c,d){var y=Ll(c,d);return K6(y)?y:n}function KO(c){var d=cn.call(c,Ys),y=c[Ys];try{c[Ys]=n;var E=!0}catch{}var D=Dl.call(c);return E&&(d?c[Ys]=y:delete c[Ys]),D}var l2=Ph?function(c){return c==null?[]:(c=Tn(c),hs(Ph(c),function(d){return Gs.call(c,d)}))}:E2,I7=Ph?function(c){for(var d=[];c;)Gr(d,l2(c)),c=Pa(c);return d}:E2,rs=_s;(Ke&&rs(new Ke(new ArrayBuffer(1)))!=_n||pt&&rs(new pt)!=Ge||$t&&rs($t.resolve())!=vt||Or&&rs(new Or)!=Lt||mr&&rs(new mr)!=_r)&&(rs=function(c){var d=_s(c),y=d==ht?c.constructor:n,E=y?s0(y):"";if(E)switch(E){case Nv:return _n;case Lv:return Ge;case Ov:return vt;case um:return Lt;case Dv:return _r}return d});function JO(c,d,y){for(var E=-1,D=y.length;++E<D;){var W=y[E],j=W.size;switch(W.type){case"drop":c+=j;break;case"dropRight":d-=j;break;case"take":d=F(d,c+j);break;case"takeRight":c=C(c,d-j);break}}return{start:c,end:d}}function QO(c){var d=c.match(Di);return d?d[1].split(Wr):[]}function R7(c,d,y){d=ju(d,c);for(var E=-1,D=d.length,W=!1;++E<D;){var j=Xo(d[E]);if(!(W=c!=null&&y(c,j)))break;c=c[j]}return W||++E!=D?W:(D=c==null?0:c.length,!!D&&Am(D)&&Hl(j,D)&&(Wt(c)||a0(c)))}function eD(c){var d=c.length,y=new c.constructor(d);return d&&typeof c[0]=="string"&&cn.call(c,"index")&&(y.index=c.index,y.input=c.input),y}function P7(c){return typeof c.constructor=="function"&&!Fh(c)?Yu(Pa(c)):{}}function tD(c,d,y){var E=c.constructor;switch(d){case Yn:return t2(c);case Fe:case pe:return new E(+c);case _n:return zO(c,y);case vr:case Zn:case qr:case Sn:case lr:case yn:case ot:case en:case Cn:return p7(c,y);case Ge:return new E;case nt:case Hn:return new E(c);case yt:return FO(c);case Lt:return new E;case Qt:return UO(c)}}function nD(c,d){var y=d.length;if(!y)return c;var E=y-1;return d[E]=(y>1?"& ":"")+d[E],d=d.join(y>2?", ":" "),c.replace(tt,`{
/* [wrapped with `+d+`] */
`)}function rD(c){return Wt(c)||a0(c)||!!(Vu&&c&&c[Vu])}function Hl(c,d){var y=typeof c;return d=d??Y,!!d&&(y=="number"||y!="symbol"&&Bi.test(c))&&c>-1&&c%1==0&&c<d}function vs(c,d,y){if(!xr(y))return!1;var E=typeof d;return(E=="number"?Xs(y)&&Hl(d,y.length):E=="string"&&d in y)?fo(y[d],c):!1}function u2(c,d){if(Wt(c))return!1;var y=typeof c;return y=="number"||y=="symbol"||y=="boolean"||c==null||ma(c)?!0:gi.test(c)||!ji.test(c)||d!=null&&c in Tn(d)}function iD(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}function c2(c){var d=wm(c),y=q[d];if(typeof y!="function"||!(d in nn.prototype))return!1;if(c===y)return!0;var E=a2(y);return!!E&&c===E[0]}function sD(c){return!!oo&&oo in c}var aD=Ol?Wl:M2;function Fh(c){var d=c&&c.constructor,y=typeof d=="function"&&d.prototype||$o;return c===y}function N7(c){return c===c&&!xr(c)}function L7(c,d){return function(y){return y==null?!1:y[c]===d&&(d!==n||c in Tn(y))}}function oD(c){var d=Mm(c,function(E){return y.size===f&&y.clear(),E}),y=d.cache;return d}function lD(c,d){var y=c[1],E=d[1],D=y|E,W=D<(R|N|O),j=E==O&&y==T||E==O&&y==z&&c[7].length<=d[8]||E==(O|z)&&d[7].length<=d[8]&&y==T;if(!(W||j))return c;E&R&&(c[2]=d[2],D|=y&R?0:x);var ne=d[3];if(ne){var de=c[3];c[3]=de?g7(de,ne,d[4]):ne,c[4]=de?Ra(c[3],p):d[4]}return ne=d[5],ne&&(de=c[5],c[5]=de?_7(de,ne,d[6]):ne,c[6]=de?Ra(c[5],p):d[6]),ne=d[7],ne&&(c[7]=ne),E&O&&(c[8]=c[8]==null?d[8]:F(c[8],d[8])),c[9]==null&&(c[9]=d[9]),c[0]=d[0],c[1]=D,c}function uD(c){var d=[];if(c!=null)for(var y in Tn(c))d.push(y);return d}function cD(c){return Dl.call(c)}function O7(c,d,y){return d=C(d===n?c.length-1:d,0),function(){for(var E=arguments,D=-1,W=C(E.length-d,0),j=we(W);++D<W;)j[D]=E[d+D];D=-1;for(var ne=we(d+1);++D<d;)ne[D]=E[D];return ne[d]=y(j),jn(c,this,ne)}}function D7(c,d){return d.length<2?c:r0(c,La(d,0,-1))}function fD(c,d){for(var y=c.length,E=F(d.length,y),D=Zs(c);E--;){var W=d[E];c[E]=Hl(W,y)?D[W]:n}return c}function f2(c,d){if(!(d==="constructor"&&typeof c[d]=="function")&&d!="__proto__")return c[d]}var B7=F7(a7),Uh=Pv||function(c,d){return pr.setTimeout(c,d)},h2=F7(LO);function z7(c,d,y){var E=d+"";return h2(c,nD(E,hD(QO(E),y)))}function F7(c){var d=0,y=0;return function(){var E=Q(),D=ie-(E-y);if(y=E,D>0){if(++d>=J)return arguments[0]}else d=0;return c.apply(n,arguments)}}function Sm(c,d){var y=-1,E=c.length,D=E-1;for(d=d===n?E:d;++y<d;){var W=Zv(y,D),j=c[W];c[W]=c[y],c[y]=j}return c.length=d,c}var U7=oD(function(c){var d=[];return c.charCodeAt(0)===46&&d.push(""),c.replace(Nn,function(y,E,D,W){d.push(D?W.replace(Bs,"$1"):E||y)}),d});function Xo(c){if(typeof c=="string"||ma(c))return c;var d=c+"";return d=="0"&&1/c==-V?"-0":d}function s0(c){if(c!=null){try{return Go.call(c)}catch{}try{return c+""}catch{}}return""}function hD(c,d){return si(xe,function(y){var E="_."+y[0];d&y[1]&&!Ca(c,E)&&c.push(E)}),c.sort()}function q7(c){if(c instanceof nn)return c.clone();var d=new ns(c.__wrapped__,c.__chain__);return d.__actions__=Zs(c.__actions__),d.__index__=c.__index__,d.__values__=c.__values__,d}function dD(c,d,y){(y?vs(c,d,y):d===n)?d=1:d=C(Zt(d),0);var E=c==null?0:c.length;if(!E||d<1)return[];for(var D=0,W=0,j=we(jc(E/d));D<E;)j[W++]=La(c,D,D+=d);return j}function pD(c){for(var d=-1,y=c==null?0:c.length,E=0,D=[];++d<y;){var W=c[d];W&&(D[E++]=W)}return D}function mD(){var c=arguments.length;if(!c)return[];for(var d=we(c-1),y=arguments[0],E=c;E--;)d[E-1]=arguments[E];return Gr(Wt(y)?Zs(y):[y],$i(d,1))}var gD=rn(function(c,d){return Vr(c)?Lh(c,$i(d,1,Vr,!0)):[]}),_D=rn(function(c,d){var y=Oa(d);return Vr(y)&&(y=n),Vr(c)?Lh(c,$i(d,1,Vr,!0),xt(y,2)):[]}),vD=rn(function(c,d){var y=Oa(d);return Vr(y)&&(y=n),Vr(c)?Lh(c,$i(d,1,Vr,!0),n,y):[]});function yD(c,d,y){var E=c==null?0:c.length;return E?(d=y||d===n?1:Zt(d),La(c,d<0?0:d,E)):[]}function bD(c,d,y){var E=c==null?0:c.length;return E?(d=y||d===n?1:Zt(d),d=E-d,La(c,0,d<0?0:d)):[]}function wD(c,d){return c&&c.length?mm(c,xt(d,3),!0,!0):[]}function xD(c,d){return c&&c.length?mm(c,xt(d,3),!0):[]}function SD(c,d,y,E){var D=c==null?0:c.length;return D?(y&&typeof y!="number"&&vs(c,d,y)&&(y=0,E=D),mO(c,d,y,E)):[]}function H7(c,d,y){var E=c==null?0:c.length;if(!E)return-1;var D=y==null?0:Zt(y);return D<0&&(D=C(E+D,0)),ps(c,xt(d,3),D)}function W7(c,d,y){var E=c==null?0:c.length;if(!E)return-1;var D=E-1;return y!==n&&(D=Zt(y),D=y<0?C(E+D,0):F(D,E-1)),ps(c,xt(d,3),D,!0)}function $7(c){var d=c==null?0:c.length;return d?$i(c,1):[]}function TD(c){var d=c==null?0:c.length;return d?$i(c,V):[]}function kD(c,d){var y=c==null?0:c.length;return y?(d=d===n?1:Zt(d),$i(c,d)):[]}function ED(c){for(var d=-1,y=c==null?0:c.length,E={};++d<y;){var D=c[d];E[D[0]]=D[1]}return E}function G7(c){return c&&c.length?c[0]:n}function MD(c,d,y){var E=c==null?0:c.length;if(!E)return-1;var D=y==null?0:Zt(y);return D<0&&(D=C(E+D,0)),qi(c,d,D)}function CD(c){var d=c==null?0:c.length;return d?La(c,0,-1):[]}var AD=rn(function(c){var d=wn(c,Qv);return d.length&&d[0]===c[0]?Wv(d):[]}),ID=rn(function(c){var d=Oa(c),y=wn(c,Qv);return d===Oa(y)?d=n:y.pop(),y.length&&y[0]===c[0]?Wv(y,xt(d,2)):[]}),RD=rn(function(c){var d=Oa(c),y=wn(c,Qv);return d=typeof d=="function"?d:n,d&&y.pop(),y.length&&y[0]===c[0]?Wv(y,n,d):[]});function PD(c,d){return c==null?"":_.call(c,d)}function Oa(c){var d=c==null?0:c.length;return d?c[d-1]:n}function ND(c,d,y){var E=c==null?0:c.length;if(!E)return-1;var D=E;return y!==n&&(D=Zt(y),D=D<0?C(E+D,0):F(D,E-1)),d===d?Ah(c,d,D):ps(c,Jr,D,!0)}function LD(c,d){return c&&c.length?n7(c,Zt(d)):n}var OD=rn(V7);function V7(c,d){return c&&c.length&&d&&d.length?Yv(c,d):c}function DD(c,d,y){return c&&c.length&&d&&d.length?Yv(c,d,xt(y,2)):c}function BD(c,d,y){return c&&c.length&&d&&d.length?Yv(c,d,n,y):c}var zD=ql(function(c,d){var y=c==null?0:c.length,E=Fv(c,d);return s7(c,wn(d,function(D){return Hl(D,y)?+D:D}).sort(m7)),E});function FD(c,d){var y=[];if(!(c&&c.length))return y;var E=-1,D=[],W=c.length;for(d=xt(d,3);++E<W;){var j=c[E];d(j,E,c)&&(y.push(j),D.push(E))}return s7(c,D),y}function d2(c){return c==null?c:Pe.call(c)}function UD(c,d,y){var E=c==null?0:c.length;return E?(y&&typeof y!="number"&&vs(c,d,y)?(d=0,y=E):(d=d==null?0:Zt(d),y=y===n?E:Zt(y)),La(c,d,y)):[]}function qD(c,d){return pm(c,d)}function HD(c,d,y){return jv(c,d,xt(y,2))}function WD(c,d){var y=c==null?0:c.length;if(y){var E=pm(c,d);if(E<y&&fo(c[E],d))return E}return-1}function $D(c,d){return pm(c,d,!0)}function GD(c,d,y){return jv(c,d,xt(y,2),!0)}function VD(c,d){var y=c==null?0:c.length;if(y){var E=pm(c,d,!0)-1;if(fo(c[E],d))return E}return-1}function YD(c){return c&&c.length?o7(c):[]}function ZD(c,d){return c&&c.length?o7(c,xt(d,2)):[]}function XD(c){var d=c==null?0:c.length;return d?La(c,1,d):[]}function jD(c,d,y){return c&&c.length?(d=y||d===n?1:Zt(d),La(c,0,d<0?0:d)):[]}function KD(c,d,y){var E=c==null?0:c.length;return E?(d=y||d===n?1:Zt(d),d=E-d,La(c,d<0?0:d,E)):[]}function JD(c,d){return c&&c.length?mm(c,xt(d,3),!1,!0):[]}function QD(c,d){return c&&c.length?mm(c,xt(d,3)):[]}var eB=rn(function(c){return Xu($i(c,1,Vr,!0))}),tB=rn(function(c){var d=Oa(c);return Vr(d)&&(d=n),Xu($i(c,1,Vr,!0),xt(d,2))}),nB=rn(function(c){var d=Oa(c);return d=typeof d=="function"?d:n,Xu($i(c,1,Vr,!0),n,d)});function rB(c){return c&&c.length?Xu(c):[]}function iB(c,d){return c&&c.length?Xu(c,xt(d,2)):[]}function sB(c,d){return d=typeof d=="function"?d:n,c&&c.length?Xu(c,n,d):[]}function p2(c){if(!(c&&c.length))return[];var d=0;return c=hs(c,function(y){if(Vr(y))return d=C(y.length,d),!0}),Fu(d,function(y){return wn(c,so(y))})}function Y7(c,d){if(!(c&&c.length))return[];var y=p2(c);return d==null?y:wn(y,function(E){return jn(d,n,E)})}var aB=rn(function(c,d){return Vr(c)?Lh(c,d):[]}),oB=rn(function(c){return Jv(hs(c,Vr))}),lB=rn(function(c){var d=Oa(c);return Vr(d)&&(d=n),Jv(hs(c,Vr),xt(d,2))}),uB=rn(function(c){var d=Oa(c);return d=typeof d=="function"?d:n,Jv(hs(c,Vr),n,d)}),cB=rn(p2);function fB(c,d){return f7(c||[],d||[],Nh)}function hB(c,d){return f7(c||[],d||[],Bh)}var dB=rn(function(c){var d=c.length,y=d>1?c[d-1]:n;return y=typeof y=="function"?(c.pop(),y):n,Y7(c,y)});function Z7(c){var d=q(c);return d.__chain__=!0,d}function pB(c,d){return d(c),c}function Tm(c,d){return d(c)}var mB=ql(function(c){var d=c.length,y=d?c[0]:0,E=this.__wrapped__,D=function(W){return Fv(W,c)};return d>1||this.__actions__.length||!(E instanceof nn)||!Hl(y)?this.thru(D):(E=E.slice(y,+y+(d?1:0)),E.__actions__.push({func:Tm,args:[D],thisArg:n}),new ns(E,this.__chain__).thru(function(W){return d&&!W.length&&W.push(n),W}))});function gB(){return Z7(this)}function _B(){return new ns(this.value(),this.__chain__)}function vB(){this.__values__===n&&(this.__values__=lw(this.value()));var c=this.__index__>=this.__values__.length,d=c?n:this.__values__[this.__index__++];return{done:c,value:d}}function yB(){return this}function bB(c){for(var d,y=this;y instanceof tf;){var E=q7(y);E.__index__=0,E.__values__=n,d?D.__wrapped__=E:d=E;var D=E;y=y.__wrapped__}return D.__wrapped__=c,d}function wB(){var c=this.__wrapped__;if(c instanceof nn){var d=c;return this.__actions__.length&&(d=new nn(this)),d=d.reverse(),d.__actions__.push({func:Tm,args:[d2],thisArg:n}),new ns(d,this.__chain__)}return this.thru(d2)}function xB(){return c7(this.__wrapped__,this.__actions__)}var SB=gm(function(c,d,y){cn.call(c,y)?++c[y]:Fl(c,y,1)});function TB(c,d,y){var E=Wt(c)?Al:pO;return y&&vs(c,d,y)&&(d=n),E(c,xt(d,3))}function kB(c,d){var y=Wt(c)?hs:Y6;return y(c,xt(d,3))}var EB=w7(H7),MB=w7(W7);function CB(c,d){return $i(km(c,d),1)}function AB(c,d){return $i(km(c,d),V)}function IB(c,d,y){return y=y===n?1:Zt(y),$i(km(c,d),y)}function X7(c,d){var y=Wt(c)?si:Zu;return y(c,xt(d,3))}function j7(c,d){var y=Wt(c)?Ws:V6;return y(c,xt(d,3))}var RB=gm(function(c,d,y){cn.call(c,y)?c[y].push(d):Fl(c,y,[d])});function PB(c,d,y,E){c=Xs(c)?c:of(c),y=y&&!E?Zt(y):0;var D=c.length;return y<0&&(y=C(D+y,0)),Im(c)?y<=D&&c.indexOf(d,y)>-1:!!D&&qi(c,d,y)>-1}var NB=rn(function(c,d,y){var E=-1,D=typeof d=="function",W=Xs(c)?we(c.length):[];return Zu(c,function(j){W[++E]=D?jn(d,j,y):Oh(j,d,y)}),W}),LB=gm(function(c,d,y){Fl(c,y,d)});function km(c,d){var y=Wt(c)?wn:Q6;return y(c,xt(d,3))}function OB(c,d,y,E){return c==null?[]:(Wt(d)||(d=d==null?[]:[d]),y=E?n:y,Wt(y)||(y=y==null?[]:[y]),r7(c,d,y))}var DB=gm(function(c,d,y){c[y?0:1].push(d)},function(){return[[],[]]});function BB(c,d,y){var E=Wt(c)?Il:Hi,D=arguments.length<3;return E(c,xt(d,4),y,D,Zu)}function zB(c,d,y){var E=Wt(c)?qc:Hi,D=arguments.length<3;return E(c,xt(d,4),y,D,V6)}function FB(c,d){var y=Wt(c)?hs:Y6;return y(c,Cm(xt(d,3)))}function UB(c){var d=Wt(c)?H6:PO;return d(c)}function qB(c,d,y){(y?vs(c,d,y):d===n)?d=1:d=Zt(d);var E=Wt(c)?uO:NO;return E(c,d)}function HB(c){var d=Wt(c)?cO:OO;return d(c)}function WB(c){if(c==null)return 0;if(Xs(c))return Im(c)?bi(c):c.length;var d=rs(c);return d==Ge||d==Lt?c.size:Gv(c).length}function $B(c,d,y){var E=Wt(c)?Bo:DO;return y&&vs(c,d,y)&&(d=n),E(c,xt(d,3))}var GB=rn(function(c,d){if(c==null)return[];var y=d.length;return y>1&&vs(c,d[0],d[1])?d=[]:y>2&&vs(d[0],d[1],d[2])&&(d=[d[0]]),r7(c,$i(d,1),[])}),Em=lm||function(){return pr.Date.now()};function VB(c,d){if(typeof d!="function")throw new oi(a);return c=Zt(c),function(){if(--c<1)return d.apply(this,arguments)}}function K7(c,d,y){return d=y?n:d,d=c&&d==null?c.length:d,Ul(c,O,n,n,n,n,d)}function J7(c,d){var y;if(typeof d!="function")throw new oi(a);return c=Zt(c),function(){return--c>0&&(y=d.apply(this,arguments)),c<=1&&(d=n),y}}var m2=rn(function(c,d,y){var E=R;if(y.length){var D=Ra(y,sf(m2));E|=I}return Ul(c,E,d,y,D)}),Q7=rn(function(c,d,y){var E=R|N;if(y.length){var D=Ra(y,sf(Q7));E|=I}return Ul(d,E,c,y,D)});function ew(c,d,y){d=y?n:d;var E=Ul(c,T,n,n,n,n,n,d);return E.placeholder=ew.placeholder,E}function tw(c,d,y){d=y?n:d;var E=Ul(c,M,n,n,n,n,n,d);return E.placeholder=tw.placeholder,E}function nw(c,d,y){var E,D,W,j,ne,de,ke=0,Ee=!1,Oe=!1,je=!0;if(typeof c!="function")throw new oi(a);d=Da(d)||0,xr(y)&&(Ee=!!y.leading,Oe="maxWait"in y,W=Oe?C(Da(y.maxWait)||0,d):W,je="trailing"in y?!!y.trailing:je);function ut(Yr){var ho=E,Gl=D;return E=D=n,ke=Yr,j=c.apply(Gl,ho),j}function Tt(Yr){return ke=Yr,ne=Uh(fn,d),Ee?ut(Yr):j}function Jt(Yr){var ho=Yr-de,Gl=Yr-ke,ww=d-ho;return Oe?F(ww,W-Gl):ww}function kt(Yr){var ho=Yr-de,Gl=Yr-ke;return de===n||ho>=d||ho<0||Oe&&Gl>=W}function fn(){var Yr=Em();if(kt(Yr))return gn(Yr);ne=Uh(fn,Jt(Yr))}function gn(Yr){return ne=n,je&&E?ut(Yr):(E=D=n,j)}function ga(){ne!==n&&h7(ne),ke=0,E=de=D=ne=n}function ys(){return ne===n?j:gn(Em())}function _a(){var Yr=Em(),ho=kt(Yr);if(E=arguments,D=this,de=Yr,ho){if(ne===n)return Tt(de);if(Oe)return h7(ne),ne=Uh(fn,d),ut(de)}return ne===n&&(ne=Uh(fn,d)),j}return _a.cancel=ga,_a.flush=ys,_a}var YB=rn(function(c,d){return G6(c,1,d)}),ZB=rn(function(c,d,y){return G6(c,Da(d)||0,y)});function XB(c){return Ul(c,$)}function Mm(c,d){if(typeof c!="function"||d!=null&&typeof d!="function")throw new oi(a);var y=function(){var E=arguments,D=d?d.apply(this,E):E[0],W=y.cache;if(W.has(D))return W.get(D);var j=c.apply(this,E);return y.cache=W.set(D,j)||W,j};return y.cache=new(Mm.Cache||zl),y}Mm.Cache=zl;function Cm(c){if(typeof c!="function")throw new oi(a);return function(){var d=arguments;switch(d.length){case 0:return!c.call(this);case 1:return!c.call(this,d[0]);case 2:return!c.call(this,d[0],d[1]);case 3:return!c.call(this,d[0],d[1],d[2])}return!c.apply(this,d)}}function jB(c){return J7(2,c)}var KB=BO(function(c,d){d=d.length==1&&Wt(d[0])?wn(d[0],qn(xt())):wn($i(d,1),qn(xt()));var y=d.length;return rn(function(E){for(var D=-1,W=F(E.length,y);++D<W;)E[D]=d[D].call(this,E[D]);return jn(c,this,E)})}),g2=rn(function(c,d){var y=Ra(d,sf(g2));return Ul(c,I,n,d,y)}),rw=rn(function(c,d){var y=Ra(d,sf(rw));return Ul(c,P,n,d,y)}),JB=ql(function(c,d){return Ul(c,z,n,n,n,d)});function QB(c,d){if(typeof c!="function")throw new oi(a);return d=d===n?d:Zt(d),rn(c,d)}function ez(c,d){if(typeof c!="function")throw new oi(a);return d=d==null?0:C(Zt(d),0),rn(function(y){var E=y[d],D=Ku(y,0,d);return E&&Gr(D,E),jn(c,this,D)})}function tz(c,d,y){var E=!0,D=!0;if(typeof c!="function")throw new oi(a);return xr(y)&&(E="leading"in y?!!y.leading:E,D="trailing"in y?!!y.trailing:D),nw(c,d,{leading:E,maxWait:d,trailing:D})}function nz(c){return K7(c,1)}function rz(c,d){return g2(e2(d),c)}function iz(){if(!arguments.length)return[];var c=arguments[0];return Wt(c)?c:[c]}function sz(c){return Na(c,v)}function az(c,d){return d=typeof d=="function"?d:n,Na(c,v,d)}function oz(c){return Na(c,m|v)}function lz(c,d){return d=typeof d=="function"?d:n,Na(c,m|v,d)}function uz(c,d){return d==null||$6(c,d,Si(d))}function fo(c,d){return c===d||c!==c&&d!==d}var cz=bm(Hv),fz=bm(function(c,d){return c>=d}),a0=j6(function(){return arguments}())?j6:function(c){return Dr(c)&&cn.call(c,"callee")&&!Gs.call(c,"callee")},Wt=we.isArray,hz=Do?qn(Do):bO;function Xs(c){return c!=null&&Am(c.length)&&!Wl(c)}function Vr(c){return Dr(c)&&Xs(c)}function dz(c){return c===!0||c===!1||Dr(c)&&_s(c)==Fe}var Ju=o||M2,pz=Du?qn(Du):wO;function mz(c){return Dr(c)&&c.nodeType===1&&!qh(c)}function gz(c){if(c==null)return!0;if(Xs(c)&&(Wt(c)||typeof c=="string"||typeof c.splice=="function"||Ju(c)||af(c)||a0(c)))return!c.length;var d=rs(c);if(d==Ge||d==Lt)return!c.size;if(Fh(c))return!Gv(c).length;for(var y in c)if(cn.call(c,y))return!1;return!0}function _z(c,d){return Dh(c,d)}function vz(c,d,y){y=typeof y=="function"?y:n;var E=y?y(c,d):n;return E===n?Dh(c,d,n,y):!!E}function _2(c){if(!Dr(c))return!1;var d=_s(c);return d==Ae||d==Ie||typeof c.message=="string"&&typeof c.name=="string"&&!qh(c)}function yz(c){return typeof c=="number"&&h(c)}function Wl(c){if(!xr(c))return!1;var d=_s(c);return d==ve||d==Ue||d==Le||d==Ft}function iw(c){return typeof c=="number"&&c==Zt(c)}function Am(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Y}function xr(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}function Dr(c){return c!=null&&typeof c=="object"}var sw=Cl?qn(Cl):SO;function bz(c,d){return c===d||$v(c,d,o2(d))}function wz(c,d,y){return y=typeof y=="function"?y:n,$v(c,d,o2(d),y)}function xz(c){return aw(c)&&c!=+c}function Sz(c){if(aD(c))throw new At(s);return K6(c)}function Tz(c){return c===null}function kz(c){return c==null}function aw(c){return typeof c=="number"||Dr(c)&&_s(c)==nt}function qh(c){if(!Dr(c)||_s(c)!=ht)return!1;var d=Pa(c);if(d===null)return!0;var y=cn.call(d,"constructor")&&d.constructor;return typeof y=="function"&&y instanceof y&&Go.call(y)==Vo}var v2=Fc?qn(Fc):TO;function Ez(c){return iw(c)&&c>=-Y&&c<=Y}var ow=Hs?qn(Hs):kO;function Im(c){return typeof c=="string"||!Wt(c)&&Dr(c)&&_s(c)==Hn}function ma(c){return typeof c=="symbol"||Dr(c)&&_s(c)==Qt}var af=Uc?qn(Uc):EO;function Mz(c){return c===n}function Cz(c){return Dr(c)&&rs(c)==_r}function Az(c){return Dr(c)&&_s(c)==vn}var Iz=bm(Vv),Rz=bm(function(c,d){return c<=d});function lw(c){if(!c)return[];if(Xs(c))return Im(c)?wi(c):Zs(c);if(Vs&&c[Vs])return qo(c[Vs]());var d=rs(c),y=d==Ge?qu:d==Lt?ts:of;return y(c)}function $l(c){if(!c)return c===0?c:0;if(c=Da(c),c===V||c===-V){var d=c<0?-1:1;return d*he}return c===c?c:0}function Zt(c){var d=$l(c),y=d%1;return d===d?y?d-y:d:0}function uw(c){return c?n0(Zt(c),0,ye):0}function Da(c){if(typeof c=="number")return c;if(ma(c))return re;if(xr(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=xr(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=Uu(c);var y=fr.test(c);return y||hr.test(c)?Lo(c.slice(2),y?2:8):Ki.test(c)?re:+c}function cw(c){return Zo(c,js(c))}function Pz(c){return c?n0(Zt(c),-Y,Y):c===0?c:0}function On(c){return c==null?"":pa(c)}var Nz=nf(function(c,d){if(Fh(d)||Xs(d)){Zo(d,Si(d),c);return}for(var y in d)cn.call(d,y)&&Nh(c,y,d[y])}),fw=nf(function(c,d){Zo(d,js(d),c)}),Rm=nf(function(c,d,y,E){Zo(d,js(d),c,E)}),Lz=nf(function(c,d,y,E){Zo(d,Si(d),c,E)}),Oz=ql(Fv);function Dz(c,d){var y=Yu(c);return d==null?y:W6(y,d)}var Bz=rn(function(c,d){c=Tn(c);var y=-1,E=d.length,D=E>2?d[2]:n;for(D&&vs(d[0],d[1],D)&&(E=1);++y<E;)for(var W=d[y],j=js(W),ne=-1,de=j.length;++ne<de;){var ke=j[ne],Ee=c[ke];(Ee===n||fo(Ee,$o[ke])&&!cn.call(c,ke))&&(c[ke]=W[ke])}return c}),zz=rn(function(c){return c.push(n,C7),jn(hw,n,c)});function Fz(c,d){return fa(c,xt(d,3),Yo)}function Uz(c,d){return fa(c,xt(d,3),qv)}function qz(c,d){return c==null?c:Uv(c,xt(d,3),js)}function Hz(c,d){return c==null?c:Z6(c,xt(d,3),js)}function Wz(c,d){return c&&Yo(c,xt(d,3))}function $z(c,d){return c&&qv(c,xt(d,3))}function Gz(c){return c==null?[]:hm(c,Si(c))}function Vz(c){return c==null?[]:hm(c,js(c))}function y2(c,d,y){var E=c==null?n:r0(c,d);return E===n?y:E}function Yz(c,d){return c!=null&&R7(c,d,gO)}function b2(c,d){return c!=null&&R7(c,d,_O)}var Zz=S7(function(c,d,y){d!=null&&typeof d.toString!="function"&&(d=Dl.call(d)),c[d]=y},x2(Ks)),Xz=S7(function(c,d,y){d!=null&&typeof d.toString!="function"&&(d=Dl.call(d)),cn.call(c,d)?c[d].push(y):c[d]=[y]},xt),jz=rn(Oh);function Si(c){return Xs(c)?q6(c):Gv(c)}function js(c){return Xs(c)?q6(c,!0):MO(c)}function Kz(c,d){var y={};return d=xt(d,3),Yo(c,function(E,D,W){Fl(y,d(E,D,W),E)}),y}function Jz(c,d){var y={};return d=xt(d,3),Yo(c,function(E,D,W){Fl(y,D,d(E,D,W))}),y}var Qz=nf(function(c,d,y){dm(c,d,y)}),hw=nf(function(c,d,y,E){dm(c,d,y,E)}),eF=ql(function(c,d){var y={};if(c==null)return y;var E=!1;d=wn(d,function(W){return W=ju(W,c),E||(E=W.length>1),W}),Zo(c,s2(c),y),E&&(y=Na(y,m|g|v,ZO));for(var D=d.length;D--;)Kv(y,d[D]);return y});function tF(c,d){return dw(c,Cm(xt(d)))}var nF=ql(function(c,d){return c==null?{}:AO(c,d)});function dw(c,d){if(c==null)return{};var y=wn(s2(c),function(E){return[E]});return d=xt(d),i7(c,y,function(E,D){return d(E,D[0])})}function rF(c,d,y){d=ju(d,c);var E=-1,D=d.length;for(D||(D=1,c=n);++E<D;){var W=c==null?n:c[Xo(d[E])];W===n&&(E=D,W=y),c=Wl(W)?W.call(c):W}return c}function iF(c,d,y){return c==null?c:Bh(c,d,y)}function sF(c,d,y,E){return E=typeof E=="function"?E:n,c==null?c:Bh(c,d,y,E)}var pw=E7(Si),mw=E7(js);function aF(c,d,y){var E=Wt(c),D=E||Ju(c)||af(c);if(d=xt(d,4),y==null){var W=c&&c.constructor;D?y=E?new W:[]:xr(c)?y=Wl(W)?Yu(Pa(c)):{}:y={}}return(D?si:Yo)(c,function(j,ne,de){return d(y,j,ne,de)}),y}function oF(c,d){return c==null?!0:Kv(c,d)}function lF(c,d,y){return c==null?c:u7(c,d,e2(y))}function uF(c,d,y,E){return E=typeof E=="function"?E:n,c==null?c:u7(c,d,e2(y),E)}function of(c){return c==null?[]:$s(c,Si(c))}function cF(c){return c==null?[]:$s(c,js(c))}function fF(c,d,y){return y===n&&(y=d,d=n),y!==n&&(y=Da(y),y=y===y?y:0),d!==n&&(d=Da(d),d=d===d?d:0),n0(Da(c),d,y)}function hF(c,d,y){return d=$l(d),y===n?(y=d,d=0):y=$l(y),c=Da(c),vO(c,d,y)}function dF(c,d,y){if(y&&typeof y!="boolean"&&vs(c,d,y)&&(d=y=n),y===n&&(typeof d=="boolean"?(y=d,d=n):typeof c=="boolean"&&(y=c,c=n)),c===n&&d===n?(c=0,d=1):(c=$l(c),d===n?(d=c,c=0):d=$l(d)),c>d){var E=c;c=d,d=E}if(y||c%1||d%1){var D=be();return F(c+D*(d-c+Ou("1e-"+((D+"").length-1))),d)}return Zv(c,d)}var pF=rf(function(c,d,y){return d=d.toLowerCase(),c+(y?gw(d):d)});function gw(c){return w2(On(c).toLowerCase())}function _w(c){return c=On(c),c&&c.replace(er,$c).replace(Fi,"")}function mF(c,d,y){c=On(c),d=pa(d);var E=c.length;y=y===n?E:n0(Zt(y),0,E);var D=y;return y-=d.length,y>=0&&c.slice(y,D)==d}function gF(c){return c=On(c),c&&Ir.test(c)?c.replace(Ar,Fo):c}function _F(c){return c=On(c),c&&Rr.test(c)?c.replace(ni,"\\$&"):c}var vF=rf(function(c,d,y){return c+(y?"-":"")+d.toLowerCase()}),yF=rf(function(c,d,y){return c+(y?" ":"")+d.toLowerCase()}),bF=b7("toLowerCase");function wF(c,d,y){c=On(c),d=Zt(d);var E=d?bi(c):0;if(!d||E>=d)return c;var D=(d-E)/2;return ym(Kc(D),y)+c+ym(jc(D),y)}function xF(c,d,y){c=On(c),d=Zt(d);var E=d?bi(c):0;return d&&E<d?c+ym(d-E,y):c}function SF(c,d,y){c=On(c),d=Zt(d);var E=d?bi(c):0;return d&&E<d?ym(d-E,y)+c:c}function TF(c,d,y){return y||d==null?d=0:d&&(d=+d),ge(On(c).replace(_i,""),d||0)}function kF(c,d,y){return(y?vs(c,d,y):d===n)?d=1:d=Zt(d),Xv(On(c),d)}function EF(){var c=arguments,d=On(c[0]);return c.length<3?d:d.replace(c[1],c[2])}var MF=rf(function(c,d,y){return c+(y?"_":"")+d.toLowerCase()});function CF(c,d,y){return y&&typeof y!="number"&&vs(c,d,y)&&(d=y=n),y=y===n?ye:y>>>0,y?(c=On(c),c&&(typeof d=="string"||d!=null&&!v2(d))&&(d=pa(d),!d&&Ia(c))?Ku(wi(c),0,y):c.split(d,y)):[]}var AF=rf(function(c,d,y){return c+(y?" ":"")+w2(d)});function IF(c,d,y){return c=On(c),y=y==null?0:n0(Zt(y),0,c.length),d=pa(d),c.slice(y,y+d.length)==d}function RF(c,d,y){var E=q.templateSettings;y&&vs(c,d,y)&&(d=n),c=On(c),d=Rm({},d,E,M7);var D=Rm({},d.imports,E.imports,M7),W=Si(D),j=$s(D,W),ne,de,ke=0,Ee=d.interpolate||vi,Oe="__p += '",je=Zc((d.escape||vi).source+"|"+Ee.source+"|"+(Ee===Oi?Nr:vi).source+"|"+(d.evaluate||vi).source+"|$","g"),ut="//# sourceURL="+(cn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ma+"]")+`
`;c.replace(je,function(kt,fn,gn,ga,ys,_a){return gn||(gn=ga),Oe+=c.slice(ke,_a).replace(Xn,Uo),fn&&(ne=!0,Oe+=`' +
__e(`+fn+`) +
'`),ys&&(de=!0,Oe+=`';
`+ys+`;
__p += '`),gn&&(Oe+=`' +
((__t = (`+gn+`)) == null ? '' : __t) +
'`),ke=_a+kt.length,kt}),Oe+=`';
`;var Tt=cn.call(d,"variable")&&d.variable;if(!Tt)Oe=`with (obj) {
`+Oe+`
}
`;else if(us.test(Tt))throw new At(l);Oe=(de?Oe.replace(Cr,""):Oe).replace(ti,"$1").replace(Xr,"$1;"),Oe="function("+(Tt||"obj")+`) {
`+(Tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var Jt=yw(function(){return pn(W,ut+"return "+Oe).apply(n,j)});if(Jt.source=Oe,_2(Jt))throw Jt;return Jt}function PF(c){return On(c).toLowerCase()}function NF(c){return On(c).toUpperCase()}function LF(c,d,y){if(c=On(c),c&&(y||d===n))return Uu(c);if(!c||!(d=pa(d)))return c;var E=wi(c),D=wi(d),W=ms(E,D),j=gs(E,D)+1;return Ku(E,W,j).join("")}function OF(c,d,y){if(c=On(c),c&&(y||d===n))return c.slice(0,Gc(c)+1);if(!c||!(d=pa(d)))return c;var E=wi(c),D=gs(E,wi(d))+1;return Ku(E,0,D).join("")}function DF(c,d,y){if(c=On(c),c&&(y||d===n))return c.replace(_i,"");if(!c||!(d=pa(d)))return c;var E=wi(c),D=ms(E,wi(d));return Ku(E,D).join("")}function BF(c,d){var y=ee,E=G;if(xr(d)){var D="separator"in d?d.separator:D;y="length"in d?Zt(d.length):y,E="omission"in d?pa(d.omission):E}c=On(c);var W=c.length;if(Ia(c)){var j=wi(c);W=j.length}if(y>=W)return c;var ne=y-bi(E);if(ne<1)return E;var de=j?Ku(j,0,ne).join(""):c.slice(0,ne);if(D===n)return de+E;if(j&&(ne+=de.length-ne),v2(D)){if(c.slice(ne).search(D)){var ke,Ee=de;for(D.global||(D=Zc(D.source,On(Un.exec(D))+"g")),D.lastIndex=0;ke=D.exec(Ee);)var Oe=ke.index;de=de.slice(0,Oe===n?ne:Oe)}}else if(c.indexOf(pa(D),ne)!=ne){var je=de.lastIndexOf(D);je>-1&&(de=de.slice(0,je))}return de+E}function zF(c){return c=On(c),c&&Qn.test(c)?c.replace(yr,Vc):c}var FF=rf(function(c,d,y){return c+(y?" ":"")+d.toUpperCase()}),w2=b7("toUpperCase");function vw(c,d,y){return c=On(c),d=y?n:d,d===n?qt(c)?$u(c):ds(c):c.match(d)||[]}var yw=rn(function(c,d){try{return jn(c,n,d)}catch(y){return _2(y)?y:new At(y)}}),UF=ql(function(c,d){return si(d,function(y){y=Xo(y),Fl(c,y,m2(c[y],c))}),c});function qF(c){var d=c==null?0:c.length,y=xt();return c=d?wn(c,function(E){if(typeof E[1]!="function")throw new oi(a);return[y(E[0]),E[1]]}):[],rn(function(E){for(var D=-1;++D<d;){var W=c[D];if(jn(W[0],this,E))return jn(W[1],this,E)}})}function HF(c){return dO(Na(c,m))}function x2(c){return function(){return c}}function WF(c,d){return c==null||c!==c?d:c}var $F=x7(),GF=x7(!0);function Ks(c){return c}function S2(c){return J6(typeof c=="function"?c:Na(c,m))}function VF(c){return e7(Na(c,m))}function YF(c,d){return t7(c,Na(d,m))}var ZF=rn(function(c,d){return function(y){return Oh(y,c,d)}}),XF=rn(function(c,d){return function(y){return Oh(c,y,d)}});function T2(c,d,y){var E=Si(d),D=hm(d,E);y==null&&!(xr(d)&&(D.length||!E.length))&&(y=d,d=c,c=this,D=hm(d,Si(d)));var W=!(xr(y)&&"chain"in y)||!!y.chain,j=Wl(c);return si(D,function(ne){var de=d[ne];c[ne]=de,j&&(c.prototype[ne]=function(){var ke=this.__chain__;if(W||ke){var Ee=c(this.__wrapped__),Oe=Ee.__actions__=Zs(this.__actions__);return Oe.push({func:de,args:arguments,thisArg:c}),Ee.__chain__=ke,Ee}return de.apply(c,Gr([this.value()],arguments))})}),c}function jF(){return pr._===this&&(pr._=Rh),this}function k2(){}function KF(c){return c=Zt(c),rn(function(d){return n7(d,c)})}var JF=n2(wn),QF=n2(Al),eU=n2(Bo);function bw(c){return u2(c)?so(Xo(c)):IO(c)}function tU(c){return function(d){return c==null?n:r0(c,d)}}var nU=T7(),rU=T7(!0);function E2(){return[]}function M2(){return!1}function iU(){return{}}function sU(){return""}function aU(){return!0}function oU(c,d){if(c=Zt(c),c<1||c>Y)return[];var y=ye,E=F(c,ye);d=xt(d),c-=ye;for(var D=Fu(E,d);++y<c;)d(y);return D}function lU(c){return Wt(c)?wn(c,Xo):ma(c)?[c]:Zs(U7(On(c)))}function uU(c){var d=++Ih;return On(c)+d}var cU=vm(function(c,d){return c+d},0),fU=r2("ceil"),hU=vm(function(c,d){return c/d},1),dU=r2("floor");function pU(c){return c&&c.length?fm(c,Ks,Hv):n}function mU(c,d){return c&&c.length?fm(c,xt(d,2),Hv):n}function gU(c){return Rl(c,Ks)}function _U(c,d){return Rl(c,xt(d,2))}function vU(c){return c&&c.length?fm(c,Ks,Vv):n}function yU(c,d){return c&&c.length?fm(c,xt(d,2),Vv):n}var bU=vm(function(c,d){return c*d},1),wU=r2("round"),xU=vm(function(c,d){return c-d},0);function SU(c){return c&&c.length?Nl(c,Ks):0}function TU(c,d){return c&&c.length?Nl(c,xt(d,2)):0}return q.after=VB,q.ary=K7,q.assign=Nz,q.assignIn=fw,q.assignInWith=Rm,q.assignWith=Lz,q.at=Oz,q.before=J7,q.bind=m2,q.bindAll=UF,q.bindKey=Q7,q.castArray=iz,q.chain=Z7,q.chunk=dD,q.compact=pD,q.concat=mD,q.cond=qF,q.conforms=HF,q.constant=x2,q.countBy=SB,q.create=Dz,q.curry=ew,q.curryRight=tw,q.debounce=nw,q.defaults=Bz,q.defaultsDeep=zz,q.defer=YB,q.delay=ZB,q.difference=gD,q.differenceBy=_D,q.differenceWith=vD,q.drop=yD,q.dropRight=bD,q.dropRightWhile=wD,q.dropWhile=xD,q.fill=SD,q.filter=kB,q.flatMap=CB,q.flatMapDeep=AB,q.flatMapDepth=IB,q.flatten=$7,q.flattenDeep=TD,q.flattenDepth=kD,q.flip=XB,q.flow=$F,q.flowRight=GF,q.fromPairs=ED,q.functions=Gz,q.functionsIn=Vz,q.groupBy=RB,q.initial=CD,q.intersection=AD,q.intersectionBy=ID,q.intersectionWith=RD,q.invert=Zz,q.invertBy=Xz,q.invokeMap=NB,q.iteratee=S2,q.keyBy=LB,q.keys=Si,q.keysIn=js,q.map=km,q.mapKeys=Kz,q.mapValues=Jz,q.matches=VF,q.matchesProperty=YF,q.memoize=Mm,q.merge=Qz,q.mergeWith=hw,q.method=ZF,q.methodOf=XF,q.mixin=T2,q.negate=Cm,q.nthArg=KF,q.omit=eF,q.omitBy=tF,q.once=jB,q.orderBy=OB,q.over=JF,q.overArgs=KB,q.overEvery=QF,q.overSome=eU,q.partial=g2,q.partialRight=rw,q.partition=DB,q.pick=nF,q.pickBy=dw,q.property=bw,q.propertyOf=tU,q.pull=OD,q.pullAll=V7,q.pullAllBy=DD,q.pullAllWith=BD,q.pullAt=zD,q.range=nU,q.rangeRight=rU,q.rearg=JB,q.reject=FB,q.remove=FD,q.rest=QB,q.reverse=d2,q.sampleSize=qB,q.set=iF,q.setWith=sF,q.shuffle=HB,q.slice=UD,q.sortBy=GB,q.sortedUniq=YD,q.sortedUniqBy=ZD,q.split=CF,q.spread=ez,q.tail=XD,q.take=jD,q.takeRight=KD,q.takeRightWhile=JD,q.takeWhile=QD,q.tap=pB,q.throttle=tz,q.thru=Tm,q.toArray=lw,q.toPairs=pw,q.toPairsIn=mw,q.toPath=lU,q.toPlainObject=cw,q.transform=aF,q.unary=nz,q.union=eB,q.unionBy=tB,q.unionWith=nB,q.uniq=rB,q.uniqBy=iB,q.uniqWith=sB,q.unset=oF,q.unzip=p2,q.unzipWith=Y7,q.update=lF,q.updateWith=uF,q.values=of,q.valuesIn=cF,q.without=aB,q.words=vw,q.wrap=rz,q.xor=oB,q.xorBy=lB,q.xorWith=uB,q.zip=cB,q.zipObject=fB,q.zipObjectDeep=hB,q.zipWith=dB,q.entries=pw,q.entriesIn=mw,q.extend=fw,q.extendWith=Rm,T2(q,q),q.add=cU,q.attempt=yw,q.camelCase=pF,q.capitalize=gw,q.ceil=fU,q.clamp=fF,q.clone=sz,q.cloneDeep=oz,q.cloneDeepWith=lz,q.cloneWith=az,q.conformsTo=uz,q.deburr=_w,q.defaultTo=WF,q.divide=hU,q.endsWith=mF,q.eq=fo,q.escape=gF,q.escapeRegExp=_F,q.every=TB,q.find=EB,q.findIndex=H7,q.findKey=Fz,q.findLast=MB,q.findLastIndex=W7,q.findLastKey=Uz,q.floor=dU,q.forEach=X7,q.forEachRight=j7,q.forIn=qz,q.forInRight=Hz,q.forOwn=Wz,q.forOwnRight=$z,q.get=y2,q.gt=cz,q.gte=fz,q.has=Yz,q.hasIn=b2,q.head=G7,q.identity=Ks,q.includes=PB,q.indexOf=MD,q.inRange=hF,q.invoke=jz,q.isArguments=a0,q.isArray=Wt,q.isArrayBuffer=hz,q.isArrayLike=Xs,q.isArrayLikeObject=Vr,q.isBoolean=dz,q.isBuffer=Ju,q.isDate=pz,q.isElement=mz,q.isEmpty=gz,q.isEqual=_z,q.isEqualWith=vz,q.isError=_2,q.isFinite=yz,q.isFunction=Wl,q.isInteger=iw,q.isLength=Am,q.isMap=sw,q.isMatch=bz,q.isMatchWith=wz,q.isNaN=xz,q.isNative=Sz,q.isNil=kz,q.isNull=Tz,q.isNumber=aw,q.isObject=xr,q.isObjectLike=Dr,q.isPlainObject=qh,q.isRegExp=v2,q.isSafeInteger=Ez,q.isSet=ow,q.isString=Im,q.isSymbol=ma,q.isTypedArray=af,q.isUndefined=Mz,q.isWeakMap=Cz,q.isWeakSet=Az,q.join=PD,q.kebabCase=vF,q.last=Oa,q.lastIndexOf=ND,q.lowerCase=yF,q.lowerFirst=bF,q.lt=Iz,q.lte=Rz,q.max=pU,q.maxBy=mU,q.mean=gU,q.meanBy=_U,q.min=vU,q.minBy=yU,q.stubArray=E2,q.stubFalse=M2,q.stubObject=iU,q.stubString=sU,q.stubTrue=aU,q.multiply=bU,q.nth=LD,q.noConflict=jF,q.noop=k2,q.now=Em,q.pad=wF,q.padEnd=xF,q.padStart=SF,q.parseInt=TF,q.random=dF,q.reduce=BB,q.reduceRight=zB,q.repeat=kF,q.replace=EF,q.result=rF,q.round=wU,q.runInContext=ue,q.sample=UB,q.size=WB,q.snakeCase=MF,q.some=$B,q.sortedIndex=qD,q.sortedIndexBy=HD,q.sortedIndexOf=WD,q.sortedLastIndex=$D,q.sortedLastIndexBy=GD,q.sortedLastIndexOf=VD,q.startCase=AF,q.startsWith=IF,q.subtract=xU,q.sum=SU,q.sumBy=TU,q.template=RF,q.times=oU,q.toFinite=$l,q.toInteger=Zt,q.toLength=uw,q.toLower=PF,q.toNumber=Da,q.toSafeInteger=Pz,q.toString=On,q.toUpper=NF,q.trim=LF,q.trimEnd=OF,q.trimStart=DF,q.truncate=BF,q.unescape=zF,q.uniqueId=uU,q.upperCase=FF,q.upperFirst=w2,q.each=X7,q.eachRight=j7,q.first=G7,T2(q,function(){var c={};return Yo(q,function(d,y){cn.call(q.prototype,y)||(c[y]=d)}),c}(),{chain:!1}),q.VERSION=r,si(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){q[c].placeholder=q}),si(["drop","take"],function(c,d){nn.prototype[c]=function(y){y=y===n?1:C(Zt(y),0);var E=this.__filtered__&&!d?new nn(this):this.clone();return E.__filtered__?E.__takeCount__=F(y,E.__takeCount__):E.__views__.push({size:F(y,ye),type:c+(E.__dir__<0?"Right":"")}),E},nn.prototype[c+"Right"]=function(y){return this.reverse()[c](y).reverse()}}),si(["filter","map","takeWhile"],function(c,d){var y=d+1,E=y==se||y==ae;nn.prototype[c]=function(D){var W=this.clone();return W.__iteratees__.push({iteratee:xt(D,3),type:y}),W.__filtered__=W.__filtered__||E,W}}),si(["head","last"],function(c,d){var y="take"+(d?"Right":"");nn.prototype[c]=function(){return this[y](1).value()[0]}}),si(["initial","tail"],function(c,d){var y="drop"+(d?"":"Right");nn.prototype[c]=function(){return this.__filtered__?new nn(this):this[y](1)}}),nn.prototype.compact=function(){return this.filter(Ks)},nn.prototype.find=function(c){return this.filter(c).head()},nn.prototype.findLast=function(c){return this.reverse().find(c)},nn.prototype.invokeMap=rn(function(c,d){return typeof c=="function"?new nn(this):this.map(function(y){return Oh(y,c,d)})}),nn.prototype.reject=function(c){return this.filter(Cm(xt(c)))},nn.prototype.slice=function(c,d){c=Zt(c);var y=this;return y.__filtered__&&(c>0||d<0)?new nn(y):(c<0?y=y.takeRight(-c):c&&(y=y.drop(c)),d!==n&&(d=Zt(d),y=d<0?y.dropRight(-d):y.take(d-c)),y)},nn.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},nn.prototype.toArray=function(){return this.take(ye)},Yo(nn.prototype,function(c,d){var y=/^(?:filter|find|map|reject)|While$/.test(d),E=/^(?:head|last)$/.test(d),D=q[E?"take"+(d=="last"?"Right":""):d],W=E||/^find/.test(d);D&&(q.prototype[d]=function(){var j=this.__wrapped__,ne=E?[1]:arguments,de=j instanceof nn,ke=ne[0],Ee=de||Wt(j),Oe=function(fn){var gn=D.apply(q,Gr([fn],ne));return E&&je?gn[0]:gn};Ee&&y&&typeof ke=="function"&&ke.length!=1&&(de=Ee=!1);var je=this.__chain__,ut=!!this.__actions__.length,Tt=W&&!je,Jt=de&&!ut;if(!W&&Ee){j=Jt?j:new nn(this);var kt=c.apply(j,ne);return kt.__actions__.push({func:Tm,args:[Oe],thisArg:n}),new ns(kt,je)}return Tt&&Jt?c.apply(this,ne):(kt=this.thru(Oe),Tt?E?kt.value()[0]:kt.value():kt)})}),si(["pop","push","shift","sort","splice","unshift"],function(c){var d=Gu[c],y=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",E=/^(?:pop|shift)$/.test(c);q.prototype[c]=function(){var D=arguments;if(E&&!this.__chain__){var W=this.value();return d.apply(Wt(W)?W:[],D)}return this[y](function(j){return d.apply(Wt(j)?j:[],D)})}}),Yo(nn.prototype,function(c,d){var y=q[d];if(y){var E=y.name+"";cn.call(da,E)||(da[E]=[]),da[E].push({name:d,func:y})}}),da[_m(n,N).name]=[{name:"wrapper",func:n}],nn.prototype.clone=Bv,nn.prototype.reverse=FL,nn.prototype.value=UL,q.prototype.at=mB,q.prototype.chain=gB,q.prototype.commit=_B,q.prototype.next=vB,q.prototype.plant=bB,q.prototype.reverse=wB,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=xB,q.prototype.first=q.prototype.head,Vs&&(q.prototype[Vs]=yB),q},tr=br();Kr?((Kr.exports=tr)._=tr,yi._=tr):pr._=tr}).call(tu)})(e_,e_.exports);var Zue=e_.exports;function fS(t){let e,n,r=t[4]==null?"...":t[4].features.length+" Region/States",i,s,a,l;return{c(){e=ce("button"),n=ze("FocusedCountry : "),i=ze(r),X(e,"class",s="ui button small "+(t[4]==null?"orange  loading":"green"))},m(u,f){Nt(u,e,f),U(e,n),U(e,i),a||(l=ft(e,"click",t[14]),a=!0)},p(u,f){f&16&&r!==(r=u[4]==null?"...":u[4].features.length+" Region/States")&&Ht(i,r),f&16&&s!==(s="ui button small "+(u[4]==null?"orange  loading":"green"))&&X(e,"class",s)},d(u){u&&_t(e),a=!1,l()}}}function hS(t){let e,n,r=t[2]==null?"...":t[2].id+" ("+t[2].features.length+")",i,s,a,l;return{c(){e=ce("button"),n=ze("IMTgrid : "),i=ze(r),X(e,"class",s="ui button small "+(t[2]==null?"orange ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(u,f){Nt(u,e,f),U(e,n),U(e,i),a||(l=ft(e,"click",t[15]),a=!0)},p(u,f){f&4&&r!==(r=u[2]==null?"...":u[2].id+" ("+u[2].features.length+")")&&Ht(i,r),f&12&&s!==(s="ui button small "+(u[2]==null?"orange ":"green")+" "+(u[3]!=null)+"?'loading':''")&&X(e,"class",s)},d(u){u&&_t(e),a=!1,l()}}}function dS(t){let e,n,r=t[5]==null?"...":t[5].name+" ("+t[5].features.length+")",i,s,a,l;return{c(){e=ce("button"),n=ze("SatAntenna : "),i=ze(r),X(e,"class",s="ui button small "+(t[5]==null?"orange  loading":"green"))},m(u,f){Nt(u,e,f),U(e,n),U(e,i),a||(l=ft(e,"click",t[16]),a=!0)},p(u,f){f&32&&r!==(r=u[5]==null?"...":u[5].name+" ("+u[5].features.length+")")&&Ht(i,r),f&32&&s!==(s="ui button small "+(u[5]==null?"orange  loading":"green"))&&X(e,"class",s)},d(u){u&&_t(e),a=!1,l()}}}function Xue(t){let e,n,r=(t[0]==null?"...":t[0].length)+"",i,s,a,l,u,f,p,m,g=t[6].FocusCountry.disabled!=!0&&fS(t),v=t[6].IMTgrid.disabled!=!0&&hS(t),b=t[6].SatAntenna.disabled!=!0&&dS(t);return{c(){e=ce("button"),n=ze("WorldMap : "),i=ze(r),a=Te(),g&&g.c(),l=Te(),v&&v.c(),u=Te(),b&&b.c(),f=h_(),X(e,"class",s="ui button small "+(t[0]==null?"orange  loading":"green"))},m(k,R){Nt(k,e,R),U(e,n),U(e,i),Nt(k,a,R),g&&g.m(k,R),Nt(k,l,R),v&&v.m(k,R),Nt(k,u,R),b&&b.m(k,R),Nt(k,f,R),p||(m=ft(e,"click",t[13]),p=!0)},p(k,[R]){R&1&&r!==(r=(k[0]==null?"...":k[0].length)+"")&&Ht(i,r),R&1&&s!==(s="ui button small "+(k[0]==null?"orange  loading":"green"))&&X(e,"class",s),k[6].FocusCountry.disabled!=!0?g?g.p(k,R):(g=fS(k),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),k[6].IMTgrid.disabled!=!0?v?v.p(k,R):(v=hS(k),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null),k[6].SatAntenna.disabled!=!0?b?b.p(k,R):(b=dS(k),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},i:Pn,o:Pn,d(k){k&&_t(e),k&&_t(a),g&&g.d(k),k&&_t(l),v&&v.d(k),k&&_t(u),b&&b.d(k),k&&_t(f),p=!1,m()}}}let jue="/fss/";function Kue(t,e,n){let r,i;x0(t,J0,O=>n(3,r=O)),x0(t,gp,O=>n(12,i=O)),console.log("asd");let{mapData:s={GlobalMap:{},FocusCountry:{},IMTMap:{},FSSMap:void 0,SatelliteBeam:{},hasFSSPattern:!1,visibleRegion:[]}}=e,a,{mergedworlds:l=void 0}=e,u,f,{logger:p=null}=e,m=["Asia","Oceania"],g={WorldMap:{localpath:"/common/mergedworlds.topojson.json",fspath:"/mergedworlds.topojson.json",type:"json"},FocusCountry:{localpath:"/focused/country/australia.json",fspath:"/australia/australia.json",type:"json"},IMTgrid:{localpath:"/focused/imt/australiaIMTgrid.json",fspath:"/australia/australiaIMTgrid.json",type:"json"},SatAntenna:{localpath:"/focused/fss/SatAntGain.csv",fspath:"/india/GSATgains.csv",type:"csv"}},{SatelliteBeam:v}=e,b={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5,Name:"AsiaSat"};Od(()=>{});let{countries:k=[]}=e;Od(()=>{let O=Object.keys(g);console.log("Processing keys ",O),O.forEach(z=>{var $=g[z].fspath=="";n(6,g[z].disabled=g[z].disabled||$,g)})});async function R(O){let z="Path Error "+O,$=g[O];{if(r!=null)z=await KP(jue+$.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",z)}return z}async function N(){let O=Object.keys(g);return console.log("Processing keys ",O),n(7,s.visibleRegion=m,s),O.forEach(z=>{switch(n(6,g[z].disabled=g[z].disabled||!1,g),z){case"WorldMap":R("WorldMap").then($=>{var ee=H2($);ee.then(G=>{let J=G.filter(ie=>ie.properties.UNRegion!=null);return J=J.map((ie,se)=>(ie.properties.selected=!1,ie.properties.hasIMTgrid=!1,ie.properties.RaRbFactor=!0,ie.properties.indx=se,ie)),n(0,l=J),n(7,s.GlobalMap=l,s),Array.from(new Set(l.map(ie=>ie.properties.UNRegion))),n(9,k=G1(Array.from(new Set(l.map((ie,se)=>({Country:ie.properties.NAMEen,Region:ie.properties.UNRegion,selected:ie.selected||!1,mapGridIndx:se})))),ie=>ie.Region,ie=>ie.Country)),J}),p.showStatus("WorldMap",ee)}).catch($=>{p.appendNode("WorldMap",$.toString())});break;case"FocusCountry":if(g.FocusCountry.disabled==!0)break;R("FocusCountry").then($=>{console.log("Solving ","FocusCountry",$);var ee=H2($);ee.then(G=>(n(7,s.FocusCountry=G,s),n(4,a=G),G)),p.showStatus("FocusCountry",ee)}).catch($=>{p.appendNode("FocusCountry",$.toString())});break;case"IMTgrid":if(g.IMTgrid.disabled==!0)break;R("IMTgrid").then($=>{console.log("Solving ","IMTgrid",$);var ee=H2($);ee.then(G=>(n(2,u=G),n(7,s.IMTMap=G,s),G)),p.showStatus("IMTgrid",ee)}).catch($=>{p.appendNode("IMTgrid",$.toString())});break;case"SatAntenna":if(n(7,s.hasFSSPattern=!1,s),g.SatAntenna.disabled==!0)break;R("SatAntenna").then($=>{console.log("Solving ","SatAntenna",$);var ee=Gk($,pb).then(G=>(n(5,f=x(G)),n(7,s.FSSMap=f,s),n(7,s.hasFSSPattern=!0,s),f));p.showStatus("SatAntenna",ee)}).catch($=>{p.appendNode("SatAntenna",$.toString())});break}}),console.log("Loading files..."),status}function x(O){let z=O.filter(J=>J.AntennaGain>20),$=Yi(z.map(J=>Ts([J.Longitude,J.Latitude],{FSSRxGain:J.AntennaGain})));$.properties={OffsetGain:-2,EdgeOffsetGain:-3};let ee=uN($,{concavity:2});ee.properties={beamtype:"points",hasPoints:!0,OffsetGain:0,EdgeOffsetGain:-3,name:"GSAT boundary"};let G=Yi([ee,$]);return G.bounds=_p($),G.beamtype="pointgrid",G.name="GSAT India Beam",console.log("Processing DONE ",G),G}const T=()=>{p.queueNode("WorldMap",l,{type:"json"})},M=()=>{p.queueNode("FocusCountry",a,{type:"json"})},I=()=>{p.queueNode("IMTgrid",u,{type:"json"})},P=()=>{console.log("loading ..",f.name),p.queueNode("SatAntenna",f,{type:"json"})};return t.$$set=O=>{"mapData"in O&&n(7,s=O.mapData),"mergedworlds"in O&&n(0,l=O.mergedworlds),"logger"in O&&n(1,p=O.logger),"SatelliteBeam"in O&&n(8,v=O.SatelliteBeam),"countries"in O&&n(9,k=O.countries)},t.$$.update=()=>{if(t.$$.dirty&5&&u!=null&&l!=null){let O=u.id,z=l.findIndex($=>$.properties.NAMEen==O);z!=-1&&(n(0,l[z].properties.hasIMTgrid=!0,l),n(0,l[z].properties.RaRbFactor=!1,l),n(0,l[z].properties.IMTgrid=u,l))}if(t.$$.dirty&4104&&(console.log("Calling RTDB"),r!=null)){let O=i;JP(O).then(z=>{console.log("getData() : FilePaths = ",O,z),n(6,g=z.MapData),n(11,m=z.visibleRegion||[]),console.log("Visiable path getData ",z.visibleRegion),N()}).catch(z=>console.log("Error : getData error",z))}t.$$.dirty&2049&&l!=null&&S1(l,O=>m.includes(O.properties.UNRegion))},n(8,v=b),n(7,s.SatelliteBeam=b,s),[l,p,u,r,a,f,g,s,v,k,N,m,i,T,M,I,P]}class Jue extends Mu{constructor(e){super(),Eu(this,e,Kue,Xue,Za,{mapData:7,mergedworlds:0,logger:1,SatelliteBeam:8,countries:9,loadFiles:10})}get loadFiles(){return this.$$.ctx[10]}}const Que=t=>({}),pS=t=>({}),ece=t=>({}),mS=t=>({});function tce(t){let e,n,r,i,s,a,l,u,f,p,m,g,v,b,k,R,N,x,T,M,I,P,O,z,$,ee,G,J,ie,se,te,ae,V,Y,he,re,ye,me,Ne,xe,Ce,Me,Le,Fe,pe,Ie,Ae,ve,Ue,Ge,nt,Re,ht,vt,Ft,yt,Lt,Hn,Qt,cr,_r,vn,Yn,_n,vr,Zn;const qr=t[13].header,Sn=Sw(qr,t,t[12],mS),lr=t[13].meta,yn=Sw(lr,t,t[12],pS);return{c(){e=ce("link"),n=Te(),r=ce("dialog"),Sn&&Sn.c(),i=Te(),s=ze(t[1]),a=Te(),l=ce("div"),u=Te(),f=ce("div"),p=ce("div"),m=ce("div"),g=ce("div"),v=ce("div"),b=ce("div"),k=ce("label"),k.textContent="FSS Rx Gain (dBi)",R=Te(),N=ce("input"),x=Te(),T=ce("input"),M=Te(),I=ce("div"),P=ce("label"),P.textContent="Beam (Lng)",O=Te(),z=ce("input"),$=Te(),ee=ce("input"),G=Te(),J=ce("div"),ie=ce("label"),ie.textContent="Beam (Lat)",se=Te(),te=ce("input"),ae=Te(),V=ce("input"),Y=Te(),he=ce("div"),re=ce("label"),re.textContent="Footprint majorAxis (BMx)",ye=Te(),me=ce("input"),Ne=Te(),xe=ce("input"),Ce=Te(),Me=ce("div"),Le=ce("label"),Le.textContent="Footprint majorAxis (BMy)",Fe=Te(),pe=ce("input"),Ie=Te(),Ae=ce("input"),ve=Te(),Ue=ce("div"),Ge=ce("label"),Ge.textContent="Global Footprint Rotate",nt=Te(),Re=ce("input"),ht=Te(),vt=ce("input"),Ft=Te(),yt=ce("div"),Lt=ce("div"),Hn=ce("div"),Hn.textContent="Placeholder",Qt=Te(),cr=ce("div"),_r=Te(),yn&&yn.c(),vn=Te(),Yn=ce("button"),Yn.textContent="close modal",document.title="IMT interference to FSS Analysis 2",X(e,"rel","stylesheet"),X(e,"href","../static/css/semantic.min.css"),X(l,"class","ui divider svelte-1imfldp"),X(N,"type","number"),X(N,"step","1"),X(N,"min","10"),X(N,"max","40"),X(T,"type","range"),X(T,"step","1"),X(T,"min","10"),X(T,"max","40"),X(b,"class","field"),X(z,"type","number"),X(z,"min","0,"),X(z,"max","150"),X(z,"step","0.5"),z.disabled=!0,X(z,"size","5"),nu(z,"width","50px"),X(ee,"type","range"),X(ee,"min","0,"),X(ee,"max","150"),X(ee,"step","0.5"),ee.disabled=!0,X(I,"class","field"),X(te,"type","number"),X(te,"min","-90"),X(te,"max","90"),X(te,"step","0.5"),X(te,"size","14"),X(V,"type","range"),X(V,"step","0.5"),X(V,"min","-90"),X(V,"max","90"),X(V,"size","14"),X(J,"class","field"),X(me,"type","number"),X(me,"step","0.5"),X(me,"min","10"),X(me,"max","90"),X(xe,"type","range"),X(xe,"step","0.5"),X(xe,"min","10"),X(xe,"max","90"),X(he,"class","field"),X(pe,"type","number"),X(pe,"step","0.5"),X(pe,"min","1"),X(pe,"max","90"),X(Ae,"type","range"),X(Ae,"step","0.5"),X(Ae,"min","1"),X(Ae,"max","90"),X(Me,"class","field"),X(Re,"type","number"),X(Re,"step","0.5"),X(Re,"min","-90"),X(Re,"max","90"),X(vt,"type","range"),X(vt,"step","0.5"),X(vt,"min","-90"),X(vt,"max","90"),X(Ue,"class","field"),X(v,"class","ui fields one column grid"),X(g,"class","ui basic segment teal inverted"),X(m,"class","six wide column"),X(Hn,"id","plot"),X(Lt,"class","ui container segment teal"),X(yt,"class","ten wide column"),X(p,"class","ui two column divided grid"),X(cr,"class","ui divider"),X(f,"class","ui basic segment svelte-1imfldp"),X(Yn,"class","ui primary button floating"),Yn.autofocus=!0,X(r,"class","svelte-1imfldp")},m(ot,en){U(document.head,e),Nt(ot,n,en),Nt(ot,r,en),Sn&&Sn.m(r,null),U(r,i),U(r,s),U(r,a),U(r,l),U(r,u),U(r,f),U(f,p),U(p,m),U(m,g),U(g,v),U(v,b),U(b,k),U(b,R),U(b,N),Gt(N,t[0]),U(b,x),U(b,T),Gt(T,t[0]),U(v,M),U(v,I),U(I,P),U(I,O),U(I,z),Gt(z,t[3].BeamLng),U(I,$),U(I,ee),Gt(ee,t[3].BeamLng),U(v,G),U(v,J),U(J,ie),U(J,se),U(J,te),Gt(te,t[3].BeamLat),U(J,ae),U(J,V),Gt(V,t[3].BeamLat),U(v,Y),U(v,he),U(he,re),U(he,ye),U(he,me),Gt(me,t[3].rx),U(he,Ne),U(he,xe),Gt(xe,t[3].rx),U(v,Ce),U(v,Me),U(Me,Le),U(Me,Fe),U(Me,pe),Gt(pe,t[3].ry),U(Me,Ie),U(Me,Ae),Gt(Ae,t[3].ry),U(v,ve),U(v,Ue),U(Ue,Ge),U(Ue,nt),U(Ue,Re),Gt(Re,t[3].theta),U(Ue,ht),U(Ue,vt),Gt(vt,t[3].theta),U(p,Ft),U(p,yt),U(yt,Lt),U(Lt,Hn),t[26](Hn),U(f,Qt),U(f,cr),U(f,_r),yn&&yn.m(f,null),U(r,vn),U(r,Yn),t[28](r),_n=!0,Yn.focus(),vr||(Zn=[ft(N,"input",t[14]),ft(T,"change",t[15]),ft(T,"input",t[15]),ft(z,"input",t[16]),ft(ee,"change",t[17]),ft(ee,"input",t[17]),ft(te,"input",t[18]),ft(V,"change",t[19]),ft(V,"input",t[19]),ft(me,"input",t[20]),ft(xe,"change",t[21]),ft(xe,"input",t[21]),ft(pe,"input",t[22]),ft(Ae,"change",t[23]),ft(Ae,"input",t[23]),ft(Re,"input",t[24]),ft(vt,"change",t[25]),ft(vt,"input",t[25]),ft(Yn,"click",t[27]),ft(r,"close",t[5]),ft(r,"click",PU(t[5]))],vr=!0)},p(ot,[en]){Sn&&Sn.p&&(!_n||en&4096)&&kw(Sn,qr,ot,ot[12],_n?Tw(qr,ot[12],en,ece):Ew(ot[12]),mS),(!_n||en&2)&&Ht(s,ot[1]),en&1&&zn(N.value)!==ot[0]&&Gt(N,ot[0]),en&1&&Gt(T,ot[0]),en&8&&zn(z.value)!==ot[3].BeamLng&&Gt(z,ot[3].BeamLng),en&8&&Gt(ee,ot[3].BeamLng),en&8&&zn(te.value)!==ot[3].BeamLat&&Gt(te,ot[3].BeamLat),en&8&&Gt(V,ot[3].BeamLat),en&8&&zn(me.value)!==ot[3].rx&&Gt(me,ot[3].rx),en&8&&Gt(xe,ot[3].rx),en&8&&zn(pe.value)!==ot[3].ry&&Gt(pe,ot[3].ry),en&8&&Gt(Ae,ot[3].ry),en&8&&zn(Re.value)!==ot[3].theta&&Gt(Re,ot[3].theta),en&8&&Gt(vt,ot[3].theta),yn&&yn.p&&(!_n||en&4096)&&kw(yn,lr,ot,ot[12],_n?Tw(lr,ot[12],en,Que):Ew(ot[12]),pS)},i(ot){_n||(ta(Sn,ot),ta(yn,ot),_n=!0)},o(ot){va(Sn,ot),va(yn,ot),_n=!1},d(ot){_t(e),ot&&_t(n),ot&&_t(r),Sn&&Sn.d(ot),t[26](null),yn&&yn.d(ot),t[28](null),vr=!1,Ac(Zn)}}}function nce(t,e,n){let{$$slots:r={},$$scope:i}=e,{showModal:s}=e,a,{defaultFootprint:l=void 0}=e,{SatelliteBeam:u}=e,f={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5},{reference:p={}}=e,{SatRxGain:m=20}=e,g=null;Od(()=>{n(7,l=b(u,m)),k(l),n(8,u=f)});function v(){console.log("update() Fn Called "),n(7,l=b(f,m))}function b(V,Y){let he=Gue([V.BeamLng,V.BeamLat],V.rx,V.ry,{units:"degrees",steps:96,angle:V.theta,properties:{beamtype:"shapedbeams",FSSRxGain:Y,OffsetGain:0,EdgeOffsetGain:-50,beamCenter:[V.BeamLng,V.BeamLat],angle:V.theta,rx:V.rx,ry:V.ry}});Zue.reverse(he.geometry.coordinates[0]);let re;return re=Yi([he]),re.beamtype="shapedbeams",re.name="Global Footprint",re.properties={angle:V.theta,rx:V.rx,ry:V.ry,beamCenter:[V.BeamLng,V.BeamLat]},re}async function k(V){if(g==null||f==null||s==!1){console.log("Skip rendering beam");return}console.log("drawPattern() : ");let Y=rl({projection:{type:"orthographic",rotate:[-f.BeamLng,0]},color:{legend:!0,domain:[10,40],type:"linear",scheme:"BuRd",nice:!0,marginLeft:30,label:"FSS Rx Gain (dBi)",marginRight:30,width:300},marginLeft:0,marginTop:0,marks:[yI(),bI(),Qo(p,{stroke:"grey",fill:"white",fillOpacity:.1}),Qo(V,{fill:he=>m,stroke:"orange",fillOpacity:.5})]});n(4,g.innerHTML="",g),g.append(Y)}let{satAngle:R}=e;function N(){n(6,s=!1),a.close(),n(8,u=f),n(7,l=b(f))}function x(){m=zn(this.value),n(0,m)}function T(){m=zn(this.value),n(0,m)}function M(){f.BeamLng=zn(this.value),n(3,f)}function I(){f.BeamLng=zn(this.value),n(3,f)}function P(){f.BeamLat=zn(this.value),n(3,f)}function O(){f.BeamLat=zn(this.value),n(3,f)}function z(){f.rx=zn(this.value),n(3,f)}function $(){f.rx=zn(this.value),n(3,f)}function ee(){f.ry=zn(this.value),n(3,f)}function G(){f.ry=zn(this.value),n(3,f)}function J(){f.theta=zn(this.value),n(3,f)}function ie(){f.theta=zn(this.value),n(3,f)}function se(V){Pt[V?"unshift":"push"](()=>{g=V,n(4,g)})}const te=()=>a.close();function ae(V){Pt[V?"unshift":"push"](()=>{a=V,n(2,a)})}return t.$$set=V=>{"showModal"in V&&n(6,s=V.showModal),"defaultFootprint"in V&&n(7,l=V.defaultFootprint),"SatelliteBeam"in V&&n(8,u=V.SatelliteBeam),"reference"in V&&n(9,p=V.reference),"SatRxGain"in V&&n(0,m=V.SatRxGain),"satAngle"in V&&n(1,R=V.satAngle),"$$scope"in V&&n(12,i=V.$$scope)},t.$$.update=()=>{t.$$.dirty&68&&a&&s&&a.showModal(),t.$$.dirty&603&&(g!=null&&s==!0?k(b(f,m)):n(7,l=b(f,m)))},[m,R,a,f,g,N,s,l,u,p,v,b,i,r,x,T,M,I,P,O,z,$,ee,G,J,ie,se,te,ae]}class rce extends Mu{constructor(e){super(),Eu(this,e,nce,tce,Za,{showModal:6,defaultFootprint:7,SatelliteBeam:8,reference:9,SatRxGain:0,update:10,createFootPrint:11,satAngle:1})}get update(){return this.$$.ctx[10]}get createFootPrint(){return this.$$.ctx[11]}}function ice(t){let e,n,r,i,s,a;return{c(){e=ce("button"),e.textContent="RePlot",n=Te(),r=ce("div"),X(e,"class","ui primary button"),X(r,"class",""),qa(()=>t[21].call(r))},m(l,u){Nt(l,e,u),Nt(l,n,u),Nt(l,r,u),t[20](r),i=W1(r,t[21].bind(r)),s||(a=ft(e,"click",t[2]),s=!0)},p:Pn,i:Pn,o:Pn,d(l){l&&_t(e),l&&_t(n),l&&_t(r),t[20](null),i(),s=!1,a()}}}function sce(t,e,n){let{showModal:r}=e,i,s,a=null,{N0:l}=e;function u(){n(0,a.innerHTML="",a),a.append(I),a.append(i),a.append(s),a.append(J),a.append(P)}let{binnedData:f,stats:p,gainloss:m}=e,{satAngle:g,cr:v,factor:b,Raindx:k,Rbindx:R,SatGainScale:N}=e,x=1,{totalI:T}=e,M,I,P;function O(){if(f==null)return;x=b.UrbSurbRatio;let ae=rr(f,he=>he.totalareasqkm)*b.Urban.Ra*b.Urban.Rb*b.Urban.BSdensity+rr(f,he=>he.totalIMTBS*x),V=rr(f,he=>he.totalareasqkm)*b.SubUrban.Ra*b.SubUrban.Rb*b.SubUrban.BSdensity+rr(f,he=>he.totalIMTBS*(1-x)),Y=ae+V;n(17,I=rl({width:M,marginLeft:0,marks:[hf(f,{y:he=>he.totalareasqkm*b.Urban.Ra*b.Urban.Rb*b.Urban.BSdensity+he.totalIMTBS*x,title:he=>(he.totalareasqkm*b.Urban.Ra*b.Urban.Rb*b.Urban.BSdensity+he.totalIMTBS*x).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:he=>v(he.x)}),hf(f,{y:he=>he.totalareasqkm*b.SubUrban.Ra*b.SubUrban.Rb*b.SubUrban.BSdensity+he.totalIMTBS*(1-x),title:he=>(he.totalIMTBS*(1-x)+he.totalareasqkm*b.SubUrban.Ra*b.SubUrban.Rb*b.SubUrban.BSdensity).toFixed(1),rotate:-90,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:he=>v(he.x)}),h0(f,{y:he=>he.totalareasqkm*b.Urban.Ra*b.Urban.Rb*b.Urban.BSdensity+he.totalIMTBS*x,text:he=>{var re=he.totalareasqkm*b.Urban.Ra*b.Urban.Rb*b.Urban.BSdensity+he.totalIMTBS*x;return re>100?kr("2.2~s")(re):kr(".0f")(Math.floor(re))},rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:he=>N(he.maxRxGain)})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:he=>Math.floor(he)},y:{nice:!0,tickRotate:-40,label:"BS/SectorCount (Ra*Rb*Density)"},caption:`P3 Satellite${g} | Total ${kr("2.2~s")(Y)} -(${ae.toFixed(0)}+${V.toFixed(0)} )Active :${kr("2.1~s")(Y*b.TDD*b.NW)} | Ra${k.val+1}(${b.Urban.Ra*100}%),Rb${R.val+1}
    (${b.Urban.Rb*100}%)`}))}function z(ae){var V=m.find(Y=>Y.el==ae);return V!=null?V.CL+V.GL+V.PL:0}function $(ae){var V=m.find(Y=>Y.el==ae);return V!=null?{UrbanAg:V.UrbanAg,SubUrbanAg:V.SubUrbanAg}:{UrbanAg:0,SubUrbanAg:0}}function ee(){if(p==null||m==null||f==null)return;let ae=Is(f,V=>V.x);n(18,P=rl({width:M,marks:[hf(p,{marker:"dot",y:V=>V.suburbandB+$(V.x).SubUrbanAg-z(V.x)-l,title:V=>V.suburbandB+$(V.x).SubUrbanAg-z(V.x)-l,x:"x",fill:V=>v(V.x)}),Qm(p,{marker:"dot",y:V=>V.urbandB+$(V.x).UrbanAg-z(V.x)-l,title:V=>V.urbandB+$(V.x).UrbanAg-z(V.x)-l,stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),h0(p,{marker:"dot",y:V=>V.suburbandB+$(V.x).SubUrbanAg-z(V.x)-l,text:V=>(V.suburbandB+$(V.x).SubUrbanAg-z(V.x)-l).toFixed(0),dy:-5,x:"x"}),xd(m,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red"}),xd(m,{x:"el",y:"SubUrbanAg",marker:"dot",stroke:"grey"}),jy(T,{y:V=>V.I-l,stroke:"Env",title:V=>V.I-l})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:Es(ae[0],ae[1]+1),tickFormat:V=>Math.floor(V)},color:{legend:!1},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`P6 : Satellite angle is ${g}`}))}function G(){if(f==null)return;f.map(V=>V.x);let ae=kr("2.3~s")(rr(f,V=>V.totalareasqkm));n(15,i=rl({width:M,marks:[hf(f,{y:"count",x:"x",fill:V=>v(V.x),title:V=>V.x}),h0(f,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:V=>V.x})],grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:V=>Math.floor(V)},y:{label:"Number of 1degree grid",nice:!0},caption:`P1 grids vs Elev. angle @ Satellite ${g} `})),n(16,s=rl({width:M,marks:[hf(f,{title:V=>V.totalareasqkm+V.totalIMTareasqkm,y:V=>V.totalareasqkm+V.totalIMTareasqkm,x:"x",cumulative:!1,fill:V=>v(V.x)}),h0(f,{text:V=>kr(".2~s")(V.totalareasqkm+V.totalIMTareasqkm),y:V=>V.totalareasqkm+V.totalIMTareasqkm,x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},caption:`P2 Satellite angle is ${g} | Total Area: ${ae} sqkm`}))}let J;function ie(){if(m==null||f==null)return;var ae=g;let V=Is(f,Y=>Y.x);n(19,J=rl({width:M,marks:[xd(m,{marker:"dot",y:Y=>-Y.CL-Y.GL-Y.PL,title:Y=>-Y.CL-Y.GL-Y.PL,x:Y=>+Y.el,strokeWidth:1,stroke:"green"}),Qm(p,{marker:"dot",y:Y=>Y.suburbandB,x:"x",stroke:"grey",fill:Y=>v(Y.x)}),Qm(p,{marker:"dot",y:Y=>Y.urbandB,x:"x",strokeWidth:2,stroke:"red"}),h0(p,{marker:"dot",y:Y=>Y.suburbandB,x:"x",text:Y=>Y.suburbandB.toFixed(0),dy:-15}),hf(p,{marker:"dot",y:Y=>Y.suburbandB+$(Y.x).SubUrbanAg-z(Y.x),title:Y=>Y.suburbandB+$(Y.x).SubUrbanAg-z(Y.x),x:"x",fill:Y=>v(Y.x)}),Qm(p,{marker:"dot",y:Y=>Y.urbandB+$(Y.x).UrbanAg-z(Y.x),title:Y=>Y.urbandB+$(Y.x).UrbanAg-z(Y.x),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),jy(T,{stroke:Y=>Y.Env,y:Y=>Y.I,strokeWidth:3,strokeDasharray:[5,5],title:Y=>Y.I+Y.Env}),h0(T,{y:Y=>Y.I,x:V[1],dy:-5,fontSize:12,textAnchor:"end",text:Y=>Y.Name+` ${Y.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:Es(V[0],V[1]+1),tickFormat:Y=>Math.floor(Y)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`P5: Satellite angle is ${ae}`}))}function se(ae){Pt[ae?"unshift":"push"](()=>{a=ae,n(0,a)})}function te(){M=this.clientWidth,n(1,M)}return t.$$set=ae=>{"showModal"in ae&&n(3,r=ae.showModal),"N0"in ae&&n(4,l=ae.N0),"binnedData"in ae&&n(5,f=ae.binnedData),"stats"in ae&&n(6,p=ae.stats),"gainloss"in ae&&n(7,m=ae.gainloss),"satAngle"in ae&&n(8,g=ae.satAngle),"cr"in ae&&n(9,v=ae.cr),"factor"in ae&&n(10,b=ae.factor),"Raindx"in ae&&n(11,k=ae.Raindx),"Rbindx"in ae&&n(12,R=ae.Rbindx),"SatGainScale"in ae&&n(13,N=ae.SatGainScale),"totalI"in ae&&n(14,T=ae.totalI)},t.$$.update=()=>{t.$$.dirty&8,t.$$.dirty&32&&(O(),G()),t.$$.dirty&224&&(ie(),ee()),t.$$.dirty&1015809&&a!=null&&u()},[a,M,u,r,l,f,p,m,g,v,b,k,R,N,T,i,s,I,P,J,se,te]}class ace extends Mu{constructor(e){super(),Eu(this,e,sce,ice,Za,{showModal:3,N0:4,binnedData:5,stats:6,gainloss:7,satAngle:8,cr:9,factor:10,Raindx:11,Rbindx:12,SatGainScale:13,totalI:14})}}function gS(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function _S(t,e,n){const r=t.slice();return r[7]=e[n],r}function vS(t){let e=t[2].label+"",n,r,i,s,a,l=t[1],u=[];for(let f=0;f<l.length;f+=1)u[f]=yS(_S(t,l,f));return{c(){n=ze(e),r=Te(),i=ce("select");for(let f=0;f<u.length;f+=1)u[f].c();X(i,"class","ui selection dropdown"),t[0]===void 0&&qa(()=>t[4].call(i))},m(f,p){Nt(f,n,p),Nt(f,r,p),Nt(f,i,p);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(i,null);Ko(i,t[0],!0),s||(a=ft(i,"change",t[4]),s=!0)},p(f,p){if(p&4&&e!==(e=f[2].label+"")&&Ht(n,e),p&2){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=_S(f,l,m);u[m]?u[m].p(g,p):(u[m]=yS(g),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=l.length}p&3&&Ko(i,f[0])},d(f){f&&_t(n),f&&_t(r),f&&_t(i),yf(u,f),s=!1,a()}}}function yS(t){let e,n=t[7]+"",r,i;return{c(){e=ce("option"),r=ze(n),e.__value=i=t[7],e.value=e.__value},m(s,a){Nt(s,e,a),U(e,r)},p(s,a){a&2&&n!==(n=s[7]+"")&&Ht(r,n),a&2&&i!==(i=s[7])&&(e.__value=i,e.value=e.__value)},d(s){s&&_t(e)}}}function bS(t){let e,n,r=t[2].label+"",i,s,a,l=t[1],u=[];for(let f=0;f<l.length;f+=1)u[f]=wS(gS(t,l,f));return{c(){e=ce("div"),n=ce("label"),i=ze(r),a=Te();for(let f=0;f<u.length;f+=1)u[f].c();X(n,"for",s=t[2].label),X(n,"class","ui label right pointing blue"),X(e,"class","ui container raised segment")},m(f,p){Nt(f,e,p),U(e,n),U(n,i),U(e,a);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null)},p(f,p){if(p&4&&r!==(r=f[2].label+"")&&Ht(i,r),p&4&&s!==(s=f[2].label)&&X(n,"for",s),p&3){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=gS(f,l,m);u[m]?u[m].p(g,p):(u[m]=wS(g),u[m].c(),u[m].m(e,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=l.length}},d(f){f&&_t(e),yf(u,f)}}}function wS(t){let e,n,r=!1,i,s,a=t[7]+"",l,u,f,p,m;return f=LU(t[6][0]),{c(){e=ce("input"),i=Te(),s=ce("label"),l=ze(a),u=Te(),X(e,"type","radio"),e.__value=n=t[7],e.value=e.__value,f.p(e)},m(g,v){Nt(g,e,v),e.checked=e.__value===t[0],Nt(g,i,v),Nt(g,s,v),U(s,l),U(s,u),p||(m=ft(e,"change",t[5]),p=!0)},p(g,v){v&2&&n!==(n=g[7])&&(e.__value=n,e.value=e.__value,r=!0),(r||v&3)&&(e.checked=e.__value===g[0]),v&2&&a!==(a=g[7]+"")&&Ht(l,a)},d(g){g&&_t(e),g&&_t(i),g&&_t(s),f.r(),p=!1,m()}}}function oce(t){let e,n,r=t[3]=="select"&&vS(t),i=t[3]=="radio"&&bS(t);return{c(){r&&r.c(),e=Te(),i&&i.c(),n=h_()},m(s,a){r&&r.m(s,a),Nt(s,e,a),i&&i.m(s,a),Nt(s,n,a)},p(s,[a]){s[3]=="select"?r?r.p(s,a):(r=vS(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[3]=="radio"?i?i.p(s,a):(i=bS(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:Pn,o:Pn,d(s){r&&r.d(s),s&&_t(e),i&&i.d(s),s&&_t(n)}}}function lce(t,e,n){let{data:r}=e,{value:i}=e,{opts:s={label:""}}=e,{type:a}=e;const l=[[]];function u(){i=id(this),n(0,i),n(1,r)}function f(){i=this.__value,n(0,i),n(1,r)}return t.$$set=p=>{"data"in p&&n(1,r=p.data),"value"in p&&n(0,i=p.value),"opts"in p&&n(2,s=p.opts),"type"in p&&n(3,a=p.type)},[i,r,s,a,u,f,l]}class xS extends Mu{constructor(e){super(),Eu(this,e,lce,oce,Za,{data:1,value:0,opts:2,type:3})}}function Mr(t,e,n){return{resolve(r=n){return`${t}@${e}/${r}`}}}const uce=Mr("d3","7.8.5","dist/d3.min.js"),cce=Mr("@observablehq/inputs","0.10.5","dist/inputs.min.js"),fce=Mr("@observablehq/plot","0.6.9","dist/plot.umd.min.js"),hce=Mr("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),D4=Mr("@observablehq/highlight.js","2.0.0","highlight.min.js"),SS=Mr("@observablehq/katex","0.11.1","dist/katex.min.js"),dce=Mr("lodash","4.17.21","lodash.min.js"),pce=Mr("htl","0.3.1","dist/htl.min.js"),mce=Mr("jszip","3.10.1","dist/jszip.min.js"),gce=Mr("marked","0.3.12","marked.min.js"),TS=Mr("sql.js","1.8.0","dist/sql-wasm.js"),_ce=Mr("vega","5.22.1","build/vega.min.js"),vce=Mr("vega-lite","5.6.0","build/vega-lite.min.js"),yce=Mr("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),R3=Mr("apache-arrow","4.0.1","Arrow.es2015.min.js"),bce=Mr("apache-arrow","9.0.0","+esm"),bN=Mr("apache-arrow","11.0.0","+esm"),wce=Mr("arquero","4.8.8","dist/arquero.min.js"),xce=Mr("topojson-client","3.1.0","dist/topojson-client.min.js"),Sce=Mr("exceljs","4.3.0","dist/exceljs.min.js"),Tce=Mr("mermaid","9.2.2","dist/mermaid.min.js"),kS=Mr("leaflet","1.9.3","dist/leaflet.js"),rd=Mr("@duckdb/duckdb-wasm","1.24.0","+esm"),o1=new Map,tm=[],P3=tm.map,kce=tm.some,Ece=tm.hasOwnProperty,Mce=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,Cce=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,ES=/(?:\.[^/]*|\/)$/;class uh extends Error{constructor(e){super(e)}}uh.prototype.name=uh.name;function MS(t){const e=Mce.exec(t);return e&&{name:e[1],version:e[2],path:e[3]}}function wN(t="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw new Error("origin lacks trailing slash");function n(i){for(const s of e){let a=i[s];if(typeof a=="string")return a.startsWith("./")&&(a=a.slice(2)),ES.test(a)?a:`${a}.js`}}function r(i){const s=`${t}${i.name}${i.version?`@${i.version}`:""}/package.json`;let a=o1.get(s);return a||o1.set(s,a=fetch(s).then(l=>{if(!l.ok)throw new uh("unable to load package.json");return l.redirected&&!o1.has(l.url)&&o1.set(l.url,a),l.json()})),a}return async function(s,a){if(s.startsWith(t)&&(s=s.substring(t.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,a??location).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new uh("illegal name");const l=MS(s);if(!l)return`${t}${s}`;if(!l.version&&a!=null&&a.startsWith(t)){const f=await r(MS(a.substring(t.length)));l.version=f.dependencies&&f.dependencies[l.name]||f.peerDependencies&&f.peerDependencies[l.name]}if(l.path&&!ES.test(l.path)&&(l.path+=".js"),l.path&&l.version&&Cce.test(l.version))return`${t}${l.name}@${l.version}/${l.path}`;const u=await r(l);return`${t}${u.name}@${u.version}/${l.path||n(u)||"index.js"}`}}var Ace=Sv(wN());function Sv(t){const e=new Map,n=i(null);function r(l){if(typeof l!="string")return l;let u=e.get(l);return u||e.set(l,u=new Promise((f,p)=>{const m=document.createElement("script");m.onload=()=>{try{f(tm.pop()(i(l)))}catch{p(new uh("invalid module"))}m.remove()},m.onerror=()=>{p(new uh("unable to load module")),m.remove()},m.async=!0,m.src=l,window.define=xN,document.head.appendChild(m)})),u}function i(l){return u=>Promise.resolve(t(u,l)).then(r)}function s(l){return Sv((u,f)=>u in l&&(u=l[u],f=null,typeof u!="string")?u:t(u,f))}function a(l){return arguments.length>1?Promise.all(P3.call(arguments,n)).then(Ice):n(l)}return a.alias=s,a.resolve=t,a}function Ice(t){const e={};for(const n of t)for(const r in n)Ece.call(n,r)&&(n[r]==null?Object.defineProperty(e,r,{get:Rce(n,r)}):e[r]=n[r]);return e}function Rce(t,e){return()=>t[e]}function Pce(t){return t=t+"",t==="exports"||t==="module"}function xN(t,e,n){const r=arguments.length;r<2?(n=t,e=[]):r<3&&(n=e,e=typeof t=="string"?[]:t),tm.push(kce.call(e,Pce)?i=>{const s={},a={exports:s};return Promise.all(P3.call(e,l=>(l=l+"",l==="exports"?s:l==="module"?a:i(l)))).then(l=>(n.apply(null,l),a.exports))}:i=>Promise.all(P3.call(e,i)).then(s=>typeof n=="function"?n.apply(null,s):n))}xN.amd={};const uc="https://cdn.observableusercontent.com/npm/";let gc=Ace;function Nce(t){gc=t}function Lce(t){return t==null?gc:Sv(t)}async function SN(t){const[e,n]=await Promise.all([t(TS.resolve()),t.resolve(TS.resolve("dist/"))]);return e({locateFile:r=>`${n}${r}`})}class nm{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[n,r]=await Promise.all([SN(gc),Promise.resolve(e).then(N3)]);return new nm(new n.Database(r))}async query(e,n){return await Dce(this._db,e,n)}async queryRow(e,n){return(await this.query(e,n))[0]||null}async explain(e,n){const r=await this.query(`EXPLAIN QUERY PLAN ${e}`,n);return ec("pre",{className:"observablehq--inspect"},[B4(r.map(i=>i.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,e==null?[]:[e])}async describeColumns({schema:e,table:n}={}){if(n==null)throw new Error("missing table");const r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[n]:[n,e]);if(!r.length)throw new Error(`table not found: ${n}`);return r.map(({name:i,type:s,notnull:a})=>({name:i,type:Oce(s),databaseType:s,nullable:!a}))}async describe(e){const n=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!n.length)throw new Error("Not found");const{columns:r}=n;return ec("table",{value:n},[ec("thead",[ec("tr",r.map(i=>ec("th",[B4(i)])))]),ec("tbody",n.map(i=>ec("tr",r.map(s=>ec("td",[B4(i[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...n){return[e.join("?"),n]}}Object.defineProperty(nm.prototype,"dialect",{value:"sqlite"});function Oce(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}function N3(t){return typeof t=="string"?fetch(t).then(N3):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(N3):t instanceof ArrayBuffer?new Uint8Array(t):t}async function Dce(t,e,n){const[r]=await t.exec(e,n);if(!r)return[];const{columns:i,values:s}=r,a=s.map(l=>Object.fromEntries(l.map((u,f)=>[i[f],u])));return a.columns=i,a}function ec(t,e,n){arguments.length===2&&(n=e,e=void 0);const r=document.createElement(t);if(e!==void 0)for(const i in e)r[i]=e[i];if(n!==void 0)for(const i of n)r.appendChild(i);return r}function B4(t){return document.createTextNode(t)}function f6(t){return t&&typeof t.toArrowBuffer=="function"}function t_(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Bce(t){return t.schema.fields.map(zce)}function zce(t){return{name:t.name,type:Fce(t.type),nullable:t.nullable,databaseType:String(t.type)}}function Fce(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function h6(){return await tp(()=>import(`${uc}${bN.resolve()}`),[])}let z4;class rm{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,n){const r=await this._db.connect();let i,s;try{if((n==null?void 0:n.length)>0?i=await(await r.prepare(e)).send(...n):i=await r.send(e),s=await i.next(),s.done)throw new Error("missing first batch")}catch(a){throw await r.close(),a}return{schema:Bce(s.value),async*readRows(){try{for(;!s.done;)yield s.value.toArray(),s=await i.next()}finally{await r.close()}}}}async query(e,n){const r=await this.queryStream(e,n),i=[];for await(const s of r.readRows())for(const a of s)i.push(a);return i.schema=r.schema,i}async queryRow(e,n){const i=(await this.queryStream(e,n)).readRows();try{const{done:s,value:a}=await i.next();return s||!a.length?null:a[0]}finally{await i.return()}}async sql(e,...n){return await this.query(e.join("?"),n)}queryTag(e,...n){return[e.join("?"),n]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:n})=>({name:n}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:r,column_type:i,null:s})=>({name:r,type:$ce(i),nullable:s!=="NO",databaseType:i}))}static async of(e={},n={}){var i,s;const r=await Wce();return((i=n.query)==null?void 0:i.castTimestampToDate)===void 0&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),((s=n.query)==null?void 0:s.castBigIntToDouble)===void 0&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await r.open(n),await Promise.all(Object.entries(e).map(async([a,l])=>{if(l instanceof xs)await CS(r,a,l);else if(t_(l))await n_(r,a,l);else if(Array.isArray(l))await AS(r,a,l);else if(f6(l))await qce(r,a,l);else if("data"in l){const{data:u,...f}=l;t_(u)?await n_(r,a,u,f):await AS(r,a,u,f)}else if("file"in l){const{file:u,...f}=l;await CS(r,a,u,f)}else throw new Error(`invalid source: ${l}`)})),new rm(r)}}Object.defineProperty(rm.prototype,"dialect",{value:"duckdb"});async function CS(t,e,n,r){const i=await n.url();if(i.startsWith("blob:")){const a=await n.arrayBuffer();await t.registerFileBuffer(n.name,new Uint8Array(a))}else await t.registerFileURL(n.name,i,4);const s=await t.connect();try{switch(n.mimeType){case"text/csv":case"text/tab-separated-values":return await s.insertCSVFromPath(n.name,{name:e,schema:"main",...r}).catch(async a=>{if(a.toString().includes("Could not convert"))return await Uce(s,n,e);throw a});case"application/json":return await s.insertJSONFromPath(n.name,{name:e,schema:"main",...r});default:if(/\.arrow$/i.test(n.name)){const a=new Uint8Array(await n.arrayBuffer());return await s.insertArrowFromIPCStream(a,{name:e,schema:"main",...r})}if(/\.parquet$/i.test(n.name))return await s.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${n.name}')`);throw new Error(`unknown file type: ${n.mimeType}`)}}finally{await s.close()}}async function Uce(t,e,n){return await(await t.prepare(`CREATE TABLE '${n}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`)).send(e.name)}async function n_(t,e,n,r){const i=await t.connect();try{await i.insertArrowTable(n,{name:e,schema:"main",...r})}finally{await i.close()}}async function qce(t,e,n){const i=(await h6()).tableFromIPC(n.toArrowBuffer());return await n_(t,e,i)}async function AS(t,e,n,r){const s=(await h6()).tableFromJSON(n);return await n_(t,e,s,r)}async function Hce(){const t=await tp(()=>import(`${uc}${rd.resolve()}`),[]),e=await t.selectBundle({mvp:{mainModule:`${uc}${rd.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${uc}${rd.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${uc}${rd.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${uc}${rd.resolve("dist/duckdb-browser-eh.worker.js")}`}}),n=new t.ConsoleLogger;return{module:t,bundle:e,logger:n}}async function Wce(){z4===void 0&&(z4=Hce());const{module:t,bundle:e,logger:n}=await z4,r=await t.createWorker(e.mainWorker),i=new t.AsyncDuckDB(n,r);return await i.instantiate(e.mainModule),i}function $ce(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(t)?"integer":"other"}}const d6=20;function Gce(t,e){return t&&(typeof t.sql=="function"||typeof t.queryTag=="function"&&(typeof t.query=="function"||typeof t.queryStream=="function"))&&(e!=="table"||typeof t.describeColumns=="function")&&t!==IN}function Tv(t){return Array.isArray(t)&&(TN(t.schema)||kN(t.columns)||Vce(t)||MN(t)||CN(t))||AN(t)}function Vce(t){const e=Math.min(d6,t.length);for(let n=0;n<e;++n){const r=t[n];if(r===null||typeof r!="object")return!1}return e>0&&Yce(t[0])}function Yce(t){for(const e in t)return!0;return!1}function TN(t){return Array.isArray(t)&&t.every(Zce)}function kN(t){return Array.isArray(t)&&t.every(e=>typeof e=="string")}function Zce(t){return t&&typeof t.name=="string"&&typeof t.type=="string"}function EN(t){return AN(t)||MN(t)||CN(t)}function MN(t){const e=Math.min(d6,t.length);if(!(e>0))return!1;let n,r=!1;for(let i=0;i<e;++i){const s=t[i];if(s==null)continue;const a=typeof s;if(n===void 0)switch(a){case"number":case"boolean":case"string":case"bigint":n=a;break;default:return!1}else if(a!==n)return!1;r=!0}return r}function CN(t){const e=Math.min(d6,t.length);if(!(e>0))return!1;let n=!1;for(let r=0;r<e;++r){const i=t[r];if(i!=null){if(!(i instanceof Date))return!1;n=!0}}return n}function AN(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}const IN=Object.assign(async(t,e,n,r)=>{if(t=await Xce(await t,r),Gce(t))return IS(t,e0e(e,t),n);if(Tv(t))return y0e(t,e);throw t?new Error("invalid data source"):new Error("missing data source")},{sql(t,e,n){return async function(){return IS(await jce(await t,n),arguments,e)}}});function RN(t){const e=new WeakMap;return(n,r)=>{if(!n||typeof n!="object")throw new Error("invalid data source");let i=e.get(n);return(!i||Tv(n)&&n.length!==i._numRows)&&(i=t(n,r),i._numRows=n.length,e.set(n,i)),i}}const Xce=RN(async(t,e)=>{if(t instanceof xs){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return Tf(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return t_(t)||f6(t)?Tf(t,e):Tv(t)&&EN(t)?Array.from(t,n=>({value:n})):t}),jce=RN(async(t,e)=>{if(t instanceof xs){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return Tf(t,e);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return Tf(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return Tv(t)?Tf(await Kce(t,e),e):t_(t)||f6(t)?Tf(t,e):t});async function Kce(t,e){const n=await h6();return EN(t)?n.tableFromArrays({[e]:t}):n.tableFromJSON(t)}function Tf(t,e=t instanceof xs?Jce(t):"__table"){return rm.of({[e]:t})}function Jce(t){return t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function IS(t,e,n){if(!t)throw new Error("missing data source");if(typeof t.queryTag=="function"){const r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),typeof t.queryStream=="function")return Qce(t.queryStream(...t.queryTag.apply(t,e),i));if(typeof t.query=="function")return t.query(...t.queryTag.apply(t,e),i)}if(typeof t.sql=="function")return t.sql.apply(t,e);throw new Error("source does not implement query, queryStream, or sql")}async function*Qce(t){let e=performance.now();const n=await t,r=[];r.done=!1,r.error=null,r.schema=n.schema;try{for await(const i of n.readRows()){performance.now()-e>150&&r.length>0&&(yield r,e=performance.now());for(const s of i)r.push(s)}r.done=!0,yield r}catch(i){r.error=i,yield r}}function e0e(t,e){var m;const n=typeof e.escape=="function"?e.escape:g=>g,{select:r,from:i,filter:s,sort:a,slice:l}=t;if(!i.table)throw new Error("missing from table");if(r.columns&&r.columns.length===0)throw new Error("at least one column must be selected");const u=new Map((m=t.names)==null?void 0:m.map(({column:g,name:v})=>[g,v])),p=[[`SELECT ${r.columns?r.columns.map(g=>{const v=u.get(g);return v?`${n(g)} AS ${n(v)}`:n(g)}).join(", "):"*"} FROM ${t0e(i.table,n)}`]];for(let g=0;g<s.length;++g)Tr(g?`
AND `:`
WHERE `,p),n0e(s[g],p,n);for(let g=0;g<a.length;++g)Tr(g?", ":`
ORDER BY `,p),RS(a[g],p,n);if(e.dialect==="mssql"||e.dialect==="oracle"){if(l.to!==null||l.from!==null){if(!a.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");Tr(`
ORDER BY `,p),RS({column:r.columns[0],direction:"ASC"},p,n)}Tr(`
OFFSET ${l.from||0} ROWS`,p),Tr(`
FETCH NEXT ${l.to!==null?l.to-(l.from||0):1e9} ROWS ONLY`,p)}}else(l.to!==null||l.from!==null)&&Tr(`
LIMIT ${l.to!==null?l.to-(l.from||0):1e9}`,p),l.from!==null&&Tr(` OFFSET ${l.from}`,p);return p}function t0e(t,e){if(typeof t=="object"){let n="";return t.database!=null&&(n+=e(t.database)+"."),t.schema!=null&&(n+=e(t.schema)+"."),n+=e(t.table),n}else return e(t)}function Tr(t,e){const n=e[0];n[n.length-1]+=t}function RS({column:t,direction:e},n,r){Tr(`${r(t)} ${e.toUpperCase()}`,n)}function n0e({type:t,operands:e},n,r){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1||t==="v"||t==="nv")switch(gf(e[0],n,r),t){case"n":case"nv":Tr(" IS NULL",n);return;case"nn":case"v":Tr(" IS NOT NULL",n);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(t))if(["c","nc"].includes(t)){switch(gf(e[0],n,r),t){case"c":Tr(" LIKE ",n);break;case"nc":Tr(" NOT LIKE ",n);break}gf(i0e(e[1]),n,r);return}else{switch(gf(e[0],n,r),t){case"eq":Tr(" = ",n);break;case"ne":Tr(" <> ",n);break;case"gt":Tr(" > ",n);break;case"lt":Tr(" < ",n);break;case"gte":Tr(" >= ",n);break;case"lte":Tr(" <= ",n);break;default:throw new Error("Invalid filter operation")}gf(e[1],n,r);return}switch(gf(e[0],n,r),t){case"in":Tr(" IN (",n);break;case"nin":Tr(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}r0e(e.slice(1),n),Tr(")",n)}function gf(t,e,n){t.type==="column"?Tr(n(t.value),e):(e.push(t.value),e[0].push(""))}function r0e(t,e){let n=!0;for(const r of t)n?n=!1:Tr(",",e),e.push(r.value),e[0].push("")}function i0e(t){return{...t,value:`%${t.value}%`}}function PN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))}function s0e(t,e){return PN(t,e)||(t<e?-1:t>e?1:0)}function a0e(t,e){return PN(t,e)||(t>e?-1:t<e?1:0)}const o0e=t=>typeof t=="number"&&!Number.isNaN(t),l0e=t=>Number.isInteger(t)&&!Number.isNaN(t),u0e=t=>typeof t=="string",c0e=t=>typeof t=="boolean",f0e=t=>typeof t=="bigint",h0e=t=>t instanceof Date&&!isNaN(t),d0e=t=>t instanceof ArrayBuffer,p0e=t=>Array.isArray(t),m0e=t=>typeof t=="object"&&t!==null,g0e=t=>t!=null;function PS(t){switch(t){case"string":return u0e;case"bigint":return f0e;case"boolean":return c0e;case"number":return o0e;case"integer":return l0e;case"date":return h0e;case"buffer":return d0e;case"array":return p0e;case"object":return m0e;case"other":default:return g0e}}const NN=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function _0e(t,e){switch(e){case"string":return typeof t=="string"||t==null?t:String(t);case"boolean":if(typeof t=="string"){const n=t.trim().toLowerCase();return n==="true"?!0:n==="false"?!1:null}return typeof t=="boolean"||t==null?t:!!t;case"bigint":return typeof t=="bigint"||t==null?t:Number.isInteger(typeof t=="string"&&!t.trim()?NaN:+t)?BigInt(t):void 0;case"integer":case"number":return typeof t=="number"?t:t==null||typeof t=="string"&&!t.trim()?NaN:Number(t);case"date":{if(t instanceof Date||t==null)return t;if(typeof t=="number")return new Date(t);const n=String(t).trim();return typeof t=="string"&&!n?null:new Date(NN.test(n)?n:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw new Error(`Unable to coerce to type: ${e}`)}}function v0e(t){const{columns:e}=t;let{schema:n}=t;return TN(n)?{schema:n,inferred:!1}:(n=LN(t,kN(e)?e:void 0),{schema:n,inferred:!0})}function NS(t,e){const n=t;let{schema:r,inferred:i}=v0e(t);const s=new Map(r.map(({name:a,type:l})=>[a,l]));if(e.types){for(const{name:a,type:l}of e.types){s.set(a,l),r===n.schema&&(r=r.slice());const u=r.findIndex(f=>f.name===a);u>-1&&(r[u]={...r[u],type:l})}t=t.map(a=>L3(a,s,r))}else i&&(t=t.map(a=>L3(a,s,r)));return{source:t,schema:r}}function LS(t,e){if(!e.names)return t;const n=new Map(e.names.map(r=>[r.column,r]));return t.map(r=>Object.fromEntries(Object.keys(r).map(i=>{const s=n.get(i);return[(s==null?void 0:s.name)??i,r[i]]})))}function y0e(t,e){const n=new Map,r=t,i=NS(t,e);t=i.source;let s=i.schema;if(e.derive){const f=[];e.derive.map(({name:m,value:g})=>{let v=[];LS(t,e).map((b,k)=>{let R;try{R=g(b)}catch(N){v.push({index:k,error:N}),R=void 0}f[k]?f[k]={...f[k],[m]:R}:f.push({[m]:R})}),v.length&&n.set(m,v)});const p=NS(f,e);t=t.map((m,g)=>({...m,...p.source[g]})),s=[...s,...p.schema]}for(const{type:f,operands:p}of e.filter){const[{value:m}]=p,g=p.slice(1).map(({value:v})=>v);switch(f){case"v":{const[v]=g,b=PS(v);t=t.filter(k=>b(k[m]));break}case"nv":{const[v]=g,b=PS(v);t=t.filter(k=>!b(k[m]));break}case"eq":{const[v]=g;if(v instanceof Date){const b=+v;t=t.filter(k=>+k[m]===b)}else t=t.filter(b=>b[m]===v);break}case"ne":{const[v]=g;t=t.filter(b=>b[m]!==v);break}case"c":{const[v]=g;t=t.filter(b=>typeof b[m]=="string"&&b[m].includes(v));break}case"nc":{const[v]=g;t=t.filter(b=>typeof b[m]=="string"&&!b[m].includes(v));break}case"in":{const v=new Set(g);t=t.filter(b=>v.has(b[m]));break}case"nin":{const v=new Set(g);t=t.filter(b=>!v.has(b[m]));break}case"n":{t=t.filter(v=>v[m]==null);break}case"nn":{t=t.filter(v=>v[m]!=null);break}case"lt":{const[v]=g;t=t.filter(b=>b[m]<v);break}case"lte":{const[v]=g;t=t.filter(b=>b[m]<=v);break}case"gt":{const[v]=g;t=t.filter(b=>b[m]>v);break}case"gte":{const[v]=g;t=t.filter(b=>b[m]>=v);break}default:throw new Error(`unknown filter type: ${f}`)}}for(const{column:f,direction:p}of Fd(e.sort)){const m=p==="desc"?a0e:s0e;t===r&&(t=t.slice()),t.sort((g,v)=>m(g[f],v[f]))}let{from:a,to:l}=e.slice;a=a==null?0:Math.max(0,a),l=l==null?1/0:Math.max(0,l),(a>0||l<1/0)&&(t=t.slice(Math.max(0,a),Math.max(0,l)));let u=s.slice();if(e.select.columns){if(s){const f=new Map(s.map(p=>[p.name,p]));s=e.select.columns.map(p=>f.get(p))}t=t.map(f=>Object.fromEntries(e.select.columns.map(p=>[p,f[p]])))}if(e.names){const f=new Map(e.names.map(p=>[p.column,p]));s&&(s=s.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),u&&(u=u.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),t=LS(t,e)}return t!==r&&s&&(t.schema=s),t.fullSchema=u,t.errors=n,t}function L3(t,e,n){const r={};for(const i of n){const s=e.get(i.name),a=t[i.name];r[i.name]=s==="raw"?a:_0e(a,s)}return r}function b0e(){return{boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0}}const w0e=["boolean","integer","number","date","bigint","array","object","buffer"];function x0e(t){const e=new Set;for(const n of t)if(n)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.add(r);return Array.from(e)}function LN(t,e=x0e(t)){const n=[],i=t.slice(0,100);for(const s of e){const a=b0e();for(const f of i){let p=f[s];if(p==null)continue;const m=typeof p;if(m!=="string")++a.defined,Array.isArray(p)?++a.array:p instanceof Date?++a.date:p instanceof ArrayBuffer?++a.buffer:m==="number"?(++a.number,Number.isInteger(p)&&++a.integer):m in a&&++a[m];else{if(p=p.trim(),!p)continue;++a.defined,++a.string,/^(true|false)$/i.test(p)?++a.boolean:p&&!isNaN(p)?(++a.number,Number.isInteger(+p)&&++a.integer):NN.test(p)&&++a.date}}const l=Math.max(1,a.defined*.9),u=nb(w0e,f=>a[f]>=l?a[f]:NaN)??(a.string>=l?"string":"other");n.push({name:s,type:u,inferred:u})}return n}class S0e{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(n=>n.name),enumerable:!0}})}sheet(e,n){const r=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(r==null)throw new Error(`Sheet not found: ${e}`);const i=this._.getWorksheet(r);return T0e(i,n)}}function T0e(t,{range:e,headers:n}={}){let[[r,i],[s,a]]=k0e(e,t);const l=n?t._rows[i++]:null;let u=new Set(["#"]);for(let p=r;p<=s;p++){const m=l?OS(l.findCell(p+1)):null;let g=m&&m+""||E0e(p);for(;u.has(g);)g+="_";u.add(g)}u=new Array(r).concat(Array.from(u));const f=new Array(a-i+1);for(let p=i;p<=a;p++){const m=f[p-i]=Object.create(null,{"#":{value:p+1}}),g=t.getRow(p+1);if(g.hasValues)for(let v=r;v<=s;v++){const b=OS(g.findCell(v+1));b!=null&&(m[u[v+1]]=b)}}return f.columns=u.filter(()=>!0),f}function OS(t){if(!t)return;const{value:e}=t;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return DS(e);if(e.text){let{text:n}=e;return n.richText&&(n=DS(n)),e.hyperlink&&e.hyperlink!==n?`${e.hyperlink} ${n}`:n}return e}return e}function DS(t){return t.richText.map(e=>e.text).join("")}function k0e(t=":",{columnCount:e,rowCount:n}){if(t+="",!t.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,i=0],[s=e-1,a=n-1]]=t.split(":").map(M0e);return[[r,i],[s,a]]}function E0e(t){let e="";t++;do e=String.fromCharCode(64+(t%26||26))+e;while(t=Math.floor((t-1)/26));return e}function M0e(t){const[,e,n]=t.match(/^([A-Z]*)(\d*)$/);let r=0;if(e)for(let i=0;i<e.length;i++)r+=Math.pow(26,e.length-i-1)*(e.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function jl(t){const e=await fetch(await t.url());if(!e.ok)throw new Error(`Unable to load file: ${t.name}`);return e}function C0e(t,e){const n=new Map(e.map(({name:r,type:i})=>[r,i]));return Object.assign(t.map(r=>L3(r,n,e)),{schema:e})}async function BS(t,e,{array:n=!1,typed:r=!1}={}){const i=await t.text(),s=e==="	"?n?pG:dG:n?hG:Wk;if(r==="auto"&&!n){const a=s(i);return C0e(a,LN(a,a.columns))}return s(i,r&&pb)}class p6{constructor(e,n){Object.defineProperty(this,"name",{value:e,enumerable:!0}),n!==void 0&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await jl(this)).blob()}async arrayBuffer(){return(await jl(this)).arrayBuffer()}async text(){return(await jl(this)).text()}async json(){return(await jl(this)).json()}async stream(){return(await jl(this)).body}async csv(e){return BS(this,",",e)}async tsv(e){return BS(this,"	",e)}async image(e){const n=await this.url();return new Promise((r,i)=>{const s=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,e),s.onload=()=>r(s),s.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),s.src=n})}async arrow({version:e=4}={}){switch(e){case 4:{const[n,r]=await Promise.all([gc(R3.resolve()),jl(this)]);return n.Table.from(r)}case 9:{const[n,r]=await Promise.all([tp(()=>import(`${uc}${bce.resolve()}`),[]),jl(this)]);return n.tableFromIPC(r)}case 11:{const[n,r]=await Promise.all([tp(()=>import(`${uc}${bN.resolve()}`),[]),jl(this)]);return n.tableFromIPC(r)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return nm.open(jl(this))}async zip(){const[e,n]=await Promise.all([gc(mce.resolve()),this.arrayBuffer()]);return new I0e(await e.loadAsync(n))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,n]=await Promise.all([gc(Sce.resolve()),this.arrayBuffer()]);return new S0e(await new e.Workbook().xlsx.load(n))}}class xs extends p6{constructor(e,n,r){super(n,r),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function A0e(t){throw new Error(`File not found: ${t}`)}class I0e{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(n=>!e.files[n].dir)}file(e){const n=this._.file(e+="");if(!n||n.dir)throw new Error(`file not found: ${e}`);return new R0e(n)}}class R0e extends p6{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function P0e(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function N0e(t,e,n){n==null&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=t*n,r.height=e*n,r.style.width=t+"px";var i=r.getContext("2d");return i.scale(n,n),i}function L0e(t,e="untitled",n="Save"){const r=document.createElement("a"),i=r.appendChild(document.createElement("button"));i.textContent=n,r.download=e;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return r.onclick=async a=>{if(i.disabled=!0,r.href)return s();i.textContent="Saving…";try{const l=await(typeof t=="function"?t():t);i.textContent="Download",r.href=URL.createObjectURL(l)}catch{i.textContent=n}if(a.eventPhase)return s();i.disabled=!1},r}var l1={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O0e(t,e){var n=t+="",r=n.indexOf(":"),i;r>=0&&(n=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1));var s=l1.hasOwnProperty(n)?document.createElementNS(l1[n],t):document.createElement(t);if(e)for(var a in e)n=a,r=n.indexOf(":"),i=e[a],r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),l1.hasOwnProperty(n)?s.setAttributeNS(l1[n],a,i):s.setAttribute(a,i);return s}function D0e(t){var e=document.createElement("input");return t!=null&&(e.type=t),e}function B0e(t,e,n){arguments.length===1&&(e=t,t=null);var r=document.createElement("input");return r.min=t=t==null?0:+t,r.max=e=e==null?1:+e,r.step=n==null?"any":n=+n,r.type="range",r}function z0e(t){var e=document.createElement("select");return Array.prototype.forEach.call(t,function(n){var r=document.createElement("option");r.value=r.textContent=n,e.appendChild(r)}),e}function F0e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,t,e]),n.setAttribute("width",t),n.setAttribute("height",e),n}function U0e(t){return document.createTextNode(t)}var q0e=0;function ON(t){return new DN("O-"+(t==null?"":t+"-")+ ++q0e)}function DN(t){this.id=t,this.href=new URL(`#${t}`,location)+""}DN.prototype.toString=function(){return"url("+this.href+")"};const H0e=Object.freeze(Object.defineProperty({__proto__:null,canvas:P0e,context2d:N0e,download:L0e,element:O0e,input:D0e,range:B0e,select:z0e,svg:F0e,text:U0e,uid:ON},Symbol.toStringTag,{value:"Module"}));function W0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsArrayBuffer(t)})}function $0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t)})}function G0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})}const V0e=Object.freeze(Object.defineProperty({__proto__:null,buffer:W0e,text:$0e,url:G0e},Symbol.toStringTag,{value:"Module"}));function m6(){return this}function BN(t,e){let n=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:m6,next:()=>n?{done:!0}:(n=!0,{done:!1,value:t}),return:()=>(n=!0,e(t),{done:!0}),throw:()=>({done:n=!0})}}function*Y0e(t,e){for(var n,r=-1;!(n=t.next()).done;)e(n.value,++r)&&(yield n.value)}function kv(t){let e=!1,n,r;const i=t(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(l){return r?(r(l),r=null):e=!0,n=l}function a(){return{done:!1,value:e?(e=!1,Promise.resolve(n)):new Promise(l=>r=l)}}return{[Symbol.iterator]:m6,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:a}}function Z0e(t){return kv(function(e){var n=X0e(t),r=zS(t);function i(){e(zS(t))}return t.addEventListener(n,i),r!==void 0&&e(r),function(){t.removeEventListener(n,i)}})}function zS(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,e=>e.value);default:return t.value}}function X0e(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*j0e(t,e){for(var n,r=-1;!(n=t.next()).done;)yield e(n.value,++r)}function K0e(t){let e;const n=[],r=t(i);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(a){return n.push(a),e&&(e(n.shift()),e=null),a}function s(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(a=>e=a)}}return{[Symbol.iterator]:m6,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*J0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0;++r<i;)yield t+r*n}function Q0e(t,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var n,r=-1;!(n=t.next()).done;)if(++r===e)return n.value}}function efe(t){const e=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),n=new Worker(e);return BN(n,()=>{n.terminate(),URL.revokeObjectURL(e)})}const tfe=Object.freeze(Object.defineProperty({__proto__:null,disposable:BN,filter:Y0e,input:Z0e,map:j0e,observe:kv,queue:K0e,range:J0e,valueAt:Q0e,worker:efe},Symbol.toStringTag,{value:"Module"}));function g6(t,e){return function(n){var r=n[0],i=[],s,a=null,l,u,f,p,m,g,v,b=-1;for(p=1,m=arguments.length;p<m;++p){if(s=arguments[p],s instanceof Node)i[++b]=s,r+="<!--o:"+b+"-->";else if(Array.isArray(s)){for(g=0,v=s.length;g<v;++g)l=s[g],l instanceof Node?(a===null&&(i[++b]=a=document.createDocumentFragment(),r+="<!--o:"+b+"-->"),a.appendChild(l)):(a=null,r+=l);a=null}else r+=s;r+=n[p]}if(a=t(r),++b>0){for(u=new Array(b),f=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null,!1);f.nextNode();)l=f.currentNode,/^o:/.test(l.nodeValue)&&(u[+l.nodeValue.slice(2)]=l);for(p=0;p<b;++p)(l=u[p])&&l.parentNode.replaceChild(i[p],l)}return a.childNodes.length===1?a.removeChild(a.firstChild):a.nodeType===11?((l=e()).appendChild(a),l):a}}const nfe=g6(function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function rfe(t){const e=await t(kS.resolve());if(!e._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await t.resolve(kS.resolve("dist/leaflet.css")),e._style=document.head.appendChild(n)}return e}function ife(t){return t(gce.resolve()).then(function(e){return g6(function(n){var r=document.createElement("div");r.innerHTML=e(n,{langPrefix:""}).trim();var i=r.querySelectorAll("pre code[class]");return i.length>0&&t(D4.resolve()).then(function(s){i.forEach(function(a){function l(){s.highlightBlock(a),a.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(a.className)?l():t(D4.resolve("async-languages/index.js")).then(u=>{if(u.has(a.className))return t(D4.resolve("async-languages/"+u.get(a.className))).then(f=>{s.registerLanguage(a.className,f)})}).then(l,l)})}),r},function(){return document.createElement("div")})})}async function sfe(t){const e=await t(Tce.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){const r=document.createElement("div");return r.innerHTML=e.render(ON().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function afe(t){let e;Object.defineProperties(this,{generator:{value:kv(n=>void(e=n))},value:{get:()=>t,set:n=>e(t=n)}}),t!==void 0&&e(t)}function*ofe(){for(;;)yield Date.now()}function lfe(t,e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}var O3=new Map;function ufe(t,e){var n=new Promise(function(r){O3.delete(e);var i=e-t;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(r,i)});return O3.set(e,n),n}function zN(t,e){var n;return(n=O3.get(t=+t))?n.then(()=>e):(n=Date.now())>=t?Promise.resolve(e):ufe(n,t).then(()=>e)}function cfe(t,e){return zN(Math.ceil((Date.now()+1)/t)*t,e)}const ffe=Object.freeze(Object.defineProperty({__proto__:null,delay:lfe,tick:cfe,when:zN},Symbol.toStringTag,{value:"Module"}));function hfe(t,e){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,e??location).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");return"https://unpkg.com/"+t}const dfe=g6(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var pfe=String.raw;function mfe(t){return new Promise(function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=n,r.onload=e,document.head.appendChild(r)})}function gfe(t){return Promise.all([t(SS.resolve()),t.resolve(SS.resolve("dist/katex.min.css")).then(mfe)]).then(function(e){var n=e[0],r=i();function i(s){return function(){var a=document.createElement("div");return n.render(pfe.apply(String,arguments),a,s),a.removeChild(a.firstChild)}}return r.options=i,r.block=i({displayMode:!0}),r})}async function _fe(t){const[e,n,r]=await Promise.all([_ce,vce,yce].map(i=>t(i.resolve())));return r.register(e,n)}function vfe(){return kv(function(t){var e=t(document.body.clientWidth);function n(){var r=document.body.clientWidth;r!==e&&t(e=r)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}const _6=Object.assign(Object.defineProperties(function(e){const n=Lce(e);Object.defineProperties(this,yfe({FileAttachment:()=>A0e,Mutable:()=>afe,now:ofe,width:vfe,dot:()=>n(hce.resolve()),htl:()=>n(pce.resolve()),html:()=>nfe,md:()=>ife(n),svg:()=>dfe,tex:()=>gfe(n),_:()=>n(dce.resolve()),aq:()=>n.alias({"apache-arrow":R3.resolve()})(wce.resolve()),Arrow:()=>n(R3.resolve()),d3:()=>n(uce.resolve()),DuckDBClient:()=>rm,Inputs:()=>n(cce.resolve()).then(r=>({...r,file:r.fileOf(p6)})),L:()=>rfe(n),mermaid:()=>sfe(n),Plot:()=>n(fce.resolve()),__query:()=>IN,require:()=>n,resolve:()=>hfe,SQLite:()=>SN(n),SQLiteDatabaseClient:()=>nm,topojson:()=>n(xce.resolve()),vl:()=>_fe(n),aapl:()=>new xs("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new xs("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new xs("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new xs("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new xs("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new xs("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new xs("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new xs("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new xs("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new xs("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new xs("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:H0e,Files:V0e,Generators:tfe,Promises:ffe}))},{resolve:{get:()=>gc.resolve,enumerable:!0,configurable:!0},require:{get:()=>gc,set:Nce,enumerable:!0,configurable:!0}}),{resolveFrom:wN,requireFrom:Sv});function yfe(t){return Object.fromEntries(Object.entries(t).map(bfe))}function bfe([t,e]){return[t,{value:e,writable:!0,enumerable:!0}]}function v6(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Dc=v6();function FN(t){Dc=t}const UN=/[&<>"']/,wfe=new RegExp(UN.source,"g"),qN=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,xfe=new RegExp(qN.source,"g"),Sfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},FS=t=>Sfe[t];function is(t,e){if(e){if(UN.test(t))return t.replace(wfe,FS)}else if(qN.test(t))return t.replace(xfe,FS);return t}const Tfe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function HN(t){return t.replace(Tfe,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const kfe=/(^|[^\[])\^/g;function Fn(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(kfe,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const Efe=/[^\w:]/g,Mfe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function US(t,e,n){if(t){let r;try{r=decodeURIComponent(HN(n)).replace(Efe,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!Mfe.test(n)&&(n=Rfe(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const u1={},Cfe=/^[^:]+:\/*[^/]*$/,Afe=/^([^:]+:)[\s\S]*$/,Ife=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Rfe(t,e){u1[" "+t]||(Cfe.test(t)?u1[" "+t]=t+"/":u1[" "+t]=F1(t,"/",!0)),t=u1[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(Afe,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(Ife,"$1")+e:t+e}const r_={exec:function(){}};function qS(t,e){const n=t.replace(/\|/g,(s,a,l)=>{let u=!1,f=a;for(;--f>=0&&l[f]==="\\";)u=!u;return u?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function F1(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function Pfe(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function Nfe(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function HS(t,e,n,r){const i=e.href,s=e.title?is(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:is(a)}}function Lfe(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class i_{constructor(e){this.options=e||Dc}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:F1(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=Lfe(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=F1(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,a,l,u,f,p,m,g,v,b,k=n[1].trim();const R=k.length>1,N={type:"list",raw:"",ordered:R,start:R?+k.slice(0,-1):"",loose:!1,items:[]};k=R?`\\d{1,9}\\${k.slice(-1)}`:`\\${k}`,this.options.pedantic&&(k=R?k:"[*+-]");const x=new RegExp(`^( {0,3}${k})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(b=!1,!(!(n=x.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),p=n[2].split(`
`,1)[0].replace(/^\t+/,M=>" ".repeat(3*M.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,v=p.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,v=p.slice(a),a+=n[1].length),u=!1,!p&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),b=!0),!b){const M=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),I=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),P=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],m=g,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(P.test(m)||O.test(m)||M.test(m)||I.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())v+=`
`+m.slice(a);else{if(u||p.search(/[^ ]/)>=4||P.test(p)||O.test(p)||I.test(p))break;v+=`
`+m}!u&&!m.trim()&&(u=!0),r+=g+`
`,e=e.substring(g.length+1),p=m.slice(a)}}N.loose||(f?N.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(v),i&&(s=i[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),N.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:v}),N.raw+=r}N.items[N.items.length-1].raw=r.trimRight(),N.items[N.items.length-1].text=v.trimRight(),N.raw=N.raw.trimRight();const T=N.items.length;for(l=0;l<T;l++)if(this.lexer.state.top=!1,N.items[l].tokens=this.lexer.blockTokens(N.items[l].text,[]),!N.loose){const M=N.items[l].tokens.filter(P=>P.type==="space"),I=M.length>0&&M.some(P=>/\n.*\n/.test(P.raw));N.loose=I}if(N.loose)for(l=0;l<T;l++)N.items[l].loose=!0;return N}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):is(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:qS(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,a,l,u;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=qS(r.rows[s],r.header.length).map(f=>({text:f}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(u=r.rows[a],l=0;l<u.length;l++)u[l].tokens=this.lexer.inline(u[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:is(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):is(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=F1(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=Pfe(n[2],"()");if(a>-1){const u=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),HS(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return HS(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=i[0].length-1;let l,u,f=a,p=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+a);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(u=l.length,i[3]||i[4]){f+=u;continue}else if((i[5]||i[6])&&a%3&&!((a+u)%3)){p+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+p);const g=e.slice(0,a+i.index+u+1);if(Math.min(a,u)%2){const b=g.slice(1,-1);return{type:"em",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}const v=g.slice(2,-2);return{type:"strong",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=is(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=is(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=is(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=is(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=is(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):is(r[0]):r[0]:i=is(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const mt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:r_,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};mt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;mt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;mt.def=Fn(mt.def).replace("label",mt._label).replace("title",mt._title).getRegex();mt.bullet=/(?:[*+-]|\d{1,9}[.)])/;mt.listItemStart=Fn(/^( *)(bull) */).replace("bull",mt.bullet).getRegex();mt.list=Fn(mt.list).replace(/bull/g,mt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+mt.def.source+")").getRegex();mt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";mt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;mt.html=Fn(mt.html,"i").replace("comment",mt._comment).replace("tag",mt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();mt.lheading=Fn(mt.lheading).replace(/bull/g,mt.bullet).getRegex();mt.paragraph=Fn(mt._paragraph).replace("hr",mt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mt._tag).getRegex();mt.blockquote=Fn(mt.blockquote).replace("paragraph",mt.paragraph).getRegex();mt.normal={...mt};mt.gfm={...mt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};mt.gfm.table=Fn(mt.gfm.table).replace("hr",mt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mt._tag).getRegex();mt.gfm.paragraph=Fn(mt._paragraph).replace("hr",mt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",mt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mt._tag).getRegex();mt.pedantic={...mt.normal,html:Fn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:r_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Fn(mt.normal._paragraph).replace("hr",mt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const et={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};et._punctuation="\\p{P}$+<=>`^|~";et.punctuation=Fn(et.punctuation,"u").replace(/punctuation/g,et._punctuation).getRegex();et.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;et.anyPunctuation=/\\[punct]/g;et._escapes=/\\([punct])/g;et._comment=Fn(mt._comment).replace("(?:-->|$)","-->").getRegex();et.emStrong.lDelim=Fn(et.emStrong.lDelim,"u").replace(/punct/g,et._punctuation).getRegex();et.emStrong.rDelimAst=Fn(et.emStrong.rDelimAst,"gu").replace(/punct/g,et._punctuation).getRegex();et.emStrong.rDelimUnd=Fn(et.emStrong.rDelimUnd,"gu").replace(/punct/g,et._punctuation).getRegex();et.anyPunctuation=Fn(et.anyPunctuation,"gu").replace(/punct/g,et._punctuation).getRegex();et._escapes=Fn(et._escapes,"gu").replace(/punct/g,et._punctuation).getRegex();et._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;et._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;et.autolink=Fn(et.autolink).replace("scheme",et._scheme).replace("email",et._email).getRegex();et._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;et.tag=Fn(et.tag).replace("comment",et._comment).replace("attribute",et._attribute).getRegex();et._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;et._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;et._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;et.link=Fn(et.link).replace("label",et._label).replace("href",et._href).replace("title",et._title).getRegex();et.reflink=Fn(et.reflink).replace("label",et._label).replace("ref",mt._label).getRegex();et.nolink=Fn(et.nolink).replace("ref",mt._label).getRegex();et.reflinkSearch=Fn(et.reflinkSearch,"g").replace("reflink",et.reflink).replace("nolink",et.nolink).getRegex();et.normal={...et};et.pedantic={...et.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Fn(/^!?\[(label)\]\((.*?)\)/).replace("label",et._label).getRegex(),reflink:Fn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",et._label).getRegex()};et.gfm={...et.normal,escape:Fn(et.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};et.gfm.url=Fn(et.gfm.url,"i").replace("email",et.gfm._extended_email).getRegex();et.breaks={...et.gfm,br:Fn(et.br).replace("{2,}","*").getRegex(),text:Fn(et.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Ofe(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function WS(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}let b0=class D3{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Dc,this.options.tokenizer=this.options.tokenizer||new i_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:mt.normal,inline:et.normal};this.options.pedantic?(n.block=mt.pedantic,n.inline=et.pedantic):this.options.gfm&&(n.block=mt.gfm,this.options.breaks?n.inline=et.breaks:n.inline=et.gfm),this.tokenizer.rules=n}static get rules(){return{block:mt,inline:et}}static lex(e,n){return new D3(n).lex(e)}static lexInline(e,n){return new D3(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,u,f)=>u+"    ".repeat(f.length));let r,i,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},u),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a=e,l,u,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,WS)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,WS))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(function(v){g=v.call({lexer:this},m),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s,Ofe)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),u=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}};class s_{constructor(e){this.options=e||Dc}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+is(i)+'">'+(r?e:is(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:is(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=US(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=US(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class y6{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class b6{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}let w0=class B3{constructor(e){this.options=e||Dc,this.options.renderer=this.options.renderer||new s_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new y6,this.slugger=new b6}static parse(e,n){return new B3(n).parse(e)}static parseInline(e,n){return new B3(n).parseInline(e)}parse(e,n=!0){let r="",i,s,a,l,u,f,p,m,g,v,b,k,R,N,x,T,M,I,P;const O=e.length;for(i=0;i<O;i++){if(v=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(P=this.options.extensions.renderers[v.type].call({parser:this},v),P!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){r+=P||"";continue}switch(v.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(v.tokens),v.depth,HN(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(m="",p="",l=v.header.length,s=0;s<l;s++)p+=this.renderer.tablecell(this.parseInline(v.header[s].tokens),{header:!0,align:v.align[s]});for(m+=this.renderer.tablerow(p),g="",l=v.rows.length,s=0;s<l;s++){for(f=v.rows[s],p="",u=f.length,a=0;a<u;a++)p+=this.renderer.tablecell(this.parseInline(f[a].tokens),{header:!1,align:v.align[a]});g+=this.renderer.tablerow(p)}r+=this.renderer.table(m,g);continue}case"blockquote":{g=this.parse(v.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(b=v.ordered,k=v.start,R=v.loose,l=v.items.length,g="",s=0;s<l;s++)x=v.items[s],T=x.checked,M=x.task,N="",x.task&&(I=this.renderer.checkbox(T),R?x.tokens.length>0&&x.tokens[0].type==="paragraph"?(x.tokens[0].text=I+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&x.tokens[0].tokens[0].type==="text"&&(x.tokens[0].tokens[0].text=I+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:I}):N+=I),N+=this.parse(x.tokens,R),g+=this.renderer.listitem(N,M,T);r+=this.renderer.list(g,b,k);continue}case"html":{r+=this.renderer.html(v.text,v.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(g=v.tokens?this.parseInline(v.tokens):v.text;i+1<O&&e[i+1].type==="text";)v=e[++i],g+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const z='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(z);return}else throw new Error(z)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,a;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(u);return}else throw new Error(u)}}}return r}};class Id{constructor(e){this.options=e||Dc}preprocess(e){return e}postprocess(e){return e}}bs(Id,"passThroughHooks",new Set(["preprocess","postprocess"]));var xp,z3,f_,WN;class Dfe{constructor(...e){C2(this,xp);C2(this,f_);bs(this,"defaults",v6());bs(this,"options",this.setOptions);bs(this,"parse",Pm(this,xp,z3).call(this,b0.lex,w0.parse));bs(this,"parseInline",Pm(this,xp,z3).call(this,b0.lexInline,w0.parseInline));bs(this,"Parser",w0);bs(this,"parser",w0.parse);bs(this,"Renderer",s_);bs(this,"TextRenderer",y6);bs(this,"Lexer",b0);bs(this,"lexer",b0.lex);bs(this,"Tokenizer",i_);bs(this,"Slugger",b6);bs(this,"Hooks",Id);this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{for(const s of i.header)r=r.concat(this.walkTokens(s.tokens,n));for(const s of i.rows)for(const a of s)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{r=r.concat(this.walkTokens(i.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=n.renderers[s.name];a?n.renderers[s.name]=function(...l){let u=s.renderer.apply(this,l);return u===!1&&(u=a.apply(this,l)),u}:n.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[s.level]?n[s.level].unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new s_(this.defaults);for(const a in r.renderer){const l=s[a];s[a]=(...u)=>{let f=r.renderer[a].apply(s,u);return f===!1&&(f=l.apply(s,u)),f}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new i_(this.defaults);for(const a in r.tokenizer){const l=s[a];s[a]=(...u)=>{let f=r.tokenizer[a].apply(s,u);return f===!1&&(f=l.apply(s,u)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Id;for(const a in r.hooks){const l=s[a];Id.passThroughHooks.has(a)?s[a]=u=>{if(this.defaults.async)return Promise.resolve(r.hooks[a].call(s,u)).then(p=>l.call(s,p));const f=r.hooks[a].call(s,u);return l.call(s,f)}:s[a]=(...u)=>{let f=r.hooks[a].apply(s,u);return f===!1&&(f=l.apply(s,u)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let l=[];return l.push(r.walkTokens.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}xp=new WeakSet,z3=function(e,n){return(r,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const l=Pm(this,f_,WN).call(this,i.silent,i.async,s);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(Nfe(i,s),i.hooks&&(i.hooks.options=i),s){const u=i.highlight;let f;try{i.hooks&&(r=i.hooks.preprocess(r)),f=e(r,i)}catch(g){return l(g)}const p=g=>{let v;if(!g)try{i.walkTokens&&this.walkTokens(f,i.walkTokens),v=n(f,i),i.hooks&&(v=i.hooks.postprocess(v))}catch(b){g=b}return i.highlight=u,g?l(g):s(null,v)};if(!u||u.length<3||(delete i.highlight,!f.length))return p();let m=0;this.walkTokens(f,g=>{g.type==="code"&&(m++,setTimeout(()=>{u(g.text,g.lang,(v,b)=>{if(v)return p(v);b!=null&&b!==g.text&&(g.text=b,g.escaped=!0),m--,m===0&&p()})},0))}),m===0&&p();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(u=>e(u,i)).then(u=>i.walkTokens?Promise.all(this.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>n(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(l);try{i.hooks&&(r=i.hooks.preprocess(r));const u=e(r,i);i.walkTokens&&this.walkTokens(u,i.walkTokens);let f=n(u,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(u){return l(u)}}},f_=new WeakSet,WN=function(e,n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+is(i.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(r){r(null,s);return}return s}if(n)return Promise.reject(i);if(r){r(i);return}throw i}};const G0=new Dfe(Dc);function Rn(t,e,n){return G0.parse(t,e,n)}Rn.options=Rn.setOptions=function(t){return G0.setOptions(t),Rn.defaults=G0.defaults,FN(Rn.defaults),Rn};Rn.getDefaults=v6;Rn.defaults=Dc;Rn.use=function(...t){return G0.use(...t),Rn.defaults=G0.defaults,FN(Rn.defaults),Rn};Rn.walkTokens=function(t,e){return G0.walkTokens(t,e)};Rn.parseInline=G0.parseInline;Rn.Parser=w0;Rn.parser=w0.parse;Rn.Renderer=s_;Rn.TextRenderer=y6;Rn.Lexer=b0;Rn.lexer=b0.lex;Rn.Tokenizer=i_;Rn.Slugger=b6;Rn.Hooks=Id;Rn.parse=Rn;Rn.options;Rn.setOptions;Rn.use;Rn.walkTokens;Rn.parseInline;w0.parse;b0.lex;class ya{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new ya(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class fl{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new fl(n,ya.range(this,e))}}class We{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,s=a.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var u=l.slice(i,s).replace(/[^]/g,"$&̲"),f;i>15?f="…"+l.slice(i-15,i):f=l.slice(0,i);var p;s+15<l.length?p=l.slice(s,s+15)+"…":p=l.slice(s),r+=f+u+p}var m=new Error(r);return m.name="ParseError",m.__proto__=We.prototype,m.position=i,i!=null&&s!=null&&(m.length=s-i),m.rawMessage=e,m}}We.prototype.__proto__=Error.prototype;var Bfe=function(e,n){return e.indexOf(n)!==-1},zfe=function(e,n){return e===void 0?n:e},Ffe=/([A-Z])/g,Ufe=function(e){return e.replace(Ffe,"-$1").toLowerCase()},qfe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Hfe=/[&><"']/g;function Wfe(t){return String(t).replace(Hfe,e=>qfe[e])}var $N=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},$fe=function(e){var n=$N(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Gfe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Vfe=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},It={contains:Bfe,deflt:zfe,escape:Wfe,hyphenate:Ufe,getBaseElem:$N,isCharacterBox:$fe,protocolFromUrl:Vfe},U1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Yfe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class w6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in U1)if(U1.hasOwnProperty(n)){var r=U1[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:Yfe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new We("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=It.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class tc{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return el[Zfe[this.id]]}sub(){return el[Xfe[this.id]]}fracNum(){return el[jfe[this.id]]}fracDen(){return el[Kfe[this.id]]}cramp(){return el[Jfe[this.id]]}text(){return el[Qfe[this.id]]}isTight(){return this.size>=2}}var x6=0,a_=1,Lf=2,mu=3,yp=4,Ga=5,ch=6,As=7,el=[new tc(x6,0,!1),new tc(a_,0,!0),new tc(Lf,1,!1),new tc(mu,1,!0),new tc(yp,2,!1),new tc(Ga,2,!0),new tc(ch,3,!1),new tc(As,3,!0)],Zfe=[yp,Ga,yp,Ga,ch,As,ch,As],Xfe=[Ga,Ga,Ga,Ga,As,As,As,As],jfe=[Lf,mu,yp,Ga,ch,As,ch,As],Kfe=[mu,mu,Ga,Ga,As,As,As,As],Jfe=[a_,a_,mu,mu,Ga,Ga,As,As],Qfe=[x6,a_,Lf,mu,Lf,mu,Lf,mu],bt={DISPLAY:el[x6],TEXT:el[Lf],SCRIPT:el[yp],SCRIPTSCRIPT:el[ch]},F3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ehe(t){for(var e=0;e<F3.length;e++)for(var n=F3[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var q1=[];F3.forEach(t=>t.blocks.forEach(e=>q1.push(...e)));function GN(t){for(var e=0;e<q1.length;e+=2)if(t>=q1[e]&&t<=q1[e+1])return!0;return!1}var _f=80,the=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},nhe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},rhe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ihe=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},she=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},ahe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},ohe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},lhe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=the(n,_f);break;case"sqrtSize1":i=nhe(n,_f);break;case"sqrtSize2":i=rhe(n,_f);break;case"sqrtSize3":i=ihe(n,_f);break;case"sqrtSize4":i=she(n,_f);break;case"sqrtTall":i=ohe(n,_f,r)}return i},uhe=function(e,n){switch(e){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},$S={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},che=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class im{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return It.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var al={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},c1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},GS={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function fhe(t,e){al[t]=e}function S6(t,e,n){if(!al[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=al[e][r];if(!i&&t[0]in GS&&(r=GS[t[0]].charCodeAt(0),i=al[e][r]),!i&&n==="text"&&GN(r)&&(i=al[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var F4={};function hhe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!F4[e]){var n=F4[e]={cssEmPerMu:c1.quad[e]/18};for(var r in c1)c1.hasOwnProperty(r)&&(n[r]=c1[r][e])}return F4[e]}var dhe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],VS=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],YS=function(e,n){return n.size<2?e:dhe[e-1][n.size-1]};class eu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||eu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=VS[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new eu(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:YS(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:VS[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=YS(eu.BASESIZE,e);return this.size===n&&this.textSize===eu.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==eu.BASESIZE?["sizing","reset-size"+this.size,"size"+eu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=hhe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}eu.BASESIZE=6;var U3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},phe={ex:!0,em:!0,mu:!0},VN=function(e){return typeof e!="string"&&(e=e.unit),e in U3||e in phe||e==="ex"},Er=function(e,n){var r;if(e.unit in U3)r=U3[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new We("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Ze=function(e){return+e.toFixed(4)+"em"},Ec=function(e){return e.filter(n=>n).join(" ")},YN=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},ZN=function(e){var n=document.createElement(e);n.className=Ec(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},XN=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+It.escape(Ec(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=It.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+It.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+It.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class sm{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,YN.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return It.contains(this.classes,e)}toNode(){return ZN.call(this,"span")}toMarkup(){return XN.call(this,"span")}}class T6{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,YN.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return It.contains(this.classes,e)}toNode(){return ZN.call(this,"a")}toMarkup(){return XN.call(this,"a")}}class mhe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return It.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=It.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+It.escape(n)+'"'),e+="'/>",e}}var ghe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ka{constructor(e,n,r,i,s,a,l,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=u||{},this.maxFontSize=0;var f=ehe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=ghe[this.text])}hasClass(e){return It.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Ze(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Ec(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=It.escape(Ec(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=It.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+It.escape(r)+'"');var s=It.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Su{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Mc{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",$S[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+$S[this.pathName]+"'/>"}}class q3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function ZS(t){if(t instanceof Ka)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function _he(t){if(t instanceof sm)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var vhe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yhe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},or={math:{},text:{}};function S(t,e,n,r,i,s){or[t][i]={font:e,group:n,replace:r},s&&r&&(or[t][r]=or[t][i])}var A="math",De="text",B="main",Z="ams",gr="accent-token",rt="bin",Os="close",Eh="inner",St="mathord",ei="op-token",ka="open",Ev="punct",K="rel",Nu="spacing",oe="textord";S(A,B,K,"≡","\\equiv",!0);S(A,B,K,"≺","\\prec",!0);S(A,B,K,"≻","\\succ",!0);S(A,B,K,"∼","\\sim",!0);S(A,B,K,"⊥","\\perp");S(A,B,K,"⪯","\\preceq",!0);S(A,B,K,"⪰","\\succeq",!0);S(A,B,K,"≃","\\simeq",!0);S(A,B,K,"∣","\\mid",!0);S(A,B,K,"≪","\\ll",!0);S(A,B,K,"≫","\\gg",!0);S(A,B,K,"≍","\\asymp",!0);S(A,B,K,"∥","\\parallel");S(A,B,K,"⋈","\\bowtie",!0);S(A,B,K,"⌣","\\smile",!0);S(A,B,K,"⊑","\\sqsubseteq",!0);S(A,B,K,"⊒","\\sqsupseteq",!0);S(A,B,K,"≐","\\doteq",!0);S(A,B,K,"⌢","\\frown",!0);S(A,B,K,"∋","\\ni",!0);S(A,B,K,"∝","\\propto",!0);S(A,B,K,"⊢","\\vdash",!0);S(A,B,K,"⊣","\\dashv",!0);S(A,B,K,"∋","\\owns");S(A,B,Ev,".","\\ldotp");S(A,B,Ev,"⋅","\\cdotp");S(A,B,oe,"#","\\#");S(De,B,oe,"#","\\#");S(A,B,oe,"&","\\&");S(De,B,oe,"&","\\&");S(A,B,oe,"ℵ","\\aleph",!0);S(A,B,oe,"∀","\\forall",!0);S(A,B,oe,"ℏ","\\hbar",!0);S(A,B,oe,"∃","\\exists",!0);S(A,B,oe,"∇","\\nabla",!0);S(A,B,oe,"♭","\\flat",!0);S(A,B,oe,"ℓ","\\ell",!0);S(A,B,oe,"♮","\\natural",!0);S(A,B,oe,"♣","\\clubsuit",!0);S(A,B,oe,"℘","\\wp",!0);S(A,B,oe,"♯","\\sharp",!0);S(A,B,oe,"♢","\\diamondsuit",!0);S(A,B,oe,"ℜ","\\Re",!0);S(A,B,oe,"♡","\\heartsuit",!0);S(A,B,oe,"ℑ","\\Im",!0);S(A,B,oe,"♠","\\spadesuit",!0);S(A,B,oe,"§","\\S",!0);S(De,B,oe,"§","\\S");S(A,B,oe,"¶","\\P",!0);S(De,B,oe,"¶","\\P");S(A,B,oe,"†","\\dag");S(De,B,oe,"†","\\dag");S(De,B,oe,"†","\\textdagger");S(A,B,oe,"‡","\\ddag");S(De,B,oe,"‡","\\ddag");S(De,B,oe,"‡","\\textdaggerdbl");S(A,B,Os,"⎱","\\rmoustache",!0);S(A,B,ka,"⎰","\\lmoustache",!0);S(A,B,Os,"⟯","\\rgroup",!0);S(A,B,ka,"⟮","\\lgroup",!0);S(A,B,rt,"∓","\\mp",!0);S(A,B,rt,"⊖","\\ominus",!0);S(A,B,rt,"⊎","\\uplus",!0);S(A,B,rt,"⊓","\\sqcap",!0);S(A,B,rt,"∗","\\ast");S(A,B,rt,"⊔","\\sqcup",!0);S(A,B,rt,"◯","\\bigcirc",!0);S(A,B,rt,"∙","\\bullet",!0);S(A,B,rt,"‡","\\ddagger");S(A,B,rt,"≀","\\wr",!0);S(A,B,rt,"⨿","\\amalg");S(A,B,rt,"&","\\And");S(A,B,K,"⟵","\\longleftarrow",!0);S(A,B,K,"⇐","\\Leftarrow",!0);S(A,B,K,"⟸","\\Longleftarrow",!0);S(A,B,K,"⟶","\\longrightarrow",!0);S(A,B,K,"⇒","\\Rightarrow",!0);S(A,B,K,"⟹","\\Longrightarrow",!0);S(A,B,K,"↔","\\leftrightarrow",!0);S(A,B,K,"⟷","\\longleftrightarrow",!0);S(A,B,K,"⇔","\\Leftrightarrow",!0);S(A,B,K,"⟺","\\Longleftrightarrow",!0);S(A,B,K,"↦","\\mapsto",!0);S(A,B,K,"⟼","\\longmapsto",!0);S(A,B,K,"↗","\\nearrow",!0);S(A,B,K,"↩","\\hookleftarrow",!0);S(A,B,K,"↪","\\hookrightarrow",!0);S(A,B,K,"↘","\\searrow",!0);S(A,B,K,"↼","\\leftharpoonup",!0);S(A,B,K,"⇀","\\rightharpoonup",!0);S(A,B,K,"↙","\\swarrow",!0);S(A,B,K,"↽","\\leftharpoondown",!0);S(A,B,K,"⇁","\\rightharpoondown",!0);S(A,B,K,"↖","\\nwarrow",!0);S(A,B,K,"⇌","\\rightleftharpoons",!0);S(A,Z,K,"≮","\\nless",!0);S(A,Z,K,"","\\@nleqslant");S(A,Z,K,"","\\@nleqq");S(A,Z,K,"⪇","\\lneq",!0);S(A,Z,K,"≨","\\lneqq",!0);S(A,Z,K,"","\\@lvertneqq");S(A,Z,K,"⋦","\\lnsim",!0);S(A,Z,K,"⪉","\\lnapprox",!0);S(A,Z,K,"⊀","\\nprec",!0);S(A,Z,K,"⋠","\\npreceq",!0);S(A,Z,K,"⋨","\\precnsim",!0);S(A,Z,K,"⪹","\\precnapprox",!0);S(A,Z,K,"≁","\\nsim",!0);S(A,Z,K,"","\\@nshortmid");S(A,Z,K,"∤","\\nmid",!0);S(A,Z,K,"⊬","\\nvdash",!0);S(A,Z,K,"⊭","\\nvDash",!0);S(A,Z,K,"⋪","\\ntriangleleft");S(A,Z,K,"⋬","\\ntrianglelefteq",!0);S(A,Z,K,"⊊","\\subsetneq",!0);S(A,Z,K,"","\\@varsubsetneq");S(A,Z,K,"⫋","\\subsetneqq",!0);S(A,Z,K,"","\\@varsubsetneqq");S(A,Z,K,"≯","\\ngtr",!0);S(A,Z,K,"","\\@ngeqslant");S(A,Z,K,"","\\@ngeqq");S(A,Z,K,"⪈","\\gneq",!0);S(A,Z,K,"≩","\\gneqq",!0);S(A,Z,K,"","\\@gvertneqq");S(A,Z,K,"⋧","\\gnsim",!0);S(A,Z,K,"⪊","\\gnapprox",!0);S(A,Z,K,"⊁","\\nsucc",!0);S(A,Z,K,"⋡","\\nsucceq",!0);S(A,Z,K,"⋩","\\succnsim",!0);S(A,Z,K,"⪺","\\succnapprox",!0);S(A,Z,K,"≆","\\ncong",!0);S(A,Z,K,"","\\@nshortparallel");S(A,Z,K,"∦","\\nparallel",!0);S(A,Z,K,"⊯","\\nVDash",!0);S(A,Z,K,"⋫","\\ntriangleright");S(A,Z,K,"⋭","\\ntrianglerighteq",!0);S(A,Z,K,"","\\@nsupseteqq");S(A,Z,K,"⊋","\\supsetneq",!0);S(A,Z,K,"","\\@varsupsetneq");S(A,Z,K,"⫌","\\supsetneqq",!0);S(A,Z,K,"","\\@varsupsetneqq");S(A,Z,K,"⊮","\\nVdash",!0);S(A,Z,K,"⪵","\\precneqq",!0);S(A,Z,K,"⪶","\\succneqq",!0);S(A,Z,K,"","\\@nsubseteqq");S(A,Z,rt,"⊴","\\unlhd");S(A,Z,rt,"⊵","\\unrhd");S(A,Z,K,"↚","\\nleftarrow",!0);S(A,Z,K,"↛","\\nrightarrow",!0);S(A,Z,K,"⇍","\\nLeftarrow",!0);S(A,Z,K,"⇏","\\nRightarrow",!0);S(A,Z,K,"↮","\\nleftrightarrow",!0);S(A,Z,K,"⇎","\\nLeftrightarrow",!0);S(A,Z,K,"△","\\vartriangle");S(A,Z,oe,"ℏ","\\hslash");S(A,Z,oe,"▽","\\triangledown");S(A,Z,oe,"◊","\\lozenge");S(A,Z,oe,"Ⓢ","\\circledS");S(A,Z,oe,"®","\\circledR");S(De,Z,oe,"®","\\circledR");S(A,Z,oe,"∡","\\measuredangle",!0);S(A,Z,oe,"∄","\\nexists");S(A,Z,oe,"℧","\\mho");S(A,Z,oe,"Ⅎ","\\Finv",!0);S(A,Z,oe,"⅁","\\Game",!0);S(A,Z,oe,"‵","\\backprime");S(A,Z,oe,"▲","\\blacktriangle");S(A,Z,oe,"▼","\\blacktriangledown");S(A,Z,oe,"■","\\blacksquare");S(A,Z,oe,"⧫","\\blacklozenge");S(A,Z,oe,"★","\\bigstar");S(A,Z,oe,"∢","\\sphericalangle",!0);S(A,Z,oe,"∁","\\complement",!0);S(A,Z,oe,"ð","\\eth",!0);S(De,B,oe,"ð","ð");S(A,Z,oe,"╱","\\diagup");S(A,Z,oe,"╲","\\diagdown");S(A,Z,oe,"□","\\square");S(A,Z,oe,"□","\\Box");S(A,Z,oe,"◊","\\Diamond");S(A,Z,oe,"¥","\\yen",!0);S(De,Z,oe,"¥","\\yen",!0);S(A,Z,oe,"✓","\\checkmark",!0);S(De,Z,oe,"✓","\\checkmark");S(A,Z,oe,"ℶ","\\beth",!0);S(A,Z,oe,"ℸ","\\daleth",!0);S(A,Z,oe,"ℷ","\\gimel",!0);S(A,Z,oe,"ϝ","\\digamma",!0);S(A,Z,oe,"ϰ","\\varkappa");S(A,Z,ka,"┌","\\@ulcorner",!0);S(A,Z,Os,"┐","\\@urcorner",!0);S(A,Z,ka,"└","\\@llcorner",!0);S(A,Z,Os,"┘","\\@lrcorner",!0);S(A,Z,K,"≦","\\leqq",!0);S(A,Z,K,"⩽","\\leqslant",!0);S(A,Z,K,"⪕","\\eqslantless",!0);S(A,Z,K,"≲","\\lesssim",!0);S(A,Z,K,"⪅","\\lessapprox",!0);S(A,Z,K,"≊","\\approxeq",!0);S(A,Z,rt,"⋖","\\lessdot");S(A,Z,K,"⋘","\\lll",!0);S(A,Z,K,"≶","\\lessgtr",!0);S(A,Z,K,"⋚","\\lesseqgtr",!0);S(A,Z,K,"⪋","\\lesseqqgtr",!0);S(A,Z,K,"≑","\\doteqdot");S(A,Z,K,"≓","\\risingdotseq",!0);S(A,Z,K,"≒","\\fallingdotseq",!0);S(A,Z,K,"∽","\\backsim",!0);S(A,Z,K,"⋍","\\backsimeq",!0);S(A,Z,K,"⫅","\\subseteqq",!0);S(A,Z,K,"⋐","\\Subset",!0);S(A,Z,K,"⊏","\\sqsubset",!0);S(A,Z,K,"≼","\\preccurlyeq",!0);S(A,Z,K,"⋞","\\curlyeqprec",!0);S(A,Z,K,"≾","\\precsim",!0);S(A,Z,K,"⪷","\\precapprox",!0);S(A,Z,K,"⊲","\\vartriangleleft");S(A,Z,K,"⊴","\\trianglelefteq");S(A,Z,K,"⊨","\\vDash",!0);S(A,Z,K,"⊪","\\Vvdash",!0);S(A,Z,K,"⌣","\\smallsmile");S(A,Z,K,"⌢","\\smallfrown");S(A,Z,K,"≏","\\bumpeq",!0);S(A,Z,K,"≎","\\Bumpeq",!0);S(A,Z,K,"≧","\\geqq",!0);S(A,Z,K,"⩾","\\geqslant",!0);S(A,Z,K,"⪖","\\eqslantgtr",!0);S(A,Z,K,"≳","\\gtrsim",!0);S(A,Z,K,"⪆","\\gtrapprox",!0);S(A,Z,rt,"⋗","\\gtrdot");S(A,Z,K,"⋙","\\ggg",!0);S(A,Z,K,"≷","\\gtrless",!0);S(A,Z,K,"⋛","\\gtreqless",!0);S(A,Z,K,"⪌","\\gtreqqless",!0);S(A,Z,K,"≖","\\eqcirc",!0);S(A,Z,K,"≗","\\circeq",!0);S(A,Z,K,"≜","\\triangleq",!0);S(A,Z,K,"∼","\\thicksim");S(A,Z,K,"≈","\\thickapprox");S(A,Z,K,"⫆","\\supseteqq",!0);S(A,Z,K,"⋑","\\Supset",!0);S(A,Z,K,"⊐","\\sqsupset",!0);S(A,Z,K,"≽","\\succcurlyeq",!0);S(A,Z,K,"⋟","\\curlyeqsucc",!0);S(A,Z,K,"≿","\\succsim",!0);S(A,Z,K,"⪸","\\succapprox",!0);S(A,Z,K,"⊳","\\vartriangleright");S(A,Z,K,"⊵","\\trianglerighteq");S(A,Z,K,"⊩","\\Vdash",!0);S(A,Z,K,"∣","\\shortmid");S(A,Z,K,"∥","\\shortparallel");S(A,Z,K,"≬","\\between",!0);S(A,Z,K,"⋔","\\pitchfork",!0);S(A,Z,K,"∝","\\varpropto");S(A,Z,K,"◀","\\blacktriangleleft");S(A,Z,K,"∴","\\therefore",!0);S(A,Z,K,"∍","\\backepsilon");S(A,Z,K,"▶","\\blacktriangleright");S(A,Z,K,"∵","\\because",!0);S(A,Z,K,"⋘","\\llless");S(A,Z,K,"⋙","\\gggtr");S(A,Z,rt,"⊲","\\lhd");S(A,Z,rt,"⊳","\\rhd");S(A,Z,K,"≂","\\eqsim",!0);S(A,B,K,"⋈","\\Join");S(A,Z,K,"≑","\\Doteq",!0);S(A,Z,rt,"∔","\\dotplus",!0);S(A,Z,rt,"∖","\\smallsetminus");S(A,Z,rt,"⋒","\\Cap",!0);S(A,Z,rt,"⋓","\\Cup",!0);S(A,Z,rt,"⩞","\\doublebarwedge",!0);S(A,Z,rt,"⊟","\\boxminus",!0);S(A,Z,rt,"⊞","\\boxplus",!0);S(A,Z,rt,"⋇","\\divideontimes",!0);S(A,Z,rt,"⋉","\\ltimes",!0);S(A,Z,rt,"⋊","\\rtimes",!0);S(A,Z,rt,"⋋","\\leftthreetimes",!0);S(A,Z,rt,"⋌","\\rightthreetimes",!0);S(A,Z,rt,"⋏","\\curlywedge",!0);S(A,Z,rt,"⋎","\\curlyvee",!0);S(A,Z,rt,"⊝","\\circleddash",!0);S(A,Z,rt,"⊛","\\circledast",!0);S(A,Z,rt,"⋅","\\centerdot");S(A,Z,rt,"⊺","\\intercal",!0);S(A,Z,rt,"⋒","\\doublecap");S(A,Z,rt,"⋓","\\doublecup");S(A,Z,rt,"⊠","\\boxtimes",!0);S(A,Z,K,"⇢","\\dashrightarrow",!0);S(A,Z,K,"⇠","\\dashleftarrow",!0);S(A,Z,K,"⇇","\\leftleftarrows",!0);S(A,Z,K,"⇆","\\leftrightarrows",!0);S(A,Z,K,"⇚","\\Lleftarrow",!0);S(A,Z,K,"↞","\\twoheadleftarrow",!0);S(A,Z,K,"↢","\\leftarrowtail",!0);S(A,Z,K,"↫","\\looparrowleft",!0);S(A,Z,K,"⇋","\\leftrightharpoons",!0);S(A,Z,K,"↶","\\curvearrowleft",!0);S(A,Z,K,"↺","\\circlearrowleft",!0);S(A,Z,K,"↰","\\Lsh",!0);S(A,Z,K,"⇈","\\upuparrows",!0);S(A,Z,K,"↿","\\upharpoonleft",!0);S(A,Z,K,"⇃","\\downharpoonleft",!0);S(A,B,K,"⊶","\\origof",!0);S(A,B,K,"⊷","\\imageof",!0);S(A,Z,K,"⊸","\\multimap",!0);S(A,Z,K,"↭","\\leftrightsquigarrow",!0);S(A,Z,K,"⇉","\\rightrightarrows",!0);S(A,Z,K,"⇄","\\rightleftarrows",!0);S(A,Z,K,"↠","\\twoheadrightarrow",!0);S(A,Z,K,"↣","\\rightarrowtail",!0);S(A,Z,K,"↬","\\looparrowright",!0);S(A,Z,K,"↷","\\curvearrowright",!0);S(A,Z,K,"↻","\\circlearrowright",!0);S(A,Z,K,"↱","\\Rsh",!0);S(A,Z,K,"⇊","\\downdownarrows",!0);S(A,Z,K,"↾","\\upharpoonright",!0);S(A,Z,K,"⇂","\\downharpoonright",!0);S(A,Z,K,"⇝","\\rightsquigarrow",!0);S(A,Z,K,"⇝","\\leadsto");S(A,Z,K,"⇛","\\Rrightarrow",!0);S(A,Z,K,"↾","\\restriction");S(A,B,oe,"‘","`");S(A,B,oe,"$","\\$");S(De,B,oe,"$","\\$");S(De,B,oe,"$","\\textdollar");S(A,B,oe,"%","\\%");S(De,B,oe,"%","\\%");S(A,B,oe,"_","\\_");S(De,B,oe,"_","\\_");S(De,B,oe,"_","\\textunderscore");S(A,B,oe,"∠","\\angle",!0);S(A,B,oe,"∞","\\infty",!0);S(A,B,oe,"′","\\prime");S(A,B,oe,"△","\\triangle");S(A,B,oe,"Γ","\\Gamma",!0);S(A,B,oe,"Δ","\\Delta",!0);S(A,B,oe,"Θ","\\Theta",!0);S(A,B,oe,"Λ","\\Lambda",!0);S(A,B,oe,"Ξ","\\Xi",!0);S(A,B,oe,"Π","\\Pi",!0);S(A,B,oe,"Σ","\\Sigma",!0);S(A,B,oe,"Υ","\\Upsilon",!0);S(A,B,oe,"Φ","\\Phi",!0);S(A,B,oe,"Ψ","\\Psi",!0);S(A,B,oe,"Ω","\\Omega",!0);S(A,B,oe,"A","Α");S(A,B,oe,"B","Β");S(A,B,oe,"E","Ε");S(A,B,oe,"Z","Ζ");S(A,B,oe,"H","Η");S(A,B,oe,"I","Ι");S(A,B,oe,"K","Κ");S(A,B,oe,"M","Μ");S(A,B,oe,"N","Ν");S(A,B,oe,"O","Ο");S(A,B,oe,"P","Ρ");S(A,B,oe,"T","Τ");S(A,B,oe,"X","Χ");S(A,B,oe,"¬","\\neg",!0);S(A,B,oe,"¬","\\lnot");S(A,B,oe,"⊤","\\top");S(A,B,oe,"⊥","\\bot");S(A,B,oe,"∅","\\emptyset");S(A,Z,oe,"∅","\\varnothing");S(A,B,St,"α","\\alpha",!0);S(A,B,St,"β","\\beta",!0);S(A,B,St,"γ","\\gamma",!0);S(A,B,St,"δ","\\delta",!0);S(A,B,St,"ϵ","\\epsilon",!0);S(A,B,St,"ζ","\\zeta",!0);S(A,B,St,"η","\\eta",!0);S(A,B,St,"θ","\\theta",!0);S(A,B,St,"ι","\\iota",!0);S(A,B,St,"κ","\\kappa",!0);S(A,B,St,"λ","\\lambda",!0);S(A,B,St,"μ","\\mu",!0);S(A,B,St,"ν","\\nu",!0);S(A,B,St,"ξ","\\xi",!0);S(A,B,St,"ο","\\omicron",!0);S(A,B,St,"π","\\pi",!0);S(A,B,St,"ρ","\\rho",!0);S(A,B,St,"σ","\\sigma",!0);S(A,B,St,"τ","\\tau",!0);S(A,B,St,"υ","\\upsilon",!0);S(A,B,St,"ϕ","\\phi",!0);S(A,B,St,"χ","\\chi",!0);S(A,B,St,"ψ","\\psi",!0);S(A,B,St,"ω","\\omega",!0);S(A,B,St,"ε","\\varepsilon",!0);S(A,B,St,"ϑ","\\vartheta",!0);S(A,B,St,"ϖ","\\varpi",!0);S(A,B,St,"ϱ","\\varrho",!0);S(A,B,St,"ς","\\varsigma",!0);S(A,B,St,"φ","\\varphi",!0);S(A,B,rt,"∗","*",!0);S(A,B,rt,"+","+");S(A,B,rt,"−","-",!0);S(A,B,rt,"⋅","\\cdot",!0);S(A,B,rt,"∘","\\circ",!0);S(A,B,rt,"÷","\\div",!0);S(A,B,rt,"±","\\pm",!0);S(A,B,rt,"×","\\times",!0);S(A,B,rt,"∩","\\cap",!0);S(A,B,rt,"∪","\\cup",!0);S(A,B,rt,"∖","\\setminus",!0);S(A,B,rt,"∧","\\land");S(A,B,rt,"∨","\\lor");S(A,B,rt,"∧","\\wedge",!0);S(A,B,rt,"∨","\\vee",!0);S(A,B,oe,"√","\\surd");S(A,B,ka,"⟨","\\langle",!0);S(A,B,ka,"∣","\\lvert");S(A,B,ka,"∥","\\lVert");S(A,B,Os,"?","?");S(A,B,Os,"!","!");S(A,B,Os,"⟩","\\rangle",!0);S(A,B,Os,"∣","\\rvert");S(A,B,Os,"∥","\\rVert");S(A,B,K,"=","=");S(A,B,K,":",":");S(A,B,K,"≈","\\approx",!0);S(A,B,K,"≅","\\cong",!0);S(A,B,K,"≥","\\ge");S(A,B,K,"≥","\\geq",!0);S(A,B,K,"←","\\gets");S(A,B,K,">","\\gt",!0);S(A,B,K,"∈","\\in",!0);S(A,B,K,"","\\@not");S(A,B,K,"⊂","\\subset",!0);S(A,B,K,"⊃","\\supset",!0);S(A,B,K,"⊆","\\subseteq",!0);S(A,B,K,"⊇","\\supseteq",!0);S(A,Z,K,"⊈","\\nsubseteq",!0);S(A,Z,K,"⊉","\\nsupseteq",!0);S(A,B,K,"⊨","\\models");S(A,B,K,"←","\\leftarrow",!0);S(A,B,K,"≤","\\le");S(A,B,K,"≤","\\leq",!0);S(A,B,K,"<","\\lt",!0);S(A,B,K,"→","\\rightarrow",!0);S(A,B,K,"→","\\to");S(A,Z,K,"≱","\\ngeq",!0);S(A,Z,K,"≰","\\nleq",!0);S(A,B,Nu," ","\\ ");S(A,B,Nu," ","\\space");S(A,B,Nu," ","\\nobreakspace");S(De,B,Nu," ","\\ ");S(De,B,Nu," "," ");S(De,B,Nu," ","\\space");S(De,B,Nu," ","\\nobreakspace");S(A,B,Nu,null,"\\nobreak");S(A,B,Nu,null,"\\allowbreak");S(A,B,Ev,",",",");S(A,B,Ev,";",";");S(A,Z,rt,"⊼","\\barwedge",!0);S(A,Z,rt,"⊻","\\veebar",!0);S(A,B,rt,"⊙","\\odot",!0);S(A,B,rt,"⊕","\\oplus",!0);S(A,B,rt,"⊗","\\otimes",!0);S(A,B,oe,"∂","\\partial",!0);S(A,B,rt,"⊘","\\oslash",!0);S(A,Z,rt,"⊚","\\circledcirc",!0);S(A,Z,rt,"⊡","\\boxdot",!0);S(A,B,rt,"△","\\bigtriangleup");S(A,B,rt,"▽","\\bigtriangledown");S(A,B,rt,"†","\\dagger");S(A,B,rt,"⋄","\\diamond");S(A,B,rt,"⋆","\\star");S(A,B,rt,"◃","\\triangleleft");S(A,B,rt,"▹","\\triangleright");S(A,B,ka,"{","\\{");S(De,B,oe,"{","\\{");S(De,B,oe,"{","\\textbraceleft");S(A,B,Os,"}","\\}");S(De,B,oe,"}","\\}");S(De,B,oe,"}","\\textbraceright");S(A,B,ka,"{","\\lbrace");S(A,B,Os,"}","\\rbrace");S(A,B,ka,"[","\\lbrack",!0);S(De,B,oe,"[","\\lbrack",!0);S(A,B,Os,"]","\\rbrack",!0);S(De,B,oe,"]","\\rbrack",!0);S(A,B,ka,"(","\\lparen",!0);S(A,B,Os,")","\\rparen",!0);S(De,B,oe,"<","\\textless",!0);S(De,B,oe,">","\\textgreater",!0);S(A,B,ka,"⌊","\\lfloor",!0);S(A,B,Os,"⌋","\\rfloor",!0);S(A,B,ka,"⌈","\\lceil",!0);S(A,B,Os,"⌉","\\rceil",!0);S(A,B,oe,"\\","\\backslash");S(A,B,oe,"∣","|");S(A,B,oe,"∣","\\vert");S(De,B,oe,"|","\\textbar",!0);S(A,B,oe,"∥","\\|");S(A,B,oe,"∥","\\Vert");S(De,B,oe,"∥","\\textbardbl");S(De,B,oe,"~","\\textasciitilde");S(De,B,oe,"\\","\\textbackslash");S(De,B,oe,"^","\\textasciicircum");S(A,B,K,"↑","\\uparrow",!0);S(A,B,K,"⇑","\\Uparrow",!0);S(A,B,K,"↓","\\downarrow",!0);S(A,B,K,"⇓","\\Downarrow",!0);S(A,B,K,"↕","\\updownarrow",!0);S(A,B,K,"⇕","\\Updownarrow",!0);S(A,B,ei,"∐","\\coprod");S(A,B,ei,"⋁","\\bigvee");S(A,B,ei,"⋀","\\bigwedge");S(A,B,ei,"⨄","\\biguplus");S(A,B,ei,"⋂","\\bigcap");S(A,B,ei,"⋃","\\bigcup");S(A,B,ei,"∫","\\int");S(A,B,ei,"∫","\\intop");S(A,B,ei,"∬","\\iint");S(A,B,ei,"∭","\\iiint");S(A,B,ei,"∏","\\prod");S(A,B,ei,"∑","\\sum");S(A,B,ei,"⨂","\\bigotimes");S(A,B,ei,"⨁","\\bigoplus");S(A,B,ei,"⨀","\\bigodot");S(A,B,ei,"∮","\\oint");S(A,B,ei,"∯","\\oiint");S(A,B,ei,"∰","\\oiiint");S(A,B,ei,"⨆","\\bigsqcup");S(A,B,ei,"∫","\\smallint");S(De,B,Eh,"…","\\textellipsis");S(A,B,Eh,"…","\\mathellipsis");S(De,B,Eh,"…","\\ldots",!0);S(A,B,Eh,"…","\\ldots",!0);S(A,B,Eh,"⋯","\\@cdots",!0);S(A,B,Eh,"⋱","\\ddots",!0);S(A,B,oe,"⋮","\\varvdots");S(A,B,gr,"ˊ","\\acute");S(A,B,gr,"ˋ","\\grave");S(A,B,gr,"¨","\\ddot");S(A,B,gr,"~","\\tilde");S(A,B,gr,"ˉ","\\bar");S(A,B,gr,"˘","\\breve");S(A,B,gr,"ˇ","\\check");S(A,B,gr,"^","\\hat");S(A,B,gr,"⃗","\\vec");S(A,B,gr,"˙","\\dot");S(A,B,gr,"˚","\\mathring");S(A,B,St,"","\\@imath");S(A,B,St,"","\\@jmath");S(A,B,oe,"ı","ı");S(A,B,oe,"ȷ","ȷ");S(De,B,oe,"ı","\\i",!0);S(De,B,oe,"ȷ","\\j",!0);S(De,B,oe,"ß","\\ss",!0);S(De,B,oe,"æ","\\ae",!0);S(De,B,oe,"œ","\\oe",!0);S(De,B,oe,"ø","\\o",!0);S(De,B,oe,"Æ","\\AE",!0);S(De,B,oe,"Œ","\\OE",!0);S(De,B,oe,"Ø","\\O",!0);S(De,B,gr,"ˊ","\\'");S(De,B,gr,"ˋ","\\`");S(De,B,gr,"ˆ","\\^");S(De,B,gr,"˜","\\~");S(De,B,gr,"ˉ","\\=");S(De,B,gr,"˘","\\u");S(De,B,gr,"˙","\\.");S(De,B,gr,"¸","\\c");S(De,B,gr,"˚","\\r");S(De,B,gr,"ˇ","\\v");S(De,B,gr,"¨",'\\"');S(De,B,gr,"˝","\\H");S(De,B,gr,"◯","\\textcircled");var jN={"--":!0,"---":!0,"``":!0,"''":!0};S(De,B,oe,"–","--",!0);S(De,B,oe,"–","\\textendash");S(De,B,oe,"—","---",!0);S(De,B,oe,"—","\\textemdash");S(De,B,oe,"‘","`",!0);S(De,B,oe,"‘","\\textquoteleft");S(De,B,oe,"’","'",!0);S(De,B,oe,"’","\\textquoteright");S(De,B,oe,"“","``",!0);S(De,B,oe,"“","\\textquotedblleft");S(De,B,oe,"”","''",!0);S(De,B,oe,"”","\\textquotedblright");S(A,B,oe,"°","\\degree",!0);S(De,B,oe,"°","\\degree");S(De,B,oe,"°","\\textdegree",!0);S(A,B,oe,"£","\\pounds");S(A,B,oe,"£","\\mathsterling",!0);S(De,B,oe,"£","\\pounds");S(De,B,oe,"£","\\textsterling",!0);S(A,Z,oe,"✠","\\maltese");S(De,Z,oe,"✠","\\maltese");var XS='0123456789/@."';for(var U4=0;U4<XS.length;U4++){var jS=XS.charAt(U4);S(A,B,oe,jS,jS)}var KS='0123456789!@*()-=+";:?/.,';for(var q4=0;q4<KS.length;q4++){var JS=KS.charAt(q4);S(De,B,oe,JS,JS)}var o_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var H4=0;H4<o_.length;H4++){var f1=o_.charAt(H4);S(A,B,St,f1,f1),S(De,B,oe,f1,f1)}S(A,Z,oe,"C","ℂ");S(De,Z,oe,"C","ℂ");S(A,Z,oe,"H","ℍ");S(De,Z,oe,"H","ℍ");S(A,Z,oe,"N","ℕ");S(De,Z,oe,"N","ℕ");S(A,Z,oe,"P","ℙ");S(De,Z,oe,"P","ℙ");S(A,Z,oe,"Q","ℚ");S(De,Z,oe,"Q","ℚ");S(A,Z,oe,"R","ℝ");S(De,Z,oe,"R","ℝ");S(A,Z,oe,"Z","ℤ");S(De,Z,oe,"Z","ℤ");S(A,B,St,"h","ℎ");S(De,B,St,"h","ℎ");var Bt="";for(var Js=0;Js<o_.length;Js++){var Qr=o_.charAt(Js);Bt=String.fromCharCode(55349,56320+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56372+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56424+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56580+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56736+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56788+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56840+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56944+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Js<26&&(Bt=String.fromCharCode(55349,56632+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt),Bt=String.fromCharCode(55349,56476+Js),S(A,B,St,Qr,Bt),S(De,B,oe,Qr,Bt))}Bt=String.fromCharCode(55349,56668);S(A,B,St,"k",Bt);S(De,B,oe,"k",Bt);for(var u0=0;u0<10;u0++){var nc=u0.toString();Bt=String.fromCharCode(55349,57294+u0),S(A,B,St,nc,Bt),S(De,B,oe,nc,Bt),Bt=String.fromCharCode(55349,57314+u0),S(A,B,St,nc,Bt),S(De,B,oe,nc,Bt),Bt=String.fromCharCode(55349,57324+u0),S(A,B,St,nc,Bt),S(De,B,oe,nc,Bt),Bt=String.fromCharCode(55349,57334+u0),S(A,B,St,nc,Bt),S(De,B,oe,nc,Bt)}var H3="ÐÞþ";for(var W4=0;W4<H3.length;W4++){var h1=H3.charAt(W4);S(A,B,St,h1,h1),S(De,B,oe,h1,h1)}var d1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],QS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],bhe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[d1[l][2],d1[l][a]]}else if(120782<=s&&s<=120831){var u=Math.floor((s-120782)/10);return[QS[u][2],QS[u][a]]}else{if(s===120485||s===120486)return[d1[0][2],d1[0][a]];if(120486<s&&s<120782)return["",""];throw new We("Unsupported character: "+e)}},Mv=function(e,n,r){return or[r][e]&&or[r][e].replace&&(e=or[r][e].replace),{value:e,metrics:S6(e,n,r)}},_o=function(e,n,r,i,s){var a=Mv(e,n,r),l=a.metrics;e=a.value;var u;if(l){var f=l.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),u=new Ka(e,l.height,l.depth,f,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),u=new Ka(e,0,0,0,0,0,s);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var p=i.getColor();p&&(u.style.color=p)}return u},whe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Mv(e,"Main-Bold",n).metrics?_o(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||or[n][e].font==="main"?_o(e,"Main-Regular",n,r,i):_o(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},xhe=function(e,n,r,i,s){return s!=="textord"&&Mv(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},She=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],l=i==="math"||i==="text"&&n.font,u=l?n.font:n.fontFamily;if(s.charCodeAt(0)===55349){var[f,p]=bhe(s,i);return _o(s,f,i,n,a.concat(p))}else if(u){var m,g;if(u==="boldsymbol"){var v=xhe(s,i,n,a,r);m=v.fontName,g=[v.fontClass]}else l?(m=QN[u].fontName,g=[u]):(m=p1(u,n.fontWeight,n.fontShape),g=[u,n.fontWeight,n.fontShape]);if(Mv(s,m,i).metrics)return _o(s,m,i,n,a.concat(g));if(jN.hasOwnProperty(s)&&m.slice(0,10)==="Typewriter"){for(var b=[],k=0;k<s.length;k++)b.push(_o(s[k],m,i,n,a.concat(g)));return JN(b)}}if(r==="mathord")return _o(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var R=or[i][s]&&or[i][s].font;if(R==="ams"){var N=p1("amsrm",n.fontWeight,n.fontShape);return _o(s,N,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(R==="main"||!R){var x=p1("textrm",n.fontWeight,n.fontShape);return _o(s,x,i,n,a.concat(n.fontWeight,n.fontShape))}else{var T=p1(R,n.fontWeight,n.fontShape);return _o(s,T,i,n,a.concat(T,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},The=(t,e)=>{if(Ec(t.classes)!==Ec(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},khe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Ka&&r instanceof Ka&&The(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},k6=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},ea=function(e,n,r,i){var s=new sm(e,n,r,i);return k6(s),s},KN=(t,e,n,r)=>new sm(t,e,n,r),Ehe=function(e,n,r){var i=ea([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Ze(i.height),i.maxFontSize=1,i},Mhe=function(e,n,r,i){var s=new T6(e,n,r,i);return k6(s),s},JN=function(e){var n=new im(e);return k6(n),n},Che=function(e,n){return e instanceof im?ea([],[e],n):e},Ahe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var l=-n[a].shift-s-n[a].elem.depth,u=l-(n[a-1].elem.height+n[a-1].elem.depth);s=s+l,r.push({type:"kern",size:u}),r.push(n[a])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var p=e.positionData,m=0;m<e.children.length;m++){var g=e.children[m];p-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}f=p}else if(e.positionType==="bottom")f=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Ihe=function(e,n){for(var{children:r,depth:i}=Ahe(e),s=0,a=0;a<r.length;a++){var l=r[a];if(l.type==="elem"){var u=l.elem;s=Math.max(s,u.maxFontSize,u.height)}}s+=2;var f=ea(["pstrut"],[]);f.style.height=Ze(s);for(var p=[],m=i,g=i,v=i,b=0;b<r.length;b++){var k=r[b];if(k.type==="kern")v+=k.size;else{var R=k.elem,N=k.wrapperClasses||[],x=k.wrapperStyle||{},T=ea(N,[f,R],void 0,x);T.style.top=Ze(-s-v-R.depth),k.marginLeft&&(T.style.marginLeft=k.marginLeft),k.marginRight&&(T.style.marginRight=k.marginRight),p.push(T),v+=R.height+R.depth}m=Math.min(m,v),g=Math.max(g,v)}var M=ea(["vlist"],p);M.style.height=Ze(g);var I;if(m<0){var P=ea([],[]),O=ea(["vlist"],[P]);O.style.height=Ze(-m);var z=ea(["vlist-s"],[new Ka("​")]);I=[ea(["vlist-r"],[M,z]),ea(["vlist-r"],[O])]}else I=[ea(["vlist-r"],[M])];var $=ea(["vlist-t"],I);return I.length===2&&$.classes.push("vlist-t2"),$.height=g,$.depth=-m,$},Rhe=(t,e)=>{var n=ea(["mspace"],[],e),r=Er(t,e);return n.style.marginRight=Ze(r),n},p1=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},QN={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},eL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Phe=function(e,n){var[r,i,s]=eL[e],a=new Mc(r),l=new Su([a],{width:Ze(i),height:Ze(s),style:"width:"+Ze(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),u=KN(["overlay"],[l],n);return u.height=s,u.style.height=Ze(s),u.style.width=Ze(i),u},_e={fontMap:QN,makeSymbol:_o,mathsym:whe,makeSpan:ea,makeSvgSpan:KN,makeLineSpan:Ehe,makeAnchor:Mhe,makeFragment:JN,wrapFragment:Che,makeVList:Ihe,makeOrd:She,makeGlue:Rhe,staticSvg:Phe,svgData:eL,tryCombineChars:khe},Sr={number:3,unit:"mu"},c0={number:4,unit:"mu"},Kl={number:5,unit:"mu"},Nhe={mord:{mop:Sr,mbin:c0,mrel:Kl,minner:Sr},mop:{mord:Sr,mop:Sr,mrel:Kl,minner:Sr},mbin:{mord:c0,mop:c0,mopen:c0,minner:c0},mrel:{mord:Kl,mop:Kl,mopen:Kl,minner:Kl},mopen:{},mclose:{mop:Sr,mbin:c0,mrel:Kl,minner:Sr},mpunct:{mord:Sr,mop:Sr,mrel:Kl,mopen:Sr,mclose:Sr,mpunct:Sr,minner:Sr},minner:{mord:Sr,mop:Sr,mbin:c0,mrel:Kl,mopen:Sr,mpunct:Sr,minner:Sr}},Lhe={mord:{mop:Sr},mop:{mord:Sr,mop:Sr},mbin:{},mrel:{},mopen:{},mclose:{mop:Sr},mpunct:{},minner:{mop:Sr}},tL={},l_={},u_={};function Je(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},u=0;u<n.length;++u)tL[n[u]]=l;e&&(s&&(l_[e]=s),a&&(u_[e]=a))}function Q0(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Je({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var c_=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Zr=function(e){return e.type==="ordgroup"?e.body:[e]},Tu=_e.makeSpan,Ohe=["leftmost","mbin","mopen","mrel","mop","mpunct"],Dhe=["rightmost","mrel","mclose","mpunct"],Bhe={display:bt.DISPLAY,text:bt.TEXT,script:bt.SCRIPT,scriptscript:bt.SCRIPTSCRIPT},zhe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},di=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var l=xn(e[a],n);if(l instanceof im){var u=l.children;s.push(...u)}else s.push(l)}if(_e.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var p=e[0];p.type==="sizing"?f=n.havingSize(p.size):p.type==="styling"&&(f=n.havingStyle(Bhe[p.style]))}var m=Tu([i[0]||"leftmost"],[],n),g=Tu([i[1]||"rightmost"],[],n),v=r==="root";return eT(s,(b,k)=>{var R=k.classes[0],N=b.classes[0];R==="mbin"&&It.contains(Dhe,N)?k.classes[0]="mord":N==="mbin"&&It.contains(Ohe,R)&&(b.classes[0]="mord")},{node:m},g,v),eT(s,(b,k)=>{var R=W3(k),N=W3(b),x=R&&N?b.hasClass("mtight")?Lhe[R][N]:Nhe[R][N]:null;if(x)return _e.makeGlue(x,f)},{node:m},g,v),s},eT=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var l=e[a],u=nL(l);if(u){t(u.children,n,r,null,s);continue}var f=!l.hasClass("mspace");if(f){var p=n(l,r.node);p&&(r.insertAfter?r.insertAfter(p):(e.unshift(p),a++))}f?r.node=l:s&&l.hasClass("newline")&&(r.node=Tu(["leftmost"])),r.insertAfter=(m=>g=>{e.splice(m+1,0,g),a++})(a)}i&&e.pop()},nL=function(e){return e instanceof im||e instanceof T6||e instanceof sm&&e.hasClass("enclosing")?e:null},Fhe=function t(e,n){var r=nL(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},W3=function(e,n){return e?(n&&(e=Fhe(e,n)),zhe[e.classes[0]]||null):null},bp=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Tu(n.concat(r))},xn=function(e,n,r){if(!e)return Tu();if(l_[e.type]){var i=l_[e.type](e,n);if(r&&n.size!==r.size){i=Tu(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new We("Got group of unknown type: '"+e.type+"'")};function m1(t,e){var n=Tu(["base"],t,e),r=Tu(["strut"]);return r.style.height=Ze(n.height+n.depth),n.depth&&(r.style.verticalAlign=Ze(-n.depth)),n.children.unshift(r),n}function $3(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=di(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var u=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(u=!0);u||(s.push(m1(a,e)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(m1(a,e)),a=[]),s.push(r[l]));a.length>0&&s.push(m1(a,e));var f;n?(f=m1(di(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var p=Tu(["katex-html"],s);if(p.setAttribute("aria-hidden","true"),f){var m=f.children[0];m.style.height=Ze(p.height+p.depth),p.depth&&(m.style.verticalAlign=Ze(-p.depth))}return p}function rL(t){return new im(t)}class Ua{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Ec(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=It.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+It.escape(Ec(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Rd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return It.escape(this.toText())}toText(){return this.text}}class Uhe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ze(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ze(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Be={MathNode:Ua,TextNode:Rd,SpaceNode:Uhe,newDocumentFragment:rL},Ja=function(e,n,r){return or[n][e]&&or[n][e].replace&&e.charCodeAt(0)!==55349&&!(jN.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=or[n][e].replace),new Be.TextNode(e)},E6=function(e){return e.length===1?e[0]:new Be.MathNode("mrow",e)},M6=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(It.contains(["\\imath","\\jmath"],s))return null;or[i][s]&&or[i][s].replace&&(s=or[i][s].replace);var a=_e.fontMap[r].fontName;return S6(s,a,i)?_e.fontMap[r].variant:null},ua=function(e,n,r){if(e.length===1){var i=Kn(e[0],n);return r&&i instanceof Ua&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,l=0;l<e.length;l++){var u=Kn(e[l],n);if(u instanceof Ua&&a instanceof Ua){if(u.type==="mtext"&&a.type==="mtext"&&u.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...u.children);continue}else if(u.type==="mn"&&a.type==="mn"){a.children.push(...u.children);continue}else if(u.type==="mi"&&u.children.length===1&&a.type==="mn"){var f=u.children[0];if(f instanceof Rd&&f.text==="."){a.children.push(...u.children);continue}}else if(a.type==="mi"&&a.children.length===1){var p=a.children[0];if(p instanceof Rd&&p.text==="̸"&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var m=u.children[0];m instanceof Rd&&m.text.length>0&&(m.text=m.text.slice(0,1)+"̸"+m.text.slice(1),s.pop())}}}s.push(u),a=u}return s},Cc=function(e,n,r){return E6(ua(e,n,r))},Kn=function(e,n){if(!e)return new Be.MathNode("mrow");if(u_[e.type]){var r=u_[e.type](e,n);return r}else throw new We("Got group of unknown type: '"+e.type+"'")};function tT(t,e,n,r,i){var s=ua(t,n),a;s.length===1&&s[0]instanceof Ua&&It.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new Be.MathNode("mrow",s);var l=new Be.MathNode("annotation",[new Be.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var u=new Be.MathNode("semantics",[a,l]),f=new Be.MathNode("math",[u]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var p=i?"katex":"katex-mathml";return _e.makeSpan([p],[f])}var iL=function(e){return new eu({style:e.displayMode?bt.DISPLAY:bt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},sL=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=_e.makeSpan(r,[e])}return e},qhe=function(e,n,r){var i=iL(r),s;if(r.output==="mathml")return tT(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=$3(e,i);s=_e.makeSpan(["katex"],[a])}else{var l=tT(e,n,i,r.displayMode,!1),u=$3(e,i);s=_e.makeSpan(["katex"],[l,u])}return sL(s,r)},Hhe=function(e,n,r){var i=iL(r),s=$3(e,i),a=_e.makeSpan(["katex"],[s]);return sL(a,r)},Whe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},$he=function(e){var n=new Be.MathNode("mo",[new Be.TextNode(Whe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Ghe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Vhe=function(e){return e.type==="ordgroup"?e.body.length:1},Yhe=function(e,n){function r(){var l=4e5,u=e.label.slice(1);if(It.contains(["widehat","widecheck","widetilde","utilde"],u)){var f=e,p=Vhe(f.base),m,g,v;if(p>5)u==="widehat"||u==="widecheck"?(m=420,l=2364,v=.42,g=u+"4"):(m=312,l=2340,v=.34,g="tilde4");else{var b=[1,1,2,2,3,3][p];u==="widehat"||u==="widecheck"?(l=[0,1062,2364,2364,2364][b],m=[0,239,300,360,420][b],v=[0,.24,.3,.3,.36,.42][b],g=u+b):(l=[0,600,1033,2339,2340][b],m=[0,260,286,306,312][b],v=[0,.26,.286,.3,.306,.34][b],g="tilde"+b)}var k=new Mc(g),R=new Su([k],{width:"100%",height:Ze(v),viewBox:"0 0 "+l+" "+m,preserveAspectRatio:"none"});return{span:_e.makeSvgSpan([],[R],n),minWidth:0,height:v}}else{var N=[],x=Ghe[u],[T,M,I]=x,P=I/1e3,O=T.length,z,$;if(O===1){var ee=x[3];z=["hide-tail"],$=[ee]}else if(O===2)z=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(O===3)z=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+O+" children.");for(var G=0;G<O;G++){var J=new Mc(T[G]),ie=new Su([J],{width:"400em",height:Ze(P),viewBox:"0 0 "+l+" "+I,preserveAspectRatio:$[G]+" slice"}),se=_e.makeSvgSpan([z[G]],[ie],n);if(O===1)return{span:se,minWidth:M,height:P};se.style.height=Ze(P),N.push(se)}return{span:_e.makeSpan(["stretchy"],N,n),minWidth:M,height:P}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=Ze(a),s>0&&(i.style.minWidth=Ze(s)),i},Zhe=function(e,n,r,i,s){var a,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=_e.makeSpan(["stretchy",n],[],s),n==="fbox"){var u=s.color&&s.getColor();u&&(a.style.borderColor=u)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new q3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new q3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new Su(f,{width:"100%",height:Ze(l)});a=_e.makeSvgSpan([],[p],s)}return a.height=l,a.style.height=Ze(l),a},ku={encloseSpan:Zhe,mathMLnode:$he,svgSpan:Yhe};function Xt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function C6(t){var e=Cv(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Cv(t){return t&&(t.type==="atom"||yhe.hasOwnProperty(t.type))?t:null}var A6=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Xt(t.base,"accent"),n=r.base,t.base=n,i=_he(xn(t,e)),t.base=r):(r=Xt(t,"accent"),n=r.base);var s=xn(n,e.havingCrampedStyle()),a=r.isShifty&&It.isCharacterBox(n),l=0;if(a){var u=It.getBaseElem(n),f=xn(u,e.havingCrampedStyle());l=ZS(f).skew}var p=r.label==="\\c",m=p?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=ku.svgSpan(r,e),g=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Ze(2*l)+")",marginLeft:Ze(2*l)}:void 0}]},e);else{var v,b;r.label==="\\vec"?(v=_e.staticSvg("vec",e),b=_e.svgData.vec[1]):(v=_e.makeOrd({mode:r.mode,text:r.label},e,"textord"),v=ZS(v),v.italic=0,b=v.width,p&&(m+=v.depth)),g=_e.makeSpan(["accent-body"],[v]);var k=r.label==="\\textcircled";k&&(g.classes.push("accent-full"),m=s.height);var R=l;k||(R-=b/2),g.style.left=Ze(R),r.label==="\\textcircled"&&(g.style.top=".2em"),g=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-m},{type:"elem",elem:g}]},e)}var N=_e.makeSpan(["mord","accent"],[g],e);return i?(i.children[0]=N,i.height=Math.max(N.height,i.height),i.classes[0]="mord",i):N},aL=(t,e)=>{var n=t.isStretchy?ku.mathMLnode(t.label):new Be.MathNode("mo",[Ja(t.label,t.mode)]),r=new Be.MathNode("mover",[Kn(t.base,e),n]);return r.setAttribute("accent","true"),r},Xhe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Je({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=c_(e[0]),r=!Xhe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:A6,mathmlBuilder:aL});Je({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:A6,mathmlBuilder:aL});Je({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=xn(t.base,e),r=ku.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=_e.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return _e.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ku.mathMLnode(t.label),r=new Be.MathNode("munder",[Kn(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var g1=t=>{var e=new Be.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Je({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=_e.wrapFragment(xn(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=_e.wrapFragment(xn(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var l=ku.svgSpan(t,e),u=-e.fontMetrics().axisHeight+.5*l.height,f=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var p;if(a){var m=-e.fontMetrics().axisHeight+a.height+.5*l.height+.111;p=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:u},{type:"elem",elem:a,shift:m}]},e)}else p=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:u}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),_e.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var n=ku.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=g1(Kn(t.body,e));if(t.below){var s=g1(Kn(t.below,e));r=new Be.MathNode("munderover",[n,s,i])}else r=new Be.MathNode("mover",[n,i])}else if(t.below){var a=g1(Kn(t.below,e));r=new Be.MathNode("munder",[n,a])}else r=g1(),r=new Be.MathNode("mover",[n,r]);return r}});var jhe=_e.makeSpan;function oL(t,e){var n=di(t.body,e,!0);return jhe([t.mclass],n,e)}function lL(t,e){var n,r=ua(t.body,e);return t.mclass==="minner"?n=new Be.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Be.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Be.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Je({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Zr(i),isCharacterBox:It.isCharacterBox(i)}},htmlBuilder:oL,mathmlBuilder:lL});var Av=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Je({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Av(e[0]),body:Zr(e[1]),isCharacterBox:It.isCharacterBox(e[1])}}});Je({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=Av(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Zr(i)},u={type:"supsub",mode:s.mode,base:l,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[u],isCharacterBox:It.isCharacterBox(u)}},htmlBuilder:oL,mathmlBuilder:lL});Je({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Av(e[0]),body:Zr(e[0])}},htmlBuilder(t,e){var n=di(t.body,e,!0),r=_e.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=ua(t.body,e),r=new Be.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Khe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nT=()=>({type:"styling",body:[],mode:"math",style:"display"}),rT=t=>t.type==="textord"&&t.text==="@",Jhe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Qhe(t,e,n){var r=Khe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[i,a,l]};return n.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ede(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new We("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],l=nT(),u=0;u<a.length;u++)if(!rT(a[u]))l.body.push(a[u]);else{r.push(l),u+=1;var f=C6(a[u]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var m=0;m<2;m++){for(var g=!0,v=u+1;v<a.length;v++){if(Jhe(a[v],f)){g=!1,u=v;break}if(rT(a[v]))throw new We("Missing a "+f+" character to complete a CD arrow.",a[v]);p[m].body.push(a[v])}if(g)throw new We("Missing a "+f+" character to complete a CD arrow.",a[u])}else throw new We('Expected one of "<>AV=|." after @',a[u]);var b=Qhe(f,p,t),k={type:"styling",body:[b],mode:"math",style:"display"};r.push(k),l=nT()}s%2===0?r.push(l):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var R=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:R,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Je({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=_e.wrapFragment(xn(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Ze(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Be.MathNode("mrow",[Kn(t.label,e)]);return n=new Be.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Be.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Je({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=_e.wrapFragment(xn(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Be.MathNode("mrow",[Kn(t.fragment,e)])}});Je({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Xt(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var l=Xt(i[a],"textord");s+=l.text}var u=parseInt(s),f;if(isNaN(u))throw new We("\\@char has non-numeric argument "+s);if(u<0||u>=1114111)throw new We("\\@char with invalid code point "+s);return u<=65535?f=String.fromCharCode(u):(u-=65536,f=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var uL=(t,e)=>{var n=di(t.body,e.withColor(t.color),!1);return _e.makeFragment(n)},cL=(t,e)=>{var n=ua(t.body,e.withColor(t.color)),r=new Be.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Je({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Xt(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Zr(i)}},htmlBuilder:uL,mathmlBuilder:cL});Je({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Xt(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:uL,mathmlBuilder:cL});Je({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Xt(i,"size").value}},htmlBuilder(t,e){var n=_e.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Ze(Er(t.size,e)))),n},mathmlBuilder(t,e){var n=new Be.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Ze(Er(t.size,e)))),n}});var G3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},fL=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new We("Expected a control sequence",t);return e},tde=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},hL=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Je({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(G3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=G3[r.text]),Xt(e.parseFunction(),"internal");throw new We("Invalid token after macro prefix",r)}});Je({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new We("Expected a control sequence",r);for(var s=0,a,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new We('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new We('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if(r.text==="EOF")throw new We("Expected a macro definition");l[s].push(r.text)}var{tokens:u}=e.gullet.consumeArg();return a&&u.unshift(a),(n==="\\edef"||n==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:l},n===G3[n]),{type:"internal",mode:e.mode}}});Je({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=fL(e.gullet.popToken());e.gullet.consumeSpaces();var i=tde(e);return hL(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Je({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=fL(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return hL(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var gd=function(e,n,r){var i=or.math[e]&&or.math[e].replace,s=S6(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},I6=function(e,n,r,i){var s=r.havingBaseStyle(n),a=_e.makeSpan(i.concat(s.sizingClasses(r)),[e],r),l=s.sizeMultiplier/r.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=s.sizeMultiplier,a},dL=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ze(s),e.height-=s,e.depth+=s},nde=function(e,n,r,i,s,a){var l=_e.makeSymbol(e,"Main-Regular",s,i),u=I6(l,n,i,a);return r&&dL(u,i,n),u},rde=function(e,n,r,i){return _e.makeSymbol(e,"Size"+n+"-Regular",r,i)},pL=function(e,n,r,i,s,a){var l=rde(e,n,s,i),u=I6(_e.makeSpan(["delimsizing","size"+n],[l],i),bt.TEXT,i,a);return r&&dL(u,i,bt.TEXT),u},$4=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=_e.makeSpan(["delimsizinginner",i],[_e.makeSpan([],[_e.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},G4=function(e,n,r){var i=al["Size4-Regular"][e.charCodeAt(0)]?al["Size4-Regular"][e.charCodeAt(0)][4]:al["Size1-Regular"][e.charCodeAt(0)][4],s=new Mc("inner",uhe(e,Math.round(1e3*n))),a=new Su([s],{width:Ze(i),height:Ze(n),style:"width:"+Ze(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=_e.makeSvgSpan([],[a],r);return l.height=n,l.style.height=Ze(n),l.style.width=Ze(i),{type:"elem",elem:l}},V3=.008,_1={type:"kern",size:-1*V3},ide=["|","\\lvert","\\rvert","\\vert"],sde=["\\|","\\lVert","\\rVert","\\Vert"],mL=function(e,n,r,i,s,a){var l,u,f,p,m="",g=0;l=f=p=e,u=null;var v="Size1-Regular";e==="\\uparrow"?f=p="⏐":e==="\\Uparrow"?f=p="‖":e==="\\downarrow"?l=f="⏐":e==="\\Downarrow"?l=f="‖":e==="\\updownarrow"?(l="\\uparrow",f="⏐",p="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",f="‖",p="\\Downarrow"):It.contains(ide,e)?(f="∣",m="vert",g=333):It.contains(sde,e)?(f="∥",m="doublevert",g=556):e==="["||e==="\\lbrack"?(l="⎡",f="⎢",p="⎣",v="Size4-Regular",m="lbrack",g=667):e==="]"||e==="\\rbrack"?(l="⎤",f="⎥",p="⎦",v="Size4-Regular",m="rbrack",g=667):e==="\\lfloor"||e==="⌊"?(f=l="⎢",p="⎣",v="Size4-Regular",m="lfloor",g=667):e==="\\lceil"||e==="⌈"?(l="⎡",f=p="⎢",v="Size4-Regular",m="lceil",g=667):e==="\\rfloor"||e==="⌋"?(f=l="⎥",p="⎦",v="Size4-Regular",m="rfloor",g=667):e==="\\rceil"||e==="⌉"?(l="⎤",f=p="⎥",v="Size4-Regular",m="rceil",g=667):e==="("||e==="\\lparen"?(l="⎛",f="⎜",p="⎝",v="Size4-Regular",m="lparen",g=875):e===")"||e==="\\rparen"?(l="⎞",f="⎟",p="⎠",v="Size4-Regular",m="rparen",g=875):e==="\\{"||e==="\\lbrace"?(l="⎧",u="⎨",p="⎩",f="⎪",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="⎫",u="⎬",p="⎭",f="⎪",v="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(l="⎧",p="⎩",f="⎪",v="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(l="⎫",p="⎭",f="⎪",v="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(l="⎧",p="⎭",f="⎪",v="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(l="⎫",p="⎩",f="⎪",v="Size4-Regular");var b=gd(l,v,s),k=b.height+b.depth,R=gd(f,v,s),N=R.height+R.depth,x=gd(p,v,s),T=x.height+x.depth,M=0,I=1;if(u!==null){var P=gd(u,v,s);M=P.height+P.depth,I=2}var O=k+T+M,z=Math.max(0,Math.ceil((n-O)/(I*N))),$=O+z*I*N,ee=i.fontMetrics().axisHeight;r&&(ee*=i.sizeMultiplier);var G=$/2-ee,J=[];if(m.length>0){var ie=$-k-T,se=Math.round($*1e3),te=che(m,Math.round(ie*1e3)),ae=new Mc(m,te),V=(g/1e3).toFixed(3)+"em",Y=(se/1e3).toFixed(3)+"em",he=new Su([ae],{width:V,height:Y,viewBox:"0 0 "+g+" "+se}),re=_e.makeSvgSpan([],[he],i);re.height=se/1e3,re.style.width=V,re.style.height=Y,J.push({type:"elem",elem:re})}else{if(J.push($4(p,v,s)),J.push(_1),u===null){var ye=$-k-T+2*V3;J.push(G4(f,ye,i))}else{var me=($-k-T-M)/2+2*V3;J.push(G4(f,me,i)),J.push(_1),J.push($4(u,v,s)),J.push(_1),J.push(G4(f,me,i))}J.push(_1),J.push($4(l,v,s))}var Ne=i.havingBaseStyle(bt.TEXT),xe=_e.makeVList({positionType:"bottom",positionData:G,children:J},Ne);return I6(_e.makeSpan(["delimsizing","mult"],[xe],Ne),bt.TEXT,i,a)},V4=80,Y4=.08,Z4=function(e,n,r,i,s){var a=lhe(e,i,r),l=new Mc(e,a),u=new Su([l],{width:"400em",height:Ze(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return _e.makeSvgSpan(["hide-tail"],[u],s)},ade=function(e,n){var r=n.havingBaseSizing(),i=yL("\\surd",e*r.sizeMultiplier,vL,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,u=0,f=0,p=0,m;return i.type==="small"?(p=1e3+1e3*a+V4,e<1?s=1:e<1.4&&(s=.7),u=(1+a+Y4)/s,f=(1+a)/s,l=Z4("sqrtMain",u,p,a,n),l.style.minWidth="0.853em",m=.833/s):i.type==="large"?(p=(1e3+V4)*Pd[i.size],f=(Pd[i.size]+a)/s,u=(Pd[i.size]+a+Y4)/s,l=Z4("sqrtSize"+i.size,u,p,a,n),l.style.minWidth="1.02em",m=1/s):(u=e+a+Y4,f=e+a,p=Math.floor(1e3*e+a)+V4,l=Z4("sqrtTall",u,p,a,n),l.style.minWidth="0.742em",m=1.056),l.height=f,l.style.height=Ze(u),{span:l,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},gL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ode=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],_L=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Pd=[0,1.2,1.8,2.4,3],lde=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),It.contains(gL,e)||It.contains(_L,e))return pL(e,n,!1,r,i,s);if(It.contains(ode,e))return mL(e,Pd[n],!1,r,i,s);throw new We("Illegal delimiter: '"+e+"'")},ude=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cde=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"stack"}],vL=[{type:"small",style:bt.SCRIPTSCRIPT},{type:"small",style:bt.SCRIPT},{type:"small",style:bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],fde=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},yL=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var l=gd(e,fde(r[a]),"math"),u=l.height+l.depth;if(r[a].type==="small"){var f=i.havingBaseStyle(r[a].style);u*=f.sizeMultiplier}if(u>n)return r[a]}return r[r.length-1]},bL=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var l;It.contains(_L,e)?l=ude:It.contains(gL,e)?l=vL:l=cde;var u=yL(e,n,l,i);return u.type==="small"?nde(e,u.style,r,i,s,a):u.type==="large"?pL(e,u.size,r,i,s,a):mL(e,n,r,i,s,a)},hde=function(e,n,r,i,s,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,f=5/i.fontMetrics().ptPerEm,p=Math.max(n-l,r+l),m=Math.max(p/500*u,2*p-f);return bL(e,m,!0,i,s,a)},gu={sqrtImage:ade,sizedDelim:lde,sizeToMaxHeight:Pd,customSizedDelim:bL,leftRightDelim:hde},iT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dde=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Iv(t,e){var n=Cv(t);if(n&&It.contains(dde,n.text))return n;throw n?new We("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new We("Invalid delimiter type '"+t.type+"'",t)}Je({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Iv(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:iT[t.funcName].size,mclass:iT[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?_e.makeSpan([t.mclass]):gu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ja(t.delim,t.mode));var n=new Be.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Ze(gu.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function sT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Je({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new We("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Iv(e[0],t).text,color:n}}});Je({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Iv(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Xt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{sT(t);for(var n=di(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=bp(e,["mopen"]):l=gu.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(l),s)for(var u=1;u<n.length;u++){var f=n[u],p=f.isMiddle;p&&(n[u]=gu.leftRightDelim(p.delim,r,i,p.options,t.mode,[]))}var m;if(t.right===".")m=bp(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;m=gu.leftRightDelim(t.right,r,i,g,t.mode,["mclose"])}return n.push(m),_e.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{sT(t);var n=ua(t.body,e);if(t.left!=="."){var r=new Be.MathNode("mo",[Ja(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Be.MathNode("mo",[Ja(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return E6(n)}});Je({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Iv(e[0],t);if(!t.parser.leftrightDepth)throw new We("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=bp(e,[]);else{n=gu.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Ja("|","text"):Ja(t.delim,t.mode),r=new Be.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var R6=(t,e)=>{var n=_e.wrapFragment(xn(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,l=It.isCharacterBox(t.body);if(r==="sout")s=_e.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var u=Er({number:.6,unit:"pt"},e),f=Er({number:.35,unit:"ex"},e),p=e.havingBaseSizing();i=i/p.sizeMultiplier;var m=n.height+n.depth+u+f;n.style.paddingLeft=Ze(m/2+u);var g=Math.floor(1e3*m*i),v=ahe(g),b=new Su([new Mc("phase",v)],{width:"400em",height:Ze(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=_e.makeSvgSpan(["hide-tail"],[b],e),s.style.height=Ze(m),a=n.depth+u+f}else{/cancel/.test(r)?l||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var k=0,R=0,N=0;/box/.test(r)?(N=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),k=e.fontMetrics().fboxsep+(r==="colorbox"?0:N),R=k):r==="angl"?(N=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),k=4*N,R=Math.max(0,.25-n.depth)):(k=l?.2:0,R=k),s=ku.encloseSpan(n,r,k,R,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Ze(N)):r==="angl"&&N!==.049&&(s.style.borderTopWidth=Ze(N),s.style.borderRightWidth=Ze(N)),a=n.depth+R,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var x;if(t.backgroundColor)x=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];x=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:T}]},e)}return/cancel/.test(r)&&(x.height=n.height,x.depth=n.depth),/cancel/.test(r)&&!l?_e.makeSpan(["mord","cancel-lap"],[x],e):_e.makeSpan(["mord"],[x],e)},P6=(t,e)=>{var n=0,r=new Be.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Kn(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Je({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Xt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:R6,mathmlBuilder:P6});Je({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Xt(e[0],"color-token").color,a=Xt(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:l}},htmlBuilder:R6,mathmlBuilder:P6});Je({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Je({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:R6,mathmlBuilder:P6});Je({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var wL={};function wl(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<n.length;++u)wL[n[u]]=l;s&&(l_[e]=s),a&&(u_[e]=a)}var xL={};function H(t,e){xL[t]=e}function aT(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Rv=t=>{var e=t.parser.settings;if(!e.displayMode)throw new We("{"+t.envName+"} can be used only in display mode.")};function N6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Bc(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:l,autoTag:u,singleRow:f,emptySingleRow:p,maxNumCols:m,leqno:g}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var v=t.gullet.expandMacroAsText("\\arraystretch");if(v==null)a=1;else if(a=parseFloat(v),!a||a<0)throw new We("Invalid \\arraystretch: "+v)}t.gullet.beginGroup();var b=[],k=[b],R=[],N=[],x=u!=null?[]:void 0;function T(){u&&t.gullet.macros.set("\\@eqnsw","1",!0)}function M(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new fl("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!u&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),N.push(aT(t));;){var I=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),I={type:"ordgroup",mode:t.mode,body:I},n&&(I={type:"styling",mode:t.mode,style:n,body:[I]}),b.push(I);var P=t.fetch().text;if(P==="&"){if(m&&b.length===m){if(f||l)throw new We("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(P==="\\end"){M(),b.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(k.length>1||!p)&&k.pop(),N.length<k.length+1&&N.push([]);break}else if(P==="\\\\"){t.consume();var O=void 0;t.gullet.future().text!==" "&&(O=t.parseSizeGroup(!0)),R.push(O?O.value:null),M(),N.push(aT(t)),b=[],k.push(b),T()}else throw new We("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:k,cols:s,rowGaps:R,hskipBeforeAndAfter:r,hLinesBeforeRow:N,colSeparationType:l,tags:x,leqno:g}}function L6(t){return t.slice(0,1)==="d"?"display":"text"}var xl=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,l=0,u=new Array(s),f=[],p=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,g=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var v=n.havingStyle(bt.SCRIPT).sizeMultiplier;g=.2778*(v/n.sizeMultiplier)}var b=e.colSeparationType==="CD"?Er({number:3,unit:"ex"},n):12*m,k=3*m,R=e.arraystretch*b,N=.7*R,x=.3*R,T=0;function M(vt){for(var Ft=0;Ft<vt.length;++Ft)Ft>0&&(T+=.25),f.push({pos:T,isDashed:vt[Ft]})}for(M(a[0]),r=0;r<e.body.length;++r){var I=e.body[r],P=N,O=x;l<I.length&&(l=I.length);var z=new Array(I.length);for(i=0;i<I.length;++i){var $=xn(I[i],n);O<$.depth&&(O=$.depth),P<$.height&&(P=$.height),z[i]=$}var ee=e.rowGaps[r],G=0;ee&&(G=Er(ee,n),G>0&&(G+=x,O<G&&(O=G),G=0)),e.addJot&&(O+=k),z.height=P,z.depth=O,T+=P,z.pos=T,T+=O+G,u[r]=z,M(a[r+1])}var J=T/2+n.fontMetrics().axisHeight,ie=e.cols||[],se=[],te,ae,V=[];if(e.tags&&e.tags.some(vt=>vt))for(r=0;r<s;++r){var Y=u[r],he=Y.pos-J,re=e.tags[r],ye=void 0;re===!0?ye=_e.makeSpan(["eqn-num"],[],n):re===!1?ye=_e.makeSpan([],[],n):ye=_e.makeSpan([],di(re,n,!0),n),ye.depth=Y.depth,ye.height=Y.height,V.push({type:"elem",elem:ye,shift:he})}for(i=0,ae=0;i<l||ae<ie.length;++i,++ae){for(var me=ie[ae]||{},Ne=!0;me.type==="separator";){if(Ne||(te=_e.makeSpan(["arraycolsep"],[]),te.style.width=Ze(n.fontMetrics().doubleRuleSep),se.push(te)),me.separator==="|"||me.separator===":"){var xe=me.separator==="|"?"solid":"dashed",Ce=_e.makeSpan(["vertical-separator"],[],n);Ce.style.height=Ze(T),Ce.style.borderRightWidth=Ze(p),Ce.style.borderRightStyle=xe,Ce.style.margin="0 "+Ze(-p/2);var Me=T-J;Me&&(Ce.style.verticalAlign=Ze(-Me)),se.push(Ce)}else throw new We("Invalid separator type: "+me.separator);ae++,me=ie[ae]||{},Ne=!1}if(!(i>=l)){var Le=void 0;(i>0||e.hskipBeforeAndAfter)&&(Le=It.deflt(me.pregap,g),Le!==0&&(te=_e.makeSpan(["arraycolsep"],[]),te.style.width=Ze(Le),se.push(te)));var Fe=[];for(r=0;r<s;++r){var pe=u[r],Ie=pe[i];if(Ie){var Ae=pe.pos-J;Ie.depth=pe.depth,Ie.height=pe.height,Fe.push({type:"elem",elem:Ie,shift:Ae})}}Fe=_e.makeVList({positionType:"individualShift",children:Fe},n),Fe=_e.makeSpan(["col-align-"+(me.align||"c")],[Fe]),se.push(Fe),(i<l-1||e.hskipBeforeAndAfter)&&(Le=It.deflt(me.postgap,g),Le!==0&&(te=_e.makeSpan(["arraycolsep"],[]),te.style.width=Ze(Le),se.push(te)))}}if(u=_e.makeSpan(["mtable"],se),f.length>0){for(var ve=_e.makeLineSpan("hline",n,p),Ue=_e.makeLineSpan("hdashline",n,p),Ge=[{type:"elem",elem:u,shift:0}];f.length>0;){var nt=f.pop(),Re=nt.pos-J;nt.isDashed?Ge.push({type:"elem",elem:Ue,shift:Re}):Ge.push({type:"elem",elem:ve,shift:Re})}u=_e.makeVList({positionType:"individualShift",children:Ge},n)}if(V.length===0)return _e.makeSpan(["mord"],[u],n);var ht=_e.makeVList({positionType:"individualShift",children:V},n);return ht=_e.makeSpan(["tag"],[ht],n),_e.makeFragment([u,ht])},pde={c:"center ",l:"left ",r:"right "},Sl=function(e,n){for(var r=[],i=new Be.MathNode("mtd",[],["mtr-glue"]),s=new Be.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var l=e.body[a],u=[],f=0;f<l.length;f++)u.push(new Be.MathNode("mtd",[Kn(l[f],n)]));e.tags&&e.tags[a]&&(u.unshift(i),u.push(i),e.leqno?u.unshift(s):u.push(s)),r.push(new Be.MathNode("mtr",u))}var p=new Be.MathNode("mtable",r),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",Ze(m));var g="",v="";if(e.cols&&e.cols.length>0){var b=e.cols,k="",R=!1,N=0,x=b.length;b[0].type==="separator"&&(g+="top ",N=1),b[b.length-1].type==="separator"&&(g+="bottom ",x-=1);for(var T=N;T<x;T++)b[T].type==="align"?(v+=pde[b[T].align],R&&(k+="none "),R=!0):b[T].type==="separator"&&R&&(k+=b[T].separator==="|"?"solid ":"dashed ",R=!1);p.setAttribute("columnalign",v.trim()),/[sd]/.test(k)&&p.setAttribute("columnlines",k.trim())}if(e.colSeparationType==="align"){for(var M=e.cols||[],I="",P=1;P<M.length;P++)I+=P%2?"0em ":"1em ";p.setAttribute("columnspacing",I.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var O="",z=e.hLinesBeforeRow;g+=z[0].length>0?"left ":"",g+=z[z.length-1].length>0?"right ":"";for(var $=1;$<z.length-1;$++)O+=z[$].length===0?"none ":z[$][0]?"dashed ":"solid ";return/[sd]/.test(O)&&p.setAttribute("rowlines",O.trim()),g!==""&&(p=new Be.MathNode("menclose",[p]),p.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(p=new Be.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},SL=function(e,n){e.envName.indexOf("ed")===-1&&Rv(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Bc(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:N6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l,u=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var p="",m=0;m<n[0].body.length;m++){var g=Xt(n[0].body[m],"textord");p+=g.text}l=Number(p),u=l*2}var v=!u;a.body.forEach(function(N){for(var x=1;x<N.length;x+=2){var T=Xt(N[x],"styling"),M=Xt(T.body[0],"ordgroup");M.body.unshift(f)}if(v)u<N.length&&(u=N.length);else{var I=N.length/2;if(l<I)throw new We("Too many math in a row: "+("expected "+l+", but got "+I),N[0])}});for(var b=0;b<u;++b){var k="r",R=0;b%2===1?k="l":b>0&&v&&(R=1),r[b]={type:"align",align:k,pregap:R,postgap:0}}return a.colSeparationType=v?"align":"alignat",a};wl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Cv(e[0]),r=n?[e[0]]:Xt(e[0],"ordgroup").body,i=r.map(function(a){var l=C6(a),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new We("Unknown column alignment: "+u,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Bc(t.parser,s,L6(t.envName))},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new We("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Bc(t.parser,r,L6(t.envName)),a=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Bc(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Cv(e[0]),r=n?[e[0]]:Xt(e[0],"ordgroup").body,i=r.map(function(a){var l=C6(a),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new We("Unknown column alignment: "+u,a)});if(i.length>1)throw new We("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Bc(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new We("{subarray} can contain only one column");return s},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Bc(t.parser,e,L6(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:SL,htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){It.contains(["gather","gather*"],t.envName)&&Rv(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:N6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Bc(t.parser,e,"display")},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:SL,htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Rv(t);var e={autoTag:N6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Bc(t.parser,e,"display")},htmlBuilder:xl,mathmlBuilder:Sl});wl({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Rv(t),ede(t.parser)},htmlBuilder:xl,mathmlBuilder:Sl});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");Je({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new We(t.funcName+" valid only within array environment")}});var oT=wL;Je({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new We("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Xt(i.body[a],"textord").text;if(r==="\\begin"){if(!oT.hasOwnProperty(s))throw new We("No such environment: "+s,i);var l=oT[s],{args:u,optArgs:f}=n.parseArguments("\\begin{"+s+"}",l),p={mode:n.mode,envName:s,parser:n},m=l.handler(p,u,f);n.expect("\\end",!1);var g=n.nextToken,v=Xt(n.parseFunction(),"environment");if(v.name!==s)throw new We("Mismatch: \\begin{"+s+"} matched by \\end{"+v.name+"}",g);return m}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var TL=(t,e)=>{var n=t.font,r=e.withFont(n);return xn(t.body,r)},kL=(t,e)=>{var n=t.font,r=e.withFont(n);return Kn(t.body,r)},lT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Je({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=c_(e[0]),s=r;return s in lT&&(s=lT[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:TL,mathmlBuilder:kL});Je({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=It.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Av(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Je({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:TL,mathmlBuilder:kL});var EL=(t,e)=>{var n=e;return t==="display"?n=n.id>=bt.SCRIPT.id?n.text():bt.DISPLAY:t==="text"&&n.size===bt.DISPLAY.size?n=bt.TEXT:t==="script"?n=bt.SCRIPT:t==="scriptscript"&&(n=bt.SCRIPTSCRIPT),n},O6=(t,e)=>{var n=EL(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=xn(t.numer,s,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<u?u:a.depth}s=e.havingStyle(i);var f=xn(t.denom,s,e),p,m,g;t.hasBarLine?(t.barSize?(m=Er(t.barSize,e),p=_e.makeLineSpan("frac-line",e,m)):p=_e.makeLineSpan("frac-line",e),m=p.height,g=p.height):(p=null,m=0,g=e.fontMetrics().defaultRuleThickness);var v,b,k;n.size===bt.DISPLAY.size||t.size==="display"?(v=e.fontMetrics().num1,m>0?b=3*g:b=7*g,k=e.fontMetrics().denom1):(m>0?(v=e.fontMetrics().num2,b=g):(v=e.fontMetrics().num3,b=3*g),k=e.fontMetrics().denom2);var R;if(p){var x=e.fontMetrics().axisHeight;v-a.depth-(x+.5*m)<b&&(v+=b-(v-a.depth-(x+.5*m))),x-.5*m-(f.height-k)<b&&(k+=b-(x-.5*m-(f.height-k)));var T=-(x-.5*m);R=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:k},{type:"elem",elem:p,shift:T},{type:"elem",elem:a,shift:-v}]},e)}else{var N=v-a.depth-(f.height-k);N<b&&(v+=.5*(b-N),k+=.5*(b-N)),R=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:k},{type:"elem",elem:a,shift:-v}]},e)}s=e.havingStyle(n),R.height*=s.sizeMultiplier/e.sizeMultiplier,R.depth*=s.sizeMultiplier/e.sizeMultiplier;var M;n.size===bt.DISPLAY.size?M=e.fontMetrics().delim1:n.size===bt.SCRIPTSCRIPT.size?M=e.havingStyle(bt.SCRIPT).fontMetrics().delim2:M=e.fontMetrics().delim2;var I,P;return t.leftDelim==null?I=bp(e,["mopen"]):I=gu.customSizedDelim(t.leftDelim,M,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?P=_e.makeSpan([]):t.rightDelim==null?P=bp(e,["mclose"]):P=gu.customSizedDelim(t.rightDelim,M,!0,e.havingStyle(n),t.mode,["mclose"]),_e.makeSpan(["mord"].concat(s.sizingClasses(e)),[I,_e.makeSpan(["mfrac"],[R]),P],e)},D6=(t,e)=>{var n=new Be.MathNode("mfrac",[Kn(t.numer,e),Kn(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Er(t.barSize,e);n.setAttribute("linethickness",Ze(r))}var i=EL(t.size,e.style);if(i.size!==e.style.size){n=new Be.MathNode("mstyle",[n]);var s=i.size===bt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var l=new Be.MathNode("mo",[new Be.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(n),t.rightDelim!=null){var u=new Be.MathNode("mo",[new Be.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),a.push(u)}return E6(a)}return n};Je({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,l=null,u=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",u=")";break;case"\\\\bracefrac":a=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":a=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:l,rightDelim:u,size:f,barSize:null}},htmlBuilder:O6,mathmlBuilder:D6});Je({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Je({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var uT=["display","text","script","scriptscript"],cT=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Je({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=c_(e[0]),a=s.type==="atom"&&s.family==="open"?cT(s.text):null,l=c_(e[1]),u=l.type==="atom"&&l.family==="close"?cT(l.text):null,f=Xt(e[2],"size"),p,m=null;f.isBlank?p=!0:(m=f.value,p=m.number>0);var g="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var b=Xt(v.body[0],"textord");g=uT[Number(b.text)]}}else v=Xt(v,"textord"),g=uT[Number(v.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:p,barSize:m,leftDelim:a,rightDelim:u,size:g}},htmlBuilder:O6,mathmlBuilder:D6});Je({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Xt(e[0],"size").value,token:i}}});Je({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=Gfe(Xt(e[1],"infix").size),a=e[2],l=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:O6,mathmlBuilder:D6});var ML=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?xn(t.sup,e.havingStyle(n.sup()),e):xn(t.sub,e.havingStyle(n.sub()),e),i=Xt(t.base,"horizBrace")):i=Xt(t,"horizBrace");var s=xn(i.base,e.havingBaseStyle(bt.DISPLAY)),a=ku.svgSpan(i,e),l;if(i.isOver?(l=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=_e.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var u=_e.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=_e.makeVList({positionType:"bottom",positionData:u.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return _e.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},mde=(t,e)=>{var n=ku.mathMLnode(t.label);return new Be.MathNode(t.isOver?"mover":"munder",[Kn(t.base,e),n])};Je({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:ML,mathmlBuilder:mde});Je({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Xt(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Zr(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=di(t.body,e,!1);return _e.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Cc(t.body,e);return n instanceof Ua||(n=new Ua("mrow",[n])),n.setAttribute("href",t.href),n}});Je({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Xt(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Zr(l)}}});Je({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Zr(e[0])}},htmlBuilder(t,e){var n=di(t.body,e,!1);return _e.makeFragment(n)},mathmlBuilder(t,e){return new Be.MathNode("mrow",ua(t.body,e))}});Je({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Xt(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(r){case"\\htmlClass":u.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length!==2)throw new We("Error parsing key-value for \\htmlData");u["data-"+m[0].trim()]=m[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:u,body:Zr(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=di(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=_e.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Cc(t.body,e)});Je({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Zr(e[0]),mathml:Zr(e[1])}},htmlBuilder:(t,e)=>{var n=di(t.html,e,!1);return _e.makeFragment(n)},mathmlBuilder:(t,e)=>Cc(t.mathml,e)});var X4=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new We("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!VN(r))throw new We("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Je({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var u=Xt(n[0],"raw").string,f=u.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length===2){var g=m[1].trim();switch(m[0].trim()){case"alt":l=g;break;case"width":i=X4(g);break;case"height":s=X4(g);break;case"totalheight":a=X4(g);break;default:throw new We("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var v=Xt(e[0],"url").url;return l===""&&(l=v,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:a,src:v}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Er(t.height,e),r=0;t.totalheight.number>0&&(r=Er(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Er(t.width,e));var s={height:Ze(n+r)};i>0&&(s.width=Ze(i)),r>0&&(s.verticalAlign=Ze(-r));var a=new mhe(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new Be.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Er(t.height,e),i=0;if(t.totalheight.number>0&&(i=Er(t.totalheight,e)-r,n.setAttribute("valign",Ze(-i))),n.setAttribute("height",Ze(r+i)),t.width.number>0){var s=Er(t.width,e);n.setAttribute("width",Ze(s))}return n.setAttribute("src",t.src),n}});Je({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Xt(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return _e.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Er(t.dimension,e);return new Be.SpaceNode(n)}});Je({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=_e.makeSpan([],[xn(t.body,e)]),n=_e.makeSpan(["inner"],[n],e)):n=_e.makeSpan(["inner"],[xn(t.body,e)]);var r=_e.makeSpan(["fix"],[]),i=_e.makeSpan([t.alignment],[n,r],e),s=_e.makeSpan(["strut"]);return s.style.height=Ze(i.height+i.depth),i.depth&&(s.style.verticalAlign=Ze(-i.depth)),i.children.unshift(s),i=_e.makeSpan(["thinbox"],[i],e),_e.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Be.MathNode("mpadded",[Kn(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Je({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});Je({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new We("Mismatched "+t.funcName)}});var fT=(t,e)=>{switch(e.style.size){case bt.DISPLAY.size:return t.display;case bt.TEXT.size:return t.text;case bt.SCRIPT.size:return t.script;case bt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Je({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Zr(e[0]),text:Zr(e[1]),script:Zr(e[2]),scriptscript:Zr(e[3])}},htmlBuilder:(t,e)=>{var n=fT(t,e),r=di(n,e,!1);return _e.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=fT(t,e);return Cc(n,e)}});var CL=(t,e,n,r,i,s,a)=>{t=_e.makeSpan([],[t]);var l=n&&It.isCharacterBox(n),u,f;if(e){var p=xn(e,r.havingStyle(i.sup()),r);f={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-p.depth)}}if(n){var m=xn(n,r.havingStyle(i.sub()),r);u={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-m.height)}}var g;if(f&&u){var v=r.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+t.depth+a;g=_e.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Ze(-s)},{type:"kern",size:u.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ze(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(u){var b=t.height-a;g=_e.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Ze(-s)},{type:"kern",size:u.kern},{type:"elem",elem:t}]},r)}else if(f){var k=t.depth+a;g=_e.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ze(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var R=[g];if(u&&s!==0&&!l){var N=_e.makeSpan(["mspace"],[],r);N.style.marginRight=Ze(s),R.unshift(N)}return _e.makeSpan(["mop","op-limits"],R,r)},AL=["\\smallint"],Mh=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Xt(t.base,"op"),i=!0):s=Xt(t,"op");var a=e.style,l=!1;a.size===bt.DISPLAY.size&&s.symbol&&!It.contains(AL,s.name)&&(l=!0);var u;if(s.symbol){var f=l?"Size2-Regular":"Size1-Regular",p="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(p=s.name.slice(1),s.name=p==="oiint"?"\\iint":"\\iiint"),u=_e.makeSymbol(s.name,f,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),p.length>0){var m=u.italic,g=_e.staticSvg(p+"Size"+(l?"2":"1"),e);u=_e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},e),s.name="\\"+p,u.classes.unshift("mop"),u.italic=m}}else if(s.body){var v=di(s.body,e,!0);v.length===1&&v[0]instanceof Ka?(u=v[0],u.classes[0]="mop"):u=_e.makeSpan(["mop"],v,e)}else{for(var b=[],k=1;k<s.name.length;k++)b.push(_e.mathsym(s.name[k],s.mode,e));u=_e.makeSpan(["mop"],b,e)}var R=0,N=0;return(u instanceof Ka||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(R=(u.height-u.depth)/2-e.fontMetrics().axisHeight,N=u.italic),i?CL(u,n,r,e,a,N,R):(R&&(u.style.position="relative",u.style.top=Ze(R)),u)},am=(t,e)=>{var n;if(t.symbol)n=new Ua("mo",[Ja(t.name,t.mode)]),It.contains(AL,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ua("mo",ua(t.body,e));else{n=new Ua("mi",[new Rd(t.name.slice(1))]);var r=new Ua("mo",[Ja("⁡","text")]);t.parentIsSupSub?n=new Ua("mrow",[n,r]):n=rL([n,r])}return n},gde={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Je({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=gde[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Mh,mathmlBuilder:am});Je({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Zr(r)}},htmlBuilder:Mh,mathmlBuilder:am});var _de={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Je({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Mh,mathmlBuilder:am});Je({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Mh,mathmlBuilder:am});Je({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=_de[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Mh,mathmlBuilder:am});var IL=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Xt(t.base,"operatorname"),i=!0):s=Xt(t,"operatorname");var a;if(s.body.length>0){for(var l=s.body.map(m=>{var g=m.text;return typeof g=="string"?{type:"textord",mode:m.mode,text:g}:m}),u=di(l,e.withFont("mathrm"),!0),f=0;f<u.length;f++){var p=u[f];p instanceof Ka&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=_e.makeSpan(["mop"],u,e)}else a=_e.makeSpan(["mop"],[],e);return i?CL(a,n,r,e,e.style,0,0):a},vde=(t,e)=>{for(var n=ua(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof Be.SpaceNode))if(s instanceof Be.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof Be.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=n.map(p=>p.toText()).join("");n=[new Be.TextNode(l)]}var u=new Be.MathNode("mi",n);u.setAttribute("mathvariant","normal");var f=new Be.MathNode("mo",[Ja("⁡","text")]);return t.parentIsSupSub?new Be.MathNode("mrow",[u,f]):Be.newDocumentFragment([u,f])};Je({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Zr(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:IL,mathmlBuilder:vde});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Q0({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?_e.makeFragment(di(t.body,e,!1)):_e.makeSpan(["mord"],di(t.body,e,!0),e)},mathmlBuilder(t,e){return Cc(t.body,e,!0)}});Je({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=xn(t.body,e.havingCrampedStyle()),r=_e.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return _e.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new Be.MathNode("mo",[new Be.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Be.MathNode("mover",[Kn(t.body,e),n]);return r.setAttribute("accent","true"),r}});Je({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Zr(r)}},htmlBuilder:(t,e)=>{var n=di(t.body,e.withPhantom(),!1);return _e.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=ua(t.body,e);return new Be.MathNode("mphantom",n)}});Je({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=_e.makeSpan([],[xn(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),_e.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=ua(Zr(t.body),e),r=new Be.MathNode("mphantom",n),i=new Be.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Je({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=_e.makeSpan(["inner"],[xn(t.body,e.withPhantom())]),r=_e.makeSpan(["fix"],[]);return _e.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=ua(Zr(t.body),e),r=new Be.MathNode("mphantom",n),i=new Be.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Je({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Xt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=xn(t.body,e),r=Er(t.dy,e);return _e.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Be.MathNode("mpadded",[Kn(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Je({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Je({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Xt(e[0],"size"),a=Xt(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Xt(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=_e.makeSpan(["mord","rule"],[],e),r=Er(t.width,e),i=Er(t.height,e),s=t.shift?Er(t.shift,e):0;return n.style.borderRightWidth=Ze(r),n.style.borderTopWidth=Ze(i),n.style.bottom=Ze(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Er(t.width,e),r=Er(t.height,e),i=t.shift?Er(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new Be.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Ze(n)),a.setAttribute("height",Ze(r));var l=new Be.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",Ze(i)):(l.setAttribute("height",Ze(i)),l.setAttribute("depth",Ze(-i))),l.setAttribute("voffset",Ze(i)),l}});function RL(t,e,n){for(var r=di(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return _e.makeFragment(r)}var hT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yde=(t,e)=>{var n=e.havingSize(t.size);return RL(t.body,n,e)};Je({type:"sizing",names:hT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:hT.indexOf(r)+1,body:s}},htmlBuilder:yde,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=ua(t.body,n),i=new Be.MathNode("mstyle",r);return i.setAttribute("mathsize",Ze(n.sizeMultiplier)),i}});Je({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&Xt(n[0],"ordgroup");if(a)for(var l="",u=0;u<a.body.length;++u){var f=a.body[u];if(l=f.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var p=e[0];return{type:"smash",mode:r.mode,body:p,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=_e.makeSpan([],[xn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return _e.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new Be.MathNode("mpadded",[Kn(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Je({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=xn(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=_e.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<bt.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,l=n.height+n.depth+a+i,{span:u,ruleWidth:f,advanceWidth:p}=gu.sqrtImage(l,e),m=u.height-f;m>n.height+n.depth+a&&(a=(a+m-n.height-n.depth)/2);var g=u.height-n.height-a-f;n.style.paddingLeft=Ze(p);var v=_e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:u},{type:"kern",size:f}]},e);if(t.index){var b=e.havingStyle(bt.SCRIPTSCRIPT),k=xn(t.index,b,e),R=.6*(v.height-v.depth),N=_e.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:k}]},e),x=_e.makeSpan(["root"],[N]);return _e.makeSpan(["mord","sqrt"],[x,v],e)}else return _e.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Be.MathNode("mroot",[Kn(n,e),Kn(r,e)]):new Be.MathNode("msqrt",[Kn(n,e)])}});var dT={display:bt.DISPLAY,text:bt.TEXT,script:bt.SCRIPT,scriptscript:bt.SCRIPTSCRIPT};Je({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=dT[t.style],r=e.havingStyle(n).withFont("");return RL(t.body,r,e)},mathmlBuilder(t,e){var n=dT[t.style],r=e.havingStyle(n),i=ua(t.body,r),s=new Be.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[t.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var bde=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===bt.DISPLAY.size||r.alwaysHandleSupSub);return i?Mh:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===bt.DISPLAY.size||r.limits);return s?IL:null}else{if(r.type==="accent")return It.isCharacterBox(r.base)?A6:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?ML:null}else return null}else return null};Q0({type:"supsub",htmlBuilder(t,e){var n=bde(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=xn(r,e),l,u,f=e.fontMetrics(),p=0,m=0,g=r&&It.isCharacterBox(r);if(i){var v=e.havingStyle(e.style.sup());l=xn(i,v,e),g||(p=a.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(s){var b=e.havingStyle(e.style.sub());u=xn(s,b,e),g||(m=a.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var k;e.style===bt.DISPLAY?k=f.sup1:e.style.cramped?k=f.sup3:k=f.sup2;var R=e.sizeMultiplier,N=Ze(.5/f.ptPerEm/R),x=null;if(u){var T=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Ka||T)&&(x=Ze(-a.italic))}var M;if(l&&u){p=Math.max(p,k,l.depth+.25*f.xHeight),m=Math.max(m,f.sub2);var I=f.defaultRuleThickness,P=4*I;if(p-l.depth-(u.height-m)<P){m=P-(p-l.depth)+u.height;var O=.8*f.xHeight-(p-l.depth);O>0&&(p+=O,m-=O)}var z=[{type:"elem",elem:u,shift:m,marginRight:N,marginLeft:x},{type:"elem",elem:l,shift:-p,marginRight:N}];M=_e.makeVList({positionType:"individualShift",children:z},e)}else if(u){m=Math.max(m,f.sub1,u.height-.8*f.xHeight);var $=[{type:"elem",elem:u,marginLeft:x,marginRight:N}];M=_e.makeVList({positionType:"shift",positionData:m,children:$},e)}else if(l)p=Math.max(p,k,l.depth+.25*f.xHeight),M=_e.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:l,marginRight:N}]},e);else throw new Error("supsub must have either sup or sub.");var ee=W3(a,"right")||"mord";return _e.makeSpan([ee],[a,_e.makeSpan(["msupsub"],[M])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Kn(t.base,e)];t.sub&&s.push(Kn(t.sub,e)),t.sup&&s.push(Kn(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===bt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===bt.DISPLAY||f.limits)?a="munderover":a="msubsup"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===bt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===bt.DISPLAY)?a="munder":a="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===bt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===bt.DISPLAY)?a="mover":a="msup"}return new Be.MathNode(a,s)}});Q0({type:"atom",htmlBuilder(t,e){return _e.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Be.MathNode("mo",[Ja(t.text,t.mode)]);if(t.family==="bin"){var r=M6(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var PL={mi:"italic",mn:"normal",mtext:"normal"};Q0({type:"mathord",htmlBuilder(t,e){return _e.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Be.MathNode("mi",[Ja(t.text,t.mode,e)]),r=M6(t,e)||"italic";return r!==PL[n.type]&&n.setAttribute("mathvariant",r),n}});Q0({type:"textord",htmlBuilder(t,e){return _e.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Ja(t.text,t.mode,e),r=M6(t,e)||"normal",i;return t.mode==="text"?i=new Be.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Be.MathNode("mn",[n]):t.text==="\\prime"?i=new Be.MathNode("mo",[n]):i=new Be.MathNode("mi",[n]),r!==PL[i.type]&&i.setAttribute("mathvariant",r),i}});var j4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},K4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Q0({type:"spacing",htmlBuilder(t,e){if(K4.hasOwnProperty(t.text)){var n=K4[t.text].className||"";if(t.mode==="text"){var r=_e.makeOrd(t,e,"textord");return r.classes.push(n),r}else return _e.makeSpan(["mspace",n],[_e.mathsym(t.text,t.mode,e)],e)}else{if(j4.hasOwnProperty(t.text))return _e.makeSpan(["mspace",j4[t.text]],[],e);throw new We('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(K4.hasOwnProperty(t.text))n=new Be.MathNode("mtext",[new Be.TextNode(" ")]);else{if(j4.hasOwnProperty(t.text))return new Be.MathNode("mspace");throw new We('Unknown type of space "'+t.text+'"')}return n}});var pT=()=>{var t=new Be.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Q0({type:"tag",mathmlBuilder(t,e){var n=new Be.MathNode("mtable",[new Be.MathNode("mtr",[pT(),new Be.MathNode("mtd",[Cc(t.body,e)]),pT(),new Be.MathNode("mtd",[Cc(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var mT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},gT={"\\textbf":"textbf","\\textmd":"textmd"},wde={"\\textit":"textit","\\textup":"textup"},_T=(t,e)=>{var n=t.font;return n?mT[n]?e.withTextFontFamily(mT[n]):gT[n]?e.withTextFontWeight(gT[n]):e.withTextFontShape(wde[n]):e};Je({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Zr(i),font:r}},htmlBuilder(t,e){var n=_T(t,e),r=di(t.body,n,!0);return _e.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=_T(t,e);return Cc(t.body,n)}});Je({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=xn(t.body,e),r=_e.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=_e.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return _e.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new Be.MathNode("mo",[new Be.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Be.MathNode("munder",[Kn(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Je({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=xn(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return _e.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Be.MathNode("mpadded",[Kn(t.body,e)],["vcenter"])}});Je({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new We("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=vT(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(_e.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return _e.makeSpan(["mord","text"].concat(i.sizingClasses(e)),_e.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Be.TextNode(vT(t)),r=new Be.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var vT=t=>t.body.replace(/ /g,t.star?"␣":" "),fc=tL,NL=`[ \r
	]`,xde="\\\\[a-zA-Z@]+",Sde="\\\\[^\uD800-\uDFFF]",Tde="("+xde+")"+NL+"*",kde=`\\\\(
|[ \r	]+
?)[ \r	]*`,Y3="[̀-ͯ]",Ede=new RegExp(Y3+"+$"),Mde="("+NL+"+)|"+(kde+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Y3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Y3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Tde)+("|"+Sde+")");class yT{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Mde,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new fl("EOF",new ya(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new We("Unexpected character: '"+e[n]+"'",new fl(e[n],new ya(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new fl(i,new ya(this,n,this.tokenRegex.lastIndex))}}class Cde{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new We("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Ade=xL;H("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});H("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});H("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});H("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});H("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var bT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new We("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=bT[e.text],r==null||r>=n)throw new We("Invalid base-"+n+" digit "+e.text);for(var i;(i=bT[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var B6=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new We("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new We("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new We("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new We("Invalid number of arguments: "+l);a=parseInt(l),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:a}),""};H("\\newcommand",t=>B6(t,!1,!0));H("\\renewcommand",t=>B6(t,!0,!1));H("\\providecommand",t=>B6(t,!0,!0));H("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});H("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});H("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),fc[n],or.math[n],or.text[n]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");H("ℬ","\\mathscr{B}");H("ℰ","\\mathscr{E}");H("ℱ","\\mathscr{F}");H("ℋ","\\mathscr{H}");H("ℐ","\\mathscr{I}");H("ℒ","\\mathscr{L}");H("ℳ","\\mathscr{M}");H("ℛ","\\mathscr{R}");H("ℭ","\\mathfrak{C}");H("ℌ","\\mathfrak{H}");H("ℨ","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("·","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");H("\\ne","\\neq");H("≠","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");H("∉","\\notin");H("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");H("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");H("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");H("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");H("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");H("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");H("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");H("⟂","\\perp");H("‼","\\mathclose{!\\mkern-0.8mu!}");H("∌","\\notni");H("⌜","\\ulcorner");H("⌝","\\urcorner");H("⌞","\\llcorner");H("⌟","\\lrcorner");H("©","\\copyright");H("®","\\textregistered");H("️","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");H("⋮","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var wT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in wT?e=wT[n]:(n.slice(0,4)==="\\not"||n in or.math&&It.contains(["bin","rel"],or.math[n].group))&&(e="\\dotsb"),e});var z6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(t){var e=t.future().text;return e in z6?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(t){var e=t.future().text;return e in z6&&e!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(t){var e=t.future().text;return e in z6?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new We("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var LL=Ze(al["Main-Regular"]["T".charCodeAt(0)][1]-.7*al["Main-Regular"]["A".charCodeAt(0)][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+LL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+LL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("∷","\\dblcolon");H("∹","\\eqcolon");H("≔","\\coloneqq");H("≕","\\eqqcolon");H("⩴","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");H("\\nleqq","\\html@mathml{\\@nleqq}{≰}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");H("\\imath","\\html@mathml{\\@imath}{ı}");H("\\jmath","\\html@mathml{\\@jmath}{ȷ}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");H("⟦","\\llbracket");H("⟧","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");H("⦃","\\lBrace");H("⦄","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");H("⦵","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var OL=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var u=m=>g=>{t&&(g.macros.set("|",a),i.length&&g.macros.set("\\|",l));var v=m;if(!m&&i.length){var b=g.future();b.text==="|"&&(g.popToken(),v=!0)}return{tokens:v?i:r,numArgs:0}};e.macros.set("|",u(!1)),i.length&&e.macros.set("\\|",u(!0));var f=e.consumeArg().tokens,p=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};H("\\bra@ket",OL(!1));H("\\bra@set",OL(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var DL={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ide{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new Cde(Ade,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new yT(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new fl("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,l=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new We("Extra }",s)}else if(s.text==="EOF")throw new We("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[l]==="{")&&s.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new We("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new We("Use of the macro doesn't match its definition",s)}}for(var a=[],l=0;l<e;l++)a.push(this.consumeArg(n&&n[l+1]).tokens);return a}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new We("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new We("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var u=s[l];if(u.text==="#"){if(l===0)throw new We("Incomplete placeholder at end of macro body",u);if(u=s[--l],u.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(u.text))s.splice(l,2,...a[+u.text-1]);else throw new We("Not a valid argument number",u)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new fl(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var l=new yT(i,this.settings),u=[],f=l.lex();f.text!=="EOF";)u.push(f),f=l.lex();u.reverse();var p={tokens:u,numArgs:s};return p}return i}isDefined(e){return this.macros.has(e)||fc.hasOwnProperty(e)||or.math.hasOwnProperty(e)||or.text.hasOwnProperty(e)||DL.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:fc.hasOwnProperty(e)&&!fc[e].primitive}}var xT=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,v1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),J4={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},ST={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class wp{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ide(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new We("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new fl("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(wp.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&fc[i.text]&&fc[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new We("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,l=e.slice(0,n),u=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?a=u[0]:a={type:"ordgroup",mode:this.mode,body:u};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],a],[]):f=this.callFunction(r,[s,a],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new We("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new We("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new We("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new We("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new We("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:u}}else if(v1[s.text]){var f=v1[s.text],p=xT.test(s.text);for(this.consume();;){var m=this.fetch().text;if(!v1[m]||xT.test(m)!==p)break;this.consume(),f+=v1[m]}var g=new wp(f,this.settings).parse();p?i={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=fc[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new We("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new We("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new We("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,a,l,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},l=fc[e];if(l&&l.handler)return l.handler(a,n,r);throw new We("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var l=n.argTypes&&n.argTypes[a],u=a<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(l="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",l,u);if(u)s.push(f);else if(f!=null)i.push(f);else throw new We("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new We("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new We("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new We("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new We("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new We("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new We("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!VN(s))throw new We("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),u=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ya.range(r,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!DL.hasOwnProperty(i)){if(this.settings.throwOnError)throw new We("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:ya.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:ya.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:ya.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new We(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}ST.hasOwnProperty(n[0])&&!or[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=ST[n[0]]+n.slice(1));var s=Ede.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var a;if(or[this.mode][n]){this.settings.strict&&this.mode==="math"&&H3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=or[this.mode][n].group,u=ya.range(e),f;if(vhe.hasOwnProperty(l)){var p=l;f={type:"atom",mode:this.mode,family:p,loc:u,text:n}}else f={type:l,mode:this.mode,loc:u,text:n};a=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(GN(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:ya.range(e),text:n};else return null;if(this.consume(),s)for(var m=0;m<s[0].length;m++){var g=s[0][m];if(!J4[g])throw new We("Unknown accent ' "+g+"'",e);var v=J4[g][this.mode]||J4[g].text;if(!v)throw new We("Accent "+g+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:ya.range(e),label:v,isStretchy:!1,isShifty:!0,base:a}}return a}}wp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var F6=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new wp(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new We("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new fl("\\df@tag")])}]}return i},BL=function(e,n,r){n.textContent="";var i=U6(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),BL=function(){throw new We("KaTeX doesn't work in quirks mode.")});var Rde=function(e,n){var r=U6(e,n).toMarkup();return r},Pde=function(e,n){var r=new w6(n);return F6(e,r)},zL=function(e,n,r){if(r.throwOnError||!(e instanceof We))throw e;var i=_e.makeSpan(["katex-error"],[new Ka(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},U6=function(e,n){var r=new w6(n);try{var i=F6(e,r);return qhe(i,e,r)}catch(s){return zL(s,e,r)}},Nde=function(e,n){var r=new w6(n);try{var i=F6(e,r);return Hhe(i,e,r)}catch(s){return zL(s,e,r)}},Lde={version:"0.16.8",render:BL,renderToString:Rde,ParseError:We,SETTINGS_SCHEMA:U1,__parse:Pde,__renderToDomTree:U6,__renderToHTMLTree:Nde,__setFontMetrics:fhe,__defineSymbol:S,__defineFunction:Je,__defineMacro:H,__domTree:{Span:sm,Anchor:T6,SymbolNode:Ka,SvgNode:Su,PathNode:Mc,LineNode:q3}};const Ode=new RegExp("(?<=\\s|^)\\${1,2}(?!\\$)"),TT=new RegExp("^(\\${1,2})(?!\\$)((?:\\\\.|[^\\\\\\n])+?)(?<!\\$)\\1(?=\\s|$)"),Dde=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function Bde(t={}){return{extensions:[zde(t,kT(t,!1)),Fde(t,kT(t,!0))]}}function kT(t,e){return n=>Lde.renderToString(n.text,{...t,displayMode:n.displayMode})+(e?`
`:"")}function zde(t,e){return{name:"inlineKatex",level:"inline",start(n){const r=n.match(Ode);if(!r)return;if(n.substring(r.index).match(TT))return r.index},tokenizer(n,r){const i=n.match(TT);if(i)return{type:"inlineKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function Fde(t,e){return{name:"blockKatex",level:"block",start(n){return n.indexOf(`
$`)},tokenizer(n,r){const i=n.match(Dde);if(i)return{type:"blockKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function ET(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Nd(s,i[a]);return{c(){e=ce("div"),H1(e,s)},m(a,l){Nt(a,e,l),n||(r=GT(t[2].call(null,e)),n=!0)},p(a,l){H1(e,s=YT(i,[l&16&&a[4]]))},d(a){a&&_t(e),n=!1,r()}}}function MT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Nd(s,i[a]);return{c(){e=ce("div"),H1(e,s)},m(a,l){Nt(a,e,l),n||(r=GT(t[3].call(null,e)),n=!0)},p(a,l){H1(e,s=YT(i,[l&16&&a[4]]))},d(a){a&&_t(e),n=!1,r()}}}function Ude(t){let e,n,r=t[0],i,s=t[1],a,l=ET(t),u=MT(t);return{c(){e=ce("link"),n=Te(),l.c(),i=Te(),u.c(),a=h_(),X(e,"rel","stylesheet"),X(e,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),X(e,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),X(e,"crossorigin","anonymous")},m(f,p){U(document.head,e),Nt(f,n,p),l.m(f,p),Nt(f,i,p),u.m(f,p),Nt(f,a,p)},p(f,[p]){p&1&&Za(r,r=f[0])?(l.d(1),l=ET(f),l.c(),l.m(i.parentNode,i)):l.p(f,p),p&2&&Za(s,s=f[1])?(u.d(1),u=MT(f),u.c(),u.m(a.parentNode,a)):u.p(f,p)},i:Pn,o:Pn,d(f){_t(e),f&&_t(n),l.d(f),f&&_t(i),f&&_t(a),u.d(f)}}}function qde(t,e,n){const r=["options","mdtext"];let i=Mw(e,r),{options:s}=e,{mdtext:a}=e;function l(f){s!=null&&f.appendChild(rl(s))}function u(f){a!=null&&(Rn.use(Bde({displayMode:!0,output:"html"}),{mangle:!1,headerIds:!1}),f.innerHTML=Rn.parse(a),ur(f).select("table").attr("class","ui celled inverted grey table"))}return t.$$set=f=>{e=Nd(Nd({},e),RU(f)),n(4,i=Mw(e,r)),"options"in f&&n(0,s=f.options),"mdtext"in f&&n(1,a=f.mdtext)},[s,a,l,u,i]}class CT extends Mu{constructor(e){super(),Eu(this,e,qde,Ude,Za,{options:0,mdtext:1})}}function AT(t,e,n){const r=t.slice();return r[74]=e[n],r}function IT(t,e,n){const r=t.slice();return r[77]=e[n][0],r[78]=e[n][1],r}function RT(t,e,n){const r=t.slice();return r[77]=e[n][0],r[81]=e[n][1],r}function PT(t,e,n){const r=t.slice();return r[84]=e[n],r}function Hde(t){return{c:Pn,m:Pn,p:Pn,d:Pn}}function Wde(t){let e;function n(s,a){return s[21]==null?Gde:$de}let r=n(t),i=r(t);return{c(){i.c(),e=h_()},m(s,a){i.m(s,a),Nt(s,e,a)},p(s,a){r===(r=n(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&_t(e)}}}function $de(t){let e,n=t[21].user.email+"",r;return{c(){e=ce("div"),r=ze(n),X(e,"class","ui green top left attached label")},m(i,s){Nt(i,e,s),U(e,r)},p(i,s){s[0]&2097152&&n!==(n=i[21].user.email+"")&&Ht(r,n)},d(i){i&&_t(e)}}}function Gde(t){return{c:Pn,m:Pn,p:Pn,d:Pn}}function Vde(t){let e;return{c(){e=ce("label"),e.innerHTML='Signing.. <i class="icon spinner"></i>',X(e,"class","ui orange label top left attached")},m(n,r){Nt(n,e,r)},p:Pn,d(n){n&&_t(e)}}}function NT(t){let e,n,r,i,s,a;return{c(){e=ce("div"),n=ce("label"),n.textContent="MidBand to 6GHz Factor :",r=Te(),i=ce("input"),X(i,"type","number"),X(i,"min",".5"),X(i,"max","2"),X(i,"step","0.1"),X(e,"class","field")},m(l,u){Nt(l,e,u),U(e,n),U(e,r),U(e,i),Gt(i,t[4]),s||(a=ft(i,"input",t[38]),s=!0)},p(l,u){u[0]&16&&zn(i.value)!==l[4]&&Gt(i,l[4])},d(l){l&&_t(e),s=!1,a()}}}function LT(t){let e,n=t[84].Name+"",r,i,s=t[84].Height+"",a,l,u=t[84].BSDensity+"",f,p;return{c(){e=ce("option"),r=ze(n),i=ze(" - ( "),a=ze(s),l=ze("m, BS:"),f=ze(u),p=ze(`/sqkm)
          `),e.__value=t[84],e.value=e.__value},m(m,g){Nt(m,e,g),U(e,r),U(e,i),U(e,a),U(e,l),U(e,f),U(e,p)},p:Pn,d(m){m&&_t(e)}}}function OT(t){let e,n=t[77]+"",r,i,s=t[19].Ra[t[81].val]+"",a,l;return{c(){e=ce("option"),r=ze(n),i=ze(":"),a=ze(s),l=ze(`%
          `),e.__value=t[81],e.value=e.__value},m(u,f){Nt(u,e,f),U(e,r),U(e,i),U(e,a),U(e,l)},p(u,f){f[0]&524288&&s!==(s=u[19].Ra[u[81].val]+"")&&Ht(a,s)},d(u){u&&_t(e)}}}function DT(t){let e,n=t[77]+"",r,i,s=t[19].Rb[t[78].val]+"",a,l;return{c(){e=ce("option"),r=ze(n),i=ze(":"),a=ze(s),l=ze(`%
          `),e.__value=t[78],e.value=e.__value},m(u,f){Nt(u,e,f),U(e,r),U(e,i),U(e,a),U(e,l)},p(u,f){f[0]&524288&&s!==(s=u[19].Rb[u[78].val]+"")&&Ht(a,s)},d(u){u&&_t(e)}}}function BT(t){let e,n=t[74]+"",r,i,s;return{c(){e=ce("option"),r=ze(n),i=Te(),e.__value=s=t[74],e.value=e.__value},m(a,l){Nt(a,e,l),U(e,r),U(e,i)},p(a,l){l[0]&1048576&&n!==(n=a[74]+"")&&Ht(r,n),l[0]&1048576&&s!==(s=a[74])&&(e.__value=s,e.value=e.__value)},d(a){a&&_t(e)}}}function Yde(t){let e,n,r,i,s,a=t[17]?"Un Pin":"Pin Me",l,u,f,p,m,g,v,b,k=t[21]==null?"Login":"Log Out",R,N,x,T,M,I,P,O,z,$,ee,G,J,ie,se,te,ae,V,Y,he,re,ye,me,Ne,xe,Ce,Me,Le,Fe,pe,Ie,Ae,ve,Ue,Ge,nt,Re,ht,vt,Ft,yt,Lt,Hn,Qt,cr,_r,vn,Yn,_n,vr,Zn,qr,Sn,lr,yn,ot,en,Cn,Cr,ti,Xr,yr,Ar,Qn,Ir,Ds,Hr,Oi,ji,gi,Nn,ni,Rr,_i,Pr,tt,Di,Wr,Ln,us,Bs,Nr={ctx:t,current:null,token:null,hasCatch:!1,pending:Vde,then:Wde,catch:Hde,value:87};Cw(p=t[18],Nr);let Un=t[12]==!0&&NT(t),Ki=t[24],fr=[];for(let Qe=0;Qe<Ki.length;Qe+=1)fr[Qe]=LT(PT(t,Ki,Qe));let ri=[...t[25]],hr=[];for(let Qe=0;Qe<ri.length;Qe+=1)hr[Qe]=OT(RT(t,ri,Qe));let Bi=[...t[26]],er=[];for(let Qe=0;Qe<Bi.length;Qe+=1)er[Qe]=DT(IT(t,Bi,Qe));let vi=t[20],Xn=[];for(let Qe=0;Qe<vi.length;Qe+=1)Xn[Qe]=BT(AT(t,vi,Qe));return tt=new CT({props:{mdtext:`# Information
The deployment density values for large area ( $D_l$ )
$$D_l = Ds * Ra * Rb$$
**where**: 
- Ds = 	density value for coverage area, i.e. density of simultaneously transmitting UEs or number of BS per km2;
- Ra (%) = 	ratio of coverage areas to areas of cities/built areas/districts;
- Rb (%) = 	ratio of built areas to total area of region in study ()
`}}),Wr=new CT({props:{mdtext:`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[8].Urban.Ra*100}%,${t[8].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[8].Urban.Rb*100}%,${t[8].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`}}),{c(){e=ce("div"),n=ce("a"),r=ce("i"),s=Te(),l=ze(a),f=Te(),Nr.block.c(),m=Te(),g=ce("div"),v=ce("div"),b=ce("button"),R=ze(k),N=Te(),x=ce("input"),M=Te(),I=ce("input"),O=Te(),z=ce("div"),$=ce("label"),$.textContent="Noise Temp.(K)",ee=Te(),G=ce("input"),J=Te(),ie=ce("label"),ie.textContent="FSS Rx Gain (dBi)",se=Te(),te=ce("input"),ae=Te(),V=ce("div"),Y=ce("input"),re=Te(),ye=ce("label"),ye.textContent="Shaped Footprint",Ne=Te(),xe=ce("div"),Ce=ce("label"),Me=ze("Satellite Angle : "),Le=ze(t[3]),Fe=Te(),pe=ce("input"),ve=Te(),Ue=ce("input"),Re=Te(),Un&&Un.c(),ht=Te(),vt=ce("div"),Ft=ce("label"),Ft.textContent="Environment",yt=Te(),Lt=ce("select");for(let Qe=0;Qe<fr.length;Qe+=1)fr[Qe].c();Hn=Te(),Qt=ce("div"),cr=ce("label"),cr.textContent="Ra Options",_r=Te(),vn=ce("select");for(let Qe=0;Qe<hr.length;Qe+=1)hr[Qe].c();Yn=Te(),_n=ce("label"),_n.textContent="Rb Options",vr=Te(),Zn=ce("select");for(let Qe=0;Qe<er.length;Qe+=1)er[Qe].c();qr=Te(),Sn=ce("div"),lr=ce("button"),lr.textContent="Show Info",yn=Te(),ot=ce("div"),en=ce("label"),en.textContent="Profiles",Cn=Te(),Cr=ce("select");for(let Qe=0;Qe<Xn.length;Qe+=1)Xn[Qe].c();ti=Te(),Xr=ce("div"),yr=ce("div"),Ar=ce("input"),Qn=Te(),Ir=ce("label"),Ir.textContent="Show Variables",Ds=Te(),Hr=ce("div"),Oi=ce("input"),ji=Te(),gi=ce("label"),gi.textContent="Grid Edge",ni=Te(),Rr=ce("dialog"),_i=ce("button"),_i.textContent="X",Pr=Te(),Jo(tt.$$.fragment),Di=Te(),Jo(Wr.$$.fragment),X(r,"class",i="icon "+(t[17],"thumbtack")),X(n,"class",u="ui "+(t[17]?"grey":"green")+" right ribbon label"),X(b,"class","ui fluid primary button"),X(x,"type","text"),x.disabled=T=t[21]!=null,nu(x,"display",t[21]!=null?"none":"block"),X(I,"type","password"),I.disabled=P=t[21]!=null,nu(I,"display",t[21]!=null?"none":"block"),X(v,"class","field"),X(G,"type","number"),X(G,"step","50"),G.disabled=!0,X(te,"type","number"),X(te,"min","10"),X(te,"max","40"),X(Y,"type","checkbox"),Y.disabled=he=t[13]?"":"disabled",X(V,"class",me="ui toggle checkbox "+(t[13]?"":"disabled")),X(z,"class","field"),X(pe,"type","number"),X(pe,"min",Ie=t[11][0]),X(pe,"max",Ae=t[11][1]),X(pe,"step","0.5"),X(Ue,"type","range"),X(Ue,"min",Ge=t[11][0]),X(Ue,"max",nt=t[11][1]),X(Ue,"step","0.5"),X(xe,"class","field"),t[19]===void 0&&qa(()=>t[39].call(Lt)),X(vt,"class","field"),X(cr,"for",""),X(vn,"name",""),X(vn,"id",""),t[0]===void 0&&qa(()=>t[40].call(vn)),X(_n,"for",""),X(Zn,"name",""),X(Zn,"id",""),t[1]===void 0&&qa(()=>t[41].call(Zn)),X(lr,"class","ui tiny button"),X(Sn,"class","ui toggle checkbox"),X(Qt,"class","field"),X(en,"for",""),X(Cr,"name","profile"),X(Cr,"id",""),t[22]===void 0&&qa(()=>t[43].call(Cr)),X(ot,"class","field"),X(Ar,"type","checkbox"),X(yr,"class","ui toggle checkbox"),X(Oi,"type","checkbox"),X(Hr,"class","ui toggle checkbox"),X(Xr,"class","field"),X(g,"class","ui fields divided six column grid"),X(e,"class",Nn="ui form "+(t[17]?"toolbox":"segment")),X(_i,"class","ui label red top right attached"),X(Rr,"class","ui svelte-1ao14oj"),X(Rr,"style","border:red;}")},m(Qe,ct){Nt(Qe,e,ct),U(e,n),U(n,r),U(n,s),U(n,l),U(e,f),Nr.block.m(e,Nr.anchor=null),Nr.mount=()=>e,Nr.anchor=m,U(e,m),U(e,g),U(g,v),U(v,b),U(b,R),U(v,N),U(v,x),Gt(x,t[5]),U(v,M),U(v,I),Gt(I,t[6]),U(g,O),U(g,z),U(z,$),U(z,ee),U(z,G),Gt(G,t[2]),U(z,J),U(z,ie),U(z,se),U(z,te),Gt(te,t[10]),U(z,ae),U(z,V),U(V,Y),Y.checked=t[9],U(V,re),U(V,ye),U(g,Ne),U(g,xe),U(xe,Ce),U(Ce,Me),U(Ce,Le),U(xe,Fe),U(xe,pe),Gt(pe,t[3]),U(xe,ve),U(xe,Ue),Gt(Ue,t[3]),U(g,Re),Un&&Un.m(g,null),U(g,ht),U(g,vt),U(vt,Ft),U(vt,yt),U(vt,Lt);for(let bn=0;bn<fr.length;bn+=1)fr[bn]&&fr[bn].m(Lt,null);Ko(Lt,t[19],!0),U(g,Hn),U(g,Qt),U(Qt,cr),U(Qt,_r),U(Qt,vn);for(let bn=0;bn<hr.length;bn+=1)hr[bn]&&hr[bn].m(vn,null);Ko(vn,t[0],!0),U(Qt,Yn),U(Qt,_n),U(Qt,vr),U(Qt,Zn);for(let bn=0;bn<er.length;bn+=1)er[bn]&&er[bn].m(Zn,null);Ko(Zn,t[1],!0),U(Qt,qr),U(Qt,Sn),U(Sn,lr),U(g,yn),U(g,ot),U(ot,en),U(ot,Cn),U(ot,Cr);for(let bn=0;bn<Xn.length;bn+=1)Xn[bn]&&Xn[bn].m(Cr,null);Ko(Cr,t[22],!0),U(g,ti),U(g,Xr),U(Xr,yr),U(yr,Ar),Ar.checked=t[14],U(yr,Qn),U(yr,Ir),U(Xr,Ds),U(Xr,Hr),U(Hr,Oi),Oi.checked=t[7],U(Hr,ji),U(Hr,gi),Nt(Qe,ni,ct),Nt(Qe,Rr,ct),U(Rr,_i),U(Rr,Pr),mo(tt,Rr,null),U(Rr,Di),mo(Wr,Rr,null),t[47](Rr),Ln=!0,us||(Bs=[ft(n,"click",t[30]),ft(b,"click",t[23]),ft(x,"input",t[31]),ft(I,"input",t[32]),ft(G,"input",t[33]),ft(te,"input",t[34]),ft(Y,"change",t[35]),ft(pe,"input",t[36]),ft(Ue,"change",t[37]),ft(Ue,"input",t[37]),ft(Lt,"change",t[39]),ft(vn,"change",t[40]),ft(Zn,"change",t[41]),ft(lr,"click",t[42]),ft(Cr,"change",t[43]),ft(Ar,"change",t[44]),ft(Oi,"change",t[45]),ft(_i,"click",t[46])],us=!0)},p(Qe,ct){if(t=Qe,(!Ln||ct[0]&131072&&i!==(i="icon "+(t[17],"thumbtack")))&&X(r,"class",i),(!Ln||ct[0]&131072)&&a!==(a=t[17]?"Un Pin":"Pin Me")&&Ht(l,a),(!Ln||ct[0]&131072&&u!==(u="ui "+(t[17]?"grey":"green")+" right ribbon label"))&&X(n,"class",u),Nr.ctx=t,ct[0]&262144&&p!==(p=t[18])&&Cw(p,Nr)||WU(Nr,t,ct),(!Ln||ct[0]&2097152)&&k!==(k=t[21]==null?"Login":"Log Out")&&Ht(R,k),(!Ln||ct[0]&2097152&&T!==(T=t[21]!=null))&&(x.disabled=T),(!Ln||ct[0]&2097152)&&nu(x,"display",t[21]!=null?"none":"block"),ct[0]&32&&x.value!==t[5]&&Gt(x,t[5]),(!Ln||ct[0]&2097152&&P!==(P=t[21]!=null))&&(I.disabled=P),(!Ln||ct[0]&2097152)&&nu(I,"display",t[21]!=null?"none":"block"),ct[0]&64&&I.value!==t[6]&&Gt(I,t[6]),ct[0]&4&&zn(G.value)!==t[2]&&Gt(G,t[2]),ct[0]&1024&&zn(te.value)!==t[10]&&Gt(te,t[10]),(!Ln||ct[0]&8192&&he!==(he=t[13]?"":"disabled"))&&(Y.disabled=he),ct[0]&512&&(Y.checked=t[9]),(!Ln||ct[0]&8192&&me!==(me="ui toggle checkbox "+(t[13]?"":"disabled")))&&X(V,"class",me),(!Ln||ct[0]&8)&&Ht(Le,t[3]),(!Ln||ct[0]&2048&&Ie!==(Ie=t[11][0]))&&X(pe,"min",Ie),(!Ln||ct[0]&2048&&Ae!==(Ae=t[11][1]))&&X(pe,"max",Ae),ct[0]&8&&zn(pe.value)!==t[3]&&Gt(pe,t[3]),(!Ln||ct[0]&2048&&Ge!==(Ge=t[11][0]))&&X(Ue,"min",Ge),(!Ln||ct[0]&2048&&nt!==(nt=t[11][1]))&&X(Ue,"max",nt),ct[0]&8&&Gt(Ue,t[3]),t[12]==!0?Un?Un.p(t,ct):(Un=NT(t),Un.c(),Un.m(g,ht)):Un&&(Un.d(1),Un=null),ct[0]&16777216){Ki=t[24];let lt;for(lt=0;lt<Ki.length;lt+=1){const $r=PT(t,Ki,lt);fr[lt]?fr[lt].p($r,ct):(fr[lt]=LT($r),fr[lt].c(),fr[lt].m(Lt,null))}for(;lt<fr.length;lt+=1)fr[lt].d(1);fr.length=Ki.length}if(ct[0]&17301504&&Ko(Lt,t[19]),ct[0]&34078720){ri=[...t[25]];let lt;for(lt=0;lt<ri.length;lt+=1){const $r=RT(t,ri,lt);hr[lt]?hr[lt].p($r,ct):(hr[lt]=OT($r),hr[lt].c(),hr[lt].m(vn,null))}for(;lt<hr.length;lt+=1)hr[lt].d(1);hr.length=ri.length}if(ct[0]&33554433&&Ko(vn,t[0]),ct[0]&67633152){Bi=[...t[26]];let lt;for(lt=0;lt<Bi.length;lt+=1){const $r=IT(t,Bi,lt);er[lt]?er[lt].p($r,ct):(er[lt]=DT($r),er[lt].c(),er[lt].m(Zn,null))}for(;lt<er.length;lt+=1)er[lt].d(1);er.length=Bi.length}if(ct[0]&67108866&&Ko(Zn,t[1]),ct[0]&1048576){vi=t[20];let lt;for(lt=0;lt<vi.length;lt+=1){const $r=AT(t,vi,lt);Xn[lt]?Xn[lt].p($r,ct):(Xn[lt]=BT($r),Xn[lt].c(),Xn[lt].m(Cr,null))}for(;lt<Xn.length;lt+=1)Xn[lt].d(1);Xn.length=vi.length}ct[0]&5242880&&Ko(Cr,t[22]),ct[0]&16384&&(Ar.checked=t[14]),ct[0]&128&&(Oi.checked=t[7]),(!Ln||ct[0]&131072&&Nn!==(Nn="ui form "+(t[17]?"toolbox":"segment")))&&X(e,"class",Nn);const bn={};ct[0]&256&&(bn.mdtext=`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[8].Urban.Ra*100}%,${t[8].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[8].Urban.Rb*100}%,${t[8].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`),Wr.$set(bn)},i(Qe){Ln||(ta(tt.$$.fragment,Qe),ta(Wr.$$.fragment,Qe),Ln=!0)},o(Qe){va(tt.$$.fragment,Qe),va(Wr.$$.fragment,Qe),Ln=!1},d(Qe){Qe&&_t(e),Nr.block.d(),Nr.token=null,Nr=null,Un&&Un.d(),yf(fr,Qe),yf(hr,Qe),yf(er,Qe),yf(Xn,Qe),Qe&&_t(ni),Qe&&_t(Rr),go(tt),go(Wr),t[47](null),us=!1,Ac(Bs)}}}let y1=.2,b1=.75;function Zde(t,e,n){let r,i,s,a;x0(t,XP,Re=>n(29,i=Re)),x0(t,J0,Re=>n(21,s=Re)),x0(t,gp,Re=>n(22,a=Re)),new _6;let{orbitrange:l=[10,20]}=e,{Raindx:u,Rbindx:f}=e,{satAngle:p=83}=e,{MidBandTo6GHzFactor:m=1.5*.4}=e,{hasIMTgrid:g=!1}=e,v=!1,{username:b,password:k}=e,R=!0,{HideAllInspector:N=!1}=e,{EdgeMode:x=!1}=e,T=!1,M,I;async function P(){return s==null?(n(18,I=wle(b,k)),I):(ble().then(ht=>console.log("After signout ",ht,s)),"Signed Out")}let O=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:2.4}],{factor:z={Urban:{Ra:0,Rb:0,BSdensity:0},SubUrban:{Ra:0,Rb:0,BSdensity:0},NW:y1,TDD:b1}}=e,$=10/12.4,ee=O[0],G=new Map([["Ra1",{name:"Ratio of Coverage to cities/built/Areas",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage to cities/built/Areas",val:1,factor:.45}]]),J=new Map([["Rb1",{name:"Ratio of built areas to total area",val:0,factor:.01}],["Rb2a",{name:"Ratio of built areas to total area",val:1,factor:.03}],["Rb2b",{name:"Ratio of built areas to total area",val:2,factor:.05}],["Rb3",{name:"Ratio of built areas to total area",val:3,factor:.02}]]),{UseFootprint:ie=!1}=e,{SatRxGain:se=32}=e,{hasFSSPattern:te=!1}=e,{FSSNoiseTemp:ae=650}=e,V=null;const Y=()=>n(17,v=!v);function he(){b=this.value,n(5,b)}function re(){k=this.value,n(6,k)}function ye(){ae=zn(this.value),n(2,ae)}function me(){se=zn(this.value),n(10,se)}function Ne(){ie=this.checked,n(9,ie),n(13,te)}function xe(){p=zn(this.value),n(3,p)}function Ce(){p=zn(this.value),n(3,p)}function Me(){m=zn(this.value),n(4,m)}function Le(){ee=id(this),n(19,ee),n(24,O)}function Fe(){u=id(this),n(0,u),n(25,G)}function pe(){f=id(this),n(1,f),n(26,J)}const Ie=()=>n(15,T=!0);function Ae(){a=id(this),gp.set(a),n(20,r),n(29,i)}function ve(){R=this.checked,n(14,R)}function Ue(){x=this.checked,n(7,x)}const Ge=()=>{n(15,T=!1)};function nt(Re){Pt[Re?"unshift":"push"](()=>{V=Re,n(16,V)})}return t.$$set=Re=>{"orbitrange"in Re&&n(11,l=Re.orbitrange),"Raindx"in Re&&n(0,u=Re.Raindx),"Rbindx"in Re&&n(1,f=Re.Rbindx),"satAngle"in Re&&n(3,p=Re.satAngle),"MidBandTo6GHzFactor"in Re&&n(4,m=Re.MidBandTo6GHzFactor),"hasIMTgrid"in Re&&n(12,g=Re.hasIMTgrid),"username"in Re&&n(5,b=Re.username),"password"in Re&&n(6,k=Re.password),"HideAllInspector"in Re&&n(27,N=Re.HideAllInspector),"EdgeMode"in Re&&n(7,x=Re.EdgeMode),"factor"in Re&&n(8,z=Re.factor),"UseFootprint"in Re&&n(9,ie=Re.UseFootprint),"SatRxGain"in Re&&n(10,se=Re.SatRxGain),"hasFSSPattern"in Re&&n(13,te=Re.hasFSSPattern),"FSSNoiseTemp"in Re&&n(2,ae=Re.FSSNoiseTemp)},t.$$.update=()=>{t.$$.dirty[0]&16384&&n(27,N=!R),t.$$.dirty[0]&402653184,t.$$.dirty[0]&268435456,t.$$.dirty[0]&3&&u!=null&&n(8,z={Urban:{Ra:O[0].Ra[u.val]/100,Rb:O[0].Rb[f.val]/100,BSdensity:O[0].BSDensity},SubUrban:{Ra:O[1].Ra[u.val]/100,Rb:O[1].Rb[f.val]/100,BSdensity:O[1].BSDensity},NW:y1,TDD:b1,uScale:O[0].BSDensity*O[0].Ra[u.val]*O[0].Rb[f.val]/1e4*y1*b1,suScale:O[1].BSDensity*O[1].Ra[u.val]*O[1].Rb[f.val]/1e4*y1*b1,UrbSurbRatio:$}),t.$$.dirty[0]&536870912&&n(20,r=i),t.$$.dirty[0]&8192&&(console.log("hasFSSPattern .. changed",te),te?n(9,ie=!0):n(9,ie=!1)),t.$$.dirty[0]&4,t.$$.dirty[0]&98304&&V!=null&&(T?V.showModal():V.close())},[u,f,ae,p,m,b,k,x,z,ie,se,l,g,te,R,T,V,v,I,ee,r,s,a,P,O,G,J,N,M,i,Y,he,re,ye,me,Ne,xe,Ce,Me,Le,Fe,pe,Ie,Ae,ve,Ue,Ge,nt]}class Xde extends Mu{constructor(e){super(),Eu(this,e,Zde,Yde,Za,{orbitrange:11,Raindx:0,Rbindx:1,satAngle:3,MidBandTo6GHzFactor:4,hasIMTgrid:12,username:5,password:6,HideAllInspector:27,EdgeMode:7,factor:8,UseFootprint:9,SatRxGain:10,hasFSSPattern:13,FSSNoiseTemp:2},null,[-1,-1,-1])}}function jde(t){let e,n,r,i,s,a,l,u=t[0]?"[Hidden]":"",f,p,m,g,v,b,k,R,N,x,T,M,I,P,O,z,$,ee;return{c(){e=ce("div"),n=ce("div"),i=Te(),s=ce("div"),a=ce("h1"),l=ze("Variables "),f=ze(u),p=Te(),m=ce("div"),g=ce("input"),v=Te(),b=ce("label"),b.textContent="Hide Inspector",k=Te(),R=ce("div"),R.innerHTML=`<div class="ui label left ribbon">Status</div> 
    <div class="ui inverted horizontal divider"></div>`,N=Te(),x=ce("br"),T=Te(),M=ce("br"),I=Te(),P=ce("div"),X(n,"class","ui two column stackable grid"),X(n,"id","logbox"),X(e,"class","ui segment"),qa(()=>t[10].call(e)),X(a,"class","header"),X(g,"type","checkbox"),X(m,"class","ui slider checkbox"),X(R,"class","ui stacked segment"),X(P,"class",O="ui two column stackable "+(t[0]?"hidden":"")+" grid"),X(P,"id","figure"),X(s,"class","ui segment"),qa(()=>t[14].call(s))},m(G,J){Nt(G,e,J),U(e,n),t[9](n),r=W1(e,t[10].bind(e)),Nt(G,i,J),Nt(G,s,J),U(s,a),U(a,l),U(a,f),U(s,p),U(s,m),U(m,g),g.checked=t[0],U(m,v),U(m,b),U(s,k),U(s,R),t[12](R),U(s,N),U(s,x),U(s,T),U(s,M),U(s,I),U(s,P),t[13](P),z=W1(s,t[14].bind(s)),$||(ee=ft(g,"change",t[11]),$=!0)},p(G,[J]){J&1&&u!==(u=G[0]?"[Hidden]":"")&&Ht(f,u),J&1&&(g.checked=G[0]),J&1&&O!==(O="ui two column stackable "+(G[0]?"hidden":"")+" grid")&&X(P,"class",O)},i:Pn,o:Pn,d(G){G&&_t(e),t[9](null),r(),G&&_t(i),G&&_t(s),t[12](null),t[13](null),z(),$=!1,ee()}}}function zT(t){return t&&Object.prototype.toString.call(t)==="[object Promise]"}function Kde(t,e,n){let{DOM:r}=new _6,i=800,s=null,a=null,{statusbox:l=null}=e,u=new Map,{HideAllInspector:f=!1}=e;function p(M){let I=u.get(M);console.log("Found ",I),I.rootcell.remove()}async function m(M,I,P){return P=P||!1,v(M,I,{alwaysshow:P})}async function g(M,I,P){if(P=P||{timeout:1e3,alwaysshow:!0},P.alwaysshow,l==null){console.log("showStatus : ",M,I);return}if(console.log("showStatus: RECEIVED OBJ Status ",M,I),zT(I)){let O=ur(l).select("button#STATUS-"+M);O.empty()&&(O=ur(l).append("button").attr("id","STATUS-"+M).text(M+" : Waiting ")),O.attr("class","ui small button  orange");let z=0,$=setInterval(()=>{z++,O.text(M+" : ..."+(z/10).toFixed(1)+"s")},100);I.then(ee=>{clearInterval($),O.attr("class","ui small button green"),O.text(M+" "+(z/10).toFixed(1)+"s")})}else console.log("NOT a Promise ",M," is already ready ",I)}async function v(M,I,P){P=P||{alwaysshow:!1,fullwidth:!1};var O=P.alwaysshow||!1,z=P.fullwidth||!1,$=P.type||"",ee=a;O&&(ee=s);let G=u.get(M);if(G==null){let se=document.createElement("div"),te=ur(se).attr("class",`${z?"sixteen wide":""} column cell`);te.append("div").attr("class",`ui ${O?"tag teal":"pointing"} below label`).text(M).on("click",he=>{he.target.parentNode.classList.toggle("sixteen")?(he.target.parentNode.classList.value="sixteen wide column",he.target.innerText=M+" <- minimize"):(he.target.parentNode.classList.value="two  column cell",he.target.innerText=M+" -> zoom"),he.target.parentNode.clientWidth});let V=te.append("div").attr("class","plain segment").append("div").node();G={inspector:new T3(V),alwaysshow:O,uid:r.uid(M),rootcell:se,forcedType:$,render:ee!=null},u.set(M,G),ee!=null&&ee.append(se)}let J=G.inspector;if(zT(I))J.fulfilled("Waiting for obj.. ",M),I.then(se=>{var te=M;let ae=!Array.isArray(I),V=r.download(()=>{let Y,he;ae?(Y=JSON.stringify(I),he="application/json",te=M+".json"):(Y=Xx(I),he="application/csv",te=M+".csv");var re=new Blob([Y],{type:he});let ye=document.createElement("a");ye.download=te,ye.href=URL.createObjectURL(re),ye.click(),URL.revokeObjectURL(ye.href)},te,`save(${ae?"json":"csv"})`);Rw("#"+G.uid.id).remove(),V.setAttribute("id",G.uid.id),V.firstChild.className="ui tiny positive button",G.rootcell.firstChild.insertAdjacentElement("afterend",V),J.fulfilled(se)}).catch(se=>{console.log(M,"Error ",se),J.fulfilled("Err : "+se)});else if(O)if(I==null){let se=document.createElement("div"),te=ur(se).attr("class","ui  active placeholder inverted orange segment ");te.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),te.append("img"),J.fulfilled(se)}else J.fulfilled(I);else{var ie=M;let se=G.forcedType==""?!Array.isArray(I):G.forcedType=="json",te=r.download(()=>{let ae,V;se?(ae=JSON.stringify(I),V="application/json",ie=M+".json"):(ae=Xx(I),V="application/csv",ie=M+".csv");var Y=new Blob([ae],{type:V});let he=document.createElement("a");he.download=ie,he.href=URL.createObjectURL(Y),he.click(),URL.revokeObjectURL(he.href)},ie,`save(${se?"json":"csv"})`);Rw("#"+G.uid.id).remove(),te.setAttribute("id",G.uid.id),te.firstChild.className="ui tiny positive button",G.rootcell.firstChild.insertAdjacentElement("afterend",te),J.fulfilled(I)}return M}function b(M){Pt[M?"unshift":"push"](()=>{s=M,n(4,s)})}function k(){i=this.clientWidth,n(2,i)}function R(){f=this.checked,n(0,f)}function N(M){Pt[M?"unshift":"push"](()=>{l=M,n(1,l)})}function x(M){Pt[M?"unshift":"push"](()=>{a=M,n(3,a),n(0,f)})}function T(){i=this.clientWidth,n(2,i)}return t.$$set=M=>{"statusbox"in M&&n(1,l=M.statusbox),"HideAllInspector"in M&&n(0,f=M.HideAllInspector)},t.$$.update=()=>{t.$$.dirty&4,t.$$.dirty&9&&a!=null&&n(3,a.style.display=f?"none":"block",a)},[f,l,i,a,s,p,m,g,v,b,k,R,N,x,T]}class Jde extends Mu{constructor(e){super(),Eu(this,e,Kde,jde,Za,{statusbox:1,HideAllInspector:0,removeNode:5,appendNode:6,showStatus:7,queueNode:8})}get removeNode(){return this.$$.ctx[5]}get appendNode(){return this.$$.ctx[6]}get showStatus(){return this.$$.ctx[7]}get queueNode(){return this.$$.ctx[8]}}var Z3={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(tu,function(n){var r="1.9.4";function i(o){var h,_,w,C;for(_=1,w=arguments.length;_<w;_++){C=arguments[_];for(h in C)o[h]=C[h]}return o}var s=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var w=_.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(_.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function f(o,h,_){var w,C,F,Q;return Q=function(){w=!1,C&&(F.apply(_,C),C=!1)},F=function(){w?C=arguments:(o.apply(_,arguments),setTimeout(Q,h),w=!0)},F}function p(o,h,_){var w=h[1],C=h[0],F=w-C;return o===w&&_?o:((o-C)%F+F)%F+C}function m(){return!1}function g(o,h){if(h===!1)return o;var _=Math.pow(10,h===void 0?6:h);return Math.round(o*_)/_}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return v(o).split(/\s+/)}function k(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var _ in h)o.options[_]=h[_];return o.options}function R(o,h,_){var w=[];for(var C in o)w.push(encodeURIComponent(_?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function x(o,h){return o.replace(N,function(_,w){var C=h[w];if(C===void 0)throw new Error("No value provided for variable "+_);return typeof C=="function"&&(C=C(h)),C})}var T=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function M(o,h){for(var _=0;_<o.length;_++)if(o[_]===h)return _;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var O=0;function z(o){var h=+new Date,_=Math.max(0,16-(h-O));return O=h+_,window.setTimeout(o,_)}var $=window.requestAnimationFrame||P("RequestAnimationFrame")||z,ee=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function G(o,h,_){if(_&&$===z)o.call(h);else return $.call(window,a(o,h))}function J(o){o&&ee.call(window,o)}var ie={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:u,throttle:f,wrapNum:p,falseFn:m,formatNum:g,trim:v,splitWords:b,setOptions:k,getParamString:R,template:x,isArray:T,indexOf:M,emptyImageUrl:I,requestFn:$,cancelFn:ee,requestAnimFrame:G,cancelAnimFrame:J};function se(){}se.extend=function(o){var h=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,w=s(_);w.constructor=h,h.prototype=w;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(h[C]=this[C]);return o.statics&&i(h,o.statics),o.includes&&(te(o.includes),i.apply(null,[w].concat(o.includes))),i(w,o),delete w.statics,delete w.includes,w.options&&(w.options=_.options?s(_.options):{},i(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,Q=w._initHooks.length;F<Q;F++)w._initHooks[F].call(this)}},h},se.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},se.mergeOptions=function(o){return i(this.prototype.options,o),this},se.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function te(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=T(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(o,h,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=b(o);for(var C=0,F=o.length;C<F;C++)this._on(o[C],h,_)}return this},off:function(o,h,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=b(o);for(var C=arguments.length===1,F=0,Q=o.length;F<Q;F++)C?this._off(o[F]):this._off(o[F],h,_)}return this},_on:function(o,h,_,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,_)===!1){_===this&&(_=void 0);var C={fn:h,ctx:_};w&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,h,_){var w,C,F;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(C=0,F=w.length;C<F;C++)w[C].fn=m;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Q=this._listens(o,h,_);if(Q!==!1){var ge=w[Q];this._firingCount&&(ge.fn=m,this._events[o]=w=w.slice()),w.splice(Q,1)}}},fire:function(o,h,_){if(!this.listens(o,_))return this;var w=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var F=0,Q=C.length;F<Q;F++){var ge=C[F],be=ge.fn;ge.once&&this.off(o,be,ge.ctx),be.call(ge.ctx||this,w)}this._firingCount--}}return _&&this._propagateEvent(w),this},listens:function(o,h,_,w){typeof o!="string"&&console.warn('"string" type argument expected');var C=h;typeof h!="function"&&(w=!!h,C=void 0,_=void 0);var F=this._events&&this._events[o];if(F&&F.length&&this._listens(o,C,_)!==!1)return!0;if(w){for(var Q in this._eventParents)if(this._eventParents[Q].listens(o,h,_,w))return!0}return!1},_listens:function(o,h,_){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;_===this&&(_=void 0);for(var C=0,F=w.length;C<F;C++)if(w[C].fn===h&&w[C].ctx===_)return C;return!1},once:function(o,h,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=b(o);for(var C=0,F=o.length;C<F;C++)this._on(o[C],h,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var V=se.extend(ae);function Y(o,h,_){this.x=_?Math.round(o):o,this.y=_?Math.round(h):h}var he=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(o){return this.clone()._add(re(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(re(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Y(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Y(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(o){o=re(o);var h=o.x-this.x,_=o.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(o){return o=re(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=re(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function re(o,h,_){return o instanceof Y?o:T(o)?new Y(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Y(o.x,o.y):new Y(o,h,_)}function ye(o,h){if(o)for(var _=h?[o,h]:o,w=0,C=_.length;w<C;w++)this.extend(_[w])}ye.prototype={extend:function(o){var h,_;if(!o)return this;if(o instanceof Y||typeof o[0]=="number"||"x"in o)h=_=re(o);else if(o=me(o),h=o.min,_=o.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,_;return typeof o[0]=="number"||o instanceof Y?o=re(o):o=me(o),o instanceof ye?(h=o.min,_=o.max):h=_=o,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=me(o);var h=this.min,_=this.max,w=o.min,C=o.max,F=C.x>=h.x&&w.x<=_.x,Q=C.y>=h.y&&w.y<=_.y;return F&&Q},overlaps:function(o){o=me(o);var h=this.min,_=this.max,w=o.min,C=o.max,F=C.x>h.x&&w.x<_.x,Q=C.y>h.y&&w.y<_.y;return F&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,_=this.max,w=Math.abs(h.x-_.x)*o,C=Math.abs(h.y-_.y)*o;return me(re(h.x-w,h.y-C),re(_.x+w,_.y+C))},equals:function(o){return o?(o=me(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function me(o,h){return!o||o instanceof ye?o:new ye(o,h)}function Ne(o,h){if(o)for(var _=h?[o,h]:o,w=0,C=_.length;w<C;w++)this.extend(_[w])}Ne.prototype={extend:function(o){var h=this._southWest,_=this._northEast,w,C;if(o instanceof Ce)w=o,C=o;else if(o instanceof Ne){if(w=o._southWest,C=o._northEast,!w||!C)return this}else return o?this.extend(Me(o)||xe(o)):this;return!h&&!_?(this._southWest=new Ce(w.lat,w.lng),this._northEast=new Ce(C.lat,C.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),_.lat=Math.max(C.lat,_.lat),_.lng=Math.max(C.lng,_.lng)),this},pad:function(o){var h=this._southWest,_=this._northEast,w=Math.abs(h.lat-_.lat)*o,C=Math.abs(h.lng-_.lng)*o;return new Ne(new Ce(h.lat-w,h.lng-C),new Ce(_.lat+w,_.lng+C))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ce||"lat"in o?o=Me(o):o=xe(o);var h=this._southWest,_=this._northEast,w,C;return o instanceof Ne?(w=o.getSouthWest(),C=o.getNorthEast()):w=C=o,w.lat>=h.lat&&C.lat<=_.lat&&w.lng>=h.lng&&C.lng<=_.lng},intersects:function(o){o=xe(o);var h=this._southWest,_=this._northEast,w=o.getSouthWest(),C=o.getNorthEast(),F=C.lat>=h.lat&&w.lat<=_.lat,Q=C.lng>=h.lng&&w.lng<=_.lng;return F&&Q},overlaps:function(o){o=xe(o);var h=this._southWest,_=this._northEast,w=o.getSouthWest(),C=o.getNorthEast(),F=C.lat>h.lat&&w.lat<_.lat,Q=C.lng>h.lng&&w.lng<_.lng;return F&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=xe(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(o,h){return o instanceof Ne?o:new Ne(o,h)}function Ce(o,h,_){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,_!==void 0&&(this.alt=+_)}Ce.prototype={equals:function(o,h){if(!o)return!1;o=Me(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Fe.distance(this,Me(o))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,_=h/Math.cos(Math.PI/180*this.lat);return xe([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function Me(o,h,_){return o instanceof Ce?o:T(o)&&typeof o[0]!="object"?o.length===3?new Ce(o[0],o[1],o[2]):o.length===2?new Ce(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ce(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Ce(o,h,_)}var Le={latLngToPoint:function(o,h){var _=this.projection.project(o),w=this.scale(h);return this.transformation._transform(_,w)},pointToLatLng:function(o,h){var _=this.scale(h),w=this.transformation.untransform(o,_);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(o),w=this.transformation.transform(h.min,_),C=this.transformation.transform(h.max,_);return new ye(w,C)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Ce(_,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),_=this.wrapLatLng(h),w=h.lat-_.lat,C=h.lng-_.lng;if(w===0&&C===0)return o;var F=o.getSouthWest(),Q=o.getNorthEast(),ge=new Ce(F.lat-w,F.lng-C),be=new Ce(Q.lat-w,Q.lng-C);return new Ne(ge,be)}},Fe=i({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var _=Math.PI/180,w=o.lat*_,C=h.lat*_,F=Math.sin((h.lat-o.lat)*_/2),Q=Math.sin((h.lng-o.lng)*_/2),ge=F*F+Math.cos(w)*Math.cos(C)*Q*Q,be=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*be}}),pe=6378137,Ie={R:pe,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,_=this.MAX_LATITUDE,w=Math.max(Math.min(_,o.lat),-_),C=Math.sin(w*h);return new Y(this.R*o.lng*h,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var h=180/Math.PI;return new Ce((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=pe*Math.PI;return new ye([-o,-o],[o,o])}()};function Ae(o,h,_,w){if(T(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=_,this._d=w}Ae.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new Y((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function ve(o,h,_,w){return new Ae(o,h,_,w)}var Ue=i({},Fe,{code:"EPSG:3857",projection:Ie,transformation:function(){var o=.5/(Math.PI*Ie.R);return ve(o,.5,-o,.5)}()}),Ge=i({},Ue,{code:"EPSG:900913"});function nt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Re(o,h){var _="",w,C,F,Q,ge,be;for(w=0,F=o.length;w<F;w++){for(ge=o[w],C=0,Q=ge.length;C<Q;C++)be=ge[C],_+=(C?"L":"M")+be.x+" "+be.y;_+=h?tt.svg?"z":"x":""}return _||"M0 0"}var ht=document.documentElement.style,vt="ActiveXObject"in window,Ft=vt&&!document.addEventListener,yt="msLaunchUri"in navigator&&!("documentMode"in document),Lt=Pr("webkit"),Hn=Pr("android"),Qt=Pr("android 2")||Pr("android 3"),cr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_r=Hn&&Pr("Google")&&cr<537&&!("AudioNode"in window),vn=!!window.opera,Yn=!yt&&Pr("chrome"),_n=Pr("gecko")&&!Lt&&!vn&&!vt,vr=!Yn&&Pr("safari"),Zn=Pr("phantom"),qr="OTransition"in ht,Sn=navigator.platform.indexOf("Win")===0,lr=vt&&"transition"in ht,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qt,ot="MozPerspective"in ht,en=!window.L_DISABLE_3D&&(lr||yn||ot)&&!qr&&!Zn,Cn=typeof orientation<"u"||Pr("mobile"),Cr=Cn&&Lt,ti=Cn&&yn,Xr=!window.PointerEvent&&window.MSPointerEvent,yr=!!(window.PointerEvent||Xr),Ar="ontouchstart"in window||!!window.TouchEvent,Qn=!window.L_NO_TOUCH&&(Ar||yr),Ir=Cn&&vn,Ds=Cn&&_n,Hr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return o}(),ji=function(){return!!document.createElement("canvas").getContext}(),gi=!!(document.createElementNS&&nt("svg").createSVGRect),Nn=!!gi&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ni=!gi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Rr=navigator.platform.indexOf("Mac")===0,_i=navigator.platform.indexOf("Linux")===0;function Pr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var tt={ie:vt,ielt9:Ft,edge:yt,webkit:Lt,android:Hn,android23:Qt,androidStock:_r,opera:vn,chrome:Yn,gecko:_n,safari:vr,phantom:Zn,opera12:qr,win:Sn,ie3d:lr,webkit3d:yn,gecko3d:ot,any3d:en,mobile:Cn,mobileWebkit:Cr,mobileWebkit3d:ti,msPointer:Xr,pointer:yr,touch:Qn,touchNative:Ar,mobileOpera:Ir,mobileGecko:Ds,retina:Hr,passiveEvents:Oi,canvas:ji,svg:gi,vml:ni,inlineSvg:Nn,mac:Rr,linux:_i},Di=tt.msPointer?"MSPointerDown":"pointerdown",Wr=tt.msPointer?"MSPointerMove":"pointermove",Ln=tt.msPointer?"MSPointerUp":"pointerup",us=tt.msPointer?"MSPointerCancel":"pointercancel",Bs={touchstart:Di,touchmove:Wr,touchend:Ln,touchcancel:us},Nr={touchstart:Qe,touchmove:Xn,touchend:Xn,touchcancel:Xn},Un={},Ki=!1;function fr(o,h,_){return h==="touchstart"&&vi(),Nr[h]?(_=Nr[h].bind(this,_),o.addEventListener(Bs[h],_,!1),_):(console.warn("wrong event specified:",h),m)}function ri(o,h,_){if(!Bs[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Bs[h],_,!1)}function hr(o){Un[o.pointerId]=o}function Bi(o){Un[o.pointerId]&&(Un[o.pointerId]=o)}function er(o){delete Un[o.pointerId]}function vi(){Ki||(document.addEventListener(Di,hr,!0),document.addEventListener(Wr,Bi,!0),document.addEventListener(Ln,er,!0),document.addEventListener(us,er,!0),Ki=!0)}function Xn(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Un)h.touches.push(Un[_]);h.changedTouches=[h],o(h)}}function Qe(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ot(h),Xn(o,h)}function ct(o){var h={},_,w;for(w in o)_=o[w],h[w]=_&&_.bind?_.bind(o):_;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var bn=200;function lt(o,h){o.addEventListener("dblclick",h);var _=0,w;function C(F){if(F.detail!==1){w=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var Q=zc(F);if(!(Q.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!Q.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var ge=Date.now();ge-_<=bn?(w++,w===2&&h(ct(F))):w=1,_=ge}}}return o.addEventListener("click",C),{dblclick:h,simDblclick:C}}function $r(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var ca=cs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zs=cs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Tl=zs==="webkitTransition"||zs==="OTransition"?zs+"End":"transitionend";function eo(o){return typeof o=="string"?document.getElementById(o):o}function Fs(o,h){var _=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);_=w?w[h]:null}return _==="auto"?null:_}function tn(o,h,_){var w=document.createElement(o);return w.className=h||"",_&&_.appendChild(w),w}function dn(o){var h=o.parentNode;h&&h.removeChild(o)}function Ji(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Us(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function zi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function to(o,h){if(o.classList!==void 0)return o.classList.contains(h);var _=ro(o);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function Ct(o,h){if(o.classList!==void 0)for(var _=b(h),w=0,C=_.length;w<C;w++)o.classList.add(_[w]);else if(!to(o,h)){var F=ro(o);no(o,(F?F+" ":"")+h)}}function An(o,h){o.classList!==void 0?o.classList.remove(h):no(o,v((" "+ro(o)+" ").replace(" "+h+" "," ")))}function no(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function ro(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function dr(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&kl(o,h)}function kl(o,h){var _=!1,w="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function cs(o){for(var h=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in h)return o[_];return!1}function fs(o,h,_){var w=h||new Y(0,0);o.style[ca]=(tt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(_?" scale("+_+")":"")}function Wn(o,h){o._leaflet_pos=h,tt.any3d?fs(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Qi(o){return o._leaflet_pos||new Y(0,0)}var le,st,$e;if("onselectstart"in document)le=function(){wt(window,"selectstart",Ot)},st=function(){In(window,"selectstart",Ot)};else{var He=cs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);le=function(){if(He){var o=document.documentElement.style;$e=o[He],o[He]="none"}},st=function(){He&&(document.documentElement.style[He]=$e,$e=void 0)}}function Ut(){wt(window,"dragstart",Ot)}function at(){In(window,"dragstart",Ot)}var Ye,Rt;function gt(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(dt(),Ye=o,Rt=o.style.outlineStyle,o.style.outlineStyle="none",wt(window,"keydown",dt))}function dt(){Ye&&(Ye.style.outlineStyle=Rt,Ye=void 0,Rt=void 0,In(window,"keydown",dt))}function sn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ln(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var jr={__proto__:null,TRANSFORM:ca,TRANSITION:zs,TRANSITION_END:Tl,get:eo,getStyle:Fs,create:tn,remove:dn,empty:Ji,toFront:Us,toBack:zi,hasClass:to,addClass:Ct,removeClass:An,setClass:no,getClass:ro,setOpacity:dr,testProp:cs,setTransform:fs,setPosition:Wn,getPosition:Qi,get disableTextSelection(){return le},get enableTextSelection(){return st},disableImageDrag:Ut,enableImageDrag:at,preventOutline:gt,restoreOutline:dt,getSizedParentNode:sn,getScale:ln};function wt(o,h,_,w){if(h&&typeof h=="object")for(var C in h)Po(o,C,h[C],_);else{h=b(h);for(var F=0,Q=h.length;F<Q;F++)Po(o,h[F],_,w)}return this}var es="_leaflet_events";function In(o,h,_,w){if(arguments.length===1)Fi(o),delete o[es];else if(h&&typeof h=="object")for(var C in h)Lu(o,C,h[C],_);else if(h=b(h),arguments.length===2)Fi(o,function(ge){return M(h,ge)!==-1});else for(var F=0,Q=h.length;F<Q;F++)Lu(o,h[F],_,w);return this}function Fi(o,h){for(var _ in o[es]){var w=_.split(/\d/)[0];(!h||h(w))&&Lu(o,w,null,null,_)}}var Ea={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Po(o,h,_,w){var C=h+u(_)+(w?"_"+u(w):"");if(o[es]&&o[es][C])return this;var F=function(ge){return _.call(w||o,ge||window.event)},Q=F;!tt.touchNative&&tt.pointer&&h.indexOf("touch")===0?F=fr(o,h,F):tt.touch&&h==="dblclick"?F=lt(o,F):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Ea[h]||h,F,tt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(F=function(ge){ge=ge||window.event,Ou(o,ge)&&Q(ge)},o.addEventListener(Ea[h],F,!1)):o.addEventListener(h,Q,!1):o.attachEvent("on"+h,F),o[es]=o[es]||{},o[es][C]=F}function Lu(o,h,_,w,C){C=C||h+u(_)+(w?"_"+u(w):"");var F=o[es]&&o[es][C];if(!F)return this;!tt.touchNative&&tt.pointer&&h.indexOf("touch")===0?ri(o,h,F):tt.touch&&h==="dblclick"?$r(o,F):"removeEventListener"in o?o.removeEventListener(Ea[h]||h,F,!1):o.detachEvent("on"+h,F),o[es][C]=null}function Lr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function No(o){return Po(o,"wheel",Lr),this}function Ma(o){return wt(o,"mousedown touchstart dblclick contextmenu",Lr),o._leaflet_disable_click=!0,this}function Ot(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function un(o){return Ot(o),Lr(o),this}function zc(o){if(o.composedPath)return o.composedPath();for(var h=[],_=o.target;_;)h.push(_),_=_.parentNode;return h}function io(o,h){if(!h)return new Y(o.clientX,o.clientY);var _=ln(h),w=_.boundingClientRect;return new Y((o.clientX-w.left)/_.x-h.clientLeft,(o.clientY-w.top)/_.y-h.clientTop)}var ef=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function El(o){return tt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ef:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ou(o,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var Lo={__proto__:null,on:wt,off:In,stopPropagation:Lr,disableScrollPropagation:No,disableClickPropagation:Ma,preventDefault:Ot,stop:un,getPropagationPath:zc,getMousePosition:io,getWheelDelta:El,isExternalTarget:Ou,addListener:wt,removeListener:In},Oo=V.extend({run:function(o,h,_,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Qi(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var _=this._startPos.add(this._offset.multiplyBy(o));h&&_._round(),Wn(this._el,_),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Kt=V.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=k(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Me(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zs&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),wt(this._proxy,Tl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Me(o),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,_.zoom):this._tryAnimatedPan(o,_.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,_){var w=this.getZoomScale(h),C=this.getSize().divideBy(2),F=o instanceof Y?o:this.latLngToContainerPoint(o),Q=F.subtract(C).multiplyBy(1-1/w),ge=this.containerPointToLatLng(C.add(Q));return this.setView(ge,h,{zoom:_})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():xe(o);var _=re(h.paddingTopLeft||h.padding||[0,0]),w=re(h.paddingBottomRight||h.padding||[0,0]),C=this.getBoundsZoom(o,!1,_.add(w));if(C=typeof h.maxZoom=="number"?Math.min(h.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var F=w.subtract(_).divideBy(2),Q=this.project(o.getSouthWest(),C),ge=this.project(o.getNorthEast(),C),be=this.unproject(Q.add(ge).divideBy(2).add(F),C);return{center:be,zoom:C}},fitBounds:function(o,h){if(o=xe(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=re(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Oo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,_){if(_=_||{},_.animate===!1||!tt.any3d)return this.setView(o,h,_);this._stop();var w=this.project(this.getCenter()),C=this.project(o),F=this.getSize(),Q=this._zoom;o=Me(o),h=h===void 0?Q:h;var ge=Math.max(F.x,F.y),be=ge*this.getZoomScale(Q,h),Pe=C.distanceTo(w)||1,Ke=1.42,pt=Ke*Ke;function $t(nr){var Qc=nr?-1:1,q=nr?be:ge,Yu=be*be-ge*ge+Qc*pt*pt*Pe*Pe,tf=2*q*pt*Pe,ns=Yu/tf,nn=Math.sqrt(ns*ns+1)-ns,Bv=nn<1e-9?-18:Math.log(nn);return Bv}function Or(nr){return(Math.exp(nr)-Math.exp(-nr))/2}function mr(nr){return(Math.exp(nr)+Math.exp(-nr))/2}function xi(nr){return Or(nr)/mr(nr)}var ci=$t(0);function da(nr){return ge*(mr(ci)/mr(ci+Ke*nr))}function Nv(nr){return ge*(mr(ci)*xi(ci+Ke*nr)-Or(ci))/pt}function Lv(nr){return 1-Math.pow(1-nr,1.5)}var Ov=Date.now(),um=($t(1)-ci)/Ke,Dv=_.duration?1e3*_.duration:1e3*um*.8;function Jc(){var nr=(Date.now()-Ov)/Dv,Qc=Lv(nr)*um;nr<=1?(this._flyToFrame=G(Jc,this),this._move(this.unproject(w.add(C.subtract(w).multiplyBy(Nv(Qc)/Pe)),Q),this.getScaleZoom(ge/da(Qc),Q),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Jc.call(this),this},flyToBounds:function(o,h){var _=this._getBoundsCenterZoom(o,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(o){return o=xe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var _=this.getCenter(),w=this._limitCenter(_,this._zoom,xe(o));return _.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var _=re(h.paddingTopLeft||h.padding||[0,0]),w=re(h.paddingBottomRight||h.padding||[0,0]),C=this.project(this.getCenter()),F=this.project(o),Q=this.getPixelBounds(),ge=me([Q.min.add(_),Q.max.subtract(w)]),be=ge.getSize();if(!ge.contains(F)){this._enforcingBounds=!0;var Pe=F.subtract(ge.getCenter()),Ke=ge.extend(F).getSize().subtract(be);C.x+=Pe.x<0?-Ke.x:Ke.x,C.y+=Pe.y<0?-Ke.y:Ke.y,this.panTo(this.unproject(C),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),w=h.divideBy(2).round(),C=_.divideBy(2).round(),F=w.subtract(C);return!F.x&&!F.y?this:(o.animate&&o.pan?this.panBy(F):(o.pan&&this._rawPanBy(F),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),_=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,o):navigator.geolocation.getCurrentPosition(h,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,_=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,_=o.coords.longitude,w=new Ce(h,_),C=w.toBounds(o.coords.accuracy*2),F=this._locateOptions;if(F.setView){var Q=this.getBoundsZoom(C);this.setView(w,F.maxZoom?Math.min(Q,F.maxZoom):Q)}var ge={latlng:w,bounds:C,timestamp:o.timestamp};for(var be in o.coords)typeof o.coords[be]=="number"&&(ge[be]=o.coords[be]);this.fire("locationfound",ge)}},addHandler:function(o,h){if(!h)return this;var _=this[o]=new h(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)dn(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=tn("div",_,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Ne(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,_){o=xe(o),_=re(_||[0,0]);var w=this.getZoom()||0,C=this.getMinZoom(),F=this.getMaxZoom(),Q=o.getNorthWest(),ge=o.getSouthEast(),be=this.getSize().subtract(_),Pe=me(this.project(ge,w),this.project(Q,w)).getSize(),Ke=tt.any3d?this.options.zoomSnap:1,pt=be.x/Pe.x,$t=be.y/Pe.y,Or=h?Math.max(pt,$t):Math.min(pt,$t);return w=this.getScaleZoom(Or,w),Ke&&(w=Math.round(w/(Ke/100))*(Ke/100),w=h?Math.ceil(w/Ke)*Ke:Math.floor(w/Ke)*Ke),Math.max(C,Math.min(F,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var _=this._getTopLeftPoint(o,h);return new ye(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(o)/_.scale(h)},getScaleZoom:function(o,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var w=_.zoom(o*_.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Me(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(re(o),h)},layerPointToLatLng:function(o){var h=re(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Me(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Me(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(xe(o))},distance:function(o,h){return this.options.crs.distance(Me(o),Me(h))},containerPointToLayerPoint:function(o){return re(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return re(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(re(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(o)))},mouseEventToContainerPoint:function(o){return io(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=eo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");wt(h,"scroll",this._onScroll,this),this._containerId=u(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,Ct(o,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Fs(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wn(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(o.markerPane,"leaflet-zoom-hide"),Ct(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,_){Wn(this._mapPane,new Y(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var C=this._zoom!==h;this._moveStart(C,_)._move(o,h)._moveEnd(C),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,_,w){h===void 0&&(h=this._zoom);var C=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?_&&_.pinch&&this.fire("zoom",_):((C||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Wn(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var h=o?In:wt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var _=[],w,C=h==="mouseout"||h==="mouseover",F=o.target||o.srcElement,Q=!1;F;){if(w=this._targets[u(F)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){Q=!0;break}if(w&&w.listens(h,!0)&&(C&&!Ou(F,o)||(_.push(w),C))||F===this._container)break;F=F.parentNode}return!_.length&&!Q&&!C&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var _=o.type;_==="mousedown"&&gt(h),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,_){if(o.type==="click"){var w=i({},o);w.type="preclick",this._fireDOMEvent(w,w.type,_)}var C=this._findEventTargets(o,h);if(_){for(var F=[],Q=0;Q<_.length;Q++)_[Q].listens(h,!0)&&F.push(_[Q]);C=F.concat(C)}if(C.length){h==="contextmenu"&&Ot(o);var ge=C[0],be={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Pe=ge.getLatLng&&(!ge._radius||ge._radius<=10);be.containerPoint=Pe?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(o),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Pe?ge.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(Q=0;Q<C.length;Q++)if(C[Q].fire(h,be,!0),be.originalEvent._stopped||C[Q].options.bubblingMouseEvents===!1&&M(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Qi(this._mapPane)||new Y(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var _=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var _=this.getSize()._divideBy(2);return this.project(o,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,_){var w=this._getNewPixelOrigin(_,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,_){var w=this._getNewPixelOrigin(_,h);return me([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,_){if(!_)return o;var w=this.project(o,h),C=this.getSize().divideBy(2),F=new ye(w.subtract(C),w.add(C)),Q=this._getBoundsOffset(F,_,h);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?o:this.unproject(w.add(Q),h)},_limitOffset:function(o,h){if(!h)return o;var _=this.getPixelBounds(),w=new ye(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,_){var w=me(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),C=w.min.subtract(o.min),F=w.max.subtract(o.max),Q=this._rebound(C.x,-F.x),ge=this._rebound(C.y,-F.y);return new Y(Q,ge)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),_=this.getMaxZoom(),w=tt.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){An(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var _=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var o=this._proxy=tn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var _=ca,w=this._proxy.style[_];fs(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();fs(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),C=this._getCenterOffset(o)._divideBy(1-1/w);return _.animate!==!0&&!this.getSize().contains(C)?!1:(G(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,_,w){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&An(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pr(o,h){return new Kt(o,h)}var yi=se.extend({options:{position:"topright"},initialize:function(o){k(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),_=this.getPosition(),w=o._controlCorners[_];return Ct(h,"leaflet-control"),_.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Kr=function(o){return new yi(o)};Kt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",_=this._controlContainer=tn("div",h+"control-container",this._container);function w(C,F){var Q=h+C+" "+h+F;o[C+F]=tn("div",Q,_)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)dn(this._controlCorners[o]);dn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qs=yi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,_,w){return _<w?-1:w<_?1:0}},initialize:function(o,h,_){k(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return yi.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(u(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):An(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return An(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=tn("div",o),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ma(h),No(h);var w=this._section=tn("section",o+"-list");_&&(this._map.on("click",this.collapse,this),wt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=tn("a",o+"-toggle",h);C.href="#",C.title="Layers",C.setAttribute("role","button"),wt(C,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Ot(F),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=tn("div",o+"-base",w),this._separator=tn("div",o+"-separator",w),this._overlaysList=tn("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&u(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(a(function(w,C){return this.options.sortFunction(w.layer,C.layer,w.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ji(this._baseLayersList),Ji(this._overlaysList),this._layerControlInputs=[];var o,h,_,w,C=0;for(_=0;_<this._layers.length;_++)w=this._layers[_],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,C+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(u(o.target)),_=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(o,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=_,w.firstChild},_addItem:function(o){var h=document.createElement("label"),_=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=_):w=this._createRadioElement("leaflet-base-layers_"+u(this),_),this._layerControlInputs.push(w),w.layerId=u(o.layer),wt(w,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var F=document.createElement("span");h.appendChild(F),F.appendChild(w),F.appendChild(C);var Q=o.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,_,w=[],C=[];this._handlingClick=!0;for(var F=o.length-1;F>=0;F--)h=o[F],_=this._getLayer(h.layerId).layer,h.checked?w.push(_):h.checked||C.push(_);for(F=0;F<C.length;F++)this._map.hasLayer(C[F])&&this._map.removeLayer(C[F]);for(F=0;F<w.length;F++)this._map.hasLayer(w[F])||this._map.addLayer(w[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,_,w=this._map.getZoom(),C=o.length-1;C>=0;C--)h=o[C],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&w<_.options.minZoom||_.options.maxZoom!==void 0&&w>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,wt(o,"click",Ot),this.expand();var h=this;setTimeout(function(){In(o,"click",Ot),h._preventClick=!1})}}),Ml=function(o,h,_){return new qs(o,h,_)},ii=yi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",_=tn("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,_,w,C){var F=tn("a",_,w);return F.innerHTML=o,F.href="#",F.title=h,F.setAttribute("role","button"),F.setAttribute("aria-label",h),Ma(F),wt(F,"click",un),wt(F,"click",C,this),wt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";An(this._zoomInButton,h),An(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ct(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ct(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ii,this.addControl(this.zoomControl))});var Do=function(o){return new ii(o)},Du=yi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",_=tn("div",h),w=this.options;return this._addScales(w,h+"-line",_),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,_){o.metric&&(this._mScale=tn("div",h,_)),o.imperial&&(this._iScale=tn("div",h,_))},_update:function(){var o=this._map,h=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/o)},_updateImperial:function(o){var h=o*3.2808399,_,w,C;h>5280?(_=h/5280,w=this._getRoundNum(_),this._updateScale(this._iScale,w+" mi",w/_)):(C=this._getRoundNum(h),this._updateScale(this._iScale,C+" ft",C/h))},_updateScale:function(o,h,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),_=o/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),Cl=function(o){return new Du(o)},Fc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Hs=yi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?Fc+" ":"")+"Leaflet</a>"},initialize:function(o){k(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=tn("div","leaflet-control-attribution"),Ma(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new Hs().addTo(this)});var Uc=function(o){return new Hs(o)};yi.Layers=qs,yi.Zoom=ii,yi.Scale=Du,yi.Attribution=Hs,Kr.layers=Ml,Kr.zoom=Do,Kr.scale=Cl,Kr.attribution=Uc;var jn=se.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jn.addTo=function(o,h){return o.addHandler(h,this),this};var Ui={Events:ae},si=tt.touch?"touchstart mousedown":"mousedown",Ws=V.extend({options:{clickTolerance:3},initialize:function(o,h,_,w){k(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=_},enable:function(){this._enabled||(wt(this._dragStartTarget,si,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ws._dragging===this&&this.finishDrag(!0),In(this._dragStartTarget,si,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!to(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ws._dragging===this&&this.finishDrag();return}if(!(Ws._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ws._dragging=this,this._preventOutline&&gt(this._element),Ut(),le(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,_=sn(this._element);this._startPoint=new Y(h.clientX,h.clientY),this._startPos=Qi(this._element),this._parentScale=ln(_);var w=o.type==="mousedown";wt(document,w?"mousemove":"touchmove",this._onMove,this),wt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,_=new Y(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Ot(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Wn(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){An(document.body,"leaflet-dragging"),this._lastTarget&&(An(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),In(document,"mousemove touchmove",this._onMove,this),In(document,"mouseup touchend touchcancel",this._onUp,this),at(),st();var h=this._moved&&this._moving;this._moving=!1,Ws._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Al(o,h,_){var w,C=[1,4,2,8],F,Q,ge,be,Pe,Ke,pt,$t;for(F=0,Ke=o.length;F<Ke;F++)o[F]._code=ps(o[F],h);for(ge=0;ge<4;ge++){for(pt=C[ge],w=[],F=0,Ke=o.length,Q=Ke-1;F<Ke;Q=F++)be=o[F],Pe=o[Q],be._code&pt?Pe._code&pt||($t=fa(Pe,be,pt,h,_),$t._code=ps($t,h),w.push($t)):(Pe._code&pt&&($t=fa(Pe,be,pt,h,_),$t._code=ps($t,h),w.push($t)),w.push(be));o=w}return o}function hs(o,h){var _,w,C,F,Q,ge,be,Pe,Ke;if(!o||o.length===0)throw new Error("latlngs not passed");Jr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var pt=Me([0,0]),$t=xe(o),Or=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Or<1700&&(pt=Ca(o));var mr=o.length,xi=[];for(_=0;_<mr;_++){var ci=Me(o[_]);xi.push(h.project(Me([ci.lat-pt.lat,ci.lng-pt.lng])))}for(ge=be=Pe=0,_=0,w=mr-1;_<mr;w=_++)C=xi[_],F=xi[w],Q=C.y*F.x-F.y*C.x,be+=(C.x+F.x)*Q,Pe+=(C.y+F.y)*Q,ge+=Q*3;ge===0?Ke=xi[0]:Ke=[be/ge,Pe/ge];var da=h.unproject(re(Ke));return Me([da.lat+pt.lat,da.lng+pt.lng])}function Ca(o){for(var h=0,_=0,w=0,C=0;C<o.length;C++){var F=Me(o[C]);h+=F.lat,_+=F.lng,w++}return Me([h/w,_/w])}var Bu={__proto__:null,clipPolygon:Al,polygonCenter:hs,centroid:Ca};function wn(o,h){if(!h||!o.length)return o.slice();var _=h*h;return o=Hc(o,_),o=qc(o,_),o}function Gr(o,h,_){return Math.sqrt(zo(o,h,_,!0))}function Il(o,h,_){return zo(o,h,_)}function qc(o,h){var _=o.length,w=typeof Uint8Array!=void 0+""?Uint8Array:Array,C=new w(_);C[0]=C[_-1]=1,Bo(o,C,h,0,_-1);var F,Q=[];for(F=0;F<_;F++)C[F]&&Q.push(o[F]);return Q}function Bo(o,h,_,w,C){var F=0,Q,ge,be;for(ge=w+1;ge<=C-1;ge++)be=zo(o[ge],o[w],o[C],!0),be>F&&(Q=ge,F=be);F>_&&(h[Q]=1,Bo(o,h,_,w,Q),Bo(o,h,_,Q,C))}function Hc(o,h){for(var _=[o[0]],w=1,C=0,F=o.length;w<F;w++)qi(o[w],o[C])>h&&(_.push(o[w]),C=w);return C<F-1&&_.push(o[F-1]),_}var Wc;function ds(o,h,_,w,C){var F=w?Wc:ps(o,_),Q=ps(h,_),ge,be,Pe;for(Wc=Q;;){if(!(F|Q))return[o,h];if(F&Q)return!1;ge=F||Q,be=fa(o,h,ge,_,C),Pe=ps(be,_),ge===F?(o=be,F=Pe):(h=be,Q=Pe)}}function fa(o,h,_,w,C){var F=h.x-o.x,Q=h.y-o.y,ge=w.min,be=w.max,Pe,Ke;return _&8?(Pe=o.x+F*(be.y-o.y)/Q,Ke=be.y):_&4?(Pe=o.x+F*(ge.y-o.y)/Q,Ke=ge.y):_&2?(Pe=be.x,Ke=o.y+Q*(be.x-o.x)/F):_&1&&(Pe=ge.x,Ke=o.y+Q*(ge.x-o.x)/F),new Y(Pe,Ke,C)}function ps(o,h){var _=0;return o.x<h.min.x?_|=1:o.x>h.max.x&&(_|=2),o.y<h.min.y?_|=4:o.y>h.max.y&&(_|=8),_}function qi(o,h){var _=h.x-o.x,w=h.y-o.y;return _*_+w*w}function zo(o,h,_,w){var C=h.x,F=h.y,Q=_.x-C,ge=_.y-F,be=Q*Q+ge*ge,Pe;return be>0&&(Pe=((o.x-C)*Q+(o.y-F)*ge)/be,Pe>1?(C=_.x,F=_.y):Pe>0&&(C+=Q*Pe,F+=ge*Pe)),Q=o.x-C,ge=o.y-F,w?Q*Q+ge*ge:new Y(C,F)}function Jr(o){return!T(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Rl(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jr(o)}function so(o,h){var _,w,C,F,Q,ge,be,Pe;if(!o||o.length===0)throw new Error("latlngs not passed");Jr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ke=Me([0,0]),pt=xe(o),$t=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());$t<1700&&(Ke=Ca(o));var Or=o.length,mr=[];for(_=0;_<Or;_++){var xi=Me(o[_]);mr.push(h.project(Me([xi.lat-Ke.lat,xi.lng-Ke.lng])))}for(_=0,w=0;_<Or-1;_++)w+=mr[_].distanceTo(mr[_+1])/2;if(w===0)Pe=mr[0];else for(_=0,F=0;_<Or-1;_++)if(Q=mr[_],ge=mr[_+1],C=Q.distanceTo(ge),F+=C,F>w){be=(F-w)/C,Pe=[ge.x-be*(ge.x-Q.x),ge.y-be*(ge.y-Q.y)];break}var ci=h.unproject(re(Pe));return Me([ci.lat+Ke.lat,ci.lng+Ke.lng])}var zu={__proto__:null,simplify:wn,pointToSegmentDistance:Gr,closestPointOnSegment:Il,clipSegment:ds,_getEdgeIntersection:fa,_getBitCode:ps,_sqClosestPointOnSegment:zo,isFlat:Jr,_flat:Rl,polylineCenter:so},Hi={project:function(o){return new Y(o.lng,o.lat)},unproject:function(o){return new Ce(o.y,o.x)},bounds:new ye([-180,-90],[180,90])},Pl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ye([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,_=this.R,w=o.lat*h,C=this.R_MINOR/_,F=Math.sqrt(1-C*C),Q=F*Math.sin(w),ge=Math.tan(Math.PI/4-w/2)/Math.pow((1-Q)/(1+Q),F/2);return w=-_*Math.log(Math.max(ge,1e-10)),new Y(o.lng*h*_,w)},unproject:function(o){for(var h=180/Math.PI,_=this.R,w=this.R_MINOR/_,C=Math.sqrt(1-w*w),F=Math.exp(-o.y/_),Q=Math.PI/2-2*Math.atan(F),ge=0,be=.1,Pe;ge<15&&Math.abs(be)>1e-7;ge++)Pe=C*Math.sin(Q),Pe=Math.pow((1-Pe)/(1+Pe),C/2),be=Math.PI/2-2*Math.atan(F*Pe)-Q,Q+=be;return new Ce(Q*h,o.x*h/_)}},Nl={__proto__:null,LonLat:Hi,Mercator:Pl,SphericalMercator:Ie},Fu=i({},Fe,{code:"EPSG:3395",projection:Pl,transformation:function(){var o=.5/(Math.PI*Pl.R);return ve(o,.5,-o,.5)}()}),Wi=i({},Fe,{code:"EPSG:4326",projection:Hi,transformation:ve(1/180,1,-1/180,.5)}),Uu=i({},Le,{projection:Hi,transformation:ve(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var _=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(_*_+w*w)},infinite:!0});Le.Earth=Fe,Le.EPSG3395=Fu,Le.EPSG3857=Ue,Le.EPSG900913=Ge,Le.EPSG4326=Wi,Le.Simple=Uu;var qn=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=u(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=u(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},_addLayers:function(o){o=o?T(o)?o:[o]:[];for(var h=0,_=o.length;h<_;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=u(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,_=this._getZoomSpan();for(var w in this._zoomBoundLayers){var C=this._zoomBoundLayers[w].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),h=C.maxZoom===void 0?h:Math.max(h,C.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $s=qn.extend({initialize:function(o,h){k(this,h),this._layers={};var _,w;if(o)for(_=0,w=o.length;_<w;_++)this.addLayer(o[_])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),_,w;for(_ in this._layers)w=this._layers[_],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),ao=function(o,h){return new $s(o,h)},ms=$s.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),$s.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),$s.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ne;for(var h in this._layers){var _=this._layers[h];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),gs=function(o,h){return new ms(o,h)},Aa=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){k(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var _=this.options,w=_[h+"Size"];typeof w=="number"&&(w=[w,w]);var C=re(w),F=re(h==="shadow"&&_.shadowAnchor||_.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(_.className||""),F&&(o.style.marginLeft=-F.x+"px",o.style.marginTop=-F.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return tt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function $c(o){return new Aa(o)}var Fo=Aa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Fo.imagePath!="string"&&(Fo.imagePath=this._detectIconPath()),(this.options.imagePath||Fo.imagePath)+Aa.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(_,w,C){var F=w.exec(_);return F&&F[C]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=tn("div","leaflet-default-icon-path",document.body),h=Fs(o,"background-image")||Fs(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Uo=jn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ws(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&An(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,_=h._map,w=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,F=Qi(h._icon),Q=_.getPixelBounds(),ge=_.getPixelOrigin(),be=me(Q.min._subtract(ge).add(C),Q.max._subtract(ge).subtract(C));if(!be.contains(F)){var Pe=re((Math.max(be.max.x,F.x)-be.max.x)/(Q.max.x-be.max.x)-(Math.min(be.min.x,F.x)-be.min.x)/(Q.min.x-be.min.x),(Math.max(be.max.y,F.y)-be.max.y)/(Q.max.y-be.max.y)-(Math.min(be.min.y,F.y)-be.min.y)/(Q.min.y-be.min.y)).multiplyBy(w);_.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),Wn(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=G(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,_=h._shadow,w=Qi(h._icon),C=h._map.layerPointToLatLng(w);_&&Wn(_,w),h._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ll=qn.extend({options:{icon:new Fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){k(this,h),this._latlng=Me(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Me(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),w=!1;_!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),Ct(_,h),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(_,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),F=!1;C!==this._shadow&&(this._removeShadow(),F=!0),C&&(Ct(C,h),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&F&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&In(this._icon,"focus",this._panOnFocus,this),dn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dn(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Wn(this._icon,o),this._shadow&&Wn(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Uo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Uo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&dr(this._icon,o),this._shadow&&dr(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,_=h.iconSize?re(h.iconSize):re(0,0),w=h.iconAnchor?re(h.iconAnchor):re(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:_.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ia(o,h){return new Ll(o,h)}var qt=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return k(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qo=qt.extend({options:{fill:!0,radius:10},initialize:function(o,h){k(this,h),this._latlng=Me(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Me(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return qt.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,_=this._clickTolerance(),w=[o+_,h+_];this._pxBounds=new ye(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qu(o,h){return new qo(o,h)}var Hu=qo.extend({initialize:function(o,h,_){if(typeof h=="number"&&(h=i({},_,{radius:h})),k(this,h),this._latlng=Me(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:qt.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,_=this._map,w=_.options.crs;if(w.distance===Fe.distance){var C=Math.PI/180,F=this._mRadius/Fe.R/C,Q=_.project([h+F,o]),ge=_.project([h-F,o]),be=Q.add(ge).divideBy(2),Pe=_.unproject(be).lat,Ke=Math.acos((Math.cos(F*C)-Math.sin(h*C)*Math.sin(Pe*C))/(Math.cos(h*C)*Math.cos(Pe*C)))/C;(isNaN(Ke)||Ke===0)&&(Ke=F/Math.cos(Math.PI/180*h)),this._point=be.subtract(_.getPixelOrigin()),this._radius=isNaN(Ke)?0:be.x-_.project([Pe,o-Ke]).x,this._radiusY=be.y-Q.y}else{var pt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(pt).x}this._updateBounds()}});function Ra(o,h,_){return new Hu(o,h,_)}var ts=qt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){k(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,_=null,w=zo,C,F,Q=0,ge=this._parts.length;Q<ge;Q++)for(var be=this._parts[Q],Pe=1,Ke=be.length;Pe<Ke;Pe++){C=be[Pe-1],F=be[Pe];var pt=w(o,C,F,!0);pt<h&&(h=pt,_=w(o,C,F))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return so(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Me(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ne,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Jr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],_=Jr(o),w=0,C=o.length;w<C;w++)_?(h[w]=Me(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new ye;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new Y(o,o);this._rawPxBounds&&(this._pxBounds=new ye([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,_){var w=o[0]instanceof Ce,C=o.length,F,Q;if(w){for(Q=[],F=0;F<C;F++)Q[F]=this._map.latLngToLayerPoint(o[F]),_.extend(Q[F]);h.push(Q)}else for(F=0;F<C;F++)this._projectLatlngs(o[F],h,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,w,C,F,Q,ge,be;for(_=0,C=0,F=this._rings.length;_<F;_++)for(be=this._rings[_],w=0,Q=be.length;w<Q-1;w++)ge=ds(be[w],be[w+1],o,w,!0),ge&&(h[C]=h[C]||[],h[C].push(ge[0]),(ge[1]!==be[w+1]||w===Q-2)&&(h[C].push(ge[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,_=0,w=o.length;_<w;_++)o[_]=wn(o[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var _,w,C,F,Q,ge,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,F=this._parts.length;_<F;_++)for(ge=this._parts[_],w=0,Q=ge.length,C=Q-1;w<Q;C=w++)if(!(!h&&w===0)&&Gr(o,ge[C],ge[w])<=be)return!0;return!1}});function Ch(o,h){return new ts(o,h)}ts._flat=Rl;var Ho=ts.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=ts.prototype._convertLatLngs.call(this,o),_=h.length;return _>=2&&h[0]instanceof Ce&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(o){ts.prototype._setLatLngs.call(this,o),Jr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,_=new Y(h,h);if(o=new ye(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,C=this._rings.length,F;w<C;w++)F=Al(this._rings[w],o,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,_,w,C,F,Q,ge,be,Pe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(F=0,be=this._parts.length;F<be;F++)for(_=this._parts[F],Q=0,Pe=_.length,ge=Pe-1;Q<Pe;ge=Q++)w=_[Q],C=_[ge],w.y>o.y!=C.y>o.y&&o.x<(C.x-w.x)*(o.y-w.y)/(C.y-w.y)+w.x&&(h=!h);return h||ts.prototype._containsPoint.call(this,o,!0)}});function Ah(o,h){return new Ho(o,h)}var bi=ms.extend({initialize:function(o,h){k(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=T(o)?o:o.features,_,w,C;if(h){for(_=0,w=h.length;_<w;_++)C=h[_],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var F=this.options;if(F.filter&&!F.filter(o))return this;var Q=wi(o,F);return Q?(Q.feature=tr(o),Q.defaultOptions=Q.options,this.resetStyle(Q),F.onEachFeature&&F.onEachFeature(o,Q),this.addLayer(Q)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function wi(o,h){var _=o.type==="Feature"?o.geometry:o,w=_?_.coordinates:null,C=[],F=h&&h.pointToLayer,Q=h&&h.coordsToLatLng||Vc,ge,be,Pe,Ke;if(!w&&!_)return null;switch(_.type){case"Point":return ge=Q(w),Gc(F,o,ge,h);case"MultiPoint":for(Pe=0,Ke=w.length;Pe<Ke;Pe++)ge=Q(w[Pe]),C.push(Gc(F,o,ge,h));return new ms(C);case"LineString":case"MultiLineString":return be=Wu(w,_.type==="LineString"?0:1,Q),new ts(be,h);case"Polygon":case"MultiPolygon":return be=Wu(w,_.type==="Polygon"?1:2,Q),new Ho(be,h);case"GeometryCollection":for(Pe=0,Ke=_.geometries.length;Pe<Ke;Pe++){var pt=wi({geometry:_.geometries[Pe],type:"Feature",properties:o.properties},h);pt&&C.push(pt)}return new ms(C);case"FeatureCollection":for(Pe=0,Ke=_.features.length;Pe<Ke;Pe++){var $t=wi(_.features[Pe],h);$t&&C.push($t)}return new ms(C);default:throw new Error("Invalid GeoJSON object.")}}function Gc(o,h,_,w){return o?o(h,_):new Ll(_,w&&w.markersInheritOptions&&w)}function Vc(o){return new Ce(o[1],o[0],o[2])}function Wu(o,h,_){for(var w=[],C=0,F=o.length,Q;C<F;C++)Q=h?Wu(o[C],h-1,_):(_||Vc)(o[C]),w.push(Q);return w}function Yc(o,h){return o=Me(o),o.alt!==void 0?[g(o.lng,h),g(o.lat,h),g(o.alt,h)]:[g(o.lng,h),g(o.lat,h)]}function $u(o,h,_,w){for(var C=[],F=0,Q=o.length;F<Q;F++)C.push(h?$u(o[F],Jr(o[F])?0:h-1,_,w):Yc(o[F],w));return!h&&_&&C.length>0&&C.push(C[0].slice()),C}function br(o,h){return o.feature?i({},o.feature,{geometry:h}):tr(h)}function tr(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ue={toGeoJSON:function(o){return br(this,{type:"Point",coordinates:Yc(this.getLatLng(),o)})}};Ll.include(ue),Hu.include(ue),qo.include(ue),ts.include({toGeoJSON:function(o){var h=!Jr(this._latlngs),_=$u(this._latlngs,h?1:0,!1,o);return br(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ho.include({toGeoJSON:function(o){var h=!Jr(this._latlngs),_=h&&!Jr(this._latlngs[0]),w=$u(this._latlngs,_?2:h?1:0,!0,o);return h||(w=[w]),br(this,{type:(_?"Multi":"")+"Polygon",coordinates:w})}}),$s.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(o).geometry.coordinates)}),br(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var _=h==="GeometryCollection",w=[];return this.eachLayer(function(C){if(C.toGeoJSON){var F=C.toGeoJSON(o);if(_)w.push(F.geometry);else{var Q=tr(F);Q.type==="FeatureCollection"?w.push.apply(w,Q.features):w.push(Q)}}}),_?br(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Se(o,h){return new bi(o,h)}var we=Se,Xe=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,_){this._url=o,this._bounds=xe(h),k(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Us(this._image),this},bringToBack:function(){return this._map&&zi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=xe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:tn("img");if(Ct(h,"leaflet-image-layer"),this._zoomAnimated&&Ct(h,"leaflet-zoom-animated"),this.options.className&&Ct(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;fs(this._image,_,h)},_reset:function(){var o=this._image,h=new ye(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();Wn(o,h.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){dr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),At=function(o,h,_){return new Xe(o,h,_)},pn=Xe.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:tn("video");if(Ct(h,"leaflet-image-layer"),this._zoomAnimated&&Ct(h,"leaflet-zoom-animated"),this.options.className&&Ct(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=a(this.fire,this,"load"),o){for(var _=h.getElementsByTagName("source"),w=[],C=0;C<_.length;C++)w.push(_[C].src);this._url=_.length>0?w:[h.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var Q=tn("source");Q.src=this._url[F],h.appendChild(Q)}}});function wr(o,h,_){return new pn(o,h,_)}var Tn=Xe.extend({_initImage:function(){var o=this._image=this._url;Ct(o,"leaflet-image-layer"),this._zoomAnimated&&Ct(o,"leaflet-zoom-animated"),this.options.className&&Ct(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function Zc(o,h,_){return new Tn(o,h,_)}var ai=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Ce||T(o))?(this._latlng=Me(o),k(this,h)):(k(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&dr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&dr(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(dr(this._container,0),this._removeTimeout=setTimeout(a(dn,void 0,this._container),200)):dn(this._container),this.options.interactive&&(An(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Me(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Us(this._container),this},bringToBack:function(){return this._map&&zi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof ms){h=null;var _=this._source._layers;for(var w in _)if(_[w]._map){h=_[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=re(this.options.offset),_=this._getAnchor();this._zoomAnimated?Wn(this._container,o.add(_)):h=h.add(o).add(_);var w=this._containerBottom=-h.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(o,h,_,w){var C=h;return C instanceof o||(C=new o(w).setContent(h)),_&&C.setLatLng(_),C}}),qn.include({_initOverlay:function(o,h,_,w){var C=_;return C instanceof o?(k(C,w),C._source=this):(C=h&&!w?h:new o(w,this),C.setContent(_)),C}});var oi=ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ai.prototype.openOn.call(this,o)},onAdd:function(o){ai.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qt||this._source.on("preclick",Lr))},onRemove:function(o){ai.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qt||this._source.off("preclick",Lr))},getEvents:function(){var o=ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=tn("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=tn("div",o+"-content-wrapper",h);if(this._contentNode=tn("div",o+"-content",_),Ma(h),No(this._contentNode),wt(h,"contextmenu",Lr),this._tipContainer=tn("div",o+"-tip-container",h),this._tip=tn("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=tn("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',wt(w,"click",function(C){Ot(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,C=this.options.maxHeight,F="leaflet-popup-scrolled";C&&w>C?(h.height=C+"px",Ct(o,F)):An(o,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();Wn(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(Fs(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,w=this._containerWidth,C=new Y(this._containerLeft,-_-this._containerBottom);C._add(Qi(this._container));var F=o.layerPointToContainerPoint(C),Q=re(this.options.autoPanPadding),ge=re(this.options.autoPanPaddingTopLeft||Q),be=re(this.options.autoPanPaddingBottomRight||Q),Pe=o.getSize(),Ke=0,pt=0;F.x+w+be.x>Pe.x&&(Ke=F.x+w-Pe.x+be.x),F.x-Ke-ge.x<0&&(Ke=F.x-ge.x),F.y+_+be.y>Pe.y&&(pt=F.y+_-Pe.y+be.y),F.y-pt-ge.y<0&&(pt=F.y-ge.y),(Ke||pt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ke,pt]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gu=function(o,h){return new oi(o,h)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(o,h,_){return this._initOverlay(oi,o,h,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),qn.include({bindPopup:function(o,h){return this._popup=this._initOverlay(oi,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ms||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){un(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof qt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Wo=ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ai.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ai.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ai.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tn("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,_,w=this._map,C=this._container,F=w.latLngToContainerPoint(w.getCenter()),Q=w.layerPointToContainerPoint(o),ge=this.options.direction,be=C.offsetWidth,Pe=C.offsetHeight,Ke=re(this.options.offset),pt=this._getAnchor();ge==="top"?(h=be/2,_=Pe):ge==="bottom"?(h=be/2,_=0):ge==="center"?(h=be/2,_=Pe/2):ge==="right"?(h=0,_=Pe/2):ge==="left"?(h=be,_=Pe/2):Q.x<F.x?(ge="right",h=0,_=Pe/2):(ge="left",h=be+(Ke.x+pt.x)*2,_=Pe/2),o=o.subtract(re(h,_,!0)).add(Ke).add(pt),An(C,"leaflet-tooltip-right"),An(C,"leaflet-tooltip-left"),An(C,"leaflet-tooltip-top"),An(C,"leaflet-tooltip-bottom"),Ct(C,"leaflet-tooltip-"+ge),Wn(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&dr(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$o=function(o,h){return new Wo(o,h)};Kt.include({openTooltip:function(o,h,_){return this._initOverlay(Wo,o,h,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),qn.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ms||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(wt(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),wt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,_,w;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var Ol=Aa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Ji(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var w=re(_.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Go(o){return new Ol(o)}Aa.Default=Fo;var cn=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){k(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),dn(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Us(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Y?o:new Y(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,_=-o(-1/0,1/0),w=0,C=h.length,F;w<C;w++)F=h[w].style.zIndex,h[w]!==this._container&&F&&(_=o(_,+F));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){dr(this._container,this.options.opacity);var o=+new Date,h=!1,_=!1;for(var w in this._tiles){var C=this._tiles[w];if(!(!C.current||!C.loaded)){var F=Math.min(1,(o-C.loaded)/200);dr(C.el,F),F<1?h=!0:(C.active?_=!0:this._onOpaqueTile(C),C.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(J(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=tn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=h-Math.abs(o-_),this._onUpdateLevel(_)):(dn(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var w=this._levels[o],C=this._map;return w||(w=this._levels[o]={},w.el=tn("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,C.getCenter(),C.getZoom()),m(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)dn(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,_,w){var C=Math.floor(o/2),F=Math.floor(h/2),Q=_-1,ge=new Y(+C,+F);ge.z=+Q;var be=this._tileCoordsToKey(ge),Pe=this._tiles[be];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),Q>w?this._retainParent(C,F,Q,w):!1)},_retainChildren:function(o,h,_,w){for(var C=2*o;C<2*o+2;C++)for(var F=2*h;F<2*h+2;F++){var Q=new Y(C,F);Q.z=_+1;var ge=this._tileCoordsToKey(Q),be=this._tiles[ge];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);_+1<w&&this._retainChildren(C,F,_+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,_,w){var C=Math.round(h);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var F=this.options.updateWhenZooming&&C!==this._tileZoom;(!w||F)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,h)},_setZoomTransform:function(o,h,_){var w=this._map.getZoomScale(_,o.zoom),C=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,_)).round();tt.any3d?fs(o.el,C,w):Wn(o.el,C)},_resetGrid:function(){var o=this._map,h=o.options.crs,_=this._tileSize=this.getTileSize(),w=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/_.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/_.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(_,this._tileZoom),C=h.project(o,this._tileZoom).floor(),F=h.getSize().divideBy(w*2);return new ye(C.subtract(F),C.add(F))},_update:function(o){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(w),F=C.getCenter(),Q=[],ge=this.options.keepBuffer,be=new ye(C.getBottomLeft().subtract([ge,-ge]),C.getTopRight().add([ge,-ge]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var Ke=this._tiles[Pe].coords;(Ke.z!==this._tileZoom||!be.contains(new Y(Ke.x,Ke.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var pt=C.min.y;pt<=C.max.y;pt++)for(var $t=C.min.x;$t<=C.max.x;$t++){var Or=new Y($t,pt);if(Or.z=this._tileZoom,!!this._isValidTile(Or)){var mr=this._tiles[this._tileCoordsToKey(Or)];mr?mr.current=!0:Q.push(Or)}}if(Q.sort(function(ci,da){return ci.distanceTo(F)-da.distanceTo(F)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xi=document.createDocumentFragment();for($t=0;$t<Q.length;$t++)this._addTile(Q[$t],xi);this._level.el.appendChild(xi)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!h.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return xe(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,_=this.getTileSize(),w=o.scaleBy(_),C=w.add(_),F=h.unproject(w,o.z),Q=h.unproject(C,o.z);return[F,Q]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),_=new Ne(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),_=new Y(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(o){var h=this._tiles[o];h&&(dn(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ct(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=m,o.onmousemove=m,tt.ielt9&&this.options.opacity<1&&dr(o,this.options.opacity)},_addTile:function(o,h){var _=this._getTilePos(o),w=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&G(a(this._tileReady,this,o,null,C)),Wn(C,_),this._tiles[w]={el:C,coords:o,current:!0},h.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:o});var w=this._tileCoordsToKey(o);_=this._tiles[w],_&&(_.loaded=+new Date,this._map._fadeAnimated?(dr(_.el,0),J(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(Ct(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new Y(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ye(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ih(o){return new cn(o)}var oo=cn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=k(this,h),h.detectRetina&&tt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var _=document.createElement("img");return wt(_,"load",a(this._tileOnLoad,this,h,_)),wt(_,"error",a(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var h={r:tt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=_),h["-y"]=_}return x(this._url,i(h,this.options))},_tileOnLoad:function(o,h){tt.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,_){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(_,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,w=this.options.zoomOffset;return _&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=m,h.onerror=m,!h.complete)){h.src=I;var _=this._tiles[o].coords;dn(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",I),cn.prototype._removeTile.call(this,o)},_tileReady:function(o,h,_){if(!(!this._map||_&&_.getAttribute("src")===I))return cn.prototype._tileReady.call(this,o,h,_)}});function Dl(o,h){return new oo(o,h)}var Vo=oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var _=i({},this.defaultWmsParams);for(var w in h)w in this.options||(_[w]=h[w]);h=k(this,h);var C=h.detectRetina&&tt.retina?2:1,F=this.getTileSize();_.width=F.x*C,_.height=F.y*C,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,oo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),_=this._crs,w=me(_.project(h[0]),_.project(h[1])),C=w.min,F=w.max,Q=(this._wmsVersion>=1.3&&this._crs===Wi?[C.y,C.x,F.y,F.x]:[C.x,C.y,F.x,F.y]).join(","),ge=oo.prototype.getTileUrl.call(this,o);return ge+R(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function Rh(o,h){return new Vo(o,h)}oo.WMS=Vo,Dl.wms=Rh;var ha=qn.extend({options:{padding:.1},initialize:function(o){k(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var _=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,h),F=w.multiplyBy(-_).add(C).subtract(this._map._getNewPixelOrigin(o,h));tt.any3d?fs(this._container,F,_):Wn(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ye(_,_.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lo=ha.extend({options:{tolerance:0},getEvents:function(){var o=ha.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ha.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");wt(o,"mousemove",this._onMouseMove,this),wt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),wt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,dn(this._container),In(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ha.prototype._update.call(this);var o=this._bounds,h=this._container,_=o.getSize(),w=tt.retina?2:1;Wn(h,o.min),h.width=w*_.x,h.height=w*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ha.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,_=h.next,w=h.prev;_?_.prev=w:this._drawLast=w,w?w.next=_:this._drawFirst=_,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),_=[],w,C;for(C=0;C<h.length;C++){if(w=Number(h[C]),isNaN(w))return;_.push(w)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ye,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var _,w,C,F,Q=o._parts,ge=Q.length,be=this._ctx;if(ge){for(be.beginPath(),_=0;_<ge;_++){for(w=0,C=Q[_].length;w<C;w++)F=Q[_][w],be[w?"lineTo":"moveTo"](F.x,F.y);h&&be.closePath()}this._fillStroke(be,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,_=this._ctx,w=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||w)/w;C!==1&&(_.save(),_.scale(1,C)),_.beginPath(),_.arc(h.x,h.y/C,w,0,Math.PI*2,!1),C!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,h){var _=h.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),_,w,C=this._drawFirst;C;C=C.next)_=C.layer,_.options.interactive&&_._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(w=_);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(An(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var _,w,C=this._drawFirst;C;C=C.next)_=C.layer,_.options.interactive&&_._containsPoint(h)&&(w=_);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,_){this._map._fireDOMEvent(h,_||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var _=h.next,w=h.prev;if(_)_.prev=w;else return;w?w.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var _=h.next,w=h.prev;if(w)w.next=_;else return;_?_.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function fe(o){return tt.canvas?new lo(o):null}var qe=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),li={_initContainer:function(){this._container=tn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ha.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=qe("shape");Ct(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=qe("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;dn(h),o.removeInteractiveTarget(h),delete this._layers[u(o)]},_updateStyle:function(o){var h=o._stroke,_=o._fill,w=o.options,C=o._container;C.stroked=!!w.stroke,C.filled=!!w.fill,w.stroke?(h||(h=o._stroke=qe("stroke")),C.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=T(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(C.removeChild(h),o._stroke=null),w.fill?(_||(_=o._fill=qe("fill")),C.appendChild(_),_.color=w.fillColor||w.color,_.opacity=w.fillOpacity):_&&(C.removeChild(_),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),_=Math.round(o._radius),w=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Us(o._container)},_bringToBack:function(o){zi(o._container)}},Pa=tt.vml?qe:nt,uo=ha.extend({_initContainer:function(){this._container=Pa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dn(this._container),In(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ha.prototype._update.call(this);var o=this._bounds,h=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),Wn(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Pa("path");o.options.className&&Ct(h,o.options.className),o.options.interactive&&Ct(h,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){dn(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,_=o.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Re(o._parts,h))},_updateCircle:function(o){var h=o._point,_=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||_,C="a"+_+","+w+" 0 1,0 ",F=o._empty()?"M0 0":"M"+(h.x-_)+","+h.y+C+_*2+",0 "+C+-_*2+",0 ";this._setPath(o,F)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Us(o._path)},_bringToBack:function(o){zi(o._path)}});tt.vml&&uo.include(li);function Gs(o){return tt.svg||tt.vml?new uo(o):null}Kt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&fe(o)||Gs(o)}});var ui=Ho.extend({initialize:function(o,h){Ho.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=xe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Vu(o,h){return new ui(o,h)}uo.create=Pa,uo.pointsToPath=Re,bi.geometryToLayer=wi,bi.coordsToLatLng=Vc,bi.coordsToLatLngs=Wu,bi.latLngToCoords=Yc,bi.latLngsToCoords=$u,bi.getFeature=br,bi.asFeature=tr,Kt.mergeOptions({boxZoom:!0});var Vs=jn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){In(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),le(),Ut(),this._startPoint=this._map.mouseEventToContainerPoint(o),wt(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=tn("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ye(this._point,this._startPoint),_=h.getSize();Wn(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(dn(this._box),An(this._container,"leaflet-crosshair")),st(),at(),In(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",Vs),Kt.mergeOptions({doubleClickZoom:!0});var Ys=jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,_=h.getZoom(),w=h.options.zoomDelta,C=o.originalEvent.shiftKey?_-w:_+w;h.options.doubleClickZoom==="center"?h.setZoom(C):h.setZoomAround(o.containerPoint,C)}});Kt.addInitHook("addHandler","doubleClickZoom",Ys),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xc=jn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ws(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){An(this._map._container,"leaflet-grab"),An(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=xe(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),_=this._initialWorldOffset,w=this._draggable._newPos.x,C=(w-h+_)%o+h-_,F=(w+h+_)%o-h-_,Q=Math.abs(C+_)<Math.abs(F+_)?C:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(o){var h=this._map,_=h.options,w=!_.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,Q=_.easeLinearity,ge=C.multiplyBy(Q/F),be=ge.distanceTo([0,0]),Pe=Math.min(_.inertiaMaxSpeed,be),Ke=ge.multiplyBy(Pe/be),pt=Pe/(_.inertiaDeceleration*Q),$t=Ke.multiplyBy(-pt/2).round();!$t.x&&!$t.y?h.fire("moveend"):($t=h._limitOffset($t,h.options.maxBounds),G(function(){h.panBy($t,{duration:pt,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",Xc),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var om=jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),wt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),In(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,_=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},_=this.keyCodes,w,C;for(w=0,C=_.left.length;w<C;w++)h[_.left[w]]=[-1*o,0];for(w=0,C=_.right.length;w<C;w++)h[_.right[w]]=[o,0];for(w=0,C=_.down.length;w<C;w++)h[_.down[w]]=[0,o];for(w=0,C=_.up.length;w<C;w++)h[_.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},_=this.keyCodes,w,C;for(w=0,C=_.zoomIn.length;w<C;w++)h[_.zoomIn[w]]=o;for(w=0,C=_.zoomOut.length;w<C;w++)h[_.zoomOut[w]]=-o},_addHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){In(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,_=this._map,w;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=re(w).multiplyBy(3)),_.options.maxBounds&&(w=_._limitOffset(re(w),_.options.maxBounds)),_.options.worldCopyJump){var C=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(w)));_.panTo(C)}else _.panBy(w)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;un(o)}}});Kt.addInitHook("addHandler","keyboard",om),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lm=jn.extend({addHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){In(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=El(o),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),w),un(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,F=_?Math.ceil(C/_)*_:C,Q=o._limitZoom(h+(this._delta>0?F:-F))-h;this._delta=0,this._startTime=null,Q&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+Q):o.setZoomAround(this._lastMousePos,h+Q))}});Kt.addInitHook("addHandler","scrollWheelZoom",lm);var Pv=600;Kt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var jc=jn.extend({addHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){In(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new Y(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(wt(document,"touchend",Ot),wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Pv),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){In(document,"touchend",Ot),In(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),In(document,"touchend touchcancel contextmenu",this._cancel,this),In(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new Y(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});Kt.addInitHook("addHandler","tapHold",jc),Kt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var Kc=jn.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){An(this._map._container,"leaflet-touch-zoom"),In(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(w)._divideBy(2))),this._startDist=_.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),Ot(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),C=_.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(C,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&C<1||this._zoom>h.getMaxZoom()&&C>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var F=_._add(w)._divideBy(2)._subtract(this._centerPoint);if(C===1&&F.x===0&&F.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var Q=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(Q,this,!0),Ot(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),In(document,"touchmove",this._onTouchMove,this),In(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Kc),Kt.BoxZoom=Vs,Kt.DoubleClickZoom=Ys,Kt.Drag=Xc,Kt.Keyboard=om,Kt.ScrollWheelZoom=lm,Kt.TapHold=jc,Kt.TouchZoom=Kc,n.Bounds=ye,n.Browser=tt,n.CRS=Le,n.Canvas=lo,n.Circle=Hu,n.CircleMarker=qo,n.Class=se,n.Control=yi,n.DivIcon=Ol,n.DivOverlay=ai,n.DomEvent=Lo,n.DomUtil=jr,n.Draggable=Ws,n.Evented=V,n.FeatureGroup=ms,n.GeoJSON=bi,n.GridLayer=cn,n.Handler=jn,n.Icon=Aa,n.ImageOverlay=Xe,n.LatLng=Ce,n.LatLngBounds=Ne,n.Layer=qn,n.LayerGroup=$s,n.LineUtil=zu,n.Map=Kt,n.Marker=Ll,n.Mixin=Ui,n.Path=qt,n.Point=Y,n.PolyUtil=Bu,n.Polygon=Ho,n.Polyline=ts,n.Popup=oi,n.PosAnimation=Oo,n.Projection=Nl,n.Rectangle=ui,n.Renderer=ha,n.SVG=uo,n.SVGOverlay=Tn,n.TileLayer=oo,n.Tooltip=Wo,n.Transformation=Ae,n.Util=ie,n.VideoOverlay=pn,n.bind=a,n.bounds=me,n.canvas=fe,n.circle=Ra,n.circleMarker=qu,n.control=Kr,n.divIcon=Go,n.extend=i,n.featureGroup=gs,n.geoJSON=Se,n.geoJson=we,n.gridLayer=Ih,n.icon=$c,n.imageOverlay=At,n.latLng=Me,n.latLngBounds=xe,n.layerGroup=ao,n.map=pr,n.marker=Ia,n.point=re,n.polygon=Ah,n.polyline=Ch,n.popup=Gu,n.rectangle=Vu,n.setOptions=k,n.stamp=u,n.svg=Gs,n.svgOverlay=Zc,n.tileLayer=Dl,n.tooltip=$o,n.transformation=ve,n.version=r,n.videoOverlay=wr;var Ph=window.L;n.noConflict=function(){return window.L=Ph,this},window.L=n})})(Z3,Z3.exports);var Qde=Z3.exports;const Fa=t5(Qde);function FT(t,e,n){var r=(e-n)/57.29578,i=t/57.29578,s=1+35786/6378.16,a=s*Math.cos(i)*Math.cos(r)-1,l=s*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),u=57.29578*Math.atan(a/l);return u}function epe(t,e,n){var r=(e-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(t/57.29578));return t<0&&(i=i-180),i<0&&(i=i+360),i}function w1(t,{title:e,tickSize:n=6,width:r=320,height:i=44+n,marginTop:s=18,marginRight:a=0,marginBottom:l=16+n,marginLeft:u=0,ticks:f=r/64,tickFormat:p,tickValues:m}={}){function g(R,N=256){const x=document.createElement("canvas");x.width=N,x.height=1;const T=x.getContext("2d");for(let M=0;M<N;++M)T.fillStyle=R(M/(N-1)),T.fillRect(M,0,1,1);return x}const v=fW("svg").attr("width",r).attr("height",i).attr("viewBox",[0,0,r,i]).style("overflow","visible").style("display","block");let b=R=>R.selectAll(".tick line").attr("y1",s+l-i),k;if(t.interpolate){const R=Math.min(t.domain().length,t.range().length);k=t.copy().rangeRound(wa(yc(u,r-a),R)),v.append("image").attr("x",u).attr("y",s).attr("width",r-u-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.copy().domain(wa(yc(0,1),R))).toDataURL())}else if(t.interpolator){if(k=Object.assign(t.copy().interpolator(Mp(u,r-a)),{range(){return[u,r-a]}}),v.append("image").attr("x",u).attr("y",s).attr("width",r-u-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.interpolator()).toDataURL()),!k.ticks){if(m===void 0){const R=Math.round(f+1);m=Es(R).map(N=>zd(t.domain(),N/(R-1)))}typeof p!="function"&&(p=kr(p===void 0?",f":p))}}else if(t.invertExtent){const R=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),N=p===void 0?x=>x:typeof p=="string"?kr(p):p;k=T_().domain([-1,t.range().length-1]).rangeRound([u,r-a]),v.append("g").selectAll("rect").data(t.range()).join("rect").attr("x",(x,T)=>k(T-1)).attr("y",s).attr("width",(x,T)=>k(T)-k(T-1)).attr("height",i-s-l).attr("fill",x=>x),m=Es(R.length),p=x=>N(R[x],x)}else k=Ip().domain(t.domain()).rangeRound([u,r-a]),v.append("g").selectAll("rect").data(t.domain()).join("rect").attr("x",k).attr("y",s).attr("width",Math.max(0,k.bandwidth()-1)).attr("height",i-s-l).attr("fill",t),b=()=>{};return v.append("g").attr("transform",`translate(0,${i-l})`).call(nk(k).ticks(f,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(n).tickValues(m)).call(b).call(R=>R.select(".domain").remove()).call(R=>R.append("text").attr("x",u).attr("y",s+l-i-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(e)),v.node()}const tpe="/assets/2909667-1913dcd7.png";function UT(t){let e,n,r=kr("4.2~s")(t[45]*t[11])+"",i,s,a,l,u,f,p,m=(t[45]*t[11]).toFixed(0)+"",g,v,b,k,R,N=t[45].toFixed(0)+"",x,T,M=(t[45]*t[11]).toFixed(0)+"",I,P,O,z;return{c(){e=ce("div"),n=ce("div"),i=ze(r),s=Te(),a=ce("div"),l=ze(t[38]),u=ze(` Projected IMT BS (6GHz)
            `),f=ce("pre"),p=ze("("),g=ze(m),v=ze(")"),b=Te(),k=ce("h5"),R=ze("(MidBand:"),x=ze(N),T=ze(",6Hz:"),I=ze(M),P=ze(")-**(>"),O=ze(X3),z=ze("°)"),X(n,"class","value"),X(k,"class","center aligned"),X(a,"class","label"),X(e,"class","blue statistic")},m($,ee){Nt($,e,ee),U(e,n),U(n,i),U(e,s),U(e,a),U(a,l),U(a,u),U(a,f),U(f,p),U(f,g),U(f,v),U(a,b),U(a,k),U(k,R),U(k,x),U(k,T),U(k,I),U(k,P),U(k,O),U(k,z)},p($,ee){ee[0]&2048|ee[1]&16384&&r!==(r=kr("4.2~s")($[45]*$[11])+"")&&Ht(i,r),ee[1]&128&&Ht(l,$[38]),ee[0]&2048|ee[1]&16384&&m!==(m=($[45]*$[11]).toFixed(0)+"")&&Ht(g,m),ee[1]&16384&&N!==(N=$[45].toFixed(0)+"")&&Ht(x,N),ee[0]&2048|ee[1]&16384&&M!==(M=($[45]*$[11]).toFixed(0)+"")&&Ht(I,M)},d($){$&&_t(e)}}}function npe(t){let e,n,r,i,s,a,l=(t[13]!=null?JSON.stringify(t[13].SatelliteBeam):"mapdata")+"",u;return{c(){e=ce("div"),n=ze(t[38]),r=Te(),i=ce("small"),s=ce("em"),a=ze("Reference : "),u=ze(l),X(e,"slot","header")},m(f,p){Nt(f,e,p),U(e,n),U(e,r),U(e,i),U(i,s),U(s,a),U(s,u)},p(f,p){p[1]&128&&Ht(n,f[38]),p[0]&8192&&l!==(l=(f[13]!=null?JSON.stringify(f[13].SatelliteBeam):"mapdata")+"")&&Ht(u,l)},d(f){f&&_t(e)}}}function rpe(t){let e,n,r,i,s,a,l,u,f,p,m,g,v,b,k,R,N,x,T,M,I,P,O,z,$,ee,G,J,ie,se=t[7].toFixed(0)+"",te,ae,V,Y,he,re=kr("4.2~s")(t[8])+"",ye,me,Ne,xe,Ce,Me,Le=t[8].toFixed(0)+"",Fe,pe,Ie,Ae,ve=t[9].toFixed(0)+"",Ue,Ge,nt=t[10].toFixed(0)+"",Re,ht,vt,Ft,yt,Lt=kr("4.2~s")(t[33])+"",Hn,Qt,cr,_r,vn,Yn,_n=t[33].toFixed(0)+"",vr,Zn,qr,Sn,lr,yn=t[6].toFixed(1)+"",ot,en,Cn,Cr,ti,Xr,yr=(t[6]-10.5).toFixed(1)+"",Ar,Qn,Ir,Ds,Hr,Oi,ji,gi,Nn=(t[22]==null?"???":t[22][2].toFixed(1))+"",ni,Rr,_i,Pr,tt,Di,Wr,Ln,us=(t[22]!=null?t[22][0].toFixed(1):"???")+"",Bs,Nr,Un,Ki,fr,ri,hr,Bi=(t[22]!=null?t[22][1].toFixed(1):"???")+"",er,vi,Xn,Qe,ct,bn,lt,$r,ca=(t[31]==null?"???":t[31].toFixed(1))+"",zs,Tl,eo,Fs,tn,dn,Ji,Us,zi=(t[21]!=null?t[21][0].I.toFixed(2):"???")+"",to,Ct,An,no,ro,dr,kl,cs=(t[21]!=null?t[21][1].I.toFixed(2):"???")+"",fs,Wn,Qi,le,st,$e,He,Ut,at,Ye,Rt,gt,dt,sn,ln,jr,wt,es,In,Fi,Ea,Po,Lu,Lr,No,Ma,Ot,un,zc,io,ef,El,Ou,Lo,Oo=t[14]==null||t[44]==!0?"...":"ready",Kt,pr,yi,Kr,qs,Ml,ii,Do,Du,Cl,Fc,Hs,Uc,jn,Ui,si,Ws,Al,hs,Ca,Bu,wn,Gr,Il,qc,Bo,Hc,Wc,ds,fa,ps,qi,zo,Jr=(t[14]==null?"...":t[12].length)+"",Rl,so,zu,Hi,Pl,Nl,Fu,Wi,Uu,qn,$s,ao,ms,gs,Aa,$c,Fo,Uo,Ll,Ia,qt,qo,qu;function Hu(fe){t[63](fe)}function Ra(fe){t[64](fe)}function ts(fe){t[65](fe)}function Ch(fe){t[66](fe)}function Ho(fe){t[67](fe)}function Ah(fe){t[68](fe)}function bi(fe){t[69](fe)}function wi(fe){t[70](fe)}function Gc(fe){t[71](fe)}function Vc(fe){t[72](fe)}function Wu(fe){t[73](fe)}function Yc(fe){t[74](fe)}function $u(fe){t[75](fe)}let br={};t[3]!==void 0&&(br.satAngle=t[3]),t[30]!==void 0&&(br.HideAllInspector=t[30]),t[11]!==void 0&&(br.MidBandTo6GHzFactor=t[11]),t[43]!==void 0&&(br.hasFSSPattern=t[43]),t[18]!==void 0&&(br.UseFootprint=t[18]),t[19]!==void 0&&(br.factor=t[19]),t[34]!==void 0&&(br.hasIMTgrid=t[34]),t[35]!==void 0&&(br.Raindx=t[35]),t[36]!==void 0&&(br.Rbindx=t[36]),t[2]!==void 0&&(br.SatRxGain=t[2]),t[1]!==void 0&&(br.FSSNoiseTemp=t[1]),t[4]!==void 0&&(br.EdgeMode=t[4]),t[46]!==void 0&&(br.orbitrange=t[46]),s=new Xde({props:br}),Pt.push(()=>Bn(s,"satAngle",Hu)),Pt.push(()=>Bn(s,"HideAllInspector",Ra)),Pt.push(()=>Bn(s,"MidBandTo6GHzFactor",ts)),Pt.push(()=>Bn(s,"hasFSSPattern",Ch)),Pt.push(()=>Bn(s,"UseFootprint",Ho)),Pt.push(()=>Bn(s,"factor",Ah)),Pt.push(()=>Bn(s,"hasIMTgrid",bi)),Pt.push(()=>Bn(s,"Raindx",wi)),Pt.push(()=>Bn(s,"Rbindx",Gc)),Pt.push(()=>Bn(s,"SatRxGain",Vc)),Pt.push(()=>Bn(s,"FSSNoiseTemp",Wu)),Pt.push(()=>Bn(s,"EdgeMode",Yc)),Pt.push(()=>Bn(s,"orbitrange",$u)),t[76](s);let tr=t[39]&&UT(t);function ue(fe){t[77](fe)}let Se={type:"radio",data:["None","Elevation","binID"],opts:{label:"Globe Color Layer"}};t[15]!==void 0&&(Se.value=t[15]),He=new xS({props:Se}),Pt.push(()=>Bn(He,"value",ue));function we(fe){t[81](fe)}let Xe={type:"radio",data:["IMT Cell Grid","Elevation","FSSGain","IbyN"],opts:{label:"Map Color Layer"}};t[27]!==void 0&&(Xe.value=t[27]),qs=new xS({props:Xe}),Pt.push(()=>Bn(qs,"value",we));function At(fe){t[84](fe)}function pn(fe){t[85](fe)}function wr(fe){t[86](fe)}function Tn(fe){t[87](fe)}function Zc(fe){t[88](fe)}let ai={reference:t[37],$$slots:{header:[npe]},$$scope:{ctx:t}};t[28]!==void 0&&(ai.showModal=t[28]),t[2]!==void 0&&(ai.SatRxGain=t[2]),t[3]!==void 0&&(ai.satAngle=t[3]),t[41]!==void 0&&(ai.SatelliteBeam=t[41]),t[17]!==void 0&&(ai.defaultFootprint=t[17]),Ui=new rce({props:ai}),Pt.push(()=>Bn(Ui,"showModal",At)),Pt.push(()=>Bn(Ui,"SatRxGain",pn)),Pt.push(()=>Bn(Ui,"satAngle",wr)),Pt.push(()=>Bn(Ui,"SatelliteBeam",Tn)),Pt.push(()=>Bn(Ui,"defaultFootprint",Zc)),t[89](Ui);function oi(fe){t[90](fe)}function Gu(fe){t[91](fe)}let Wo={satAngle:t[3],cr:t[53],stats:t[20],factor:t[19],Raindx:t[35],Rbindx:t[36],N0:t[6],totalI:t[21],SatGainScale:t[47]};t[23]!==void 0&&(Wo.binnedData=t[23]),t[0]!==void 0&&(Wo.gainloss=t[0]),Gr=new ace({props:Wo}),Pt.push(()=>Bn(Gr,"binnedData",oi)),Pt.push(()=>Bn(Gr,"gainloss",Gu));function $o(fe){t[96](fe)}function Ol(fe){t[98](fe)}let Go={};t[0]!==void 0&&(Go.gainloss=t[0]),t[26]!==void 0&&(Go.logger=t[26]),Hi=new kle({props:Go}),Pt.push(()=>Bn(Hi,"gainloss",$o)),t[97](Hi),Pt.push(()=>Bn(Hi,"logger",Ol));function cn(fe){t[99](fe)}function Ih(fe){t[100](fe)}function oo(fe){t[101](fe)}function Dl(fe){t[102](fe)}let Vo={style:"display:inline"};t[37]!==void 0&&(Vo.mergedworlds=t[37]),t[40]!==void 0&&(Vo.countries=t[40]),t[13]!==void 0&&(Vo.mapData=t[13]),t[26]!==void 0&&(Vo.logger=t[26]),Wi=new Jue({props:Vo}),Pt.push(()=>Bn(Wi,"mergedworlds",cn)),Pt.push(()=>Bn(Wi,"countries",Ih)),Pt.push(()=>Bn(Wi,"mapData",oo)),Pt.push(()=>Bn(Wi,"logger",Dl)),t[103](Wi);function Rh(fe){t[105](fe)}function ha(fe){t[106](fe)}let lo={};return t[30]!==void 0&&(lo.HideAllInspector=t[30]),t[51]!==void 0&&(lo.statusbox=t[51]),gs=new Jde({props:lo}),t[104](gs),Pt.push(()=>Bn(gs,"HideAllInspector",Rh)),Pt.push(()=>Bn(gs,"statusbox",ha)),{c(){e=ce("link"),n=ce("link"),r=Te(),i=ce("main"),Jo(s.$$.fragment),T=Te(),M=ce("div"),I=ce("div"),P=ce("div"),O=ce("div"),z=ze(t[32]),$=Te(),ee=ce("div"),G=ze(`Total Area
          `),J=ce("pre"),ie=ze(" ("),te=ze(se),ae=ze(") sqkm"),V=Te(),Y=ce("div"),he=ce("div"),ye=ze(re),me=Te(),Ne=ce("div"),xe=ze(`Total BS
          `),Ce=ce("pre"),Me=ze("("),Fe=ze(Le),pe=ze(")"),Ie=Te(),Ae=ce("h5"),Ue=ze(ve),Ge=ze(","),Re=ze(nt),ht=Te(),tr&&tr.c(),vt=Te(),Ft=ce("div"),yt=ce("div"),Hn=ze(Lt),Qt=Te(),cr=ce("div"),_r=ze(`Active BS
          `),vn=ce("pre"),Yn=ze("("),vr=ze(_n),Zn=ze(")"),qr=Te(),Sn=ce("div"),lr=ce("div"),ot=ze(yn),en=Te(),Cn=ce("div"),Cn.innerHTML=`Noise
          <pre>dBm</pre>`,Cr=Te(),ti=ce("div"),Xr=ce("div"),Ar=ze(yr),Qn=Te(),Ir=ce("div"),Ir.innerHTML=`Allowed Interference
          <pre>dBm</pre>`,Ds=Te(),Hr=ce("hr"),Oi=Te(),ji=ce("div"),gi=ce("div"),ni=ze(Nn),Rr=Te(),_i=ce("div"),_i.innerHTML=`I/N
          <pre>dB</pre>`,tt=Te(),Di=ce("div"),Wr=ce("a"),Ln=ze("Urban : "),Bs=ze(us),Nr=ze(" dBm"),Un=Te(),Ki=ce("br"),fr=Te(),ri=ce("a"),hr=ze("SubUrban : "),er=ze(Bi),vi=ze(`
          dBm`),Xn=Te(),Qe=ce("div"),ct=ce("div"),bn=ce("i"),$r=Te(),zs=ze(ca),Tl=Te(),eo=ce("div"),eo.innerHTML=`Aggr. Interference
          <pre>dBm</pre>`,tn=Te(),dn=ce("div"),Ji=ce("a"),Us=ze("Urban : "),to=ze(zi),Ct=ze(" dBm"),An=Te(),no=ce("br"),ro=Te(),dr=ce("a"),kl=ze("SubUrban : "),fs=ze(cs),Wn=ze(" dBm"),Qi=Te(),le=ce("div"),st=ce("div"),$e=ce("div"),Jo(He.$$.fragment),at=Te(),Ye=ce("div"),Rt=ce("button"),gt=ce("i"),dt=ze(`
            Footprint`),ln=Te(),jr=ce("label"),wt=ze("Satellite Long : "),es=ze(t[3]),In=Te(),Fi=ce("input"),Lu=Te(),Lr=ce("input"),Ot=Te(),un=ce("br"),zc=Te(),io=ce("a"),io.textContent="ITU SNS Website",ef=Te(),El=ce("p"),El.textContent="..status..",Ou=Te(),Lo=ce("div"),Kt=ze(Oo),yi=Te(),Kr=ce("div"),Jo(qs.$$.fragment),ii=Te(),Do=ce("button"),Do.innerHTML=`<i class="redo icon"></i>
          Refresh`,Du=Te(),Cl=ce("div"),Cl.innerHTML=`<div class="header">Info</div> 
      <p>Waiting till progress</p>`,Fc=Te(),Hs=ce("div"),jn=Te(),Jo(Ui.$$.fragment),Bu=Te(),wn=ce("div"),Jo(Gr.$$.fragment),Bo=Te(),Hc=ce("div"),Wc=Te(),ds=ce("div"),fa=ce("button"),fa.textContent="Reload Files",ps=Te(),qi=ce("button"),zo=ze("selectGrid : "),Rl=ze(Jr),zu=Te(),Jo(Hi.$$.fragment),Fu=Te(),Jo(Wi.$$.fragment),ms=Te(),Jo(gs.$$.fragment),Fo=Te(),Uo=ce("div"),Ll=Te(),Ia=ce("div"),document.title="IMT interference to FSS Analysis 2",X(e,"rel","stylesheet"),X(e,"href","../static/css/semantic.min.css"),X(n,"rel","stylesheet"),X(n,"href","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"),X(O,"class","value"),X(ee,"class","label"),X(P,"class","statistic"),X(he,"class","value"),X(Ae,"class","center aligned"),X(Ne,"class","label"),X(Y,"class","statistic"),X(yt,"class","value"),X(cr,"class","label"),X(Ft,"class","statistic"),X(lr,"class","value"),X(Cn,"class","label"),X(Sn,"class","grey inverted statistic"),X(Xr,"class","value"),X(Ir,"class","label"),X(ti,"class","green statistic"),X(gi,"class","value"),X(_i,"class","label"),X(ji,"class",Pr=(t[31]-t[6]>=-10.5?"red":"green")+" statistic"),X(Wr,"class","ui red label left tag small"),X(ri,"class","ui grey label left tag small"),X(bn,"class",lt="thumbs "+(t[31]==null?"":t[31]<t[6]-10.5?"circle up":"circle down")+" icon"),X(ct,"class","value"),X(eo,"class","label"),X(Qe,"class",Fs=(t[31]-t[6]>=-10.5?"red":"green")+" statistic"),X(Ji,"class","ui red label left tag small"),X(dr,"class","ui grey label left tag small"),X(I,"class","ui small statistics"),X(M,"class","ui segment"),X(gt,"class","wrench icon"),X(Rt,"class",sn="ui primary tiny button icon "+(t[18]?"disabled":"")),X(Fi,"type","number"),X(Fi,"min",Ea=t[46][0]),X(Fi,"max",Po=t[46][1]),X(Fi,"step","0.5"),X(Lr,"type","range"),X(Lr,"min",No=t[46][0]),X(Lr,"max",Ma=t[46][1]),X(Lr,"step","0.5"),X(io,"target","_blank"),X(io,"href","https://www.itu.int/online/sns/beamlist.sh?ntc_id=99500259&ie=y&sat_type=G&categ=N&script=&select_list=B&sel_type=&sel_satname=ASIABSS&sat_name=ASIABSS&plan_id=&ntc_nbr="),X(io,"title","ITU SNS link"),X(El,"id","status"),X(Lo,"class",pr="ui label primary "+(t[14]==null||t[44]==!0?"orange placeholder loading":"green")),nu(Lo,"display","inline"),X(Ye,"class","ui left aligned"),X($e,"class","column"),X(Do,"class","ui primary tiny button icon"),X(Kr,"class","column"),X(st,"class","ui two column grid"),X(Cl,"class","ui hidden message"),X(Hs,"class","ui two column stackable grid"),qa(()=>t[83].call(Hs)),X(wn,"class","ui basic segment"),X(fa,"class","ui button small"),X(qi,"class",so="ui label primary "+(t[14]==null?"orange placeholder loading":"green")),nu(qi,"display","inline"),X(ds,"class","ui segment"),X(Uo,"id","testing"),nu(Uo,"width","500px"),nu(Uo,"height","500px"),X(le,"class","ui segment"),X(Ia,"id","etc"),X(i,"class","ui basic segment")},m(fe,qe){U(document.head,e),U(document.head,n),Nt(fe,r,qe),Nt(fe,i,qe),mo(s,i,null),U(i,T),U(i,M),U(M,I),U(I,P),U(P,O),U(O,z),U(P,$),U(P,ee),U(ee,G),U(ee,J),U(J,ie),U(J,te),U(J,ae),U(I,V),U(I,Y),U(Y,he),U(he,ye),U(Y,me),U(Y,Ne),U(Ne,xe),U(Ne,Ce),U(Ce,Me),U(Ce,Fe),U(Ce,pe),U(Ne,Ie),U(Ne,Ae),U(Ae,Ue),U(Ae,Ge),U(Ae,Re),U(I,ht),tr&&tr.m(I,null),U(I,vt),U(I,Ft),U(Ft,yt),U(yt,Hn),U(Ft,Qt),U(Ft,cr),U(cr,_r),U(cr,vn),U(vn,Yn),U(vn,vr),U(vn,Zn),U(I,qr),U(I,Sn),U(Sn,lr),U(lr,ot),U(Sn,en),U(Sn,Cn),U(I,Cr),U(I,ti),U(ti,Xr),U(Xr,Ar),U(ti,Qn),U(ti,Ir),U(I,Ds),U(I,Hr),U(I,Oi),U(I,ji),U(ji,gi),U(gi,ni),U(ji,Rr),U(ji,_i),U(I,tt),U(I,Di),U(Di,Wr),U(Wr,Ln),U(Wr,Bs),U(Wr,Nr),U(Di,Un),U(Di,Ki),U(Di,fr),U(Di,ri),U(ri,hr),U(ri,er),U(ri,vi),U(I,Xn),U(I,Qe),U(Qe,ct),U(ct,bn),U(ct,$r),U(ct,zs),U(Qe,Tl),U(Qe,eo),U(I,tn),U(I,dn),U(dn,Ji),U(Ji,Us),U(Ji,to),U(Ji,Ct),U(dn,An),U(dn,no),U(dn,ro),U(dn,dr),U(dr,kl),U(dr,fs),U(dr,Wn),U(i,Qi),U(i,le),U(le,st),U(st,$e),mo(He,$e,null),U($e,at),U($e,Ye),U(Ye,Rt),U(Rt,gt),U(Rt,dt),U(Ye,ln),U(Ye,jr),U(jr,wt),U(jr,es),U(Ye,In),U(Ye,Fi),Gt(Fi,t[3]),U(Ye,Lu),U(Ye,Lr),Gt(Lr,t[3]),U(Ye,Ot),U(Ye,un),U(Ye,zc),U(Ye,io),U(Ye,ef),U(Ye,El),U(Ye,Ou),U(Ye,Lo),U(Lo,Kt),U(st,yi),U(st,Kr),mo(qs,Kr,null),U(Kr,ii),U(Kr,Do),U(le,Du),U(le,Cl),U(le,Fc),U(le,Hs),t[82](Hs),Uc=W1(Hs,t[83].bind(Hs)),U(le,jn),mo(Ui,le,null),U(le,Bu),U(le,wn),mo(Gr,wn,null),t[92](wn),U(le,Bo),U(le,Hc),t[93](Hc),U(le,Wc),U(le,ds),U(ds,fa),U(ds,ps),U(ds,qi),U(qi,zo),U(qi,Rl),U(ds,zu),mo(Hi,ds,null),U(ds,Fu),mo(Wi,ds,null),U(le,ms),mo(gs,le,null),U(le,Fo),U(le,Uo),U(i,Ll),U(i,Ia),qt=!0,qo||(qu=[ft(Rt,"click",t[78]),ft(Fi,"input",t[79]),ft(Lr,"change",t[80]),ft(Lr,"input",t[80]),ft(Do,"click",t[52]),ft(fa,"click",t[94]),ft(qi,"click",t[95])],qo=!0)},p(fe,qe){const li={};!a&&qe[0]&8&&(a=!0,li.satAngle=fe[3],Dn(()=>a=!1)),!l&&qe[0]&1073741824&&(l=!0,li.HideAllInspector=fe[30],Dn(()=>l=!1)),!u&&qe[0]&2048&&(u=!0,li.MidBandTo6GHzFactor=fe[11],Dn(()=>u=!1)),!f&&qe[1]&4096&&(f=!0,li.hasFSSPattern=fe[43],Dn(()=>f=!1)),!p&&qe[0]&262144&&(p=!0,li.UseFootprint=fe[18],Dn(()=>p=!1)),!m&&qe[0]&524288&&(m=!0,li.factor=fe[19],Dn(()=>m=!1)),!g&&qe[1]&8&&(g=!0,li.hasIMTgrid=fe[34],Dn(()=>g=!1)),!v&&qe[1]&16&&(v=!0,li.Raindx=fe[35],Dn(()=>v=!1)),!b&&qe[1]&32&&(b=!0,li.Rbindx=fe[36],Dn(()=>b=!1)),!k&&qe[0]&4&&(k=!0,li.SatRxGain=fe[2],Dn(()=>k=!1)),!R&&qe[0]&2&&(R=!0,li.FSSNoiseTemp=fe[1],Dn(()=>R=!1)),!N&&qe[0]&16&&(N=!0,li.EdgeMode=fe[4],Dn(()=>N=!1)),!x&&qe[1]&32768&&(x=!0,li.orbitrange=fe[46],Dn(()=>x=!1)),s.$set(li),(!qt||qe[1]&2)&&Ht(z,fe[32]),(!qt||qe[0]&128)&&se!==(se=fe[7].toFixed(0)+"")&&Ht(te,se),(!qt||qe[0]&256)&&re!==(re=kr("4.2~s")(fe[8])+"")&&Ht(ye,re),(!qt||qe[0]&256)&&Le!==(Le=fe[8].toFixed(0)+"")&&Ht(Fe,Le),(!qt||qe[0]&512)&&ve!==(ve=fe[9].toFixed(0)+"")&&Ht(Ue,ve),(!qt||qe[0]&1024)&&nt!==(nt=fe[10].toFixed(0)+"")&&Ht(Re,nt),fe[39]?tr?tr.p(fe,qe):(tr=UT(fe),tr.c(),tr.m(I,vt)):tr&&(tr.d(1),tr=null),(!qt||qe[1]&4)&&Lt!==(Lt=kr("4.2~s")(fe[33])+"")&&Ht(Hn,Lt),(!qt||qe[1]&4)&&_n!==(_n=fe[33].toFixed(0)+"")&&Ht(vr,_n),(!qt||qe[0]&64)&&yn!==(yn=fe[6].toFixed(1)+"")&&Ht(ot,yn),(!qt||qe[0]&64)&&yr!==(yr=(fe[6]-10.5).toFixed(1)+"")&&Ht(Ar,yr),(!qt||qe[0]&4194304)&&Nn!==(Nn=(fe[22]==null?"???":fe[22][2].toFixed(1))+"")&&Ht(ni,Nn),(!qt||qe[0]&64|qe[1]&1&&Pr!==(Pr=(fe[31]-fe[6]>=-10.5?"red":"green")+" statistic"))&&X(ji,"class",Pr),(!qt||qe[0]&4194304)&&us!==(us=(fe[22]!=null?fe[22][0].toFixed(1):"???")+"")&&Ht(Bs,us),(!qt||qe[0]&4194304)&&Bi!==(Bi=(fe[22]!=null?fe[22][1].toFixed(1):"???")+"")&&Ht(er,Bi),(!qt||qe[0]&64|qe[1]&1&&lt!==(lt="thumbs "+(fe[31]==null?"":fe[31]<fe[6]-10.5?"circle up":"circle down")+" icon"))&&X(bn,"class",lt),(!qt||qe[1]&1)&&ca!==(ca=(fe[31]==null?"???":fe[31].toFixed(1))+"")&&Ht(zs,ca),(!qt||qe[0]&64|qe[1]&1&&Fs!==(Fs=(fe[31]-fe[6]>=-10.5?"red":"green")+" statistic"))&&X(Qe,"class",Fs),(!qt||qe[0]&2097152)&&zi!==(zi=(fe[21]!=null?fe[21][0].I.toFixed(2):"???")+"")&&Ht(to,zi),(!qt||qe[0]&2097152)&&cs!==(cs=(fe[21]!=null?fe[21][1].I.toFixed(2):"???")+"")&&Ht(fs,cs);const Pa={};!Ut&&qe[0]&32768&&(Ut=!0,Pa.value=fe[15],Dn(()=>Ut=!1)),He.$set(Pa),(!qt||qe[0]&262144&&sn!==(sn="ui primary tiny button icon "+(fe[18]?"disabled":"")))&&X(Rt,"class",sn),(!qt||qe[0]&8)&&Ht(es,fe[3]),(!qt||qe[1]&32768&&Ea!==(Ea=fe[46][0]))&&X(Fi,"min",Ea),(!qt||qe[1]&32768&&Po!==(Po=fe[46][1]))&&X(Fi,"max",Po),qe[0]&8&&zn(Fi.value)!==fe[3]&&Gt(Fi,fe[3]),(!qt||qe[1]&32768&&No!==(No=fe[46][0]))&&X(Lr,"min",No),(!qt||qe[1]&32768&&Ma!==(Ma=fe[46][1]))&&X(Lr,"max",Ma),qe[0]&8&&Gt(Lr,fe[3]),(!qt||qe[0]&16384|qe[1]&8192)&&Oo!==(Oo=fe[14]==null||fe[44]==!0?"...":"ready")&&Ht(Kt,Oo),(!qt||qe[0]&16384|qe[1]&8192&&pr!==(pr="ui label primary "+(fe[14]==null||fe[44]==!0?"orange placeholder loading":"green")))&&X(Lo,"class",pr);const uo={};!Ml&&qe[0]&134217728&&(Ml=!0,uo.value=fe[27],Dn(()=>Ml=!1)),qs.$set(uo);const Gs={};qe[1]&64&&(Gs.reference=fe[37]),qe[0]&8192|qe[1]&128|qe[4]&524288&&(Gs.$$scope={dirty:qe,ctx:fe}),!si&&qe[0]&268435456&&(si=!0,Gs.showModal=fe[28],Dn(()=>si=!1)),!Ws&&qe[0]&4&&(Ws=!0,Gs.SatRxGain=fe[2],Dn(()=>Ws=!1)),!Al&&qe[0]&8&&(Al=!0,Gs.satAngle=fe[3],Dn(()=>Al=!1)),!hs&&qe[1]&1024&&(hs=!0,Gs.SatelliteBeam=fe[41],Dn(()=>hs=!1)),!Ca&&qe[0]&131072&&(Ca=!0,Gs.defaultFootprint=fe[17],Dn(()=>Ca=!1)),Ui.$set(Gs);const ui={};qe[0]&8&&(ui.satAngle=fe[3]),qe[0]&1048576&&(ui.stats=fe[20]),qe[0]&524288&&(ui.factor=fe[19]),qe[1]&16&&(ui.Raindx=fe[35]),qe[1]&32&&(ui.Rbindx=fe[36]),qe[0]&64&&(ui.N0=fe[6]),qe[0]&2097152&&(ui.totalI=fe[21]),qe[1]&65536&&(ui.SatGainScale=fe[47]),!Il&&qe[0]&8388608&&(Il=!0,ui.binnedData=fe[23],Dn(()=>Il=!1)),!qc&&qe[0]&1&&(qc=!0,ui.gainloss=fe[0],Dn(()=>qc=!1)),Gr.$set(ui),(!qt||qe[0]&20480)&&Jr!==(Jr=(fe[14]==null?"...":fe[12].length)+"")&&Ht(Rl,Jr),(!qt||qe[0]&16384&&so!==(so="ui label primary "+(fe[14]==null?"orange placeholder loading":"green")))&&X(qi,"class",so);const Vu={};!Pl&&qe[0]&1&&(Pl=!0,Vu.gainloss=fe[0],Dn(()=>Pl=!1)),!Nl&&qe[0]&67108864&&(Nl=!0,Vu.logger=fe[26],Dn(()=>Nl=!1)),Hi.$set(Vu);const Vs={};!Uu&&qe[1]&64&&(Uu=!0,Vs.mergedworlds=fe[37],Dn(()=>Uu=!1)),!qn&&qe[1]&512&&(qn=!0,Vs.countries=fe[40],Dn(()=>qn=!1)),!$s&&qe[0]&8192&&($s=!0,Vs.mapData=fe[13],Dn(()=>$s=!1)),!ao&&qe[0]&67108864&&(ao=!0,Vs.logger=fe[26],Dn(()=>ao=!1)),Wi.$set(Vs);const Ys={};!Aa&&qe[0]&1073741824&&(Aa=!0,Ys.HideAllInspector=fe[30],Dn(()=>Aa=!1)),!$c&&qe[1]&1048576&&($c=!0,Ys.statusbox=fe[51],Dn(()=>$c=!1)),gs.$set(Ys)},i(fe){qt||(ta(s.$$.fragment,fe),ta(He.$$.fragment,fe),ta(qs.$$.fragment,fe),ta(Ui.$$.fragment,fe),ta(Gr.$$.fragment,fe),ta(Hi.$$.fragment,fe),ta(Wi.$$.fragment,fe),ta(gs.$$.fragment,fe),qt=!0)},o(fe){va(s.$$.fragment,fe),va(He.$$.fragment,fe),va(qs.$$.fragment,fe),va(Ui.$$.fragment,fe),va(Gr.$$.fragment,fe),va(Hi.$$.fragment,fe),va(Wi.$$.fragment,fe),va(gs.$$.fragment,fe),qt=!1},d(fe){_t(e),_t(n),fe&&_t(r),fe&&_t(i),t[76](null),go(s),tr&&tr.d(),go(He),go(qs),t[82](null),Uc(),t[89](null),go(Ui),go(Gr),t[92](null),t[93](null),t[97](null),go(Hi),t[103](null),go(Wi),t[104](null),go(gs),qo=!1,Ac(qu)}}}let X3=10,ipe=500;function qT(t){return Math.pow(10,t/10)}function spe(t){return 10*Math.log10(t)}function ape(t,e,n){let r;x0(t,gp,le=>n(62,r=le));let{DOM:i}=new _6,s=!1,a,l=650,u=20,f=103,p=!1,m=500,g,v,b,k,R="",N=0,x=0,T=0,M=0,I=0,P=!1,O=.6,z,$,ee,G=new Date;Od(()=>{});let J,ie=[],se,te,ae;function V(le){var st=u;if(xe==null)return alert("No Satellite Footprint selected"),0;var $e=xe.beamtype;switch($e){case"pointgrid":let Rt=bue(le,xe.features[1]);var He;return He=Rt.properties,o0(xe[0],le)?(He.distanceToFootprint=Rt.properties.distanceToPoint,He.Gain=Rt.properties.FSSRxGain,He.Mode="INSIDE",He):(He.distanceToFootprint=Rt.properties.distanceToPoint,He.Gain=Rt.properties.FSSRxGain,He.distanceToFootprint<100?(He.Gain=He.Gain,He.Mode="OUTSIDE-EDGE"):He.distanceToFootprint<500?(He.Gain=He.Gain-3,He.Mode="OUTSIDE-EDGE"):(He.Gain=st-30,He.Mode="OUTSIDE"),He);case"shapedbeams":var Ut=xe.features[0].properties;if(o0(xe.features[0],le))return{Gain:st,Mode:"INSIDE"};if(xe.features.length>1){var Ut=xe.features[1].properties,at=o0(xe.features[1],le);if(at)return{Gain:st+Ut.OffsetGain,Mode:"OUTSIDE-EDGE"};var Ye=Ut.EdgeOffsetGain||0;return{Gain:st+Ye,Mode:"OUTSIDE"}}else{var Ye=Ut.EdgeOffsetGain||0;return{Gain:st+Ye,Mode:"OUTSIDE"}}}return{Gain:0,Mode:"OUTSIDE"}}let Y="",he=[],re=!1,ye,me,Ne,xe,Ce={BeamLng:f,BeamLat:8,rx:47,ry:30,theta:43.5},Me="None",Le={type:"LineString",coordinates:[xq(Es(-180,180,1),Array(360).fill(0))][0]},Fe;function pe(){nt(),console.log("Manual Called 1"),gi()}let Ie=null,Ae=null,ve,Ue=!1,Ge;async function nt(){let le=ur(v).select("div#Globe");if(!le.empty())le.node().innerHTML="",le=le.node();else if(le=i.element("div"),ur(le).attr("id","Globe").attr("class","  wide four column   ").attr("style","border:1px solid lightgrey"),v!=null)v.append(le);else return null;let st=i.element("div");ur(st).attr("id","infobox");function $e(){if(xe==null)return[];var at=[];return at.push(Qo(xe.features[0],{stroke:"blue",strokeOpacity:Me!="FSSGain"?.5:1,fillOpacity:.1,strokeDasharray:[5,5],pointerEvents:"none",fill:"lightblue"})),at}let He=ie.findIndex(at=>at.Country==ae.id)>=0,Ut={color:{legend:!0,interpolate:Yf,label:"Elevation"}};Me=="None"&&(Ut=null),Me=="Elevation"&&(Ut.color.type="linear",Ut.color.scheme="rainbow",Ut.color.domain=[10,90]),Ne=rl({colorOptions:Ut,color:{legend:Me=="binID",marginLeft:30,label:Me,nice:!0},width:450,projection:{type:"orthographic",rotate:[-f,0]},marks:[yI(),bI(),Qo(Le,{stroke:"grey",strokeDasharray:[3,5]}),se==null?null:Qo(se,{fill:(at,Ye)=>Me=="None"?at.properties.selected?"yellow":"lightgrey":"none",fillOpacity:.3,stroke:at=>he.includes(at.properties.UNRegion)?at.properties.hasIMTgrid?"orange":"lightgreen":"lightgrey",ariaDescription:"worldmap",pointerEvents:"fill",title:at=>{let Ye=at.properties.NAMEen+" - "+at.properties.UNRegion;return at.properties.selected?"DeSELECT "+Ye:"Select "+Ye}}),te==null?null:Qo(te,{stroke:"lightgrey"}),z==null?null:Qo(z,{stroke:"lightgrey",strokeOpacity:.1,pointerEvents:"none",fill:at=>{if(Me=="binID")return at.properties.binID;var Ye=en(at,Me).color;return at.properties.Active?Ye:"black"},fillOpacity:1}),...$e(),He?Qo(ae,{stroke:"lightgrey",strokeOpacity:1,fillOpacity:1,pointerEvents:"none",fill:"none"}):null,!Ue&&Ce!=null?MQ([0],{x:Ce.BeamLng,y:Ce.BeamLat,fill:"red"}):null,Eg([f],{x:f,y:0,fontSize:"2em",fill:"red",textAnchor:"start",alignmentBaseline:"top",text:at=>"🛰️"}),Eg([f],{x:f,y:0,dy:40,fontSize:"1em",fill:"red",textAnchor:"start",alignmentBaseline:"bottom",text:at=>at+"°E"})]}),le.append(Ne),gi(),ur(Ne).selectAll("g[aria-description='worldmap']").attr("pointer-events","all").selectAll("path").datum(at=>({indx:at,selected:se[at].properties.selected,Country:se[at].properties.NAMEen,UNRegion:se[at].properties.UNRegion})).on("click",async(at,Ye)=>{if(console.log("clicked",Ye),!he.includes(Ye.UNRegion)){ur("#status").text("Country Not allowed !! "+Ye.Country,"in Region ",Ye.UNRegion),console.log("Not allowed."+Ye.NAMEen);return}Ye.selected=!Ye.selected,n(37,se[Ye.indx].properties.selected=Ye.selected,se),console.log("clicked",Ye),ht(Ye.Country,!Ye.selected),console.log("clicked...done udpateGrid")}),Ft!=null&&(Fe=kr("2.1s")(a1(xe.features[0])/1e6),ur(st).append("text").attr("style","color:blue").text(ie.map(at=>at.Country).join(" , ")+`: ${vt}  ${xe.name||""}+ IbyN = ${(qr||0).toFixed(1)} FootPrintArea : ${Fe} sqkm`)),le.append(st)}let Re=!1;async function ht(le,st){if(st=st||!1,le=le||"",se==null||le=="")return console.log("I am going back !!"),[];console.log("updateGrid() : updating status ",le),n(44,Re=!0),ur("#status").text("updateGrid() started..");let $e=se.filter(Ye=>Ye.properties.NAMEen==le)[0],He=$e;if(st){if(He.properties.hasIMTgrid&&n(39,re=!1),n(14,me.features=me.features.filter(Ye=>Ye.properties.Country!=le),me),me.features.length>0){let Ye=0;me.features.forEach(Rt=>{Rt.properties.id=Ye,Ye++}),n(55,ie=ie.filter(Rt=>Rt.Country!=le))}console.log("selectCountries must be empty",ie)}else{let Ye=[],Rt=0;var Ut=$e.properties,at={Country:Ut.NAMEen,Region:Ut.UNRegion,selected:!0,mapGridIndx:Rt};if(ie.push(at),console.log("updateGrid() stage 2 ",le,$e),He.properties.hasIMTgrid)n(39,re=!0),console.log("updateGrid() stage 3"),He.properties.IMTgrid.features.forEach(gt=>{gt.properties.inLand=!0,gt.properties.Country=He.properties.NAMEen;let dt=z1(gt).geometry.coordinates;gt.properties.center=dt,gt.properties.RaRb=!1,gt.properties.inLand=!0,gt.properties.Country=He.properties.NAMEen,gt.properties.Active=!0,gt.properties.ActiveFactor=1,gt.properties.id=Rt,Ye.push(gt),Rt++});else{n(39,re=!1);let gt=_p(He),dt=Yue(gt,1,{units:"degrees"});if(dt.features.length==0)return"SELECTED country is smaller than GRID ??";console.log("TOTAL squaregrids ",dt.features.length),dt.features.forEach(sn=>{let ln=[];ln=z1(sn).geometry.coordinates,sn.properties.center=ln;let jr=!1;p?jr=yN(He,sn):jr=o0(He,ln),sn.properties.RaRb=!0,sn.properties.Active=jr,sn.properties.ActiveFactor=jr?1:0,sn.properties.id=Rt,sn.properties.inLand=jr,sn.properties.Country=He.properties.NAMEen,Rt++}),Ye.push(...dt.features)}if(me==null)console.log("updateGrid() stage 4a"),n(14,me=Yi(Ye));else{console.log("updateGrid() stage 4b"),me.features.push(...Ye);let gt=0;me.features.forEach(dt=>{dt.properties.id=gt,gt++})}}return ur("#status").text("Completed grid.."),n(44,Re=!1),n(12,z=void 0),me.features.length>0?n(12,z=me.features.filter(Ye=>Ye.properties.inLand)):(n(55,ie=[]),n(12,z=[]),console.log(" must be empty",me)),console.log("updateGrid() Completed.. processing ...",z),n(45,cr=rr(z,Ye=>Ye.properties.SectorCount)),vt=kr("2.3s")(rr(z.map(Ye=>a1(Ye)))/1e6)+" sqkm",console.log("updateGrid() stage DONE..",ie),[]}let vt,Ft,yt,Lt=10/12.4;async function Hn(le,st,$e){Qn!=null?Qn.queueNode(le,st,$e):console.log("Processing ",le,st)}let Qt,cr=0,_r=[10,140],vn=hd([10,90],Yf);function Yn(le){var st=a.find($e=>$e.el==le);return st!=null?st.CL+st.GL+st.PL:0}function _n(le){var st=a.find($e=>$e.el==le);return st!=null?{UrbanAg:st.UrbanAg,SubUrbanAg:st.SubUrbanAg}:{UrbanAg:0,SubUrbanAg:0}}let vr,Zn,qr,Sn=hd([-39,-160],Tb),lr=x_([!0,!1],["green","lightgreen"]),yn,ot;function en(le,st){let $e=dl("lightblue"),He=st,Ut,at;switch(He){case"None":return $e.opacity=.5,at=le.properties.inLand,{color:at?$e:"white",val:at};case"Elevation":Ut=le.properties.center;let Ye=FT(Ut[1],Ut[0],f);return $e=vn(Ye),{color:$e,val:Ye};case"FSSGain":Ut=le.properties.center;let Rt=V(Ut);return $e=yn(Rt.Gain),Rt.Mode=="OUTSIDE"&&($e=dl("grey")),$e=le.properties.Active?$e:"white",at=le.properties.Active,{color:$e,val:Rt.Gain};case"IbyN":let gt=Qt[le.properties.binID],dt=-200;return gt!=null&&(dt=gt.suburbandB+_n(gt.x).SubUrbanAg-Yn(gt.x)-k),{color:Sn(dt),IbyNcell:dt}}}let Cn,Cr=[],ti=400,Xr,yr=null,Ar=null,Qn=null,Ir,Ds,Hr,Oi;async function ji(){if(v==null)return;let le=ur(v).select("div#TopoGridMap");if(le.empty()){le=ur(v).append("div"),le.attr("id","TopoGridMap").attr("class","wide four column segment ").attr("style","border:1px solid orange ;width:100%;height:100%"),v.append(le.node()),console.log("maindiv",le.empty());let gt=le.append("div").attr("style","width:500px;height:500px;fill:'red'");Ir=Fa.map(gt.node(),{});var st=Fa.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"});Fa.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France"});var $e=Fa.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'});let dt=Fa.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}).addTo(Ir);Fa.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Fa.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}),Ds=Fa.marker({lng:f,lat:0},{icon:Fa.icon({iconUrl:tpe,iconSize:[32,32]})}),Ds.addTo(Ir);var He={OpenStreetMap:st,OpenStreetMapHOT:$e,GoogleMap:dt},Ut={SatelliteGrid:Ds};Hr!=null&&(Ut.Analsysis=Hr),Oi=Fa.control.layers(He).addTo(Ir)}let at=se==null?[]:se.filter(gt=>ie.some(dt=>dt.Country==gt.properties.NAMEen));at.length==0||Yi(at),at.length>0||Ir.setView([0,f],2);const Rt=Gd({point:function(gt,dt){const sn=Ir.latLngToLayerPoint(new Fa.LatLng(dt,gt));this.stream.point(sn.x,sn.y)}});$f().projection(Rt),Ds.setLatLng({lng:f,lat:0}),z!=null&&(Hr!=null&&(console.log("REMOVING OLD GEOJSON LAYER"),Ir.removeLayer(Hr),Oi.removeLayer(Hr)),console.log("ADDING NEW GEOJSON LAYER"),Hr=Fa.geoJson(z,{fillColor:"none",weight:4,opacity:.7,style:gt=>{if(Nn=="IMT Cell Grid"){let dt=o0(xe.features[0],gt.properties.center);return{color:lr(dt)}}else return{color:en(gt,Nn).color}}}).bindPopup(gt=>gt.feature.properties.Country).addTo(Ir),Ir.fitBounds(Hr.getBounds()))}async function gi(){ti=400;let le=Math.max(m/2,400)-50,st=i.svg(le,ti),$e=ur(st).attr("id","mysvgobj"),He=se==null?[]:se.filter(dt=>ie.some(sn=>sn.Country==dt.properties.NAMEen)),Ut=He.length==0?void 0:Yi(He),at=ur(v).select("div#GridMap");if(!at.empty())at.node().innerHTML="",at=at.node();else{if(at=i.element("div"),ur(at).attr("id","GridMap").attr("class","wide four column ").attr("style","border:1px solid lightgrey"),v==null)return;v.append(at)}Nn=="IMT Cell Grid"&&Ut!=null&&at.appendChild(w1(lr,{title:"Covered by Satellite Footprint"})),Nn=="FSSGain"&&at.appendChild(w1(yn,{title:"Satellite Rx Gain (dBi)",nice:!0,marginLeft:0})),Nn=="IbyN"&&at.appendChild(w1(Sn,{title:"IbyN of a Cell (dB)",nice:!0,marginLeft:0})),Nn=="Elevation"&&at.appendChild(w1(vn,{title:"Elevation "+f+" E °",tickFormat:dt=>dt+"°",width:400})),at.appendChild(st),$e.append("g").append("rect").attr("x",10).attr("y",10).attr("stroke","lightgrey").attr("width",le-10).attr("height",ti-10).attr("fill","none").attr("fillopacity",.5),se==null&&$e.append("text").text("No Map loaded... yet").attr("transform","translate(50 50)"),se==null&&console.log("PlotMap returning mergedworld ",se==null);let Ye=SE(),Rt;se!=null&&(Rt=Yi(S1(se,dt=>he.includes(dt.properties.UNRegion))),Ye.fitExtent([[10,10],[le-10,ti-10]],Rt));let gt=$f(Ye).pointRadius(1);if(Ut==null?$e.append("text").text("No Country selected").attr("transform","translate(50 150)"):Ye.fitExtent([[50,50],[ipe-50,ti-50]],yue(Ut)),isNaN(Ye([0,0])[0])){console.log("Testing path generator ",Ye([0,0]));return}$e.append("g").append("path").datum(rE()()).attr("d",gt).attr("stroke","lightgrey"),Rt!=null&&$e.append("g").selectAll("path").data([Rt]).join("path").attr("pointer-events","none").attr("fill","lightgrey").attr("stroke","lightgreen").attr("stroke-opacity",1).attr("fill-opacity",.1).attr("d",gt),Ut==null?console.log("PlotMap skipping IMTcountriesFeatures ",Ut==null):$e.append("path").datum(Ut).attr("pointer-events","none").attr("stroke","grey").attr("stroke-width",1).attr("fill",Nn=="IMT Cell Grid"?"lightgreen":"none").attr("fill-opacity",.1).attr("d",gt),z!=null&&$e.append("g").attr("id","elevationgrid").selectAll("path").data(z).join("path").attr("stroke","grey").attr("stroke-opacity",.5).attr("fill",dt=>{if(Nn=="IMT Cell Grid"){let sn=o0(xe.features[0],dt.properties.center);return lr(sn)}else{let sn=en(dt,Nn);return dt.properties.gain=sn.val,sn.color}}).attr("d",gt).append("title").text(dt=>{if(Nn=="IbyN"){var sn=Qt[dt.properties.binID],ln="! <"+X3+"° check Elevation";return sn!=null&&(ln=sn.suburbandB+_n(sn.x).SubUrbanAg-Yn(sn.x)-k,ln=ln.toFixed(1)+"dB"),ln}if(Nn=="IMT Cell Grid")return o0(xe.features[0],dt.properties.center)?"in Footprint":"outside Footprint";var jr=en(dt,Nn);return jr.val.toFixed(1)}),te!=null&&te.features!=null&&($e.append("g").selectAll("path").data(te.features).join("path").attr("pointer-events","none").attr("stroke","orange").attr("stroke-width",1).attr("fill","orange").attr("fill-opacity",.05).attr("d",gt).append("title").text(dt=>dt.properties.StateName),$e.append("g").selectAll("dot").data(te.features).join("circle").attr("pointer-events","auto").attr("fill","orange").attr("r",2).attr("transform",dt=>{let sn=z1(dt).geometry.coordinates;return`translate(${Ye(sn).join(" ")})`}).append("title").text(dt=>dt.properties.StateName)),xe!=null&&$e.append("g").selectAll("path").data([xe]).join("path").attr("pointer-events","none").attr("fill","none").attr("stroke","orange").attr("stroke-width",1).attr("stroke-dasharray","0").attr("d",gt).transition().duration(1e3).attr("stroke-dasharray","5 5"),$e.append("g").append("text").attr("fill","red").text("🛰️").attr("transform",()=>{var dt=Ye([f,0]).join(" ");return`translate(${dt})`}),$e.append("g").append("text").attr("fill","red").text(`Elevation ${f}E°`).attr("x",20).attr("y",20),$e.append("g").attr("id",xe.type).selectAll("path").data([xe.features[0]]).join("path").attr("pointer-events","none").attr("d",gt).attr("fill","lightgrey").attr("fill-opacity",.1).attr("stroke-dasharray",[4,4]).attr("stroke","orange"),$e.append("g").attr("id","g-info").append("text").text(`IbyN : ${(qr||0).toFixed(1)}dB`).attr("transform","translate(10 40)")}let Nn="IMT Cell Grid",ni,Rr;function _i(le){f=le,n(3,f)}function Pr(le){g=le,n(30,g)}function tt(le){O=le,n(11,O)}function Di(le){Ue=le,n(43,Ue),n(13,J)}function Wr(le){Ge=le,n(18,Ge)}function Ln(le){yt=le,n(19,yt)}function us(le){P=le,n(34,P),n(62,r),n(13,J),n(56,ae)}function Bs(le){$=le,n(35,$)}function Nr(le){ee=le,n(36,ee)}function Un(le){u=le,n(2,u)}function Ki(le){l=le,n(1,l)}function fr(le){p=le,n(4,p)}function ri(le){_r=le,n(46,_r)}function hr(le){Pt[le?"unshift":"push"](()=>{Ae=le,n(42,Ae)})}function Bi(le){Me=le,n(15,Me)}const er=()=>n(28,s=!0);function vi(){f=zn(this.value),n(3,f)}function Xn(){f=zn(this.value),n(3,f)}function Qe(le){Nn=le,n(27,Nn)}function ct(le){Pt[le?"unshift":"push"](()=>{v=le,n(5,v)})}function bn(){Xr=this.clientHeight,m=this.clientWidth,n(49,Xr),n(29,m)}function lt(le){s=le,n(28,s)}function $r(le){u=le,n(2,u)}function ca(le){f=le,n(3,f)}function zs(le){Ce=le,n(41,Ce),n(13,J),n(56,ae),n(18,Ge),n(16,Ie),n(3,f)}function Tl(le){ve=le,n(17,ve)}function eo(le){Pt[le?"unshift":"push"](()=>{Ie=le,n(16,Ie)})}function Fs(le){Cn=le,n(23,Cn),n(59,Ft),n(55,ie),n(61,Cr),n(14,me),n(11,O),n(7,N),n(12,z),n(58,xe),n(2,u),n(3,f),n(62,r),n(18,Ge),n(13,J),n(17,ve)}function tn(le){a=le,n(0,a)}function dn(le){Pt[le?"unshift":"push"](()=>{ot=le,n(48,ot)})}function Ji(le){Pt[le?"unshift":"push"](()=>{Ar=le,n(25,Ar)})}const Us=()=>{ni!=null&&ni.loadFiles()},zi=()=>{console.log("loading ..",z),Qn.queueNode("selectGrid",z)};function to(le){a=le,n(0,a)}function Ct(le){Pt[le?"unshift":"push"](()=>{yr=le,n(24,yr)})}function An(le){Qn=le,n(26,Qn)}function no(le){se=le,n(37,se)}function ro(le){ye=le,n(40,ye)}function dr(le){J=le,n(13,J)}function kl(le){Qn=le,n(26,Qn)}function cs(le){Pt[le?"unshift":"push"](()=>{ni=le,n(50,ni)})}function fs(le){Pt[le?"unshift":"push"](()=>{Qn=le,n(26,Qn)})}function Wn(le){g=le,n(30,g)}function Qi(le){Rr=le,n(51,Rr)}t.$$.update=()=>{if(t.$$.dirty[1]&8388608&&G.toLocaleString(void 0,{hour:"numeric",minute:"numeric",second:"numeric"}),t.$$.dirty[2]&1&&(console.log("current Profile changed ",r),n(14,me=void 0),n(12,z=void 0),n(55,ie=[]),n(34,P=!1)),t.$$.dirty[0]&16|t.$$.dirty[1]&16777216&&ie.length>0,t.$$.dirty[0]&67117056|t.$$.dirty[1]&67108864&&J!=null&&(n(57,he=J.visibleRegion),Qn!=null&&Qn.queueNode("visibleRegion",he)),t.$$.dirty[0]&8192|t.$$.dirty[1]&33554432&&J!=null&&(n(56,ae=J.IMTMap),J.footprintbeam!=null&&n(41,Ce=J.footprintbeam),te=J.FocusCountry,ae.properties!=null?(n(34,P=!0),n(38,Y=ae.id)):n(34,P=!1)),t.$$.dirty[0]&270336&&Ge&&J.FSSMap!=null&&(n(58,xe=J.FSSMap),nt(),console.log("Auto Called 2")),t.$$.dirty[0]&393216&&(Ge||ve!=null&&(n(58,xe=ve),nt())),t.$$.dirty[0]&67108864|t.$$.dirty[1]&134217728&&Qn!=null&&Qn.queueNode("SatelliteFootprints",xe),t.$$.dirty[0]&8192&&J!=null&&J.FSSMap!=null&&n(43,Ue=!0),t.$$.dirty[0]&327688&&!Ge&&Ie!=null&&(n(41,Ce.BeamLng=f,Ce),console.log("updated..",Ie),Ie.update()),t.$$.dirty[0]&134217728&&Nn!=null&&gi(),t.$$.dirty[0]&4108|t.$$.dirty[1]&402653184){e:if(z!=null&&xe!=null){let le=[];if(z.length==0){n(59,Ft=[]),n(59,Ft.AntennaName=xe.name,Ft);break e}le.AntennaName=xe.name;let st=z[0].geometry.type;z.forEach($e=>{let He=[];st!="point"?He=$e.properties.center:He=$e.geometry.coordinates;let Ut=FT(He[1],He[0],f);if(Ut>=X3){let at=epe(He[1],He[0],f),Ye=a1($e)/1e6,Rt=V(He);le.push({az:at,el:Ut,areasqkm:Ye,SatGain:Rt.Gain,Mode:Rt.Mode,RaRb:$e.properties.RaRb,id:$e.properties.id,ActivityFactor:$e.properties.ActiveFactor})}}),n(59,Ft=le),Hn("gridElangles",Ft)}}if(t.$$.dirty[1]&268435456&&Ft!=null){let le=Is(Ft,st=>st.el);n(61,Cr=Es(Math.floor(le[0]),Math.ceil(le[1])))}if(t.$$.dirty[0]&8407168|t.$$.dirty[1]&1358954496&&Ft!=null&&ie!=null&&ie.length>0){let st=hq().thresholds(Cr).value($e=>$e.el)(Ft);n(23,Cn=Sq(st,($e,He)=>{$e.forEach(ln=>{n(14,me.features[ln.id].properties.binID=He,me)});let Ut=rr($e,ln=>{let wt=ln.RaRb?1:0;return ln.areasqkm*wt}),at=rr($e,ln=>{let wt=ln.RaRb?0:1;return ln.areasqkm*wt}),Ye=rr($e,ln=>{if(!ln.RaRb)return me.features[ln.id].properties.SectorCount*O}),Rt=ry($e,ln=>ln.el),gt=Is($e,ln=>ln.az),dt=ko($e,ln=>ln.SatGain),sn=10*Math.log10(ry($e,ln=>Math.pow(10,ln.SatGain/10)));return{x:Math.floor(($e.x0+$e.x1)/2),x0:$e.x0,x1:$e.x1,azExtents:gt,count:$e.length,meanangle:Rt,totalIMTBS:Ye,totalareasqkm:Ut,totalIMTareasqkm:at,maxRxGain:dt,meanRxGain:sn}})),n(7,N=rr(Cn,$e=>$e.totalareasqkm+$e.totalIMTareasqkm)),n(32,R=kr("2.3~s")(N))}if(t.$$.dirty[0]&8912900&&Cn!=null){let $e=24-3;n(20,Qt=Cn.map((He,Ut)=>({...He,urbandB_BS:10*Math.log10(He.totalareasqkm*yt.uScale+He.totalIMTBS*yt.NW*yt.TDD*Lt),suburbandB_BS:10*Math.log10(He.totalareasqkm*yt.suScale+He.totalIMTBS*yt.NW*yt.TDD*(1-Lt)),urbandB:10*Math.log10(He.totalareasqkm*yt.uScale+He.totalIMTBS*yt.NW*yt.TDD*Lt)+$e+He.meanRxGain,suburbandB:10*Math.log10(He.totalareasqkm*yt.suScale+He.totalIMTBS*yt.NW*yt.TDD*(1-Lt))+$e+He.meanRxGain,Factor:$e})))}if(t.$$.dirty[0]&2&&n(6,k=10*Math.log10(138e-25*l)+60+30),t.$$.dirty[0]&7340105){e:if(a!=null){if(Qt==null){n(21,vr=[{Env:"red",I:-200,Name:"Urban"},{Env:"grey",I:-200,Name:"SubUrban"},{Env:"total",I:-200,Name:"Total"}]);break e}let le=10*Math.log10(rr(S1(Qt,He=>isFinite(He.urbandB)),He=>Math.pow(10,(He.urbandB+_n(He.x).UrbanAg-Yn(He.x))/10))),st=10*Math.log10(rr(S1(Qt,He=>isFinite(He.suburbandB)),He=>Math.pow(10,(He.suburbandB+_n(He.x).SubUrbanAg-Yn(He.x))/10))),$e=10*Math.log10(rr([le,st],He=>Math.pow(10,He/10)));n(21,vr=[{Env:"red",I:le,Name:"Urban"},{Env:"grey",I:st,Name:"SubUrban"},{Env:"total",I:$e,Name:"Total"}]),n(22,Zn=vr.map(He=>He.I-k)),n(60,qr=Zn[2]),n(31,b=spe(qT(vr[0].I)+qT(vr[1].I)))}}if(t.$$.dirty[0]&32812|t.$$.dirty[1]&536870912&&v!=null&&(console.log("Auto Called 3"),nt()),t.$$.dirty[0]&68157440&&Qn!=null&&Qn.queueNode("stats",Qt),t.$$.dirty[0]&262144|t.$$.dirty[1]&134217728&&xe!=null&&(Fe=kr("2.1s")(a1(xe.features[0])/1e6)),t.$$.dirty[0]&524288&&(console.log("FOUND factor",yt),Hn("factor",yt,{type:"json"})),t.$$.dirty[0]&8914688&&Cn!=null&&(n(9,T=rr(Cn,le=>le.totalareasqkm)*yt.Urban.Ra*yt.Urban.Rb*yt.Urban.BSdensity+rr(Cn,le=>le.totalIMTBS)*Lt),n(10,M=rr(Cn,le=>le.totalareasqkm)*yt.SubUrban.Ra*yt.SubUrban.Rb*yt.SubUrban.BSdensity+rr(Cn,le=>le.totalIMTBS)*(1-Lt)),n(8,x=T+M),rr(Cn,le=>le.totalIMTBS),n(33,I=x*yt.NW*yt.TDD)),t.$$.dirty[0]&4|t.$$.dirty[1]&134217728&&xe!=null){if(xe.beamtype=="pointgrid"){let le=xe.features[1],st=Is(le.features,$e=>$e.properties.FSSRxGain);st[0]=Math.min(st[0],u),n(47,yn=hd(st,vg).nice().clamp(!0))}if(xe.beamtype=="shapedbeams"){let le=[xe.features[0].properties.FSSRxGain-5,xe.features[0].properties.FSSRxGain+3];n(47,yn=hd(le,vg).nice().clamp(!0))}}t.$$.dirty[0]&50331657&&yr!=null&&Ar!=null&&a!=null&&yr.showGainLoss(Ar,f),t.$$.dirty[0]&32768&&nt(),t.$$.dirty[0]&134221832&&ji()},setInterval(()=>{n(54,G=new Date)},1e3);{let le=100,st=0;LQ([{x:0,y:1},{x:1,y:4},{x:2,y:2},{x:3,y:5},{x:4,y:6},{x:5,y:45}],{x:"x"})}return[a,l,u,f,p,v,k,N,x,T,M,O,z,J,me,Me,Ie,ve,Ge,yt,Qt,vr,Zn,Cn,yr,Ar,Qn,Nn,s,m,g,b,R,I,P,$,ee,se,Y,re,ye,Ce,Ae,Ue,Re,cr,_r,yn,ot,Xr,ni,Rr,pe,vn,G,ie,ae,he,xe,Ft,qr,Cr,r,_i,Pr,tt,Di,Wr,Ln,us,Bs,Nr,Un,Ki,fr,ri,hr,Bi,er,vi,Xn,Qe,ct,bn,lt,$r,ca,zs,Tl,eo,Fs,tn,dn,Ji,Us,zi,to,Ct,An,no,ro,dr,kl,cs,fs,Wn,Qi]}class ope extends Mu{constructor(e){super(),Eu(this,e,ape,rpe,Za,{},null,[-1,-1,-1,-1,-1])}}function lpe(t){return console.log("Rendering called",t),t==null?void 0:new ope({target:t})}lpe(document.getElementById("app"));
