(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xe(){}function t6(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function l1(e){return e()}function Q0(){return Object.create(null)}function lo(e){e.forEach(l1)}function f1(e){return typeof e=="function"}function d1(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function n6(e){return Object.keys(e).length===0}function r6(e,...t){if(e==null)return xe;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ep(e,t,n){e.$$.on_destroy.push(r6(t,n))}function E(e,t){e.appendChild(t)}function _n(e,t,n){e.insertBefore(t,n||null)}function At(e){e.parentNode&&e.parentNode.removeChild(e)}function kl(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function Z(e){return document.createTextNode(e)}function W(){return Z(" ")}function i6(){return Z("")}function He(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $r(e){return e===""?null:+e}function o6(e){return Array.from(e.childNodes)}function De(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function cn(e,t){e.value=t??""}function tp(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ti(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Il(e){const t=e.querySelector(":checked");return t&&t.__value}let Ps;function a6(){if(Ps===void 0){Ps=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Ps=!0}}return Ps}function np(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=L("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=a6();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=He(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=He(r.contentWindow,"resize",t),t()}),E(e,r),()=>{(i||o&&r.contentWindow)&&o(),At(r)}}let la;function Fn(e){la=e}function s6(){if(!la)throw new Error("Function called outside component initialization");return la}const Pi=[],mc=[];let Ui=[];const rp=[],c6=Promise.resolve();let kf=!1;function u6(){kf||(kf=!0,c6.then(Ld))}function ur(e){Ui.push(e)}const Al=new Set;let Si=0;function Ld(){if(Si!==0)return;const e=la;do{try{for(;Si<Pi.length;){const t=Pi[Si];Si++,Fn(t),l6(t.$$)}}catch(t){throw Pi.length=0,Si=0,t}for(Fn(null),Pi.length=0,Si=0;mc.length;)mc.pop()();for(let t=0;t<Ui.length;t+=1){const n=Ui[t];Al.has(n)||(Al.add(n),n())}Ui.length=0}while(Pi.length);for(;rp.length;)rp.pop()();kf=!1,Al.clear(),Fn(e)}function l6(e){if(e.fragment!==null){e.update(),lo(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ur)}}function f6(e){const t=[],n=[];Ui.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ui=t}const oc=new Set;let Ur;function d6(){Ur={r:0,c:[],p:Ur}}function h6(){Ur.r||lo(Ur.c),Ur=Ur.p}function h1(e,t){e&&e.i&&(oc.delete(e),e.i(t))}function p6(e,t,n,r){if(e&&e.o){if(oc.has(e))return;oc.add(e),Ur.c.push(()=>{oc.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Os(e,t){const n=t.token={};function r(i,o,a,s){if(t.token!==n)return;t.resolved=s;let c=t.ctx;a!==void 0&&(c=c.slice(),c[a]=s);const u=i&&(t.current=i)(c);let l=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==o&&f&&(d6(),p6(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),h6())}):t.block.d(1),u.c(),h1(u,1),u.m(t.mount(),t.anchor),l=!0),t.block=u,t.blocks&&(t.blocks[o]=u),l&&Ld()}if(t6(e)){const i=s6();if(e.then(o=>{Fn(i),r(t.then,1,t.value,o),Fn(null)},o=>{if(Fn(i),r(t.catch,2,t.error,o),Fn(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function ip(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}const g6=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m6(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||ur(()=>{const a=e.$$.on_mount.map(l1).filter(f1);e.$$.on_destroy?e.$$.on_destroy.push(...a):lo(a),e.$$.on_mount=[]}),o.forEach(ur)}function b6(e,t){const n=e.$$;n.fragment!==null&&(f6(n.after_update),lo(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function y6(e,t){e.$$.dirty[0]===-1&&(Pi.push(e),u6(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _6(e,t,n,r,i,o,a,s=[-1]){const c=la;Fn(e);const u=e.$$={fragment:null,ctx:[],props:o,update:xe,not_equal:i,bound:Q0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Q0(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(u.root);let l=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...h)=>{const p=h.length?h[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),l&&y6(e,f)),d}):[],u.update(),l=!0,lo(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=o6(t.target);u.fragment&&u.fragment.l(f),f.forEach(At)}else u.fragment&&u.fragment.c();t.intro&&h1(e.$$.fragment),m6(e,t.target,t.anchor,t.customElement),Ld()}Fn(c)}class v6{$destroy(){b6(this,1),this.$destroy=xe}$on(t,n){if(!f1(n))return xe;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!n6(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function bc(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:n}):(i=r.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function p1(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function g1(e){return e===(e|0)+""}function hn(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const w6=Symbol.prototype.toString;function fo(e){return w6.call(e)}const{getOwnPropertySymbols:x6,prototype:{hasOwnProperty:E6}}=Object,{toStringTag:T6}=Symbol,m1={},Oa=x6;function gu(e,t){return E6.call(e,t)}function If(e){return e[T6]||e.constructor&&e.constructor.name||"Object"}function Wt(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return m1}}const S6=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function b1(e){try{let t=S6.filter(({symbol:a})=>e[a]===!0);if(!t.length)return;const n=t.find(a=>!a.modifier),r=n.name==="Map"&&t.find(a=>a.modifier&&a.prefix),i=t.some(a=>a.arrayish),o=t.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!o,setish:o}}catch{return null}}const{getPrototypeOf:$d,getOwnPropertyDescriptors:M6}=Object,y1=$d({});function _1(e,t,n,r){let i=p1(e),o,a,s,c;e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=k6):(o="Map()",a=na):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=I6):(o="Set()",a=na):i?(o=`${e.constructor.name}(${e.length})`,a=C6):(c=b1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?R6:c.setish?A6:P6):r?(o=If(e),a=N6):(o=If(e),a=na);const u=document.createElement("span");u.className="observablehq--expanded",n&&u.appendChild(hn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),l.addEventListener("mouseup",function(f){f.stopPropagation(),_c(u,Ud(e,null,n,r))}),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)u.appendChild(s.value);if(!s.done){const f=u.appendChild(document.createElement("a"));f.className="observablehq--field",f.style.display="block",f.appendChild(document.createTextNode("  … more")),f.addEventListener("mouseup",function(d){d.stopPropagation(),u.insertBefore(s.value,u.lastChild.previousSibling);for(let h=0;!(s=a.next()).done&&h<19;++h)u.insertBefore(s.value,u.lastChild.previousSibling);s.done&&u.removeChild(u.lastChild.previousSibling),bc(u,"load")})}return u.appendChild(document.createTextNode(i?"]":"}")),u}function*k6(e){for(const[t,n]of e)yield O6(t,n);yield*na(e)}function*I6(e){for(const t of e)yield w1(t);yield*na(e)}function*A6(e){for(const t of e)yield w1(t)}function*C6(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield Vn(t,Wt(e,t),"observablehq--index"));for(const t in e)!g1(t)&&gu(e,t)&&(yield Vn(t,Wt(e,t),"observablehq--key"));for(const t of Oa(e))yield Vn(fo(t),Wt(e,t),"observablehq--symbol")}function*R6(e){let t=0;for(const n=e.size;t<n;++t)yield Vn(t,e.get(t),!0)}function*N6(e){for(const n in M6(e))yield Vn(n,Wt(e,n),"observablehq--key");for(const n of Oa(e))yield Vn(fo(n),Wt(e,n),"observablehq--symbol");const t=$d(e);t&&t!==y1&&(yield v1(t))}function*na(e){for(const n in e)gu(e,n)&&(yield Vn(n,Wt(e,n),"observablehq--key"));for(const n of Oa(e))yield Vn(fo(n),Wt(e,n),"observablehq--symbol");const t=$d(e);t&&t!==y1&&(yield v1(t))}function*P6(e){for(const[t,n]of e)yield Vn(t,n,"observablehq--key")}function v1(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(Tt(e,void 0,void 0,void 0,!0)),t}function Vn(e,t,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(Tt(t)),r}function O6(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(Tt(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Tt(t)),n}function w1(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(Tt(e)),t}function op(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function Ud(e,t,n,r){let i=p1(e),o,a,s,c;if(e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=D6):(o="Map()",a=ra):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=L6):(o="Set()",a=ra):i?(o=`${e.constructor.name}(${e.length})`,a=F6):(c=b1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?U6:c.setish?$6:B6):(o=If(e),a=ra),t){const f=document.createElement("span");return f.className="observablehq--shallow",n&&f.appendChild(hn(n)),f.appendChild(document.createTextNode(o)),f.addEventListener("mouseup",function(d){op(f)||(d.stopPropagation(),_c(f,Ud(e)))}),f}const u=document.createElement("span");u.className="observablehq--collapsed",n&&u.appendChild(hn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),u.addEventListener("mouseup",function(f){op(u)||(f.stopPropagation(),_c(u,_1(e,null,n,r)))},!0),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)f>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(s.value);return s.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(i?"]":"}")),u}function*D6(e){for(const[t,n]of e)yield q6(t,n);yield*ra(e)}function*L6(e){for(const t of e)yield Tt(t,!0);yield*ra(e)}function*$6(e){for(const t of e)yield Tt(t,!0)}function*U6(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield yc(n-t-1)),yield Tt(e.get(n),!0),t=n;n>t+1&&(yield yc(n-t-1))}function*F6(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield yc(n-t-1)),yield Tt(Wt(e,n),!0),t=n);n>t+1&&(yield yc(n-t-1));for(const r in e)!g1(r)&&gu(e,r)&&(yield fa(r,Wt(e,r),"observablehq--key"));for(const r of Oa(e))yield fa(fo(r),Wt(e,r),"observablehq--symbol")}function*ra(e){for(const t in e)gu(e,t)&&(yield fa(t,Wt(e,t),"observablehq--key"));for(const t of Oa(e))yield fa(fo(t),Wt(e,t),"observablehq--symbol")}function*B6(e){for(const[t,n]of e)yield fa(t,n,"observablehq--key")}function yc(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function fa(e,t,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(Tt(t,!0)),r}function q6(e,t){const n=document.createDocumentFragment();return n.appendChild(Tt(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Tt(t,!0)),n}function x1(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${H6(e.getUTCFullYear())}-${Un(e.getUTCMonth()+1,2)}-${Un(e.getUTCDate(),2)}${n||r||i||o?`T${Un(n,2)}:${Un(r,2)}${i||o?`:${Un(i,2)}${o?`.${Un(o,3)}`:""}`:""}Z`:""}`}function H6(e){return e<0?`-${Un(-e,6)}`:e>9999?`+${Un(e,6)}`:Un(e,4)}function Un(e,t){return`${e}`.padStart(t,"0")}const z6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function E1(e,t){return z6.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function W6(e){return x1(e,"Invalid Date")}var G6=Error.prototype.toString;function V6(e){return e.stack||G6.call(e)}var Y6=RegExp.prototype.toString;function X6(e){return Y6.call(e)}const Cl=20;function j6(e,t,n,r){if(t===!1){if(sp(e,/["\n]/g)<=sp(e,/`|\${/g)){const u=document.createElement("span");r&&u.appendChild(hn(r));const l=u.appendChild(document.createElement("span"));return l.className="observablehq--string",l.textContent=JSON.stringify(e),u}const a=e.split(`
`);if(a.length>Cl&&!n){const u=document.createElement("div");r&&u.appendChild(hn(r));const l=u.appendChild(document.createElement("span"));l.className="observablehq--string",l.textContent="`"+ap(a.slice(0,Cl).join(`
`));const f=u.appendChild(document.createElement("span")),d=a.length-Cl;return f.textContent=`Show ${d} truncated line${d>1?"s":""}`,f.className="observablehq--string-expand",f.addEventListener("mouseup",function(h){h.stopPropagation(),_c(u,Tt(e,t,!0,r))}),u}const s=document.createElement("span");r&&s.appendChild(hn(r));const c=s.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+ap(e)+"`",s}const i=document.createElement("span");r&&i.appendChild(hn(r));const o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),i}function ap(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,K6)}function K6(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function sp(e,t){for(var n=0;t.exec(e);)++n;return n}var J6=Function.prototype.toString,Z6={prefix:"async ƒ"},Q6={prefix:"async ƒ*"},cp={prefix:"class"},e3={prefix:"ƒ"},t3={prefix:"ƒ*"};function n3(e,t){var n,r,i=J6.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=Z6;break;case"AsyncGeneratorFunction":n=Q6;break;case"GeneratorFunction":n=t3;break;default:n=/^class\b/.test(i)?cp:e3;break}return n===cp?Po(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?Po(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Po(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Po(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):Po(n,"(…)",t)}function Po(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(hn(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:r3}}=Object;function Tt(e,t,n,r,i){let o=typeof e;switch(o){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=fo(e);break}case"function":return n3(e,r);case"string":return j6(e,t,n,r);default:{if(e===null){o=null,e="null";break}if(e instanceof Date){o="date",e=W6(e);break}if(e===m1){o="forbidden",e="[forbidden]";break}switch(r3.call(e)){case"[object RegExp]":{o="regexp",e=X6(e);break}case"[object Error]":case"[object DOMException]":{o="error",e=V6(e);break}default:return(n?_1:Ud)(e,t,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(hn(r));const s=a.appendChild(document.createElement("span"));return s.className=`observablehq--${o}`,s.textContent=e,a}function _c(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),bc(t,"load")}const i3=/\s+\(\d+:\d+\)$/m;class Af{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!o3(t)||t.parentNode&&t.parentNode!==r)&&(t=Tt(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);bc(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(hn(n)),i.appendChild(document.createTextNode((t+"").replace(i3,""))),r.appendChild(i),bc(r,"error",{error:t})}}Af.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new Af(e.appendChild(document.createElement("div")))}};function o3(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function et(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ho(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fd(e){let t,n,r;e.length!==2?(t=et,n=(s,c)=>et(e(s),c),r=(s,c)=>e(s)-c):(t=e===et||e===ho?e:a3,n=e,r=e);function i(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<0?u=f+1:l=f}while(u<l)}return u}function o(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function a(s,c,u=0,l=s.length){const f=i(s,c,u,l-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function a3(){return 0}function T1(e){return e===null?NaN:+e}function*s3(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const c3=Fd(et),u3=c3.right;Fd(T1).center;const Da=u3;function Bd(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function l3(e){return e.length|0}function f3(e){return!(e>0)}function d3(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function h3(e){return t=>e(...t)}function p3(...e){const t=typeof e[e.length-1]=="function"&&h3(e.pop());e=e.map(d3);const n=e.map(l3),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(f3))return o;for(;;){o.push(i.map((s,c)=>e[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function g3(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function S1(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function M1(e,t){const n=S1(e,t);return n&&Math.sqrt(n)}function ze(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class yr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Gi extends Map{constructor(t,n=C1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Cf(this,t))}has(t){return super.has(Cf(this,t))}set(t,n){return super.set(I1(this,t),n)}delete(t){return super.delete(A1(this,t))}}class k1 extends Set{constructor(t,n=C1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Cf(this,t))}add(t){return super.add(I1(this,t))}delete(t){return super.delete(A1(this,t))}}function Cf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function I1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function A1({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function C1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vc(e){return e}function mu(e,...t){return R1(e,vc,vc,t)}function qr(e,t,...n){return R1(e,vc,t,n)}function R1(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Gi,c=r[a++];let u=-1;for(const l of o){const f=c(l,++u,o),d=s.get(f);d?d.push(l):s.set(f,[l])}for(const[l,f]of s)s.set(l,i(f,a));return t(s)}(e,0)}function m3(e,t){return Array.from(t,n=>e[n])}function Vi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=wc(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>wc(n[i],n[o]))),m3(e,r)}return e.sort(N1(n))}function N1(e=et){if(e===et)return wc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function wc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function qd(e,t,n){return(t.length!==2?Vi(qr(e,t,n),([r,i],[o,a])=>et(i,a)||et(r,o)):Vi(mu(e,n),([r,i],[o,a])=>t(i,a)||et(r,o))).map(([r])=>r)}var b3=Array.prototype,y3=b3.slice;function Rl(e){return()=>e}const _3=Math.sqrt(50),v3=Math.sqrt(10),w3=Math.sqrt(2);function xc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=_3?10:o>=v3?5:o>=w3?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?xc(e,t,n*2):[s,c,u]}function Yi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?xc(t,e,n):xc(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Yr(e,t,n){return t=+t,e=+e,n=+n,xc(e,t,n)[2]}function Rf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Yr(t,e,n):Yr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function x3(e,t,n){let r;for(;;){const i=Yr(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function P1(e){return Math.ceil(Math.log(Bd(e))/Math.LN2)+1}function E3(){var e=vc,t=ze,n=P1;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=e(i[o],o,i);var l=t(u),f=l[0],d=l[1],h=n(u,f,d);if(!Array.isArray(h)){const g=d,y=+h;if(t===ze&&([f,d]=x3(f,d,y)),h=Yi(f,d,y),h[0]<=f&&(c=Yr(f,d,y)),h[h.length-1]>=d)if(g>=d&&t===ze){const w=Yr(f,d,y);isFinite(w)&&(w>0?d=(Math.floor(d/w)+1)*w:w<0&&(d=(Math.ceil(d*-w)+1)/-w))}else h.pop()}for(var p=h.length,b=0,_=p;h[b]<=f;)++b;for(;h[_-1]>d;)--_;(b||_<p)&&(h=h.slice(b,_),p=_-b);var v=new Array(p+1),m;for(o=0;o<=p;++o)m=v[o]=[],m.x0=o>0?h[o-1]:f,m.x1=o<p?h[o]:d;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&v[Math.min(p,Math.floor((s-f)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&f<=s&&s<=d){const g=Math.floor((f-s)*c);v[Math.min(p,g+(h[g]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&v[Da(h,s,0,p)].push(i[o]);return v}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:Rl(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Rl([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Rl(Array.isArray(i)?y3.call(i):i),r):n},r}function Zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function T3(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Yn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function S3(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function O1(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?wc:N1(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,l=Math.log(c),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+d)),p=Math.min(r,Math.floor(t+(c-u)*f/c+d));O1(e,t,h,p,i)}const o=e[t];let a=n,s=r;for(Oo(e,n,t),i(e[r],o)>0&&Oo(e,n,r);a<s;){for(Oo(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Oo(e,n,s):(++s,Oo(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Oo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function D1(e,t=et){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?et(a,i)>0:et(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Xi(e,t,n){if(e=Float64Array.from(s3(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Yn(e);if(t>=1)return Zt(e);var r,i=(r-1)*t,o=Math.floor(i),a=Zt(O1(e,o).subarray(0,o+1)),s=Yn(e.subarray(o+1));return a+(s-a)*(i-o)}}function M3(e,t,n=T1){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function k3(e,t,n){return Math.ceil((n-t)/(2*(Xi(e,.75)-Xi(e,.25))*Math.pow(Bd(e),-1/3)))}function L1(e,t,n){return Math.ceil((n-t)*Math.cbrt(Bd(e))/(3.49*M1(e)))}function Wo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function lr(e,t){return Xi(e,.5,t)}function*I3(e){for(const t of e)yield*t}function $1(e){return Array.from(I3(e))}function A3(e,t){const n=new Gi;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function jt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function wt(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Nl(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function C3(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function Ec(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function R3(e){return e}var Pl=1,Ol=2,Nf=3,Ds=4,up=1e-6;function N3(e){return"translate("+e+",0)"}function P3(e){return"translate(0,"+e+")"}function O3(e){return t=>+e(t)}function D3(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function L3(){return!this.__axis}function $3(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Pl||e===Ds?-1:1,l=e===Ds||e===Ol?"x":"y",f=e===Pl||e===Nf?N3:P3;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,n):R3),_=Math.max(o,0)+s,v=t.range(),m=+v[0]+c,g=+v[v.length-1]+c,y=(t.bandwidth?D3:O3)(t.copy(),c),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),T=w.selectAll(".tick").data(p,t).order(),A=T.exit(),R=T.enter().append("g").attr("class","tick"),D=T.select("line"),k=T.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(R),D=D.merge(R.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),k=k.merge(R.append("text").attr("fill","currentColor").attr(l,u*_).attr("dy",e===Pl?"0em":e===Nf?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),T=T.transition(h),D=D.transition(h),k=k.transition(h),A=A.transition(h).attr("opacity",up).attr("transform",function($){return isFinite($=y($))?f($+c):this.getAttribute("transform")}),R.attr("opacity",up).attr("transform",function($){var M=this.parentNode.__axis;return f((M&&isFinite(M=M($))?M:y($))+c)})),A.remove(),x.attr("d",e===Ds||e===Ol?a?"M"+u*a+","+m+"H"+c+"V"+g+"H"+u*a:"M"+c+","+m+"V"+g:a?"M"+m+","+u*a+"V"+c+"H"+g+"V"+u*a:"M"+m+","+c+"H"+g),T.attr("opacity",1).attr("transform",function($){return f(y($)+c)}),D.attr(l+"2",u*o),k.attr(l,u*_).text(b),w.filter(L3).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ol?"start":e===Ds?"end":"middle"),w.each(function(){this.__axis=y})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function U3(e){return $3(Nf,e)}var F3={value:()=>{}};function U1(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ac(n)}function ac(e){this._=e}function B3(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ac.prototype=U1.prototype={constructor:ac,on:function(e,t){var n=this._,r=B3(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=q3(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=lp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=lp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ac(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function q3(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function lp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=F3,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Pf="http://www.w3.org/1999/xhtml";const ji={svg:"http://www.w3.org/2000/svg",xhtml:Pf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ji.hasOwnProperty(t)?{space:ji[t],local:e}:e}function H3(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pf&&t.documentElement.namespaceURI===Pf?t.createElement(e):t.createElementNS(n,e)}}function z3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hd(e){var t=bu(e);return(t.local?z3:H3)(t)}function W3(){}function zd(e){return e==null?W3:function(){return this.querySelector(e)}}function G3(e){typeof e!="function"&&(e=zd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,u,l=0;l<a;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new Ct(r,this._parents)}function V3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y3(){return[]}function F1(e){return e==null?Y3:function(){return this.querySelectorAll(e)}}function X3(e){return function(){return V3(e.apply(this,arguments))}}function j3(e){typeof e=="function"?e=X3(e):e=F1(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),i.push(c));return new Ct(r,i)}function B1(e){return function(){return this.matches(e)}}function q1(e){return function(t){return t.matches(e)}}var K3=Array.prototype.find;function J3(e){return function(){return K3.call(this.children,e)}}function Z3(){return this.firstElementChild}function Q3(e){return this.select(e==null?Z3:J3(typeof e=="function"?e:q1(e)))}var ex=Array.prototype.filter;function tx(){return Array.from(this.children)}function nx(e){return function(){return ex.call(this.children,e)}}function rx(e){return this.selectAll(e==null?tx:nx(typeof e=="function"?e:q1(e)))}function ix(e){typeof e!="function"&&(e=B1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new Ct(r,this._parents)}function H1(e){return new Array(e.length)}function ox(){return new Ct(this._enter||this._groups.map(H1),this._parents)}function Tc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tc.prototype={constructor:Tc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ax(e){return function(){return e}}function sx(e,t,n,r,i,o){for(var a=0,s,c=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Tc(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function cx(e,t,n,r,i,o,a){var s,c,u=new Map,l=t.length,f=o.length,d=new Array(l),h;for(s=0;s<l;++s)(c=t[s])&&(d[s]=h=a.call(c,c.__data__,s,t)+"",u.has(h)?i[s]=c:u.set(h,c));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(c=u.get(h))?(r[s]=c,c.__data__=o[s],u.delete(h)):n[s]=new Tc(e,o[s]);for(s=0;s<l;++s)(c=t[s])&&u.get(d[s])===c&&(i[s]=c)}function ux(e){return e.__data__}function lx(e,t){if(!arguments.length)return Array.from(this,ux);var n=t?cx:sx,r=this._parents,i=this._groups;typeof e!="function"&&(e=ax(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],d=f.length,h=fx(e.call(l,l&&l.__data__,u,r)),p=h.length,b=s[u]=new Array(p),_=a[u]=new Array(p),v=c[u]=new Array(d);n(l,f,b,_,v,h,t);for(var m=0,g=0,y,w;m<p;++m)if(y=b[m]){for(m>=g&&(g=m+1);!(w=_[g])&&++g<p;);y._next=w||null}}return a=new Ct(a,r),a._enter=s,a._exit=c,a}function fx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dx(){return new Ct(this._exit||this._groups.map(H1),this._parents)}function hx(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function px(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],l=r[c],f=u.length,d=s[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||l[p])&&(d[p]=h);for(;c<i;++c)s[c]=n[c];return new Ct(s,this._parents)}function gx(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function mx(e){e||(e=bx);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(t)}return new Ct(i,this._parents).order()}function bx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _x(){return Array.from(this)}function vx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function wx(){let e=0;for(const t of this)++e;return e}function xx(){return!this.node()}function Ex(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Tx(e){return function(){this.removeAttribute(e)}}function Sx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mx(e,t){return function(){this.setAttribute(e,t)}}function kx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ix(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ax(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Cx(e,t){var n=bu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Sx:Tx:typeof t=="function"?n.local?Ax:Ix:n.local?kx:Mx)(n,t))}function z1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rx(e){return function(){this.style.removeProperty(e)}}function Nx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Px(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ox(e,t,n){return arguments.length>1?this.each((t==null?Rx:typeof t=="function"?Px:Nx)(e,t,n??"")):Ki(this.node(),e)}function Ki(e,t){return e.style.getPropertyValue(t)||z1(e).getComputedStyle(e,null).getPropertyValue(t)}function Dx(e){return function(){delete this[e]}}function Lx(e,t){return function(){this[e]=t}}function $x(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ux(e,t){return arguments.length>1?this.each((t==null?Dx:typeof t=="function"?$x:Lx)(e,t)):this.node()[e]}function W1(e){return e.trim().split(/^|\s+/)}function Wd(e){return e.classList||new G1(e)}function G1(e){this._node=e,this._names=W1(e.getAttribute("class")||"")}G1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function V1(e,t){for(var n=Wd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Y1(e,t){for(var n=Wd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fx(e){return function(){V1(this,e)}}function Bx(e){return function(){Y1(this,e)}}function qx(e,t){return function(){(t.apply(this,arguments)?V1:Y1)(this,e)}}function Hx(e,t){var n=W1(e+"");if(arguments.length<2){for(var r=Wd(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?qx:t?Fx:Bx)(n,t))}function zx(){this.textContent=""}function Wx(e){return function(){this.textContent=e}}function Gx(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vx(e){return arguments.length?this.each(e==null?zx:(typeof e=="function"?Gx:Wx)(e)):this.node().textContent}function Yx(){this.innerHTML=""}function Xx(e){return function(){this.innerHTML=e}}function jx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Kx(e){return arguments.length?this.each(e==null?Yx:(typeof e=="function"?jx:Xx)(e)):this.node().innerHTML}function Jx(){this.nextSibling&&this.parentNode.appendChild(this)}function Zx(){return this.each(Jx)}function Qx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function e8(){return this.each(Qx)}function t8(e){var t=typeof e=="function"?e:Hd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function n8(){return null}function r8(e,t){var n=typeof e=="function"?e:Hd(e),r=t==null?n8:typeof t=="function"?t:zd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function i8(){var e=this.parentNode;e&&e.removeChild(this)}function o8(){return this.each(i8)}function a8(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function s8(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c8(e){return this.select(e?s8:a8)}function u8(e){return arguments.length?this.property("__data__",e):this.node().__data__}function l8(e){return function(t){e.call(this,t,this.__data__)}}function f8(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function d8(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function h8(e,t,n){return function(){var r=this.__on,i,o=l8(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function p8(e,t,n){var r=f8(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?h8:d8,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function X1(e,t,n){var r=z1(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function g8(e,t){return function(){return X1(this,e,t)}}function m8(e,t){return function(){return X1(this,e,t.apply(this,arguments))}}function b8(e,t){return this.each((typeof t=="function"?m8:g8)(e,t))}function*y8(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var j1=[null];function Ct(e,t){this._groups=e,this._parents=t}function La(){return new Ct([[document.documentElement]],j1)}function _8(){return this}Ct.prototype=La.prototype={constructor:Ct,select:G3,selectAll:j3,selectChild:Q3,selectChildren:rx,filter:ix,data:lx,enter:ox,exit:dx,join:hx,merge:px,selection:_8,order:gx,sort:mx,call:yx,nodes:_x,node:vx,size:wx,empty:xx,each:Ex,attr:Cx,style:Ox,property:Ux,classed:Hx,text:Vx,html:Kx,raise:Zx,lower:e8,append:t8,insert:r8,remove:o8,clone:c8,datum:u8,on:p8,dispatch:b8,[Symbol.iterator]:y8};function da(e){return typeof e=="string"?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],j1)}function po(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $a(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Er(){}var Xr=.7,Ji=1/Xr,Fi="\\s*([+-]?\\d+)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v8=/^#([0-9a-f]{3,8})$/,w8=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),x8=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),E8=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${ha}\\)$`),T8=new RegExp(`^rgba\\(${gn},${gn},${gn},${ha}\\)$`),S8=new RegExp(`^hsl\\(${ha},${gn},${gn}\\)$`),M8=new RegExp(`^hsla\\(${ha},${gn},${gn},${ha}\\)$`),fp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};po(Er,_r,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dp,formatHex:dp,formatHex8:k8,formatHsl:I8,formatRgb:hp,toString:hp});function dp(){return this.rgb().formatHex()}function k8(){return this.rgb().formatHex8()}function I8(){return K1(this).formatHsl()}function hp(){return this.rgb().formatRgb()}function _r(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pp(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ls(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ls(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w8.exec(e))?new Ge(t[1],t[2],t[3],1):(t=x8.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E8.exec(e))?Ls(t[1],t[2],t[3],t[4]):(t=T8.exec(e))?Ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S8.exec(e))?bp(t[1],t[2]/100,t[3]/100,1):(t=M8.exec(e))?bp(t[1],t[2]/100,t[3]/100,t[4]):fp.hasOwnProperty(e)?pp(fp[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function pp(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function Ls(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ge(e,t,n,r)}function Gd(e){return e instanceof Er||(e=_r(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function vr(e,t,n,r){return arguments.length===1?Gd(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}po(Ge,vr,$a(Er,{brighter(e){return e=e==null?Ji:Math.pow(Ji,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xr:Math.pow(Xr,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge(Hr(this.r),Hr(this.g),Hr(this.b),Sc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gp,formatHex:gp,formatHex8:A8,formatRgb:mp,toString:mp}));function gp(){return`#${Fr(this.r)}${Fr(this.g)}${Fr(this.b)}`}function A8(){return`#${Fr(this.r)}${Fr(this.g)}${Fr(this.b)}${Fr((isNaN(this.opacity)?1:this.opacity)*255)}`}function mp(){const e=Sc(this.opacity);return`${e===1?"rgb(":"rgba("}${Hr(this.r)}, ${Hr(this.g)}, ${Hr(this.b)}${e===1?")":`, ${e})`}`}function Sc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fr(e){return e=Hr(e),(e<16?"0":"")+e.toString(16)}function bp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yt(e,t,n,r)}function K1(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof Er||(e=_r(e)),!e)return new Yt;if(e instanceof Yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Yt(a,s,c,e.opacity)}function Of(e,t,n,r){return arguments.length===1?K1(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}po(Yt,Of,$a(Er,{brighter(e){return e=e==null?Ji:Math.pow(Ji,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xr:Math.pow(Xr,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ge(Dl(e>=240?e-240:e+120,i,r),Dl(e,i,r),Dl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yt(yp(this.h),$s(this.s),$s(this.l),Sc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sc(this.opacity);return`${e===1?"hsl(":"hsla("}${yp(this.h)}, ${$s(this.s)*100}%, ${$s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yp(e){return e=(e||0)%360,e<0?e+360:e}function $s(e){return Math.max(0,Math.min(1,e||0))}function Dl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const J1=Math.PI/180,Z1=180/Math.PI,Mc=18,Q1=.96422,eb=1,tb=.82521,nb=4/29,Bi=6/29,rb=3*Bi*Bi,C8=Bi*Bi*Bi;function ib(e){if(e instanceof mn)return new mn(e.l,e.a,e.b,e.opacity);if(e instanceof Bn)return ob(e);e instanceof Ge||(e=Gd(e));var t=Fl(e.r),n=Fl(e.g),r=Fl(e.b),i=Ll((.2225045*t+.7168786*n+.0606169*r)/eb),o,a;return t===n&&n===r?o=a=i:(o=Ll((.4360747*t+.3850649*n+.1430804*r)/Q1),a=Ll((.0139322*t+.0971045*n+.7141733*r)/tb)),new mn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Df(e,t,n,r){return arguments.length===1?ib(e):new mn(e,t,n,r??1)}function mn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}po(mn,Df,$a(Er,{brighter(e){return new mn(this.l+Mc*(e??1),this.a,this.b,this.opacity)},darker(e){return new mn(this.l-Mc*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Q1*$l(t),e=eb*$l(e),n=tb*$l(n),new Ge(Ul(3.1338561*t-1.6168667*e-.4906146*n),Ul(-.9787684*t+1.9161415*e+.033454*n),Ul(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Ll(e){return e>C8?Math.pow(e,1/3):e/rb+nb}function $l(e){return e>Bi?e*e*e:rb*(e-nb)}function Ul(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Fl(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function R8(e){if(e instanceof Bn)return new Bn(e.h,e.c,e.l,e.opacity);if(e instanceof mn||(e=ib(e)),e.a===0&&e.b===0)return new Bn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Z1;return new Bn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Lf(e,t,n,r){return arguments.length===1?R8(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ob(e){if(isNaN(e.h))return new mn(e.l,0,0,e.opacity);var t=e.h*J1;return new mn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}po(Bn,Lf,$a(Er,{brighter(e){return new Bn(this.h,this.c,this.l+Mc*(e??1),this.opacity)},darker(e){return new Bn(this.h,this.c,this.l-Mc*(e??1),this.opacity)},rgb(){return ob(this).rgb()}}));var ab=-.14861,Vd=1.78277,Yd=-.29227,yu=-.90649,pa=1.97294,_p=pa*yu,vp=pa*Vd,wp=Vd*Yd-yu*ab;function N8(e){if(e instanceof zr)return new zr(e.h,e.s,e.l,e.opacity);e instanceof Ge||(e=Gd(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(wp*r+_p*t-vp*n)/(wp+_p-vp),o=r-i,a=(pa*(n-i)-Yd*o)/yu,s=Math.sqrt(a*a+o*o)/(pa*i*(1-i)),c=s?Math.atan2(a,o)*Z1-120:NaN;return new zr(c<0?c+360:c,s,i,e.opacity)}function vn(e,t,n,r){return arguments.length===1?N8(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}po(zr,vn,$a(Er,{brighter(e){return e=e==null?Ji:Math.pow(Ji,e),new zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xr:Math.pow(Xr,e),new zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*J1,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ge(255*(t+n*(ab*r+Vd*i)),255*(t+n*(Yd*r+yu*i)),255*(t+n*(pa*r)),this.opacity)}}));function P8(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function O8(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return P8((n-r/t)*t,a,i,o,s)}}const _u=e=>()=>e;function sb(e,t){return function(n){return e+n*t}}function D8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Xd(e,t){var n=t-e;return n?sb(e,n>180||n<-180?n-360*Math.round(n/360):n):_u(isNaN(e)?t:e)}function L8(e){return(e=+e)==1?it:function(t,n){return n-t?D8(t,n,e):_u(isNaN(t)?n:t)}}function it(e,t){var n=t-e;return n?sb(e,n):_u(isNaN(e)?t:e)}const jr=function e(t){var n=L8(t);function r(i,o){var a=n((i=vr(i)).r,(o=vr(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=it(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function $8(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=vr(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var U8=$8(O8);function F8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function B8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=go(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function H8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function z8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=go(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $f=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bl=new RegExp($f.source,"g");function W8(e){return function(){return e}}function G8(e){return function(t){return e(t)+""}}function cb(e,t){var n=$f.lastIndex=Bl.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=$f.exec(e))&&(i=Bl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:rt(r,i)})),n=Bl.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?G8(c[0].x):W8(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)s[(f=c[l]).i]=f.x(u);return s.join("")})}function go(e,t){var n=typeof t,r;return t==null||n==="boolean"?_u(t):(n==="number"?rt:n==="string"?(r=_r(t))?(t=r,jr):cb:t instanceof _r?jr:t instanceof Date?H8:B8(t)?F8:Array.isArray(t)?q8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z8:rt)(e,t)}function vu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var xp=180/Math.PI,Uf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ub(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*xp,skewX:Math.atan(c)*xp,scaleX:a,scaleY:s}}var Us;function V8(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uf:ub(t.a,t.b,t.c,t.d,t.e,t.f)}function Y8(e){return e==null||(Us||(Us=document.createElementNS("http://www.w3.org/2000/svg","g")),Us.setAttribute("transform",e),!(e=Us.transform.baseVal.consolidate()))?Uf:(e=e.matrix,ub(e.a,e.b,e.c,e.d,e.e,e.f))}function lb(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,f,d,h,p){if(u!==f||l!==d){var b=h.push("translate(",null,t,null,n);p.push({i:b-4,x:rt(u,f)},{i:b-2,x:rt(l,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,l,f,d){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:rt(u,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(u,l,f,d){u!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:rt(u,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(u,l,f,d,h,p){if(u!==f||l!==d){var b=h.push(i(h)+"scale(",null,",",null,")");p.push({i:b-4,x:rt(u,f)},{i:b-2,x:rt(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,l){var f=[],d=[];return u=e(u),l=e(l),o(u.translateX,u.translateY,l.translateX,l.translateY,f,d),a(u.rotate,l.rotate,f,d),s(u.skewX,l.skewX,f,d),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,d),u=l=null,function(h){for(var p=-1,b=d.length,_;++p<b;)f[(_=d[p]).i]=_.x(h);return f.join("")}}}var X8=lb(V8,"px, ","px)","deg)"),j8=lb(Y8,", ",")",")");function K8(e){return function(t,n){var r=e((t=Of(t)).h,(n=Of(n)).h),i=it(t.s,n.s),o=it(t.l,n.l),a=it(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const J8=K8(Xd);function Z8(e,t){var n=it((e=Df(e)).l,(t=Df(t)).l),r=it(e.a,t.a),i=it(e.b,t.b),o=it(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function Q8(e){return function(t,n){var r=e((t=Lf(t)).h,(n=Lf(n)).h),i=it(t.c,n.c),o=it(t.l,n.l),a=it(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const e5=Q8(Xd);function fb(e){return function t(n){n=+n;function r(i,o){var a=e((i=vn(i)).h,(o=vn(o)).h),s=it(i.s,o.s),c=it(i.l,o.l),u=it(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=t,r}(1)}fb(Xd);var jd=fb(it);function Kd(e,t){t===void 0&&(t=e,e=go);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Qt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Zi=0,Go=0,Do=0,db=1e3,kc,Vo,Ic=0,Kr=0,wu=0,ga=typeof performance=="object"&&performance.now?performance:Date,hb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jd(){return Kr||(hb(t5),Kr=ga.now()+wu)}function t5(){Kr=0}function Ac(){this._call=this._time=this._next=null}Ac.prototype=pb.prototype={constructor:Ac,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Jd():+n)+(t==null?0:+t),!this._next&&Vo!==this&&(Vo?Vo._next=this:kc=this,Vo=this),this._call=e,this._time=n,Ff()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ff())}};function pb(e,t,n){var r=new Ac;return r.restart(e,t,n),r}function n5(){Jd(),++Zi;for(var e=kc,t;e;)(t=Kr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zi}function Ep(){Kr=(Ic=ga.now())+wu,Zi=Go=0;try{n5()}finally{Zi=0,i5(),Kr=0}}function r5(){var e=ga.now(),t=e-Ic;t>db&&(wu-=t,Ic=e)}function i5(){for(var e,t=kc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kc=n);Vo=e,Ff(r)}function Ff(e){if(!Zi){Go&&(Go=clearTimeout(Go));var t=e-Kr;t>24?(e<1/0&&(Go=setTimeout(Ep,e-ga.now()-wu)),Do&&(Do=clearInterval(Do))):(Do||(Ic=ga.now(),Do=setInterval(r5,db)),Zi=1,hb(Ep))}}function Tp(e,t,n){var r=new Ac;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var o5=U1("start","end","cancel","interrupt"),a5=[],gb=0,Sp=1,Bf=2,sc=3,Mp=4,qf=5,cc=6;function xu(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;s5(e,n,{name:t,index:r,group:i,on:o5,tween:a5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gb})}function Zd(e,t){var n=nn(e,t);if(n.state>gb)throw new Error("too late; already scheduled");return n}function Mn(e,t){var n=nn(e,t);if(n.state>sc)throw new Error("too late; already running");return n}function nn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function s5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=pb(o,0,n.time);function o(u){n.state=Sp,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var l,f,d,h;if(n.state!==Sp)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===sc)return Tp(a);h.state===Mp?(h.state=cc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=cc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(Tp(function(){n.state===sc&&(n.state=Mp,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Bf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bf){for(n.state=sc,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=qf,1),f=-1,d=i.length;++f<d;)i[f].call(e,l);n.state===qf&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=cc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function c5(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Bf&&r.state<qf,r.state=cc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function u5(e){return this.each(function(){c5(this,e)})}function l5(e,t){var n,r;return function(){var i=Mn(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function f5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Mn(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function d5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=nn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?l5:f5)(n,e,t))}function Qd(e,t,n){var r=e._id;return e.each(function(){var i=Mn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return nn(i,r).value[t]}}function mb(e,t){var n;return(typeof t=="number"?rt:t instanceof _r?jr:(n=_r(t))?(t=n,jr):cb)(e,t)}function h5(e){return function(){this.removeAttribute(e)}}function p5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function m5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function b5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function y5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function _5(e,t){var n=bu(e),r=n==="transform"?j8:mb;return this.attrTween(e,typeof t=="function"?(n.local?y5:b5)(n,r,Qd(this,"attr."+e,t)):t==null?(n.local?p5:h5)(n):(n.local?m5:g5)(n,r,t))}function v5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function w5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&w5(e,o)),n}return i._value=t,i}function E5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&v5(e,o)),n}return i._value=t,i}function T5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=bu(e);return this.tween(n,(r.local?x5:E5)(r,t))}function S5(e,t){return function(){Zd(this,e).delay=+t.apply(this,arguments)}}function M5(e,t){return t=+t,function(){Zd(this,e).delay=t}}function k5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S5:M5)(t,e)):nn(this.node(),t).delay}function I5(e,t){return function(){Mn(this,e).duration=+t.apply(this,arguments)}}function A5(e,t){return t=+t,function(){Mn(this,e).duration=t}}function C5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I5:A5)(t,e)):nn(this.node(),t).duration}function R5(e,t){if(typeof t!="function")throw new Error;return function(){Mn(this,e).ease=t}}function N5(e){var t=this._id;return arguments.length?this.each(R5(t,e)):nn(this.node(),t).ease}function P5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mn(this,e).ease=n}}function O5(e){if(typeof e!="function")throw new Error;return this.each(P5(this._id,e))}function D5(e){typeof e!="function"&&(e=B1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new Xn(r,this._parents,this._name,this._id)}function L5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],u=n[s],l=c.length,f=a[s]=new Array(l),d,h=0;h<l;++h)(d=c[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new Xn(a,this._parents,this._name,this._id)}function $5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function U5(e,t,n){var r,i,o=$5(t)?Zd:Mn;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function F5(e,t){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(e):this.each(U5(n,e,t))}function B5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function q5(){return this.on("end.remove",B5(this._id))}function H5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zd(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),l,f,d=0;d<c;++d)(l=s[d])&&(f=e.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),u[d]=f,xu(u[d],t,n,d,u,nn(l,n)));return new Xn(o,this._parents,t,n)}function z5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=F1(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var d=e.call(l,l.__data__,f,c),h,p=nn(l,n),b=0,_=d.length;b<_;++b)(h=d[b])&&xu(h,t,n,b,d,p);o.push(d),a.push(l)}return new Xn(o,a,t,n)}var W5=La.prototype.constructor;function G5(){return new W5(this._groups,this._parents)}function V5(e,t){var n,r,i;return function(){var o=Ki(this,e),a=(this.style.removeProperty(e),Ki(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function bb(e){return function(){this.style.removeProperty(e)}}function Y5(e,t,n){var r,i=n+"",o;return function(){var a=Ki(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function X5(e,t,n){var r,i,o;return function(){var a=Ki(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Ki(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function j5(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=Mn(this,e),u=c.on,l=c.value[o]==null?s||(s=bb(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(a,i=l),c.on=r}}function K5(e,t,n){var r=(e+="")=="transform"?X8:mb;return t==null?this.styleTween(e,V5(e,r)).on("end.style."+e,bb(e)):typeof t=="function"?this.styleTween(e,X5(e,r,Qd(this,"style."+e,t))).each(j5(this._id,e)):this.styleTween(e,Y5(e,r,t),n).on("end.style."+e,null)}function J5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Z5(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&J5(e,a,n)),r}return o._value=t,o}function Q5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Z5(e,t,n??""))}function e4(e){return function(){this.textContent=e}}function t4(e){return function(){var t=e(this);this.textContent=t??""}}function n4(e){return this.tween("text",typeof e=="function"?t4(Qd(this,"text",e)):e4(e==null?"":e+""))}function r4(e){return function(t){this.textContent=e.call(this,t)}}function i4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&r4(i)),t}return r._value=e,r}function o4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,i4(e))}function a4(){for(var e=this._name,t=this._id,n=yb(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var l=nn(c,t);xu(c,e,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Xn(r,this._parents,e,n)}function s4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=Mn(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&o()})}var c4=0;function Xn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function yb(){return++c4}var Rn=La.prototype;Xn.prototype={constructor:Xn,select:H5,selectAll:z5,selectChild:Rn.selectChild,selectChildren:Rn.selectChildren,filter:D5,merge:L5,selection:G5,transition:a4,call:Rn.call,nodes:Rn.nodes,node:Rn.node,size:Rn.size,empty:Rn.empty,each:Rn.each,on:F5,attr:_5,attrTween:T5,style:K5,styleTween:Q5,text:n4,textTween:o4,remove:q5,tween:d5,delay:k5,duration:C5,ease:N5,easeVarying:O5,end:s4,[Symbol.iterator]:Rn[Symbol.iterator]};function u4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var l4={time:null,delay:0,duration:250,ease:u4};function f4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function d4(e){var t,n;e instanceof Xn?(t=e._id,e=e._name):(t=yb(),(n=l4).time=Jd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&xu(c,e,t,u,a,n||f4(c,t));return new Xn(r,this._parents,e,t)}La.prototype.interrupt=u5;La.prototype.transition=d4;const Hf=Math.PI,zf=2*Hf,Or=1e-6,h4=zf-Or;function _b(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function p4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _b;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vb{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_b:p4(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-t,u=i-n,l=a-t,f=s-n,d=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Or)if(!(Math.abs(f*c-u*l)>Or)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-s,b=c*c+u*u,_=h*h+p*p,v=Math.sqrt(b),m=Math.sqrt(d),g=o*Math.tan((Hf-Math.acos((b+d-_)/(2*v*m)))/2),y=g/m,w=g/v;Math.abs(y-1)>Or&&this._append`L${t+y*l},${n+y*f}`,this._append`A${o},${o},0,0,${+(f*h>l*p)},${this._x1=t+w*c},${this._y1=n+w*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,l=n+c,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Or||Math.abs(this._y1-l)>Or)&&this._append`L${u},${l}`,r&&(d<0&&(d=d%zf+zf),d>h4?this._append`A${r},${r},0,1,${f},${t-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=l}`:d>Or&&this._append`A${r},${r},0,${+(d>=Hf)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Br(e=3){return new vb(+e)}var kp={},ql={},Hl=34,Lo=10,zl=13;function wb(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function g4(e,t){var n=wb(e);return function(r,i){return t(n(r),i,e)}}function Ip(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function vt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function m4(e){return e<0?"-"+vt(-e,6):e>9999?"+"+vt(e,6):vt(e,4)}function b4(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":m4(e.getUTCFullYear())+"-"+vt(e.getUTCMonth()+1,2)+"-"+vt(e.getUTCDate(),2)+(i?"T"+vt(t,2)+":"+vt(n,2)+":"+vt(r,2)+"."+vt(i,3)+"Z":r?"T"+vt(t,2)+":"+vt(n,2)+":"+vt(r,2)+"Z":n||t?"T"+vt(t,2)+":"+vt(n,2)+"Z":"")}function y4(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,b=i(f,function(_,v){if(h)return h(_,v-1);p=_,h=d?g4(_,d):wb(_)});return b.columns=p||[],b}function i(f,d){var h=[],p=f.length,b=0,_=0,v,m=p<=0,g=!1;f.charCodeAt(p-1)===Lo&&--p,f.charCodeAt(p-1)===zl&&--p;function y(){if(m)return ql;if(g)return g=!1,kp;var x,T=b,A;if(f.charCodeAt(T)===Hl){for(;b++<p&&f.charCodeAt(b)!==Hl||f.charCodeAt(++b)===Hl;);return(x=b)>=p?m=!0:(A=f.charCodeAt(b++))===Lo?g=!0:A===zl&&(g=!0,f.charCodeAt(b)===Lo&&++b),f.slice(T+1,x-1).replace(/""/g,'"')}for(;b<p;){if((A=f.charCodeAt(x=b++))===Lo)g=!0;else if(A===zl)g=!0,f.charCodeAt(b)===Lo&&++b;else if(A!==n)continue;return f.slice(T,x)}return m=!0,f.slice(T,p)}for(;(v=y())!==ql;){for(var w=[];v!==kp&&v!==ql;)w.push(v),v=y();d&&(w=d(w,_++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return l(h[p])}).join(e)})}function a(f,d){return d==null&&(d=Ip(f)),[d.map(l).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=Ip(f)),o(f,d).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(l).join(e)}function l(f){return f==null?"":f instanceof Date?b4(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var _4=y4(","),v4=_4.parse;function Ap(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))w4&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const w4=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function x4(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function E4(e,t){return fetch(e,t).then(x4)}function T4(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),E4(t,n).then(function(i){return e(i,r)})}}var Cp=T4(v4);function S4(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function M4(e,t){return fetch(e,t).then(S4)}function k4(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qi(e){return e=Cc(Math.abs(e)),e?e[1]:NaN}function I4(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function A4(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var C4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ma(e){if(!(t=C4.exec(e)))throw new Error("invalid format: "+e);var t;return new eh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ma.prototype=eh.prototype;function eh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function R4(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var xb;function N4(e,t){var n=Cc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(xb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cc(e,Math.max(0,t+o-1))[0]}function Rp(e,t){var n=Cc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Np={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:k4,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rp(e*100,t),r:Rp,s:N4,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Pp(e){return e}var Op=Array.prototype.map,Dp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function P4(e){var t=e.grouping===void 0||e.thousands===void 0?Pp:I4(Op.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Pp:A4(Op.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ma(f);var d=f.fill,h=f.align,p=f.sign,b=f.symbol,_=f.zero,v=f.width,m=f.comma,g=f.precision,y=f.trim,w=f.type;w==="n"?(m=!0,w="g"):Np[w]||(g===void 0&&(g=12),y=!0,w="g"),(_||d==="0"&&h==="=")&&(_=!0,d="0",h="=");var x=b==="$"?n:b==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",T=b==="$"?r:/[%p]/.test(w)?a:"",A=Np[w],R=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function D(k){var $=x,M=T,C,I,P;if(w==="c")M=A(k)+M,k="";else{k=+k;var q=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),g),y&&(k=R4(k)),q&&+k==0&&p!=="+"&&(q=!1),$=(q?p==="("?p:s:p==="-"||p==="("?"":p)+$,M=(w==="s"?Dp[8+xb/3]:"")+M+(q&&p==="("?")":""),R){for(C=-1,I=k.length;++C<I;)if(P=k.charCodeAt(C),48>P||P>57){M=(P===46?i+k.slice(C+1):k.slice(C))+M,k=k.slice(0,C);break}}}m&&!_&&(k=t(k,1/0));var z=$.length+k.length+M.length,G=z<v?new Array(v-z+1).join(d):"";switch(m&&_&&(k=t(G+k,G.length?v-M.length:1/0),G=""),h){case"<":k=$+k+M+G;break;case"=":k=$+G+k+M;break;case"^":k=G.slice(0,z=G.length>>1)+$+k+M+G.slice(z);break;default:k=G+$+k+M;break}return o(k)}return D.toString=function(){return f+""},D}function l(f,d){var h=u((f=ma(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Qi(d)/3)))*3,b=Math.pow(10,-p),_=Dp[8+p/3];return function(v){return h(b*v)+_}}return{format:u,formatPrefix:l}}var Fs,gt,Eb;O4({thousands:",",grouping:[3],currency:["$",""]});function O4(e){return Fs=P4(e),gt=Fs.format,Eb=Fs.formatPrefix,Fs}function D4(e){return Math.max(0,-Qi(Math.abs(e)))}function L4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qi(t)/3)))*3-Qi(Math.abs(e)))}function $4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qi(t)-Qi(e))+1}var j=1e-6,th=1e-12,ce=Math.PI,ke=ce/2,Lp=ce/4,Rt=ce*2,pt=180/ce,me=ce/180,de=Math.abs,mo=Math.atan,wn=Math.atan2,re=Math.cos,Bs=Math.ceil,Tb=Math.exp,Rc=Math.log,Wl=Math.pow,ne=Math.sin,Ht=Math.sign||function(e){return e>0?1:e<0?-1:0},mt=Math.sqrt,nh=Math.tan;function Sb(e){return e>1?0:e<-1?ce:Math.acos(e)}function Gt(e){return e>1?ke:e<-1?-ke:Math.asin(e)}function We(){}function Nc(e,t){e&&Up.hasOwnProperty(e.type)&&Up[e.type](e,t)}var $p={Feature:function(e,t){Nc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Nc(n[r].geometry,t)}},Up={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Wf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Wf(n[r],t,0)},Polygon:function(e,t){Fp(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Fp(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Nc(n[r],t)}};function Wf(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Fp(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Wf(e[n],t,1);t.polygonEnd()}function Lr(e,t){e&&$p.hasOwnProperty(e.type)?$p[e.type](e,t):Nc(e,t)}function Gf(e){return[wn(e[1],e[0]),Gt(e[2])]}function eo(e){var t=e[0],n=e[1],r=re(n);return[r*re(t),r*ne(t),ne(n)]}function qs(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Pc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Gl(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Hs(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Vf(e){var t=mt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Yf(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Xf(e,t){return de(e)>ce&&(e-=Math.round(e/Rt)*Rt),[e,t]}Xf.invert=Xf;function Mb(e,t,n){return(e%=Rt)?t||n?Yf(qp(e),Hp(t,n)):qp(e):t||n?Hp(t,n):Xf}function Bp(e){return function(t,n){return t+=e,de(t)>ce&&(t-=Math.round(t/Rt)*Rt),[t,n]}}function qp(e){var t=Bp(e);return t.invert=Bp(-e),t}function Hp(e,t){var n=re(e),r=ne(e),i=re(t),o=ne(t);function a(s,c){var u=re(c),l=re(s)*u,f=ne(s)*u,d=ne(c),h=d*n+l*r;return[wn(f*i-h*o,l*n-d*r),Gt(h*i+f*o)]}return a.invert=function(s,c){var u=re(c),l=re(s)*u,f=ne(s)*u,d=ne(c),h=d*i-f*o;return[wn(f*i+d*o,l*n+h*r),Gt(h*n-l*r)]},a}function U4(e){e=Mb(e[0]*me,e[1]*me,e.length>2?e[2]*me:0);function t(n){return n=e(n[0]*me,n[1]*me),n[0]*=pt,n[1]*=pt,n}return t.invert=function(n){return n=e.invert(n[0]*me,n[1]*me),n[0]*=pt,n[1]*=pt,n},t}function F4(e,t,n,r,i,o){if(n){var a=re(t),s=ne(t),c=r*n;i==null?(i=t+r*Rt,o=t-c/2):(i=zp(a,i),o=zp(a,o),(r>0?i<o:i>o)&&(i+=r*Rt));for(var u,l=i;r>0?l>o:l<o;l-=c)u=Gf([a,-s*re(l),-s*ne(l)]),e.point(u[0],u[1])}}function zp(e,t){t=eo(t),t[0]-=e,Vf(t);var n=Sb(-t[1]);return((-t[2]<0?-n:n)+Rt-j)%Rt}function kb(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:We,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function uc(e,t){return de(e[0]-t[0])<j&&de(e[1]-t[1])<j}function zs(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ib(e,t,n,r,i){var o=[],a=[],s,c;if(e.forEach(function(p){if(!((b=p.length-1)<=0)){var b,_=p[0],v=p[b],m;if(uc(_,v)){if(!_[2]&&!v[2]){for(i.lineStart(),s=0;s<b;++s)i.point((_=p[s])[0],_[1]);i.lineEnd();return}v[0]+=2*j}o.push(m=new zs(_,p,null,!0)),a.push(m.o=new zs(_,null,m,!1)),o.push(m=new zs(v,p,null,!1)),a.push(m.o=new zs(v,null,m,!0))}}),!!o.length){for(a.sort(t),Wp(o),Wp(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var u=o[0],l,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,c=l.length;s<c;++s)i.point((f=l[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,s=l.length-1;s>=0;--s)i.point((f=l[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Wp(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Vl(e){return de(e[0])<=ce?e[0]:Ht(e[0])*((de(e[0])+ce)%Rt-ce)}function Ab(e,t){var n=Vl(t),r=t[1],i=ne(r),o=[ne(n),-re(n),0],a=0,s=0,c=new yr;i===1?r=ke+j:i===-1&&(r=-ke-j);for(var u=0,l=e.length;u<l;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=Vl(h),b=h[1]/2+Lp,_=ne(b),v=re(b),m=0;m<d;++m,p=y,_=x,v=T,h=g){var g=f[m],y=Vl(g),w=g[1]/2+Lp,x=ne(w),T=re(w),A=y-p,R=A>=0?1:-1,D=R*A,k=D>ce,$=_*x;if(c.add(wn($*R*ne(D),v*T+$*re(D))),a+=k?A+R*Rt:A,k^p>=n^y>=n){var M=Pc(eo(h),eo(g));Vf(M);var C=Pc(o,M);Vf(C);var I=(k^A>=0?-1:1)*Gt(C[2]);(r>I||r===I&&(M[0]||M[1]))&&(s+=k^A>=0?1:-1)}}return(a<-j||a<j&&c<-th)^s&1}function Cb(e,t,n,r){return function(i){var o=t(i),a=kb(),s=t(a),c=!1,u,l,f,d={point:h,lineStart:b,lineEnd:_,polygonStart:function(){d.point=v,d.lineStart=m,d.lineEnd=g,l=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=b,d.lineEnd=_,l=$1(l);var y=Ab(u,r);l.length?(c||(i.polygonStart(),c=!0),Ib(l,q4,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,w){e(y,w)&&i.point(y,w)}function p(y,w){o.point(y,w)}function b(){d.point=p,o.lineStart()}function _(){d.point=h,o.lineEnd()}function v(y,w){f.push([y,w]),s.point(y,w)}function m(){s.lineStart(),f=[]}function g(){v(f[0][0],f[0][1]),s.lineEnd();var y=s.clean(),w=a.result(),x,T=w.length,A,R,D;if(f.pop(),u.push(f),f=null,!!T){if(y&1){if(R=w[0],(A=R.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<A;++x)i.point((D=R[x])[0],D[1]);i.lineEnd()}return}T>1&&y&2&&w.push(w.pop().concat(w.shift())),l.push(w.filter(B4))}}return d}}function B4(e){return e.length>1}function q4(e,t){return((e=e.x)[0]<0?e[1]-ke-j:ke-e[1])-((t=t.x)[0]<0?t[1]-ke-j:ke-t[1])}const Gp=Cb(function(){return!0},H4,W4,[-ce,-ke]);function H4(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?ce:-ce,c=de(o-t);de(c-ce)<j?(e.point(t,n=(n+a)/2>0?ke:-ke),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&c>=ce&&(de(t-r)<j&&(t-=r*j),de(o-s)<j&&(o-=s*j),n=z4(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function z4(e,t,n,r){var i,o,a=ne(e-n);return de(a)>j?mo((ne(t)*(o=re(r))*ne(n)-ne(r)*(i=re(t))*ne(e))/(i*o*a)):(t+r)/2}function W4(e,t,n,r){var i;if(e==null)i=n*ke,r.point(-ce,i),r.point(0,i),r.point(ce,i),r.point(ce,0),r.point(ce,-i),r.point(0,-i),r.point(-ce,-i),r.point(-ce,0),r.point(-ce,i);else if(de(e[0]-t[0])>j){var o=e[0]<t[0]?ce:-ce;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function G4(e){var t=re(e),n=6*me,r=t>0,i=de(t)>j;function o(l,f,d,h){F4(h,e,n,d,l,f)}function a(l,f){return re(l)*re(f)>t}function s(l){var f,d,h,p,b;return{lineStart:function(){p=h=!1,b=1},point:function(_,v){var m=[_,v],g,y=a(_,v),w=r?y?0:u(_,v):y?u(_+(_<0?ce:-ce),v):0;if(!f&&(p=h=y)&&l.lineStart(),y!==h&&(g=c(f,m),(!g||uc(f,g)||uc(m,g))&&(m[2]=1)),y!==h)b=0,y?(l.lineStart(),g=c(m,f),l.point(g[0],g[1])):(g=c(f,m),l.point(g[0],g[1],2),l.lineEnd()),f=g;else if(i&&f&&r^y){var x;!(w&d)&&(x=c(m,f,!0))&&(b=0,r?(l.lineStart(),l.point(x[0][0],x[0][1]),l.point(x[1][0],x[1][1]),l.lineEnd()):(l.point(x[1][0],x[1][1]),l.lineEnd(),l.lineStart(),l.point(x[0][0],x[0][1],3)))}y&&(!f||!uc(f,m))&&l.point(m[0],m[1]),f=m,h=y,d=w},lineEnd:function(){h&&l.lineEnd(),f=null},clean:function(){return b|(p&&h)<<1}}}function c(l,f,d){var h=eo(l),p=eo(f),b=[1,0,0],_=Pc(h,p),v=qs(_,_),m=_[0],g=v-m*m;if(!g)return!d&&l;var y=t*v/g,w=-t*m/g,x=Pc(b,_),T=Hs(b,y),A=Hs(_,w);Gl(T,A);var R=x,D=qs(T,R),k=qs(R,R),$=D*D-k*(qs(T,T)-1);if(!($<0)){var M=mt($),C=Hs(R,(-D-M)/k);if(Gl(C,T),C=Gf(C),!d)return C;var I=l[0],P=f[0],q=l[1],z=f[1],G;P<I&&(G=I,I=P,P=G);var K=P-I,ee=de(K-ce)<j,ue=ee||K<j;if(!ee&&z<q&&(G=q,q=z,z=G),ue?ee?q+z>0^C[1]<(de(C[0]-I)<j?q:z):q<=C[1]&&C[1]<=z:K>ce^(I<=C[0]&&C[0]<=P)){var le=Hs(R,(-D+M)/k);return Gl(le,T),[C,Gf(le)]}}}function u(l,f){var d=r?e:ce-e,h=0;return l<-d?h|=1:l>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Cb(a,s,o,r?[0,-e]:[-ce,e-ce])}function V4(e,t,n,r,i,o){var a=e[0],s=e[1],c=t[0],u=t[1],l=0,f=1,d=c-a,h=u-s,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>l&&(l=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>l&&(l=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<f&&(f=p)}return l>0&&(e[0]=a+l*d,e[1]=s+l*h),f<1&&(t[0]=a+f*d,t[1]=s+f*h),!0}}}}}var Yo=1e9,Ws=-Yo;function Rb(e,t,n,r){function i(u,l){return e<=u&&u<=n&&t<=l&&l<=r}function o(u,l,f,d){var h=0,p=0;if(u==null||(h=a(u,f))!==(p=a(l,f))||c(u,l)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(l[0],l[1])}function a(u,l){return de(u[0]-e)<j?l>0?0:3:de(u[0]-n)<j?l>0?2:1:de(u[1]-t)<j?l>0?1:0:l>0?3:2}function s(u,l){return c(u.x,l.x)}function c(u,l){var f=a(u,1),d=a(l,1);return f!==d?f-d:f===0?l[1]-u[1]:f===1?u[0]-l[0]:f===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,f=kb(),d,h,p,b,_,v,m,g,y,w,x,T={point:A,lineStart:$,lineEnd:M,polygonStart:D,polygonEnd:k};function A(I,P){i(I,P)&&l.point(I,P)}function R(){for(var I=0,P=0,q=h.length;P<q;++P)for(var z=h[P],G=1,K=z.length,ee=z[0],ue,le,Je=ee[0],B=ee[1];G<K;++G)ue=Je,le=B,ee=z[G],Je=ee[0],B=ee[1],le<=r?B>r&&(Je-ue)*(r-le)>(B-le)*(e-ue)&&++I:B<=r&&(Je-ue)*(r-le)<(B-le)*(e-ue)&&--I;return I}function D(){l=f,d=[],h=[],x=!0}function k(){var I=R(),P=x&&I,q=(d=$1(d)).length;(P||q)&&(u.polygonStart(),P&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),q&&Ib(d,s,I,o,u),u.polygonEnd()),l=u,d=h=p=null}function $(){T.point=C,h&&h.push(p=[]),w=!0,y=!1,m=g=NaN}function M(){d&&(C(b,_),v&&y&&f.rejoin(),d.push(f.result())),T.point=A,y&&l.lineEnd()}function C(I,P){var q=i(I,P);if(h&&p.push([I,P]),w)b=I,_=P,v=q,w=!1,q&&(l.lineStart(),l.point(I,P));else if(q&&y)l.point(I,P);else{var z=[m=Math.max(Ws,Math.min(Yo,m)),g=Math.max(Ws,Math.min(Yo,g))],G=[I=Math.max(Ws,Math.min(Yo,I)),P=Math.max(Ws,Math.min(Yo,P))];V4(z,G,e,t,n,r)?(y||(l.lineStart(),l.point(z[0],z[1])),l.point(G[0],G[1]),q||l.lineEnd(),x=!1):q&&(l.lineStart(),l.point(I,P),x=!1)}m=I,g=P,y=q}return T}}var jf,Kf,lc,fc,to={sphere:We,point:We,lineStart:Y4,lineEnd:We,polygonStart:We,polygonEnd:We};function Y4(){to.point=j4,to.lineEnd=X4}function X4(){to.point=to.lineEnd=We}function j4(e,t){e*=me,t*=me,Kf=e,lc=ne(t),fc=re(t),to.point=K4}function K4(e,t){e*=me,t*=me;var n=ne(t),r=re(t),i=de(e-Kf),o=re(i),a=ne(i),s=r*a,c=fc*n-lc*r*o,u=lc*n+fc*r*o;jf.add(wn(mt(s*s+c*c),u)),Kf=e,lc=n,fc=r}function J4(e){return jf=new yr,Lr(e,to),+jf}var Jf=[null,null],Z4={type:"LineString",coordinates:Jf};function Zf(e,t){return Jf[0]=e,Jf[1]=t,J4(Z4)}var Vp={Feature:function(e,t){return Oc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Oc(n[r].geometry,t))return!0;return!1}},Yp={Sphere:function(){return!0},Point:function(e,t){return Xp(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Xp(n[r],t))return!0;return!1},LineString:function(e,t){return jp(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(jp(n[r],t))return!0;return!1},Polygon:function(e,t){return Kp(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Kp(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Oc(n[r],t))return!0;return!1}};function Oc(e,t){return e&&Yp.hasOwnProperty(e.type)?Yp[e.type](e,t):!1}function Xp(e,t){return Zf(e,t)===0}function jp(e,t){for(var n,r,i,o=0,a=e.length;o<a;o++){if(r=Zf(e[o],t),r===0||o>0&&(i=Zf(e[o],e[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<th*i))return!0;n=r}return!1}function Kp(e,t){return!!Ab(e.map(Q4),Nb(t))}function Q4(e){return e=e.map(Nb),e.pop(),e}function Nb(e){return[e[0]*me,e[1]*me]}function eE(e,t){return(e&&Vp.hasOwnProperty(e.type)?Vp[e.type]:Oc)(e,t)}function Jp(e,t,n){var r=jt(e,t-j,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Zp(e,t,n){var r=jt(e,t-j,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function tE(){var e,t,n,r,i,o,a,s,c=10,u=c,l=90,f=360,d,h,p,b,_=2.5;function v(){return{type:"MultiLineString",coordinates:m()}}function m(){return jt(Bs(r/l)*l,n,l).map(p).concat(jt(Bs(s/f)*f,a,f).map(b)).concat(jt(Bs(t/c)*c,e,c).filter(function(g){return de(g%l)>j}).map(d)).concat(jt(Bs(o/u)*u,i,u).filter(function(g){return de(g%f)>j}).map(h))}return v.lines=function(){return m().map(function(g){return{type:"LineString",coordinates:g}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(b(a).slice(1),p(n).reverse().slice(1),b(s).reverse().slice(1))]}},v.extent=function(g){return arguments.length?v.extentMajor(g).extentMinor(g):v.extentMinor()},v.extentMajor=function(g){return arguments.length?(r=+g[0][0],n=+g[1][0],s=+g[0][1],a=+g[1][1],r>n&&(g=r,r=n,n=g),s>a&&(g=s,s=a,a=g),v.precision(_)):[[r,s],[n,a]]},v.extentMinor=function(g){return arguments.length?(t=+g[0][0],e=+g[1][0],o=+g[0][1],i=+g[1][1],t>e&&(g=t,t=e,e=g),o>i&&(g=o,o=i,i=g),v.precision(_)):[[t,o],[e,i]]},v.step=function(g){return arguments.length?v.stepMajor(g).stepMinor(g):v.stepMinor()},v.stepMajor=function(g){return arguments.length?(l=+g[0],f=+g[1],v):[l,f]},v.stepMinor=function(g){return arguments.length?(c=+g[0],u=+g[1],v):[c,u]},v.precision=function(g){return arguments.length?(_=+g,d=Jp(o,i,90),h=Zp(t,e,_),p=Jp(s,a,90),b=Zp(r,n,_),v):_},v.extentMajor([[-180,-90+j],[180,90-j]]).extentMinor([[-180,-80-j],[180,80+j]])}function nE(){return tE()()}const Qf=e=>e;var Yl=new yr,ed=new yr,Pb,Ob,td,nd,fr={point:We,lineStart:We,lineEnd:We,polygonStart:function(){fr.lineStart=rE,fr.lineEnd=oE},polygonEnd:function(){fr.lineStart=fr.lineEnd=fr.point=We,Yl.add(de(ed)),ed=new yr},result:function(){var e=Yl/2;return Yl=new yr,e}};function rE(){fr.point=iE}function iE(e,t){fr.point=Db,Pb=td=e,Ob=nd=t}function Db(e,t){ed.add(nd*e-td*t),td=e,nd=t}function oE(){Db(Pb,Ob)}const Qp=fr;var no=1/0,Dc=no,ba=-no,Lc=ba,aE={point:sE,lineStart:We,lineEnd:We,polygonStart:We,polygonEnd:We,result:function(){var e=[[no,Dc],[ba,Lc]];return ba=Lc=-(Dc=no=1/0),e}};function sE(e,t){e<no&&(no=e),e>ba&&(ba=e),t<Dc&&(Dc=t),t>Lc&&(Lc=t)}const $c=aE;var rd=0,id=0,Xo=0,Uc=0,Fc=0,Di=0,od=0,ad=0,jo=0,Lb,$b,fn,dn,Xt={point:Jr,lineStart:eg,lineEnd:tg,polygonStart:function(){Xt.lineStart=lE,Xt.lineEnd=fE},polygonEnd:function(){Xt.point=Jr,Xt.lineStart=eg,Xt.lineEnd=tg},result:function(){var e=jo?[od/jo,ad/jo]:Di?[Uc/Di,Fc/Di]:Xo?[rd/Xo,id/Xo]:[NaN,NaN];return rd=id=Xo=Uc=Fc=Di=od=ad=jo=0,e}};function Jr(e,t){rd+=e,id+=t,++Xo}function eg(){Xt.point=cE}function cE(e,t){Xt.point=uE,Jr(fn=e,dn=t)}function uE(e,t){var n=e-fn,r=t-dn,i=mt(n*n+r*r);Uc+=i*(fn+e)/2,Fc+=i*(dn+t)/2,Di+=i,Jr(fn=e,dn=t)}function tg(){Xt.point=Jr}function lE(){Xt.point=dE}function fE(){Ub(Lb,$b)}function dE(e,t){Xt.point=Ub,Jr(Lb=fn=e,$b=dn=t)}function Ub(e,t){var n=e-fn,r=t-dn,i=mt(n*n+r*r);Uc+=i*(fn+e)/2,Fc+=i*(dn+t)/2,Di+=i,i=dn*e-fn*t,od+=i*(fn+e),ad+=i*(dn+t),jo+=i*3,Jr(fn=e,dn=t)}const ng=Xt;function Fb(e){this._context=e}Fb.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Rt);break}}},result:We};var sd=new yr,Xl,Bb,qb,Ko,Jo,Bc={point:We,lineStart:function(){Bc.point=hE},lineEnd:function(){Xl&&Hb(Bb,qb),Bc.point=We},polygonStart:function(){Xl=!0},polygonEnd:function(){Xl=null},result:function(){var e=+sd;return sd=new yr,e}};function hE(e,t){Bc.point=Hb,Bb=Ko=e,qb=Jo=t}function Hb(e,t){Ko-=e,Jo-=t,sd.add(mt(Ko*Ko+Jo*Jo)),Ko=e,Jo=t}const rg=Bc;let ig,qc,og,ag;class sg{constructor(t){this._append=t==null?zb:pE(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==og||this._append!==qc){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,og=r,qc=this._append,ag=this._,this._=i}this._+=ag;break}}}result(){const t=this._;return this._="",t.length?t:null}}function zb(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pE(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return zb;if(t!==ig){const n=10**t;ig=t,qc=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return qc}function Ua(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Lr(s,i(o))),o.result()}return a.area=function(s){return Lr(s,i(Qp)),Qp.result()},a.measure=function(s){return Lr(s,i(rg)),rg.result()},a.bounds=function(s){return Lr(s,i($c)),$c.result()},a.centroid=function(s){return Lr(s,i(ng)),ng.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,Qf):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new sg(n)):new Fb(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return t===null&&(o=new sg(n)),a},a.projection(e).digits(n).context(t)}function Hc(e){return{stream:Eu(e)}}function Eu(e){return function(t){var n=new cd;for(var r in e)n[r]=e[r];return n.stream=t,n}}function cd(){}cd.prototype={constructor:cd,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rh(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Lr(n,e.stream($c)),t($c.result()),r!=null&&e.clipExtent(r),e}function ih(e,t,n){return rh(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,c])},n)}function Wb(e,t,n){return ih(e,[[0,0],t],n)}function Gb(e,t,n){return rh(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function Vb(e,t,n){return rh(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var cg=16,gE=re(30*me);function ug(e,t){return+t?bE(e,t):mE(e)}function mE(e){return Eu({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function bE(e,t){function n(r,i,o,a,s,c,u,l,f,d,h,p,b,_){var v=u-r,m=l-i,g=v*v+m*m;if(g>4*t&&b--){var y=a+d,w=s+h,x=c+p,T=mt(y*y+w*w+x*x),A=Gt(x/=T),R=de(de(x)-1)<j||de(o-f)<j?(o+f)/2:wn(w,y),D=e(R,A),k=D[0],$=D[1],M=k-r,C=$-i,I=m*M-v*C;(I*I/g>t||de((v*M+m*C)/g-.5)>.3||a*d+s*h+c*p<gE)&&(n(r,i,o,a,s,c,k,$,R,y/=T,w/=T,x,b,_),_.point(k,$),n(k,$,R,y,w,x,u,l,f,d,h,p,b,_))}}return function(r){var i,o,a,s,c,u,l,f,d,h,p,b,_={point:v,lineStart:m,lineEnd:y,polygonStart:function(){r.polygonStart(),_.lineStart=w},polygonEnd:function(){r.polygonEnd(),_.lineStart=m}};function v(A,R){A=e(A,R),r.point(A[0],A[1])}function m(){f=NaN,_.point=g,r.lineStart()}function g(A,R){var D=eo([A,R]),k=e(A,R);n(f,d,l,h,p,b,f=k[0],d=k[1],l=A,h=D[0],p=D[1],b=D[2],cg,r),r.point(f,d)}function y(){_.point=v,r.lineEnd()}function w(){m(),_.point=x,_.lineEnd=T}function x(A,R){g(i=A,R),o=f,a=d,s=h,c=p,u=b,_.point=g}function T(){n(f,d,l,h,p,b,o,a,i,s,c,u,cg,r),_.lineEnd=y,y()}return _}}var yE=Eu({point:function(e,t){this.stream.point(e*me,t*me)}});function _E(e){return Eu({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function vE(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function lg(e,t,n,r,i,o){if(!o)return vE(e,t,n,r,i);var a=re(o),s=ne(o),c=a*e,u=s*e,l=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(b,_){return b*=r,_*=i,[c*b-u*_+t,n-u*b-c*_]}return p.invert=function(b,_){return[r*(l*b-f*_+d),i*(h-f*b-l*_)]},p}function Tr(e){return Yb(function(){return e})()}function Yb(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,c=0,u=0,l,f=0,d=1,h=1,p=null,b=Gp,_=null,v,m,g,y=Qf,w=.5,x,T,A,R,D;function k(I){return A(I[0]*me,I[1]*me)}function $(I){return I=A.invert(I[0],I[1]),I&&[I[0]*pt,I[1]*pt]}k.stream=function(I){return R&&D===I?R:R=yE(_E(l)(b(x(y(D=I)))))},k.preclip=function(I){return arguments.length?(b=I,p=void 0,C()):b},k.postclip=function(I){return arguments.length?(y=I,_=v=m=g=null,C()):y},k.clipAngle=function(I){return arguments.length?(b=+I?G4(p=I*me):(p=null,Gp),C()):p*pt},k.clipExtent=function(I){return arguments.length?(y=I==null?(_=v=m=g=null,Qf):Rb(_=+I[0][0],v=+I[0][1],m=+I[1][0],g=+I[1][1]),C()):_==null?null:[[_,v],[m,g]]},k.scale=function(I){return arguments.length?(n=+I,M()):n},k.translate=function(I){return arguments.length?(r=+I[0],i=+I[1],M()):[r,i]},k.center=function(I){return arguments.length?(o=I[0]%360*me,a=I[1]%360*me,M()):[o*pt,a*pt]},k.rotate=function(I){return arguments.length?(s=I[0]%360*me,c=I[1]%360*me,u=I.length>2?I[2]%360*me:0,M()):[s*pt,c*pt,u*pt]},k.angle=function(I){return arguments.length?(f=I%360*me,M()):f*pt},k.reflectX=function(I){return arguments.length?(d=I?-1:1,M()):d<0},k.reflectY=function(I){return arguments.length?(h=I?-1:1,M()):h<0},k.precision=function(I){return arguments.length?(x=ug(T,w=I*I),C()):mt(w)},k.fitExtent=function(I,P){return ih(k,I,P)},k.fitSize=function(I,P){return Wb(k,I,P)},k.fitWidth=function(I,P){return Gb(k,I,P)},k.fitHeight=function(I,P){return Vb(k,I,P)};function M(){var I=lg(n,0,0,d,h,f).apply(null,t(o,a)),P=lg(n,r-I[0],i-I[1],d,h,f);return l=Mb(s,c,u),T=Yf(t,P),A=Yf(l,T),x=ug(T,w),C()}function C(){return R=D=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&$,M()}}function oh(e){var t=0,n=ce/3,r=Yb(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*me,n=o[1]*me):[t*pt,n*pt]},i}function wE(e){var t=re(e);function n(r,i){return[r*t,ne(i)/t]}return n.invert=function(r,i){return[r/t,Gt(i*t)]},n}function xE(e,t){var n=ne(e),r=(n+ne(t))/2;if(de(r)<j)return wE(e);var i=1+n*(2*r-n),o=mt(i)/r;function a(s,c){var u=mt(i-2*r*ne(c))/r;return[u*ne(s*=r),o-u*re(s)]}return a.invert=function(s,c){var u=o-c,l=wn(s,de(u))*Ht(u);return u*r<0&&(l-=ce*Ht(s)*Ht(u)),[l/r,Gt((i-(s*s+u*u)*r*r)/(2*r))]},a}function zc(){return oh(xE).scale(155.424).center([0,33.6442])}function Xb(){return zc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function EE(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function TE(){var e,t,n=Xb(),r,i=zc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=zc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,u={point:function(d,h){c=[d,h]}};function l(d){var h=d[0],p=d[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(s.point(h,p),c)}l.invert=function(d){var h=n.scale(),p=n.translate(),b=(d[0]-p[0])/h,_=(d[1]-p[1])/h;return(_>=.12&&_<.234&&b>=-.425&&b<-.214?i:_>=.166&&_<.234&&b>=-.214&&b<-.115?a:n).invert(d)},l.stream=function(d){return e&&t===d?e:e=EE([n.stream(t=d),i.stream(d),a.stream(d)])},l.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),f()):n.precision()},l.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),l.translate(n.translate())):n.scale()},l.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],b=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,b-.238*h],[p+.455*h,b+.238*h]]).stream(u),o=i.translate([p-.307*h,b+.201*h]).clipExtent([[p-.425*h+j,b+.12*h+j],[p-.214*h-j,b+.234*h-j]]).stream(u),s=a.translate([p-.205*h,b+.212*h]).clipExtent([[p-.214*h+j,b+.166*h+j],[p-.115*h-j,b+.234*h-j]]).stream(u),f()},l.fitExtent=function(d,h){return ih(l,d,h)},l.fitSize=function(d,h){return Wb(l,d,h)},l.fitWidth=function(d,h){return Gb(l,d,h)},l.fitHeight=function(d,h){return Vb(l,d,h)};function f(){return e=t=null,l}return l.scale(1070)}function jb(e){return function(t,n){var r=re(t),i=re(n),o=e(r*i);return o===1/0?[2,0]:[o*i*ne(t),o*ne(n)]}}function Fa(e){return function(t,n){var r=mt(t*t+n*n),i=e(r),o=ne(i),a=re(i);return[wn(t*o,r*a),Gt(r&&n*o/r)]}}var Kb=jb(function(e){return mt(2/(1+e))});Kb.invert=Fa(function(e){return 2*Gt(e/2)});function SE(){return Tr(Kb).scale(124.75).clipAngle(180-.001)}var Jb=jb(function(e){return(e=Sb(e))&&e/ne(e)});Jb.invert=Fa(function(e){return e});function ME(){return Tr(Jb).scale(79.4188).clipAngle(180-.001)}function Tu(e,t){return[e,Rc(nh((ke+t)/2))]}Tu.invert=function(e,t){return[e,2*mo(Tb(t))-ke]};function Zb(){return Qb(Tu).scale(961/Rt)}function Qb(e){var t=Tr(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,c,u;t.scale=function(f){return arguments.length?(r(f),l()):r()},t.translate=function(f){return arguments.length?(i(f),l()):i()},t.center=function(f){return arguments.length?(n(f),l()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=c=u=null:(a=+f[0][0],s=+f[0][1],c=+f[1][0],u=+f[1][1]),l()):a==null?null:[[a,s],[c,u]]};function l(){var f=ce*r(),d=t(U4(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Tu?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,c),u]]:[[a,Math.max(d[1]-f,s)],[c,Math.min(d[1]+f,u)]])}return l()}function Gs(e){return nh((ke+e)/2)}function kE(e,t){var n=re(e),r=e===t?ne(e):Rc(n/re(t))/Rc(Gs(t)/Gs(e)),i=n*Wl(Gs(e),r)/r;if(!r)return Tu;function o(a,s){i>0?s<-ke+j&&(s=-ke+j):s>ke-j&&(s=ke-j);var c=i/Wl(Gs(s),r);return[c*ne(r*a),i-c*re(r*a)]}return o.invert=function(a,s){var c=i-s,u=Ht(r)*mt(a*a+c*c),l=wn(a,de(c))*Ht(c);return c*r<0&&(l-=ce*Ht(a)*Ht(c)),[l/r,2*mo(Wl(i/u,1/r))-ke]},o}function IE(){return oh(kE).scale(109.5).parallels([30,30])}function Wc(e,t){return[e,t]}Wc.invert=Wc;function AE(){return Tr(Wc).scale(152.63)}function CE(e,t){var n=re(e),r=e===t?ne(e):(n-re(t))/(t-e),i=n/r+e;if(de(r)<j)return Wc;function o(a,s){var c=i-s,u=r*a;return[c*ne(u),i-c*re(u)]}return o.invert=function(a,s){var c=i-s,u=wn(a,de(c))*Ht(c);return c*r<0&&(u-=ce*Ht(a)*Ht(c)),[u/r,i-Ht(r)*mt(a*a+c*c)]},o}function RE(){return oh(CE).scale(131.154).center([0,13.9389])}var ia=1.340264,oa=-.081106,aa=893e-6,sa=.003796,Gc=mt(3)/2,NE=12;function ey(e,t){var n=Gt(Gc*ne(t)),r=n*n,i=r*r*r;return[e*re(n)/(Gc*(ia+3*oa*r+i*(7*aa+9*sa*r))),n*(ia+oa*r+i*(aa+sa*r))]}ey.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,c;o<NE&&(s=n*(ia+oa*r+i*(aa+sa*r))-t,c=ia+3*oa*r+i*(7*aa+9*sa*r),n-=a=s/c,r=n*n,i=r*r*r,!(de(a)<th));++o);return[Gc*e*(ia+3*oa*r+i*(7*aa+9*sa*r))/re(n),Gt(ne(n)/Gc)]};function PE(){return Tr(ey).scale(177.158)}function ty(e,t){var n=re(t),r=re(e)*n;return[n*ne(e)/r,ne(t)/r]}ty.invert=Fa(mo);function OE(){return Tr(ty).scale(144.049).clipAngle(60)}function ny(e,t){return[re(t)*ne(e),ne(t)]}ny.invert=Fa(Gt);function DE(){return Tr(ny).scale(249.5).clipAngle(90+j)}function ry(e,t){var n=re(t),r=1+re(e)*n;return[n*ne(e)/r,ne(t)/r]}ry.invert=Fa(function(e){return 2*mo(e)});function LE(){return Tr(ry).scale(250).clipAngle(142)}function iy(e,t){return[Rc(nh((ke+t)/2)),-e]}iy.invert=function(e,t){return[-t,2*mo(Tb(e))-ke]};function $E(){var e=Qb(iy),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ud=Symbol("implicit");function ah(){var e=new Gi,t=[],n=[],r=ud;function i(o){let a=e.get(o);if(a===void 0){if(r!==ud)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Gi;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ah(t,n).unknown(r)},kn.apply(i,arguments),i}function Su(){var e=ah().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,c=0,u=0,l=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,b=h?r:i;o=(b-p)/Math.max(1,d-c+u*2),s&&(o=Math.floor(o)),p+=(b-p-o*(d-c))*l,a=o*(1-c),s&&(p=Math.round(p),a=Math.round(a));var _=jt(d).map(function(v){return p+o*v});return n(h?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.copy=function(){return Su(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},kn.apply(f(),arguments)}function oy(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oy(t())},e}function UE(){return oy(Su.apply(null,arguments).paddingInner(1))}function FE(e){return function(){return e}}function ld(e){return+e}var fg=[0,1];function xt(e){return e}function fd(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:FE(isNaN(t)?NaN:.5)}function BE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qE(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=fd(i,r),o=n(a,o)):(r=fd(r,i),o=n(o,a)),function(s){return o(r(s))}}function HE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fd(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=Da(e,s,1,r)-1;return o[c](i[c](s))}}function qa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mu(){var e=fg,t=fg,n=go,r,i,o,a=xt,s,c,u;function l(){var d=Math.min(e.length,t.length);return a!==xt&&(a=BE(e[0],e[d-1])),s=d>2?HE:qE,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(c||(c=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),rt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,ld),l()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=vu,l()},f.clamp=function(d){return arguments.length?(a=d?!0:xt,l()):a!==xt},f.interpolate=function(d){return arguments.length?(n=d,l()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,l()}}function ay(){return Mu()(xt,xt)}function zE(e,t,n,r){var i=Rf(e,t,n),o;switch(r=ma(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=L4(i,a))&&(r.precision=o),Eb(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$4(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=D4(i))&&(r.precision=o-(r.type==="%")*2);break}}return gt(r)}function bo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Yi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zE(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Yr(a,s,n),u===c)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function sh(){var e=ay();return e.copy=function(){return qa(e,sh())},kn.apply(e,arguments),bo(e)}function sy(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ld),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return sy(e).unknown(t)},e=arguments.length?Array.from(e,ld):[0,1],bo(n)}function cy(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function dg(e){return Math.log(e)}function hg(e){return Math.exp(e)}function WE(e){return-Math.log(-e)}function GE(e){return-Math.exp(-e)}function VE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YE(e){return e===10?VE:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XE(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pg(e){return(t,n)=>-e(-t,n)}function uy(e){const t=e(dg,hg),n=t.domain;let r=10,i,o;function a(){return i=XE(r),o=YE(r),n()[0]<0?(i=pg(i),o=pg(o),e(WE,GE)):e(dg,hg),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const f=l<u;f&&([u,l]=[l,u]);let d=i(u),h=i(l),p,b;const _=s==null?10:+s;let v=[];if(!(r%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(b=d<0?p/o(-d):p*o(d),!(b<u)){if(b>l)break;v.push(b)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(b=d>0?p/o(-d):p*o(d),!(b<u)){if(b>l)break;v.push(b)}v.length*2<_&&(v=Yi(u,l,_))}else v=Yi(d,h,Math.min(h-d,_)).map(o);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ma(c)).precision==null&&(c.trim=!0),c=gt(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return l=>{let f=l/o(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=u?c(l):""}},t.nice=()=>n(cy(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function ly(){const e=uy(Mu()).domain([1,10]);return e.copy=()=>qa(e,ly()).base(e.base()),kn.apply(e,arguments),e}function gg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fy(e){var t=1,n=e(gg(t),mg(t));return n.constant=function(r){return arguments.length?e(gg(t=+r),mg(t)):t},bo(n)}function dy(){var e=fy(Mu());return e.copy=function(){return qa(e,dy()).constant(e.constant())},kn.apply(e,arguments)}function bg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KE(e){return e<0?-e*e:e*e}function hy(e){var t=e(xt,xt),n=1;function r(){return n===1?e(xt,xt):n===.5?e(jE,KE):e(bg(n),bg(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},bo(t)}function py(){var e=hy(Mu());return e.copy=function(){return qa(e,py()).exponent(e.exponent())},kn.apply(e,arguments),e}function gy(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=M3(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Da(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(et),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return gy().domain(e).range(t).unknown(r)},kn.apply(o,arguments)}function my(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Da(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return my().domain(e).range(t).unknown(n)},kn.apply(i,arguments)}const jl=new Date,Kl=new Date;function $e(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return c},i.filter=o=>$e(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(jl.setTime(+o),Kl.setTime(+a),e(jl),e(Kl),Math.floor(n(jl,Kl))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Vc=$e(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$e(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vc);Vc.range;const qn=1e3,zt=qn*60,Hn=zt*60,jn=Hn*24,ch=jn*7,yg=jn*30,Jl=jn*365,zn=$e(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCSeconds());zn.range;const ku=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getMinutes());ku.range;const Iu=$e(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCMinutes());Iu.range;const Au=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn-e.getMinutes()*zt)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getHours());Au.range;const Cu=$e(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCHours());Cu.range;const yo=$e(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zt)/jn,e=>e.getDate()-1);yo.range;const Ha=$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>e.getUTCDate()-1);Ha.range;const by=$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>Math.floor(e/jn));by.range;function ii(e){return $e(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*zt)/ch)}const ro=ii(0),ya=ii(1),yy=ii(2),_y=ii(3),Zr=ii(4),vy=ii(5),wy=ii(6);ro.range;ya.range;yy.range;_y.range;Zr.range;vy.range;wy.range;function oi(e){return $e(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ch)}const io=oi(0),_a=oi(1),xy=oi(2),Ey=oi(3),Qr=oi(4),Ty=oi(5),Sy=oi(6);io.range;_a.range;xy.range;Ey.range;Qr.range;Ty.range;Sy.range;const Ru=$e(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ru.range;const Nu=$e(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nu.range;const xn=$e(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xn.range;const En=$e(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());En.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});En.range;function My(e,t,n,r,i,o){const a=[[zn,1,qn],[zn,5,5*qn],[zn,15,15*qn],[zn,30,30*qn],[o,1,zt],[o,5,5*zt],[o,15,15*zt],[o,30,30*zt],[i,1,Hn],[i,3,3*Hn],[i,6,6*Hn],[i,12,12*Hn],[r,1,jn],[r,2,2*jn],[n,1,ch],[t,1,yg],[t,3,3*yg],[e,1,Jl]];function s(u,l,f){const d=l<u;d&&([u,l]=[l,u]);const h=f&&typeof f.range=="function"?f:c(u,l,f),p=h?h.range(u,+l+1):[];return d?p.reverse():p}function c(u,l,f){const d=Math.abs(l-u)/f,h=Fd(([,,_])=>_).right(a,d);if(h===a.length)return e.every(Rf(u/Jl,l/Jl,f));if(h===0)return Vc.every(Math.max(Rf(u,l,f),1));const[p,b]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(b)}return[s,c]}const[JE,ky]=My(En,Nu,io,by,Cu,Iu),[ZE,QE]=My(xn,Ru,ro,yo,Au,ku);function Zl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ql(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $o(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eT(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,u=Uo(i),l=Fo(i),f=Uo(o),d=Fo(o),h=Uo(a),p=Fo(a),b=Uo(s),_=Fo(s),v=Uo(c),m=Fo(c),g={a:q,A:z,b:G,B:K,c:null,d:Tg,e:Tg,f:ET,g:PT,G:DT,H:vT,I:wT,j:xT,L:Iy,m:TT,M:ST,p:ee,q:ue,Q:kg,s:Ig,S:MT,u:kT,U:IT,V:AT,w:CT,W:RT,x:null,X:null,y:NT,Y:OT,Z:LT,"%":Mg},y={a:le,A:Je,b:B,B:ae,c:null,d:Sg,e:Sg,f:BT,g:KT,G:ZT,H:$T,I:UT,j:FT,L:Cy,m:qT,M:HT,p:at,q:Re,Q:kg,s:Ig,S:zT,u:WT,U:GT,V:VT,w:YT,W:XT,x:null,X:null,y:jT,Y:JT,Z:QT,"%":Mg},w={a:D,A:k,b:$,B:M,c:C,d:xg,e:xg,f:mT,g:wg,G:vg,H:Eg,I:Eg,j:dT,L:gT,m:fT,M:hT,p:R,q:lT,Q:yT,s:_T,S:pT,u:oT,U:aT,V:sT,w:iT,W:cT,x:I,X:P,y:wg,Y:vg,Z:uT,"%":bT};g.x=x(n,g),g.X=x(r,g),g.c=x(t,g),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y);function x(F,Y){return function(te){var O=[],pe=-1,se=0,ve=F.length,Ae,we,Ne;for(te instanceof Date||(te=new Date(+te));++pe<ve;)F.charCodeAt(pe)===37&&(O.push(F.slice(se,pe)),(we=_g[Ae=F.charAt(++pe)])!=null?Ae=F.charAt(++pe):we=Ae==="e"?" ":"0",(Ne=Y[Ae])&&(Ae=Ne(te,we)),O.push(Ae),se=pe+1);return O.push(F.slice(se,pe)),O.join("")}}function T(F,Y){return function(te){var O=$o(1900,void 0,1),pe=A(O,F,te+="",0),se,ve;if(pe!=te.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Y&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(se=Ql($o(O.y,0,1)),ve=se.getUTCDay(),se=ve>4||ve===0?_a.ceil(se):_a(se),se=Ha.offset(se,(O.V-1)*7),O.y=se.getUTCFullYear(),O.m=se.getUTCMonth(),O.d=se.getUTCDate()+(O.w+6)%7):(se=Zl($o(O.y,0,1)),ve=se.getDay(),se=ve>4||ve===0?ya.ceil(se):ya(se),se=yo.offset(se,(O.V-1)*7),O.y=se.getFullYear(),O.m=se.getMonth(),O.d=se.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),ve="Z"in O?Ql($o(O.y,0,1)).getUTCDay():Zl($o(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(ve+5)%7:O.w+O.U*7-(ve+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Ql(O)):Zl(O)}}function A(F,Y,te,O){for(var pe=0,se=Y.length,ve=te.length,Ae,we;pe<se;){if(O>=ve)return-1;if(Ae=Y.charCodeAt(pe++),Ae===37){if(Ae=Y.charAt(pe++),we=w[Ae in _g?Y.charAt(pe++):Ae],!we||(O=we(F,te,O))<0)return-1}else if(Ae!=te.charCodeAt(O++))return-1}return O}function R(F,Y,te){var O=u.exec(Y.slice(te));return O?(F.p=l.get(O[0].toLowerCase()),te+O[0].length):-1}function D(F,Y,te){var O=h.exec(Y.slice(te));return O?(F.w=p.get(O[0].toLowerCase()),te+O[0].length):-1}function k(F,Y,te){var O=f.exec(Y.slice(te));return O?(F.w=d.get(O[0].toLowerCase()),te+O[0].length):-1}function $(F,Y,te){var O=v.exec(Y.slice(te));return O?(F.m=m.get(O[0].toLowerCase()),te+O[0].length):-1}function M(F,Y,te){var O=b.exec(Y.slice(te));return O?(F.m=_.get(O[0].toLowerCase()),te+O[0].length):-1}function C(F,Y,te){return A(F,t,Y,te)}function I(F,Y,te){return A(F,n,Y,te)}function P(F,Y,te){return A(F,r,Y,te)}function q(F){return a[F.getDay()]}function z(F){return o[F.getDay()]}function G(F){return c[F.getMonth()]}function K(F){return s[F.getMonth()]}function ee(F){return i[+(F.getHours()>=12)]}function ue(F){return 1+~~(F.getMonth()/3)}function le(F){return a[F.getUTCDay()]}function Je(F){return o[F.getUTCDay()]}function B(F){return c[F.getUTCMonth()]}function ae(F){return s[F.getUTCMonth()]}function at(F){return i[+(F.getUTCHours()>=12)]}function Re(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var Y=x(F+="",g);return Y.toString=function(){return F},Y},parse:function(F){var Y=T(F+="",!1);return Y.toString=function(){return F},Y},utcFormat:function(F){var Y=x(F+="",y);return Y.toString=function(){return F},Y},utcParse:function(F){var Y=T(F+="",!0);return Y.toString=function(){return F},Y}}}var _g={"-":"",_:" ",0:"0"},Xe=/^\s*\d+/,tT=/^%/,nT=/[\\^$*+?|[\]().{}]/g;function he(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function rT(e){return e.replace(nT,"\\$&")}function Uo(e){return new RegExp("^(?:"+e.map(rT).join("|")+")","i")}function Fo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function iT(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oT(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function aT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vg(e,t,n){var r=Xe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uT(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lT(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function fT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dT(e,t,n){var r=Xe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gT(e,t,n){var r=Xe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mT(e,t,n){var r=Xe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bT(e,t,n){var r=tT.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yT(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _T(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Tg(e,t){return he(e.getDate(),t,2)}function vT(e,t){return he(e.getHours(),t,2)}function wT(e,t){return he(e.getHours()%12||12,t,2)}function xT(e,t){return he(1+yo.count(xn(e),e),t,3)}function Iy(e,t){return he(e.getMilliseconds(),t,3)}function ET(e,t){return Iy(e,t)+"000"}function TT(e,t){return he(e.getMonth()+1,t,2)}function ST(e,t){return he(e.getMinutes(),t,2)}function MT(e,t){return he(e.getSeconds(),t,2)}function kT(e){var t=e.getDay();return t===0?7:t}function IT(e,t){return he(ro.count(xn(e)-1,e),t,2)}function Ay(e){var t=e.getDay();return t>=4||t===0?Zr(e):Zr.ceil(e)}function AT(e,t){return e=Ay(e),he(Zr.count(xn(e),e)+(xn(e).getDay()===4),t,2)}function CT(e){return e.getDay()}function RT(e,t){return he(ya.count(xn(e)-1,e),t,2)}function NT(e,t){return he(e.getFullYear()%100,t,2)}function PT(e,t){return e=Ay(e),he(e.getFullYear()%100,t,2)}function OT(e,t){return he(e.getFullYear()%1e4,t,4)}function DT(e,t){var n=e.getDay();return e=n>=4||n===0?Zr(e):Zr.ceil(e),he(e.getFullYear()%1e4,t,4)}function LT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+he(t/60|0,"0",2)+he(t%60,"0",2)}function Sg(e,t){return he(e.getUTCDate(),t,2)}function $T(e,t){return he(e.getUTCHours(),t,2)}function UT(e,t){return he(e.getUTCHours()%12||12,t,2)}function FT(e,t){return he(1+Ha.count(En(e),e),t,3)}function Cy(e,t){return he(e.getUTCMilliseconds(),t,3)}function BT(e,t){return Cy(e,t)+"000"}function qT(e,t){return he(e.getUTCMonth()+1,t,2)}function HT(e,t){return he(e.getUTCMinutes(),t,2)}function zT(e,t){return he(e.getUTCSeconds(),t,2)}function WT(e){var t=e.getUTCDay();return t===0?7:t}function GT(e,t){return he(io.count(En(e)-1,e),t,2)}function Ry(e){var t=e.getUTCDay();return t>=4||t===0?Qr(e):Qr.ceil(e)}function VT(e,t){return e=Ry(e),he(Qr.count(En(e),e)+(En(e).getUTCDay()===4),t,2)}function YT(e){return e.getUTCDay()}function XT(e,t){return he(_a.count(En(e)-1,e),t,2)}function jT(e,t){return he(e.getUTCFullYear()%100,t,2)}function KT(e,t){return e=Ry(e),he(e.getUTCFullYear()%100,t,2)}function JT(e,t){return he(e.getUTCFullYear()%1e4,t,4)}function ZT(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qr(e):Qr.ceil(e),he(e.getUTCFullYear()%1e4,t,4)}function QT(){return"+0000"}function Mg(){return"%"}function kg(e){return+e}function Ig(e){return Math.floor(+e/1e3)}var Mi,Ny,Pu;eS({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eS(e){return Mi=eT(e),Ny=Mi.format,Mi.parse,Pu=Mi.utcFormat,Mi.utcParse,Mi}function tS(e){return new Date(e)}function nS(e){return e instanceof Date?+e:+new Date(+e)}function uh(e,t,n,r,i,o,a,s,c,u){var l=ay(),f=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),b=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),m=u("%b %d"),g=u("%B"),y=u("%Y");function w(x){return(c(x)<x?h:s(x)<x?p:a(x)<x?b:o(x)<x?_:r(x)<x?i(x)<x?v:m:n(x)<x?g:y)(x)}return l.invert=function(x){return new Date(f(x))},l.domain=function(x){return arguments.length?d(Array.from(x,nS)):d().map(tS)},l.ticks=function(x){var T=d();return e(T[0],T[T.length-1],x??10)},l.tickFormat=function(x,T){return T==null?w:u(T)},l.nice=function(x){var T=d();return(!x||typeof x.range!="function")&&(x=t(T[0],T[T.length-1],x??10)),x?d(cy(T,x)):l},l.copy=function(){return qa(l,uh(e,t,n,r,i,o,a,s,c,u))},l}function rS(){return kn.apply(uh(ZE,QE,xn,Ru,ro,yo,Au,ku,zn,Ny).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iS(){return kn.apply(uh(JE,ky,En,Nu,io,Ha,Cu,Iu,zn,Pu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oS(){var e=0,t=1,n,r,i,o,a=xt,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function l(f){return function(d){var h,p;return arguments.length?([h,p]=d,a=f(h,p),u):[a(0),a(1)]}}return u.range=l(go),u.rangeRound=l(vu),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function za(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dd(){var e=bo(oS()(xt));return e.copy=function(){return za(e,dd())},Ba.apply(e,arguments)}function Ou(){var e=0,t=.5,n=1,r=1,i,o,a,s,c,u=xt,l,f=!1,d;function h(b){return isNaN(b=+b)?d:(b=.5+((b=+l(b))-o)*(r*b<r*o?s:c),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([e,t,n]=b,i=l(e=+e),o=l(t=+t),a=l(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function p(b){return function(_){var v,m,g;return arguments.length?([v,m,g]=_,u=Kd(b,[v,m,g]),h):[u(0),u(.5),u(1)]}}return h.range=p(go),h.rangeRound=p(vu),h.unknown=function(b){return arguments.length?(d=b,h):d},function(b){return l=b,i=b(e),o=b(t),a=b(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Py(){var e=bo(Ou()(xt));return e.copy=function(){return za(e,Py())},Ba.apply(e,arguments)}function Oy(){var e=uy(Ou()).domain([.1,1,10]);return e.copy=function(){return za(e,Oy()).base(e.base())},Ba.apply(e,arguments)}function Dy(){var e=fy(Ou());return e.copy=function(){return za(e,Dy()).constant(e.constant())},Ba.apply(e,arguments)}function Ly(){var e=hy(Ou());return e.copy=function(){return za(e,Ly()).exponent(e.exponent())},Ba.apply(e,arguments)}function oe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const aS=oe("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),sS=oe("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),cS=oe("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),uS=oe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),lS=oe("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),fS=oe("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dS=oe("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),hS=oe("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),pS=oe("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),gS=oe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ye=e=>U8(e[e.length-1]);var $y=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(oe);const Uy=ye($y);var Fy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(oe);const By=ye(Fy);var qy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(oe);const Hy=ye(qy);var zy=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(oe);const Wy=ye(zy);var hd=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(oe);const oo=ye(hd);var Gy=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(oe);const Vy=ye(Gy);var pd=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(oe);const Yc=ye(pd);var Yy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(oe);const Xy=ye(Yy);var jy=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(oe);const Ky=ye(jy);var Jy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(oe);const Zy=ye(Jy);var Qy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(oe);const e_=ye(Qy);var t_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(oe);const n_=ye(t_);var r_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(oe);const i_=ye(r_);var o_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(oe);const a_=ye(o_);var s_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(oe);const c_=ye(s_);var u_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(oe);const l_=ye(u_);var f_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(oe);const d_=ye(f_);var h_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(oe);const p_=ye(h_);var g_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(oe);const m_=ye(g_);var b_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(oe);const y_=ye(b_);var __=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(oe);const v_=ye(__);var w_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(oe);const x_=ye(w_);var E_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(oe);const T_=ye(E_);var S_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(oe);const M_=ye(S_);var k_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(oe);const I_=ye(k_);var A_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(oe);const C_=ye(A_);var R_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(oe);const N_=ye(R_);function lh(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const P_=jd(vn(300,.5,0),vn(-240,.5,1));var O_=jd(vn(-100,.75,.35),vn(80,1.5,.8)),D_=jd(vn(260,.75,.35),vn(80,1.5,.8)),Vs=vn();function L_(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Vs.h=360*e-100,Vs.s=1.5-1.5*t,Vs.l=.8-.9*t,Vs+""}var Ys=vr(),mS=Math.PI/3,bS=Math.PI*2/3;function $_(e){var t;return e=(.5-e)*Math.PI,Ys.r=255*(t=Math.sin(e))*t,Ys.g=255*(t=Math.sin(e+mS))*t,Ys.b=255*(t=Math.sin(e+bS))*t,Ys+""}function U_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Du(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const F_=Du(oe("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var B_=Du(oe("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q_=Du(oe("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),H_=Du(oe("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ki(e){return function(){return e}}const z_=Math.cos,fh=Math.min,Xc=Math.sin,Ue=Math.sqrt,Ag=1e-12,jc=Math.PI,Lu=2*jc;function yS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new vb(t)}function _S(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W_(e){this._context=e}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $u(e){return new W_(e)}function vS(e){return e[0]}function wS(e){return e[1]}function xS(e,t){var n=ki(!0),r=null,i=$u,o=null,a=yS(s);e=typeof e=="function"?e:e===void 0?vS:ki(e),t=typeof t=="function"?t:t===void 0?wS:ki(t);function s(c){var u,l=(c=_S(c)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=l;++u)!(u<l&&n(f=c[u],u,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,c),+t(f,u,c));if(h)return o=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:ki(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:ki(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ki(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}class G_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ES(e){return new G_(e,!0)}function TS(e){return new G_(e,!1)}const SS=Ue(3),V_={draw(e,t){const n=Ue(t+fh(t/28,.75))*.59436,r=n/2,i=r*SS;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},va={draw(e,t){const n=Ue(t/jc);e.moveTo(n,0),e.arc(0,0,n,0,Lu)}},Y_={draw(e,t){const n=Ue(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},X_=Ue(1/3),MS=X_*2,j_={draw(e,t){const n=Ue(t/MS),r=n*X_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},K_={draw(e,t){const n=Ue(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},J_={draw(e,t){const n=Ue(t-fh(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Z_={draw(e,t){const n=Ue(t),r=-n/2;e.rect(r,r,n,n)}},Q_={draw(e,t){const n=Ue(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},kS=.8908130915292852,ev=Xc(jc/10)/Xc(7*jc/10),IS=Xc(Lu/10)*ev,AS=-z_(Lu/10)*ev,tv={draw(e,t){const n=Ue(t*kS),r=IS*n,i=AS*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Lu*o/5,s=z_(a),c=Xc(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},ef=Ue(3),nv={draw(e,t){const n=-Ue(t/(ef*3));e.moveTo(0,n*2),e.lineTo(-ef*n,-n),e.lineTo(ef*n,-n),e.closePath()}},CS=Ue(3),rv={draw(e,t){const n=Ue(t)*.6824,r=n/2,i=n*CS/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ft=-.5,Bt=Ue(3)/2,gd=1/Ue(12),RS=(gd/2+1)*3,iv={draw(e,t){const n=Ue(t/RS),r=n/2,i=n*gd,o=r,a=n*gd+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(Ft*r-Bt*i,Bt*r+Ft*i),e.lineTo(Ft*o-Bt*a,Bt*o+Ft*a),e.lineTo(Ft*s-Bt*c,Bt*s+Ft*c),e.lineTo(Ft*r+Bt*i,Ft*i-Bt*r),e.lineTo(Ft*o+Bt*a,Ft*a-Bt*o),e.lineTo(Ft*s+Bt*c,Ft*c-Bt*s),e.closePath()}},ov={draw(e,t){const n=Ue(t-fh(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},NS=[va,Y_,j_,Z_,tv,nv,iv],PS=[va,J_,ov,rv,V_,Q_,K_];function wr(){}function Kc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Uu(e){this._context=e}Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OS(e){return new Uu(e)}function av(e){this._context=e}av.prototype={areaStart:wr,areaEnd:wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DS(e){return new av(e)}function sv(e){this._context=e}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LS(e){return new sv(e)}function cv(e,t){this._basis=new Uu(e),this._beta=t}cv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+c*o),this._beta*t[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const $S=function e(t){function n(r){return t===1?new Uu(r):new cv(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Jc(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function dh(e,t){this._context=e,this._k=(1-t)/6}dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Jc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const US=function e(t){function n(r){return new dh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function hh(e,t){this._context=e,this._k=(1-t)/6}hh.prototype={areaStart:wr,areaEnd:wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Jc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FS=function e(t){function n(r){return new hh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ph(e,t){this._context=e,this._k=(1-t)/6}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BS=function e(t){function n(r){return new ph(r,t)}return n.tension=function(r){return e(+r)},n}(0);function gh(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Ag){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Ag){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function uv(e,t){this._context=e,this._alpha=t}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:gh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qS=function e(t){function n(r){return t?new uv(r,t):new dh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function lv(e,t){this._context=e,this._alpha=t}lv.prototype={areaStart:wr,areaEnd:wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:gh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HS=function e(t){function n(r){return t?new lv(r,t):new hh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function fv(e,t){this._context=e,this._alpha=t}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zS=function e(t){function n(r){return t?new fv(r,t):new ph(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function dv(e){this._context=e}dv.prototype={areaStart:wr,areaEnd:wr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WS(e){return new dv(e)}function Cg(e){return e<0?-1:1}function Rg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Cg(o)+Cg(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ng(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tf(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Zc(e){this._context=e}Zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tf(this,this._t0,Ng(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tf(this,Ng(this,n=Rg(this,e,t)),n);break;default:tf(this,this._t0,n=Rg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function hv(e){this._context=new pv(e)}(hv.prototype=Object.create(Zc.prototype)).point=function(e,t){Zc.prototype.point.call(this,t,e)};function pv(e){this._context=e}pv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function GS(e){return new Zc(e)}function VS(e){return new hv(e)}function gv(e){this._context=e}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Pg(e),i=Pg(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pg(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function YS(e){return new gv(e)}function Fu(e,t){this._context=e,this._t=t}Fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function XS(e){return new Fu(e,.5)}function jS(e){return new Fu(e,0)}function KS(e){return new Fu(e,1)}function Zo(e,t,n){this.k=e,this.x=t,this.y=n}Zo.prototype={constructor:Zo,scale:function(e){return e===1?this:new Zo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Zo.prototype;const JS=new Map([["second",zn],["minute",ku],["hour",Au],["day",yo],["week",ro],["month",Ru],["year",xn],["monday",ya],["tuesday",yy],["wednesday",_y],["thursday",Zr],["friday",vy],["saturday",wy],["sunday",ro]]),ZS=new Map([["second",zn],["minute",Iu],["hour",Cu],["day",Ha],["week",io],["month",Nu],["year",En],["monday",_a],["tuesday",xy],["wednesday",Ey],["thursday",Qr],["friday",Ty],["saturday",Sy],["sunday",io]]);function QS(e){const t=JS.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function e7(e){const t=ZS.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const mv=Object.getPrototypeOf(Uint8Array),t7=Object.prototype.toString;function Ve(e,t,n){const r=typeof t;return r==="string"?Le(e,bv(t),n):r==="function"?Le(e,t,n):r==="number"||t instanceof Date||r==="boolean"?Le(e,_o(t),n):t&&typeof t.transform=="function"?en(t.transform(e),n):en(t,n)}const bv=e=>t=>t[e],yv=(e,t)=>t,bt={transform:e=>e},n7=()=>1,r7=()=>!0,Kt=e=>e==null?e:`${e}`,Se=e=>e==null?e:+e,mh=e=>e?e[0]:void 0,md=e=>e?e[1]:void 0,_o=e=>()=>e;function i7(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Xi(n,t,r)}function xr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Hu(e)?[void 0,e]:[e,void 0]}function kt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function _v(e,t,n){if(e!=null)return Zn(e,t,n)}function Zn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function en(e,t){return e==null?e:t===void 0?e instanceof Array||e instanceof mv?e:Array.from(e):e instanceof t?e:t.from(e)}function Le(e,t,n=Array){return e instanceof n?e.map(t):n.from(e,t)}function bd(e,t=Array){return e instanceof t?e.slice():t.from(e)}function o7(e){return e instanceof mv}function Wa(e){return(e==null?void 0:e.toString)===t7}function qi(e){return Wa(e)&&(e.type!==void 0||e.domain!==void 0)}function Bu(e){return Wa(e)&&typeof e.transform!="function"}function wa(e){return Bu(e)&&e.value===void 0&&e.channel===void 0}function a7(e,t,n,r=bt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function bh(e,t){return e===void 0&&t===void 0?[mh,md]:[e,t]}function vv({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=xr(t)),e===void 0&&([e]=xr(n)),e}function Sr(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function wv(e,t){return Le(t,n=>e[n])}function nf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s7(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Qc(e){let t;return[{transform:()=>t,label:ai(e)},n=>t=n]}function Dn(e){return e==null?[e]:Qc(e)}function ai(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function yd(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Nt(r)||Nt(i)?Le(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):Le(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Mr(e,t){if(e!=null){if(typeof e=="number"){const n=e;return{floor:r=>n*Math.floor(r/n),offset:r=>r+n,range:(r,i)=>jt(Math.ceil(r/n),i/n).map(o=>n*o)}}if(typeof e=="string")return(t==="time"?QS:e7)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function qu(e){return e===void 0||Bu(e)?e:{value:e}}function c7(e){return e==null?null:{transform:t=>Ve(t,e,Float64Array),label:ai(e)}}function kr(e){return e&&typeof e[Symbol.iterator]=="function"}function u7(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Og(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Nt(e){for(const t of e)if(t!=null)return t instanceof Date}function l7(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&E1(t)}function f7(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function d7(e){for(const t of e)if(t!=null)return typeof t=="number"}function Dg(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Hu(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||_r(e)!==null)}function Mt(e){return e==null||xa(e)}function xa(e){return/^\s*none\s*$/i.test(e)}function h7(e){return/^\s*round\s*$/i.test(e)}function yh(e="middle"){return Zn(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ea(e){if(e==null)return;const t=e[0],n=e[e.length-1];return ho(t,n)}function p7(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function g7(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Lg(e){return kr(e)?g7(e):e}const pn=Symbol("position"),Tn=Symbol("color"),zu=Symbol("radius"),Wu=Symbol("length"),Gu=Symbol("opacity"),Vu=Symbol("symbol"),Ie=new Map([["x",pn],["y",pn],["fx",pn],["fy",pn],["r",zu],["color",Tn],["opacity",Gu],["symbol",Vu],["length",Wu]]),m7=Math.sqrt(3),b7=2/m7,y7={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*b7,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},_h=new Map([["asterisk",V_],["circle",va],["cross",Y_],["diamond",j_],["diamond2",K_],["hexagon",y7],["plus",J_],["square",Z_],["square2",Q_],["star",tv],["times",ov],["triangle",nv],["triangle2",rv],["wye",iv]]);function vh(e){return e&&typeof e.draw=="function"}function _7(e){return vh(e)?!0:typeof e!="string"?!1:_h.has(e.toLowerCase())}function wh(e){if(e==null||vh(e))return e;const t=_h.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function v7(e){if(e==null||vh(e))return[void 0,e];if(typeof e=="string"){const t=_h.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function ao(e){return e!=null&&!Number.isNaN(e)}function Ta(e,t){return+ao(t)-+ao(e)||et(e,t)}function w7(e,t){return+ao(t)-+ao(e)||ho(e,t)}function xh(e){return e!=null&&`${e}`!=""}function xv(e){return isFinite(e)?e:NaN}function Ga(e){return e>0&&isFinite(e)?e:NaN}function Yu(e){return e<0&&isFinite(e)?e:NaN}function Xu(e={},t){let{filter:n,sort:r,reverse:i,transform:o,initializer:a,...s}=e;if(o===void 0&&(n!=null&&(o=Ev(n)),r!=null&&!wa(r)&&(o=rf(o,Eh(r))),i&&(o=rf(o,Tv))),t!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(r===null||wa(r))&&{sort:r},transform:rf(o,t)}}function ju(e={},t){let{filter:n,sort:r,reverse:i,initializer:o,...a}=e;return o===void 0&&(n!=null&&(o=Ev(n)),r!=null&&!wa(r)&&(o=of(o,Eh(r))),i&&(o=of(o,Tv))),{...a,...(r===null||wa(r))&&{sort:r},initializer:of(o,t)}}function rf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,en(n),r)}}function of(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,c,u,l,f;return{data:s=n,facets:c=r,channels:a}=e.call(this,n,r,i,...o),{data:l=s,facets:f=c,channels:u}=t.call(this,s,c,{...i,...a},...o),{data:l,facets:f,channels:{...a,...u}}}}function x7(e,t){return(e.initializer!=null?ju:Xu)(e,t)}function Ev(e){return(t,n)=>{const r=Ve(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function Tv(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function E7(e,t){return{...(Bu(e)&&e.channel!==void 0?ju:x7)(t,Eh(e)),sort:null}}function Eh(e){return(typeof e=="function"&&e.length!==1?T7:S7)(e)}function T7(e){return(t,n)=>{const r=(i,o)=>e(t[i],t[o]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function S7(e){let t,n;if({channel:t,value:e,order:n=Ta}={...qu(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Ta;break;case"descending":n=w7;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,o)=>{let a;if(t===void 0)a=Ve(r,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(a=o[t],!a)return{};a=a.value}const s=(c,u)=>n(a[c],a[u]);return{data:r,facets:i.map(c=>c.slice().sort(s))}}}function Xs(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function M7(e,t){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",R7]),t.href!=null&&e.href===void 0&&n.push(["href",kv]),n.filter(([,r])=>r!==void 0).map(([r,i])=>i===null?{name:r,initialize(){},scope(){},reduce(){}}:Sv(r,i,t))}function Sv(e,t,n){const r=Mv(e,t,n),[i,o]=Qc(r.label);let a;return{name:e,output:i,initialize(s){r.initialize(s),a=o([])},scope(s,c){r.scope(s,c)},reduce(s,c){a.push(r.reduce(s,c))}}}function Mv(e,t,n){const r=s7(e,n),i=Th(t,r);let o,a;return{label:ai(i===eu?null:r,i.label),initialize(s){o=r===void 0?s:Ve(s,r),i.scope==="data"&&(a=i.reduce(Sr(s),o))},scope(s,c){i.scope===s&&(a=i.reduce(c,o))},reduce(s,c){return i.scope==null?i.reduce(s,o,c):i.reduce(s,o,a,c)}}}function $g(e,t){return t?Vi(mu(e,n=>t[n]),mh):[[,e]]}function Th(e,t){if(typeof(e==null?void 0:e.reduce)=="function"&&Wa(e))return e;if(typeof e=="function")return A7(e);if(/^p\d{2}$/i.test(e))return Ln(i7(e));switch(`${e}`.toLowerCase()){case"first":return kv;case"last":return N7;case"count":return eu;case"distinct":return P7;case"sum":return t==null?eu:O7;case"proportion":return Fg(t,"data");case"proportion-facet":return Fg(t,"facet");case"deviation":return Ln(M1);case"min":return Ln(Yn);case"min-index":return Ln(S3);case"max":return Ln(Zt);case"max-index":return Ln(T3);case"mean":return Ug(Wo);case"median":return Ug(lr);case"variance":return Ln(S1);case"mode":return Ln(A3);case"x":return D7;case"x1":return $7;case"x2":return U7;case"y":return L7;case"y1":return F7;case"y2":return B7}throw new Error(`invalid reduce: ${e}`)}function k7(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function I7(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>Ta(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function A7(e){return{reduce(t,n,r){return e(wv(n,t),r)}}}function Ln(e){return{reduce(t,n){return e(t,r=>n[r])}}}function Ug(e){return{reduce(t,n){const r=e(t,i=>n[i]);return Nt(n)?new Date(r):r}}}const C7={reduce(e,t){return wv(t,e)}},kv={reduce(e,t){return t[e[0]]}},R7={reduce(e,t){const r=Vi(qr(e,o=>o.length,o=>t[o]),md),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[`… ${o.length.toLocaleString("en-US")} more`,wt(o,md)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},N7={reduce(e,t){return t[e[e.length-1]]}},eu={label:"Frequency",reduce(e){return e.length}},P7={label:"Distinct",reduce:(e,t)=>{const n=new k1;for(const r of e)n.add(t[r]);return n.size}},O7=Ln(wt);function Fg(e,t){return e==null?{scope:t,label:"Frequency",reduce:(n,r,i=1)=>n.length/i}:{scope:t,reduce:(n,r,i=1)=>wt(n,o=>r[o])/i}}function Iv(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const D7={reduce(e,t,{x1:n,x2:r}){return Iv(n,r)}},L7={reduce(e,t,{y1:n,y2:r}){return Iv(n,r)}},$7={reduce(e,t,{x1:n}){return n}},U7={reduce(e,t,{x2:n}){return n}},F7={reduce(e,t,{y1:n}){return n}},B7={reduce(e,t,{y2:n}){return n}};function Sa(e,{scale:t,type:n,value:r,filter:i,hint:o},a){return Av(a,{scale:t,type:n,value:Ve(e,r),label:ai(r),filter:i,hint:o})}function q7(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Sa(t,r,n)]))}function H7(e,t){return Object.fromEntries(Object.entries(e).map(([n,{scale:r,value:i}])=>{const o=r==null?null:t[r];return[n,o==null?i:Le(i,o)]}))}function Av(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=Dg(r,Hu)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale="opacity";break;case"symbol":Dg(r,_7)?(t.scale=null,t.value=Le(r,wh)):t.scale="symbol";break;default:t.scale=Ie.has(e)?e:null;break}else if(n!=null&&!Ie.has(n))throw new Error(`unknown scale: ${n}`);return t}function z7(e,t,n,r){const{reverse:i,reduce:o=!0,limit:a}=r;for(const s in r){if(!Ie.has(s))continue;let{value:c,reverse:u=i,reduce:l=o,limit:f=a}=qu(r[s]);if(u===void 0&&(u=c==="width"||c==="height"),l==null||l===!1)continue;const d=Bg(e,s)||t&&Bg(t,s);if(!d)throw new Error(`missing channel for scale: ${s}`);const h=d.value,[p=0,b=1/0]=kr(f)?f:f<0?[f]:[0,f];if(c==null)d.domain=()=>{let _=h;return u&&(_=_.slice().reverse()),(p!==0||b!==1/0)&&(_=_.slice(p,b)),_};else{const _=c==="data"?n:c==="height"?qg(e,"y1","y2"):c==="width"?qg(e,"x1","x2"):_d(e,c,c==="y"?"y2":c==="x"?"x2":void 0),v=Th(l===!0?"max":l,_);d.domain=()=>{let m=qr(Sr(h),g=>v.reduce(g,_),g=>h[g]);return m=Vi(m,u?G7:W7),(p!==0||b!==1/0)&&(m=m.slice(p,b)),m.map(mh)}}}}function Bg(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function qg(e,t,n){const r=_d(e,t),i=_d(e,n);return Le(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function _d(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function W7([e,t],[n,r]){return et(t,r)||et(e,n)}function G7([e,t],[n,r]){return ho(t,r)||et(e,n)}const Hg=new Map([["accent",sS],["category10",aS],["dark2",cS],["paired",uS],["pastel1",lS],["pastel2",fS],["set1",dS],["set2",hS],["set3",pS],["tableau10",gS],["brbg",Nn($y,Uy)],["prgn",Nn(Fy,By)],["piyg",Nn(qy,Hy)],["puor",Nn(zy,Wy)],["rdbu",Nn(hd,oo)],["rdgy",Nn(Gy,Vy)],["rdylbu",Nn(pd,Yc)],["rdylgn",Nn(Yy,Xy)],["spectral",Nn(jy,Ky)],["burd",zg(hd,oo)],["buylrd",zg(pd,Yc)],["blues",qe(w_,x_)],["greens",qe(E_,T_)],["greys",qe(S_,M_)],["oranges",qe(R_,N_)],["purples",qe(k_,I_)],["reds",qe(A_,C_)],["turbo",Pn(U_)],["viridis",Pn(F_)],["magma",Pn(B_)],["inferno",Pn(q_)],["plasma",Pn(H_)],["cividis",Pn(lh)],["cubehelix",Pn(P_)],["warm",Pn(O_)],["cool",Pn(D_)],["bugn",qe(Jy,Zy)],["bupu",qe(Qy,e_)],["gnbu",qe(t_,n_)],["orrd",qe(r_,i_)],["pubu",qe(s_,c_)],["pubugn",qe(o_,a_)],["purd",qe(u_,l_)],["rdpu",qe(f_,d_)],["ylgn",qe(g_,m_)],["ylgnbu",qe(h_,p_)],["ylorbr",qe(b_,y_)],["ylorrd",qe(__,v_)],["rainbow",Wg(L_)],["sinebow",Wg($_)]]);function qe(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Qt(t,n):e[n])}function Nn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Qt(t,n):e[n])}function zg(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Qt(r=>t(1-r),n):e[n].slice().reverse())}function Pn(e){return({length:t})=>Qt(e,Math.max(2,Math.floor(t)))}function Wg(e){return({length:t})=>Qt(e,Math.floor(t)+1).slice(0,-1)}function Cv(e){const t=`${e}`.toLowerCase();if(!Hg.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Hg.get(t)}function Ku(e,t){const n=Cv(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function V7(e,t="greys"){const n=new Set,[r,i]=Ku(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Gg=new Map([["brbg",Uy],["prgn",By],["piyg",Hy],["puor",Wy],["rdbu",oo],["rdgy",Vy],["rdylbu",Yc],["rdylgn",Xy],["spectral",Ky],["burd",e=>oo(1-e)],["buylrd",e=>Yc(1-e)],["blues",x_],["greens",T_],["greys",M_],["purples",I_],["reds",C_],["oranges",N_],["turbo",U_],["viridis",F_],["magma",B_],["inferno",q_],["plasma",H_],["cividis",lh],["cubehelix",P_],["warm",O_],["cool",D_],["bugn",Zy],["bupu",e_],["gnbu",n_],["orrd",i_],["pubugn",a_],["pubu",c_],["purd",l_],["rdpu",d_],["ylgnbu",p_],["ylgn",m_],["ylorbr",y_],["ylorrd",v_],["rainbow",L_],["sinebow",$_]]);function Sh(e){const t=`${e}`.toLowerCase();if(!Gg.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Gg.get(t)}const Y7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Vg(e){return e!=null&&Y7.has(`${e}`.toLowerCase())}const Rv=e=>t=>e(1-t),af=[0,1],Yg=new Map([["number",rt],["rgb",jr],["hsl",J8],["hcl",e5],["lab",Z8]]);function Nv(e){const t=`${e}`.toLowerCase();if(!Yg.has(t))throw new Error(`unknown interpolator: ${t}`);return Yg.get(t)}function Va(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=Ov(e,n),unknown:c,round:u,scheme:l,interval:f,range:d=Ie.get(e)===zu?rM(n,s):Ie.get(e)===Wu?iM(n,s):Ie.get(e)===Gu?af:void 0,interpolate:h=Ie.get(e)===Tn?l==null&&d!==void 0?jr:Sh(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?vu:rt,reverse:p}){if(f=Mr(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=Nv(h)),h.length===1?(p&&(h=Rv(h),p=!1),d===void 0&&(d=Float64Array.from(s,(b,_)=>_/(s.length-1)),d.length===2&&(d=af)),t.interpolate((d===af?_o:kh)(h))):t.interpolate(h),a){const[b,_]=ze(s);(b>0||_<0)&&(s=bd(s),Ea(s)!==Math.sign(b)?s[s.length-1]=0:s[0]=0)}return p&&(s=Ec(s)),t.domain(s).unknown(c),i&&(t.nice(i===!0?void 0:i),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:f}}function X7(e,t,n){return Va(e,sh(),t,n)}function j7(e,t,n){return Pv(e,t,{...n,exponent:.5})}function Pv(e,t,{exponent:n=1,...r}){return Va(e,py().exponent(n),t,{...r,type:"pow"})}function K7(e,t,{base:n=10,domain:r=oM(t),...i}){return Va(e,ly().base(n),t,{...i,domain:r})}function J7(e,t,{constant:n=1,...r}){return Va(e,dy().constant(n),t,r)}function Z7(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=aM(t),interpolate:s,reverse:c}){return n===void 0&&(n=s!==void 0?Qt(s,i):Ie.get(e)===Tn?Ku(o,i):void 0),a.length>0&&(a=gy(a,n===void 0?{length:i}:n).quantiles()),Mh(e,t,{domain:a,range:n,reverse:c})}function Q7(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Ov(e,t),unknown:a,interpolate:s,reverse:c}){const[u,l]=ze(o);let f;return n===void 0?(f=Yi(u,l,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=s!==void 0?Qt(s,r):Ie.get(e)===Tn?Ku(i,r):void 0):(f=Qt(rt(u,l),r+1).slice(1,-1),u instanceof Date&&(f=f.map(d=>new Date(d)))),Ea(en(o))<0&&f.reverse(),Mh(e,t,{domain:f,range:n,reverse:c,unknown:a})}function Mh(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Qt(o,n.length+1):Ie.get(e)===Tn?Ku(i,n.length+1):void 0,reverse:s}){n=en(n);const c=Ea(n);if(!eM(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Ec(a)),{type:"threshold",scale:my(c<0?Ec(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function eM(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=ho(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function tM(){return{type:"identity",scale:sy()}}function Ma(e,t=xv){return e.length?[Yn(e,({value:n})=>n===void 0?n:Yn(n,t)),Zt(e,({value:n})=>n===void 0?n:Zt(n,t))]:[0,1]}function Ov(e,t){const n=Ie.get(e);return(n===zu||n===Gu||n===Wu?nM:Ma)(t)}function nM(e){return[0,e.length?Zt(e,({value:t})=>t===void 0?t:Zt(t,xv)):1]}function rM(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Xi(e,.5,({value:a})=>a===void 0?NaN:Xi(a,.25,Ga)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/Zt(i);return o<1?i.map(a=>a*o):i}function iM(e,t){const n=lr(e,({value:o})=>o===void 0?NaN:lr(o,Math.abs)),r=t.map(o=>12*o/n),i=60/Zt(r);return i<1?r.map(o=>o*i):r}function oM(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Ma(e,Ga);if(n<0)return Ma(e,Yu)}return[1,10]}function aM(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function kh(e){return(t,n)=>r=>e(t+r*(n-t))}function Ju(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=Ma(r),unknown:c,pivot:u=0,scheme:l,range:f,symmetric:d=!0,interpolate:h=Ie.get(e)===Tn?l==null&&f!==void 0?jr:Sh(l!==void 0?l:"rdbu"):rt,reverse:p}){u=+u;let[b,_]=s;if(ho(b,_)<0&&([b,_]=[_,b],p=!p),b=Math.min(b,u),_=Math.max(_,u),typeof h!="function"&&(h=Nv(h)),f!==void 0&&(h=h.length===1?kh(h)(...f):Kd(h,f)),p&&(h=Rv(h)),d){const v=n.apply(u),m=v-n.apply(b),g=n.apply(_)-v;m<g?b=n.invert(v-g):m>g&&(_=n.invert(v+m))}return t.domain([b,u,_]).unknown(c).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[b,_],pivot:u,interpolate:h,scale:t}}function sM(e,t,n){return Ju(e,Py(),fM,t,n)}function cM(e,t,n){return Dv(e,t,{...n,exponent:.5})}function Dv(e,t,{exponent:n=1,...r}){return Ju(e,Ly().exponent(n=+n),pM(n),t,{...r,type:"diverging-pow"})}function uM(e,t,{base:n=10,pivot:r=1,domain:i=Ma(t,r<0?Yu:Ga),...o}){return Ju(e,Oy().base(n=+n),dM,t,{domain:i,pivot:r,...o})}function lM(e,t,{constant:n=1,...r}){return Ju(e,Dy().constant(n=+n),gM(n),t,r)}const fM={apply(e){return e},invert(e){return e}},dM={apply:Math.log,invert:Math.exp},hM={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function pM(e){return e===.5?hM:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function gM(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Lv(e,t,n,r){return Va(e,t,n,r)}function mM(e,t,n){return Lv(e,rS(),t,n)}function bM(e,t,n){return Lv(e,iS(),t,n)}const Ya=Symbol("ordinal");function $v(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:c}){return i=Mr(i,r),o===void 0&&(o=Fv(n,i,e)),(r==="categorical"||r===Ya)&&(r="ordinal"),s&&(o=Ec(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:c,interval:i}}function yM(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...c}){r=Mr(r,n),i===void 0&&(i=Fv(t,r,e));let u;if(Ie.get(e)===Vu)u=wM(t),o=o===void 0?xM(u):Le(o,wh);else if(Ie.get(e)===Tn&&(o===void 0&&(n==="ordinal"||n===Ya)&&(o=V7(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const l=Sh(a),f=o[0],d=o[1]-o[0];o=({length:h})=>Qt(p=>l(f+d*p),h)}else o=Cv(a);if(s===ud)throw new Error(`implicit unknown on ${e} scale is not supported`);return $v(e,ah().unknown(s),t,{...c,type:n,domain:i,range:o,hint:u})}function _M(e,t,{align:n=.5,padding:r=.5,...i}){return Uv(UE().align(n).padding(r),t,i,e)}function vM(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Uv(Su().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Uv(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=$v(r,e,t,n),e.round=i,e}function Fv(e,t,n){const r=new k1;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=ze(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&Ie.get(n)===pn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Vi(r,Ta)}function Xg(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function wM(e){return{fill:Xg(e,"fill"),stroke:Xg(e,"stroke")}}function xM(e){return Mt(e.fill)?PS:NS}let vd=0;function EM(){const e=vd;return vd=0,e}function Hi(e){console.warn(e),++vd}function wd(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,facet:{label:p=t}={},...b}={}){const _={};for(const[v,m]of e){const g=b[v],y=zv(v,m,{round:Ie.get(v)===pn?s:void 0,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,...g});if(y){let{label:w=v==="fx"||v==="fy"?p:t,percent:x,transform:T,inset:A,insetTop:R=A!==void 0?A:v==="y"?r:0,insetRight:D=A!==void 0?A:v==="x"?i:0,insetBottom:k=A!==void 0?A:v==="y"?o:0,insetLeft:$=A!==void 0?A:v==="x"?a:0}=g||{};if(T==null)T=void 0;else if(typeof T!="function")throw new Error("invalid scale transform; not a function");y.percent=!!x,y.label=w===void 0?SM(m,y):w,y.transform=T,v==="x"||v==="fx"?(y.insetLeft=+$,y.insetRight=+D):(v==="y"||v==="fy")&&(y.insetTop=+R,y.insetBottom=+k),_[v]=y}}return _}function jg(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:o}])=>(n.type=r,i!=null&&(n.interval=i),o!=null&&(n.label=o),[t,n])))}function TM(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Ih(t):t;i&&Kg(i,a),o&&Jg(o,a);const s=i||o?Bv(e,t):t;n&&Kg(n,s),r&&Jg(r,s)}function SM(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(Wv(t)&&/^(date|time|year)$/i.test(n)))return!si(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Ih(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:u,marginLeft:l}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:o,height:a}}function Bv({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Ih(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:c}}function Kg(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,c=i-a-r;e.range=[s,Math.max(s,c)],si(e)||(e.range=Hv(e)),e.scale.range(e.range)}qv(e)}function Jg(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,c=i-a-r;e.range=[Math.max(s,c),s],si(e)?e.range.reverse():e.range=Hv(e),e.scale.range(e.range)}qv(e)}function qv(e){e.round===void 0&&IM(e)&&MM(e)<=30&&e.scale.round(!0)}function MM({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function Hv(e){const t=e.scale.domain().length+Gv(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function Zg(e,t,n){return zv(e,n===void 0?void 0:[{hint:n}],{...t})}function zv(e,t=[],n={}){const r=kM(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&si({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Nt)?Hi(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ii(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Ii(r)}".`):i.some(l7)?Hi(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ii(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Ii(r)}".`):i.some(f7)&&Hi(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ii(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Ii(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=js(t,n,tu);break;case"identity":switch(Ie.get(e)){case pn:n=js(t,n,tu);break;case Vu:n=js(t,n,AM);break}break;case"utc":case"time":n=js(t,n,CM);break}switch(r){case"diverging":return sM(e,t,n);case"diverging-sqrt":return cM(e,t,n);case"diverging-pow":return Dv(e,t,n);case"diverging-log":return uM(e,t,n);case"diverging-symlog":return lM(e,t,n);case"categorical":case"ordinal":case Ya:return yM(e,t,n);case"cyclical":case"sequential":case"linear":return X7(e,t,n);case"sqrt":return j7(e,t,n);case"threshold":return Mh(e,t,n);case"quantile":return Z7(e,t,n);case"quantize":return Q7(e,t,n);case"pow":return Pv(e,t,n);case"log":return K7(e,t,n);case"symlog":return J7(e,t,n);case"utc":return bM(e,t,n);case"time":return mM(e,t,n);case"point":return _M(e,t,n);case"band":return vM(e,t,n);case"identity":return Ie.get(e)===pn?tM():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Ii(e){return typeof e=="symbol"?e.description:e}const Qg={toString:()=>"projection"};function kM(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=Qg);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===Qg)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Ie.get(e);if(c===zu)return"sqrt";if(c===Gu||c===Wu)return"linear";if(c===Vu)return"ordinal";if((r||i||[]).length>2)return sf(c);if(r!==void 0)return Og(r)?sf(c):Nt(r)?"utc":c===Tn&&(a!=null||Vg(o))?"diverging":"linear";const u=t.map(({value:l})=>l).filter(l=>l!==void 0);return u.some(Og)?sf(c):u.some(Nt)?"utc":c===Tn&&(a!=null||Vg(o))?"diverging":"linear"}function sf(e){switch(e){case pn:return"point";case Tn:return Ya;default:return"ordinal"}}function Wv({type:e}){return e==="time"||e==="utc"}function si({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ya}function Gv({type:e}){return e==="threshold"}function IM({type:e}){return e==="point"||e==="band"}function so(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function js(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function AM(e){return Le(e,wh)}function CM(e){return Le(e,Vv)}function tu(e){return o7(e)?e:Le(e,Ah,Float64Array)}function Ah(e){return e==null?NaN:Number(e)}function Vv(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?E1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function RM(e){return t=>{if(!Ie.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?NM(e[t]):void 0}}function NM({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:bd(n),...r!==void 0&&{range:bd(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}const Yv=Math.PI,On=2*Yv,cf=.618;function PM({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,c,u="frame";if(Wa(e)){let w;if({type:e,domain:c,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:o=w!==void 0?w:o,clip:u=u,...s}=e,e==null)return}typeof e!="function"&&({type:e}=Xv(e));const{width:l,height:f,marginLeft:d,marginRight:h,marginTop:p,marginBottom:b}=a,_=l-d-h-o-r,v=f-p-b-n-i;if(e=e==null?void 0:e({width:_,height:v,clip:u,...s}),e==null)return;u=OM(u,d,p,l-h,f-b);let m=d+o,g=p+n,y;if(c!=null){const[[w,x],[T,A]]=Ua(e).bounds(c),R=Math.min(_/(T-w),v/(A-x));R>0?(m-=(R*(w+T)-_)/2,g-=(R*(x+A)-v)/2,y=Hc({point(D,k){this.stream.point(D*R+m,k*R+g)}})):Hi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=m===0&&g===0?jv():Hc({point(w,x){this.stream.point(w+m,x+g)}})),{stream:w=>e.stream(y.stream(u(w)))}}function Xv(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Vt(TE,.7463,.4673);case"albers":return Ks(Xb,.7463,.4673);case"azimuthal-equal-area":return Vt(SE,4,4);case"azimuthal-equidistant":return Vt(ME,On,On);case"conic-conformal":return Ks(IE,On,On);case"conic-equal-area":return Ks(zc,6.1702,2.9781);case"conic-equidistant":return Ks(RE,7.312,3.6282);case"equal-earth":return Vt(PE,5.4133,2.6347);case"equirectangular":return Vt(AE,On,Yv);case"gnomonic":return Vt(OE,3.4641,3.4641);case"identity":return{type:jv};case"reflect-y":return{type:DM};case"mercator":return Vt(Zb,On,On);case"orthographic":return Vt(DE,2,2);case"stereographic":return Vt(LE,2,2);case"transverse-mercator":return Vt($E,On,On);default:throw new Error(`unknown projection type: ${e}`)}}function OM(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Rb(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Vt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var u,l,f;const c=e();return a!=null&&((u=c.precision)==null||u.call(c,a)),o!=null&&((l=c.rotate)==null||l.call(c,o)),typeof s=="number"&&((f=c.clipAngle)==null||f.call(c,s)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function Ks(e,t,n){const{type:r,aspectRatio:i}=Vt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:c,height:u}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&l.fitSize([c,u],{type:"Sphere"})),l},aspectRatio:i}}const jv=_o({stream:e=>e}),DM=_o(Hc({point(e,t){this.stream.point(e,-t)}}));function uf(e,t,n,r,i){const o=n[e]&&n[e].scale==="x",a=n[t]&&n[t].scale==="y";if(o&&a)LM(e,t,r,i.projection);else{if(o)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(a)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function LM(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),c=n[t]=new Float64Array(a).fill(NaN);let u;const l=r.stream({point(f,d){s[u]=f,c[u]=d}});for(u=0;u<a;++u)l.point(i[u],o[u])}function $M(e,t){if(typeof(e==null?void 0:e.stream)=="function")return cf;if(Wa(e)&&(e=e.type),e==null)return UM(t)?cf:void 0;if(typeof e!="function"){const{aspectRatio:n}=Xv(e);if(n)return n}return cf}function UM(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function Zu(e={},t){const{document:n=typeof window<"u"?window.document:void 0}=e;return{document:n,projection:PM(e,t)}}function je(e,{document:t}){return da(Hd(e).call(t.documentElement))}function FM(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,t=e(...r)),t)}const BM=FM(e=>new Intl.NumberFormat(e));function qM(e="en-US"){const t=BM(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Kv(e){return x1(e,"Invalid Date")}function HM(e="en-US"){const t=qM(e);return n=>(n instanceof Date?Kv:typeof n=="number"?t:Kt)(n)}const Qu=HM(),Et=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let zM=0;function em(){return`plot-clip-${++zM}`}function WM(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:u,strokeWidth:l,strokeOpacity:f,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:b,strokeDashoffset:_,opacity:v,mixBlendMode:m,paintOrder:g,pointerEvents:y,shapeRendering:w},{ariaLabel:x,fill:T="currentColor",fillOpacity:A,stroke:R="none",strokeOpacity:D,strokeWidth:k,strokeLinecap:$,strokeLinejoin:M,strokeMiterlimit:C,paintOrder:I}){T===null&&(s=null,c=null),R===null&&(u=null,f=null),Mt(T)?!Mt(R)&&!Mt(s)&&(R="none"):Mt(R)&&!Mt(u)&&(T="none");const[P,q]=xr(s,T),[z,G]=kt(c,A),[K,ee]=xr(u,R),[ue,le]=kt(f,D),[Je,B]=kt(v);xa(ee)||(l===void 0&&(l=k),h===void 0&&(h=$),d===void 0&&(d=M),p===void 0&&!h7(d)&&(p=C),!xa(q)&&g===void 0&&(g=I));const[ae,at]=kt(l);return T!==null&&(e.fill=ht(q,"currentColor"),e.fillOpacity=Bo(G,1)),R!==null&&(e.stroke=ht(ee,"none"),e.strokeWidth=Bo(at,1),e.strokeOpacity=Bo(le,1),e.strokeLinejoin=ht(d,"miter"),e.strokeLinecap=ht(h,"butt"),e.strokeMiterlimit=Bo(p,4),e.strokeDasharray=ht(b,"none"),e.strokeDashoffset=ht(_,"0")),e.target=Kt(a),e.ariaLabel=Kt(x),e.ariaDescription=Kt(i),e.ariaHidden=Kt(o),e.opacity=Bo(B,1),e.mixBlendMode=ht(m,"normal"),e.paintOrder=ht(g,"normal"),e.pointerEvents=ht(y,"auto"),e.shapeRendering=ht(w,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:P,scale:"auto",optional:!0},fillOpacity:{value:z,scale:"opacity",optional:!0},stroke:{value:K,scale:"auto",optional:!0},strokeOpacity:{value:ue,scale:"opacity",optional:!0},strokeWidth:{value:ae,optional:!0},opacity:{value:Je,scale:"opacity",optional:!0}}}function GM(e,t){t&&e.filter(n=>xh(t[n])).append("title").call(YM,t)}function VM(e,t){t&&e.filter(([n])=>xh(t[n])).append("title").call(XM,t)}function YM(e,t){t&&e.text(n=>Qu(t[n]))}function XM(e,t){t&&e.text(([n])=>Qu(t[n]))}function Ir(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&ie(e,"aria-label",f=>n[f]),i&&ie(e,"fill",f=>i[f]),o&&ie(e,"fill-opacity",f=>o[f]),a&&ie(e,"stroke",f=>a[f]),s&&ie(e,"stroke-opacity",f=>s[f]),c&&ie(e,"stroke-width",f=>c[f]),u&&ie(e,"opacity",f=>u[f]),l&&Jv(e,f=>l[f],t),GM(e,r)}function jM(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&ie(e,"aria-label",([f])=>n[f]),i&&ie(e,"fill",([f])=>i[f]),o&&ie(e,"fill-opacity",([f])=>o[f]),a&&ie(e,"stroke",([f])=>a[f]),s&&ie(e,"stroke-opacity",([f])=>s[f]),c&&ie(e,"stroke-width",([f])=>c[f]),u&&ie(e,"opacity",([f])=>u[f]),l&&Jv(e,([f])=>l[f],t),VM(e,r)}function KM({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:c}){return[e,t,n,r,i,o,a,s,c].filter(u=>u!==void 0)}function JM(e,t,n){const r=mu(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&Hi("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*ZM(e,t,{z:n},r){const{z:i}=r,o=KM(r),a=[...t,...o];for(const s of i?JM(e,i,n):[e]){let c,u;e:for(const l of s){for(const f of a)if(!ao(f[l])){u&&u.push(-1);continue e}if(c===void 0){u&&(yield u),c=o.map(f=>nf(f[l])),u=[l];continue}u.push(l);for(let f=0;f<o.length;++f)if(nf(o[f][l])!==c[f]){yield u,c=o.map(h=>nf(h[l])),u=[l];continue e}}u&&(yield u)}}function QM(e){return e===!0?e="frame":e===!1&&(e=null),_v(e,"clip",["frame","sphere"])}function ek(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:o,height:a,marginLeft:s,marginRight:c,marginTop:u,marginBottom:l}=n,f=em();i=`url(#${f})`,e=je("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",f).append("rect").attr("x",s).attr("y",u).attr("width",o-c-s).attr("height",a-u-l)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const a=em();i=`url(#${a})`,e.append("clipPath").attr("id",a).append("path").attr("d",Ua(o)({type:"Sphere"}));break}}ie(e,"aria-label",t.ariaLabel),ie(e,"aria-description",t.ariaDescription),ie(e,"aria-hidden",t.ariaHidden),ie(e,"clip-path",i)}function In(e,t,n,r){ek(e,t,n,r),ie(e,"fill",t.fill),ie(e,"fill-opacity",t.fillOpacity),ie(e,"stroke",t.stroke),ie(e,"stroke-width",t.strokeWidth),ie(e,"stroke-opacity",t.strokeOpacity),ie(e,"stroke-linejoin",t.strokeLinejoin),ie(e,"stroke-linecap",t.strokeLinecap),ie(e,"stroke-miterlimit",t.strokeMiterlimit),ie(e,"stroke-dasharray",t.strokeDasharray),ie(e,"stroke-dashoffset",t.strokeDashoffset),ie(e,"shape-rendering",t.shapeRendering),ie(e,"paint-order",t.paintOrder),ie(e,"pointer-events",t.pointerEvents)}function An(e,t){tk(e,"mix-blend-mode",t.mixBlendMode),ie(e,"opacity",t.opacity)}function Jv(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(ji.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(ji.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function ie(e,t,n){n!=null&&e.attr(t,n)}function tk(e,t,n){n!=null&&e.style(t,n)}function Cn(e,t,{x:n,y:r},i=Et,o=Et){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function ht(e,t){if((e=Kt(e))!==t)return e}function Bo(e,t){if((e=Se(e))!==t)return e}const nk=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/;function Ch(e){if(e===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(e=`${e}`,!nk.test(e))throw new Error(`invalid class name: ${e}`);return e}function Rh(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Nh({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}function rk(e,t,n={}){let r=.5-Et,i=.5+Et,o=.5+Et,a=.5-Et;for(const{marginTop:b,marginRight:_,marginBottom:v,marginLeft:m}of t)b>r&&(r=b),_>i&&(i=_),v>o&&(o=v),m>a&&(a=m);let{margin:s,marginTop:c=s!==void 0?s:r,marginRight:u=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:f=s!==void 0?s:a}=n;c=+c,u=+u,l=+l,f=+f;let{width:d=640,height:h=ik(e,t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+l-o)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:c,marginRight:u,marginBottom:l,marginLeft:f};if(e.fx||e.fy){let{margin:b,marginTop:_=b!==void 0?b:c,marginRight:v=b!==void 0?b:u,marginBottom:m=b!==void 0?b:l,marginLeft:g=b!==void 0?b:f}=n.facet??{};_=+_,v=+v,m=+m,g=+g,p.facet={marginTop:_,marginRight:v,marginBottom:m,marginLeft:g}}return p}function ik({x:e,y:t,fy:n,fx:r},i,{projection:o,aspectRatio:a},{width:s,marginTopDefault:c,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:f}){const d=n?n.scale.domain().length:1,h=$M(o,i);if(h){const b=r?r.scale.domain().length:1,_=(1.1*d-.1)/(1.1*b-.1)*h,v=Math.max(.1,Math.min(10,_));return Math.round((s-f-u)*v+c+l)}const p=t?si(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const b=tm("y",t)/(tm("x",e)*a),_=r?r.scale.bandwidth():1,v=n?n.scale.bandwidth():1,m=_*(s-f-u)-e.insetLeft-e.insetRight;return(b*m+t.insetTop+t.insetBottom)/v+c+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function tm(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=c=>Math.pow(c,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=ze(r);return Math.abs(i(a)-i(o))}function ok(e,t){const{fx:n,fy:r}=wd(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?p3(i,o).map(([a,s],c)=>({x:a,y:s,i:c})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function ak({x:e,y:t}){const n=e&&new Map(e.map((i,o)=>[i,o])),r=t&&new Map(t.map((i,o)=>[i,o]));return e&&t?(i,o)=>n.get(i.x)-n.get(o.x)||r.get(i.y)-r.get(o.y):e?(i,o)=>n.get(i.x)-n.get(o.x):(i,o)=>r.get(i.y)-r.get(o.y)}function Ph(e,{fx:t,fy:n}){const r=Sr(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?qr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?qr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):qr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function sk(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function ck(e){const t=[],n=new Uint32Array(wt(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const uk=new Map([["top",lf],["right",hf],["bottom",ff],["left",df],["top-left",Js(lf,df)],["top-right",Js(lf,hf)],["bottom-left",Js(ff,df)],["bottom-right",Js(ff,hf)],["top-empty",fk],["right-empty",pk],["bottom-empty",dk],["left-empty",hk],["empty",gk]]);function lk(e){if(e==null)return null;const t=uk.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function lf(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function ff(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function df(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function hf(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function fk(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function dk(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function hk(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function pk(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function gk(e,t,{empty:n}){return n}function Js(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function pf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function Zv(e){return si(e)&&e.interval===void 0?void 0:"tabular-nums"}function mk(e,t){return e===void 0?Nt(t)?Kv:Kt:typeof e=="function"?e:(typeof e=="string"?Nt(t)?Pu:gt:_o)(e)}function bk(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:c=16+r,marginLeft:u=0,style:l,ticks:f=(i-u-s)/64,tickFormat:d,fontVariant:h=Zv(e),round:p=!0,className:b}=t;const _=Zu(t);b=Ch(b),d===null&&(d=()=>null);const v=je("svg",_).attr("class",b).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(k=>k.append("style").text(`
        .${b} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${b} text {
          white-space: pre;
        }
      `)).call(Rh,l);let m=k=>k.selectAll(".tick line").attr("y1",a+c-o),g;const y=p?(k,$)=>k.rangeRound($):(k,$)=>k.range($),{type:w,domain:x,range:T,interpolate:A,scale:R,pivot:D}=e;if(A){const k=T===void 0?A:Kd(A.length===1?kh(A):A,T);g=y(R.copy(),Qt(rt(u,i-s),Math.min(x.length+(D!==void 0),T===void 0?1/0:T.length)));const $=256,M=_.document.createElement("canvas");M.width=$,M.height=1;const C=M.getContext("2d");for(let I=0,P=$-1;I<$;++I)C.fillStyle=k(I/P),C.fillRect(I,0,1,1);v.append("image").attr("x",u).attr("y",a).attr("width",i-u-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",M.toDataURL())}else if(w==="threshold"){const k=x,$=d===void 0?M=>M:typeof d=="string"?gt(d):d;g=y(sh().domain([-1,T.length-1]),[u,i-s]),v.append("g").selectAll().data(T).enter().append("rect").attr("x",(M,C)=>g(C-1)).attr("y",a).attr("width",(M,C)=>g(C)-g(C-1)).attr("height",o-a-c).attr("fill",M=>M),f=Le(k,(M,C)=>C),d=M=>$(k[M],M)}else g=y(Su().domain(x),[u,i-s]),v.append("g").selectAll().data(x).enter().append("rect").attr("x",g).attr("y",a).attr("width",Math.max(0,g.bandwidth()-1)).attr("height",o-a-c).attr("fill",R),m=()=>{};return v.append("g").attr("transform",`translate(0,${o-c})`).call(U3(g).ticks(Array.isArray(f)?null:f,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ht(h,"normal")).call(m).call(k=>k.select(".domain").remove()),n!==void 0&&v.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),v.node()}function nm(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function yk(e,t){if(!si(e)&&!Gv(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Qv(e,t,(n,r)=>n.append("svg").attr("fill",r.scale).append("rect").attr("width","100%").attr("height","100%"),n=>`.${n}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function _k(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=e.hint)==null?void 0:l.stroke)()!==void 0?e.hint.stroke:Mt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[f,d]=xr(t),[h,p]=xr(r),b=nm(c,f),_=nm(c,h),v=a*a*Math.PI;return n=kt(n)[1],i=kt(i)[1],o=kt(o)[1],Qv(e,s,m=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",f==="color"?g=>b.scale(g):null).attr("stroke",h==="color"?g=>_.scale(g):null).append("path").attr("d",g=>{const y=Br();return e.scale(g).draw(y,v),y}),m=>`.${m}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${d};
        fill-opacity: ${n};
        stroke: ${p};
        stroke-width: ${o}px;
        stroke-opacity: ${i};
      }`)}function Qv(e,t={},n,r){let{columns:i,tickFormat:o,fontVariant:a=Zv(e),swatchSize:s=15,swatchWidth:c=s,swatchHeight:u=s,marginLeft:l=0,className:f,style:d,width:h}=t;const p=Zu(t);f=Ch(f),o=mk(o,e.domain);const b=je("div",p).attr("class",f).attr("style",`
        --swatchWidth: ${+c}px;
        --swatchHeight: ${+u}px;
      `);let _;return i!=null?(_=`
      .${f}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${f}-swatch::before {
        flex-shrink: 0;
      }
      .${f}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,b.style("columns",i).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e).call(v=>v.append("div").attr("class",`${f}-label`).attr("title",o).text(o))):(_=`
      .${f} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${f}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,b.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),b.call(v=>v.insert("style","*").text(`
        .${f} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${l===void 0?"":`
          margin-left: ${+l}px;`}${h===void 0?"":`
          width: ${h}px;`}
        }
        ${r(f)}
        ${_}
      `)).style("font-variant",ht(a,"normal")).call(Rh,d).node()}const nu=new Map([["symbol",_k],["color",ew],["opacity",xk]]);function vk(e={}){for(const[t,n]of nu){const r=e[t];if(qi(r)){const i=Zu(e);let o;if(t==="symbol"){const{fill:a,stroke:s=a===void 0&&qi(e.color)?"color":void 0}=e;o={fill:a,stroke:s}}return n(Zg(t,r,o),Oh(i,r,e),a=>qi(e[a])?Zg(a,e[a]):null)}}throw new Error("unknown legend type; no scale found")}function wk(e,t,n={}){return(r,i)=>{if(!nu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return nu.get(r)(e[r],Oh(t,n[r],i),o=>e[o])}}function Oh(e,{label:t,ticks:n,tickFormat:r}={},i){return p7(i,e,{label:t,ticks:n,tickFormat:r})}function ew(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return yk(e,n);case"ramp":return bk(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function xk({type:e,interpolate:t,...n},{legend:r=!0,color:i=vr(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return ew({type:e,...n,interpolate:Ek(i)},{legend:r,...o})}function Ek(e){const{r:t,g:n,b:r}=vr(e)||vr(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Tk(e,t,n){const r=[];for(const[i,o]of nu){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],Oh(t,e[i],a),c=>e[c]);s!=null&&r.push(s)}}return r}class Ot{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:c,sort:u,dx:l=0,dy:f=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:b=d,marginLeft:_=d,clip:v,channels:m}=r;if(this.data=t,this.sort=wa(u)?u:null,this.initializer=ju(r).initializer,this.transform=this.initializer?r.transform:Xu(r).transform,o===null||o===!1?this.facet=null:(this.facet=Zn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=s,this.fy=c),this.facetAnchor=lk(a),n=Lg(n),m!==void 0&&(n={...Lg(m),...n}),i!==void 0&&(n={...WM(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([g,y])=>{const{value:w}=y;return Bu(w)&&(y={...y,value:w.value},w.scale!==void 0&&(y.scale=w.scale)),[g,y]}).filter(([g,{value:y,optional:w}])=>{if(y!=null)return!0;if(w)return!1;throw new Error(`missing channel value: ${g}`)})),this.dx=+l,this.dy=+f,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+b,this.marginLeft=+_,this.clip=QM(v),this.facet==="super"){if(s||c)throw new Error("super-faceting cannot use fx or fy");for(const g in this.channels){const{scale:y}=n[g];if(!(y!=="x"&&y!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=en(this.data);t===void 0&&r!=null&&(t=[Sr(r)]),this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=en(r));const i=q7(this.channels,r);return this.sort!=null&&z7(i,n,r,this.sort),{data:r,facets:t,channels:i}}filter(t,n,r){for(const i in n){const{filter:o=ao}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){uf("x","y",t,n,r),uf("x1","y1",t,n,r),uf("x2","y2",t,n,r)}scale(t,n,r){const i=H7(t,n);return r.projection&&this.project(t,i,r),i}}function tw(...e){return e.plot=Ot.prototype.plot,e}const nw=Math.PI/180;function Dh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=iw(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function rw({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=iw(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function iw(e,t,n){return e===void 0&&t===void 0&&n===void 0?Et?[1,0]:[.5,.5]:[t,n]}function ow(e,{interval:t}){return e={...qu(e)},e.interval=Mr(e.interval===void 0?t:e.interval),e}function aw(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:c}=ow(i,n);if(s==null||c==null&&!r)return n;const u=ai(i);if(c==null){let h;const p={transform:b=>h||(h=Ve(b,s)),label:u};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0?p:a}}let l,f;function d(h){return f!==void 0&&h===l?f:f=Le(Ve(l=h,s),p=>c.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:u}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(p=>c.offset(p)),label:u}:a})}function sw(e,t,n){const{[e]:r}=n,{value:i,interval:o}=ow(r,n);return i==null||o==null?n:t({...n,[e]:{label:ai(r),transform:a=>{const s=Le(Ve(a,i),u=>o.floor(u)),c=s.map(u=>o.offset(u));return s.map(Nt(s)?(u,l)=>u==null||isNaN(u=+u)||(l=c[l],l==null)||isNaN(l=+l)?void 0:new Date((u+l)/2):(u,l)=>u==null||(l=c[l],l==null)?NaN:(+u+ +l)/2)}}})}function Sk(e={}){return aw("x",Dh,e)}function cw(e={}){return aw("y",rw,e)}function Mk(e={}){return sw("x",Dh,e)}function kk(e={}){return sw("y",rw,e)}const uw={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Ik extends Ot{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:c=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,uw),this.insetTop=Se(s),this.insetBottom=Se(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y1:u,y2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:b,marginBottom:_}=i,{insetTop:v,insetBottom:m}=this;return je("svg:g",o).call(In,this,i).call(Cn,this,{x:c&&a},Et,0).call(g=>g.selectAll().data(t).enter().append("line").call(An,this).attr("x1",c?y=>c[y]:(b+f-p)/2).attr("x2",c?y=>c[y]:(b+f-p)/2).attr("y1",u&&!so(s)?y=>u[y]+v:h+v).attr("y2",l&&!so(s)?s.bandwidth?y=>l[y]+s.bandwidth()-m:y=>l[y]-m:d-_-m).call(Ir,this,r)).node()}}class Ak extends Ot{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:c=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,uw),this.insetRight=Se(s),this.insetLeft=Se(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:c,x1:u,x2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:b,marginBottom:_}=i,{insetLeft:v,insetRight:m}=this;return je("svg:g",o).call(In,this,i,o).call(Cn,this,{y:c&&s},0,Et).call(g=>g.selectAll().data(t).enter().append("line").call(An,this).attr("x1",u&&!so(a)?y=>u[y]+v:b+v).attr("x2",l&&!so(a)?a.bandwidth?y=>l[y]+a.bandwidth()-m:y=>l[y]-m:f-p-m).attr("y1",c?y=>c[y]:(h+d-_)/2).attr("y2",c?y=>c[y]:(h+d-_)/2).call(Ir,this,r)).node()}}function Ck(e,t){let{x:n=bt,y:r,y1:i,y2:o,...a}=cw(t);return[i,o]=lw(r,i,o),new Ik(e,{...a,x:n,y1:i,y2:o})}function Oi(e,t){let{y:n=bt,x:r,x1:i,x2:o,...a}=Sk(t);return[i,o]=lw(r,i,o),new Ak(e,{...a,y:n,x1:i,x2:o})}function lw(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Lh(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const Rk={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},fw="­";let $h=class extends Ot{constructor(t,n={}){const{x:r,y:i,text:o=kr(t)&&u7(t)?bt:yv,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:l=1/0,textOverflow:f,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:b,fontVariant:_,fontWeight:v,rotate:m}=n,[g,y]=kt(m,0),[w,x]=Uk(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:c7(g),optional:!0},text:{value:o,filter:xh,optional:!0}},n,Rk),this.rotate=y,this.textAnchor=ht(s,"middle"),this.lineAnchor=Zn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+l,this.textOverflow=Nk(f),this.monospace=!!d,this.fontFamily=Kt(h),this.fontSize=x,this.fontStyle=Kt(b),this.fontVariant=Kt(_),this.fontWeight=Kt(v),this.frameAnchor=yh(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=qk(this),this.clipLine=Hk(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,rotate:l,text:f,title:d,fontSize:h}=r,{rotate:p}=this,[b,_]=Nh(this,i);return je("svg:g",o).call(In,this,i,o).call(Dk,this,f,i).call(Cn,this,{x:c&&a,y:u&&s}).call(v=>v.selectAll().data(t).enter().append("text").call(An,this).call(Pk,this,f,d).attr("transform",Lh`translate(${c?m=>c[m]:b},${u?m=>u[m]:_})${l?m=>` rotate(${l[m]})`:p?` rotate(${p})`:""}`).call(ie,"font-size",h&&(m=>h[m])).call(Ir,this,r)).node()}};function Nk(e){return e==null?null:Zn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Pk(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=t;e.each(function(u){const l=s(Qu(n[u])).map(c),f=l.length,d=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1)for(let h=0;h<f;++h){if(!l[h])continue;const p=this.ownerDocument.createElementNS(ji.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(d+h)*o}em`),p.textContent=l[h],this.appendChild(p)}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==n[u]){const h=this.ownerDocument.createElementNS(ji.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function Uh(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=bh(n,r)),new $h(e,{...i,x:n,y:r})}function Ok(e,t={}){const{x:n=bt,...r}=t;return new $h(e,kk({...r,x:n}))}function $n(e,t={}){const{y:n=bt,...r}=t;return new $h(e,Mk({...r,y:n}))}function Dk(e,t,n){ie(e,"text-anchor",t.textAnchor),ie(e,"font-family",t.fontFamily),ie(e,"font-size",t.fontSize),ie(e,"font-style",t.fontStyle),ie(e,"font-variant",t.fontVariant===void 0?Lk(n):t.fontVariant),ie(e,"font-weight",t.fontWeight)}function Lk(e){return d7(e)||Nt(e)?"tabular-nums":void 0}const $k=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Uk(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),$k.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Fk(e,t,n){const r=[];let i,o=0;for(const[a,s,c]of Bk(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===fw?"-":"")),i=a),c){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*Bk(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case fw:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const rm={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function dw(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=vo(e,i))r+=rm[e[i]]??(gw(e,i)?120:rm.e);return r}function hw(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=vo(e,i))r+=gw(e,i)?200:100;return r}function qk({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?hw:dw,i=t*100;return o=>Fk(o,i,r)}function Hk({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?hw:dw,i=t*100;switch(n){case"clip-start":return o=>om(o,i,r,"");case"clip-end":return o=>im(o,i,r,"");case"ellipsis-start":return o=>om(o,i,r,"…");case"ellipsis-middle":return o=>zk(o,i,r,"…");case"ellipsis-end":return o=>im(o,i,r,"…")}}function ru(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,c=e.length;a<c;a=s){s=vo(e,a);const u=n(e,a,s);if(o+u>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=u,i.push(a)}return[-1,0]}function im(e,t,n,r){e=e.trim();const i=n(r),[o]=ru(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function zk(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=ru(e,t/2,n,o),[c]=ru(e,i-t/2-s+o,n,-o);return c<0?r:e.slice(0,a).trimEnd()+r+e.slice(vo(e,c)).trimStart()}function om(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=ru(e,i-t+o,n,-o);return a<0?r:r+e.slice(vo(e,a)).trimStart()}const xd=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,am=/\p{Extended_Pictographic}/uy;function vo(e,t){return t+=Wk(e,t)?2:1,Vk(e,t)&&(t=xd.lastIndex),Gk(e,t)?vo(e,t+1):t}function pw(e,t){return e.charCodeAt(t)<128}function Wk(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Gk(e,t){return e.charCodeAt(t)===8205}function Vk(e,t){return pw(e,t)?!1:(xd.lastIndex=t,xd.test(e))}function gw(e,t){return pw(e,t)?!1:(am.lastIndex=t,am.test(e))}const Yk={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},mw=3.5,Xk=mw*5,bw={draw(e,t,n){const r=t*n/Xk;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},jk={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},Kk=new Map([["arrow",bw],["spike",jk]]);function Jk(e){return e&&typeof e.draw=="function"}function Zk(e){if(Jk(e))return e;const t=Kk.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class yw extends Ot{constructor(t,n={}){const{x:r,y:i,r:o=mw,length:a,rotate:s,shape:c=bw,anchor:u="middle",frameAnchor:l}=n,[f,d]=kt(a,12),[h,p]=kt(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,Yk),this.r=+o,this.length=d,this.rotate=p,this.shape=Zk(c),this.anchor=Zn(u,"anchor",["start","middle","end"]),this.frameAnchor=yh(l)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,length:l,rotate:f}=r,{length:d,rotate:h,anchor:p,shape:b,r:_}=this,[v,m]=Nh(this,i);return je("svg:g",o).call(In,this,i,o).call(Cn,this,{x:c&&a,y:u&&s}).call(g=>g.selectAll().data(t).enter().append("path").call(An,this).attr("transform",Lh`translate(${c?y=>c[y]:v},${u?y=>u[y]:m})${f?y=>` rotate(${f[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?l?y=>` translate(0,${l[y]})`:` translate(0,${d})`:l?y=>` translate(0,${l[y]/2})`:` translate(0,${d/2})`}`).attr("d",l?y=>{const w=Br();return b.draw(w,l[y],_),w}:(()=>{const y=Br();return b.draw(y,d,_),y})()).call(Ir,this,r)).node()}}function Qk(e,t={}){const{x:n=bt,...r}=t;return new yw(e,{...r,x:n})}function e9(e,t={}){const{y:n=bt,...r}=t;return new yw(e,{...r,y:n})}function Ar(e,t){return arguments.length<2&&!kr(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function el({anchor:e}={},t){return e===void 0?t[0]:Zn(e,"anchor",t)}function _w(e){return el(e,["left","right"])}function vw(e){return el(e,["right","left"])}function ww(e){return el(e,["bottom","top"])}function xw(e){return el(e,["top","bottom"])}function Ew(){const[e,t]=Ar(...arguments);return Sw("y",_w(t),e,t)}function t9(){const[e,t]=Ar(...arguments);return Sw("fy",vw(t),e,t)}function Tw(){const[e,t]=Ar(...arguments);return Mw("x",ww(t),e,t)}function n9(){const[e,t]=Ar(...arguments);return Mw("fx",xw(t),e,t)}function Sw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:b,tickRotate:_,x:v,marginTop:m=20,marginRight:g=t==="right"?40:0,marginBottom:y=20,marginLeft:w=t==="left"?40:0,label:x,labelOffset:T,labelAnchor:A,...R}){return p=Se(p),b=Se(b),_=Se(_),A!==void 0&&(A=Zn(A,"labelAnchor",["center","top","bottom"])),tw(p&&!Mt(o)?r9(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:b,tickRotate:_,x:v,...R}):null,Mt(c)?null:o9(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:b,tickRotate:_,x:v,marginTop:m,marginRight:g,marginBottom:y,marginLeft:w,...R}),!Mt(c)&&x!==null?Uh([],{fill:c,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(D,k,$,M,C){const I=M[e],{marginTop:P,marginRight:q,marginBottom:z,marginLeft:G}=e==="y"&&C.inset||C,K=A??(I.bandwidth?"center":"top"),ee=T??(t==="right"?q:G)-3;return K==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=K,this.frameAnchor=`${K}-${t}`,this.rotate=0),this.dy=K==="top"?3-P:K==="bottom"?z-3:0,this.dx=t==="right"?ee:-ee,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?Nw(e,I,K):x]}}}}}):null)}function Mw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:b,tickRotate:_,y:v,marginTop:m=t==="top"?30:0,marginRight:g=20,marginBottom:y=t==="bottom"?30:0,marginLeft:w=20,label:x,labelAnchor:T,labelOffset:A,...R}){return p=Se(p),b=Se(b),_=Se(_),T!==void 0&&(T=Zn(T,"labelAnchor",["center","left","right"])),tw(p&&!Mt(o)?i9(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:b,tickRotate:_,y:v,...R}):null,Mt(c)?null:a9(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:b,tickRotate:_,y:v,marginTop:m,marginRight:g,marginBottom:y,marginLeft:w,...R}),!Mt(c)&&x!==null?Uh([],{fill:c,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(D,k,$,M,C){const I=M[e],{marginTop:P,marginRight:q,marginBottom:z,marginLeft:G}=e==="x"&&C.inset||C,K=T??(I.bandwidth?"center":"right"),ee=A??(t==="top"?P:z)-3;return K==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${K}`,this.textAnchor=K==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ee:ee,this.dx=K==="right"?q-3:K==="left"?3-G:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?Nw(e,I,K):x]}}}}}):null)}function r9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetLeft:l=u,insetRight:f=u,dx:d=0,y:h=e==="y"?void 0:null,...p}){return wo(e9,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:h,...p,dx:t==="left"?+d-Et+ +l:+d+Et-f,anchor:"start",length:c,shape:t==="left"?p9:g9})}function i9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetTop:l=u,insetBottom:f=u,dy:d=0,x:h=e==="x"?void 0:null,...p}){return wo(Qk,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:h,...p,dy:t==="bottom"?+d-Et-f:+d+Et+ +l,anchor:"start",length:c,shape:t==="bottom"?d9:h9})}function o9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*nw):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:f=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:b=h,dx:_=0,y:v=e==="y"?void 0:null,...m}){return wo($n,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,y:v,...m,dx:t==="left"?+_-o-s+ +p:+_+ +o+ +s-b},function(g,y,w){d===void 0&&(this.fontVariant=Rw(g)),u===void 0&&(w.text=Cw(g,y,c))})}function a9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*nw):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:b=h,dy:_=0,x:v=e==="x"?void 0:null,...m}){return wo(Ok,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,x:v,...m,dy:t==="bottom"?+_+ +o+ +s-b:+_-o-s+ +p},function(g,y,w){d===void 0&&(this.fontVariant=Rw(g)),u===void 0&&(w.text=Cw(g,y,c))})}function s9(){const[e,t]=Ar(...arguments);return kw("y",_w(t),e,t)}function c9(){const[e,t]=Ar(...arguments);return kw("fy",vw(t),e,t)}function u9(){const[e,t]=Ar(...arguments);return Iw("x",ww(t),e,t)}function l9(){const[e,t]=Ar(...arguments);return Iw("fx",xw(t),e,t)}function kw(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return wo(Oi,e,`${e}-grid`,n,{y:r,x1:o,x2:a,...Aw(s)})}function Iw(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return wo(Ck,e,`${e}-grid`,n,{x:r,y1:o,y2:a,...Aw(s)})}function Aw({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function wo(e,t,n,r,i,o){let a;const s=e(r,ju(i,function(c,u,l,f){const{[t]:d}=f;if(!d)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:b}=i;if(Wv(d)&&typeof h=="string"&&(b=h,h=void 0),c==null){if(kr(h))c=en(h);else if(d.ticks)if(h!==void 0)c=d.ticks(h);else if(b=Mr(b===void 0?d.interval:b,d.type),b!==void 0){const[_,v]=ze(d.domain());c=b.range(_,b.offset(b.floor(v)))}else{const[_,v]=ze(d.range());h=(v-_)/(p===void 0?t==="x"?80:35:p),c=d.ticks(h)}else c=d.domain();t==="y"||t==="x"?u=[Sr(c)]:(a[t]={scale:t,value:bt},u=void 0)}return o==null||o.call(this,d,h,a),{data:c,facets:u,channels:Object.fromEntries(Object.entries(a).map(([_,v])=>[_,{...v,value:Ve(c,v.value)}]))}}));return r==null?(a=s.channels,s.channels={}):a={},s.ariaLabel=n,s}function Cw(e,t,n){return{value:f9(e,t,n)}}function f9(e,t,n){return e.tickFormat?e.tickFormat(kr(t)?null:t,n):n===void 0?Qu:typeof n=="string"?(Nt(e.domain())?Pu:gt)(n):_o(n)}const d9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},h9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},p9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},g9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Rw(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function m9(e){return Math.sign(Ea(e.domain()))*Math.sign(Ea(e.range()))}function Nw(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=m9(t);return i?e==="x"||n==="center"?e==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const b9={ariaLabel:"frame",fill:"none",stroke:"currentColor"},y9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class _9 extends Ot{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:s=r,rx:c,ry:u}=t;super(void 0,void 0,t,n==null?b9:y9),this.anchor=_v(n,"anchor",["top","right","bottom","left"]),this.insetTop=Se(i),this.insetRight=Se(o),this.insetBottom=Se(a),this.insetLeft=Se(s),this.rx=Se(c),this.ry=Se(u)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:c,marginLeft:u,width:l,height:f}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:b,insetLeft:_,rx:v,ry:m}=this,g=u+_,y=l-s-p,w=a+h,x=f-c-b;return je(d?"svg:line":"svg:rect",o).call(In,this,i,o).call(An,this).call(Cn,this,{}).call(d==="left"?T=>T.attr("x1",g).attr("x2",g).attr("y1",w).attr("y2",x):d==="right"?T=>T.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",x):d==="top"?T=>T.attr("x1",g).attr("x2",y).attr("y1",w).attr("y2",w):d==="bottom"?T=>T.attr("x1",g).attr("x2",y).attr("y1",x).attr("y2",x):T=>T.attr("x",g).attr("y",w).attr("width",y-g).attr("height",x-w).attr("rx",v).attr("ry",m)).node()}}function Pw(e){return new _9(e)}function ln(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:o}=e,a=Ch(e.className),s=e.marks===void 0?[]:sm(e.marks),c=T9(t,e),u=new Map;for(const M of s){const C=cm(M,c,e);C&&u.set(M,C)}const l=new Map;c&&qo(l,[c]),qo(l,u);const f=sm(S9(s,l,e));for(const M of f){const C=cm(M,c,e);C&&u.set(M,C)}s.unshift(...f);const d=ok(l,e);if(d!==void 0){const M=c?pf(d,c):void 0;for(const I of s){if(I.facet===null||I.facet==="super")continue;const P=u.get(I);P!==void 0&&(P.facetsIndex=I.fx!=null||I.fy!=null?pf(d,P):M)}const C=new Set;for(const{facetsIndex:I}of u.values())I==null||I.forEach((P,q)=>{(P==null?void 0:P.length)>0&&C.add(q)});d.forEach(0<C.size&&C.size<d.length?(I,P)=>I.empty=!C.has(P):I=>I.empty=!1);for(const I of s)if(I.facet==="exclude"){const P=u.get(I);P!==void 0&&(P.facetsIndex=ck(P.facetsIndex))}}for(const M of Ie.keys())qi(e[M])&&M!=="fx"&&M!=="fy"&&l.set(M,[]);const h=new Map;for(const M of s){if(h.has(M))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:C,channels:I}=u.get(M)??{},{data:P,facets:q,channels:z}=M.initialize(C,I);Fh(z,e),h.set(M,{data:P,facets:q,channels:z})}const p=wd(qo(l,h),e),b=jg(p),_=rk(p,s,e);TM(p,_);const{fx:v,fy:m}=b,g=v||m?Bv(p,_):_,y=v||m?N9(b,_):_,w=Zu(e,g),x=new Set;for(const[M,C]of h)if(M.initializer!=null){const I=M.facet==="super"?y:g,P=M.initializer(C.data,C.facets,C.channels,b,I,w);if(P.data!==void 0&&(C.data=P.data),P.facets!==void 0&&(C.facets=P.facets),P.channels!==void 0){E9(P.channels),Object.assign(C.channels,P.channels);for(const G of Object.values(P.channels)){const{scale:K}=G;K!=null&&Ie.get(K)!==pn&&(Ow(G,e),x.add(K))}const{fx:q,fy:z}=P.channels;if(q!=null||z!=null){const G=u.get(M)??{channels:{}};q!=null&&(G.channels.fx=q),z!=null&&(G.channels.fy=z),G.groups=Ph(C.data,G.channels),G.facetsIndex=C.facets=pf(d,G),u.set(M,G)}}}if(x.size){const M=new Map;qo(M,h,P=>x.has(P)),qo(l,h,P=>x.has(P));const C=R9(wd(M,e),p),I=jg(C);Object.assign(p,C),Object.assign(b,I)}for(const[M,C]of h)C.values=M.scale(C.channels,b,w);const{width:T,height:A}=_,R=je("svg",w).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",T).attr("height",A).attr("viewBox",`0 0 ${T} ${A}`).attr("aria-label",i).attr("aria-description",o).call(M=>M.append("style").text(`
        .${a} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${a} text,
        .${a} tspan {
          white-space: pre;
        }
      `)).call(Rh,n).node();if(d!==void 0){const M={x:v==null?void 0:v.domain(),y:m==null?void 0:m.domain()};d.sort(ak(M)),da(R).selectAll().data(d).enter().append("g").attr("aria-label","facet").attr("transform",sk(v,m,_)).each(function(C){var P;let I=!0;for(const q of s){if(q.facet==="super")continue;const{channels:z,values:G,facets:K}=h.get(q);if(!(((P=q.facetAnchor)==null?void 0:P.call(q,d,M,C))??!C.empty))continue;let ee=null;if(K){if(ee=K[u.has(q)?C.i:0],ee=q.filter(ee,z,G),ee.length===0)continue;ee.fi=C.i}const ue=q.render(ee,b,G,g,w);ue!=null&&(I=!1,this.appendChild(ue))}I&&this.remove()})}for(const M of s){if(d!==void 0&&M.facet!=="super")continue;const{channels:C,values:I,facets:P}=h.get(M);let q=null;if(P&&(q=P[0],q=M.filter(q,C,I),q.length===0))continue;const z=M.render(q,b,I,y,w);z!=null&&R.appendChild(z)}let D=R;const k=Tk(p,w,e);if(r!=null||k.length>0){const{document:M}=w;D=M.createElement("figure"),D.style.maxWidth="initial";for(const C of k)D.appendChild(C);if(D.appendChild(R),r!=null){const C=M.createElement("figcaption");C.appendChild(r instanceof Node?r:M.createTextNode(r)),D.appendChild(C)}}D.scale=RM(p),D.legend=wk(p,w,e);const $=EM();return $>0&&da(R).append("text").attr("x",T).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${$.toLocaleString("en-US")} warning${$===1?"":"s"}. Please check the console.`),D}function v9({marks:e=[],...t}={}){return ln({...t,marks:[...e,this]})}Ot.prototype.plot=v9;function sm(e){return e.flat(1/0).filter(t=>t!=null).map(w9)}function w9(e){return typeof e.render=="function"?e:new x9(e)}class x9 extends Ot{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Fh(e,t){for(const n in e)Ow(e[n],t);return e}function Ow(e,t){var s;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:o,transform:a=i?c=>c*100:(s=Mr(o,r))==null?void 0:s.floor}=t[n]??{};a!=null&&(e.value=Le(e.value,a))}function E9(e){for(const t in e)Av(t,e[t])}function qo(e,t,n=r7){for(const{channels:r}of t.values())for(const i in r){const o=r[i],{scale:a}=o;if(a!=null&&n(a)){const s=e.get(a);s!==void 0?s.push(o):e.set(a,[o])}}return e}function T9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=en(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Sa(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Sa(i,{value:r,scale:"fy"})),Fh(o,t);const a=Ph(i,o);return{channels:o,groups:a,data:e.data}}function cm(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=en(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return r!=null&&(l.fx=Sa(u,{value:r,scale:"fx"})),i!=null&&(l.fy=Sa(u,{value:i,scale:"fy"})),Fh(l,n),{channels:l,groups:Ph(u,l)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((c=en(e.data))==null?void 0:c.length)===s.length&&Hi(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function S9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:c,grid:u,facet:l={},facet:{axis:f=c,grid:d}=l,x:{axis:h=c,grid:p=h===null?null:u}=i,y:{axis:b=c,grid:_=b===null?null:u}=o,fx:{axis:v=f,grid:m=v===null?null:d}=a,fy:{axis:g=f,grid:y=g===null?null:d}=s}=n;(r||!qi(i)&&!um("x",e))&&(h=p=null),(r||!qi(o)&&!um("y",e))&&(b=_=null),t.has("fx")||(v=m=null),t.has("fy")||(g=y=null),h===void 0&&(h=!ec(e,"x")),b===void 0&&(b=!ec(e,"y")),v===void 0&&(v=!ec(e,"fx")),g===void 0&&(g=!ec(e,"fy")),h===!0&&(h="bottom"),b===!0&&(b="left"),v===!0&&(v=h==="top"||h===null?"bottom":"top"),g===!0&&(g=b==="right"||b===null?"left":"right");const w=[];return Qs(w,y,c9,s),Zs(w,g,t9,"right","left",l,s),Qs(w,m,l9,a),Zs(w,v,n9,"top","bottom",l,a),Qs(w,_,s9,o),Zs(w,b,Ew,"left","right",n,o),Qs(w,p,u9,i),Zs(w,h,Tw,"bottom","top",n,i),w}function Zs(e,t,n,r,i,o,a){if(!t)return;const s=M9(t);a=k9(s?r:t,o,a);const{line:c}=a;(n===Ew||n===Tw)&&c&&!xa(c)&&e.push(Pw(I9(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function Qs(e,t,n,r){!t||xa(t)||e.push(n(A9(t,r)))}function M9(e){return/^\s*both\s*$/i.test(e)}function k9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d=t.label,labelAnchor:h,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d,labelAnchor:h,labelOffset:p}}function I9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function A9(e,{stroke:t=Hu(e)?e:void 0,ticks:n=C9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function C9(e){switch(typeof e){case"number":return!0;case"string":return!Hu(e)}return kr(e)||typeof(e==null?void 0:e.range)=="function"}function ec(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function um(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function R9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function N9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Ih(n),u=e&&lm(e),l=t&&lm(t);return{marginTop:t?l[0]:r,marginRight:e?s-u[1]:i,marginBottom:t?c-l[1]:o,marginLeft:e?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}function lm(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const P9=new Map([["basis",OS],["basis-closed",DS],["basis-open",LS],["bundle",$S],["bump-x",ES],["bump-y",TS],["cardinal",US],["cardinal-closed",FS],["cardinal-open",BS],["catmull-rom",qS],["catmull-rom-closed",HS],["catmull-rom-open",zS],["linear",$u],["linear-closed",WS],["monotone-x",GS],["monotone-y",VS],["natural",YS],["step",XS],["step-after",KS],["step-before",jS]]);function O9(e=$u,t){if(typeof e=="function")return e;const n=P9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function D9(e=iu,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?iu:O9(e,t)}function iu(e){return $u(e)}function gf(e={y:"count"},t={}){[e,t]=$9(e,t);const{x:n,y:r}=t;return L9(U9(n,t,bt),null,null,r,e,Dh(t))}function L9(e,t,n,r,{data:i=C7,filter:o=eu,sort:a,reverse:s,...c}={},u={}){e=fm(e),t=fm(t),c=M7(c,u),i=Th(i,bt),a=a==null?void 0:Sv("sort",a,u),o=o==null?void 0:Mv("filter",o,u),n!=null&&Xs(c,"x","x1","x2")&&(n=null),r!=null&&Xs(c,"y","y1","y2")&&(r=null);const[l,f]=Dn(e),[d,h]=Dn(e),[p,b]=Dn(t),[_,v]=Dn(t),[m,g]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[y,w]=Dn(m),{x,y:T,z:A,fill:R,stroke:D,x1:k,x2:$,y1:M,y2:C,domain:I,cumulative:P,thresholds:q,interval:z,...G}=u,[K,ee]=Dn(A),[ue]=xr(R),[le]=xr(D),[Je,B]=Dn(ue),[ae,at]=Dn(le);return{..."z"in u&&{z:K||A},..."fill"in u&&{fill:Je||R},..."stroke"in u&&{stroke:ae||D},...Xu(G,(Re,F)=>{const Y=Ve(Re,m),te=Ve(Re,A),O=Ve(Re,ue),pe=Ve(Re,le),se=k7(c,{z:te,fill:O,stroke:pe}),ve=[],Ae=[],we=Y&&w([]),Ne=te&&ee([]),yt=O&&B([]),Ze=pe&&at([]),Me=e&&f([]),Fe=e&&h([]),Ee=t&&b([]),tt=t&&v([]),on=z9(e==null?void 0:e(Re),t==null?void 0:t(Re));let _t=0;for(const St of c)St.initialize(Re);a&&a.initialize(Re),o&&o.initialize(Re);for(const St of F){const Qe=[];for(const Te of c)Te.scope("facet",St);a&&a.scope("facet",St),o&&o.scope("facet",St);for(const[Te,ui]of $g(St,se))for(const[Dt,an]of $g(ui,Y))for(const[st,Pe]of on(an))if(!(o&&!o.reduce(st,Pe))){Qe.push(_t++),Ae.push(i.reduce(st,Re,Pe)),Y&&we.push(Dt),te&&Ne.push(se===te?Te:te[st[0]]),O&&yt.push(se===O?Te:O[st[0]]),pe&&Ze.push(se===pe?Te:pe[st[0]]),Me&&(Me.push(Pe.x1),Fe.push(Pe.x2)),Ee&&(Ee.push(Pe.y1),tt.push(Pe.y2));for(const li of c)li.reduce(st,Pe);a&&a.reduce(st)}ve.push(Qe)}return I7(ve,a,s),{data:Ae,facets:ve}}),...!Xs(c,"x")&&(l?{x1:l,x2:d,x:yd(l,d)}:{x,x1:k,x2:$}),...!Xs(c,"y")&&(p?{y1:p,y2:_,y:yd(p,_)}:{y:T,y1:M,y2:C}),...y&&{[g]:y},...Object.fromEntries(c.map(({name:Re,output:F})=>[Re,F]))}}function $9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function U9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...qu(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=F9(e.thresholds,e.interval),e}function fm(e){if(e==null)return;const{value:t,cumulative:n,domain:r=ze,thresholds:i}=e,o=a=>{let s=Ve(a,t),c;if(Nt(s)||q9(i)){s=Le(s,Vv,Float64Array);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!Li(i)?i(s,l,f):i;typeof d=="number"&&(d=ky(l,f,d)),Li(d)&&(r===ze&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f))),c=d}else{s=Le(s,Ah,Float64Array);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!Li(i)?i(s,l,f):i;if(typeof d=="number")if(r===ze){let h=Yr(l,f,d);if(isFinite(h))if(h>0){let p=Math.round(l/h),b=Math.round(f/h);p*h<=l||--p,b*h>f||++b;let _=b-p+1;d=new Float64Array(_);for(let v=0;v<_;++v)d[v]=(p+v)*h}else if(h<0){h=-h;let p=Math.round(l*h),b=Math.round(f*h);p/h<=l||--p,b/h>f||++b;let _=b-p+1;d=new Float64Array(_);for(let v=0;v<_;++v)d[v]=(p+v)/h}else d=[l];else d=[l]}else d=Yi(l,f,d);else Li(d)&&(r===ze&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f)));c=d}const u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let l=1;l<c.length;++l)u.push([c[l-1],c[l]]);return u.bin=(n<0?G9:n>0?W9:Bh)(u,c,s),u};return o.label=ai(t),o}function F9(e,t,n=dm){if(e===void 0)return t===void 0?n:B9(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return k3;case"scott":return L1;case"sturges":return P1;case"auto":return dm}const r=Mr(e);if(r!==void 0)return r;throw new Error(`invalid thresholds: ${e}`)}return e}function B9(e){if(e=Mr(e),!Li(e))throw new Error(`invalid interval: ${e}`);return e}function dm(e,t,n){return Math.min(200,L1(e,t,n))}function q9(e){return H9(e)||kr(e)&&Nt(e)}function H9(e){return Li(e)&&typeof e=="function"&&e()instanceof Date}function Li(e){return e?typeof e.range=="function":!1}function z9(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries()){const s=t.bin(r[i]);for(const[c,[u,l]]of t.entries())yield[s[c],{x1:o,y1:u,x2:a,y2:l}]}}:e?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{y1:o,y2:a}]}}function Bh(e,t,n){return t=t.map(Ah),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[Da(t,n[a])-1])==null||o.push(a);return i}}function W9(e,t,n){const r=Bh(e,t,n);return i=>{const o=r(i);for(let a=1,s=o.length;a<s;++a){const c=o[a-1],u=o[a];for(const l of c)u.push(l)}return o}}function G9(e,t,n){const r=Bh(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const s=o[a+1],c=o[a];for(const u of s)c.push(u)}return o}}function V9(e={}){const{y:t,y1:n,y2:r}=e;return n===void 0&&r===void 0&&t===void 0?{...e,y:bt}:e}function Y9(e={},t={}){arguments.length===1&&([e,t]=j9(e));const{x1:n,x:r=n,y:i,...o}=t,[a,s,c,u]=J9(r,i,"y",e,o);return{...a,x1:n,x:s,y1:c,y2:u,y:yd(c,u)}}function X9({y:e,y1:t,y2:n,...r}={}){return t===void 0&&n===void 0?Y9({y:e,...r}):([t,n]=a7(e,t,n),{...r,y1:t,y2:n})}function j9(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}function K9(e,t=n7,n,{offset:r,order:i,reverse:o},a){const s=vv(a),[c,u]=Dn(e),[l,f]=Qc(t),[d,h]=Qc(t);return r=Z9(r),i=tI(i,r,n),[Xu(a,(p,b)=>{const _=e==null?void 0:u(Ve(p,e)),v=Ve(p,t,Float64Array),m=Ve(p,s),g=i&&i(p,_,v,m),y=p.length,w=f(new Float64Array(y)),x=h(new Float64Array(y)),T=[];for(const A of b){const R=_?Array.from(mu(A,D=>_[D]).values()):[A];g&&sI(R,g);for(const D of R){let k=0,$=0;o&&D.reverse();for(const M of D){const C=v[M];C<0?k=x[M]=(w[M]=k)+C:C>0?$=x[M]=(w[M]=$)+C:x[M]=w[M]=$}}T.push(R)}return r&&r(T,w,x,m),{data:p,facets:b}}),c,l,d]}const J9=K9;function Z9(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Q9;case"center":case"silhouette":return eI;case"wiggle":return Lw}throw new Error(`unknown offset: ${e}`)}}function Dw(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function Q9(e,t,n){for(const r of e)for(const i of r){const[o,a]=Dw(i,n);for(const s of i){const c=1/(a-o||1);t[s]=c*(t[s]-o),n[s]=c*(n[s]-o)}}}function eI(e,t,n){for(const r of e){for(const i of r){const[o,a]=Dw(i,n);for(const s of i){const c=(a+o)/2;t[s]-=c,n[s]-=c}}$w(r,t,n)}Uw(e,t,n)}function Lw(e,t,n,r){for(const i of e){const o=new Gi;let a=0;for(const s of i){let c=-1;const u=s.map(h=>Math.abs(n[h]-t[h])),l=s.map(h=>{c=r?r[h]:++c;const p=n[h]-t[h],b=o.has(c)?p-o.get(c):0;return o.set(c,p),b}),f=[0,...g3(l)];for(const h of s)t[h]+=a,n[h]+=a;const d=wt(u);d&&(a-=wt(u,(h,p)=>(l[p]/2+f[p])*h)/d)}$w(i,t,n)}Uw(e,t,n)}function $w(e,t,n){const r=Yn(e,i=>Yn(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function Uw(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(Yn(s,c=>t[c])+Zt(s,c=>n[c]))/2),a=Yn(o);for(let s=0;s<r;s++){const c=a-o[s];for(const u of i[s])t[u]+=c,n[u]+=c}}function tI(e,t,n){if(e===void 0&&t===Lw)return hm;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return nI;case"z":return rI;case"sum":return iI;case"appearance":return oI;case"inside-out":return hm}return pm(bv(e))}if(typeof e=="function")return pm(e);if(Array.isArray(e))return aI(e);throw new Error(`invalid order: ${e}`)}}function nI(e,t,n){return n}function rI(e,t,n,r){return r}function iI(e,t,n,r){return tl(r,qd(Sr(e),i=>wt(i,o=>n[o]),i=>r[i]))}function oI(e,t,n,r){return tl(r,qd(Sr(e),i=>t[D1(i,o=>n[o])],i=>r[i]))}function hm(e,t,n,r){const i=Sr(e),o=qd(i,l=>t[D1(l,f=>n[f])],l=>r[l]),a=qr(i,l=>wt(l,f=>n[f]),l=>r[l]),s=[],c=[];let u=0;for(const l of o)u<0?(u+=a.get(l),s.push(l)):(u-=a.get(l),c.push(l));return tl(r,c.reverse().concat(s))}function pm(e){return t=>Ve(t,e)}function aI(e){return(t,n,r,i)=>tl(i,e)}function tl(e,t){if(!e)throw new Error("missing channel: z");return t=new Gi(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function sI(e,t){for(const n of e)n.sort((r,i)=>Ta(t[r],t[i]))}function cI(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=mf(n),e.markerMid=mf(r),e.markerEnd=mf(i)}function mf(e){if(e==null||e===!1)return null;if(e===!0)return gm;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return uI;case"dot":return lI;case"circle":case"circle-fill":return gm;case"circle-stroke":return fI}throw new Error(`invalid marker: ${e}`)}function uI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function lI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function gm(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function fI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let dI=0;function hI(e,t,{stroke:n}={}){return pI(e,t,n&&(([r])=>n[r]))}function pI(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i){const a=new Map;function s(c){return function(u){const l=o(u);let f=a.get(c);f||a.set(c,f=new Map);let d=f.get(l);if(!d){const h={document:this.ownerDocument},p=this.parentNode.insertBefore(c(l,h),this),b=`plot-marker-${++dI}`;p.setAttribute("id",b),f.set(l,d=`url(#${b})`)}return d}}t&&e.attr("marker-start",s(t)),n&&e.attr("marker-mid",s(n)),r&&e.attr("marker-end",s(r))}const gI={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Fw(e){return e.sort===void 0&&e.reverse===void 0?E7({channel:"r",order:"descending"},e):e}class mI extends Ot{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=va,frameAnchor:c}=n,[u,l]=kt(a,0),[f,d]=v7(s),[h,p]=kt(o,f==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:Ga,optional:!0},rotate:{value:u,optional:!0},symbol:{value:f,scale:"auto",optional:!0}},Fw(n),gI),this.r=p,this.rotate=l,this.symbol=d,this.frameAnchor=yh(c);const{channels:b}=this,{symbol:_}=b;if(_){const{fill:v,stroke:m}=b;_.hint={fill:v?v.value===_.value?"color":"currentColor":this.fill,stroke:m?m.value===_.value?"color":"currentColor":this.stroke}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,r:l,rotate:f,symbol:d}=r,{r:h,rotate:p,symbol:b}=this,[_,v]=Nh(this,i),m=this.symbol===va,g=l?void 0:h*h*Math.PI;return Yu(h)&&(t=[]),je("svg:g",o).call(In,this,i,o).call(Cn,this,{x:c&&a,y:u&&s}).call(y=>y.selectAll().data(t).enter().append(m?"circle":"path").call(An,this).call(m?w=>{w.attr("cx",c?x=>c[x]:_).attr("cy",u?x=>u[x]:v).attr("r",l?x=>l[x]:h)}:w=>{w.attr("transform",Lh`translate(${c?x=>c[x]:_},${u?x=>u[x]:v})${f?x=>` rotate(${f[x]})`:p?` rotate(${p})`:""}`).attr("d",l&&d?x=>{const T=Br();return d[x].draw(T,l[x]*l[x]*Math.PI),T}:l?x=>{const T=Br();return b.draw(T,l[x]*l[x]*Math.PI),T}:d?x=>{const T=Br();return d[x].draw(T,g),T}:(()=>{const x=Br();return b.draw(x,g),x})())}).call(Ir,this,r)).node()}}function bf(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=bh(n,r)),new mI(e,{...i,x:n,y:r})}const bI={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class yI extends Ot{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:vv(n),optional:!0}},n,bI),this.z=o,this.curve=D9(a,s),cI(this,n)}filter(t){return t}project(t,n,r){this.curve!==iu&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:c}=this;return je("svg:g",o).call(In,this,i,o).call(Cn,this,n).call(u=>u.selectAll().data(ZM(t,[a,s],this,r)).enter().append("path").call(An,this).call(jM,this,r).call(hI,this,r).attr("d",c===iu&&o.projection?_I(o.projection,a,s):xS().curve(c).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function _I(e,t,n){const r=Ua(e);return t=tu(t),n=tu(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function Ho(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=bh(n,r),new yI(e,{...i,x:n,y:r})}class vI extends Ot{constructor(t,n,r={},i){super(t,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:s=o,insetBottom:c=o,insetLeft:u=o,rx:l,ry:f}=r;this.insetTop=Se(a),this.insetRight=Se(s),this.insetBottom=Se(c),this.insetLeft=Se(u),this.rx=ht(l,"auto"),this.ry=ht(f,"auto")}render(t,n,r,i,o){const{rx:a,ry:s}=this;return je("svg:g",o).call(In,this,i,o).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(An,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ie,"rx",a).call(ie,"ry",s).call(Ir,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}}const wI={ariaLabel:"bar"};class xI extends vI{constructor(t,n={}){const{x:r,y1:i,y2:o}=n;super(t,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,wI)}_transform(t,n,{y:r}){t.call(Cn,n,{y:r},0,0)}_y({y:t},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return so(t)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:t},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:s,insetBottom:c}=this;return so(t)?a-i-o-s-c:u=>Math.max(0,Math.abs(r[u]-n[u])-s-c)}}function Ai(e,t={x:yv,y2:bt}){return new xI(e,X9(cw(V9(t))))}const EI={ariaLabel:"tick",fill:null,stroke:"currentColor"};class TI extends Ot{constructor(t,n,r){super(t,n,r,EI)}render(t,n,r,i,o){return je("svg:g",o).call(In,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(t).enter().append("line").call(An,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Ir,this,r)).node()}}class SI extends TI{constructor(t,n={}){const{x:r,y:i,inset:o=0,insetRight:a=o,insetLeft:s=o}=n;super(t,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=Se(a),this.insetLeft=Se(s)}_transform(t,n,{y:r}){t.call(Cn,n,{y:r},0,Et)}_x1({x:t},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&t?o=>n[o]+i:r+i}_x2({x:t},{x:n},{width:r,marginRight:i}){const{insetRight:o}=this;return n&&t?a=>n[a]+t.bandwidth()-o:r-i-o}_y1(t,{y:n}){return r=>n[r]}_y2(t,{y:n}){return r=>n[r]}}function Ci(e,t={}){const{y:n=bt,...r}=t;return new SI(e,{...r,y:n})}const MI={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class kI extends Ot{constructor(t,n={}){const[r,i]=kt(n.r,3);super(t,{geometry:{value:n.geometry},r:{value:r,scale:"r",filter:Ga,optional:!0}},Fw(n),MI),this.r=i}render(t,n,r,i,o){const{geometry:a,r:s}=r,c=Ua(o.projection??II(n)),{r:u}=this;return Yu(u)?t=[]:u!==void 0&&c.pointRadius(u),je("svg:g",o).call(In,this,i,o).call(Cn,this,n).call(l=>{l.selectAll().data(t).enter().append("path").call(An,this).attr("d",s?f=>c.pointRadius(s[f])(a[f]):f=>c(a[f])).call(Ir,this,r)}).node()}}function II({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Hc({point(n,r){this.stream.point(e(n),t(r))}})}function ca(e,{geometry:t=bt,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new kI(e,{geometry:t,...n})}function AI({strokeWidth:e=1.5,...t}={}){return ca({type:"Sphere"},{strokeWidth:e,...t})}function CI({strokeOpacity:e=.1,...t}={}){return ca(nE(),{strokeOpacity:e,...t})}var RI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}const Ri=[];function Bw(e,t=xe){let n;const r=new Set;function i(s){if(d1(e,s)&&(e=s,n)){const c=!Ri.length;for(const u of r)u[1](),Ri.push(u,e);if(c){for(let u=0;u<Ri.length;u+=2)Ri[u][0](Ri[u+1]);Ri.length=0}}}function o(s){i(s(e))}function a(s,c=xe){const u=[s,c];return r.add(u),r.size===1&&(n=t(i)||xe),s(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}function mm(e,t,n){var r=(t-n)/57.29578,i=e/57.29578,o=1+35786/6378.16,a=o*Math.cos(i)*Math.cos(r)-1,s=o*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/s);return c}function NI(e,t,n){var r=(t-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(e/57.29578));return e<0&&(i=i-180),i<0&&(i=i+360),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},PI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,h=u&63;c||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):PI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new OI;const d=o<<2|s>>4;if(r.push(d),u!==64){const h=s<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(e){const t=qw(e);return Hw.encodeByteArray(t,!0)},ou=function(e){return DI(e).replace(/\./g,"")},zw=function(e){try{return Hw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>LI().__FIREBASE_DEFAULTS__,UI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},FI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zw(e[1]);return t&&JSON.parse(t)},Hh=()=>{try{return $I()||UI()||FI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ww=e=>{var t,n;return(n=(t=Hh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},BI=e=>{const t=Ww(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qI=()=>{var e;return(e=Hh())===null||e===void 0?void 0:e.config},Gw=e=>{var t;return(t=Hh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[ou(JSON.stringify(n)),ou(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function GI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YI(){const e=ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function XI(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Qn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=KI,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?JI(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Qn(i,s,r)}}function JI(e,t){return e.replace(ZI,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function QI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function au(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(bm(o)&&bm(a)){if(!au(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function ea(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function eA(e,t){const n=new tA(e,t);return n.subscribe.bind(n)}class tA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nA(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=yf),i.error===void 0&&(i.error=yf),i.complete===void 0&&(i.complete=yf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){return e&&e._delegate?e._delegate:e}class ei{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oA(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(e){return e===Dr?void 0:e}function oA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new rA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const sA={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},cA=_e.INFO,uA={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},lA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=uA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vw{constructor(t){this.name=t,this._logLevel=cA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const fA=(e,t)=>t.some(n=>e instanceof n);let ym,_m;function dA(){return ym||(ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return _m||(_m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Ed=new WeakMap,Xw=new WeakMap,_f=new WeakMap,zh=new WeakMap;function pA(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(mr(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Yw.set(n,e)}).catch(()=>{}),zh.set(t,e),t}function gA(e){if(Ed.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Ed.set(e,t)}let Td={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ed.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Xw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mA(e){Td=e(Td)}function bA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(vf(this),t,...n);return Xw.set(r,t.sort?t.sort():[t]),mr(r)}:hA().includes(e)?function(...t){return e.apply(vf(this),t),mr(Yw.get(this))}:function(...t){return mr(e.apply(vf(this),t))}}function yA(e){return typeof e=="function"?bA(e):(e instanceof IDBTransaction&&gA(e),fA(e,dA())?new Proxy(e,Td):e)}function mr(e){if(e instanceof IDBRequest)return pA(e);if(_f.has(e))return _f.get(e);const t=yA(e);return t!==e&&(_f.set(e,t),zh.set(t,e)),t}const vf=e=>zh.get(e);function _A(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=mr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(mr(a.result),c.oldVersion,c.newVersion,mr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const vA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],wf=new Map;function vm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wf.get(t))return wf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vA.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return wf.set(t,o),o}mA(e=>({...e,get:(t,n,r)=>vm(t,n)||e.get(t,n,r),has:(t,n)=>!!vm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sd="@firebase/app",wm="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Vw("@firebase/app"),TA="@firebase/app-compat",SA="@firebase/analytics-compat",MA="@firebase/analytics",kA="@firebase/app-check-compat",IA="@firebase/app-check",AA="@firebase/auth",CA="@firebase/auth-compat",RA="@firebase/database",NA="@firebase/database-compat",PA="@firebase/functions",OA="@firebase/functions-compat",DA="@firebase/installations",LA="@firebase/installations-compat",$A="@firebase/messaging",UA="@firebase/messaging-compat",FA="@firebase/performance",BA="@firebase/performance-compat",qA="@firebase/remote-config",HA="@firebase/remote-config-compat",zA="@firebase/storage",WA="@firebase/storage-compat",GA="@firebase/firestore",VA="@firebase/firestore-compat",YA="firebase",XA="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",jA={[Sd]:"fire-core",[TA]:"fire-core-compat",[MA]:"fire-analytics",[SA]:"fire-analytics-compat",[IA]:"fire-app-check",[kA]:"fire-app-check-compat",[AA]:"fire-auth",[CA]:"fire-auth-compat",[RA]:"fire-rtdb",[NA]:"fire-rtdb-compat",[PA]:"fire-fn",[OA]:"fire-fn-compat",[DA]:"fire-iid",[LA]:"fire-iid-compat",[$A]:"fire-fcm",[UA]:"fire-fcm-compat",[FA]:"fire-perf",[BA]:"fire-perf-compat",[qA]:"fire-rc",[HA]:"fire-rc-compat",[zA]:"fire-gcs",[WA]:"fire-gcs-compat",[GA]:"fire-fst",[VA]:"fire-fst-compat","fire-js":"fire-js",[YA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,kd=new Map;function KA(e,t){try{e.container.addComponent(t)}catch(n){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function co(e){const t=e.name;if(kd.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,e);for(const n of su.values())KA(n,e);return!0}function Wh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Xa("app","Firebase",JA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=XA;function jw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Md,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=qI()),!n)throw br.create("no-options");const o=su.get(i);if(o){if(au(n,o.options)&&au(r,o.config))return o;throw br.create("duplicate-app",{appName:i})}const a=new aA(i);for(const c of kd.values())a.addComponent(c);const s=new ZA(n,r,a);return su.set(i,s),s}function nl(e=Md){const t=su.get(e);if(!t&&e===Md)return jw();if(!t)throw br.create("no-app",{appName:e});return t}function Wr(e,t,n){var r;let i=(r=jA[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ti.warn(s.join(" "));return}co(new ei(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebase-heartbeat-database",eC=1,ka="firebase-heartbeat-store";let xf=null;function Kw(){return xf||(xf=_A(QA,eC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ka)}}}).catch(e=>{throw br.create("idb-open",{originalErrorMessage:e.message})})),xf}async function tC(e){try{return(await Kw()).transaction(ka).objectStore(ka).get(Jw(e))}catch(t){if(t instanceof Qn)ti.warn(t.message);else{const n=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ti.warn(n.message)}}}async function xm(e,t){try{const r=(await Kw()).transaction(ka,"readwrite");return await r.objectStore(ka).put(t,Jw(e)),r.done}catch(n){if(n instanceof Qn)ti.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function Jw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=1024,rC=30*24*60*60*1e3;class iC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Em();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=rC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Em(),{heartbeatsToSend:n,unsentEntries:r}=oC(this._heartbeatsCache.heartbeats),i=ou(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Em(){return new Date().toISOString().substring(0,10)}function oC(e,t=nC){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Tm(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XI()?jI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await tC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Tm(e){return ou(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(e){co(new ei("platform-logger",t=>new xA(t),"PRIVATE")),co(new ei("heartbeat",t=>new iC(t),"PRIVATE")),Wr(Sd,wm,e),Wr(Sd,wm,"esm2017"),Wr("fire-js","")}sC("");function Gh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Zw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cC=Zw,Qw=new Xa("auth","Firebase",Zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Vw("@firebase/auth");function dc(e,...t){Sm.logLevel<=_e.ERROR&&Sm.error(`Auth (${Ka}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e,...t){throw Vh(e,...t)}function bn(e,...t){return Vh(e,...t)}function uC(e,t,n){const r=Object.assign(Object.assign({},cC()),{[t]:n});return new Xa("auth","Firebase",r).create(t,{appName:e.name})}function Vh(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Qw.create(e,...t)}function Q(e,t,...n){if(!e)throw Vh(t,...n)}function Wn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dc(t),new Error(t)}function Kn(e,t){e||Wn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map;function Gn(e){Kn(e instanceof Function,"Expected a class definition");let t=Mm.get(e);return t?(Kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mm.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(e,t){const n=Wh(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(au(o,t??{}))return i;tn(i,"already-initialized")}return n.initialize({options:t})}function fC(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function dC(){return km()==="http:"||km()==="https:"}function km(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||GI()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n){this.shortDelay=t,this.longDelay=n,Kn(n>t,"Short delay should be less than long delay!"),this.isMobile=WI()||VI()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e,t){Kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Ja(3e4,6e4);function rl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Za(e,t,n,r,i={}){return t2(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=ja(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),e2.fetch()(n2(e,e.config.apiHost,n,s),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))})}async function t2(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},gC),t);try{const i=new bC(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw tc(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw tc(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw tc(e,"user-disabled",a);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uC(e,l,u);tn(e,l)}}catch(i){if(i instanceof Qn)throw i;tn(e,"network-request-failed",{message:String(i)})}}async function il(e,t,n,r,i={}){const o=await Za(e,t,n,r,i);return"mfaPendingCredential"in o&&tn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function n2(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Yh(e.config,i):`${e.config.apiScheme}://${i}`}class bC{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),mC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(e,t){return Za(e,"POST","/v1/accounts:delete",t)}async function _C(e,t){return Za(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vC(e,t=!1){const n=rn(e),r=await n.getIdToken(t),i=Xh(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ua(Ef(i.auth_time)),issuedAtTime:ua(Ef(i.iat)),expirationTime:ua(Ef(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ef(e){return Number(e)*1e3}function Xh(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=zw(n);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wC(e){const t=Xh(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Qn&&xC(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function xC({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ia(e,_C(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?MC(o.providerUserInfo):[],s=SC(e.providerData,a),c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),l=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new r2(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,f)}async function TC(e){const t=rn(e);await cu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SC(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function MC(e){return e.map(t=>{var{providerId:n}=t,r=Gh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(e,t){const n=await t2(e,{},async()=>{const r=ja({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=n2(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",e2.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Q(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await kC(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Aa;return r&&(Q(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Gr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Gh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new r2(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vC(this,t)}reload(){return TC(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ia(this,yC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,c,u,l;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:g,emailVerified:y,isAnonymous:w,providerData:x,stsTokenManager:T}=n;Q(g&&T,t,"internal-error");const A=Aa.fromJSON(this.name,T);Q(typeof g=="string",t,"internal-error"),cr(f,t.name),cr(d,t.name),Q(typeof y=="boolean",t,"internal-error"),Q(typeof w=="boolean",t,"internal-error"),cr(h,t.name),cr(p,t.name),cr(b,t.name),cr(_,t.name),cr(v,t.name),cr(m,t.name);const R=new Gr({uid:g,auth:t,email:d,emailVerified:y,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:b,stsTokenManager:A,createdAt:v,lastLoginAt:m});return x&&Array.isArray(x)&&(R.providerData=x.map(D=>Object.assign({},D))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const o=new Gr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await cu(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}i2.type="NONE";const Im=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(e,t,n){return`firebase:${e}:${t}:${n}`}class zi{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hc(this.userKey,i.apiKey,o),this.fullPersistenceKey=hc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Gr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new zi(Gn(Im),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Gn(Im);const a=hc(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const l=await u._get(a);if(l){const f=Gr._fromJSON(t,l);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new zi(o,t,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new zi(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(s2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(o2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(u2(t))return"Blackberry";if(l2(t))return"Webos";if(jh(t))return"Safari";if((t.includes("chrome/")||a2(t))&&!t.includes("edge/"))return"Chrome";if(c2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o2(e=ot()){return/firefox\//i.test(e)}function jh(e=ot()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function a2(e=ot()){return/crios\//i.test(e)}function s2(e=ot()){return/iemobile/i.test(e)}function c2(e=ot()){return/android/i.test(e)}function u2(e=ot()){return/blackberry/i.test(e)}function l2(e=ot()){return/webos/i.test(e)}function ol(e=ot()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function IC(e=ot()){var t;return ol(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AC(){return YI()&&document.documentMode===10}function f2(e=ot()){return ol(e)||c2(e)||l2(e)||u2(e)||/windows phone/i.test(e)||s2(e)}function CC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(e,t=[]){let n;switch(e){case"Browser":n=Am(ot());break;case"Worker":n=`${Am(ot())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const c=t(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cm(this),this.idTokenSubscription=new Cm(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zi.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===s)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?rn(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Xa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Gn(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=d2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function al(e){return rn(e)}class Cm{constructor(t){this.auth=t,this.observer=null,this.addObserver=eA(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function PC(e,t,n){const r=al(e);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=h2(t),{host:a,port:s}=OC(t),c=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||DC()}function h2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function OC(e){const t=h2(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Rm(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Rm(a)}}}function Rm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DC(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(t){return Wn("not implemented")}_linkToIdToken(t,n){return Wn("not implemented")}_getReauthenticationResolver(t){return Wn("not implemented")}}async function LC(e,t){return Za(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(e,t){return il(e,"POST","/v1/accounts:signInWithPassword",rl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(e,t){return il(e,"POST","/v1/accounts:signInWithEmailLink",rl(e,t))}async function FC(e,t){return il(e,"POST","/v1/accounts:signInWithEmailLink",rl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Kh{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ca(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ca(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return $C(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UC(t,{email:this._email,oobCode:this._password});default:tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return LC(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FC(t,{idToken:n,email:this._email,oobCode:this._password});default:tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(e,t){return il(e,"POST","/v1/accounts:signInWithIdp",rl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="http://localhost";class ni extends Kh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ni(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=Gh(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ni(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Wi(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Wi(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wi(t,n)}buildRequest(){const t={requestUri:BC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ja(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HC(e){const t=Qo(ea(e)).link,n=t?Qo(ea(t)).deep_link_id:null,r=Qo(ea(e)).deep_link_id;return(r?Qo(ea(r)).link:null)||r||n||t||e}class Jh{constructor(t){var n,r,i,o,a,s;const c=Qo(ea(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,f=qC((i=c.mode)!==null&&i!==void 0?i:null);Q(u&&l&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const n=HC(t);try{return new Jh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(t,n){return Ca._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Jh.parseLink(n);return Q(r,"argument-error"),Ca._fromEmailAndCode(t,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends p2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Qa{constructor(){super("facebook.com")}static credential(t){return ni._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Qa{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ni._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Qa{constructor(){super("github.com")}static credential(t){return ni._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Qa{constructor(){super("twitter.com")}static credential(t,n){return ni._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Gr._fromIdTokenResponse(t,r,i),a=Nm(r);return new uo({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Nm(r);return new uo({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Nm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Qn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new uu(t,n,r,i)}}function g2(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uu._fromErrorAndOperation(e,o,t,r):o})}async function zC(e,t,n=!1){const r=await Ia(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return uo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ia(e,g2(r,i,t,e),n);Q(o.idToken,r,"internal-error");const a=Xh(o.idToken);Q(a,r,"internal-error");const{sub:s}=a;return Q(e.uid===s,r,"user-mismatch"),uo._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&tn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(e,t,n=!1){const r="signIn",i=await g2(e,r,t),o=await uo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function GC(e,t){return m2(al(e),t)}function VC(e,t,n){return GC(rn(e),xo.credential(t,n))}function YC(e,t,n,r){return rn(e).onIdTokenChanged(t,n,r)}function XC(e,t,n){return rn(e).beforeAuthStateChanged(t,n)}function jC(e){return rn(e).signOut()}const lu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lu,"1"),this.storage.removeItem(lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){const e=ot();return jh(e)||ol(e)}const JC=1e3,ZC=10;class y2 extends b2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KC()&&CC(),this.fallbackToPolling=f2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);AC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,ZC):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}y2.type="LOCAL";const QC=y2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends b2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_2.type="SESSION";const v2=_2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new sl(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await eR(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=Zh("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function nR(e){yn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function rR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iR(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function oR(){return w2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebaseLocalStorageDb",aR=1,fu="firebaseLocalStorage",E2="fbase_key";class es{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cl(e,t){return e.transaction([fu],t?"readwrite":"readonly").objectStore(fu)}function sR(){const e=indexedDB.deleteDatabase(x2);return new es(e).toPromise()}function Ad(){const e=indexedDB.open(x2,aR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(fu,{keyPath:E2})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(fu)?t(r):(r.close(),await sR(),t(await Ad()))})})}async function Pm(e,t,n){const r=cl(e,!0).put({[E2]:t,value:n});return new es(r).toPromise()}async function cR(e,t){const n=cl(e,!1).get(t),r=await new es(n).toPromise();return r===void 0?null:r.value}function Om(e,t){const n=cl(e,!0).delete(t);return new es(n).toPromise()}const uR=800,lR=3;class T2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>lR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sl._getInstance(oR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ad();return await Pm(t,lu,"1"),await Om(t,lu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pm(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>cR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Om(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=cl(i,!1).getAll();return new es(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T2.type="LOCAL";const fR=T2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function hR(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=bn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",dR().appendChild(r)})}function pR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e,t){return t?Gn(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Kh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wi(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wi(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wi(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mR(e){return m2(e.auth,new Qh(e),e.bypassAuthState)}function bR(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),WC(n,new Qh(e),e.bypassAuthState)}async function yR(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),zC(n,new Qh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return yR;case"reauthViaPopup":case"reauthViaRedirect":return bR;default:tn(this.auth,"internal-error")}}resolve(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Ja(2e3,1e4);class $i extends S2{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const t=Zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,_R.get())};t()}}$i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",pc=new Map;class wR extends S2{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=pc.get(this.auth._key());if(!t){try{const r=await xR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}pc.set(this.auth._key(),t)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xR(e,t){const n=SR(t),r=TR(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ER(e,t){pc.set(e._key(),t)}function TR(e){return Gn(e._redirectPersistence)}function SR(e){return hc(vR,e.config.apiKey,e.name)}async function MR(e,t,n=!1){const r=al(e),i=gR(r,t),a=await new wR(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=10*60*1e3;class IR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!M2(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dm(t))}saveEventToCache(t){this.cachedEventUids.add(Dm(t)),this.lastProcessedEventTime=Date.now()}}function Dm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function M2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(e,t={}){return Za(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function PR(e){if(e.config.emulator)return;const{authorizedDomains:t}=await CR(e);for(const n of t)try{if(OR(n))return}catch{}tn(e,"unauthorized-domain")}function OR(e){const t=Id(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!NR.test(n))return!1;if(RR.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Ja(3e4,6e4);function Lm(){const e=yn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LR(e){return new Promise((t,n)=>{var r,i,o;function a(){Lm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lm(),n(bn(e,"network-request-failed"))},timeout:DR.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=yn().gapi)===null||o===void 0)&&o.load)a();else{const s=pR("iframefcb");return yn()[s]=()=>{gapi.load?a():n(bn(e,"network-request-failed"))},hR(`https://apis.google.com/js/api.js?onload=${s}`).catch(c=>n(c))}}).catch(t=>{throw gc=null,t})}let gc=null;function $R(e){return gc=gc||LR(e),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Ja(5e3,15e3),FR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yh(t,BR):`https://${e.config.authDomain}/${FR}`,r={apiKey:t.apiKey,appName:e.name,v:Ka},i=HR.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ja(r).slice(1)}`}async function WR(e){const t=await $R(e),n=yn().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:zR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=bn(e,"network-request-failed"),s=yn().setTimeout(()=>{o(a)},UR.get());function c(){yn().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,YR=600,XR="_blank",jR="http://localhost";class $m{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KR(e,t,n,r=VR,i=YR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},GR),{width:r.toString(),height:i.toString(),top:o,left:a}),u=ot().toLowerCase();n&&(s=a2(u)?XR:n),o2(u)&&(t=t||jR,c.scrollbars="yes");const l=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(IC(u)&&s!=="_self")return JR(t||"",s),new $m(null);const f=window.open(t||"",s,l);Q(f,e,"popup-blocked");try{f.focus()}catch{}return new $m(f)}function JR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",QR="emulator/auth/handler";function Um(e,t,n,r,i,o){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(t instanceof p2){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",QI(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,u]of Object.entries(o||{}))a[c]=u}if(t instanceof Qa){const c=t.getScopes().filter(u=>u!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];return`${eN(e)}?${ja(s).slice(1)}`}function eN({config:e}){return e.emulator?Yh(e,QR):`https://${e.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v2,this._completeRedirectFn=MR,this._overrideRedirectResult=ER}async _openPopup(t,n,r,i){var o;Kn((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=Um(t,n,r,Id(),i);return KR(t,a,Zh())}async _openRedirect(t,n,r,i){return await this._originValidation(t),nR(Um(t,n,r,Id(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await WR(t),r=new IR(t);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Tf,{type:Tf},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Tf];a!==void 0&&n(!!a),tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return f2()||jh()||ol()}}const nN=tN;var Fm="@firebase/auth",Bm="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function oN(e){co(new ei("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=r.options;return((s,c)=>{Q(o&&!o.includes(":"),"invalid-api-key",{appName:s.name}),Q(!(a!=null&&a.includes(":")),"argument-error",{appName:s.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d2(e)},l=new NC(s,c,u);return fC(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),co(new ei("auth-internal",t=>{const n=al(t.getProvider("auth").getImmediate());return(r=>new rN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(Fm,Bm,iN(e)),Wr(Fm,Bm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=5*60,sN=Gw("authIdTokenMaxAge")||aN;let qm=null;const cN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sN)return;const i=n==null?void 0:n.token;qm!==i&&(qm=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k2(e=nl()){const t=Wh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=lC(e,{popupRedirectResolver:nN,persistence:[fR,QC,v2]}),r=Gw("authTokenSyncURL");if(r){const o=cN(r);XC(n,o,()=>o(n.currentUser)),YC(n,a=>o(a))}const i=Ww("auth");return i&&PC(n,`http://${i}`),n}oN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebasestorage.googleapis.com",A2="storageBucket",uN=2*60*1e3,lN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends Qn{constructor(t,n,r=0){super(Sf(t),`Firebase Storage: ${n} (${Sf(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Sf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function Sf(e){return"storage/"+e}function C2(){const e="An unknown error occurred, please check the error payload for server response.";return new Ke(Ye.UNKNOWN,e)}function fN(e){return new Ke(Ye.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function dN(e){return new Ke(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(Ye.UNAUTHENTICATED,e)}function pN(){return new Ke(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gN(e){return new Ke(Ye.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function mN(){return new Ke(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bN(){return new Ke(Ye.CANCELED,"User canceled the upload/download.")}function yN(e){return new Ke(Ye.INVALID_URL,"Invalid URL '"+e+"'.")}function _N(e){return new Ke(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function vN(){return new Ke(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A2+"' property when initializing the app?")}function wN(){return new Ke(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cd(e){return new Ke(Ye.INVALID_ARGUMENT,e)}function R2(){return new Ke(Ye.APP_DELETED,"The Firebase app was deleted.")}function xN(e){return new Ke(Ye.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zo(e){throw new Ke(Ye.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=It.makeFromUrl(t,n)}catch{return new It(t,"")}if(r.path==="")return r;throw _N(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const l="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${l}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},b=n===I2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${b}/${i}/${_}`,"i"),g=[{regex:s,indices:c,postModify:o},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<g.length;y++){const w=g[y],x=w.regex.exec(t);if(x){const T=x[w.indices.bucket];let A=x[w.indices.path];A||(A=""),r=new It(T,A),w.postModify(r);break}}if(r==null)throw yN(t);return r}}class EN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function l(..._){u||(u=!0,t.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,e(h,c())},_)}function d(){o&&clearTimeout(o)}function h(_,...v){if(u){d();return}if(_){d(),l.call(null,_,...v);return}if(c()||a){d(),l.call(null,_,...v);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let p=!1;function b(_){p||(p=!0,d(),!u&&(i!==null?(_||(s=2),clearTimeout(i),f(0)):_||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function SN(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){return e!==void 0}function kN(e){return typeof e=="object"&&!Array.isArray(e)}function N2(e){return typeof e=="string"||e instanceof String}function Hm(e,t,n,r){if(r<t)throw Cd(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Cd(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function O2(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Vr||(Vr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n,r,i,o,a,s,c,u,l,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new nc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Vr.NO_ERROR,c=o.getStatus();if(!s||IN(c,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===Vr.ABORT;r(!1,new nc(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new nc(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());MN(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=C2();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?R2():bN();a(c)}else{const c=mN();a(c)}};this.canceled_?n(!1,new nc(!1,null,!0)):this.backoffId_=TN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&SN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function CN(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function RN(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NN(e,t){t&&(e["X-Firebase-GMPID"]=t)}function PN(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ON(e,t,n,r,i,o,a=!0){const s=O2(e.urlParams),c=e.url+s,u=Object.assign({},e.headers);return NN(u,t),CN(u,n),RN(u,o),PN(u,r),new AN(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e){let t;try{t=JSON.parse(e)}catch{return null}return kN(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function LN(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function L2(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t){return t}class dt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$N}}let rc=null;function UN(e){return!N2(e)||e.length<2?e:L2(e)}function FN(){if(rc)return rc;const e=[];e.push(new dt("bucket")),e.push(new dt("generation")),e.push(new dt("metageneration")),e.push(new dt("name","fullPath",!0));function t(o,a){return UN(a)}const n=new dt("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new dt("size");return i.xform=r,e.push(i),e.push(new dt("timeCreated")),e.push(new dt("updated")),e.push(new dt("md5Hash",null,!0)),e.push(new dt("cacheControl",null,!0)),e.push(new dt("contentDisposition",null,!0)),e.push(new dt("contentEncoding",null,!0)),e.push(new dt("contentLanguage",null,!0)),e.push(new dt("contentType",null,!0)),e.push(new dt("metadata","customMetadata",!0)),rc=e,rc}function BN(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new It(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function qN(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return BN(r,e),r}function HN(e,t,n){const r=D2(t);return r===null?null:qN(e,r,n)}function zN(e,t,n,r){const i=D2(t);if(i===null||!N2(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const l=e.bucket,f=e.fullPath,d="/b/"+a(l)+"/o/"+a(f),h=P2(d,n,r),p=O2({alt:"media",token:u});return h+p})[0]}class WN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(e){if(!e)throw C2()}function VN(e,t){function n(r,i){const o=HN(e,i,t);return GN(o!==null),zN(o,i,e.host,e._protocol)}return n}function YN(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pN():i=hN():n.getStatus()===402?i=dN(e.bucket):n.getStatus()===403?i=gN(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function XN(e){const t=YN(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=fN(e.path)),o.serverResponse=i.serverResponse,o}return n}function jN(e,t,n){const r=t.fullServerUrl(),i=P2(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new WN(i,o,VN(e,n),a);return s.errorHandler=XN(t),s}class KN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class JN extends KN{initXhr(){this.xhr_.responseType="text"}}function ZN(){return new JN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n){this._service=t,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ri(t,n)}get root(){const t=new It(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L2(this._location.path)}get storage(){return this._service}get parent(){const t=DN(this._location.path);if(t===null)return null;const n=new It(this._location.bucket,t);return new ri(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw xN(t)}}function QN(e){e._throwIfRoot("getDownloadURL");const t=jN(e.storage,e._location,FN());return e.storage.makeRequestWithTokens(t,ZN).then(n=>{if(n===null)throw wN();return n})}function eP(e,t){const n=LN(e._location.path,t),r=new It(e._location.bucket,n);return new ri(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e){return/^[A-Za-z]+:\/\//.test(e)}function nP(e,t){return new ri(e,t)}function $2(e,t){if(e instanceof e0){const n=e;if(n._bucket==null)throw vN();const r=new ri(n,n._bucket);return t!=null?$2(r,t):r}else return t!==void 0?eP(e,t):e}function rP(e,t){if(t&&tP(t)){if(e instanceof e0)return nP(e,t);throw Cd("To use ref(service, url), the first argument must be a Storage instance.")}else return $2(e,t)}function zm(e,t){const n=t==null?void 0:t[A2];return n==null?null:It.makeFromBucketSpec(n,e)}function iP(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:zI(i,e.app.options.projectId))}class e0{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=I2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uN,this._maxUploadRetryTime=lN,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=zm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,t):this._bucket=zm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ri(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new EN(R2());{const a=ON(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Wm="@firebase/storage",Gm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="storage";function oP(e){return e=rn(e),QN(e)}function aP(e,t){return e=rn(e),rP(e,t)}function sP(e=nl(),t){e=rn(e);const r=Wh(e,U2).getImmediate({identifier:t}),i=BI("storage");return i&&cP(r,...i),r}function cP(e,t,n,r={}){iP(e,t,n,r)}function uP(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new e0(n,r,i,t,Ka)}function lP(){co(new ei(U2,uP,"PUBLIC").setMultipleInstances(!0)),Wr(Wm,Gm,""),Wr(Wm,Gm,"esm2017")}lP();const F2={authDomain:"gif-tools-1d6ce.firebaseapp.com",projectId:"gif-tools-1d6ce",storageBucket:"gif-tools-1d6ce.appspot.com",messagingSenderId:"194164895475",appId:"1:194164895475:web:9e71cc12714539cc17d186"};var fP="guest@5gindiaforum.in",dP={}.VITE_APP_PWD;F2.apiKey={}.VITE_API_KEY;console.log("local key loaded");const Vm=Bw(""),ul=Bw(null);var t0=F2;t0.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M";console.log("firebaseConfig",t0);const hP=jw(t0);async function pP(){const e=nl();var t=jC(k2(e));return t.then(()=>ul.set(void 0)),t}async function gP(e,t){const n=nl();t=t||dP,e=e||fP,console.log("Signing in with ",e,t);const r=k2(n);return VC(r,e,t).then(i=>(ul.set(i),i))}async function mP(e){e=e||"fss/hello.json";var t=sP(hP);const n=aP(t,e);return oP(n)}ul.subscribe(e=>{console.log("User Changed...",e)});function bP(e){return e}function yP(e){if(e==null)return bP;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,c){c||(t=n=0);var u=2,l=s.length,f=new Array(l);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;u<l;)f[u]=s[u],++u;return f}}function _P(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function B2(e,t){var n=yP(e.transform),r=e.arcs;function i(l,f){f.length&&f.pop();for(var d=r[l<0?~l:l],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));l<0&&_P(f,p)}function o(l){return n(l)}function a(l){for(var f=[],d=0,h=l.length;d<h;++d)i(l[d],f);return f.length<2&&f.push(f[0]),f}function s(l){for(var f=a(l);f.length<4;)f.push(f[0]);return f}function c(l){return l.map(s)}function u(l){var f=l.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(u)};case"Point":d=o(l.coordinates);break;case"MultiPoint":d=l.coordinates.map(o);break;case"LineString":d=a(l.arcs);break;case"MultiLineString":d=l.arcs.map(a);break;case"Polygon":d=c(l.arcs);break;case"MultiPolygon":d=l.arcs.map(c);break;default:return null}return{type:f,coordinates:d}}return u(t)}function vP(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(u,l){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++a],t[a]=u,t[l]=d)}),t.forEach(function(u){var l=s(u),f=l[0],d=l[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var b=p===h?h:h.concat(p);r[b.start=h.start]=i[b.end=p.end]=b}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var _=p===h?h:p.concat(h);r[_.start=p.start]=i[_.end=h.end]=_}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function s(u){var l=e.arcs[u<0?~u:u],f=l[0],d;return e.transform?(d=[0,0],l.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=l[l.length-1],u<0?[d,f]:[f,d]}function c(u,l){for(var f in u){var d=u[f];delete l[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return c(i,r),c(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function wP(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[0]*i[1]-r[1]*i[0];return Math.abs(o)}function xP(e){return B2(e,EP.apply(this,arguments))}function EP(e,t){var n={},r=[],i=[];t.forEach(o);function o(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(o);break;case"Polygon":a(c.arcs);break;case"MultiPolygon":c.arcs.forEach(a);break}}function a(c){c.forEach(function(u){u.forEach(function(l){(n[l=l<0?~l:l]||(n[l]=[])).push(c)})}),r.push(c)}function s(c){return wP(B2(e,{type:"Polygon",arcs:[c]}).coordinates[0])}return r.forEach(function(c){if(!c._){var u=[],l=[c];for(c._=1,i.push(u);c=l.pop();)u.push(c),c.forEach(function(f){f.forEach(function(d){n[d<0?~d:d].forEach(function(h){h._||(h._=1,l.push(h))})})})}}),r.forEach(function(c){delete c._}),{type:"MultiPolygon",arcs:i.map(function(c){var u=[],l;if(c.forEach(function(b){b.forEach(function(_){_.forEach(function(v){n[v<0?~v:v].length<2&&u.push(v)})})}),u=vP(e,u),(l=u.length)>1)for(var f=1,d=s(u[0]),h,p;f<l;++f)(h=s(u[f]))>d&&(p=u[0],u[0]=u[f],u[f]=p,d=h);return u}).filter(function(c){return c.length>0})}}var nt=63710088e-1,n0={centimeters:nt*100,centimetres:nt*100,degrees:nt/111325,feet:nt*3.28084,inches:nt*39.37,kilometers:nt/1e3,kilometres:nt/1e3,meters:nt,metres:nt,miles:nt/1609.344,millimeters:nt*1e3,millimetres:nt*1e3,nauticalmiles:nt/1852,radians:1,yards:nt*1.0936},TP={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/nt,yards:1.0936133},Rd={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Pt(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function SP(e,t,n){switch(e){case"Point":return qt(t).geometry;case"LineString":return Jt(t).geometry;case"Polygon":return ll(t).geometry;case"MultiPoint":return q2(t).geometry;case"MultiLineString":return r0(t).geometry;case"MultiPolygon":return H2(t).geometry;default:throw new Error(e+" is invalid")}}function qt(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!du(e[0])||!du(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return Pt(r,t,n)}function MP(e,t,n){return n===void 0&&(n={}),Sn(e.map(function(r){return qt(r,t)}),n)}function ll(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return Pt(s,t,n)}function kP(e,t,n){return n===void 0&&(n={}),Sn(e.map(function(r){return ll(r,t)}),n)}function Jt(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return Pt(r,t,n)}function IP(e,t,n){return n===void 0&&(n={}),Sn(e.map(function(r){return Jt(r,t)}),n)}function Sn(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function r0(e,t,n){n===void 0&&(n={});var r={type:"MultiLineString",coordinates:e};return Pt(r,t,n)}function q2(e,t,n){n===void 0&&(n={});var r={type:"MultiPoint",coordinates:e};return Pt(r,t,n)}function H2(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return Pt(r,t,n)}function AP(e,t,n){n===void 0&&(n={});var r={type:"GeometryCollection",geometries:e};return Pt(r,t,n)}function CP(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function i0(e,t){t===void 0&&(t="kilometers");var n=n0[t];if(!n)throw new Error(t+" units is invalid");return e*n}function o0(e,t){t===void 0&&(t="kilometers");var n=n0[t];if(!n)throw new Error(t+" units is invalid");return e/n}function RP(e,t){return z2(o0(e,t))}function NP(e){var t=e%360;return t<0&&(t+=360),t}function z2(e){var t=e%(2*Math.PI);return t*180/Math.PI}function ta(e){var t=e%360;return t*Math.PI/180}function PP(e,t,n){if(t===void 0&&(t="kilometers"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return i0(o0(e,t),n)}function OP(e,t,n){if(t===void 0&&(t="meters"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=Rd[t];if(!r)throw new Error("invalid original units");var i=Rd[n];if(!i)throw new Error("invalid final units");return e/r*i}function du(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function a0(e){return!!e&&e.constructor===Object}function DP(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!du(t))throw new Error("bbox must only contain numbers")})}function LP(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const $P=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Rd,bearingToAzimuth:NP,convertArea:OP,convertLength:PP,degreesToRadians:ta,earthRadius:nt,factors:n0,feature:Pt,featureCollection:Sn,geometry:SP,geometryCollection:AP,isNumber:du,isObject:a0,lengthToDegrees:RP,lengthToRadians:o0,lineString:Jt,lineStrings:IP,multiLineString:r0,multiPoint:q2,multiPolygon:H2,point:qt,points:MP,polygon:ll,polygons:kP,radiansToDegrees:z2,radiansToLength:i0,round:CP,unitsFactors:TP,validateBBox:DP,validateId:LP},Symbol.toStringTag,{value:"Module"}));function ci(e,t,n){if(e!==null)for(var r,i,o,a,s,c,u,l=0,f=0,d,h=e.type,p=h==="FeatureCollection",b=h==="Feature",_=p?e.features.length:1,v=0;v<_;v++){u=p?e.features[v].geometry:b?e.geometry:e,d=u?u.type==="GeometryCollection":!1,s=d?u.geometries.length:1;for(var m=0;m<s;m++){var g=0,y=0;if(a=d?u.geometries[m]:u,a!==null){c=a.coordinates;var w=a.type;switch(l=n&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(t(c,f,v,g,y)===!1)return!1;f++,g++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(t(c[r],f,v,g,y)===!1)return!1;f++,w==="MultiPoint"&&g++}w==="LineString"&&g++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-l;i++){if(t(c[r][i],f,v,g,y)===!1)return!1;f++}w==="MultiLineString"&&g++,w==="Polygon"&&y++}w==="Polygon"&&g++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(y=0,i=0;i<c[r].length;i++){for(o=0;o<c[r][i].length-l;o++){if(t(c[r][i][o],f,v,g,y)===!1)return!1;f++}y++}g++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(ci(a.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function UP(e,t,n,r){var i=n;return ci(e,function(o,a,s,c,u){a===0&&n===void 0?i=o:i=t(i,o,a,s,c,u)},r),i}function W2(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case"Feature":t(e.properties,0);break}}function FP(e,t,n){var r=n;return W2(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function Ra(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function BP(e,t,n){var r=n;return Ra(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function qP(e){var t=[];return ci(e,function(n){t.push(n)}),t}function s0(e,t){var n,r,i,o,a,s,c,u,l,f,d=0,h=e.type==="FeatureCollection",p=e.type==="Feature",b=h?e.features.length:1;for(n=0;n<b;n++){for(s=h?e.features[n].geometry:p?e.geometry:e,u=h?e.features[n].properties:p?e.properties:{},l=h?e.features[n].bbox:p?e.bbox:void 0,f=h?e.features[n].id:p?e.id:void 0,c=s?s.type==="GeometryCollection":!1,a=c?s.geometries.length:1,i=0;i<a;i++){if(o=c?s.geometries[i]:s,o===null){if(t(null,d,u,l,f)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,d,u,l,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],d,u,l,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}d++}}function G2(e,t,n){var r=n;return s0(e,function(i,o,a,s,c){o===0&&n===void 0?r=i:r=t(r,i,o,a,s,c)}),r}function Jn(e,t){s0(e,function(n,r,i,o,a){var s=n===null?null:n.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return t(Pt(n,i,{bbox:o,id:a}),r,0)===!1?!1:void 0}var c;switch(s){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var u=0;u<n.coordinates.length;u++){var l=n.coordinates[u],f={type:c,coordinates:l};if(t(Pt(f,i),r,u)===!1)return!1}})}function HP(e,t,n){var r=n;return Jn(e,function(i,o,a){o===0&&a===0&&n===void 0?r=i:r=t(r,i,o,a)}),r}function V2(e,t){Jn(e,function(n,r,i){var o=0;if(n.geometry){var a=n.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var s,c=0,u=0,l=0;if(ci(n,function(f,d,h,p,b){if(s===void 0||r>c||p>u||b>l){s=f,c=r,u=p,l=b,o=0;return}var _=Jt([s,f],n.properties);if(t(_,r,i,b,o)===!1)return!1;o++,s=f})===!1)return!1}}})}function zP(e,t,n){var r=n,i=!1;return V2(e,function(o,a,s,c,u){i===!1&&n===void 0?r=o:r=t(r,o,a,s,c,u),i=!0}),r}function Y2(e,t){if(!e)throw new Error("geojson is required");Jn(e,function(n,r,i){if(n.geometry!==null){var o=n.geometry.type,a=n.geometry.coordinates;switch(o){case"LineString":if(t(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(t(Jt(a[s],n.properties),r,i,s)===!1)return!1;break}}})}function WP(e,t,n){var r=n;return Y2(e,function(i,o,a,s){o===0&&n===void 0?r=i:r=t(r,i,o,a,s)}),r}function GP(e,t){if(t=t||{},!a0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=c.length+o-1),Jt([c[o],c[o+1]],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o-1),Jt([c[i][o],c[i][o+1]],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o-1),Jt([c[r][o],c[r][o+1]],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o-1),Jt([c[r][i][o],c[r][i][o+1]],a,t)}throw new Error("geojson is invalid")}function VP(e,t){if(t=t||{},!a0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":return qt(c,a,t);case"MultiPoint":return r<0&&(r=c.length+r),qt(c[r],a,t);case"LineString":return o<0&&(o=c.length+o),qt(c[o],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),qt(c[i][o],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o),qt(c[r][o],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o),qt(c[r][i][o],a,t)}throw new Error("geojson is invalid")}const YP=Object.freeze(Object.defineProperty({__proto__:null,coordAll:qP,coordEach:ci,coordReduce:UP,featureEach:Ra,featureReduce:BP,findPoint:VP,findSegment:GP,flattenEach:Jn,flattenReduce:HP,geomEach:s0,geomReduce:G2,lineEach:Y2,lineReduce:WP,propEach:W2,propReduce:FP,segmentEach:V2,segmentReduce:zP},Symbol.toStringTag,{value:"Module"}));function hu(e){var t=[1/0,1/0,-1/0,-1/0];return ci(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}hu.default=hu;const XP=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"}));function Nd(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Na(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function fl(e){return e.type==="Feature"?e.geometry:e}function Pa(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=Nd(e),i=fl(t),o=i.type,a=t.bbox,s=i.coordinates;if(a&&jP(r,a)===!1)return!1;o==="Polygon"&&(s=[s]);for(var c=!1,u=0;u<s.length&&!c;u++)if(Ym(r,s[u][0],n.ignoreBoundary)){for(var l=!1,f=1;f<s[u].length&&!l;)Ym(r,s[u][f],!n.ignoreBoundary)&&(l=!0),f++;l||(c=!0)}return c}function Ym(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],c=t[o][0],u=t[o][1],l=e[1]*(a-c)+s*(c-e[0])+u*(e[0]-a)===0&&(a-e[0])*(c-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(l)return!n;var f=s>e[1]!=u>e[1]&&e[0]<(c-a)*(e[1]-s)/(u-s)+a;f&&(r=!r)}return r}function jP(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Pd(e,t,n){n===void 0&&(n={});var r=Nd(e),i=Nd(t),o=ta(i[1]-r[1]),a=ta(i[0]-r[0]),s=ta(r[1]),c=ta(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(c);return i0(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function KP(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return X2(e);case"FeatureCollection":return JP(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c0(e);default:throw new Error("unknown GeoJSON type")}}function X2(e){var t={type:"Feature"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=j2(e.properties),t.geometry=c0(e.geometry),t}function j2(e){var t={};return e&&Object.keys(e).forEach(function(n){var r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(function(i){return i}):t[n]=j2(r):t[n]=r}),t}function JP(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(function(n){return X2(n)}),t}function c0(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(n){return c0(n)}),t):(t.coordinates=K2(e.coordinates),t)}function K2(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(n){return K2(n)})}function ZP(e,t){t===void 0&&(t={});var n=0,r=0,i=0;return ci(e,function(o){n+=o[0],r+=o[1],i++},!0),qt([n/i,r/i],t.properties)}function QP(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,i=0;return Ra(t,function(o,a){var s=Pd(e,o);s<r&&(i=a,r=s)}),n=KP(t.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Xm(e){if(!e)throw new Error("geojson is required");var t=[];return Jn(e,function(n){eO(n,t)}),Sn(t)}function eO(e,t){var n=[],r=e.geometry;if(r!==null){switch(r.type){case"Polygon":n=Na(r);break;case"LineString":n=[Na(r)]}n.forEach(function(i){var o=tO(i,e.properties);o.forEach(function(a){a.id=t.length,t.push(a)})})}}function tO(e,t){var n=[];return e.reduce(function(r,i){var o=Jt([r,i],t);return o.bbox=nO(r,i),n.push(o),i}),n}function nO(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=n<i?n:i,s=r<o?r:o,c=n>i?n:i,u=r>o?r:o;return[a,s,c,u]}var pu={},rO={get exports(){return pu},set exports(e){pu=e}},Od={},iO={get exports(){return Od},set exports(e){Od=e}};(function(e,t){(function(n,r){e.exports=r()})(RI,function(){function n(m,g,y,w,x){(function T(A,R,D,k,$){for(;k>D;){if(k-D>600){var M=k-D+1,C=R-D+1,I=Math.log(M),P=.5*Math.exp(2*I/3),q=.5*Math.sqrt(I*P*(M-P)/M)*(C-M/2<0?-1:1),z=Math.max(D,Math.floor(R-C*P/M+q)),G=Math.min(k,Math.floor(R+(M-C)*P/M+q));T(A,R,z,G,$)}var K=A[R],ee=D,ue=k;for(r(A,D,R),$(A[k],K)>0&&r(A,D,k);ee<ue;){for(r(A,ee,ue),ee++,ue--;$(A[ee],K)<0;)ee++;for(;$(A[ue],K)>0;)ue--}$(A[D],K)===0?r(A,D,ue):r(A,++ue,k),ue<=R&&(D=ue+1),R<=ue&&(k=ue-1)}})(m,g,y||0,w||m.length-1,x||i)}function r(m,g,y){var w=m[g];m[g]=m[y],m[y]=w}function i(m,g){return m<g?-1:m>g?1:0}var o=function(m){m===void 0&&(m=9),this._maxEntries=Math.max(4,m),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(m,g,y){if(!y)return g.indexOf(m);for(var w=0;w<g.length;w++)if(y(m,g[w]))return w;return-1}function s(m,g){c(m,0,m.children.length,g,m)}function c(m,g,y,w,x){x||(x=_(null)),x.minX=1/0,x.minY=1/0,x.maxX=-1/0,x.maxY=-1/0;for(var T=g;T<y;T++){var A=m.children[T];u(x,m.leaf?w(A):A)}return x}function u(m,g){return m.minX=Math.min(m.minX,g.minX),m.minY=Math.min(m.minY,g.minY),m.maxX=Math.max(m.maxX,g.maxX),m.maxY=Math.max(m.maxY,g.maxY),m}function l(m,g){return m.minX-g.minX}function f(m,g){return m.minY-g.minY}function d(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function h(m){return m.maxX-m.minX+(m.maxY-m.minY)}function p(m,g){return m.minX<=g.minX&&m.minY<=g.minY&&g.maxX<=m.maxX&&g.maxY<=m.maxY}function b(m,g){return g.minX<=m.maxX&&g.minY<=m.maxY&&g.maxX>=m.minX&&g.maxY>=m.minY}function _(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(m,g,y,w,x){for(var T=[g,y];T.length;)if(!((y=T.pop())-(g=T.pop())<=w)){var A=g+Math.ceil((y-g)/w/2)*w;n(m,A,g,y,x),T.push(g,A,A,y)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(m){var g=this.data,y=[];if(!b(m,g))return y;for(var w=this.toBBox,x=[];g;){for(var T=0;T<g.children.length;T++){var A=g.children[T],R=g.leaf?w(A):A;b(m,R)&&(g.leaf?y.push(A):p(m,R)?this._all(A,y):x.push(A))}g=x.pop()}return y},o.prototype.collides=function(m){var g=this.data;if(!b(m,g))return!1;for(var y=[];g;){for(var w=0;w<g.children.length;w++){var x=g.children[w],T=g.leaf?this.toBBox(x):x;if(b(m,T)){if(g.leaf||p(m,T))return!0;y.push(x)}}g=y.pop()}return!1},o.prototype.load=function(m){if(!m||!m.length)return this;if(m.length<this._minEntries){for(var g=0;g<m.length;g++)this.insert(m[g]);return this}var y=this._build(m.slice(),0,m.length-1,0);if(this.data.children.length)if(this.data.height===y.height)this._splitRoot(this.data,y);else{if(this.data.height<y.height){var w=this.data;this.data=y,y=w}this._insert(y,this.data.height-y.height-1,!0)}else this.data=y;return this},o.prototype.insert=function(m){return m&&this._insert(m,this.data.height-1),this},o.prototype.clear=function(){return this.data=_([]),this},o.prototype.remove=function(m,g){if(!m)return this;for(var y,w,x,T=this.data,A=this.toBBox(m),R=[],D=[];T||R.length;){if(T||(T=R.pop(),w=R[R.length-1],y=D.pop(),x=!0),T.leaf){var k=a(m,T.children,g);if(k!==-1)return T.children.splice(k,1),R.push(T),this._condense(R),this}x||T.leaf||!p(T,A)?w?(y++,T=w.children[y],x=!1):T=null:(R.push(T),D.push(y),y=0,w=T,T=T.children[0])}return this},o.prototype.toBBox=function(m){return m},o.prototype.compareMinX=function(m,g){return m.minX-g.minX},o.prototype.compareMinY=function(m,g){return m.minY-g.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(m){return this.data=m,this},o.prototype._all=function(m,g){for(var y=[];m;)m.leaf?g.push.apply(g,m.children):y.push.apply(y,m.children),m=y.pop();return g},o.prototype._build=function(m,g,y,w){var x,T=y-g+1,A=this._maxEntries;if(T<=A)return s(x=_(m.slice(g,y+1)),this.toBBox),x;w||(w=Math.ceil(Math.log(T)/Math.log(A)),A=Math.ceil(T/Math.pow(A,w-1))),(x=_([])).leaf=!1,x.height=w;var R=Math.ceil(T/A),D=R*Math.ceil(Math.sqrt(A));v(m,g,y,D,this.compareMinX);for(var k=g;k<=y;k+=D){var $=Math.min(k+D-1,y);v(m,k,$,R,this.compareMinY);for(var M=k;M<=$;M+=R){var C=Math.min(M+R-1,$);x.children.push(this._build(m,M,C,w-1))}}return s(x,this.toBBox),x},o.prototype._chooseSubtree=function(m,g,y,w){for(;w.push(g),!g.leaf&&w.length-1!==y;){for(var x=1/0,T=1/0,A=void 0,R=0;R<g.children.length;R++){var D=g.children[R],k=d(D),$=(M=m,C=D,(Math.max(C.maxX,M.maxX)-Math.min(C.minX,M.minX))*(Math.max(C.maxY,M.maxY)-Math.min(C.minY,M.minY))-k);$<T?(T=$,x=k<x?k:x,A=D):$===T&&k<x&&(x=k,A=D)}g=A||g.children[0]}var M,C;return g},o.prototype._insert=function(m,g,y){var w=y?m:this.toBBox(m),x=[],T=this._chooseSubtree(w,this.data,g,x);for(T.children.push(m),u(T,w);g>=0&&x[g].children.length>this._maxEntries;)this._split(x,g),g--;this._adjustParentBBoxes(w,x,g)},o.prototype._split=function(m,g){var y=m[g],w=y.children.length,x=this._minEntries;this._chooseSplitAxis(y,x,w);var T=this._chooseSplitIndex(y,x,w),A=_(y.children.splice(T,y.children.length-T));A.height=y.height,A.leaf=y.leaf,s(y,this.toBBox),s(A,this.toBBox),g?m[g-1].children.push(A):this._splitRoot(y,A)},o.prototype._splitRoot=function(m,g){this.data=_([m,g]),this.data.height=m.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(m,g,y){for(var w,x,T,A,R,D,k,$=1/0,M=1/0,C=g;C<=y-g;C++){var I=c(m,0,C,this.toBBox),P=c(m,C,y,this.toBBox),q=(x=I,T=P,A=void 0,R=void 0,D=void 0,k=void 0,A=Math.max(x.minX,T.minX),R=Math.max(x.minY,T.minY),D=Math.min(x.maxX,T.maxX),k=Math.min(x.maxY,T.maxY),Math.max(0,D-A)*Math.max(0,k-R)),z=d(I)+d(P);q<$?($=q,w=C,M=z<M?z:M):q===$&&z<M&&(M=z,w=C)}return w||y-g},o.prototype._chooseSplitAxis=function(m,g,y){var w=m.leaf?this.compareMinX:l,x=m.leaf?this.compareMinY:f;this._allDistMargin(m,g,y,w)<this._allDistMargin(m,g,y,x)&&m.children.sort(w)},o.prototype._allDistMargin=function(m,g,y,w){m.children.sort(w);for(var x=this.toBBox,T=c(m,0,g,x),A=c(m,y-g,y,x),R=h(T)+h(A),D=g;D<y-g;D++){var k=m.children[D];u(T,m.leaf?x(k):k),R+=h(T)}for(var $=y-g-1;$>=g;$--){var M=m.children[$];u(A,m.leaf?x(M):M),R+=h(A)}return R},o.prototype._adjustParentBBoxes=function(m,g,y){for(var w=y;w>=0;w--)u(g[w],m)},o.prototype._condense=function(m){for(var g=m.length-1,y=void 0;g>=0;g--)m[g].children.length===0?g>0?(y=m[g-1].children).splice(y.indexOf(m[g]),1):this.clear():s(m[g],this.toBBox)},o})})(iO);const oO=qh($P),aO=qh(YP),sO=qh(XP);var un=Od,J2=oO,Z2=aO,Ni=sO.default,cO=Z2.featureEach;Z2.coordEach;J2.polygon;var jm=J2.featureCollection;function Q2(e){var t=new un(e);return t.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Ni(n),un.prototype.insert.call(this,n)},t.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Ni(i),r.push(i)}):cO(n,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Ni(i),r.push(i)}),un.prototype.load.call(this,r)},t.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Ni(n),un.prototype.remove.call(this,n,r)},t.clear=function(){return un.prototype.clear.call(this)},t.search=function(n){var r=un.prototype.search.call(this,this.toBBox(n));return jm(r)},t.collides=function(n){return un.prototype.collides.call(this,this.toBBox(n))},t.all=function(){var n=un.prototype.all.call(this);return jm(n)},t.toJSON=function(){return un.prototype.toJSON.call(this)},t.fromJSON=function(n){return un.prototype.fromJSON.call(this,n)},t.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=Ni(n);else if(n.type==="FeatureCollection")r=Ni(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},t}rO.exports=Q2;pu.default=Q2;function u0(e,t){var n={},r=[];if(e.type==="LineString"&&(e=Pt(e)),t.type==="LineString"&&(t=Pt(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=Km(e,t);return i&&r.push(i),Sn(r)}var o=pu();return o.load(Xm(t)),Ra(Xm(e),function(a){Ra(o.search(a),function(s){var c=Km(a,s);if(c){var u=Na(c).join(",");n[u]||(n[u]=!0,r.push(c))}})}),Sn(r)}function Km(e,t){var n=Na(e),r=Na(t);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(r.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],a=n[1][0],s=n[1][1],c=r[0][0],u=r[0][1],l=r[1][0],f=r[1][1],d=(f-u)*(a-i)-(l-c)*(s-o),h=(l-c)*(o-u)-(f-u)*(i-c),p=(a-i)*(o-u)-(s-o)*(i-c);if(d===0)return null;var b=h/d,_=p/d;if(b>=0&&b<=1&&_>=0&&_<=1){var v=i+b*(a-i),m=o+b*(s-o);return qt([v,m])}return null}var Jm=6378137;function uO(e){return G2(e,function(t,n){return t+lO(n)},0)}function lO(e){var t=0,n;switch(e.type){case"Polygon":return Zm(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=Zm(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Zm(e){var t=0;if(e&&e.length>0){t+=Math.abs(Qm(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(Qm(e[n]))}return t}function Qm(e){var t,n,r,i,o,a,s,c=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,o=u-1,a=0):s===u-1?(i=u-1,o=0,a=1):(i=s,o=s+1,a=s+2),t=e[i],n=e[o],r=e[a],c+=(Mf(r[0])-Mf(t[0]))*Math.sin(Mf(n[1]));c=c*Jm*Jm/2}return c}function Mf(e){return e*Math.PI/180}function Dd(e,t){t===void 0&&(t={});var n=fl(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),n.type){case"Polygon":return fO(n,t);case"MultiPolygon":return dO(n,t);default:throw new Error("invalid poly")}}function fO(e,t){t===void 0&&(t={});var n=fl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{};return e6(r,i)}function dO(e,t){t===void 0&&(t={});var n=fl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{},o=[];return r.forEach(function(a){o.push(e6(a,i))}),Sn(o)}function e6(e,t){return e.length>1?r0(e,t):Jt(e[0],t)}function hO(e,t){var n=!0;return Jn(e,function(r){Jn(t,function(i){if(n===!1)return!1;n=pO(r.geometry,i.geometry)})}),n}function pO(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!yO(e.coordinates,t.coordinates);case"LineString":return!e1(t,e);case"Polygon":return!Pa(e,t)}break;case"LineString":switch(t.type){case"Point":return!e1(e,t);case"LineString":return!gO(e,t);case"Polygon":return!t1(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Pa(t,e);case"LineString":return!t1(e,t);case"Polygon":return!mO(t,e)}}return!1}function e1(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(bO(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function gO(e,t){var n=u0(e,t);return n.features.length>0}function t1(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var i=r[n];if(Pa(i,e))return!0}var o=u0(t,Dd(e));return o.features.length>0}function mO(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var i=r[n];if(Pa(i,t))return!0}for(var o=0,a=t.coordinates[0];o<a.length;o++){var s=a[o];if(Pa(s,e))return!0}var c=u0(Dd(e),Dd(t));return c.features.length>0}function bO(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],a=t[1]-e[1],s=r*a-i*o;return s!==0?!1:Math.abs(o)>=Math.abs(a)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]}function yO(e,t){return e[0]===t[0]&&e[1]===t[1]}function _O(e,t){var n=!1;return Jn(e,function(r){Jn(t,function(i){if(n===!0)return!0;n=!hO(r.geometry,i.geometry)})}),n}function vO(e,t,n,r){r===void 0&&(r={});for(var i=[],o=e[0],a=e[1],s=e[2],c=e[3],u=t/Pd([o,a],[s,a],r),l=u*(s-o),f=n/Pd([o,a],[o,c],r),d=f*(c-a),h=s-o,p=c-a,b=Math.floor(h/l),_=Math.floor(p/d),v=(h-b*l)/2,m=(p-_*d)/2,g=o+v,y=0;y<b;y++){for(var w=a+m,x=0;x<_;x++){var T=ll([[[g,w],[g,w+d],[g+l,w+d],[g+l,w],[g,w]]],r.properties);r.mask?_O(r.mask,T)&&i.push(T):i.push(T),w+=d}g+=l}return Sn(i)}function wO(e,t,n){return n===void 0&&(n={}),vO(e,t,t,n)}const{document:n1}=g6;function r1(e,t,n){const r=e.slice();return r[96]=t[n][0],r[97]=t[n][1],r}function i1(e,t,n){const r=e.slice();return r[96]=t[n][0],r[100]=t[n][1],r}function o1(e,t,n){const r=e.slice();return r[103]=t[n],r}function xO(e){return{c:xe,m:xe,p:xe,d:xe}}function EO(e){let t,n,r,i,o=e[107]+"",a,s;return{c(){t=L("a"),n=L("i"),i=W(),a=Z(o),U(n,"class",r="icon circle "+(e[107].includes("Error")?"spinner":"thumbs up")+" outline"),U(t,"class",s="ui "+(e[107].includes("Error")?"grey":"green")+" right ribbon label")},m(c,u){_n(c,t,u),E(t,n),E(t,i),E(t,a)},p(c,u){u[0]&1048576&&r!==(r="icon circle "+(c[107].includes("Error")?"spinner":"thumbs up")+" outline")&&U(n,"class",r),u[0]&1048576&&o!==(o=c[107]+"")&&De(a,o),u[0]&1048576&&s!==(s="ui "+(c[107].includes("Error")?"grey":"green")+" right ribbon label")&&U(t,"class",s)},d(c){c&&At(t)}}}function TO(e){let t;return{c(){t=L("a"),t.innerHTML='<i class="icon circle exclamation "></i>',U(t,"class","ui grey left ribbon label")},m(n,r){_n(n,t,r)},p:xe,d(n){n&&At(t)}}}function SO(e){return{c:xe,m:xe,p:xe,d:xe}}function MO(e){let t;function n(o,a){return o[19]==null?IO:kO}let r=n(e),i=r(e);return{c(){i.c(),t=i6()},m(o,a){i.m(o,a),_n(o,t,a)},p(o,a){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){i.d(o),o&&At(t)}}}function kO(e){let t,n=e[19].user.email+"",r;return{c(){t=L("div"),r=Z(n),U(t,"class","ui green top left attached label")},m(i,o){_n(i,t,o),E(t,r)},p(i,o){o[0]&524288&&n!==(n=i[19].user.email+"")&&De(r,n)},d(i){i&&At(t)}}}function IO(e){return{c:xe,m:xe,p:xe,d:xe}}function AO(e){let t;return{c(){t=L("label"),t.innerHTML='Signing.. <i class="icon spinner"></i>',U(t,"class","ui orange label top left attached")},m(n,r){_n(n,t,r)},p:xe,d(n){n&&At(t)}}}function a1(e){let t,n=e[103].Name+"",r,i,o=e[103].Height+"",a,s,c=e[103].BSDensity+"",u,l;return{c(){t=L("option"),r=Z(n),i=Z(" - ( "),a=Z(o),s=Z("m, BS:"),u=Z(c),l=Z(`/sqkm)
            `),t.__value=e[103],t.value=t.__value},m(f,d){_n(f,t,d),E(t,r),E(t,i),E(t,a),E(t,s),E(t,u),E(t,l)},p:xe,d(f){f&&At(t)}}}function s1(e){let t,n=e[96]+"",r,i,o=e[8].Ra[e[100].val]+"",a,s;return{c(){t=L("option"),r=Z(n),i=Z(":"),a=Z(o),s=Z(`%
            `),t.__value=e[100],t.value=t.__value},m(c,u){_n(c,t,u),E(t,r),E(t,i),E(t,a),E(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Ra[c[100].val]+"")&&De(a,o)},d(c){c&&At(t)}}}function c1(e){let t,n=e[96]+"",r,i,o=e[8].Rb[e[97].val]+"",a,s;return{c(){t=L("option"),r=Z(n),i=Z(":"),a=Z(o),s=Z(`%
            `),t.__value=e[97],t.value=t.__value},m(c,u){_n(c,t,u),E(t,r),E(t,i),E(t,a),E(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Rb[c[97].val]+"")&&De(a,o)},d(c){c&&At(t)}}}function CO(e){let t,n,r,i,o,a,s,c,u,l,f,d,h,p,b,_,v,m,g,y,w=e[19]==null?"Login":"Log Out",x,T,A,R,D,k,$,M,C,I,P,q,z,G,K,ee,ue,le,Je,B,ae,at,Re,F=e[14]?"Switch to  Mean":"Switch to Median",Y,te,O,pe,se,ve,Ae,we,Ne,yt,Ze,Me,Fe,Ee,tt,on,_t,St,Qe,Te,ui,Dt,an,st,Pe,li,sn,er,tr,ts,Eo,ns,nr,rr,rs,To,is,ir,or,os,So,as,S,H,N,J,ge,be,Ce,Lt=e[16]-e[18]>=-10.5?"Failed":"Success",ar,Be,dl,Oe,fi,ss,hl,l0,cs,f0,di,us,ls=gt("4.2~s")(e[11])+"",pl,d0,Mo,h0,ko,p0,fs=e[11].toFixed(0)+"",gl,g0,m0,hi,ds,hs=gt("4.2~s")(e[22])+"",ml,b0,Io,y0,Ao,_0,ps=e[22].toFixed(0)+"",bl,v0,w0,pi,gs,ms=e[18].toFixed(1)+"",yl,x0,bs,E0,gi,ys,_s=(e[18]-10.5).toFixed(1)+"",_l,T0,vs,S0,M0,k0,Cr,ws,xs=(e[16]==null?"???":(e[16]-e[18]).toFixed(1))+"",vl,I0,Es,Ts,A0,Rr,mi,Ss,Ms,C0,ks=(e[16]==null?"???":e[16].toFixed(1))+"",wl,R0,Is,As,N0,Nr,bi,P0,Cs=(e[15]!=null?e[15][0].I.toFixed(2):"???")+"",xl,O0,D0,L0,$0,yi,U0,Rs=(e[15]!=null?e[15][1].I.toFixed(2):"???")+"",El,F0,B0,Pr,Co,q0,H0,ct,Ro,z0,Ns=e[0]?"[Hidden]":"",Tl,W0,_i,vi,G0,Sl,V0,Y0,X0,j0,K0,No,J0,Ml,Z0,$t={ctx:e,current:null,token:null,hasCatch:!1,pending:TO,then:EO,catch:xO,value:107};Os(d=e[20],$t);let Ut={ctx:e,current:null,token:null,hasCatch:!1,pending:AO,then:MO,catch:SO,value:106};Os(p=e[21],Ut);let wi=e[26],ut=[];for(let fe=0;fe<wi.length;fe+=1)ut[fe]=a1(o1(e,wi,fe));let xi=[...e[27]],lt=[];for(let fe=0;fe<xi.length;fe+=1)lt[fe]=s1(i1(e,xi,fe));let Ei=[...e[28]],ft=[];for(let fe=0;fe<Ei.length;fe+=1)ft[fe]=c1(r1(e,Ei,fe));return{c(){t=L("link"),n=W(),r=L("main"),i=L("div"),o=L("i"),a=W(),s=Z(`ef711bc
`),c=W(),u=L("h1"),u.textContent="IMT interference to FSS Analysis",l=W(),f=L("div"),$t.block.c(),h=W(),Ut.block.c(),b=W(),_=L("br"),v=W(),m=L("div"),g=L("div"),y=L("button"),x=Z(w),T=W(),A=L("input"),D=W(),k=L("div"),$=L("label"),$.textContent="Noise Temp.(K)",M=W(),C=L("input"),I=W(),P=L("label"),P.textContent="FSS Rx Gain (dBi)",q=W(),z=L("input"),G=W(),K=L("div"),ee=L("input"),ue=W(),le=L("label"),le.textContent="Fixed FSS Gain",Je=W(),B=L("div"),ae=L("input"),at=W(),Re=L("label"),Y=Z(F),te=W(),O=L("div"),pe=L("label"),se=Z("Satellite Angle : "),ve=Z(e[6]),Ae=W(),we=L("input"),Ne=W(),yt=L("input"),Ze=W(),Me=L("div"),Fe=L("label"),Fe.textContent="Environment",Ee=W(),tt=L("select");for(let fe=0;fe<ut.length;fe+=1)ut[fe].c();on=W(),_t=L("div"),St=L("label"),St.textContent="Ra Options",Qe=W(),Te=L("select");for(let fe=0;fe<lt.length;fe+=1)lt[fe].c();ui=W(),Dt=L("div"),an=L("label"),an.textContent="Rb Options",st=W(),Pe=L("select");for(let fe=0;fe<ft.length;fe+=1)ft[fe].c();li=W(),sn=L("div"),er=L("div"),tr=L("input"),ts=W(),Eo=L("label"),Eo.textContent="Color Range",ns=W(),nr=L("div"),rr=L("input"),rs=W(),To=L("label"),To.textContent="Show SatGain",is=W(),ir=L("div"),or=L("input"),os=W(),So=L("label"),So.textContent="Show Variables",as=W(),S=L("hr"),H=W(),N=L("h1"),N.textContent="Results",J=W(),ge=L("div"),be=L("div"),Ce=L("div"),ar=Z(Lt),dl=W(),Oe=L("div"),fi=L("div"),ss=L("div"),hl=Z(e[23]),l0=W(),cs=L("div"),cs.innerHTML="Total Area <pre>sqkm</pre>",f0=W(),di=L("div"),us=L("div"),pl=Z(ls),d0=W(),Mo=L("div"),h0=Z("Total BS "),ko=L("pre"),p0=Z("("),gl=Z(fs),g0=Z(")"),m0=W(),hi=L("div"),ds=L("div"),ml=Z(hs),b0=W(),Io=L("div"),y0=Z("Active BS "),Ao=L("pre"),_0=Z("("),bl=Z(ps),v0=Z(")"),w0=W(),pi=L("div"),gs=L("div"),yl=Z(ms),x0=W(),bs=L("div"),bs.innerHTML="Noise <pre>dBm</pre>",E0=W(),gi=L("div"),ys=L("div"),_l=Z(_s),T0=W(),vs=L("div"),vs.innerHTML="Allowed Interference <pre>dBm</pre>",S0=W(),M0=L("hr"),k0=W(),Cr=L("div"),ws=L("div"),vl=Z(xs),I0=W(),Es=L("div"),Es.innerHTML="I/N <pre>dB</pre>",A0=W(),Rr=L("div"),mi=L("div"),Ss=L("i"),C0=W(),wl=Z(ks),R0=W(),Is=L("div"),Is.innerHTML="Aggr. Interference <pre>dBm</pre>",N0=W(),Nr=L("div"),bi=L("a"),P0=Z("Urban : "),xl=Z(Cs),O0=Z(" dBm"),D0=W(),L0=L("br"),$0=W(),yi=L("a"),U0=Z("SubUrban : "),El=Z(Rs),F0=Z(" dBm"),B0=W(),Pr=L("div"),Co=L("div"),H0=W(),ct=L("div"),Ro=L("h1"),z0=Z("Variables "),Tl=Z(Ns),W0=W(),_i=L("div"),vi=L("input"),G0=W(),Sl=L("label"),Sl.textContent="Hide Inspector",V0=W(),Y0=L("br"),X0=W(),j0=L("br"),K0=W(),No=L("div"),n1.title="IMT interference to FSS Analysis",U(t,"rel","stylesheet"),U(t,"href","https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"),U(o,"class","icon github"),U(i,"href",""),U(i,"class","ui label right ribbon blue"),U(u,"class","ui header"),U(y,"class","ui fluid primary button"),U(A,"type","password"),A.disabled=R=e[19]!=null,tp(A,"display",e[19]!=null?"none":"block"),U(g,"class","ui field"),U(C,"type","number"),U(C,"step","50"),U(z,"type","number"),z.disabled=!0,U(ee,"type","checkbox"),U(K,"class","ui toggle checkbox "),U(ae,"type","checkbox"),ae.disabled=e[13],U(B,"class","ui toggle checkbox "),U(k,"class","field"),U(we,"type","number"),U(we,"min","32"),U(we,"max","130"),U(we,"step","0.5"),U(yt,"type","range"),U(yt,"min","55"),U(yt,"max","129.5"),U(yt,"step","0.5"),U(O,"class","field"),e[8]===void 0&&ur(()=>e[63].call(tt)),U(Me,"class","field"),U(St,"for",""),U(Te,"name",""),U(Te,"id",""),e[9]===void 0&&ur(()=>e[64].call(Te)),U(_t,"class","field"),U(an,"for",""),U(Pe,"name",""),U(Pe,"id",""),e[10]===void 0&&ur(()=>e[65].call(Pe)),U(Dt,"class","field"),U(tr,"type","checkbox"),U(er,"class","ui toggle checkbox "),U(rr,"type","checkbox"),U(nr,"class","ui toggle checkbox "),U(or,"type","checkbox"),U(ir,"class","ui toggle checkbox"),U(sn,"class","field"),U(m,"class","ui fields "),U(f,"class","ui form toolbox"),U(N,"class","ui header"),U(Ce,"class",Be="ui label left ribbon "+(e[16]-e[18]>=-10.5?"red":"green")),U(ss,"class","value"),U(cs,"class","label"),U(fi,"class","statistic"),U(us,"class","value"),U(Mo,"class","label"),U(di,"class","statistic"),U(ds,"class","value"),U(Io,"class","label"),U(hi,"class","statistic"),U(gs,"class","value"),U(bs,"class","label"),U(pi,"class","grey inverted statistic"),U(ys,"class","value"),U(vs,"class","label"),U(gi,"class","green statistic"),U(ws,"class","value"),U(Es,"class","label"),U(Cr,"class",Ts=(e[16]-e[18]>=-10.5?"red":"green")+" statistic"),U(Ss,"class",Ms="thumbs "+(e[16]==null?"":e[16]<e[18]-10.5?"circle up":"circle down")+" icon"),U(mi,"class","value"),U(Is,"class","label"),U(Rr,"class",As=(e[16]-e[18]>=-10.5?"red":"green")+" statistic"),U(bi,"class","ui red label left tag small"),U(yi,"class","ui grey label left tag small"),U(Oe,"class","ui six small statistics"),U(Co,"class","ui two column stackable grid "),U(Co,"id","logbox"),U(Pr,"class","ui segment"),ur(()=>e[70].call(Pr)),U(Ro,"class","header"),U(vi,"type","checkbox"),U(_i,"class","ui slider checkbox"),U(No,"class","ui two column stackable grid "),U(No,"id","figure"),U(ct,"class","ui segment"),ur(()=>e[73].call(ct)),U(be,"class","ui segment "),U(ge,"class","ui segments"),U(r,"class","ui basic segment widget")},m(fe,X){E(n1.head,t),_n(fe,n,X),_n(fe,r,X),E(r,i),E(i,o),E(i,a),E(i,s),E(r,c),E(r,u),E(r,l),E(r,f),$t.block.m(f,$t.anchor=null),$t.mount=()=>f,$t.anchor=h,E(f,h),Ut.block.m(f,Ut.anchor=null),Ut.mount=()=>f,Ut.anchor=b,E(f,b),E(f,_),E(f,v),E(f,m),E(m,g),E(g,y),E(y,x),E(g,T),E(g,A),cn(A,e[24]),E(m,D),E(m,k),E(k,$),E(k,M),E(k,C),cn(C,e[17]),E(k,I),E(k,P),E(k,q),E(k,z),cn(z,e[12]),E(k,G),E(k,K),E(K,ee),ee.checked=e[13],E(K,ue),E(K,le),E(k,Je),E(k,B),E(B,ae),ae.checked=e[14],E(B,at),E(B,Re),E(Re,Y),E(m,te),E(m,O),E(O,pe),E(pe,se),E(pe,ve),E(O,Ae),E(O,we),cn(we,e[6]),E(O,Ne),E(O,yt),cn(yt,e[6]),E(m,Ze),E(m,Me),E(Me,Fe),E(Me,Ee),E(Me,tt);for(let V=0;V<ut.length;V+=1)ut[V]&&ut[V].m(tt,null);Ti(tt,e[8],!0),E(m,on),E(m,_t),E(_t,St),E(_t,Qe),E(_t,Te);for(let V=0;V<lt.length;V+=1)lt[V]&&lt[V].m(Te,null);Ti(Te,e[9],!0),E(m,ui),E(m,Dt),E(Dt,an),E(Dt,st),E(Dt,Pe);for(let V=0;V<ft.length;V+=1)ft[V]&&ft[V].m(Pe,null);Ti(Pe,e[10],!0),E(m,li),E(m,sn),E(sn,er),E(er,tr),tr.checked=e[4],E(er,ts),E(er,Eo),E(sn,ns),E(sn,nr),E(nr,rr),rr.checked=e[5],E(nr,rs),E(nr,To),E(sn,is),E(sn,ir),E(ir,or),or.checked=e[1],E(ir,os),E(ir,So),E(r,as),E(r,S),E(r,H),E(r,N),E(r,J),E(r,ge),E(ge,be),E(be,Ce),E(Ce,ar),E(be,dl),E(be,Oe),E(Oe,fi),E(fi,ss),E(ss,hl),E(fi,l0),E(fi,cs),E(Oe,f0),E(Oe,di),E(di,us),E(us,pl),E(di,d0),E(di,Mo),E(Mo,h0),E(Mo,ko),E(ko,p0),E(ko,gl),E(ko,g0),E(Oe,m0),E(Oe,hi),E(hi,ds),E(ds,ml),E(hi,b0),E(hi,Io),E(Io,y0),E(Io,Ao),E(Ao,_0),E(Ao,bl),E(Ao,v0),E(Oe,w0),E(Oe,pi),E(pi,gs),E(gs,yl),E(pi,x0),E(pi,bs),E(Oe,E0),E(Oe,gi),E(gi,ys),E(ys,_l),E(gi,T0),E(gi,vs),E(Oe,S0),E(Oe,M0),E(Oe,k0),E(Oe,Cr),E(Cr,ws),E(ws,vl),E(Cr,I0),E(Cr,Es),E(Oe,A0),E(Oe,Rr),E(Rr,mi),E(mi,Ss),E(mi,C0),E(mi,wl),E(Rr,R0),E(Rr,Is),E(Oe,N0),E(Oe,Nr),E(Nr,bi),E(bi,P0),E(bi,xl),E(bi,O0),E(Nr,D0),E(Nr,L0),E(Nr,$0),E(Nr,yi),E(yi,U0),E(yi,El),E(yi,F0),E(be,B0),E(be,Pr),E(Pr,Co),e[69](Co),q0=np(Pr,e[70].bind(Pr)),E(be,H0),E(be,ct),E(ct,Ro),E(Ro,z0),E(Ro,Tl),E(ct,W0),E(ct,_i),E(_i,vi),vi.checked=e[0],E(_i,G0),E(_i,Sl),E(ct,V0),E(ct,Y0),E(ct,X0),E(ct,j0),E(ct,K0),E(ct,No),e[72](No),J0=np(ct,e[73].bind(ct)),Ml||(Z0=[He(y,"click",e[25]),He(A,"input",e[56]),He(C,"input",e[57]),He(z,"input",e[58]),He(ee,"change",e[59]),He(ae,"change",e[60]),He(we,"input",e[61]),He(yt,"change",e[62]),He(yt,"input",e[62]),He(tt,"change",e[63]),He(Te,"change",e[64]),He(Pe,"change",e[65]),He(tr,"change",e[66]),He(rr,"change",e[67]),He(or,"change",e[68]),He(vi,"change",e[71])],Ml=!0)},p(fe,X){if(e=fe,$t.ctx=e,X[0]&1048576&&d!==(d=e[20])&&Os(d,$t)||ip($t,e,X),Ut.ctx=e,X[0]&2097152&&p!==(p=e[21])&&Os(p,Ut)||ip(Ut,e,X),X[0]&524288&&w!==(w=e[19]==null?"Login":"Log Out")&&De(x,w),X[0]&524288&&R!==(R=e[19]!=null)&&(A.disabled=R),X[0]&524288&&tp(A,"display",e[19]!=null?"none":"block"),X[0]&16777216&&A.value!==e[24]&&cn(A,e[24]),X[0]&131072&&$r(C.value)!==e[17]&&cn(C,e[17]),X[0]&4096&&$r(z.value)!==e[12]&&cn(z,e[12]),X[0]&8192&&(ee.checked=e[13]),X[0]&8192&&(ae.disabled=e[13]),X[0]&16384&&(ae.checked=e[14]),X[0]&16384&&F!==(F=e[14]?"Switch to  Mean":"Switch to Median")&&De(Y,F),X[0]&64&&De(ve,e[6]),X[0]&64&&$r(we.value)!==e[6]&&cn(we,e[6]),X[0]&64&&cn(yt,e[6]),X[0]&67108864){wi=e[26];let V;for(V=0;V<wi.length;V+=1){const sr=o1(e,wi,V);ut[V]?ut[V].p(sr,X):(ut[V]=a1(sr),ut[V].c(),ut[V].m(tt,null))}for(;V<ut.length;V+=1)ut[V].d(1);ut.length=wi.length}if(X[0]&67109120&&Ti(tt,e[8]),X[0]&134217984){xi=[...e[27]];let V;for(V=0;V<xi.length;V+=1){const sr=i1(e,xi,V);lt[V]?lt[V].p(sr,X):(lt[V]=s1(sr),lt[V].c(),lt[V].m(Te,null))}for(;V<lt.length;V+=1)lt[V].d(1);lt.length=xi.length}if(X[0]&134218240&&Ti(Te,e[9]),X[0]&268435712){Ei=[...e[28]];let V;for(V=0;V<Ei.length;V+=1){const sr=r1(e,Ei,V);ft[V]?ft[V].p(sr,X):(ft[V]=c1(sr),ft[V].c(),ft[V].m(Pe,null))}for(;V<ft.length;V+=1)ft[V].d(1);ft.length=Ei.length}X[0]&268436480&&Ti(Pe,e[10]),X[0]&16&&(tr.checked=e[4]),X[0]&32&&(rr.checked=e[5]),X[0]&2&&(or.checked=e[1]),X[0]&327680&&Lt!==(Lt=e[16]-e[18]>=-10.5?"Failed":"Success")&&De(ar,Lt),X[0]&327680&&Be!==(Be="ui label left ribbon "+(e[16]-e[18]>=-10.5?"red":"green"))&&U(Ce,"class",Be),X[0]&8388608&&De(hl,e[23]),X[0]&2048&&ls!==(ls=gt("4.2~s")(e[11])+"")&&De(pl,ls),X[0]&2048&&fs!==(fs=e[11].toFixed(0)+"")&&De(gl,fs),X[0]&4194304&&hs!==(hs=gt("4.2~s")(e[22])+"")&&De(ml,hs),X[0]&4194304&&ps!==(ps=e[22].toFixed(0)+"")&&De(bl,ps),X[0]&262144&&ms!==(ms=e[18].toFixed(1)+"")&&De(yl,ms),X[0]&262144&&_s!==(_s=(e[18]-10.5).toFixed(1)+"")&&De(_l,_s),X[0]&327680&&xs!==(xs=(e[16]==null?"???":(e[16]-e[18]).toFixed(1))+"")&&De(vl,xs),X[0]&327680&&Ts!==(Ts=(e[16]-e[18]>=-10.5?"red":"green")+" statistic")&&U(Cr,"class",Ts),X[0]&327680&&Ms!==(Ms="thumbs "+(e[16]==null?"":e[16]<e[18]-10.5?"circle up":"circle down")+" icon")&&U(Ss,"class",Ms),X[0]&65536&&ks!==(ks=(e[16]==null?"???":e[16].toFixed(1))+"")&&De(wl,ks),X[0]&327680&&As!==(As=(e[16]-e[18]>=-10.5?"red":"green")+" statistic")&&U(Rr,"class",As),X[0]&32768&&Cs!==(Cs=(e[15]!=null?e[15][0].I.toFixed(2):"???")+"")&&De(xl,Cs),X[0]&32768&&Rs!==(Rs=(e[15]!=null?e[15][1].I.toFixed(2):"???")+"")&&De(El,Rs),X[0]&1&&Ns!==(Ns=e[0]?"[Hidden]":"")&&De(Tl,Ns),X[0]&1&&(vi.checked=e[0])},i:xe,o:xe,d(fe){At(t),fe&&At(n),fe&&At(r),$t.block.d(),$t.token=null,$t=null,Ut.block.d(),Ut.token=null,Ut=null,kl(ut,fe),kl(lt,fe),kl(ft,fe),e[69](null),q0(),e[72](null),J0(),Ml=!1,lo(Z0)}}}function RO(e){return e&&Object.prototype.toString.call(e)==="[object Promise]"}function ic(e){return Math.pow(10,e/10)}function u1(e){return 10*Math.log10(e)}function NO(e,t,n){let r,i,o,a,s;ep(e,ul,S=>n(19,a=S)),ep(e,Vm,S=>n(24,s=S));let c,u=!1,l,f,d,h,p,b=new Map,_,v,m;async function g(){return a==null?(n(21,m=gP("guest@5gindiaforum.in",s)),m):(pP().then(H=>console.log("After signout ",H,a)),"Signed Out")}let y=async(S,H,N)=>{N=N||!1;var J=_;N&&(J=v);let ge=b.get(S);if(ge==null){let Ce=document.createElement("div"),ar=da(Ce).attr("class","column cell").append("div").attr("class","plain segment");ar.append("div").attr("class",`ui ${N?"tag teal":"pointing"} below label`).text(S);let Be=ar.append("div").node();ge={inspector:new Af(Be),alwaysshow:N,rootcell:Ce,render:J!=null},b.set(S,ge),J!=null&&J.append(Ce)}let be=ge.inspector;if(RO(H))be.fulfilled("Waiting for obj.. ",S),H.then(Ce=>be.fulfilled(Ce)).catch(Ce=>{be.fulfilled("Err : "+Ce),console.log(S,"Error ",Ce)});else if(N)if(H==null){let Ce=document.createElement("div"),Lt=da(Ce).attr("class","ui  active placeholder inverted orange segment ");Lt.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),Lt.append("img"),be.fulfilled(Ce)}else be.fulfilled(H);else be.fulfilled(H);return S};function w(){let S=M4("/files/geoBoundaries-IND-ADM1_simplified.topojson");y("CSV",S,!1),n(20,l=S),S.then(H=>{n(29,f=H),n(32,p=Pt(xP(f,f.objects.INDADM1gbOpen.geometries)))})}w();let x=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,1],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,1],LoadingFactor:.2,BSDensity:2.4}],T,A,R=[10,20,30,40],D,k=!1,$,M=83,C,I=async(S,H,N)=>(N=N||!1,y(S,H,N)),P=0,q=x[0],z,G,K=new Map([["Ra1",{name:"Ratio of Coverage",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage",val:1,factor:.45}]]),ee=new Map([["Rb1",{name:"N/w Coverage",val:0,factor:.01}],["Rb2",{name:"N/w Coverage",val:1,factor:.035}],["Rb3",{name:"N/w Coverage",val:2,factor:.01}]]),ue,le,Je,B,ae,at,Re=()=>{var S=E3().thresholds(at).value(N=>N.el),H=S(le);return C3(H,N=>{var J=wt(N,Be=>Be.areasqkm),ge=Wo(N,Be=>Be.el),be=ze(N,Be=>Be.az),Ce=Zt(N,Be=>Be.SatGain),Lt=10*Math.log10(Wo(N,Be=>Math.pow(10,Be.SatGain/10))),ar=lr(N,Be=>Be.SatGain);return{x:Math.floor((N.x0+N.x1)/2),x0:N.x0,x1:N.x1,azExtents:be,count:N.length,meanangle:ge,totalareasqkm:J,maxRxGain:Ce,meanRxGain:Lt,medianRxGain:ar}})},F,Y=-1,te=-1,O=-1,pe=-1,se,ve=0;async function Ae(){if(ae!=null){n(23,ve=gt("2.3~s")(wt(ae,N=>N.totalareasqkm)));var S=ln({marks:[Ai(ae,{y:"count",x:"x",fill:N=>$(N.x),title:N=>N.x}),$n(ae,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:N=>N.x})],width:r,grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:N=>Math.floor(N)},y:{label:"# of grids",nice:!0},caption:`Figure 3: #grids vs Elev. @ ${M}E`}),H=ln({marks:[Ai(ae,{title:"totalareasqkm",y:"totalareasqkm",x:"x",cumulative:!1,fill:N=>$(N.x)}),$n(ae,{text:N=>gt(".2~s")(N.totalareasqkm),y:"totalareasqkm",x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},width:r,caption:`Figure 4 : Area per Elevation @${M}E | Total Area: ${ve} sqkm`});n(20,l=I("allplot",S,!0)),n(20,l=I("allplot",H,!0))}}let we,Ne;async function yt(){Cp("/files/LossesPerElevation@1.csv",Ap).then(S=>{n(49,Ne=S.map(H=>({el:+H["Elev angle"],UrbanAg:H.UrbanAg,SubUrbanAg:H.SubUrbanAg,GL:H["Gas loss"],CL:-H["Clutter gain"],PL:H["Propagation loss"]}))),I("gainloss",Ne)})}yt();let Ze;function Me(S){var H=Ne.find(N=>N.el==S);return H!=null?H.CL+H.GL+H.PL:0}function Fe(S){var H=Ne.find(N=>N.el==S);return H!=null?{UrbanAg:H.UrbanAg,SubUrbanAg:H.SubUrbanAg}:{UrbanAg:0,SubUrbanAg:0}}let Ee,tt=32,on=!0,_t=!1;async function St(){var S=24,H=3,N=tt,J=S-H;return n(51,Ee=ae.map((ge,be)=>({...ge,urban:ge.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.TDD*B.NW,suburban:ge.totalareasqkm*B.SubUrban.Ra*B.SubUrban.Rb*B.TDD*B.NW,urbandB_BS:10*Math.log10(ge.totalareasqkm*B.uScale),suburbandB_BS:10*Math.log10(ge.totalareasqkm*B.suScale),urbandB:10*Math.log10(ge.totalareasqkm*B.uScale)+J+(on?N:_t?ge.medianRxGain:ge.meanRxGain),suburbandB:10*Math.log10(ge.totalareasqkm*B.suScale)+J+(on?N:_t?ge.medianRxGain:ge.meanRxGain),Factor:J}))),I("stats",Ee)}let Qe,Te;function ui(){var S=10*Math.log10(wt(Nl(Ee,J=>isFinite(J.urbandB)),J=>Math.pow(10,(J.urbandB+Fe(J.x).UrbanAg-Me(J.x))/10))),H=10*Math.log10(wt(Nl(Ee,J=>isFinite(J.suburbandB)),J=>Math.pow(10,(J.suburbandB+Fe(J.x).SubUrbanAg-Me(J.x))/10))),N=[{Env:"red",I:S,Name:"Urban"},{Env:"grey",I:H,Name:"SubUrban"}];n(15,Qe=N),n(20,l=I("Total I",Qe)),n(16,Te=u1(ic(Qe[0].I)+ic(Qe[1].I))),n(20,l=I("totalIdB",Te))}let Dt,an,st=650;function Pe(){s=this.value,Vm.set(s)}function li(){st=$r(this.value),n(17,st)}function sn(){tt=$r(this.value),n(12,tt)}function er(){on=this.checked,n(13,on)}function tr(){_t=this.checked,n(14,_t)}function ts(){M=$r(this.value),n(6,M)}function Eo(){M=$r(this.value),n(6,M)}function ns(){q=Il(this),n(8,q),n(26,x)}function nr(){z=Il(this),n(9,z),n(27,K)}function rr(){G=Il(this),n(10,G),n(28,ee)}function rs(){D=this.checked,n(4,D)}function To(){k=this.checked,n(5,k)}function is(){u=this.checked,n(1,u)}function ir(S){mc[S?"unshift":"push"](()=>{v=S,n(3,v)})}function or(){P=this.clientWidth,n(7,P)}function os(){c=this.checked,n(0,c),n(1,u)}function So(S){mc[S?"unshift":"push"](()=>{_=S,n(2,_),n(0,c),n(1,u)})}function as(){P=this.clientWidth,n(7,P)}return e.$$.update=()=>{if(e.$$.dirty[0]&2&&n(0,c=!u),e.$$.dirty[0]&5&&_!=null&&n(2,_.style.display=c?"none":"block",_),e.$$.dirty[0]&12&&v!=null&&b.forEach((S,H)=>{S.render||(S.alwaysshow?v.append(S.rootcell):_.append(S.rootcell),S.render=!0,b.set(H,S))}),e.$$.dirty[0]&536871040|e.$$.dirty[1]&3&&f!=null&&(n(31,h=Zb().fitExtent([[50,50],[P*.8,450]],p)),Ua(h).pointRadius(1),I("projection",h)),e.$$.dirty[0]&1074266112&&(a!=null?d==null&&mP("fss/SatAntGain.csv").then(S=>{let H=Cp(S,Ap);H.then(N=>{n(30,d=N),n(38,ue=Sn(d.map(J=>qt([J.Longitude,J.Latitude],{Gain:J.AntennaGain}))))}),y("SatAntGain",H,!1)}):y("SatAntGain","UnAuthorrized/Sign",!1)),e.$$.dirty[1]&14&&p!=null){let S=hu(p),H=wO(S,1,{units:"degrees"}),N=H.features[0].geometry.type;H.features.forEach((J,ge)=>{let be=[];N=="point"?be=J.geometry.coordinates:be=ZP(J).geometry.coordinates,J.properties.center=be,J.properties.inLand=eE(p,be)}),n(33,T=H),n(34,A=T.features.filter(J=>J.properties.inLand)),n(20,l=I("mygrid",T)),n(20,l=I("selectGrid",A))}if(e.$$.dirty[0]&64|e.$$.dirty[1]&388&&ue!=null&&T!=null){let S=[],H=T.features[0].geometry.type;T.features.forEach(N=>{var J=[];H!="point"?J=N.properties.center:J=N.geometry.coordinates;let ge=mm(J[1],J[0],M),be=NI(J[1],J[0],M),Ce=uO(N)/1e6;if(N.properties.inLand){let Lt=QP(J,ue);S.push({az:be,el:ge,areasqkm:Ce,SatGain:Lt.properties.Gain})}}),n(39,le=S),y("gridElangles",le)}if(e.$$.dirty[1]&256&&n(35,R=le!=null&&le.map(S=>S.el)),e.$$.dirty[0]&16|e.$$.dirty[1]&48){n(36,$=dd(D?ze(R):[10,90],oo));let S=vk({color:{label:"Elev Angles",domain:$.domain(),width:"100px",type:"sequential",interpolate:oo}});n(20,l=I("Legend",S,!0))}if(e.$$.dirty[1]&2304&&le!=null){let S=ze(le,H=>H.el);n(43,at=jt(Math.floor(S[0]),Math.ceil(S[1]))),n(42,ae=Re()),n(20,l=I("binnedData",ae))}if(e.$$.dirty[0]&64|e.$$.dirty[1]&4352&&le!=null){let S=ln({x:{ticks:at},y:{nice:!0},marks:[bf(le,{x:"el",y:"SatGain",fill:"SatGain",title:H=>`${H.el.toFixed(0)}@${H.SatGain.toFixed(1)}dB`}),bf(le,gf({y:H=>10*Math.log10(Wo(H,N=>Math.pow(10,N/10))),title:H=>"Mean : "+(10*Math.log10(Wo(H,N=>Math.pow(10,N/10)))).toFixed(1)+"dB"},{x:"el",y:"SatGain",fill:"black",title:"SatGain",thresholds:at})),Oi(le,gf({y:H=>lr(H),title:H=>"Median : "+lr(H).toFixed(1)+"dB"},{x:"el",y:"SatGain",stroke:"red",strokeWidth:2,title:"SatGain",thresholds:at}))],grid:!0,color:{legend:!0},caption:`"Figure 10 : SatGain, mean(o
      ), median (--) (vs el) @${M}E`});y("SatGain",S,!0)}if(e.$$.dirty[0]&96|e.$$.dirty[1]&303&&A!=null&&p!=null&&h!=null&&le!=null){let S=ln({color:{legend:!0,width:400},height:300,projection:{type:"orthographic",rotate:[-M,0]},marks:[AI({}),CI(),ca(p,{fill:"lightgrey",fillOpacity:.1,stroke:"lightgreen"}),ca(T,{strokeOpacity:.3,fillOpacity:.6,fill:"none"}),ca(A,{fill:(H,N)=>{if(k)return le[N].SatGain;{let J=H.properties.center,ge=mm(J[1],J[0],M);return $(ge)}}}),Uh([M],{x:M,y:0,fontSize:"2em",fill:"red",text:H=>H+"° E"})],caption:`Figure 1: View of Globe from Satellite ${M}`});n(37,C=S)}if(e.$$.dirty[0]&8&&v!=null&&I("offaxis",30),e.$$.dirty[0]&128&&n(55,r=P>1025?P*.5-10:P),e.$$.dirty[0]&256&&I("currentEnv",q,!1),e.$$.dirty[1]&64&&y("Globe View",C,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16777504&&le!=null){let S=bf(le,{y:"areasqkm",x:"el",fill:H=>$(H.el)}).plot({grid:!0,width:r,x:{nice:!0},y:{tickFormat:"~s"},color:{legend:!0},caption:`Figure 2: Grid Area vs El Angles @${M}E`});n(40,Je=S)}if(e.$$.dirty[1]&512&&y("figure1",Je,!0),e.$$.dirty[0]&1536|e.$$.dirty[1]&1024&&z!=null&&(n(41,B={Urban:{Ra:x[0].Ra[z.val]/100,Rb:x[0].Rb[G.val]/100,BSdensity:x[0].BSDensity},SubUrban:{Ra:x[1].Ra[z.val]/100,Rb:x[1].Rb[G.val]/100,BSdensity:x[1].BSDensity},NW:.2,TDD:.75,uScale:x[0].BSDensity*x[0].Ra[z.val]*x[0].Rb[G.val]/1e4*.2*.75,suScale:x[1].BSDensity*x[1].Ra[z.val]*x[1].Rb[G.val]/1e4*.2*.75}),I("factor",B)),e.$$.dirty[0]&1073741824&&d!=null&&n(44,F=dd(ze(d,S=>S.AntennaGain),lh).nice()),e.$$.dirty[0]&3904|e.$$.dirty[1]&16903200&&ae!=null&&(n(45,te=wt(ae,S=>S.totalareasqkm)*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity),n(46,O=wt(ae,S=>S.totalareasqkm)*B.SubUrban.Ra*B.SubUrban.Rb*B.SubUrban.BSdensity),n(11,Y=te+O),n(47,se=ln({marks:[Ai(ae,{y:S=>S.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity,title:S=>(S.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:S=>$(S.x)}),Ai(ae,{y:S=>S.totalareasqkm*B.SubUrban.Ra*B.SubUrban.Rb*B.SubUrban.BSdensity,title:S=>(S.totalareasqkm*B.SubUrban.Ra*B.SubUrban.Rb*B.SubUrban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:S=>$(S.x)}),$n(ae,{y:S=>S.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity,title:S=>S.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity,text:S=>gt("2.2~s")(S.totalareasqkm*B.Urban.Ra*B.Urban.Rb*B.Urban.BSdensity),rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:S=>F(S.maxRxGain)}),Ci(ae,{y:S=>S.totalareasqkm*B.uScale,title:S=>"Urban Active :"+(S.totalareasqkm*B.uScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"red"}),Ci(ae,{y:S=>S.totalareasqkm*B.suScale,title:S=>"SubUrban Active :"+(S.totalareasqkm*B.suScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",strokeWidth:2,stroke:"grey"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:S=>Math.floor(S)},y:{nice:!0,tickRotate:-40,label:"BS/sector count (Ra*Rb*Density)"},width:r,caption:`Figure 5 : Satellite${M} | Total ${gt("2.2~s")(Y)} Active :${gt("2.2~s")(Y*B.TDD*B.NW)} | Ra${z.val+1}(${B.Urban.Ra*100}%),Rb${G.val+1}
    (${B.Urban.Rb*100}%)`})),n(20,l=I("allplot",se,!0)),n(22,pe=Y*B.TDD*B.NW)),e.$$.dirty[0]&1792|e.$$.dirty[1]&65536&&Ae(),e.$$.dirty[1]&2048&&ae!=null&&n(50,Ze=ze(ae,S=>S.x)),e.$$.dirty[0]&26112|e.$$.dirty[1]&2048&&ae!=null&&n(20,l=St()),e.$$.dirty[0]&98304&&Qe!=null&&(console.log("totalIdB",Te),n(16,Te=u1(ic(Qe[0].I)+ic(Qe[1].I))),n(20,l=I("totalIdB",Te))),e.$$.dirty[1]&1310720&&Ee!=null&&Ne!=null&&ui(),e.$$.dirty[0]&4160|e.$$.dirty[1]&2048&&ae!=null&&n(52,Dt=ln({grid:!0,y:{nice:!0},x:{nice:!0},caption:`Figure 10 : Satellite Rx Gains vs El @ ${M}`,marks:[Ho(ae,{y:"meanRxGain",x:"x",clip:!0}),Oi([tt],{stroke:"red"})]})),e.$$.dirty[1]&2097152&&y("Sat RxGains",Dt,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16&&n(54,i=ln({grid:!0,height:400,caption:`Figure 8 : Distribution of Elevations towards ${M}E`,x:{nice:!0,label:"elv"},y:{nice:!0,label:"CDF"},marks:[Pw(),Ho(R,gf({y:"proportion"},{x:S=>S,cumulative:!0})),Oi([0])]})),e.$$.dirty[1]&8388608&&n(20,l=I("Elv. Distribution",i,!0)),e.$$.dirty[0]&34624|e.$$.dirty[1]&1969184&&Ne!=null&&Ee!=null&&ae!=null&&(n(48,we=ln({marks:[Ho(Ne,{marker:"dot",y:S=>-S.CL-S.GL-S.PL,title:S=>"Clutter+Gas+PgLoss : "+(-S.CL-S.GL-S.PL).toFixed(1),x:S=>+S.el,strokeWidth:2}),Ci(Ee,{marker:"dot",y:S=>S.suburbandB,title:S=>"SubU #Factor : "+S.suburbandB.toFixed(1),x:"x",stroke:"grey",fill:S=>$(S.x)}),Ci(Ee,{marker:"dot",y:S=>S.urbandB,title:S=>"Urban #Factor : "+S.urbandB.toFixed(1),x:"x",strokeWidth:2,stroke:"red"}),$n(Ee,{y:S=>S.suburbandB,x:"x",text:S=>S.suburbandB.toFixed(0),color:"grey",dy:15}),$n(Ee,{y:S=>S.urbandB,x:"x",text:S=>S.urbandB.toFixed(0),color:"red",dy:-15}),Ai(Ee,{marker:"dot",y:S=>S.suburbandB+Fe(S.x).SubUrbanAg-Me(S.x),title:S=>"subUrban : I = "+(S.suburbandB+Fe(S.x).SubUrbanAg-Me(S.x)).toFixed(1),x:"x",fill:S=>$(S.x)}),Ci(Ee,{marker:"dot",y:S=>S.urbandB+Fe(S.x).UrbanAg-Me(S.x),title:S=>"Urban : I = "+(S.urbandB+Fe(S.x).UrbanAg-Me(S.x)).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Oi(Qe,{stroke:S=>S.Env,y:S=>S.I,strokeWidth:3,strokeDasharray:[5,5],title:S=>`${S.Name} Mean I : ${S.I.toFixed(1)}`}),$n(Qe,{y:S=>S.I,x:Ze[1],dy:-5,fontSize:12,fontWeight:"bold",textAnchor:"end",fill:"Env",text:S=>S.Name+` ${S.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:jt(Ze[0],Ze[1]+1),tickFormat:S=>Math.floor(S)},color:{legend:!0,type:"categorical"},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`Figure 6: Agg.Interference @${M}E | AggFactor, Interference@el`})),n(20,l=y("p5",we,!0))),e.$$.dirty[0]&131072&&n(18,o=10*Math.log10(138e-25*st)+60+30),e.$$.dirty[0]&294976|e.$$.dirty[1]&6029344&&Ee!=null&Ne!=null){let S=Nl(Ne,N=>N.el>Ze[0]&&N.el<Ze[1]),H=lr(S,N=>N.UrbanAg);lr(S,N=>N.SubUrbanAg),n(53,an=ln({marks:[Ai(Ee,{marker:"dot",y:N=>N.suburbandB+Fe(N.x).SubUrbanAg-Me(N.x)-o,title:N=>"SubU I/N : "+(N.suburbandB+Fe(N.x).SubUrbanAg-Me(N.x)-o).toFixed(1),x:"x",fill:N=>$(N.x)}),Ci(Ee,{marker:"dot",y:N=>N.urbandB+Fe(N.x).UrbanAg-Me(N.x)-o,title:N=>"Urban I/N : "+(N.urbandB+Fe(N.x).UrbanAg-Me(N.x)-o).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),$n(Ee,{marker:"dot",y:N=>N.suburbandB+Fe(N.x).SubUrbanAg-Me(N.x)-o,text:N=>(N.suburbandB+Fe(N.x).SubUrbanAg-Me(N.x)-o).toFixed(0),dy:-5,x:"x"}),Ho(Ne,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",title:N=>`Urban - Antenna gain => FSS ${N.UrbanAg}`}),Ho(Ne,{x:"el",y:"SubUrbanAg",marker:"dot",stroke:"grey",title:N=>`SubU - Antenna gain => FSS ${N.SubUrbanAg}`}),Oi(Qe,{y:N=>N.I-o,stroke:"Env",title:N=>N.Name+(N.I-o).toFixed(0)}),$n([0],{x:Ze[0]+(Ze[1]-Ze[0])/2,y:H,textAnchor:"center",fill:"red",dy:-15,text:N=>"BS Ag=>FSS "})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:jt(Ze[0],Ze[1]+1),tickFormat:N=>Math.floor(N)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`Figure 7 : I/N distribution @${M} | Ant Gain, I/N`})),n(20,l=y("p6",an,!0))}e.$$.dirty[1]&4325376},[c,u,_,v,D,k,M,P,q,z,G,Y,tt,on,_t,Qe,Te,st,o,a,l,m,pe,ve,s,g,x,K,ee,f,d,h,p,T,A,R,$,C,ue,le,Je,B,ae,at,F,te,O,se,we,Ne,Ze,Ee,Dt,an,i,r,Pe,li,sn,er,tr,ts,Eo,ns,nr,rr,rs,To,is,ir,or,os,So,as]}class PO extends v6{constructor(t){super(),_6(this,t,NO,CO,d1,{},null,[-1,-1,-1,-1])}}new PO({target:document.getElementById("app")});
