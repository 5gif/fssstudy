(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Pe(){}function C6(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function P1(e){return e()}function wp(){return Object.create(null)}function yo(e){e.forEach(P1)}function O1(e){return typeof e=="function"}function D1(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function R6(e){return Object.keys(e).length===0}function N6(e,...t){if(e==null)return Pe;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function xp(e,t,n){e.$$.on_destroy.push(N6(t,n))}function E(e,t){e.appendChild(t)}function vr(e,t,n){e.insertBefore(t,n||null)}function Qt(e){e.parentNode&&e.parentNode.removeChild(e)}function Fl(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function z(){return Y(" ")}function P6(){return Y("")}function Ne(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function qr(e){return e===""?null:+e}function O6(e){return Array.from(e.childNodes)}function xe(e,t){t=""+t,e.data!==t&&(e.data=t)}function un(e,t){e.value=t??""}function Ep(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ki(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Bl(e){const t=e.querySelector(":checked");return t&&t.__value}let Ys;function D6(){if(Ys===void 0){Ys=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Ys=!0}}return Ys}function Tp(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=$("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=D6();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Ne(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=Ne(r.contentWindow,"resize",t),t()}),E(e,r),()=>{(i||o&&r.contentWindow)&&o(),Qt(r)}}let va;function Bn(e){va=e}function L6(){if(!va)throw new Error("Function called outside component initialization");return va}const $i=[],Ac=[];let qi=[];const Sp=[],$6=Promise.resolve();let Bf=!1;function U6(){Bf||(Bf=!0,$6.then(jd))}function fr(e){qi.push(e)}const ql=new Set;let Ai=0;function jd(){if(Ai!==0)return;const e=va;do{try{for(;Ai<$i.length;){const t=$i[Ai];Ai++,Bn(t),F6(t.$$)}}catch(t){throw $i.length=0,Ai=0,t}for(Bn(null),$i.length=0,Ai=0;Ac.length;)Ac.pop()();for(let t=0;t<qi.length;t+=1){const n=qi[t];ql.has(n)||(ql.add(n),n())}qi.length=0}while($i.length);for(;Sp.length;)Sp.pop()();Bf=!1,ql.clear(),Bn(e)}function F6(e){if(e.fragment!==null){e.update(),yo(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fr)}}function B6(e){const t=[],n=[];qi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),qi=t}const yc=new Set;let Hr;function q6(){Hr={r:0,c:[],p:Hr}}function H6(){Hr.r||yo(Hr.c),Hr=Hr.p}function L1(e,t){e&&e.i&&(yc.delete(e),e.i(t))}function z6(e,t,n,r){if(e&&e.o){if(yc.has(e))return;yc.add(e),Hr.c.push(()=>{yc.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Mp(e,t){const n=t.token={};function r(i,o,a,s){if(t.token!==n)return;t.resolved=s;let c=t.ctx;a!==void 0&&(c=c.slice(),c[a]=s);const u=i&&(t.current=i)(c);let l=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==o&&f&&(q6(),z6(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),H6())}):t.block.d(1),u.c(),L1(u,1),u.m(t.mount(),t.anchor),l=!0),t.block=u,t.blocks&&(t.blocks[o]=u),l&&jd()}if(C6(e)){const i=L6();if(e.then(o=>{Bn(i),r(t.then,1,t.value,o),Bn(null)},o=>{if(Bn(i),r(t.catch,2,t.error,o),Bn(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function W6(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}const G6=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function V6(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||fr(()=>{const a=e.$$.on_mount.map(P1).filter(O1);e.$$.on_destroy?e.$$.on_destroy.push(...a):yo(a),e.$$.on_mount=[]}),o.forEach(fr)}function Y6(e,t){const n=e.$$;n.fragment!==null&&(B6(n.after_update),yo(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X6(e,t){e.$$.dirty[0]===-1&&($i.push(e),U6(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j6(e,t,n,r,i,o,a,s=[-1]){const c=va;Bn(e);const u=e.$$={fragment:null,ctx:[],props:o,update:Pe,not_equal:i,bound:wp(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:wp(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(u.root);let l=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...h)=>{const p=h.length?h[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),l&&X6(e,f)),d}):[],u.update(),l=!0,yo(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=O6(t.target);u.fragment&&u.fragment.l(f),f.forEach(Qt)}else u.fragment&&u.fragment.c();t.intro&&L1(e.$$.fragment),V6(e,t.target,t.anchor,t.customElement),jd()}Bn(c)}class K6{$destroy(){Y6(this,1),this.$destroy=Pe}$on(t,n){if(!O1(n))return Pe;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!R6(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Cc(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:n}):(i=r.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function $1(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function U1(e){return e===(e|0)+""}function pn(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const J6=Symbol.prototype.toString;function _o(e){return J6.call(e)}const{getOwnPropertySymbols:Z6,prototype:{hasOwnProperty:Q6}}=Object,{toStringTag:e3}=Symbol,F1={},za=Z6;function Iu(e,t){return Q6.call(e,t)}function qf(e){return e[e3]||e.constructor&&e.constructor.name||"Object"}function Wt(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return F1}}const t3=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function B1(e){try{let t=t3.filter(({symbol:a})=>e[a]===!0);if(!t.length)return;const n=t.find(a=>!a.modifier),r=n.name==="Map"&&t.find(a=>a.modifier&&a.prefix),i=t.some(a=>a.arrayish),o=t.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!o,setish:o}}catch{return null}}const{getPrototypeOf:Kd,getOwnPropertyDescriptors:n3}=Object,q1=Kd({});function H1(e,t,n,r){let i=$1(e),o,a,s,c;e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=r3):(o="Map()",a=da):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=i3):(o="Set()",a=da):i?(o=`${e.constructor.name}(${e.length})`,a=a3):(c=B1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?s3:c.setish?o3:u3):r?(o=qf(e),a=c3):(o=qf(e),a=da);const u=document.createElement("span");u.className="observablehq--expanded",n&&u.appendChild(pn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),l.addEventListener("mouseup",function(f){f.stopPropagation(),Nc(u,Jd(e,null,n,r))}),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)u.appendChild(s.value);if(!s.done){const f=u.appendChild(document.createElement("a"));f.className="observablehq--field",f.style.display="block",f.appendChild(document.createTextNode("  … more")),f.addEventListener("mouseup",function(d){d.stopPropagation(),u.insertBefore(s.value,u.lastChild.previousSibling);for(let h=0;!(s=a.next()).done&&h<19;++h)u.insertBefore(s.value,u.lastChild.previousSibling);s.done&&u.removeChild(u.lastChild.previousSibling),Cc(u,"load")})}return u.appendChild(document.createTextNode(i?"]":"}")),u}function*r3(e){for(const[t,n]of e)yield l3(t,n);yield*da(e)}function*i3(e){for(const t of e)yield W1(t);yield*da(e)}function*o3(e){for(const t of e)yield W1(t)}function*a3(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield Yn(t,Wt(e,t),"observablehq--index"));for(const t in e)!U1(t)&&Iu(e,t)&&(yield Yn(t,Wt(e,t),"observablehq--key"));for(const t of za(e))yield Yn(_o(t),Wt(e,t),"observablehq--symbol")}function*s3(e){let t=0;for(const n=e.size;t<n;++t)yield Yn(t,e.get(t),!0)}function*c3(e){for(const n in n3(e))yield Yn(n,Wt(e,n),"observablehq--key");for(const n of za(e))yield Yn(_o(n),Wt(e,n),"observablehq--symbol");const t=Kd(e);t&&t!==q1&&(yield z1(t))}function*da(e){for(const n in e)Iu(e,n)&&(yield Yn(n,Wt(e,n),"observablehq--key"));for(const n of za(e))yield Yn(_o(n),Wt(e,n),"observablehq--symbol");const t=Kd(e);t&&t!==q1&&(yield z1(t))}function*u3(e){for(const[t,n]of e)yield Yn(t,n,"observablehq--key")}function z1(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(St(e,void 0,void 0,void 0,!0)),t}function Yn(e,t,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(St(t)),r}function l3(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(St(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(St(t)),n}function W1(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(St(e)),t}function Ip(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function Jd(e,t,n,r){let i=$1(e),o,a,s,c;if(e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=f3):(o="Map()",a=ha):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=d3):(o="Set()",a=ha):i?(o=`${e.constructor.name}(${e.length})`,a=g3):(c=B1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?p3:c.setish?h3:m3):(o=qf(e),a=ha),t){const f=document.createElement("span");return f.className="observablehq--shallow",n&&f.appendChild(pn(n)),f.appendChild(document.createTextNode(o)),f.addEventListener("mouseup",function(d){Ip(f)||(d.stopPropagation(),Nc(f,Jd(e)))}),f}const u=document.createElement("span");u.className="observablehq--collapsed",n&&u.appendChild(pn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),u.addEventListener("mouseup",function(f){Ip(u)||(f.stopPropagation(),Nc(u,H1(e,null,n,r)))},!0),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)f>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(s.value);return s.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(i?"]":"}")),u}function*f3(e){for(const[t,n]of e)yield b3(t,n);yield*ha(e)}function*d3(e){for(const t of e)yield St(t,!0);yield*ha(e)}function*h3(e){for(const t of e)yield St(t,!0)}function*p3(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield Rc(n-t-1)),yield St(e.get(n),!0),t=n;n>t+1&&(yield Rc(n-t-1))}function*g3(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield Rc(n-t-1)),yield St(Wt(e,n),!0),t=n);n>t+1&&(yield Rc(n-t-1));for(const r in e)!U1(r)&&Iu(e,r)&&(yield wa(r,Wt(e,r),"observablehq--key"));for(const r of za(e))yield wa(_o(r),Wt(e,r),"observablehq--symbol")}function*ha(e){for(const t in e)Iu(e,t)&&(yield wa(t,Wt(e,t),"observablehq--key"));for(const t of za(e))yield wa(_o(t),Wt(e,t),"observablehq--symbol")}function*m3(e){for(const[t,n]of e)yield wa(t,n,"observablehq--key")}function Rc(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function wa(e,t,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(St(t,!0)),r}function b3(e,t){const n=document.createDocumentFragment();return n.appendChild(St(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(St(t,!0)),n}function G1(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${y3(e.getUTCFullYear())}-${Fn(e.getUTCMonth()+1,2)}-${Fn(e.getUTCDate(),2)}${n||r||i||o?`T${Fn(n,2)}:${Fn(r,2)}${i||o?`:${Fn(i,2)}${o?`.${Fn(o,3)}`:""}`:""}Z`:""}`}function y3(e){return e<0?`-${Fn(-e,6)}`:e>9999?`+${Fn(e,6)}`:Fn(e,4)}function Fn(e,t){return`${e}`.padStart(t,"0")}const _3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function V1(e,t){return _3.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function v3(e){return G1(e,"Invalid Date")}var w3=Error.prototype.toString;function x3(e){return e.stack||w3.call(e)}var E3=RegExp.prototype.toString;function T3(e){return E3.call(e)}const Hl=20;function S3(e,t,n,r){if(t===!1){if(Ap(e,/["\n]/g)<=Ap(e,/`|\${/g)){const u=document.createElement("span");r&&u.appendChild(pn(r));const l=u.appendChild(document.createElement("span"));return l.className="observablehq--string",l.textContent=JSON.stringify(e),u}const a=e.split(`
`);if(a.length>Hl&&!n){const u=document.createElement("div");r&&u.appendChild(pn(r));const l=u.appendChild(document.createElement("span"));l.className="observablehq--string",l.textContent="`"+kp(a.slice(0,Hl).join(`
`));const f=u.appendChild(document.createElement("span")),d=a.length-Hl;return f.textContent=`Show ${d} truncated line${d>1?"s":""}`,f.className="observablehq--string-expand",f.addEventListener("mouseup",function(h){h.stopPropagation(),Nc(u,St(e,t,!0,r))}),u}const s=document.createElement("span");r&&s.appendChild(pn(r));const c=s.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+kp(e)+"`",s}const i=document.createElement("span");r&&i.appendChild(pn(r));const o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),i}function kp(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,M3)}function M3(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Ap(e,t){for(var n=0;t.exec(e);)++n;return n}var I3=Function.prototype.toString,k3={prefix:"async ƒ"},A3={prefix:"async ƒ*"},Cp={prefix:"class"},C3={prefix:"ƒ"},R3={prefix:"ƒ*"};function N3(e,t){var n,r,i=I3.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=k3;break;case"AsyncGeneratorFunction":n=A3;break;case"GeneratorFunction":n=R3;break;default:n=/^class\b/.test(i)?Cp:C3;break}return n===Cp?Ho(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?Ho(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ho(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ho(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):Ho(n,"(…)",t)}function Ho(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(pn(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:P3}}=Object;function St(e,t,n,r,i){let o=typeof e;switch(o){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=_o(e);break}case"function":return N3(e,r);case"string":return S3(e,t,n,r);default:{if(e===null){o=null,e="null";break}if(e instanceof Date){o="date",e=v3(e);break}if(e===F1){o="forbidden",e="[forbidden]";break}switch(P3.call(e)){case"[object RegExp]":{o="regexp",e=T3(e);break}case"[object Error]":case"[object DOMException]":{o="error",e=x3(e);break}default:return(n?H1:Jd)(e,t,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(pn(r));const s=a.appendChild(document.createElement("span"));return s.className=`observablehq--${o}`,s.textContent=e,a}function Nc(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),Cc(t,"load")}const O3=/\s+\(\d+:\d+\)$/m;class Hf{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!D3(t)||t.parentNode&&t.parentNode!==r)&&(t=St(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);Cc(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(pn(n)),i.appendChild(document.createTextNode((t+"").replace(O3,""))),r.appendChild(i),Cc(r,"error",{error:t})}}Hf.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new Hf(e.appendChild(document.createElement("div")))}};function D3(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function Tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zd(e){let t,n,r;e.length!==2?(t=Tt,n=(s,c)=>Tt(e(s),c),r=(s,c)=>e(s)-c):(t=e===Tt||e===Wa?e:L3,n=e,r=e);function i(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<0?u=f+1:l=f}while(u<l)}return u}function o(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function a(s,c,u=0,l=s.length){const f=i(s,c,u,l-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function L3(){return 0}function Y1(e){return e===null?NaN:+e}function*$3(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const U3=Zd(Tt),F3=U3.right;Zd(Y1).center;const Ga=F3;function Qd(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function B3(e){return e.length|0}function q3(e){return!(e>0)}function H3(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function z3(e){return t=>e(...t)}function W3(...e){const t=typeof e[e.length-1]=="function"&&z3(e.pop());e=e.map(H3);const n=e.map(B3),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(q3))return o;for(;;){o.push(i.map((s,c)=>e[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function G3(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function X1(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function j1(e,t){const n=X1(e,t);return n&&Math.sqrt(n)}function qe(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class wr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Ki extends Map{constructor(t,n=Z1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(zf(this,t))}has(t){return super.has(zf(this,t))}set(t,n){return super.set(K1(this,t),n)}delete(t){return super.delete(J1(this,t))}}class eh extends Set{constructor(t,n=Z1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(zf(this,t))}add(t){return super.add(K1(this,t))}delete(t){return super.delete(J1(this,t))}}function zf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function K1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function J1({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Z1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pc(e){return e}function ku(e,...t){return Q1(e,Pc,Pc,t)}function Gr(e,t,...n){return Q1(e,Pc,t,n)}function Q1(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Ki,c=r[a++];let u=-1;for(const l of o){const f=c(l,++u,o),d=s.get(f);d?d.push(l):s.set(f,[l])}for(const[l,f]of s)s.set(l,i(f,a));return t(s)}(e,0)}function V3(e,t){return Array.from(t,n=>e[n])}function Ji(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=Oc(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>Oc(n[i],n[o]))),V3(e,r)}return e.sort(eb(n))}function eb(e=Tt){if(e===Tt)return Oc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Oc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function th(e,t,n){return(t.length!==2?Ji(Gr(e,t,n),([r,i],[o,a])=>Tt(i,a)||Tt(r,o)):Ji(ku(e,n),([r,i],[o,a])=>t(i,a)||Tt(r,o))).map(([r])=>r)}var Y3=Array.prototype,X3=Y3.slice;function zl(e){return()=>e}const j3=Math.sqrt(50),K3=Math.sqrt(10),J3=Math.sqrt(2);function Dc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=j3?10:o>=K3?5:o>=J3?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?Dc(e,t,n*2):[s,c,u]}function Zi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Dc(t,e,n):Dc(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Jr(e,t,n){return t=+t,e=+e,n=+n,Dc(e,t,n)[2]}function Wf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Jr(t,e,n):Jr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Z3(e,t,n){let r;for(;;){const i=Jr(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function tb(e){return Math.max(1,Math.ceil(Math.log(Qd(e))/Math.LN2)+1)}function Q3(){var e=Pc,t=qe,n=tb;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=e(i[o],o,i);var l=t(u),f=l[0],d=l[1],h=n(u,f,d);if(!Array.isArray(h)){const g=d,y=+h;if(t===qe&&([f,d]=Z3(f,d,y)),h=Zi(f,d,y),h[0]<=f&&(c=Jr(f,d,y)),h[h.length-1]>=d)if(g>=d&&t===qe){const v=Jr(f,d,y);isFinite(v)&&(v>0?d=(Math.floor(d/v)+1)*v:v<0&&(d=(Math.ceil(d*-v)+1)/-v))}else h.pop()}for(var p=h.length,m=0,_=p;h[m]<=f;)++m;for(;h[_-1]>d;)--_;(m||_<p)&&(h=h.slice(m,_),p=_-m);var w=new Array(p+1),b;for(o=0;o<=p;++o)b=w[o]=[],b.x0=o>0?h[o-1]:f,b.x1=o<p?h[o]:d;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&w[Math.min(p,Math.floor((s-f)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&f<=s&&s<=d){const g=Math.floor((f-s)*c);w[Math.min(p,g+(h[g]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&w[Ga(h,s,0,p)].push(i[o]);return w}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:zl(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:zl([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:zl(Array.isArray(i)?X3.call(i):i),r):n},r}function en(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ex(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Xn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function tx(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function nb(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Oc:eb(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,l=Math.log(c),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+d)),p=Math.min(r,Math.floor(t+(c-u)*f/c+d));nb(e,t,h,p,i)}const o=e[t];let a=n,s=r;for(zo(e,n,t),i(e[r],o)>0&&zo(e,n,r);a<s;){for(zo(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?zo(e,n,s):(++s,zo(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function zo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rb(e,t=Tt){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?Tt(a,i)>0:Tt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Qi(e,t,n){if(e=Float64Array.from($3(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Xn(e);if(t>=1)return en(e);var r,i=(r-1)*t,o=Math.floor(i),a=en(nb(e,o).subarray(0,o+1)),s=Xn(e.subarray(o+1));return a+(s-a)*(i-o)}}function nx(e,t,n=Y1){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function rx(e,t,n){const r=Qd(e),i=Qi(e,.75)-Qi(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function ib(e,t,n){const r=Qd(e),i=j1(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Qo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function dr(e,t){return Qi(e,.5,t)}function*ix(e){for(const t of e)yield*t}function ob(e){return Array.from(ix(e))}function ox(e,t){const n=new Ki;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Kt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function qt(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Wl(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function ax(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function Lc(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function sx(e){return e}var Gl=1,Vl=2,Gf=3,Xs=4,Rp=1e-6;function cx(e){return"translate("+e+",0)"}function ux(e){return"translate(0,"+e+")"}function lx(e){return t=>+e(t)}function fx(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function dx(){return!this.__axis}function hx(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Gl||e===Xs?-1:1,l=e===Xs||e===Vl?"x":"y",f=e===Gl||e===Gf?cx:ux;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):sx),_=Math.max(o,0)+s,w=t.range(),b=+w[0]+c,g=+w[w.length-1]+c,y=(t.bandwidth?fx:lx)(t.copy(),c),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),T=v.selectAll(".tick").data(p,t).order(),M=T.exit(),R=T.enter().append("g").attr("class","tick"),O=T.select("line"),A=T.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(R),O=O.merge(R.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),A=A.merge(R.append("text").attr("fill","currentColor").attr(l,u*_).attr("dy",e===Gl?"0em":e===Gf?"0.71em":"0.32em")),h!==v&&(x=x.transition(h),T=T.transition(h),O=O.transition(h),A=A.transition(h),M=M.transition(h).attr("opacity",Rp).attr("transform",function(N){return isFinite(N=y(N))?f(N+c):this.getAttribute("transform")}),R.attr("opacity",Rp).attr("transform",function(N){var C=this.parentNode.__axis;return f((C&&isFinite(C=C(N))?C:y(N))+c)})),M.remove(),x.attr("d",e===Xs||e===Vl?a?"M"+u*a+","+b+"H"+c+"V"+g+"H"+u*a:"M"+c+","+b+"V"+g:a?"M"+b+","+u*a+"V"+c+"H"+g+"V"+u*a:"M"+b+","+c+"H"+g),T.attr("opacity",1).attr("transform",function(N){return f(y(N)+c)}),O.attr(l+"2",u*o),A.attr(l,u*_).text(m),v.filter(dx).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Vl?"start":e===Xs?"end":"middle"),v.each(function(){this.__axis=y})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function px(e){return hx(Gf,e)}var gx={value:()=>{}};function ab(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _c(n)}function _c(e){this._=e}function mx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_c.prototype=ab.prototype={constructor:_c,on:function(e,t){var n=this._,r=mx(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=bx(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Np(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Np(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _c(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function bx(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Np(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=gx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vf="http://www.w3.org/1999/xhtml";const eo={svg:"http://www.w3.org/2000/svg",xhtml:Vf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Au(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),eo.hasOwnProperty(t)?{space:eo[t],local:e}:e}function yx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vf&&t.documentElement.namespaceURI===Vf?t.createElement(e):t.createElementNS(n,e)}}function _x(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nh(e){var t=Au(e);return(t.local?_x:yx)(t)}function vx(){}function rh(e){return e==null?vx:function(){return this.querySelector(e)}}function wx(e){typeof e!="function"&&(e=rh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,u,l=0;l<a;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new kt(r,this._parents)}function xx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ex(){return[]}function sb(e){return e==null?Ex:function(){return this.querySelectorAll(e)}}function Tx(e){return function(){return xx(e.apply(this,arguments))}}function Sx(e){typeof e=="function"?e=Tx(e):e=sb(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),i.push(c));return new kt(r,i)}function cb(e){return function(){return this.matches(e)}}function ub(e){return function(t){return t.matches(e)}}var Mx=Array.prototype.find;function Ix(e){return function(){return Mx.call(this.children,e)}}function kx(){return this.firstElementChild}function Ax(e){return this.select(e==null?kx:Ix(typeof e=="function"?e:ub(e)))}var Cx=Array.prototype.filter;function Rx(){return Array.from(this.children)}function Nx(e){return function(){return Cx.call(this.children,e)}}function Px(e){return this.selectAll(e==null?Rx:Nx(typeof e=="function"?e:ub(e)))}function Ox(e){typeof e!="function"&&(e=cb(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new kt(r,this._parents)}function lb(e){return new Array(e.length)}function Dx(){return new kt(this._enter||this._groups.map(lb),this._parents)}function $c(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$c.prototype={constructor:$c,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lx(e){return function(){return e}}function $x(e,t,n,r,i,o){for(var a=0,s,c=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new $c(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function Ux(e,t,n,r,i,o,a){var s,c,u=new Map,l=t.length,f=o.length,d=new Array(l),h;for(s=0;s<l;++s)(c=t[s])&&(d[s]=h=a.call(c,c.__data__,s,t)+"",u.has(h)?i[s]=c:u.set(h,c));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(c=u.get(h))?(r[s]=c,c.__data__=o[s],u.delete(h)):n[s]=new $c(e,o[s]);for(s=0;s<l;++s)(c=t[s])&&u.get(d[s])===c&&(i[s]=c)}function Fx(e){return e.__data__}function Bx(e,t){if(!arguments.length)return Array.from(this,Fx);var n=t?Ux:$x,r=this._parents,i=this._groups;typeof e!="function"&&(e=Lx(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],d=f.length,h=qx(e.call(l,l&&l.__data__,u,r)),p=h.length,m=s[u]=new Array(p),_=a[u]=new Array(p),w=c[u]=new Array(d);n(l,f,m,_,w,h,t);for(var b=0,g=0,y,v;b<p;++b)if(y=m[b]){for(b>=g&&(g=b+1);!(v=_[g])&&++g<p;);y._next=v||null}}return a=new kt(a,r),a._enter=s,a._exit=c,a}function qx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hx(){return new kt(this._exit||this._groups.map(lb),this._parents)}function zx(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Wx(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],l=r[c],f=u.length,d=s[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||l[p])&&(d[p]=h);for(;c<i;++c)s[c]=n[c];return new kt(s,this._parents)}function Gx(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Vx(e){e||(e=Yx);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(t)}return new kt(i,this._parents).order()}function Yx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Xx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jx(){return Array.from(this)}function Kx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Jx(){let e=0;for(const t of this)++e;return e}function Zx(){return!this.node()}function Qx(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function e4(e){return function(){this.removeAttribute(e)}}function t4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n4(e,t){return function(){this.setAttribute(e,t)}}function r4(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function i4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function o4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function a4(e,t){var n=Au(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?t4:e4:typeof t=="function"?n.local?o4:i4:n.local?r4:n4)(n,t))}function fb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function s4(e){return function(){this.style.removeProperty(e)}}function c4(e,t,n){return function(){this.style.setProperty(e,t,n)}}function u4(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function l4(e,t,n){return arguments.length>1?this.each((t==null?s4:typeof t=="function"?u4:c4)(e,t,n??"")):to(this.node(),e)}function to(e,t){return e.style.getPropertyValue(t)||fb(e).getComputedStyle(e,null).getPropertyValue(t)}function f4(e){return function(){delete this[e]}}function d4(e,t){return function(){this[e]=t}}function h4(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function p4(e,t){return arguments.length>1?this.each((t==null?f4:typeof t=="function"?h4:d4)(e,t)):this.node()[e]}function db(e){return e.trim().split(/^|\s+/)}function ih(e){return e.classList||new hb(e)}function hb(e){this._node=e,this._names=db(e.getAttribute("class")||"")}hb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pb(e,t){for(var n=ih(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gb(e,t){for(var n=ih(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function g4(e){return function(){pb(this,e)}}function m4(e){return function(){gb(this,e)}}function b4(e,t){return function(){(t.apply(this,arguments)?pb:gb)(this,e)}}function y4(e,t){var n=db(e+"");if(arguments.length<2){for(var r=ih(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?b4:t?g4:m4)(n,t))}function _4(){this.textContent=""}function v4(e){return function(){this.textContent=e}}function w4(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function x4(e){return arguments.length?this.each(e==null?_4:(typeof e=="function"?w4:v4)(e)):this.node().textContent}function E4(){this.innerHTML=""}function T4(e){return function(){this.innerHTML=e}}function S4(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function M4(e){return arguments.length?this.each(e==null?E4:(typeof e=="function"?S4:T4)(e)):this.node().innerHTML}function I4(){this.nextSibling&&this.parentNode.appendChild(this)}function k4(){return this.each(I4)}function A4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C4(){return this.each(A4)}function R4(e){var t=typeof e=="function"?e:nh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function N4(){return null}function P4(e,t){var n=typeof e=="function"?e:nh(e),r=t==null?N4:typeof t=="function"?t:rh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function O4(){var e=this.parentNode;e&&e.removeChild(this)}function D4(){return this.each(O4)}function L4(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $4(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function U4(e){return this.select(e?$4:L4)}function F4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function B4(e){return function(t){e.call(this,t,this.__data__)}}function q4(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function H4(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function z4(e,t,n){return function(){var r=this.__on,i,o=B4(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function W4(e,t,n){var r=q4(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?z4:H4,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function mb(e,t,n){var r=fb(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function G4(e,t){return function(){return mb(this,e,t)}}function V4(e,t){return function(){return mb(this,e,t.apply(this,arguments))}}function Y4(e,t){return this.each((typeof t=="function"?V4:G4)(e,t))}function*X4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var bb=[null];function kt(e,t){this._groups=e,this._parents=t}function Va(){return new kt([[document.documentElement]],bb)}function j4(){return this}kt.prototype=Va.prototype={constructor:kt,select:wx,selectAll:Sx,selectChild:Ax,selectChildren:Px,filter:Ox,data:Bx,enter:Dx,exit:Hx,join:zx,merge:Wx,selection:j4,order:Gx,sort:Vx,call:Xx,nodes:jx,node:Kx,size:Jx,empty:Zx,each:Qx,attr:a4,style:l4,property:p4,classed:y4,text:x4,html:M4,raise:k4,lower:C4,append:R4,insert:P4,remove:D4,clone:U4,datum:F4,on:W4,dispatch:Y4,[Symbol.iterator]:X4};function xa(e){return typeof e=="string"?new kt([[document.querySelector(e)]],[document.documentElement]):new kt([[e]],bb)}function vo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ya(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ir(){}var Zr=.7,no=1/Zr,Hi="\\s*([+-]?\\d+)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K4=/^#([0-9a-f]{3,8})$/,J4=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),Z4=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),Q4=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${Ea}\\)$`),e5=new RegExp(`^rgba\\(${mn},${mn},${mn},${Ea}\\)$`),t5=new RegExp(`^hsl\\(${Ea},${mn},${mn}\\)$`),n5=new RegExp(`^hsla\\(${Ea},${mn},${mn},${Ea}\\)$`),Pp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vo(Ir,xr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Op,formatHex:Op,formatHex8:r5,formatHsl:i5,formatRgb:Dp,toString:Dp});function Op(){return this.rgb().formatHex()}function r5(){return this.rgb().formatHex8()}function i5(){return yb(this).formatHsl()}function Dp(){return this.rgb().formatRgb()}function xr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=K4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Lp(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?js(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?js(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=J4.exec(e))?new ze(t[1],t[2],t[3],1):(t=Z4.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Q4.exec(e))?js(t[1],t[2],t[3],t[4]):(t=e5.exec(e))?js(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t5.exec(e))?Fp(t[1],t[2]/100,t[3]/100,1):(t=n5.exec(e))?Fp(t[1],t[2]/100,t[3]/100,t[4]):Pp.hasOwnProperty(e)?Lp(Pp[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function Lp(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function js(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function oh(e){return e instanceof Ir||(e=xr(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function Er(e,t,n,r){return arguments.length===1?oh(e):new ze(e,t,n,r??1)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vo(ze,Er,Ya(Ir,{brighter(e){return e=e==null?no:Math.pow(no,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zr:Math.pow(Zr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Vr(this.r),Vr(this.g),Vr(this.b),Uc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$p,formatHex:$p,formatHex8:o5,formatRgb:Up,toString:Up}));function $p(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}`}function o5(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}${zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Up(){const e=Uc(this.opacity);return`${e===1?"rgb(":"rgba("}${Vr(this.r)}, ${Vr(this.g)}, ${Vr(this.b)}${e===1?")":`, ${e})`}`}function Uc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zr(e){return e=Vr(e),(e<16?"0":"")+e.toString(16)}function Fp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xt(e,t,n,r)}function yb(e){if(e instanceof Xt)return new Xt(e.h,e.s,e.l,e.opacity);if(e instanceof Ir||(e=xr(e)),!e)return new Xt;if(e instanceof Xt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Xt(a,s,c,e.opacity)}function Yf(e,t,n,r){return arguments.length===1?yb(e):new Xt(e,t,n,r??1)}function Xt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vo(Xt,Yf,Ya(Ir,{brighter(e){return e=e==null?no:Math.pow(no,e),new Xt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zr:Math.pow(Zr,e),new Xt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ze(Yl(e>=240?e-240:e+120,i,r),Yl(e,i,r),Yl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Xt(Bp(this.h),Ks(this.s),Ks(this.l),Uc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uc(this.opacity);return`${e===1?"hsl(":"hsla("}${Bp(this.h)}, ${Ks(this.s)*100}%, ${Ks(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bp(e){return e=(e||0)%360,e<0?e+360:e}function Ks(e){return Math.max(0,Math.min(1,e||0))}function Yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _b=Math.PI/180,vb=180/Math.PI,Fc=18,wb=.96422,xb=1,Eb=.82521,Tb=4/29,zi=6/29,Sb=3*zi*zi,a5=zi*zi*zi;function Mb(e){if(e instanceof bn)return new bn(e.l,e.a,e.b,e.opacity);if(e instanceof qn)return Ib(e);e instanceof ze||(e=oh(e));var t=Jl(e.r),n=Jl(e.g),r=Jl(e.b),i=Xl((.2225045*t+.7168786*n+.0606169*r)/xb),o,a;return t===n&&n===r?o=a=i:(o=Xl((.4360747*t+.3850649*n+.1430804*r)/wb),a=Xl((.0139322*t+.0971045*n+.7141733*r)/Eb)),new bn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Xf(e,t,n,r){return arguments.length===1?Mb(e):new bn(e,t,n,r??1)}function bn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}vo(bn,Xf,Ya(Ir,{brighter(e){return new bn(this.l+Fc*(e??1),this.a,this.b,this.opacity)},darker(e){return new bn(this.l-Fc*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=wb*jl(t),e=xb*jl(e),n=Eb*jl(n),new ze(Kl(3.1338561*t-1.6168667*e-.4906146*n),Kl(-.9787684*t+1.9161415*e+.033454*n),Kl(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Xl(e){return e>a5?Math.pow(e,1/3):e/Sb+Tb}function jl(e){return e>zi?e*e*e:Sb*(e-Tb)}function Kl(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jl(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s5(e){if(e instanceof qn)return new qn(e.h,e.c,e.l,e.opacity);if(e instanceof bn||(e=Mb(e)),e.a===0&&e.b===0)return new qn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*vb;return new qn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function jf(e,t,n,r){return arguments.length===1?s5(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Ib(e){if(isNaN(e.h))return new bn(e.l,0,0,e.opacity);var t=e.h*_b;return new bn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}vo(qn,jf,Ya(Ir,{brighter(e){return new qn(this.h,this.c,this.l+Fc*(e??1),this.opacity)},darker(e){return new qn(this.h,this.c,this.l-Fc*(e??1),this.opacity)},rgb(){return Ib(this).rgb()}}));var kb=-.14861,ah=1.78277,sh=-.29227,Cu=-.90649,Ta=1.97294,qp=Ta*Cu,Hp=Ta*ah,zp=ah*sh-Cu*kb;function c5(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);e instanceof ze||(e=oh(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(zp*r+qp*t-Hp*n)/(zp+qp-Hp),o=r-i,a=(Ta*(n-i)-sh*o)/Cu,s=Math.sqrt(a*a+o*o)/(Ta*i*(1-i)),c=s?Math.atan2(a,o)*vb-120:NaN;return new Yr(c<0?c+360:c,s,i,e.opacity)}function vn(e,t,n,r){return arguments.length===1?c5(e):new Yr(e,t,n,r??1)}function Yr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vo(Yr,vn,Ya(Ir,{brighter(e){return e=e==null?no:Math.pow(no,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zr:Math.pow(Zr,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*_b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ze(255*(t+n*(kb*r+ah*i)),255*(t+n*(sh*r+Cu*i)),255*(t+n*(Ta*r)),this.opacity)}}));function u5(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function l5(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return u5((n-r/t)*t,a,i,o,s)}}const Ru=e=>()=>e;function Ab(e,t){return function(n){return e+n*t}}function f5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ch(e,t){var n=t-e;return n?Ab(e,n>180||n<-180?n-360*Math.round(n/360):n):Ru(isNaN(e)?t:e)}function d5(e){return(e=+e)==1?nt:function(t,n){return n-t?f5(t,n,e):Ru(isNaN(t)?n:t)}}function nt(e,t){var n=t-e;return n?Ab(e,n):Ru(isNaN(e)?t:e)}const Qr=function e(t){var n=d5(t);function r(i,o){var a=n((i=Er(i)).r,(o=Er(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=nt(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function h5(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Er(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var p5=h5(l5);function g5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function m5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function b5(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wo(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function y5(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _5(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Kf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(Kf.source,"g");function v5(e){return function(){return e}}function w5(e){return function(t){return e(t)+""}}function Cb(e,t){var n=Kf.lastIndex=Zl.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Kf.exec(e))&&(i=Zl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:tt(r,i)})),n=Zl.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?w5(c[0].x):v5(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)s[(f=c[l]).i]=f.x(u);return s.join("")})}function wo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ru(t):(n==="number"?tt:n==="string"?(r=xr(t))?(t=r,Qr):Cb:t instanceof xr?Qr:t instanceof Date?y5:m5(t)?g5:Array.isArray(t)?b5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_5:tt)(e,t)}function Nu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Wp=180/Math.PI,Jf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rb(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Wp,skewX:Math.atan(c)*Wp,scaleX:a,scaleY:s}}var Js;function x5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Jf:Rb(t.a,t.b,t.c,t.d,t.e,t.f)}function E5(e){return e==null||(Js||(Js=document.createElementNS("http://www.w3.org/2000/svg","g")),Js.setAttribute("transform",e),!(e=Js.transform.baseVal.consolidate()))?Jf:(e=e.matrix,Rb(e.a,e.b,e.c,e.d,e.e,e.f))}function Nb(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,f,d,h,p){if(u!==f||l!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:tt(u,f)},{i:m-2,x:tt(l,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,l,f,d){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:tt(u,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(u,l,f,d){u!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:tt(u,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(u,l,f,d,h,p){if(u!==f||l!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:tt(u,f)},{i:m-2,x:tt(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,l){var f=[],d=[];return u=e(u),l=e(l),o(u.translateX,u.translateY,l.translateX,l.translateY,f,d),a(u.rotate,l.rotate,f,d),s(u.skewX,l.skewX,f,d),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,d),u=l=null,function(h){for(var p=-1,m=d.length,_;++p<m;)f[(_=d[p]).i]=_.x(h);return f.join("")}}}var T5=Nb(x5,"px, ","px)","deg)"),S5=Nb(E5,", ",")",")");function M5(e){return function(t,n){var r=e((t=Yf(t)).h,(n=Yf(n)).h),i=nt(t.s,n.s),o=nt(t.l,n.l),a=nt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const I5=M5(ch);function k5(e,t){var n=nt((e=Xf(e)).l,(t=Xf(t)).l),r=nt(e.a,t.a),i=nt(e.b,t.b),o=nt(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function A5(e){return function(t,n){var r=e((t=jf(t)).h,(n=jf(n)).h),i=nt(t.c,n.c),o=nt(t.l,n.l),a=nt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const C5=A5(ch);function Pb(e){return function t(n){n=+n;function r(i,o){var a=e((i=vn(i)).h,(o=vn(o)).h),s=nt(i.s,o.s),c=nt(i.l,o.l),u=nt(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=t,r}(1)}Pb(ch);var uh=Pb(nt);function lh(e,t){t===void 0&&(t=e,e=wo);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function tn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var ro=0,ea=0,Wo=0,Ob=1e3,Bc,ta,qc=0,ei=0,Pu=0,Sa=typeof performance=="object"&&performance.now?performance:Date,Db=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fh(){return ei||(Db(R5),ei=Sa.now()+Pu)}function R5(){ei=0}function Hc(){this._call=this._time=this._next=null}Hc.prototype=Lb.prototype={constructor:Hc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fh():+n)+(t==null?0:+t),!this._next&&ta!==this&&(ta?ta._next=this:Bc=this,ta=this),this._call=e,this._time=n,Zf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zf())}};function Lb(e,t,n){var r=new Hc;return r.restart(e,t,n),r}function N5(){fh(),++ro;for(var e=Bc,t;e;)(t=ei-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ro}function Gp(){ei=(qc=Sa.now())+Pu,ro=ea=0;try{N5()}finally{ro=0,O5(),ei=0}}function P5(){var e=Sa.now(),t=e-qc;t>Ob&&(Pu-=t,qc=e)}function O5(){for(var e,t=Bc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bc=n);ta=e,Zf(r)}function Zf(e){if(!ro){ea&&(ea=clearTimeout(ea));var t=e-ei;t>24?(e<1/0&&(ea=setTimeout(Gp,e-Sa.now()-Pu)),Wo&&(Wo=clearInterval(Wo))):(Wo||(qc=Sa.now(),Wo=setInterval(P5,Ob)),ro=1,Db(Gp))}}function Vp(e,t,n){var r=new Hc;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var D5=ab("start","end","cancel","interrupt"),L5=[],$b=0,Yp=1,Qf=2,vc=3,Xp=4,ed=5,wc=6;function Ou(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;$5(e,n,{name:t,index:r,group:i,on:D5,tween:L5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:$b})}function dh(e,t){var n=rn(e,t);if(n.state>$b)throw new Error("too late; already scheduled");return n}function In(e,t){var n=rn(e,t);if(n.state>vc)throw new Error("too late; already running");return n}function rn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Lb(o,0,n.time);function o(u){n.state=Yp,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var l,f,d,h;if(n.state!==Yp)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===vc)return Vp(a);h.state===Xp?(h.state=wc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=wc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(Vp(function(){n.state===vc&&(n.state=Xp,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Qf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qf){for(n.state=vc,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=ed,1),f=-1,d=i.length;++f<d;)i[f].call(e,l);n.state===ed&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=wc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function U5(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Qf&&r.state<ed,r.state=wc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function F5(e){return this.each(function(){U5(this,e)})}function B5(e,t){var n,r;return function(){var i=In(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function q5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=In(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function H5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=rn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?B5:q5)(n,e,t))}function hh(e,t,n){var r=e._id;return e.each(function(){var i=In(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return rn(i,r).value[t]}}function Ub(e,t){var n;return(typeof t=="number"?tt:t instanceof xr?Qr:(n=xr(t))?(t=n,Qr):Cb)(e,t)}function z5(e){return function(){this.removeAttribute(e)}}function W5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function G5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function V5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Y5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function X5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function j5(e,t){var n=Au(e),r=n==="transform"?S5:Ub;return this.attrTween(e,typeof t=="function"?(n.local?X5:Y5)(n,r,hh(this,"attr."+e,t)):t==null?(n.local?W5:z5)(n):(n.local?V5:G5)(n,r,t))}function K5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function J5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Z5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&J5(e,o)),n}return i._value=t,i}function Q5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&K5(e,o)),n}return i._value=t,i}function e8(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Au(e);return this.tween(n,(r.local?Z5:Q5)(r,t))}function t8(e,t){return function(){dh(this,e).delay=+t.apply(this,arguments)}}function n8(e,t){return t=+t,function(){dh(this,e).delay=t}}function r8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t8:n8)(t,e)):rn(this.node(),t).delay}function i8(e,t){return function(){In(this,e).duration=+t.apply(this,arguments)}}function o8(e,t){return t=+t,function(){In(this,e).duration=t}}function a8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i8:o8)(t,e)):rn(this.node(),t).duration}function s8(e,t){if(typeof t!="function")throw new Error;return function(){In(this,e).ease=t}}function c8(e){var t=this._id;return arguments.length?this.each(s8(t,e)):rn(this.node(),t).ease}function u8(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;In(this,e).ease=n}}function l8(e){if(typeof e!="function")throw new Error;return this.each(u8(this._id,e))}function f8(e){typeof e!="function"&&(e=cb(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new jn(r,this._parents,this._name,this._id)}function d8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],u=n[s],l=c.length,f=a[s]=new Array(l),d,h=0;h<l;++h)(d=c[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new jn(a,this._parents,this._name,this._id)}function h8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function p8(e,t,n){var r,i,o=h8(t)?dh:In;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function g8(e,t){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(e):this.each(p8(n,e,t))}function m8(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function b8(){return this.on("end.remove",m8(this._id))}function y8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rh(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),l,f,d=0;d<c;++d)(l=s[d])&&(f=e.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),u[d]=f,Ou(u[d],t,n,d,u,rn(l,n)));return new jn(o,this._parents,t,n)}function _8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sb(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var d=e.call(l,l.__data__,f,c),h,p=rn(l,n),m=0,_=d.length;m<_;++m)(h=d[m])&&Ou(h,t,n,m,d,p);o.push(d),a.push(l)}return new jn(o,a,t,n)}var v8=Va.prototype.constructor;function w8(){return new v8(this._groups,this._parents)}function x8(e,t){var n,r,i;return function(){var o=to(this,e),a=(this.style.removeProperty(e),to(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Fb(e){return function(){this.style.removeProperty(e)}}function E8(e,t,n){var r,i=n+"",o;return function(){var a=to(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function T8(e,t,n){var r,i,o;return function(){var a=to(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),to(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function S8(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=In(this,e),u=c.on,l=c.value[o]==null?s||(s=Fb(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(a,i=l),c.on=r}}function M8(e,t,n){var r=(e+="")=="transform"?T5:Ub;return t==null?this.styleTween(e,x8(e,r)).on("end.style."+e,Fb(e)):typeof t=="function"?this.styleTween(e,T8(e,r,hh(this,"style."+e,t))).each(S8(this._id,e)):this.styleTween(e,E8(e,r,t),n).on("end.style."+e,null)}function I8(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function k8(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&I8(e,a,n)),r}return o._value=t,o}function A8(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,k8(e,t,n??""))}function C8(e){return function(){this.textContent=e}}function R8(e){return function(){var t=e(this);this.textContent=t??""}}function N8(e){return this.tween("text",typeof e=="function"?R8(hh(this,"text",e)):C8(e==null?"":e+""))}function P8(e){return function(t){this.textContent=e.call(this,t)}}function O8(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&P8(i)),t}return r._value=e,r}function D8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,O8(e))}function L8(){for(var e=this._name,t=this._id,n=Bb(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var l=rn(c,t);Ou(c,e,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new jn(r,this._parents,e,n)}function $8(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=In(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&o()})}var U8=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bb(){return++U8}var Nn=Va.prototype;jn.prototype={constructor:jn,select:y8,selectAll:_8,selectChild:Nn.selectChild,selectChildren:Nn.selectChildren,filter:f8,merge:d8,selection:w8,transition:L8,call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:g8,attr:j5,attrTween:e8,style:M8,styleTween:A8,text:N8,textTween:D8,remove:b8,tween:H5,delay:r8,duration:a8,ease:c8,easeVarying:l8,end:$8,[Symbol.iterator]:Nn[Symbol.iterator]};function F8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var B8={time:null,delay:0,duration:250,ease:F8};function q8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function H8(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=Bb(),(n=B8).time=fh(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&Ou(c,e,t,u,a,n||q8(c,t));return new jn(r,this._parents,e,t)}Va.prototype.interrupt=F5;Va.prototype.transition=H8;const td=Math.PI,nd=2*td,Ur=1e-6,z8=nd-Ur;function qb(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function W8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qb;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Hb{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qb:W8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-t,u=i-n,l=a-t,f=s-n,d=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ur)if(!(Math.abs(f*c-u*l)>Ur)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-s,m=c*c+u*u,_=h*h+p*p,w=Math.sqrt(m),b=Math.sqrt(d),g=o*Math.tan((td-Math.acos((m+d-_)/(2*w*b)))/2),y=g/b,v=g/w;Math.abs(y-1)>Ur&&this._append`L${t+y*l},${n+y*f}`,this._append`A${o},${o},0,0,${+(f*h>l*p)},${this._x1=t+v*c},${this._y1=n+v*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,l=n+c,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Ur||Math.abs(this._y1-l)>Ur)&&this._append`L${u},${l}`,r&&(d<0&&(d=d%nd+nd),d>z8?this._append`A${r},${r},0,1,${f},${t-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=l}`:d>Ur&&this._append`A${r},${r},0,${+(d>=td)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wr(e=3){return new Hb(+e)}var jp={},Ql={},ef=34,Go=10,tf=13;function zb(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function G8(e,t){var n=zb(e);return function(r,i){return t(n(r),i,e)}}function Kp(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function wt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function V8(e){return e<0?"-"+wt(-e,6):e>9999?"+"+wt(e,6):wt(e,4)}function Y8(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":V8(e.getUTCFullYear())+"-"+wt(e.getUTCMonth()+1,2)+"-"+wt(e.getUTCDate(),2)+(i?"T"+wt(t,2)+":"+wt(n,2)+":"+wt(r,2)+"."+wt(i,3)+"Z":r?"T"+wt(t,2)+":"+wt(n,2)+":"+wt(r,2)+"Z":n||t?"T"+wt(t,2)+":"+wt(n,2)+"Z":"")}function X8(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(_,w){if(h)return h(_,w-1);p=_,h=d?G8(_,d):zb(_)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,_=0,w,b=p<=0,g=!1;f.charCodeAt(p-1)===Go&&--p,f.charCodeAt(p-1)===tf&&--p;function y(){if(b)return Ql;if(g)return g=!1,jp;var x,T=m,M;if(f.charCodeAt(T)===ef){for(;m++<p&&f.charCodeAt(m)!==ef||f.charCodeAt(++m)===ef;);return(x=m)>=p?b=!0:(M=f.charCodeAt(m++))===Go?g=!0:M===tf&&(g=!0,f.charCodeAt(m)===Go&&++m),f.slice(T+1,x-1).replace(/""/g,'"')}for(;m<p;){if((M=f.charCodeAt(x=m++))===Go)g=!0;else if(M===tf)g=!0,f.charCodeAt(m)===Go&&++m;else if(M!==n)continue;return f.slice(T,x)}return b=!0,f.slice(T,p)}for(;(w=y())!==Ql;){for(var v=[];w!==jp&&w!==Ql;)v.push(w),w=y();d&&(v=d(v,_++))==null||h.push(v)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return l(h[p])}).join(e)})}function a(f,d){return d==null&&(d=Kp(f)),[d.map(l).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=Kp(f)),o(f,d).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(l).join(e)}function l(f){return f==null?"":f instanceof Date?Y8(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var j8=X8(","),K8=j8.parse;function Jp(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))J8&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const J8=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Z8(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Q8(e,t){return fetch(e,t).then(Z8)}function eE(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Q8(t,n).then(function(i){return e(i,r)})}}var Zp=eE(K8);function tE(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function nE(e,t){return fetch(e,t).then(tE)}function rE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function io(e){return e=zc(Math.abs(e)),e?e[1]:NaN}function iE(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function oE(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ma(e){if(!(t=aE.exec(e)))throw new Error("invalid format: "+e);var t;return new ph({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ma.prototype=ph.prototype;function ph(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ph.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sE(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Wb;function cE(e,t){var n=zc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Wb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zc(e,Math.max(0,t+o-1))[0]}function Qp(e,t){var n=zc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const eg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qp(e*100,t),r:Qp,s:cE,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tg(e){return e}var ng=Array.prototype.map,rg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uE(e){var t=e.grouping===void 0||e.thousands===void 0?tg:iE(ng.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?tg:oE(ng.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ma(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,_=f.zero,w=f.width,b=f.comma,g=f.precision,y=f.trim,v=f.type;v==="n"?(b=!0,v="g"):eg[v]||(g===void 0&&(g=12),y=!0,v="g"),(_||d==="0"&&h==="=")&&(_=!0,d="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",T=m==="$"?r:/[%p]/.test(v)?a:"",M=eg[v],R=/[defgprs%]/.test(v);g=g===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function O(A){var N=x,C=T,k,I,L;if(v==="c")C=M(A)+C,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:M(Math.abs(A),g),y&&(A=sE(A)),F&&+A==0&&p!=="+"&&(F=!1),N=(F?p==="("?p:s:p==="-"||p==="("?"":p)+N,C=(v==="s"?rg[8+Wb/3]:"")+C+(F&&p==="("?")":""),R){for(k=-1,I=A.length;++k<I;)if(L=A.charCodeAt(k),48>L||L>57){C=(L===46?i+A.slice(k+1):A.slice(k))+C,A=A.slice(0,k);break}}}b&&!_&&(A=t(A,1/0));var W=N.length+A.length+C.length,V=W<w?new Array(w-W+1).join(d):"";switch(b&&_&&(A=t(V+A,V.length?w-C.length:1/0),V=""),h){case"<":A=N+A+C+V;break;case"=":A=N+V+A+C;break;case"^":A=V.slice(0,W=V.length>>1)+N+A+C+V.slice(W);break;default:A=V+N+A+C;break}return o(A)}return O.toString=function(){return f+""},O}function l(f,d){var h=u((f=Ma(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(io(d)/3)))*3,m=Math.pow(10,-p),_=rg[8+p/3];return function(w){return h(m*w)+_}}return{format:u,formatPrefix:l}}var Zs,ht,Gb;lE({thousands:",",grouping:[3],currency:["$",""]});function lE(e){return Zs=uE(e),ht=Zs.format,Gb=Zs.formatPrefix,Zs}function fE(e){return Math.max(0,-io(Math.abs(e)))}function dE(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(io(t)/3)))*3-io(Math.abs(e)))}function hE(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,io(t)-io(e))+1}var Q=1e-6,gh=1e-12,ue=Math.PI,Se=ue/2,ig=ue/4,At=ue*2,dt=180/ue,ge=ue/180,fe=Math.abs,xo=Math.atan,wn=Math.atan2,ie=Math.cos,Qs=Math.ceil,Vb=Math.exp,Wc=Math.log,nf=Math.pow,ne=Math.sin,Ht=Math.sign||function(e){return e>0?1:e<0?-1:0},gt=Math.sqrt,mh=Math.tan;function Yb(e){return e>1?0:e<-1?ue:Math.acos(e)}function Gt(e){return e>1?Se:e<-1?-Se:Math.asin(e)}function He(){}function Gc(e,t){e&&ag.hasOwnProperty(e.type)&&ag[e.type](e,t)}var og={Feature:function(e,t){Gc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Gc(n[r].geometry,t)}},ag={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){rd(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)rd(n[r],t,0)},Polygon:function(e,t){sg(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)sg(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Gc(n[r],t)}};function rd(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function sg(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)rd(e[n],t,1);t.polygonEnd()}function Br(e,t){e&&og.hasOwnProperty(e.type)?og[e.type](e,t):Gc(e,t)}function id(e){return[wn(e[1],e[0]),Gt(e[2])]}function oo(e){var t=e[0],n=e[1],r=ie(n);return[r*ie(t),r*ne(t),ne(n)]}function ec(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Vc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function rf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function tc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function od(e){var t=gt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ad(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function sd(e,t){return fe(e)>ue&&(e-=Math.round(e/At)*At),[e,t]}sd.invert=sd;function Xb(e,t,n){return(e%=At)?t||n?ad(ug(e),lg(t,n)):ug(e):t||n?lg(t,n):sd}function cg(e){return function(t,n){return t+=e,fe(t)>ue&&(t-=Math.round(t/At)*At),[t,n]}}function ug(e){var t=cg(e);return t.invert=cg(-e),t}function lg(e,t){var n=ie(e),r=ne(e),i=ie(t),o=ne(t);function a(s,c){var u=ie(c),l=ie(s)*u,f=ne(s)*u,d=ne(c),h=d*n+l*r;return[wn(f*i-h*o,l*n-d*r),Gt(h*i+f*o)]}return a.invert=function(s,c){var u=ie(c),l=ie(s)*u,f=ne(s)*u,d=ne(c),h=d*i-f*o;return[wn(f*i+d*o,l*n+h*r),Gt(h*n-l*r)]},a}function pE(e){e=Xb(e[0]*ge,e[1]*ge,e.length>2?e[2]*ge:0);function t(n){return n=e(n[0]*ge,n[1]*ge),n[0]*=dt,n[1]*=dt,n}return t.invert=function(n){return n=e.invert(n[0]*ge,n[1]*ge),n[0]*=dt,n[1]*=dt,n},t}function gE(e,t,n,r,i,o){if(n){var a=ie(t),s=ne(t),c=r*n;i==null?(i=t+r*At,o=t-c/2):(i=fg(a,i),o=fg(a,o),(r>0?i<o:i>o)&&(i+=r*At));for(var u,l=i;r>0?l>o:l<o;l-=c)u=id([a,-s*ie(l),-s*ne(l)]),e.point(u[0],u[1])}}function fg(e,t){t=oo(t),t[0]-=e,od(t);var n=Yb(-t[1]);return((-t[2]<0?-n:n)+At-Q)%At}function jb(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:He,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function xc(e,t){return fe(e[0]-t[0])<Q&&fe(e[1]-t[1])<Q}function nc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Kb(e,t,n,r,i){var o=[],a=[],s,c;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,_=p[0],w=p[m],b;if(xc(_,w)){if(!_[2]&&!w[2]){for(i.lineStart(),s=0;s<m;++s)i.point((_=p[s])[0],_[1]);i.lineEnd();return}w[0]+=2*Q}o.push(b=new nc(_,p,null,!0)),a.push(b.o=new nc(_,null,b,!1)),o.push(b=new nc(w,p,null,!1)),a.push(b.o=new nc(w,null,b,!0))}}),!!o.length){for(a.sort(t),dg(o),dg(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var u=o[0],l,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,c=l.length;s<c;++s)i.point((f=l[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,s=l.length-1;s>=0;--s)i.point((f=l[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,h=!h}while(!d.v);i.lineEnd()}}}function dg(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function of(e){return fe(e[0])<=ue?e[0]:Ht(e[0])*((fe(e[0])+ue)%At-ue)}function Jb(e,t){var n=of(t),r=t[1],i=ne(r),o=[ne(n),-ie(n),0],a=0,s=0,c=new wr;i===1?r=Se+Q:i===-1&&(r=-Se-Q);for(var u=0,l=e.length;u<l;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=of(h),m=h[1]/2+ig,_=ne(m),w=ie(m),b=0;b<d;++b,p=y,_=x,w=T,h=g){var g=f[b],y=of(g),v=g[1]/2+ig,x=ne(v),T=ie(v),M=y-p,R=M>=0?1:-1,O=R*M,A=O>ue,N=_*x;if(c.add(wn(N*R*ne(O),w*T+N*ie(O))),a+=A?M+R*At:M,A^p>=n^y>=n){var C=Vc(oo(h),oo(g));od(C);var k=Vc(o,C);od(k);var I=(A^M>=0?-1:1)*Gt(k[2]);(r>I||r===I&&(C[0]||C[1]))&&(s+=A^M>=0?1:-1)}}return(a<-Q||a<Q&&c<-gh)^s&1}function Zb(e,t,n,r){return function(i){var o=t(i),a=jb(),s=t(a),c=!1,u,l,f,d={point:h,lineStart:m,lineEnd:_,polygonStart:function(){d.point=w,d.lineStart=b,d.lineEnd=g,l=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=_,l=ob(l);var y=Jb(u,r);l.length?(c||(i.polygonStart(),c=!0),Kb(l,bE,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,v){e(y,v)&&i.point(y,v)}function p(y,v){o.point(y,v)}function m(){d.point=p,o.lineStart()}function _(){d.point=h,o.lineEnd()}function w(y,v){f.push([y,v]),s.point(y,v)}function b(){s.lineStart(),f=[]}function g(){w(f[0][0],f[0][1]),s.lineEnd();var y=s.clean(),v=a.result(),x,T=v.length,M,R,O;if(f.pop(),u.push(f),f=null,!!T){if(y&1){if(R=v[0],(M=R.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<M;++x)i.point((O=R[x])[0],O[1]);i.lineEnd()}return}T>1&&y&2&&v.push(v.pop().concat(v.shift())),l.push(v.filter(mE))}}return d}}function mE(e){return e.length>1}function bE(e,t){return((e=e.x)[0]<0?e[1]-Se-Q:Se-e[1])-((t=t.x)[0]<0?t[1]-Se-Q:Se-t[1])}const hg=Zb(function(){return!0},yE,vE,[-ue,-Se]);function yE(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?ue:-ue,c=fe(o-t);fe(c-ue)<Q?(e.point(t,n=(n+a)/2>0?Se:-Se),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&c>=ue&&(fe(t-r)<Q&&(t-=r*Q),fe(o-s)<Q&&(o-=s*Q),n=_E(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function _E(e,t,n,r){var i,o,a=ne(e-n);return fe(a)>Q?xo((ne(t)*(o=ie(r))*ne(n)-ne(r)*(i=ie(t))*ne(e))/(i*o*a)):(t+r)/2}function vE(e,t,n,r){var i;if(e==null)i=n*Se,r.point(-ue,i),r.point(0,i),r.point(ue,i),r.point(ue,0),r.point(ue,-i),r.point(0,-i),r.point(-ue,-i),r.point(-ue,0),r.point(-ue,i);else if(fe(e[0]-t[0])>Q){var o=e[0]<t[0]?ue:-ue;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function wE(e){var t=ie(e),n=6*ge,r=t>0,i=fe(t)>Q;function o(l,f,d,h){gE(h,e,n,d,l,f)}function a(l,f){return ie(l)*ie(f)>t}function s(l){var f,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(_,w){var b=[_,w],g,y=a(_,w),v=r?y?0:u(_,w):y?u(_+(_<0?ue:-ue),w):0;if(!f&&(p=h=y)&&l.lineStart(),y!==h&&(g=c(f,b),(!g||xc(f,g)||xc(b,g))&&(b[2]=1)),y!==h)m=0,y?(l.lineStart(),g=c(b,f),l.point(g[0],g[1])):(g=c(f,b),l.point(g[0],g[1],2),l.lineEnd()),f=g;else if(i&&f&&r^y){var x;!(v&d)&&(x=c(b,f,!0))&&(m=0,r?(l.lineStart(),l.point(x[0][0],x[0][1]),l.point(x[1][0],x[1][1]),l.lineEnd()):(l.point(x[1][0],x[1][1]),l.lineEnd(),l.lineStart(),l.point(x[0][0],x[0][1],3)))}y&&(!f||!xc(f,b))&&l.point(b[0],b[1]),f=b,h=y,d=v},lineEnd:function(){h&&l.lineEnd(),f=null},clean:function(){return m|(p&&h)<<1}}}function c(l,f,d){var h=oo(l),p=oo(f),m=[1,0,0],_=Vc(h,p),w=ec(_,_),b=_[0],g=w-b*b;if(!g)return!d&&l;var y=t*w/g,v=-t*b/g,x=Vc(m,_),T=tc(m,y),M=tc(_,v);rf(T,M);var R=x,O=ec(T,R),A=ec(R,R),N=O*O-A*(ec(T,T)-1);if(!(N<0)){var C=gt(N),k=tc(R,(-O-C)/A);if(rf(k,T),k=id(k),!d)return k;var I=l[0],L=f[0],F=l[1],W=f[1],V;L<I&&(V=I,I=L,L=V);var K=L-I,re=fe(K-ue)<Q,j=re||K<Q;if(!re&&W<F&&(V=F,F=W,W=V),j?re?F+W>0^k[1]<(fe(k[0]-I)<Q?F:W):F<=k[1]&&k[1]<=W:K>ue^(I<=k[0]&&k[0]<=L)){var we=tc(R,(-O+C)/A);return rf(we,T),[k,id(we)]}}}function u(l,f){var d=r?e:ue-e,h=0;return l<-d?h|=1:l>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Zb(a,s,o,r?[0,-e]:[-ue,e-ue])}function xE(e,t,n,r,i,o){var a=e[0],s=e[1],c=t[0],u=t[1],l=0,f=1,d=c-a,h=u-s,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>l&&(l=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>l&&(l=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<f&&(f=p)}return l>0&&(e[0]=a+l*d,e[1]=s+l*h),f<1&&(t[0]=a+f*d,t[1]=s+f*h),!0}}}}}var na=1e9,rc=-na;function Qb(e,t,n,r){function i(u,l){return e<=u&&u<=n&&t<=l&&l<=r}function o(u,l,f,d){var h=0,p=0;if(u==null||(h=a(u,f))!==(p=a(l,f))||c(u,l)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(l[0],l[1])}function a(u,l){return fe(u[0]-e)<Q?l>0?0:3:fe(u[0]-n)<Q?l>0?2:1:fe(u[1]-t)<Q?l>0?1:0:l>0?3:2}function s(u,l){return c(u.x,l.x)}function c(u,l){var f=a(u,1),d=a(l,1);return f!==d?f-d:f===0?l[1]-u[1]:f===1?u[0]-l[0]:f===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,f=jb(),d,h,p,m,_,w,b,g,y,v,x,T={point:M,lineStart:N,lineEnd:C,polygonStart:O,polygonEnd:A};function M(I,L){i(I,L)&&l.point(I,L)}function R(){for(var I=0,L=0,F=h.length;L<F;++L)for(var W=h[L],V=1,K=W.length,re=W[0],j,we,q=re[0],ce=re[1];V<K;++V)j=q,we=ce,re=W[V],q=re[0],ce=re[1],we<=r?ce>r&&(q-j)*(r-we)>(ce-we)*(e-j)&&++I:ce<=r&&(q-j)*(r-we)<(ce-we)*(e-j)&&--I;return I}function O(){l=f,d=[],h=[],x=!0}function A(){var I=R(),L=x&&I,F=(d=ob(d)).length;(L||F)&&(u.polygonStart(),L&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),F&&Kb(d,s,I,o,u),u.polygonEnd()),l=u,d=h=p=null}function N(){T.point=k,h&&h.push(p=[]),v=!0,y=!1,b=g=NaN}function C(){d&&(k(m,_),w&&y&&f.rejoin(),d.push(f.result())),T.point=M,y&&l.lineEnd()}function k(I,L){var F=i(I,L);if(h&&p.push([I,L]),v)m=I,_=L,w=F,v=!1,F&&(l.lineStart(),l.point(I,L));else if(F&&y)l.point(I,L);else{var W=[b=Math.max(rc,Math.min(na,b)),g=Math.max(rc,Math.min(na,g))],V=[I=Math.max(rc,Math.min(na,I)),L=Math.max(rc,Math.min(na,L))];xE(W,V,e,t,n,r)?(y||(l.lineStart(),l.point(W[0],W[1])),l.point(V[0],V[1]),F||l.lineEnd(),x=!1):F&&(l.lineStart(),l.point(I,L),x=!1)}b=I,g=L,y=F}return T}}var cd,ud,Ec,Tc,ao={sphere:He,point:He,lineStart:EE,lineEnd:He,polygonStart:He,polygonEnd:He};function EE(){ao.point=SE,ao.lineEnd=TE}function TE(){ao.point=ao.lineEnd=He}function SE(e,t){e*=ge,t*=ge,ud=e,Ec=ne(t),Tc=ie(t),ao.point=ME}function ME(e,t){e*=ge,t*=ge;var n=ne(t),r=ie(t),i=fe(e-ud),o=ie(i),a=ne(i),s=r*a,c=Tc*n-Ec*r*o,u=Ec*n+Tc*r*o;cd.add(wn(gt(s*s+c*c),u)),ud=e,Ec=n,Tc=r}function IE(e){return cd=new wr,Br(e,ao),+cd}var ld=[null,null],kE={type:"LineString",coordinates:ld};function fd(e,t){return ld[0]=e,ld[1]=t,IE(kE)}var pg={Feature:function(e,t){return Yc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Yc(n[r].geometry,t))return!0;return!1}},gg={Sphere:function(){return!0},Point:function(e,t){return mg(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(mg(n[r],t))return!0;return!1},LineString:function(e,t){return bg(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(bg(n[r],t))return!0;return!1},Polygon:function(e,t){return yg(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(yg(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Yc(n[r],t))return!0;return!1}};function Yc(e,t){return e&&gg.hasOwnProperty(e.type)?gg[e.type](e,t):!1}function mg(e,t){return fd(e,t)===0}function bg(e,t){for(var n,r,i,o=0,a=e.length;o<a;o++){if(r=fd(e[o],t),r===0||o>0&&(i=fd(e[o],e[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<gh*i))return!0;n=r}return!1}function yg(e,t){return!!Jb(e.map(AE),ey(t))}function AE(e){return e=e.map(ey),e.pop(),e}function ey(e){return[e[0]*ge,e[1]*ge]}function CE(e,t){return(e&&pg.hasOwnProperty(e.type)?pg[e.type]:Yc)(e,t)}function _g(e,t,n){var r=Kt(e,t-Q,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function vg(e,t,n){var r=Kt(e,t-Q,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function RE(){var e,t,n,r,i,o,a,s,c=10,u=c,l=90,f=360,d,h,p,m,_=2.5;function w(){return{type:"MultiLineString",coordinates:b()}}function b(){return Kt(Qs(r/l)*l,n,l).map(p).concat(Kt(Qs(s/f)*f,a,f).map(m)).concat(Kt(Qs(t/c)*c,e,c).filter(function(g){return fe(g%l)>Q}).map(d)).concat(Kt(Qs(o/u)*u,i,u).filter(function(g){return fe(g%f)>Q}).map(h))}return w.lines=function(){return b().map(function(g){return{type:"LineString",coordinates:g}})},w.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(a).slice(1),p(n).reverse().slice(1),m(s).reverse().slice(1))]}},w.extent=function(g){return arguments.length?w.extentMajor(g).extentMinor(g):w.extentMinor()},w.extentMajor=function(g){return arguments.length?(r=+g[0][0],n=+g[1][0],s=+g[0][1],a=+g[1][1],r>n&&(g=r,r=n,n=g),s>a&&(g=s,s=a,a=g),w.precision(_)):[[r,s],[n,a]]},w.extentMinor=function(g){return arguments.length?(t=+g[0][0],e=+g[1][0],o=+g[0][1],i=+g[1][1],t>e&&(g=t,t=e,e=g),o>i&&(g=o,o=i,i=g),w.precision(_)):[[t,o],[e,i]]},w.step=function(g){return arguments.length?w.stepMajor(g).stepMinor(g):w.stepMinor()},w.stepMajor=function(g){return arguments.length?(l=+g[0],f=+g[1],w):[l,f]},w.stepMinor=function(g){return arguments.length?(c=+g[0],u=+g[1],w):[c,u]},w.precision=function(g){return arguments.length?(_=+g,d=_g(o,i,90),h=vg(t,e,_),p=_g(s,a,90),m=vg(r,n,_),w):_},w.extentMajor([[-180,-90+Q],[180,90-Q]]).extentMinor([[-180,-80-Q],[180,80+Q]])}function NE(){return RE()()}const dd=e=>e;var af=new wr,hd=new wr,ty,ny,pd,gd,hr={point:He,lineStart:He,lineEnd:He,polygonStart:function(){hr.lineStart=PE,hr.lineEnd=DE},polygonEnd:function(){hr.lineStart=hr.lineEnd=hr.point=He,af.add(fe(hd)),hd=new wr},result:function(){var e=af/2;return af=new wr,e}};function PE(){hr.point=OE}function OE(e,t){hr.point=ry,ty=pd=e,ny=gd=t}function ry(e,t){hd.add(gd*e-pd*t),pd=e,gd=t}function DE(){ry(ty,ny)}const wg=hr;var so=1/0,Xc=so,Ia=-so,jc=Ia,LE={point:$E,lineStart:He,lineEnd:He,polygonStart:He,polygonEnd:He,result:function(){var e=[[so,Xc],[Ia,jc]];return Ia=jc=-(Xc=so=1/0),e}};function $E(e,t){e<so&&(so=e),e>Ia&&(Ia=e),t<Xc&&(Xc=t),t>jc&&(jc=t)}const Kc=LE;var md=0,bd=0,ra=0,Jc=0,Zc=0,Fi=0,yd=0,_d=0,ia=0,iy,oy,dn,hn,jt={point:ti,lineStart:xg,lineEnd:Eg,polygonStart:function(){jt.lineStart=BE,jt.lineEnd=qE},polygonEnd:function(){jt.point=ti,jt.lineStart=xg,jt.lineEnd=Eg},result:function(){var e=ia?[yd/ia,_d/ia]:Fi?[Jc/Fi,Zc/Fi]:ra?[md/ra,bd/ra]:[NaN,NaN];return md=bd=ra=Jc=Zc=Fi=yd=_d=ia=0,e}};function ti(e,t){md+=e,bd+=t,++ra}function xg(){jt.point=UE}function UE(e,t){jt.point=FE,ti(dn=e,hn=t)}function FE(e,t){var n=e-dn,r=t-hn,i=gt(n*n+r*r);Jc+=i*(dn+e)/2,Zc+=i*(hn+t)/2,Fi+=i,ti(dn=e,hn=t)}function Eg(){jt.point=ti}function BE(){jt.point=HE}function qE(){ay(iy,oy)}function HE(e,t){jt.point=ay,ti(iy=dn=e,oy=hn=t)}function ay(e,t){var n=e-dn,r=t-hn,i=gt(n*n+r*r);Jc+=i*(dn+e)/2,Zc+=i*(hn+t)/2,Fi+=i,i=hn*e-dn*t,yd+=i*(dn+e),_d+=i*(hn+t),ia+=i*3,ti(dn=e,hn=t)}const Tg=jt;function sy(e){this._context=e}sy.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,At);break}}},result:He};var vd=new wr,sf,cy,uy,oa,aa,Qc={point:He,lineStart:function(){Qc.point=zE},lineEnd:function(){sf&&ly(cy,uy),Qc.point=He},polygonStart:function(){sf=!0},polygonEnd:function(){sf=null},result:function(){var e=+vd;return vd=new wr,e}};function zE(e,t){Qc.point=ly,cy=oa=e,uy=aa=t}function ly(e,t){oa-=e,aa-=t,vd.add(gt(oa*oa+aa*aa)),oa=e,aa=t}const Sg=Qc;let Mg,eu,Ig,kg;class Ag{constructor(t){this._append=t==null?fy:WE(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Ig||this._append!==eu){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ig=r,eu=this._append,kg=this._,this._=i}this._+=kg;break}}}result(){const t=this._;return this._="",t.length?t:null}}function fy(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function WE(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return fy;if(t!==Mg){const n=10**t;Mg=t,eu=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return eu}function Xa(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Br(s,i(o))),o.result()}return a.area=function(s){return Br(s,i(wg)),wg.result()},a.measure=function(s){return Br(s,i(Sg)),Sg.result()},a.bounds=function(s){return Br(s,i(Kc)),Kc.result()},a.centroid=function(s){return Br(s,i(Tg)),Tg.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,dd):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new Ag(n)):new sy(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return t===null&&(o=new Ag(n)),a},a.projection(e).digits(n).context(t)}function tu(e){return{stream:Du(e)}}function Du(e){return function(t){var n=new wd;for(var r in e)n[r]=e[r];return n.stream=t,n}}function wd(){}wd.prototype={constructor:wd,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bh(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Br(n,e.stream(Kc)),t(Kc.result()),r!=null&&e.clipExtent(r),e}function yh(e,t,n){return bh(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,c])},n)}function dy(e,t,n){return yh(e,[[0,0],t],n)}function hy(e,t,n){return bh(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function py(e,t,n){return bh(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var Cg=16,GE=ie(30*ge);function Rg(e,t){return+t?YE(e,t):VE(e)}function VE(e){return Du({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function YE(e,t){function n(r,i,o,a,s,c,u,l,f,d,h,p,m,_){var w=u-r,b=l-i,g=w*w+b*b;if(g>4*t&&m--){var y=a+d,v=s+h,x=c+p,T=gt(y*y+v*v+x*x),M=Gt(x/=T),R=fe(fe(x)-1)<Q||fe(o-f)<Q?(o+f)/2:wn(v,y),O=e(R,M),A=O[0],N=O[1],C=A-r,k=N-i,I=b*C-w*k;(I*I/g>t||fe((w*C+b*k)/g-.5)>.3||a*d+s*h+c*p<GE)&&(n(r,i,o,a,s,c,A,N,R,y/=T,v/=T,x,m,_),_.point(A,N),n(A,N,R,y,v,x,u,l,f,d,h,p,m,_))}}return function(r){var i,o,a,s,c,u,l,f,d,h,p,m,_={point:w,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),_.lineStart=v},polygonEnd:function(){r.polygonEnd(),_.lineStart=b}};function w(M,R){M=e(M,R),r.point(M[0],M[1])}function b(){f=NaN,_.point=g,r.lineStart()}function g(M,R){var O=oo([M,R]),A=e(M,R);n(f,d,l,h,p,m,f=A[0],d=A[1],l=M,h=O[0],p=O[1],m=O[2],Cg,r),r.point(f,d)}function y(){_.point=w,r.lineEnd()}function v(){b(),_.point=x,_.lineEnd=T}function x(M,R){g(i=M,R),o=f,a=d,s=h,c=p,u=m,_.point=g}function T(){n(f,d,l,h,p,m,o,a,i,s,c,u,Cg,r),_.lineEnd=y,y()}return _}}var XE=Du({point:function(e,t){this.stream.point(e*ge,t*ge)}});function jE(e){return Du({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function KE(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function Ng(e,t,n,r,i,o){if(!o)return KE(e,t,n,r,i);var a=ie(o),s=ne(o),c=a*e,u=s*e,l=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(m,_){return m*=r,_*=i,[c*m-u*_+t,n-u*m-c*_]}return p.invert=function(m,_){return[r*(l*m-f*_+d),i*(h-f*m-l*_)]},p}function kr(e){return gy(function(){return e})()}function gy(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,c=0,u=0,l,f=0,d=1,h=1,p=null,m=hg,_=null,w,b,g,y=dd,v=.5,x,T,M,R,O;function A(I){return M(I[0]*ge,I[1]*ge)}function N(I){return I=M.invert(I[0],I[1]),I&&[I[0]*dt,I[1]*dt]}A.stream=function(I){return R&&O===I?R:R=XE(jE(l)(m(x(y(O=I)))))},A.preclip=function(I){return arguments.length?(m=I,p=void 0,k()):m},A.postclip=function(I){return arguments.length?(y=I,_=w=b=g=null,k()):y},A.clipAngle=function(I){return arguments.length?(m=+I?wE(p=I*ge):(p=null,hg),k()):p*dt},A.clipExtent=function(I){return arguments.length?(y=I==null?(_=w=b=g=null,dd):Qb(_=+I[0][0],w=+I[0][1],b=+I[1][0],g=+I[1][1]),k()):_==null?null:[[_,w],[b,g]]},A.scale=function(I){return arguments.length?(n=+I,C()):n},A.translate=function(I){return arguments.length?(r=+I[0],i=+I[1],C()):[r,i]},A.center=function(I){return arguments.length?(o=I[0]%360*ge,a=I[1]%360*ge,C()):[o*dt,a*dt]},A.rotate=function(I){return arguments.length?(s=I[0]%360*ge,c=I[1]%360*ge,u=I.length>2?I[2]%360*ge:0,C()):[s*dt,c*dt,u*dt]},A.angle=function(I){return arguments.length?(f=I%360*ge,C()):f*dt},A.reflectX=function(I){return arguments.length?(d=I?-1:1,C()):d<0},A.reflectY=function(I){return arguments.length?(h=I?-1:1,C()):h<0},A.precision=function(I){return arguments.length?(x=Rg(T,v=I*I),k()):gt(v)},A.fitExtent=function(I,L){return yh(A,I,L)},A.fitSize=function(I,L){return dy(A,I,L)},A.fitWidth=function(I,L){return hy(A,I,L)},A.fitHeight=function(I,L){return py(A,I,L)};function C(){var I=Ng(n,0,0,d,h,f).apply(null,t(o,a)),L=Ng(n,r-I[0],i-I[1],d,h,f);return l=Xb(s,c,u),T=ad(t,L),M=ad(l,T),x=Rg(T,v),k()}function k(){return R=O=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&N,C()}}function _h(e){var t=0,n=ue/3,r=gy(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*ge,n=o[1]*ge):[t*dt,n*dt]},i}function JE(e){var t=ie(e);function n(r,i){return[r*t,ne(i)/t]}return n.invert=function(r,i){return[r/t,Gt(i*t)]},n}function ZE(e,t){var n=ne(e),r=(n+ne(t))/2;if(fe(r)<Q)return JE(e);var i=1+n*(2*r-n),o=gt(i)/r;function a(s,c){var u=gt(i-2*r*ne(c))/r;return[u*ne(s*=r),o-u*ie(s)]}return a.invert=function(s,c){var u=o-c,l=wn(s,fe(u))*Ht(u);return u*r<0&&(l-=ue*Ht(s)*Ht(u)),[l/r,Gt((i-(s*s+u*u)*r*r)/(2*r))]},a}function nu(){return _h(ZE).scale(155.424).center([0,33.6442])}function my(){return nu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function QE(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function eT(){var e,t,n=my(),r,i=nu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=nu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,u={point:function(d,h){c=[d,h]}};function l(d){var h=d[0],p=d[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(s.point(h,p),c)}l.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,_=(d[1]-p[1])/h;return(_>=.12&&_<.234&&m>=-.425&&m<-.214?i:_>=.166&&_<.234&&m>=-.214&&m<-.115?a:n).invert(d)},l.stream=function(d){return e&&t===d?e:e=QE([n.stream(t=d),i.stream(d),a.stream(d)])},l.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),f()):n.precision()},l.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),l.translate(n.translate())):n.scale()},l.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Q,m+.12*h+Q],[p-.214*h-Q,m+.234*h-Q]]).stream(u),s=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Q,m+.166*h+Q],[p-.115*h-Q,m+.234*h-Q]]).stream(u),f()},l.fitExtent=function(d,h){return yh(l,d,h)},l.fitSize=function(d,h){return dy(l,d,h)},l.fitWidth=function(d,h){return hy(l,d,h)},l.fitHeight=function(d,h){return py(l,d,h)};function f(){return e=t=null,l}return l.scale(1070)}function by(e){return function(t,n){var r=ie(t),i=ie(n),o=e(r*i);return o===1/0?[2,0]:[o*i*ne(t),o*ne(n)]}}function ja(e){return function(t,n){var r=gt(t*t+n*n),i=e(r),o=ne(i),a=ie(i);return[wn(t*o,r*a),Gt(r&&n*o/r)]}}var yy=by(function(e){return gt(2/(1+e))});yy.invert=ja(function(e){return 2*Gt(e/2)});function tT(){return kr(yy).scale(124.75).clipAngle(180-.001)}var _y=by(function(e){return(e=Yb(e))&&e/ne(e)});_y.invert=ja(function(e){return e});function nT(){return kr(_y).scale(79.4188).clipAngle(180-.001)}function Lu(e,t){return[e,Wc(mh((Se+t)/2))]}Lu.invert=function(e,t){return[e,2*xo(Vb(t))-Se]};function vy(){return wy(Lu).scale(961/At)}function wy(e){var t=kr(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,c,u;t.scale=function(f){return arguments.length?(r(f),l()):r()},t.translate=function(f){return arguments.length?(i(f),l()):i()},t.center=function(f){return arguments.length?(n(f),l()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=c=u=null:(a=+f[0][0],s=+f[0][1],c=+f[1][0],u=+f[1][1]),l()):a==null?null:[[a,s],[c,u]]};function l(){var f=ue*r(),d=t(pE(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Lu?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,c),u]]:[[a,Math.max(d[1]-f,s)],[c,Math.min(d[1]+f,u)]])}return l()}function ic(e){return mh((Se+e)/2)}function rT(e,t){var n=ie(e),r=e===t?ne(e):Wc(n/ie(t))/Wc(ic(t)/ic(e)),i=n*nf(ic(e),r)/r;if(!r)return Lu;function o(a,s){i>0?s<-Se+Q&&(s=-Se+Q):s>Se-Q&&(s=Se-Q);var c=i/nf(ic(s),r);return[c*ne(r*a),i-c*ie(r*a)]}return o.invert=function(a,s){var c=i-s,u=Ht(r)*gt(a*a+c*c),l=wn(a,fe(c))*Ht(c);return c*r<0&&(l-=ue*Ht(a)*Ht(c)),[l/r,2*xo(nf(i/u,1/r))-Se]},o}function iT(){return _h(rT).scale(109.5).parallels([30,30])}function ru(e,t){return[e,t]}ru.invert=ru;function oT(){return kr(ru).scale(152.63)}function aT(e,t){var n=ie(e),r=e===t?ne(e):(n-ie(t))/(t-e),i=n/r+e;if(fe(r)<Q)return ru;function o(a,s){var c=i-s,u=r*a;return[c*ne(u),i-c*ie(u)]}return o.invert=function(a,s){var c=i-s,u=wn(a,fe(c))*Ht(c);return c*r<0&&(u-=ue*Ht(a)*Ht(c)),[u/r,i-Ht(r)*gt(a*a+c*c)]},o}function sT(){return _h(aT).scale(131.154).center([0,13.9389])}var pa=1.340264,ga=-.081106,ma=893e-6,ba=.003796,iu=gt(3)/2,cT=12;function xy(e,t){var n=Gt(iu*ne(t)),r=n*n,i=r*r*r;return[e*ie(n)/(iu*(pa+3*ga*r+i*(7*ma+9*ba*r))),n*(pa+ga*r+i*(ma+ba*r))]}xy.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,c;o<cT&&(s=n*(pa+ga*r+i*(ma+ba*r))-t,c=pa+3*ga*r+i*(7*ma+9*ba*r),n-=a=s/c,r=n*n,i=r*r*r,!(fe(a)<gh));++o);return[iu*e*(pa+3*ga*r+i*(7*ma+9*ba*r))/ie(n),Gt(ne(n)/iu)]};function uT(){return kr(xy).scale(177.158)}function Ey(e,t){var n=ie(t),r=ie(e)*n;return[n*ne(e)/r,ne(t)/r]}Ey.invert=ja(xo);function lT(){return kr(Ey).scale(144.049).clipAngle(60)}function Ty(e,t){return[ie(t)*ne(e),ne(t)]}Ty.invert=ja(Gt);function fT(){return kr(Ty).scale(249.5).clipAngle(90+Q)}function Sy(e,t){var n=ie(t),r=1+ie(e)*n;return[n*ne(e)/r,ne(t)/r]}Sy.invert=ja(function(e){return 2*xo(e)});function dT(){return kr(Sy).scale(250).clipAngle(142)}function My(e,t){return[Wc(mh((Se+t)/2)),-e]}My.invert=function(e,t){return[-t,2*xo(Vb(e))-Se]};function hT(){var e=wy(My),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ka(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xd=Symbol("implicit");function vh(){var e=new Ki,t=[],n=[],r=xd;function i(o){let a=e.get(o);if(a===void 0){if(r!==xd)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Ki;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vh(t,n).unknown(r)},kn.apply(i,arguments),i}function $u(){var e=vh().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,c=0,u=0,l=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,d-c+u*2),s&&(o=Math.floor(o)),p+=(m-p-o*(d-c))*l,a=o*(1-c),s&&(p=Math.round(p),a=Math.round(a));var _=Kt(d).map(function(w){return p+o*w});return n(h?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.copy=function(){return $u(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},kn.apply(f(),arguments)}function Iy(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Iy(t())},e}function pT(){return Iy($u.apply(null,arguments).paddingInner(1))}function gT(e){return function(){return e}}function Ed(e){return+e}var Pg=[0,1];function xt(e){return e}function Td(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gT(isNaN(t)?NaN:.5)}function mT(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bT(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Td(i,r),o=n(a,o)):(r=Td(r,i),o=n(o,a)),function(s){return o(r(s))}}function yT(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Td(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=Ga(e,s,1,r)-1;return o[c](i[c](s))}}function Ja(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uu(){var e=Pg,t=Pg,n=wo,r,i,o,a=xt,s,c,u;function l(){var d=Math.min(e.length,t.length);return a!==xt&&(a=mT(e[0],e[d-1])),s=d>2?yT:bT,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(c||(c=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),tt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Ed),l()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Nu,l()},f.clamp=function(d){return arguments.length?(a=d?!0:xt,l()):a!==xt},f.interpolate=function(d){return arguments.length?(n=d,l()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,l()}}function ky(){return Uu()(xt,xt)}function _T(e,t,n,r){var i=Wf(e,t,n),o;switch(r=Ma(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=dE(i,a))&&(r.precision=o),Gb(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hE(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=fE(i))&&(r.precision=o-(r.type==="%")*2);break}}return ht(r)}function Eo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _T(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Jr(a,s,n),u===c)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function wh(){var e=ky();return e.copy=function(){return Ja(e,wh())},kn.apply(e,arguments),Eo(e)}function Ay(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ed),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ay(e).unknown(t)},e=arguments.length?Array.from(e,Ed):[0,1],Eo(n)}function Cy(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Og(e){return Math.log(e)}function Dg(e){return Math.exp(e)}function vT(e){return-Math.log(-e)}function wT(e){return-Math.exp(-e)}function xT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ET(e){return e===10?xT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lg(e){return(t,n)=>-e(-t,n)}function Ry(e){const t=e(Og,Dg),n=t.domain;let r=10,i,o;function a(){return i=TT(r),o=ET(r),n()[0]<0?(i=Lg(i),o=Lg(o),e(vT,wT)):e(Og,Dg),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const f=l<u;f&&([u,l]=[l,u]);let d=i(u),h=i(l),p,m;const _=s==null?10:+s;let w=[];if(!(r%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/o(-d):p*o(d),!(m<u)){if(m>l)break;w.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/o(-d):p*o(d),!(m<u)){if(m>l)break;w.push(m)}w.length*2<_&&(w=Zi(u,l,_))}else w=Zi(d,h,Math.min(h-d,_)).map(o);return f?w.reverse():w},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ma(c)).precision==null&&(c.trim=!0),c=ht(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return l=>{let f=l/o(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=u?c(l):""}},t.nice=()=>n(Cy(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Ny(){const e=Ry(Uu()).domain([1,10]);return e.copy=()=>Ja(e,Ny()).base(e.base()),kn.apply(e,arguments),e}function $g(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ug(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Py(e){var t=1,n=e($g(t),Ug(t));return n.constant=function(r){return arguments.length?e($g(t=+r),Ug(t)):t},Eo(n)}function Oy(){var e=Py(Uu());return e.copy=function(){return Ja(e,Oy()).constant(e.constant())},kn.apply(e,arguments)}function Fg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ST(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MT(e){return e<0?-e*e:e*e}function Dy(e){var t=e(xt,xt),n=1;function r(){return n===1?e(xt,xt):n===.5?e(ST,MT):e(Fg(n),Fg(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Eo(t)}function Ly(){var e=Dy(Uu());return e.copy=function(){return Ja(e,Ly()).exponent(e.exponent())},kn.apply(e,arguments),e}function $y(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=nx(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Ga(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Tt),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return $y().domain(e).range(t).unknown(r)},kn.apply(o,arguments)}function Uy(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ga(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Uy().domain(e).range(t).unknown(n)},kn.apply(i,arguments)}const cf=new Date,uf=new Date;function Oe(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return c},i.filter=o=>Oe(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(cf.setTime(+o),uf.setTime(+a),e(cf),e(uf),Math.floor(n(cf,uf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ou=Oe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ou.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ou);ou.range;const Hn=1e3,zt=Hn*60,zn=zt*60,Kn=zn*24,xh=Kn*7,Bg=Kn*30,lf=Kn*365,Wn=Oe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCSeconds());Wn.range;const Fu=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getMinutes());Fu.range;const Bu=Oe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCMinutes());Bu.range;const qu=Oe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn-e.getMinutes()*zt)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getHours());qu.range;const Hu=Oe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCHours());Hu.range;const To=Oe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zt)/Kn,e=>e.getDate()-1);To.range;const Za=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>e.getUTCDate()-1);Za.range;const Fy=Oe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kn,e=>Math.floor(e/Kn));Fy.range;function ci(e){return Oe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*zt)/xh)}const co=ci(0),ka=ci(1),By=ci(2),qy=ci(3),ni=ci(4),Hy=ci(5),zy=ci(6);co.range;ka.range;By.range;qy.range;ni.range;Hy.range;zy.range;function ui(e){return Oe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xh)}const uo=ui(0),Aa=ui(1),Wy=ui(2),Gy=ui(3),ri=ui(4),Vy=ui(5),Yy=ui(6);uo.range;Aa.range;Wy.range;Gy.range;ri.range;Vy.range;Yy.range;const Wi=Oe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wi.range;const Gi=Oe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gi.range;const xn=Oe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xn.range;const En=Oe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());En.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});En.range;function Xy(e,t,n,r,i,o){const a=[[Wn,1,Hn],[Wn,5,5*Hn],[Wn,15,15*Hn],[Wn,30,30*Hn],[o,1,zt],[o,5,5*zt],[o,15,15*zt],[o,30,30*zt],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[r,1,Kn],[r,2,2*Kn],[n,1,xh],[t,1,Bg],[t,3,3*Bg],[e,1,lf]];function s(u,l,f){const d=l<u;d&&([u,l]=[l,u]);const h=f&&typeof f.range=="function"?f:c(u,l,f),p=h?h.range(u,+l+1):[];return d?p.reverse():p}function c(u,l,f){const d=Math.abs(l-u)/f,h=Zd(([,,_])=>_).right(a,d);if(h===a.length)return e.every(Wf(u/lf,l/lf,f));if(h===0)return ou.every(Math.max(Wf(u,l,f),1));const[p,m]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(m)}return[s,c]}const[IT,jy]=Xy(En,Gi,uo,Fy,Hu,Bu),[kT,AT]=Xy(xn,Wi,co,To,qu,Fu);function ff(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function df(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function CT(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,u=Yo(i),l=Xo(i),f=Yo(o),d=Xo(o),h=Yo(a),p=Xo(a),m=Yo(s),_=Xo(s),w=Yo(c),b=Xo(c),g={a:F,A:W,b:V,B:K,c:null,d:Vg,e:Vg,f:QT,g:uS,G:fS,H:KT,I:JT,j:ZT,L:Ky,m:eS,M:tS,p:re,q:j,Q:jg,s:Kg,S:nS,u:rS,U:iS,V:oS,w:aS,W:sS,x:null,X:null,y:cS,Y:lS,Z:dS,"%":Xg},y={a:we,A:q,b:ce,B:Ae,c:null,d:Yg,e:Yg,f:mS,g:MS,G:kS,H:hS,I:pS,j:gS,L:Zy,m:bS,M:yS,p:bt,q:Ie,Q:jg,s:Kg,S:_S,u:vS,U:wS,V:xS,w:ES,W:TS,x:null,X:null,y:SS,Y:IS,Z:AS,"%":Xg},v={a:O,A,b:N,B:C,c:k,d:Wg,e:Wg,f:VT,g:zg,G:Hg,H:Gg,I:Gg,j:HT,L:GT,m:qT,M:zT,p:R,q:BT,Q:XT,s:jT,S:WT,u:DT,U:LT,V:$T,w:OT,W:UT,x:I,X:L,y:zg,Y:Hg,Z:FT,"%":YT};g.x=x(n,g),g.X=x(r,g),g.c=x(t,g),y.x=x(n,y),y.X=x(r,y),y.c=x(t,y);function x(B,ee){return function(J){var D=[],me=-1,se=0,pe=B.length,Te,Qe,ye;for(J instanceof Date||(J=new Date(+J));++me<pe;)B.charCodeAt(me)===37&&(D.push(B.slice(se,me)),(Qe=qg[Te=B.charAt(++me)])!=null?Te=B.charAt(++me):Qe=Te==="e"?" ":"0",(ye=ee[Te])&&(Te=ye(J,Qe)),D.push(Te),se=me+1);return D.push(B.slice(se,me)),D.join("")}}function T(B,ee){return function(J){var D=Vo(1900,void 0,1),me=M(D,B,J+="",0),se,pe;if(me!=J.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(ee&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(se=df(Vo(D.y,0,1)),pe=se.getUTCDay(),se=pe>4||pe===0?Aa.ceil(se):Aa(se),se=Za.offset(se,(D.V-1)*7),D.y=se.getUTCFullYear(),D.m=se.getUTCMonth(),D.d=se.getUTCDate()+(D.w+6)%7):(se=ff(Vo(D.y,0,1)),pe=se.getDay(),se=pe>4||pe===0?ka.ceil(se):ka(se),se=To.offset(se,(D.V-1)*7),D.y=se.getFullYear(),D.m=se.getMonth(),D.d=se.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),pe="Z"in D?df(Vo(D.y,0,1)).getUTCDay():ff(Vo(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(pe+5)%7:D.w+D.U*7-(pe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,df(D)):ff(D)}}function M(B,ee,J,D){for(var me=0,se=ee.length,pe=J.length,Te,Qe;me<se;){if(D>=pe)return-1;if(Te=ee.charCodeAt(me++),Te===37){if(Te=ee.charAt(me++),Qe=v[Te in qg?ee.charAt(me++):Te],!Qe||(D=Qe(B,J,D))<0)return-1}else if(Te!=J.charCodeAt(D++))return-1}return D}function R(B,ee,J){var D=u.exec(ee.slice(J));return D?(B.p=l.get(D[0].toLowerCase()),J+D[0].length):-1}function O(B,ee,J){var D=h.exec(ee.slice(J));return D?(B.w=p.get(D[0].toLowerCase()),J+D[0].length):-1}function A(B,ee,J){var D=f.exec(ee.slice(J));return D?(B.w=d.get(D[0].toLowerCase()),J+D[0].length):-1}function N(B,ee,J){var D=w.exec(ee.slice(J));return D?(B.m=b.get(D[0].toLowerCase()),J+D[0].length):-1}function C(B,ee,J){var D=m.exec(ee.slice(J));return D?(B.m=_.get(D[0].toLowerCase()),J+D[0].length):-1}function k(B,ee,J){return M(B,t,ee,J)}function I(B,ee,J){return M(B,n,ee,J)}function L(B,ee,J){return M(B,r,ee,J)}function F(B){return a[B.getDay()]}function W(B){return o[B.getDay()]}function V(B){return c[B.getMonth()]}function K(B){return s[B.getMonth()]}function re(B){return i[+(B.getHours()>=12)]}function j(B){return 1+~~(B.getMonth()/3)}function we(B){return a[B.getUTCDay()]}function q(B){return o[B.getUTCDay()]}function ce(B){return c[B.getUTCMonth()]}function Ae(B){return s[B.getUTCMonth()]}function bt(B){return i[+(B.getUTCHours()>=12)]}function Ie(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var ee=x(B+="",g);return ee.toString=function(){return B},ee},parse:function(B){var ee=T(B+="",!1);return ee.toString=function(){return B},ee},utcFormat:function(B){var ee=x(B+="",y);return ee.toString=function(){return B},ee},utcParse:function(B){var ee=T(B+="",!0);return ee.toString=function(){return B},ee}}}var qg={"-":"",_:" ",0:"0"},Ve=/^\s*\d+/,RT=/^%/,NT=/[\\^$*+?|[\]().{}]/g;function de(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function PT(e){return e.replace(NT,"\\$&")}function Yo(e){return new RegExp("^(?:"+e.map(PT).join("|")+")","i")}function Xo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function OT(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function DT(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function LT(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $T(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function UT(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hg(e,t,n){var r=Ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zg(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FT(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BT(e,t,n){var r=Ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function qT(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wg(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function HT(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Gg(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function zT(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function WT(e,t,n){var r=Ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function GT(e,t,n){var r=Ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function VT(e,t,n){var r=Ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YT(e,t,n){var r=RT.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function XT(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jT(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vg(e,t){return de(e.getDate(),t,2)}function KT(e,t){return de(e.getHours(),t,2)}function JT(e,t){return de(e.getHours()%12||12,t,2)}function ZT(e,t){return de(1+To.count(xn(e),e),t,3)}function Ky(e,t){return de(e.getMilliseconds(),t,3)}function QT(e,t){return Ky(e,t)+"000"}function eS(e,t){return de(e.getMonth()+1,t,2)}function tS(e,t){return de(e.getMinutes(),t,2)}function nS(e,t){return de(e.getSeconds(),t,2)}function rS(e){var t=e.getDay();return t===0?7:t}function iS(e,t){return de(co.count(xn(e)-1,e),t,2)}function Jy(e){var t=e.getDay();return t>=4||t===0?ni(e):ni.ceil(e)}function oS(e,t){return e=Jy(e),de(ni.count(xn(e),e)+(xn(e).getDay()===4),t,2)}function aS(e){return e.getDay()}function sS(e,t){return de(ka.count(xn(e)-1,e),t,2)}function cS(e,t){return de(e.getFullYear()%100,t,2)}function uS(e,t){return e=Jy(e),de(e.getFullYear()%100,t,2)}function lS(e,t){return de(e.getFullYear()%1e4,t,4)}function fS(e,t){var n=e.getDay();return e=n>=4||n===0?ni(e):ni.ceil(e),de(e.getFullYear()%1e4,t,4)}function dS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+de(t/60|0,"0",2)+de(t%60,"0",2)}function Yg(e,t){return de(e.getUTCDate(),t,2)}function hS(e,t){return de(e.getUTCHours(),t,2)}function pS(e,t){return de(e.getUTCHours()%12||12,t,2)}function gS(e,t){return de(1+Za.count(En(e),e),t,3)}function Zy(e,t){return de(e.getUTCMilliseconds(),t,3)}function mS(e,t){return Zy(e,t)+"000"}function bS(e,t){return de(e.getUTCMonth()+1,t,2)}function yS(e,t){return de(e.getUTCMinutes(),t,2)}function _S(e,t){return de(e.getUTCSeconds(),t,2)}function vS(e){var t=e.getUTCDay();return t===0?7:t}function wS(e,t){return de(uo.count(En(e)-1,e),t,2)}function Qy(e){var t=e.getUTCDay();return t>=4||t===0?ri(e):ri.ceil(e)}function xS(e,t){return e=Qy(e),de(ri.count(En(e),e)+(En(e).getUTCDay()===4),t,2)}function ES(e){return e.getUTCDay()}function TS(e,t){return de(Aa.count(En(e)-1,e),t,2)}function SS(e,t){return de(e.getUTCFullYear()%100,t,2)}function MS(e,t){return e=Qy(e),de(e.getUTCFullYear()%100,t,2)}function IS(e,t){return de(e.getUTCFullYear()%1e4,t,4)}function kS(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ri(e):ri.ceil(e),de(e.getUTCFullYear()%1e4,t,4)}function AS(){return"+0000"}function Xg(){return"%"}function jg(e){return+e}function Kg(e){return Math.floor(+e/1e3)}var Ci,e_,zu;CS({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CS(e){return Ci=CT(e),e_=Ci.format,Ci.parse,zu=Ci.utcFormat,Ci.utcParse,Ci}function RS(e){return new Date(e)}function NS(e){return e instanceof Date?+e:+new Date(+e)}function Eh(e,t,n,r,i,o,a,s,c,u){var l=ky(),f=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),_=u("%I %p"),w=u("%a %d"),b=u("%b %d"),g=u("%B"),y=u("%Y");function v(x){return(c(x)<x?h:s(x)<x?p:a(x)<x?m:o(x)<x?_:r(x)<x?i(x)<x?w:b:n(x)<x?g:y)(x)}return l.invert=function(x){return new Date(f(x))},l.domain=function(x){return arguments.length?d(Array.from(x,NS)):d().map(RS)},l.ticks=function(x){var T=d();return e(T[0],T[T.length-1],x??10)},l.tickFormat=function(x,T){return T==null?v:u(T)},l.nice=function(x){var T=d();return(!x||typeof x.range!="function")&&(x=t(T[0],T[T.length-1],x??10)),x?d(Cy(T,x)):l},l.copy=function(){return Ja(l,Eh(e,t,n,r,i,o,a,s,c,u))},l}function PS(){return kn.apply(Eh(kT,AT,xn,Wi,co,To,qu,Fu,Wn,e_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OS(){return kn.apply(Eh(IT,jy,En,Gi,uo,Za,Hu,Bu,Wn,zu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function DS(){var e=0,t=1,n,r,i,o,a=xt,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function l(f){return function(d){var h,p;return arguments.length?([h,p]=d,a=f(h,p),u):[a(0),a(1)]}}return u.range=l(wo),u.rangeRound=l(Nu),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Sd(){var e=Eo(DS()(xt));return e.copy=function(){return Qa(e,Sd())},Ka.apply(e,arguments)}function Wu(){var e=0,t=.5,n=1,r=1,i,o,a,s,c,u=xt,l,f=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+l(m))-o)*(r*m<r*o?s:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=l(e=+e),o=l(t=+t),a=l(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(_){var w,b,g;return arguments.length?([w,b,g]=_,u=lh(m,[w,b,g]),h):[u(0),u(.5),u(1)]}}return h.range=p(wo),h.rangeRound=p(Nu),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return l=m,i=m(e),o=m(t),a=m(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function t_(){var e=Eo(Wu()(xt));return e.copy=function(){return Qa(e,t_())},Ka.apply(e,arguments)}function n_(){var e=Ry(Wu()).domain([.1,1,10]);return e.copy=function(){return Qa(e,n_()).base(e.base())},Ka.apply(e,arguments)}function r_(){var e=Py(Wu());return e.copy=function(){return Qa(e,r_()).constant(e.constant())},Ka.apply(e,arguments)}function i_(){var e=Dy(Wu());return e.copy=function(){return Qa(e,i_()).exponent(e.exponent())},Ka.apply(e,arguments)}function ae(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const LS=ae("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$S=ae("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),US=ae("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),FS=ae("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),BS=ae("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qS=ae("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),HS=ae("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),zS=ae("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),WS=ae("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),GS=ae("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),be=e=>p5(e[e.length-1]);var o_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ae);const a_=be(o_);var s_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ae);const c_=be(s_);var u_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ae);const l_=be(u_);var f_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ae);const d_=be(f_);var Md=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ae);const lo=be(Md);var h_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ae);const p_=be(h_);var Id=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ae);const au=be(Id);var g_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ae);const m_=be(g_);var b_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ae);const y_=be(b_);var __=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ae);const v_=be(__);var w_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ae);const x_=be(w_);var E_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ae);const T_=be(E_);var S_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ae);const M_=be(S_);var I_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ae);const k_=be(I_);var A_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ae);const C_=be(A_);var R_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ae);const N_=be(R_);var P_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ae);const O_=be(P_);var D_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ae);const L_=be(D_);var $_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ae);const U_=be($_);var F_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ae);const B_=be(F_);var q_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ae);const H_=be(q_);var z_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ae);const W_=be(z_);var G_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ae);const V_=be(G_);var Y_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ae);const X_=be(Y_);var j_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ae);const K_=be(j_);var J_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ae);const Z_=be(J_);var Q_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ae);const ev=be(Q_);function Th(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const tv=uh(vn(300,.5,0),vn(-240,.5,1));var nv=uh(vn(-100,.75,.35),vn(80,1.5,.8)),rv=uh(vn(260,.75,.35),vn(80,1.5,.8)),oc=vn();function iv(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return oc.h=360*e-100,oc.s=1.5-1.5*t,oc.l=.8-.9*t,oc+""}var ac=Er(),VS=Math.PI/3,YS=Math.PI*2/3;function ov(e){var t;return e=(.5-e)*Math.PI,ac.r=255*(t=Math.sin(e))*t,ac.g=255*(t=Math.sin(e+VS))*t,ac.b=255*(t=Math.sin(e+YS))*t,ac+""}function av(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Gu(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const sv=Gu(ae("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var cv=Gu(ae("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),uv=Gu(ae("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lv=Gu(ae("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ri(e){return function(){return e}}const fv=Math.cos,Sh=Math.min,su=Math.sin,De=Math.sqrt,Jg=1e-12,cu=Math.PI,Vu=2*cu;function XS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Hb(t)}function jS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dv(e){this._context=e}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yu(e){return new dv(e)}function KS(e){return e[0]}function JS(e){return e[1]}function ZS(e,t){var n=Ri(!0),r=null,i=Yu,o=null,a=XS(s);e=typeof e=="function"?e:e===void 0?KS:Ri(e),t=typeof t=="function"?t:t===void 0?JS:Ri(t);function s(c){var u,l=(c=jS(c)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=l;++u)!(u<l&&n(f=c[u],u,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,c),+t(f,u,c));if(h)return o=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ri(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ri(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ri(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}class hv{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function QS(e){return new hv(e,!0)}function e7(e){return new hv(e,!1)}const t7=De(3),pv={draw(e,t){const n=De(t+Sh(t/28,.75))*.59436,r=n/2,i=r*t7;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Ca={draw(e,t){const n=De(t/cu);e.moveTo(n,0),e.arc(0,0,n,0,Vu)}},gv={draw(e,t){const n=De(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mv=De(1/3),n7=mv*2,bv={draw(e,t){const n=De(t/n7),r=n*mv;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yv={draw(e,t){const n=De(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},_v={draw(e,t){const n=De(t-Sh(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},vv={draw(e,t){const n=De(t),r=-n/2;e.rect(r,r,n,n)}},wv={draw(e,t){const n=De(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},r7=.8908130915292852,xv=su(cu/10)/su(7*cu/10),i7=su(Vu/10)*xv,o7=-fv(Vu/10)*xv,Ev={draw(e,t){const n=De(t*r7),r=i7*n,i=o7*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Vu*o/5,s=fv(a),c=su(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},hf=De(3),Tv={draw(e,t){const n=-De(t/(hf*3));e.moveTo(0,n*2),e.lineTo(-hf*n,-n),e.lineTo(hf*n,-n),e.closePath()}},a7=De(3),Sv={draw(e,t){const n=De(t)*.6824,r=n/2,i=n*a7/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ut=-.5,Ft=De(3)/2,kd=1/De(12),s7=(kd/2+1)*3,Mv={draw(e,t){const n=De(t/s7),r=n/2,i=n*kd,o=r,a=n*kd+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(Ut*r-Ft*i,Ft*r+Ut*i),e.lineTo(Ut*o-Ft*a,Ft*o+Ut*a),e.lineTo(Ut*s-Ft*c,Ft*s+Ut*c),e.lineTo(Ut*r+Ft*i,Ut*i-Ft*r),e.lineTo(Ut*o+Ft*a,Ut*a-Ft*o),e.lineTo(Ut*s+Ft*c,Ut*c-Ft*s),e.closePath()}},Iv={draw(e,t){const n=De(t-Sh(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},c7=[Ca,gv,bv,vv,Ev,Tv,Mv],u7=[Ca,_v,Iv,Sv,pv,wv,yv];function Tr(){}function uu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xu(e){this._context=e}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l7(e){return new Xu(e)}function kv(e){this._context=e}kv.prototype={areaStart:Tr,areaEnd:Tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f7(e){return new kv(e)}function Av(e){this._context=e}Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d7(e){return new Av(e)}function Cv(e,t){this._basis=new Xu(e),this._beta=t}Cv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+c*o),this._beta*t[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const h7=function e(t){function n(r){return t===1?new Xu(r):new Cv(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function lu(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Mh(e,t){this._context=e,this._k=(1-t)/6}Mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:lu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const p7=function e(t){function n(r){return new Mh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ih(e,t){this._context=e,this._k=(1-t)/6}Ih.prototype={areaStart:Tr,areaEnd:Tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const g7=function e(t){function n(r){return new Ih(r,t)}return n.tension=function(r){return e(+r)},n}(0);function kh(e,t){this._context=e,this._k=(1-t)/6}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m7=function e(t){function n(r){return new kh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ah(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Jg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Jg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Rv(e,t){this._context=e,this._alpha=t}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ah(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b7=function e(t){function n(r){return t?new Rv(r,t):new Mh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Nv(e,t){this._context=e,this._alpha=t}Nv.prototype={areaStart:Tr,areaEnd:Tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ah(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y7=function e(t){function n(r){return t?new Nv(r,t):new Ih(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Pv(e,t){this._context=e,this._alpha=t}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ah(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _7=function e(t){function n(r){return t?new Pv(r,t):new kh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ov(e){this._context=e}Ov.prototype={areaStart:Tr,areaEnd:Tr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v7(e){return new Ov(e)}function Zg(e){return e<0?-1:1}function Qg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Zg(o)+Zg(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function em(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pf(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function fu(e){this._context=e}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pf(this,this._t0,em(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pf(this,em(this,n=Qg(this,e,t)),n);break;default:pf(this,this._t0,n=Qg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Dv(e){this._context=new Lv(e)}(Dv.prototype=Object.create(fu.prototype)).point=function(e,t){fu.prototype.point.call(this,t,e)};function Lv(e){this._context=e}Lv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function w7(e){return new fu(e)}function x7(e){return new Dv(e)}function $v(e){this._context=e}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tm(e),i=tm(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tm(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function E7(e){return new $v(e)}function ju(e,t){this._context=e,this._t=t}ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function T7(e){return new ju(e,.5)}function S7(e){return new ju(e,0)}function M7(e){return new ju(e,1)}function sa(e,t,n){this.k=e,this.x=t,this.y=n}sa.prototype={constructor:sa,scale:function(e){return e===1?this:new sa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sa.prototype;function fo(e){return e!=null&&!Number.isNaN(e)}function Sr(e,t){return+fo(t)-+fo(e)||Tt(e,t)}function Uv(e,t){return+fo(t)-+fo(e)||Wa(e,t)}function Ch(e){return e!=null&&`${e}`!=""}function Fv(e){return isFinite(e)?e:NaN}function es(e){return e>0&&isFinite(e)?e:NaN}function Ku(e){return e<0&&isFinite(e)?e:NaN}const I7=new Map([["second",Wn],["minute",Fu],["hour",qu],["day",To],["week",co],["month",Wi],["quarter",Wi.every(3)],["half",Wi.every(6)],["year",xn],["monday",ka],["tuesday",By],["wednesday",qy],["thursday",ni],["friday",Hy],["saturday",zy],["sunday",co]]),k7=new Map([["second",Wn],["minute",Bu],["hour",Hu],["day",Za],["week",uo],["month",Gi],["quarter",Gi.every(3)],["half",Gi.every(6)],["year",En],["monday",Aa],["tuesday",Wy],["wednesday",Gy],["thursday",ri],["friday",Vy],["saturday",Yy],["sunday",uo]]);function A7(e){const t=I7.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function Bv(e){const t=k7.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const Ra=Object.getPrototypeOf(Uint8Array),C7=Object.prototype.toString;function We(e,t,n){const r=typeof t;return r==="string"?nm(e,qv(t),n):r==="function"?nm(e,t,n):r==="number"||t instanceof Date||r==="boolean"?Ze(e,So(t),n):typeof(t==null?void 0:t.transform)=="function"?rm(t.transform(e),n):rm(t,n)}function nm(e,t,n){return Ze(e,(n==null?void 0:n.prototype)instanceof Ra?R7(t):t,n)}function rm(e,t){return t===void 0?Tn(e):e instanceof t?e:t.prototype instanceof Ra&&!(e instanceof Ra)?t.from(e,Nh):t.from(e)}function R7(e){return(t,n)=>Nh(e(t,n))}const qv=e=>t=>t[e],Hv=(e,t)=>t,mt={transform:e=>e},N7=()=>1,P7=()=>!0,Jt=e=>e==null?e:`${e}`,Ee=e=>e==null?e:+e,Rh=e=>e?e[0]:void 0,Ad=e=>e?e[1]:void 0,So=e=>()=>e;function O7(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Qi(n,t,r)}function ho(e){return e instanceof Ra?e:Ze(e,Nh,Float64Array)}function Nh(e){return e==null?NaN:Number(e)}function D7(e){return Ze(e,zv)}function zv(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?V1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Mr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Qu(e)?[void 0,e]:[e,void 0]}function pt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function Wv(e,t,n){if(e!=null)return Qn(e,t,n)}function Qn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Tn(e){return e==null||e instanceof Array||e instanceof Ra?e:Array.from(e)}function Ze(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Cd(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Mo(e){return(e==null?void 0:e.toString)===C7}function Vi(e){return Mo(e)&&(e.type!==void 0||e.domain!==void 0)}function Ju(e){return Mo(e)&&typeof e.transform!="function"}function po(e){return Ju(e)&&e.value===void 0&&e.channel===void 0}function L7(e,t,n,r=mt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Ph(e,t){return e===void 0&&t===void 0?[Rh,Ad]:[e,t]}function Gv({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Mr(t)),e===void 0&&([e]=Mr(n)),e}function Ar(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Vv(e,t){return Ze(t,n=>e[n])}function gf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $7(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function du(e){let t;return[{transform:()=>t,label:li(e)},n=>t=n]}function Ln(e){return e==null?[e]:du(e)}function li(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Rd(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Ct(r)||Ct(i)?Ze(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):Ze(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Oh(e,t){if(e!=null){if(typeof e=="number"){const n=e;return{floor:r=>n*Math.floor(r/n),offset:r=>r+n,range:(r,i)=>Kt(Math.ceil(r/n),i/n).map(o=>n*o)}}if(typeof e=="string")return(t==="time"?A7:Bv)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Io(e,t){if(e=Oh(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function U7(e,t){if(e=Io(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Zu(e){return e===void 0||Ju(e)?e:{value:e}}function F7(e){return e==null?null:{transform:t=>We(t,e,Float64Array),label:li(e)}}function Cr(e){return e&&typeof e[Symbol.iterator]=="function"}function B7(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function im(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Ct(e){for(const t of e)if(t!=null)return t instanceof Date}function q7(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&V1(t)}function H7(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function z7(e){for(const t of e)if(t!=null)return typeof t=="number"}function mf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Qu(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||xr(e)!==null)}function W7(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Mt(e){return e==null||Na(e)}function Na(e){return/^\s*none\s*$/i.test(e)}function G7(e){return/^\s*round\s*$/i.test(e)}function Dh(e="middle"){return Qn(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Pa(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Wa(t,n)}function V7(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function Y7(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function om(e){return Cr(e)?Y7(e):e}const gn=Symbol("position"),Sn=Symbol("color"),el=Symbol("radius"),tl=Symbol("length"),nl=Symbol("opacity"),rl=Symbol("symbol"),Me=new Map([["x",gn],["y",gn],["fx",gn],["fy",gn],["r",el],["color",Sn],["opacity",nl],["symbol",rl],["length",tl]]),X7=Math.sqrt(3),j7=2/X7,K7={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*j7,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Lh=new Map([["asterisk",pv],["circle",Ca],["cross",gv],["diamond",bv],["diamond2",yv],["hexagon",K7],["plus",_v],["square",vv],["square2",wv],["star",Ev],["times",Iv],["triangle",Tv],["triangle2",Sv],["wye",Mv]]);function $h(e){return e&&typeof e.draw=="function"}function J7(e){return $h(e)?!0:typeof e!="string"?!1:Lh.has(e.toLowerCase())}function Uh(e){if(e==null||$h(e))return e;const t=Lh.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Z7(e){if(e==null||$h(e))return[void 0,e];if(typeof e=="string"){const t=Lh.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function il({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=Yv(e)),t!=null&&!po(t)&&(r=bf(r,Fh(t))),n&&(r=bf(r,Xv))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||po(t))&&{sort:t},transform:bf(r,a)}}function ol({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=Yv(e)),t!=null&&!po(t)&&(r=yf(r,Fh(t))),n&&(r=yf(r,Xv))),{...i,...(t===null||po(t))&&{sort:t},initializer:yf(r,o)}}function bf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,Tn(n),r)}}function yf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,c,u,l,f;return{data:s=n,facets:c=r,channels:a}=e.call(this,n,r,i,...o),{data:l=s,facets:f=c,channels:u}=t.call(this,s,c,{...i,...a},...o),{data:l,facets:f,channels:{...a,...u}}}}function Q7(e,t){return(e.initializer!=null?ol:il)(e,t)}function Yv(e){return(t,n)=>{const r=We(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function Xv(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function eM(e,{sort:t,...n}={}){return{...(Ju(e)&&e.channel!==void 0?ol:Q7)(n,Fh(e)),sort:po(t)?t:null}}function Fh(e){return(typeof e=="function"&&e.length!==1?tM:nM)(e)}function tM(e){return(t,n)=>{const r=(i,o)=>e(t[i],t[o]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function nM(e){let t,n;if({channel:t,value:e,order:n=Sr}={...Zu(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Sr;break;case"descending":n=Uv;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,o)=>{let a;if(t===void 0)a=We(r,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(a=o[t],!a)return{};a=a.value}const s=(c,u)=>n(a[c],a[u]);return{data:r,facets:i.map(c=>c.slice().sort(s))}}}function sc(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function rM(e,t,n=jv){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",lM]),t.href!=null&&e.href===void 0&&r.push(["href",Zv]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?iM(i):n(i,o,t))}function jv(e,t,n,r=Kv){let i;Mo(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,s]=du(o.label);let c;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),c=s([])},scope(u,l){o.scope(u,l)},reduce(u,l){c.push(o.reduce(u,l))}}}function iM(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Kv(e,t,n,r=Bh){const i=$7(e,n),o=r(t,i);let a,s;return{label:li(o===hu?null:i,o.label),initialize(c){a=i===void 0?c:We(c,i),o.scope==="data"&&(s=o.reduceIndex(Ar(c),a))},scope(c,u){o.scope===c&&(s=o.reduceIndex(u,a))},reduce(c,u){return o.scope==null?o.reduceIndex(c,a,u):o.reduceIndex(c,a,s,u)}}}function am(e,t){return t?Ji(ku(e,n=>t[n]),Rh):[[,e]]}function Bh(e,t,n=oM){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Mo(e))return cM(e);if(typeof e=="function")return uM(e);if(/^p\d{2}$/i.test(e))return $n(O7(e));switch(`${e}`.toLowerCase()){case"first":return Zv;case"last":return fM;case"identity":return Jv;case"count":return hu;case"distinct":return dM;case"sum":return t==null?hu:hM;case"proportion":return cm(t,"data");case"proportion-facet":return cm(t,"facet");case"deviation":return $n(j1);case"min":return $n(Xn);case"min-index":return $n(tx);case"max":return $n(en);case"max-index":return $n(ex);case"mean":return sm(Qo);case"median":return sm(dr);case"variance":return $n(X1);case"mode":return $n(ox)}return n(e)}function oM(e){throw new Error(`invalid reduce: ${e}`)}function aM(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function sM(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>Sr(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function cM(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function uM(e){return{reduceIndex(t,n,r){return e(Vv(n,t),r)}}}function $n(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function sm(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Ct(n)?new Date(r):r}}}const Jv={reduceIndex(e,t){return Vv(t,e)}},Zv={reduceIndex(e,t){return t[e[0]]}},lM={reduceIndex(e,t){const r=Ji(Gr(e,o=>o.length,o=>t[o]),Ad),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[`… ${o.length.toLocaleString("en-US")} more`,qt(o,Ad)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},fM={reduceIndex(e,t){return t[e[e.length-1]]}},hu={label:"Frequency",reduceIndex(e){return e.length}},dM={label:"Distinct",reduceIndex(e,t){const n=new eh;for(const r of e)n.add(t[r]);return n.size}},hM=$n(qt);function cm(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>qt(n,o=>r[o])/i}}function Oa(e,{scale:t,type:n,value:r,filter:i,hint:o},a){return Qv(a,{scale:t,type:n,value:We(e,r),label:li(r),filter:i,hint:o})}function pM(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Oa(t,r,n)]))}function gM(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:Ze(o,a)]}));return n.channels=e,n}function Qv(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&mf(r,Qu)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale=n!==!0&&mf(r,W7)?null:"opacity";break;case"symbol":n!==!0&&mf(r,J7)?(t.scale=null,t.value=Ze(r,Uh)):t.scale="symbol";break;default:t.scale=Me.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Me.has(n))throw new Error(`unknown scale: ${n}`);return t}function mM(e,t,n,r,i){const{reverse:o,reduce:a=!0,limit:s}=i;for(const c in i){if(!Me.has(c))continue;let{value:u,reverse:l=o,reduce:f=a,limit:d=s}=Zu(i[c]);if(l===void 0&&(l=u==="width"||u==="height"),f==null||f===!1)continue;const h=c==="fx"||c==="fy"?yM(t,r[c]):bM(n,c);if(!h)throw new Error(`missing channel for scale: ${c}`);const p=h.value,[m=0,_=1/0]=Cr(d)?d:d<0?[d]:[0,d];if(u==null)h.domain=()=>{let w=Array.from(new eh(p));return l&&(w=w.reverse()),(m!==0||_!==1/0)&&(w=w.slice(m,_)),w};else{const w=u==="data"?e:u==="height"?um(n,"y1","y2"):u==="width"?um(n,"x1","x2"):Nd(n,u,u==="y"?"y2":u==="x"?"x2":void 0),b=Bh(f===!0?"max":f,w);h.domain=()=>{let g=Gr(Ar(p),y=>b.reduceIndex(y,w),y=>p[y]);return g=Ji(g,l?vM:_M),(m!==0||_!==1/0)&&(g=g.slice(m,_)),g.map(Rh)}}}}function bM(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function yM(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const s of e[o])i[s]=a}return t}function um(e,t,n){const r=Nd(e,t),i=Nd(e,n);return Ze(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Nd(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function _M([e,t],[n,r]){return Sr(t,r)||Sr(e,n)}function vM([e,t],[n,r]){return Uv(t,r)||Sr(e,n)}let Pd=0;function wM(){const e=Pd;return Pd=0,e}function Yi(e){console.warn(e),++Pd}const e2=Math.PI,Pn=2*e2,_f=.618;function xM({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,c,u="frame";if(Mo(e)){let v;if({type:e,domain:c,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:u=u,...s}=e,e==null)return}typeof e!="function"&&({type:e}=t2(e));const{width:l,height:f,marginLeft:d,marginRight:h,marginTop:p,marginBottom:m}=a,_=l-d-h-o-r,w=f-p-m-n-i;if(e=e==null?void 0:e({width:_,height:w,clip:u,...s}),e==null)return;u=EM(u,d,p,l-h,f-m);let b=d+o,g=p+n,y;if(c!=null){const[[v,x],[T,M]]=Xa(e).bounds(c),R=Math.min(_/(T-v),w/(M-x));R>0?(b-=(R*(v+T)-_)/2,g-=(R*(x+M)-w)/2,y=tu({point(O,A){this.stream.point(O*R+b,A*R+g)}})):Yi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&g===0?n2():tu({point(v,x){this.stream.point(v+b,x+g)}})),{stream:v=>e.stream(y.stream(u(v)))}}function t2(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Yt(eT,.7463,.4673);case"albers":return cc(my,.7463,.4673);case"azimuthal-equal-area":return Yt(tT,4,4);case"azimuthal-equidistant":return Yt(nT,Pn,Pn);case"conic-conformal":return cc(iT,Pn,Pn);case"conic-equal-area":return cc(nu,6.1702,2.9781);case"conic-equidistant":return cc(sT,7.312,3.6282);case"equal-earth":return Yt(uT,5.4133,2.6347);case"equirectangular":return Yt(oT,Pn,e2);case"gnomonic":return Yt(lT,3.4641,3.4641);case"identity":return{type:n2};case"reflect-y":return{type:TM};case"mercator":return Yt(vy,Pn,Pn);case"orthographic":return Yt(fT,2,2);case"stereographic":return Yt(dT,2,2);case"transverse-mercator":return Yt(hT,Pn,Pn);default:throw new Error(`unknown projection type: ${e}`)}}function EM(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Qb(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Yt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var u,l,f;const c=e();return a!=null&&((u=c.precision)==null||u.call(c,a)),o!=null&&((l=c.rotate)==null||l.call(c,o)),typeof s=="number"&&((f=c.clipAngle)==null||f.call(c,s)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function cc(e,t,n){const{type:r,aspectRatio:i}=Yt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:c,height:u}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&l.fitSize([c,u],{type:"Sphere"})),l},aspectRatio:i}}const n2=So({stream:e=>e}),TM=So(tu({point(e,t){this.stream.point(e,-t)}}));function vf(e,t,n,r,i){const o=n[e]&&n[e].scale==="x",a=n[t]&&n[t].scale==="y";if(o&&a)SM(e,t,r,i.projection);else{if(o)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(a)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function SM(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),c=n[t]=new Float64Array(a).fill(NaN);let u;const l=r.stream({point(f,d){s[u]=f,c[u]=d}});for(u=0;u<a;++u)l.point(i[u],o[u])}function MM(e,t){if(typeof(e==null?void 0:e.stream)=="function")return _f;if(Mo(e)&&(e=e.type),e==null)return IM(t)?_f:void 0;if(typeof e!="function"){const{aspectRatio:n}=t2(e);if(n)return n}return _f}function IM(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function al(e={},t){const{document:n=typeof window<"u"?window.document:void 0}=e;return{document:n,projection:xM(e,t)}}function Ye(e,{document:t}){return xa(nh(e).call(t.documentElement))}const lm=new Map([["accent",$S],["category10",LS],["dark2",US],["paired",FS],["pastel1",BS],["pastel2",qS],["set1",HS],["set2",zS],["set3",WS],["tableau10",GS],["brbg",On(o_,a_)],["prgn",On(s_,c_)],["piyg",On(u_,l_)],["puor",On(f_,d_)],["rdbu",On(Md,lo)],["rdgy",On(h_,p_)],["rdylbu",On(Id,au)],["rdylgn",On(g_,m_)],["spectral",On(b_,y_)],["burd",fm(Md,lo)],["buylrd",fm(Id,au)],["blues",Be(z_,W_)],["greens",Be(G_,V_)],["greys",Be(Y_,X_)],["oranges",Be(Q_,ev)],["purples",Be(j_,K_)],["reds",Be(J_,Z_)],["turbo",Dn(av)],["viridis",Dn(sv)],["magma",Dn(cv)],["inferno",Dn(uv)],["plasma",Dn(lv)],["cividis",Dn(Th)],["cubehelix",Dn(tv)],["warm",Dn(nv)],["cool",Dn(rv)],["bugn",Be(__,v_)],["bupu",Be(w_,x_)],["gnbu",Be(E_,T_)],["orrd",Be(S_,M_)],["pubu",Be(A_,C_)],["pubugn",Be(I_,k_)],["purd",Be(R_,N_)],["rdpu",Be(P_,O_)],["ylgn",Be($_,U_)],["ylgnbu",Be(D_,L_)],["ylorbr",Be(F_,B_)],["ylorrd",Be(q_,H_)],["rainbow",dm(iv)],["sinebow",dm(ov)]]);function Be(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?tn(t,n):e[n])}function On(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?tn(t,n):e[n])}function fm(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?tn(r=>t(1-r),n):e[n].slice().reverse())}function Dn(e){return({length:t})=>tn(e,Math.max(2,Math.floor(t)))}function dm(e){return({length:t})=>tn(e,Math.floor(t)+1).slice(0,-1)}function r2(e){const t=`${e}`.toLowerCase();if(!lm.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return lm.get(t)}function sl(e,t){const n=r2(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function kM(e,t="greys"){const n=new Set,[r,i]=sl(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const hm=new Map([["brbg",a_],["prgn",c_],["piyg",l_],["puor",d_],["rdbu",lo],["rdgy",p_],["rdylbu",au],["rdylgn",m_],["spectral",y_],["burd",e=>lo(1-e)],["buylrd",e=>au(1-e)],["blues",W_],["greens",V_],["greys",X_],["purples",K_],["reds",Z_],["oranges",ev],["turbo",av],["viridis",sv],["magma",cv],["inferno",uv],["plasma",lv],["cividis",Th],["cubehelix",tv],["warm",nv],["cool",rv],["bugn",v_],["bupu",x_],["gnbu",T_],["orrd",M_],["pubugn",k_],["pubu",C_],["purd",N_],["rdpu",O_],["ylgnbu",L_],["ylgn",U_],["ylorbr",B_],["ylorrd",H_],["rainbow",iv],["sinebow",ov]]);function qh(e){const t=`${e}`.toLowerCase();if(!hm.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return hm.get(t)}const AM=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function pm(e){return e!=null&&AM.has(`${e}`.toLowerCase())}const i2=e=>t=>e(1-t),wf=[0,1],gm=new Map([["number",tt],["rgb",Qr],["hsl",I5],["hcl",C5],["lab",k5]]);function o2(e){const t=`${e}`.toLowerCase();if(!gm.has(t))throw new Error(`unknown interpolator: ${t}`);return gm.get(t)}function ts(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=s2(e,n),unknown:c,round:u,scheme:l,interval:f,range:d=Me.get(e)===el?BM(n,s):Me.get(e)===tl?qM(n,s):Me.get(e)===nl?wf:void 0,interpolate:h=Me.get(e)===Sn?l==null&&d!==void 0?Qr:qh(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?Nu:tt,reverse:p}){if(f=Io(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=o2(h)),h.length===1?(p&&(h=i2(h),p=!1),d===void 0&&(d=Float64Array.from(s,(m,_)=>_/(s.length-1)),d.length===2&&(d=wf)),t.interpolate((d===wf?So:zh)(h))):t.interpolate(h),a){const[m,_]=qe(s);(m>0||_<0)&&(s=Cd(s),Pa(s)!==Math.sign(m)?s[s.length-1]=0:s[0]=0)}return p&&(s=Lc(s)),t.domain(s).unknown(c),i&&(t.nice(CM(i,r)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:f}}function CM(e,t){return e===!0?void 0:typeof e=="number"?e:U7(e,t)}function RM(e,t,n){return ts(e,wh(),t,n)}function NM(e,t,n){return a2(e,t,{...n,exponent:.5})}function a2(e,t,{exponent:n=1,...r}){return ts(e,Ly().exponent(n),t,{...r,type:"pow"})}function PM(e,t,{base:n=10,domain:r=HM(t),...i}){return ts(e,Ny().base(n),t,{...i,domain:r})}function OM(e,t,{constant:n=1,...r}){return ts(e,Oy().constant(n),t,r)}function DM(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=zM(t),unknown:s,interpolate:c,reverse:u}){return n===void 0&&(n=c!==void 0?tn(c,i):Me.get(e)===Sn?sl(o,i):void 0),a.length>0&&(a=$y(a,n===void 0?{length:i}:n).quantiles()),Hh(e,t,{domain:a,range:n,reverse:u,unknown:s})}function LM(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=s2(e,t),unknown:a,interpolate:s,reverse:c}){const[u,l]=qe(o);let f;return n===void 0?(f=Zi(u,l,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=s!==void 0?tn(s,r):Me.get(e)===Sn?sl(i,r):void 0):(f=tn(tt(u,l),r+1).slice(1,-1),u instanceof Date&&(f=f.map(d=>new Date(d)))),Pa(Tn(o))<0&&f.reverse(),Hh(e,t,{domain:f,range:n,reverse:c,unknown:a})}function Hh(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?tn(o,n.length+1):Me.get(e)===Sn?sl(i,n.length+1):void 0,reverse:s}){n=Tn(n);const c=Pa(n);if(!isNaN(c)&&!$M(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Lc(a)),{type:"threshold",scale:Uy(c<0?Lc(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function $M(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=Wa(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function UM(){return{type:"identity",scale:Ay()}}function Da(e,t=Fv){return e.length?[Xn(e,({value:n})=>n===void 0?n:Xn(n,t)),en(e,({value:n})=>n===void 0?n:en(n,t))]:[0,1]}function s2(e,t){const n=Me.get(e);return(n===el||n===nl||n===tl?FM:Da)(t)}function FM(e){return[0,e.length?en(e,({value:t})=>t===void 0?t:en(t,Fv)):1]}function BM(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Qi(e,.5,({value:a})=>a===void 0?NaN:Qi(a,.25,es)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/en(i);return o<1?i.map(a=>a*o):i}function qM(e,t){const n=dr(e,({value:o})=>o===void 0?NaN:dr(o,Math.abs)),r=t.map(o=>12*o/n),i=60/en(r);return i<1?r.map(o=>o*i):r}function HM(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Da(e,es);if(n<0)return Da(e,Ku)}return[1,10]}function zM(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function zh(e){return(t,n)=>r=>e(t+r*(n-t))}function cl(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=Da(r),unknown:c,pivot:u=0,scheme:l,range:f,symmetric:d=!0,interpolate:h=Me.get(e)===Sn?l==null&&f!==void 0?Qr:qh(l!==void 0?l:"rdbu"):tt,reverse:p}){u=+u;let[m,_]=s;if(Wa(m,_)<0&&([m,_]=[_,m],p=!p),m=Math.min(m,u),_=Math.max(_,u),typeof h!="function"&&(h=o2(h)),f!==void 0&&(h=h.length===1?zh(h)(...f):lh(h,f)),p&&(h=i2(h)),d){const w=n.apply(u),b=w-n.apply(m),g=n.apply(_)-w;b<g?m=n.invert(w-g):b>g&&(_=n.invert(w+b))}return t.domain([m,u,_]).unknown(c).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[m,_],pivot:u,interpolate:h,scale:t}}function WM(e,t,n){return cl(e,t_(),XM,t,n)}function GM(e,t,n){return c2(e,t,{...n,exponent:.5})}function c2(e,t,{exponent:n=1,...r}){return cl(e,i_().exponent(n=+n),JM(n),t,{...r,type:"diverging-pow"})}function VM(e,t,{base:n=10,pivot:r=1,domain:i=Da(t,r<0?Ku:es),...o}){return cl(e,n_().base(n=+n),jM,t,{domain:i,pivot:r,...o})}function YM(e,t,{constant:n=1,...r}){return cl(e,r_().constant(n=+n),ZM(n),t,r)}const XM={apply(e){return e},invert(e){return e}},jM={apply:Math.log,invert:Math.exp},KM={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function JM(e){return e===.5?KM:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function ZM(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function u2(e,t,n,r){return ts(e,t,n,r)}function QM(e,t,n){return u2(e,PS(),t,n)}function e9(e,t,n){return u2(e,OS(),t,n)}const ns=Symbol("ordinal");function l2(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:c}){return i=Io(i,r),o===void 0&&(o=d2(n,i,e)),(r==="categorical"||r===ns)&&(r="ordinal"),s&&(o=Lc(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:c,interval:i}}function t9(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...c}){r=Io(r,n),i===void 0&&(i=d2(t,r,e));let u;if(Me.get(e)===rl)u=i9(t),o=o===void 0?o9(u):Ze(o,Uh);else if(Me.get(e)===Sn&&(o===void 0&&(n==="ordinal"||n===ns)&&(o=kM(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const l=qh(a),f=o[0],d=o[1]-o[0];o=({length:h})=>tn(p=>l(f+d*p),h)}else o=r2(a);if(s===xd)throw new Error(`implicit unknown on ${e} scale is not supported`);return l2(e,vh().unknown(s),t,{...c,type:n,domain:i,range:o,hint:u})}function n9(e,t,{align:n=.5,padding:r=.5,...i}){return f2(pT().align(n).padding(r),t,i,e)}function r9(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return f2($u().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function f2(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=l2(r,e,t,n),e.round=i,e}function d2(e,t,n){const r=new eh;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=qe(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&Me.get(n)===gn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Ji(r,Sr)}function mm(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function i9(e){return{fill:mm(e,"fill"),stroke:mm(e,"stroke")}}function o9(e){return Mt(e.fill)?u7:c7}function Od(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,facet:{label:p=t}={},...m}={}){const _={};for(const[w,b]of e){const g=m[w],y=m2(w,b,{round:Me.get(w)===gn?s:void 0,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,...g});if(y){let{label:v=w==="fx"||w==="fy"?p:t,percent:x,transform:T,inset:M,insetTop:R=M!==void 0?M:w==="y"?r:0,insetRight:O=M!==void 0?M:w==="x"?i:0,insetBottom:A=M!==void 0?M:w==="y"?o:0,insetLeft:N=M!==void 0?M:w==="x"?a:0}=g||{};if(T==null)T=void 0;else if(typeof T!="function")throw new Error("invalid scale transform; not a function");y.percent=!!x,y.label=v===void 0?s9(b,y):v,y.transform=T,w==="x"||w==="fx"?(y.insetLeft=+N,y.insetRight=+O):(w==="y"||w==="fy")&&(y.insetTop=+R,y.insetBottom=+A),_[w]=y}}return _}function bm(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:o}])=>(n.type=r,i!=null&&(n.interval=i),o!=null&&(n.label=o),[t,n])))}function a9(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Wh(t):t;i&&ym(i,a),o&&_m(o,a);const s=i||o?h2(e,t):t;n&&ym(n,s),r&&_m(r,s)}function s9(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(b2(t)&&/^(date|time|year)$/i.test(n)))return!fi(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Wh(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:u,marginLeft:l}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:o,height:a}}function h2({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Wh(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:c}}function ym(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,c=i-a-r;e.range=[s,Math.max(s,c)],fi(e)||(e.range=g2(e)),e.scale.range(e.range)}p2(e)}function _m(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,c=i-a-r;e.range=[Math.max(s,c),s],fi(e)?e.range.reverse():e.range=g2(e),e.scale.range(e.range)}p2(e)}function p2(e){e.round===void 0&&l9(e)&&c9(e)<=30&&e.scale.round(!0)}function c9({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function g2(e){const t=e.scale.domain().length+y2(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function vm(e,t,n){return m2(e,n===void 0?void 0:[{hint:n}],{...t})}function m2(e,t=[],n={}){const r=u9(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&fi({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ct)?Yi(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ni(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Ni(r)}".`):i.some(q7)?Yi(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ni(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Ni(r)}".`):i.some(H7)&&Yi(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ni(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Ni(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=uc(t,n,ho);break;case"identity":switch(Me.get(e)){case gn:n=uc(t,n,ho);break;case rl:n=uc(t,n,f9);break}break;case"utc":case"time":n=uc(t,n,D7);break}switch(r){case"diverging":return WM(e,t,n);case"diverging-sqrt":return GM(e,t,n);case"diverging-pow":return c2(e,t,n);case"diverging-log":return VM(e,t,n);case"diverging-symlog":return YM(e,t,n);case"categorical":case"ordinal":case ns:return t9(e,t,n);case"cyclical":case"sequential":case"linear":return RM(e,t,n);case"sqrt":return NM(e,t,n);case"threshold":return Hh(e,t,n);case"quantile":return DM(e,t,n);case"quantize":return LM(e,t,n);case"pow":return a2(e,t,n);case"log":return PM(e,t,n);case"symlog":return OM(e,t,n);case"utc":return e9(e,t,n);case"time":return QM(e,t,n);case"point":return n9(e,t,n);case"band":return r9(e,t,n);case"identity":return Me.get(e)===gn?UM():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Ni(e){return typeof e=="symbol"?e.description:e}const wm={toString:()=>"projection"};function u9(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=wm);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===wm)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Me.get(e);if(c===el)return"sqrt";if(c===nl||c===tl)return"linear";if(c===rl)return"ordinal";if((r||i||[]).length>2)return xf(c);if(r!==void 0)return im(r)?xf(c):Ct(r)?"utc":c===Sn&&(a!=null||pm(o))?"diverging":"linear";const u=t.map(({value:l})=>l).filter(l=>l!==void 0);return u.some(im)?xf(c):u.some(Ct)?"utc":c===Sn&&(a!=null||pm(o))?"diverging":"linear"}function xf(e){switch(e){case gn:return"point";case Sn:return ns;default:return"ordinal"}}function b2({type:e}){return e==="time"||e==="utc"}function fi({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===ns}function y2({type:e}){return e==="threshold"}function l9({type:e}){return e==="point"||e==="band"}function go(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function uc(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function f9(e){return Ze(e,Uh)}function d9(e){return t=>{if(!Me.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?h9(e[t]):void 0}}function h9({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:Cd(n),...r!==void 0&&{range:Cd(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}function p9(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,t=e(...r)),t)}const g9=p9(e=>new Intl.NumberFormat(e));function m9(e="en-US"){const t=g9(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function _2(e){return G1(e,"Invalid Date")}function b9(e="en-US"){const t=m9(e);return n=>(n instanceof Date?_2:typeof n=="number"?t:Jt)(n)}const ul=b9(),Et=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let y9=0;function xm(){return`plot-clip-${++y9}`}function _9(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:u,strokeWidth:l,strokeOpacity:f,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:_,opacity:w,mixBlendMode:b,paintOrder:g,pointerEvents:y,shapeRendering:v},{ariaLabel:x,fill:T="currentColor",fillOpacity:M,stroke:R="none",strokeOpacity:O,strokeWidth:A,strokeLinecap:N,strokeLinejoin:C,strokeMiterlimit:k,paintOrder:I}){T===null&&(s=null,c=null),R===null&&(u=null,f=null),Mt(T)?!Mt(R)&&!Mt(s)&&(R="none"):Mt(R)&&!Mt(u)&&(T="none");const[L,F]=Mr(s,T),[W,V]=pt(c,M),[K,re]=Mr(u,R),[j,we]=pt(f,O),[q,ce]=pt(w);Na(re)||(l===void 0&&(l=A),h===void 0&&(h=N),d===void 0&&(d=C),p===void 0&&!G7(d)&&(p=k),!Na(F)&&g===void 0&&(g=I));const[Ae,bt]=pt(l);return T!==null&&(e.fill=ft(F,"currentColor"),e.fillOpacity=jo(V,1)),R!==null&&(e.stroke=ft(re,"none"),e.strokeWidth=jo(bt,1),e.strokeOpacity=jo(we,1),e.strokeLinejoin=ft(d,"miter"),e.strokeLinecap=ft(h,"butt"),e.strokeMiterlimit=jo(p,4),e.strokeDasharray=ft(m,"none"),e.strokeDashoffset=ft(_,"0")),e.target=Jt(a),e.ariaLabel=Jt(x),e.ariaDescription=Jt(i),e.ariaHidden=Jt(o),e.opacity=jo(ce,1),e.mixBlendMode=ft(b,"normal"),e.paintOrder=ft(g,"normal"),e.pointerEvents=ft(y,"auto"),e.shapeRendering=ft(v,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:L,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:K,scale:"auto",optional:!0},strokeOpacity:{value:j,scale:"auto",optional:!0},strokeWidth:{value:Ae,optional:!0},opacity:{value:q,scale:"auto",optional:!0}}}function v9(e,t){t&&e.filter(n=>Ch(t[n])).append("title").call(x9,t)}function w9(e,t){t&&e.filter(([n])=>Ch(t[n])).append("title").call(E9,t)}function x9(e,t){t&&e.text(n=>ul(t[n]))}function E9(e,t){t&&e.text(([n])=>ul(t[n]))}function Rr(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&oe(e,"aria-label",f=>n[f]),i&&oe(e,"fill",f=>i[f]),o&&oe(e,"fill-opacity",f=>o[f]),a&&oe(e,"stroke",f=>a[f]),s&&oe(e,"stroke-opacity",f=>s[f]),c&&oe(e,"stroke-width",f=>c[f]),u&&oe(e,"opacity",f=>u[f]),l&&v2(e,f=>l[f],t),v9(e,r)}function T9(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&oe(e,"aria-label",([f])=>n[f]),i&&oe(e,"fill",([f])=>i[f]),o&&oe(e,"fill-opacity",([f])=>o[f]),a&&oe(e,"stroke",([f])=>a[f]),s&&oe(e,"stroke-opacity",([f])=>s[f]),c&&oe(e,"stroke-width",([f])=>c[f]),u&&oe(e,"opacity",([f])=>u[f]),l&&v2(e,([f])=>l[f],t),w9(e,r)}function S9({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:c}){return[e,t,n,r,i,o,a,s,c].filter(u=>u!==void 0)}function M9(e,t,n){const r=ku(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&Yi("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*I9(e,t,{z:n},r){const{z:i}=r,o=S9(r),a=[...t,...o];for(const s of i?M9(e,i,n):[e]){let c,u;e:for(const l of s){for(const f of a)if(!fo(f[l])){u&&u.push(-1);continue e}if(c===void 0){u&&(yield u),c=o.map(f=>gf(f[l])),u=[l];continue}u.push(l);for(let f=0;f<o.length;++f)if(gf(o[f][l])!==c[f]){yield u,c=o.map(h=>gf(h[l])),u=[l];continue e}}u&&(yield u)}}function k9(e){return e===!0?e="frame":e===!1&&(e=null),Wv(e,"clip",["frame","sphere"])}function A9(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:o,height:a,marginLeft:s,marginRight:c,marginTop:u,marginBottom:l}=n,f=xm();i=`url(#${f})`,e=Ye("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",f).append("rect").attr("x",s).attr("y",u).attr("width",o-c-s).attr("height",a-u-l)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const a=xm();i=`url(#${a})`,e.append("clipPath").attr("id",a).append("path").attr("d",Xa(o)({type:"Sphere"}));break}}oe(e,"aria-label",t.ariaLabel),oe(e,"aria-description",t.ariaDescription),oe(e,"aria-hidden",t.ariaHidden),oe(e,"clip-path",i)}function An(e,t,n,r){A9(e,t,n,r),oe(e,"fill",t.fill),oe(e,"fill-opacity",t.fillOpacity),oe(e,"stroke",t.stroke),oe(e,"stroke-width",t.strokeWidth),oe(e,"stroke-opacity",t.strokeOpacity),oe(e,"stroke-linejoin",t.strokeLinejoin),oe(e,"stroke-linecap",t.strokeLinecap),oe(e,"stroke-miterlimit",t.strokeMiterlimit),oe(e,"stroke-dasharray",t.strokeDasharray),oe(e,"stroke-dashoffset",t.strokeDashoffset),oe(e,"shape-rendering",t.shapeRendering),oe(e,"paint-order",t.paintOrder),oe(e,"pointer-events",t.pointerEvents)}function Cn(e,t){C9(e,"mix-blend-mode",t.mixBlendMode),oe(e,"opacity",t.opacity)}function v2(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(eo.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(eo.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function oe(e,t,n){n!=null&&e.attr(t,n)}function C9(e,t,n){n!=null&&e.style(t,n)}function Rn(e,t,{x:n,y:r},i=Et,o=Et){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function ft(e,t){if((e=Jt(e))!==t)return e}function jo(e,t){if((e=Ee(e))!==t)return e}const R9=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Gh(e){if(e===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(e=`${e}`,!R9.test(e))throw new Error(`invalid class name: ${e}`);return e}function Vh(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Yh({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}function N9(e,t,n={}){let r=.5-Et,i=.5+Et,o=.5+Et,a=.5-Et;for(const{marginTop:m,marginRight:_,marginBottom:w,marginLeft:b}of t)m>r&&(r=m),_>i&&(i=_),w>o&&(o=w),b>a&&(a=b);let{margin:s,marginTop:c=s!==void 0?s:r,marginRight:u=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:f=s!==void 0?s:a}=n;c=+c,u=+u,l=+l,f=+f;let{width:d=640,height:h=P9(e,t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+l-o)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:c,marginRight:u,marginBottom:l,marginLeft:f};if(e.fx||e.fy){let{margin:m,marginTop:_=m!==void 0?m:c,marginRight:w=m!==void 0?m:u,marginBottom:b=m!==void 0?m:l,marginLeft:g=m!==void 0?m:f}=n.facet??{};_=+_,w=+w,b=+b,g=+g,p.facet={marginTop:_,marginRight:w,marginBottom:b,marginLeft:g}}return p}function P9({x:e,y:t,fy:n,fx:r},i,{projection:o,aspectRatio:a},{width:s,marginTopDefault:c,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:f}){const d=n?n.scale.domain().length:1,h=MM(o,i);if(h){const m=r?r.scale.domain().length:1,_=(1.1*d-.1)/(1.1*m-.1)*h,w=Math.max(.1,Math.min(10,_));return Math.round((s-f-u)*w+c+l)}const p=t?fi(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Em("y",t)/(Em("x",e)*a),_=r?r.scale.bandwidth():1,w=n?n.scale.bandwidth():1,b=_*(s-f-u)-e.insetLeft-e.insetRight;return(m*b+t.insetTop+t.insetBottom)/w+c+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Em(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=c=>Math.pow(c,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=qe(r);return Math.abs(i(a)-i(o))}function O9(e,t){const{fx:n,fy:r}=Od(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?W3(i,o).map(([a,s],c)=>({x:a,y:s,i:c})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function D9({x:e,y:t}){const n=e&&new Map(e.map((i,o)=>[i,o])),r=t&&new Map(t.map((i,o)=>[i,o]));return e&&t?(i,o)=>n.get(i.x)-n.get(o.x)||r.get(i.y)-r.get(o.y):e?(i,o)=>n.get(i.x)-n.get(o.x):(i,o)=>r.get(i.y)-r.get(o.y)}function Xh(e,{fx:t,fy:n}){const r=Ar(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Gr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Gr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Gr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function L9(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function $9(e){const t=[],n=new Uint32Array(qt(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const U9=new Map([["top",Ef],["right",Mf],["bottom",Tf],["left",Sf],["top-left",lc(Ef,Sf)],["top-right",lc(Ef,Mf)],["bottom-left",lc(Tf,Sf)],["bottom-right",lc(Tf,Mf)],["top-empty",B9],["right-empty",z9],["bottom-empty",q9],["left-empty",H9],["empty",W9]]);function F9(e){if(e==null)return null;const t=U9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function Ef(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function Tf(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function Sf(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function Mf(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function B9(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function q9(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function H9(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function z9(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function W9(e,t,{empty:n}){return n}function lc(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function If(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function w2(e){return fi(e)&&e.interval===void 0?void 0:"tabular-nums"}function G9(e,t){return e===void 0?Ct(t)?_2:Jt:typeof e=="function"?e:(typeof e=="string"?Ct(t)?zu:ht:So)(e)}function V9(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:c=16+r,marginLeft:u=0,style:l,ticks:f=(i-u-s)/64,tickFormat:d,fontVariant:h=w2(e),round:p=!0,opacity:m,className:_}=t;const w=al(t);_=Gh(_),m=pt(m)[1],d===null&&(d=()=>null);const b=Ye("svg",w).attr("class",_).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(N=>N.append("style").text(`
        .${_} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${_} text {
          white-space: pre;
        }
      `)).call(Vh,l);let g=N=>N.selectAll(".tick line").attr("y1",a+c-o),y;const v=p?(N,C)=>N.rangeRound(C):(N,C)=>N.range(C),{type:x,domain:T,range:M,interpolate:R,scale:O,pivot:A}=e;if(R){const N=M===void 0?R:lh(R.length===1?zh(R):R,M);y=v(O.copy(),tn(tt(u,i-s),Math.min(T.length+(A!==void 0),M===void 0?1/0:M.length)));const C=256,k=w.document.createElement("canvas");k.width=C,k.height=1;const I=k.getContext("2d");for(let L=0,F=C-1;L<C;++L)I.fillStyle=N(L/F),I.fillRect(L,0,1,1);b.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",k.toDataURL())}else if(x==="threshold"){const N=T,C=d===void 0?k=>k:typeof d=="string"?ht(d):d;y=v(wh().domain([-1,M.length-1]),[u,i-s]),b.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",(k,I)=>y(I-1)).attr("y",a).attr("width",(k,I)=>y(I)-y(I-1)).attr("height",o-a-c).attr("fill",k=>k),f=Ze(N,(k,I)=>I),d=k=>C(N[k],k)}else y=v($u().domain(T),[u,i-s]),b.append("g").attr("fill-opacity",m).selectAll().data(T).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-c).attr("fill",O),g=()=>{};return b.append("g").attr("transform",`translate(0,${o-c})`).call(px(y).ticks(Array.isArray(f)?null:f,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ft(h,"normal")).call(g).call(N=>N.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}function Tm(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Y9(e,{opacity:t,...n}={}){if(!fi(e)&&!y2(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return x2(e,n,(r,i)=>r.append("svg").attr("fill",i.scale).attr("fill-opacity",pt(t)[1]).append("rect").attr("width","100%").attr("height","100%"),r=>`.${r}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function X9(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=e.hint)==null?void 0:l.stroke)()!==void 0?e.hint.stroke:Mt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[f,d]=Mr(t),[h,p]=Mr(r),m=Tm(c,f),_=Tm(c,h),w=a*a*Math.PI;return n=pt(n)[1],i=pt(i)[1],o=pt(o)[1],x2(e,s,b=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",f==="color"?g=>m.scale(g):null).attr("stroke",h==="color"?g=>_.scale(g):null).append("path").attr("d",g=>{const y=Wr();return e.scale(g).draw(y,w),y}),b=>`.${b}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${d};
        fill-opacity: ${n};
        stroke: ${p};
        stroke-width: ${o}px;
        stroke-opacity: ${i};
      }`)}function x2(e,t={},n,r){let{columns:i,tickFormat:o,fontVariant:a=w2(e),swatchSize:s=15,swatchWidth:c=s,swatchHeight:u=s,marginLeft:l=0,className:f,style:d,width:h}=t;const p=al(t);f=Gh(f),o=G9(o,e.domain);const m=Ye("div",p).attr("class",f).attr("style",`
        --swatchWidth: ${+c}px;
        --swatchHeight: ${+u}px;
      `);let _;return i!=null?(_=`
      .${f}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${f}-swatch::before {
        flex-shrink: 0;
      }
      .${f}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,m.style("columns",i).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e).call(w=>w.append("div").attr("class",`${f}-label`).attr("title",o).text(o))):(_=`
      .${f} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${f}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,m.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),m.call(w=>w.insert("style","*").text(`
        .${f} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${l===void 0?"":`
          margin-left: ${+l}px;`}${h===void 0?"":`
          width: ${h}px;`}
        }
        ${r(f)}
        ${_}
      `)).style("font-variant",ft(a,"normal")).call(Vh,d).node()}const pu=new Map([["symbol",X9],["color",E2],["opacity",J9]]);function j9(e={}){for(const[t,n]of pu){const r=e[t];if(Vi(r)){const i=al(e);let o;if(t==="symbol"){const{fill:a,stroke:s=a===void 0&&Vi(e.color)?"color":void 0}=e;o={fill:a,stroke:s}}return n(vm(t,r,o),jh(i,r,e),a=>Vi(e[a])?vm(a,e[a]):null)}}throw new Error("unknown legend type; no scale found")}function K9(e,t,n={}){return(r,i)=>{if(!pu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return pu.get(r)(e[r],jh(t,n[r],i),o=>e[o])}}function jh(e,{label:t,ticks:n,tickFormat:r}={},i){return V7(i,e,{label:t,ticks:n,tickFormat:r})}function E2(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Y9(e,n);case"ramp":return V9(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function J9({type:e,interpolate:t,...n},{legend:r=!0,color:i=Er(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return E2({type:e,...n,interpolate:Z9(i)},{legend:r,...o})}function Z9(e){const{r:t,g:n,b:r}=Er(e)||Er(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Q9(e,t,n){const r=[];for(const[i,o]of pu){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],jh(t,e[i],a),c=>e[c]);s!=null&&r.push(s)}}return r}class Nt{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:c,sort:u,dx:l=0,dy:f=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:m=d,marginLeft:_=d,clip:w,channels:b}=r;if(this.data=t,this.sort=po(u)?u:null,this.initializer=ol(r).initializer,this.transform=this.initializer?r.transform:il(r).transform,o===null||o===!1?this.facet=null:(this.facet=Qn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=s,this.fy=c),this.facetAnchor=F9(a),n=om(n),b!==void 0&&(n={...om(b),...n}),i!==void 0&&(n={..._9(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([g,y])=>{const{value:v}=y;return Ju(v)&&(y={...y,value:v.value},v.scale!==void 0&&(y.scale=v.scale)),[g,y]}).filter(([g,{value:y,optional:v}])=>{if(y!=null)return!0;if(v)return!1;throw new Error(`missing channel value: ${g}`)})),this.dx=+l,this.dy=+f,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+_,this.clip=k9(w),this.facet==="super"){if(s||c)throw new Error("super-faceting cannot use fx or fy");for(const g in this.channels){const{scale:y}=n[g];if(!(y!=="x"&&y!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=Tn(this.data);t===void 0&&r!=null&&(t=[Ar(r)]);const i=t;this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=Tn(r)),t!==void 0&&(t.original=i);const o=pM(this.channels,r);return this.sort!=null&&mM(r,t,o,n,this.sort),{data:r,facets:t,channels:o}}filter(t,n,r){for(const i in n){const{filter:o=fo}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){vf("x","y",t,n,r),vf("x1","y1",t,n,r),vf("x2","y2",t,n,r)}scale(t,n,r){const i=gM(t,n);return r.projection&&this.project(t,i,r),i}}function T2(...e){return e.plot=Nt.prototype.plot,e}const S2=Math.PI/180;function Kh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=I2(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function M2({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=I2(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function I2(e,t,n){return e===void 0&&t===void 0&&n===void 0?Et?[1,0]:[.5,.5]:[t,n]}function k2(e,{interval:t}){return e={...Zu(e)},e.interval=Oh(e.interval===void 0?t:e.interval),e}function A2(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:c}=k2(i,n);if(s==null||c==null&&!r)return n;const u=li(i);if(c==null){let h;const p={transform:m=>h||(h=We(m,s)),label:u};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0?p:a}}let l,f;function d(h){return f!==void 0&&h===l?f:f=Ze(We(l=h,s),p=>c.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:u}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(p=>c.offset(p)),label:u}:a})}function C2(e,t,n){const{[e]:r}=n,{value:i,interval:o}=k2(r,n);return i==null||o==null?n:t({...n,[e]:{label:li(r),transform:a=>{const s=Ze(We(a,i),u=>o.floor(u)),c=s.map(u=>o.offset(u));return s.map(Ct(s)?(u,l)=>u==null||isNaN(u=+u)||(l=c[l],l==null)||isNaN(l=+l)?void 0:new Date((u+l)/2):(u,l)=>u==null||(l=c[l],l==null)?NaN:(+u+ +l)/2)}}})}function eI(e={}){return A2("x",Kh,e)}function R2(e={}){return A2("y",M2,e)}function tI(e={}){return C2("x",Kh,e)}function nI(e={}){return C2("y",M2,e)}const N2={ariaLabel:"rule",fill:null,stroke:"currentColor"};class rI extends Nt{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:c=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,N2),this.insetTop=Ee(s),this.insetBottom=Ee(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y1:u,y2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:_}=i,{insetTop:w,insetBottom:b}=this;return Ye("svg:g",o).call(An,this,i).call(Rn,this,{x:c&&a},Et,0).call(g=>g.selectAll().data(t).enter().append("line").call(Cn,this).attr("x1",c?y=>c[y]:(m+f-p)/2).attr("x2",c?y=>c[y]:(m+f-p)/2).attr("y1",u&&!go(s)?y=>u[y]+w:h+w).attr("y2",l&&!go(s)?s.bandwidth?y=>l[y]+s.bandwidth()-b:y=>l[y]-b:d-_-b).call(Rr,this,r)).node()}}class iI extends Nt{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:c=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,N2),this.insetRight=Ee(s),this.insetLeft=Ee(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:c,x1:u,x2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:_}=i,{insetLeft:w,insetRight:b}=this;return Ye("svg:g",o).call(An,this,i,o).call(Rn,this,{y:c&&s},0,Et).call(g=>g.selectAll().data(t).enter().append("line").call(Cn,this).attr("x1",u&&!go(a)?y=>u[y]+w:m+w).attr("x2",l&&!go(a)?a.bandwidth?y=>l[y]+a.bandwidth()-b:y=>l[y]-b:f-p-b).attr("y1",c?y=>c[y]:(h+d-_)/2).attr("y2",c?y=>c[y]:(h+d-_)/2).call(Rr,this,r)).node()}}function oI(e,t){let{x:n=mt,y:r,y1:i,y2:o,...a}=R2(t);return[i,o]=P2(r,i,o),new rI(e,{...a,x:n,y1:i,y2:o})}function Ui(e,t){let{y:n=mt,x:r,x1:i,x2:o,...a}=eI(t);return[i,o]=P2(r,i,o),new iI(e,{...a,y:n,x1:i,x2:o})}function P2(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Jh(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const aI={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},O2="­";let Zh=class extends Nt{constructor(t,n={}){const{x:r,y:i,text:o=Cr(t)&&B7(t)?mt:Hv,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:l=1/0,textOverflow:f,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:_,fontWeight:w,rotate:b}=n,[g,y]=pt(b,0),[v,x]=hI(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:F7(g),optional:!0},text:{value:o,filter:Ch,optional:!0}},n,aI),this.rotate=y,this.textAnchor=ft(s,"middle"),this.lineAnchor=Qn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+l,this.textOverflow=sI(f),this.monospace=!!d,this.fontFamily=Jt(h),this.fontSize=x,this.fontStyle=Jt(m),this.fontVariant=Jt(_),this.fontWeight=Jt(w),this.frameAnchor=Dh(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=mI(this),this.clipLine=bI(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,rotate:l,text:f,title:d,fontSize:h}=r,{rotate:p}=this,[m,_]=Yh(this,i);return Ye("svg:g",o).call(An,this,i,o).call(lI,this,f,i).call(Rn,this,{x:c&&a,y:u&&s}).call(w=>w.selectAll().data(t).enter().append("text").call(Cn,this).call(cI,this,f,d).attr("transform",Jh`translate(${c?b=>c[b]:m},${u?b=>u[b]:_})${l?b=>` rotate(${l[b]})`:p?` rotate(${p})`:""}`).call(oe,"font-size",h&&(b=>h[b])).call(Rr,this,r)).node()}};function sI(e){return e==null?null:Qn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function cI(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=t;e.each(function(u){const l=s(ul(n[u])??"").map(c),f=l.length,d=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1)for(let h=0;h<f;++h){if(!l[h])continue;const p=this.ownerDocument.createElementNS(eo.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(d+h)*o}em`),p.textContent=l[h],this.appendChild(p)}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==n[u]){const h=this.ownerDocument.createElementNS(eo.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function Qh(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=Ph(n,r)),new Zh(e,{...i,x:n,y:r})}function uI(e,t={}){const{x:n=mt,...r}=t;return new Zh(e,nI({...r,x:n}))}function Un(e,t={}){const{y:n=mt,...r}=t;return new Zh(e,tI({...r,y:n}))}function lI(e,t,n){oe(e,"text-anchor",t.textAnchor),oe(e,"font-family",t.fontFamily),oe(e,"font-size",t.fontSize),oe(e,"font-style",t.fontStyle),oe(e,"font-variant",t.fontVariant===void 0?fI(n):t.fontVariant),oe(e,"font-weight",t.fontWeight)}function fI(e){return z7(e)||Ct(e)?"tabular-nums":void 0}const dI=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function hI(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),dI.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function pI(e,t,n){const r=[];let i,o=0;for(const[a,s,c]of gI(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===O2?"-":"")),i=a),c){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*gI(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case O2:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Sm={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function D2(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=ko(e,i))r+=Sm[e[i]]??(U2(e,i)?120:Sm.e);return r}function L2(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=ko(e,i))r+=U2(e,i)?200:100;return r}function mI({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?L2:D2,i=t*100;return o=>pI(o,i,r)}function bI({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?L2:D2,i=t*100;switch(n){case"clip-start":return o=>Im(o,i,r,"");case"clip-end":return o=>Mm(o,i,r,"");case"ellipsis-start":return o=>Im(o,i,r,"…");case"ellipsis-middle":return o=>yI(o,i,r,"…");case"ellipsis-end":return o=>Mm(o,i,r,"…")}}function gu(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,c=e.length;a<c;a=s){s=ko(e,a);const u=n(e,a,s);if(o+u>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=u,i.push(a)}return[-1,0]}function Mm(e,t,n,r){e=e.trim();const i=n(r),[o]=gu(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function yI(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=gu(e,t/2,n,o),[c]=gu(e,i-t/2-s+o,n,-o);return c<0?r:e.slice(0,a).trimEnd()+r+e.slice(ko(e,c)).trimStart()}function Im(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=gu(e,i-t+o,n,-o);return a<0?r:r+e.slice(ko(e,a)).trimStart()}const Dd=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,km=/\p{Extended_Pictographic}/uy;function ko(e,t){return t+=_I(e,t)?2:1,wI(e,t)&&(t=Dd.lastIndex),vI(e,t)?ko(e,t+1):t}function $2(e,t){return e.charCodeAt(t)<128}function _I(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function vI(e,t){return e.charCodeAt(t)===8205}function wI(e,t){return $2(e,t)?!1:(Dd.lastIndex=t,Dd.test(e))}function U2(e,t){return $2(e,t)?!1:(km.lastIndex=t,km.test(e))}const xI={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},F2=3.5,EI=F2*5,B2={draw(e,t,n){const r=t*n/EI;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},TI={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},SI=new Map([["arrow",B2],["spike",TI]]);function MI(e){return e&&typeof e.draw=="function"}function II(e){if(MI(e))return e;const t=SI.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class q2 extends Nt{constructor(t,n={}){const{x:r,y:i,r:o=F2,length:a,rotate:s,shape:c=B2,anchor:u="middle",frameAnchor:l}=n,[f,d]=pt(a,12),[h,p]=pt(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,xI),this.r=+o,this.length=d,this.rotate=p,this.shape=II(c),this.anchor=Qn(u,"anchor",["start","middle","end"]),this.frameAnchor=Dh(l)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,length:l,rotate:f}=r,{length:d,rotate:h,anchor:p,shape:m,r:_}=this,[w,b]=Yh(this,i);return Ye("svg:g",o).call(An,this,i,o).call(Rn,this,{x:c&&a,y:u&&s}).call(g=>g.selectAll().data(t).enter().append("path").call(Cn,this).attr("transform",Jh`translate(${c?y=>c[y]:w},${u?y=>u[y]:b})${f?y=>` rotate(${f[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?l?y=>` translate(0,${l[y]})`:` translate(0,${d})`:l?y=>` translate(0,${l[y]/2})`:` translate(0,${d/2})`}`).attr("d",l?y=>{const v=Wr();return m.draw(v,l[y],_),v}:(()=>{const y=Wr();return m.draw(y,d,_),y})()).call(Rr,this,r)).node()}}function kI(e,t={}){const{x:n=mt,...r}=t;return new q2(e,{...r,x:n})}function AI(e,t={}){const{y:n=mt,...r}=t;return new q2(e,{...r,y:n})}function Nr(e,t){return arguments.length<2&&!Cr(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function ll({anchor:e}={},t){return e===void 0?t[0]:Qn(e,"anchor",t)}function H2(e){return ll(e,["left","right"])}function z2(e){return ll(e,["right","left"])}function W2(e){return ll(e,["bottom","top"])}function G2(e){return ll(e,["top","bottom"])}function V2(){const[e,t]=Nr(...arguments);return X2("y",H2(t),e,t)}function CI(){const[e,t]=Nr(...arguments);return X2("fy",z2(t),e,t)}function Y2(){const[e,t]=Nr(...arguments);return j2("x",W2(t),e,t)}function RI(){const[e,t]=Nr(...arguments);return j2("fx",G2(t),e,t)}function X2(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:_,x:w,marginTop:b=20,marginRight:g=t==="right"?40:0,marginBottom:y=20,marginLeft:v=t==="left"?40:0,label:x,labelOffset:T,labelAnchor:M,...R}){return p=Ee(p),m=Ee(m),_=Ee(_),M!==void 0&&(M=Qn(M,"labelAnchor",["center","top","bottom"])),T2(p&&!Mt(o)?NI(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:_,x:w,...R}):null,Mt(c)?null:OI(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:_,x:w,marginTop:b,marginRight:g,marginBottom:y,marginLeft:v,...R}),!Mt(c)&&x!==null?Qh([],{fill:c,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(O,A,N,C,k){const I=C[e],{marginTop:L,marginRight:F,marginBottom:W,marginLeft:V}=e==="y"&&k.inset||k,K=M??(I.bandwidth?"center":"top"),re=T??(t==="right"?F:V)-3;return K==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=K,this.frameAnchor=`${K}-${t}`,this.rotate=0),this.dy=K==="top"?3-L:K==="bottom"?W-3:0,this.dx=t==="right"?re:-re,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?tw(e,I,K):x]}}}}}):null)}function j2(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:_,y:w,marginTop:b=t==="top"?30:0,marginRight:g=20,marginBottom:y=t==="bottom"?30:0,marginLeft:v=20,label:x,labelAnchor:T,labelOffset:M,...R}){return p=Ee(p),m=Ee(m),_=Ee(_),T!==void 0&&(T=Qn(T,"labelAnchor",["center","left","right"])),T2(p&&!Mt(o)?PI(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:_,y:w,...R}):null,Mt(c)?null:DI(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:_,y:w,marginTop:b,marginRight:g,marginBottom:y,marginLeft:v,...R}),!Mt(c)&&x!==null?Qh([],{fill:c,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(O,A,N,C,k){const I=C[e],{marginTop:L,marginRight:F,marginBottom:W,marginLeft:V}=e==="x"&&k.inset||k,K=T??(I.bandwidth?"center":"right"),re=M??(t==="top"?L:W)-3;return K==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${K}`,this.textAnchor=K==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-re:re,this.dx=K==="right"?F-3:K==="left"?3-V:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?tw(e,I,K):x]}}}}}):null)}function NI(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetLeft:l=u,insetRight:f=u,dx:d=0,y:h=e==="y"?void 0:null,...p}){return Ao(AI,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:h,...p,dx:t==="left"?+d-Et+ +l:+d+Et-f,anchor:"start",length:c,shape:t==="left"?zI:WI})}function PI(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetTop:l=u,insetBottom:f=u,dy:d=0,x:h=e==="x"?void 0:null,...p}){return Ao(kI,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:h,...p,dy:t==="bottom"?+d-Et-f:+d+Et+ +l,anchor:"start",length:c,shape:t==="bottom"?qI:HI})}function OI(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*S2):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:f=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:_=0,y:w=e==="y"?void 0:null,...b}){return Ao(Un,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,y:w,...b,dx:t==="left"?+_-o-s+ +p:+_+ +o+ +s-m},function(g,y,v){d===void 0&&(this.fontVariant=ew(g)),u===void 0&&(v.text=Q2(g,y,c))})}function DI(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*S2):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:_=0,x:w=e==="x"?void 0:null,...b}){return Ao(uI,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,x:w,...b,dy:t==="bottom"?+_+ +o+ +s-m:+_-o-s+ +p},function(g,y,v){d===void 0&&(this.fontVariant=ew(g)),u===void 0&&(v.text=Q2(g,y,c))})}function LI(){const[e,t]=Nr(...arguments);return K2("y",H2(t),e,t)}function $I(){const[e,t]=Nr(...arguments);return K2("fy",z2(t),e,t)}function UI(){const[e,t]=Nr(...arguments);return J2("x",W2(t),e,t)}function FI(){const[e,t]=Nr(...arguments);return J2("fx",G2(t),e,t)}function K2(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return Ao(Ui,e,`${e}-grid`,n,{y:r,x1:o,x2:a,...Z2(s)})}function J2(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return Ao(oI,e,`${e}-grid`,n,{x:r,y1:o,y2:a,...Z2(s)})}function Z2({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Ao(e,t,n,r,i,o){let a;const s=e(r,ol(i,function(c,u,l,f){const{[t]:d}=f;if(!d)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:m}=i;if(b2(d)&&typeof h=="string"&&(m=h,h=void 0),c==null){if(Cr(h))c=Tn(h);else if(d.ticks)if(h!==void 0)c=d.ticks(h);else if(m=Io(m===void 0?d.interval:m,d.type),m!==void 0){const[_,w]=qe(d.domain());c=m.range(_,m.offset(m.floor(w)))}else{const[_,w]=qe(d.range());h=(w-_)/(p===void 0?t==="x"?80:35:p),c=d.ticks(h)}else c=d.domain();t==="y"||t==="x"?u=[Ar(c)]:(a[t]={scale:t,value:mt},u=void 0)}return o==null||o.call(this,d,h,a),{data:c,facets:u,channels:Object.fromEntries(Object.entries(a).map(([_,w])=>[_,{...w,value:We(c,w.value)}]))}}));return r==null?(a=s.channels,s.channels={}):a={},s.ariaLabel=n,s}function Q2(e,t,n){return{value:BI(e,t,n)}}function BI(e,t,n){return e.tickFormat?e.tickFormat(Cr(t)?null:t,n):n===void 0?ul:typeof n=="string"?(Ct(e.domain())?zu:ht)(n):So(n)}const qI={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},HI={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},zI={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},WI={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ew(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function GI(e){return Math.sign(Pa(e.domain()))*Math.sign(Pa(e.range()))}function tw(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=GI(t);return i?e==="x"||n==="center"?e==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const VI={ariaLabel:"frame",fill:"none",stroke:"currentColor"},YI={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class XI extends Nt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:s=r,rx:c,ry:u}=t;super(void 0,void 0,t,n==null?VI:YI),this.anchor=Wv(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ee(i),this.insetRight=Ee(o),this.insetBottom=Ee(a),this.insetLeft=Ee(s),this.rx=Ee(c),this.ry=Ee(u)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:c,marginLeft:u,width:l,height:f}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:m,insetLeft:_,rx:w,ry:b}=this,g=u+_,y=l-s-p,v=a+h,x=f-c-m;return Ye(d?"svg:line":"svg:rect",o).call(An,this,i,o).call(Cn,this).call(Rn,this,{}).call(d==="left"?T=>T.attr("x1",g).attr("x2",g).attr("y1",v).attr("y2",x):d==="right"?T=>T.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",x):d==="top"?T=>T.attr("x1",g).attr("x2",y).attr("y1",v).attr("y2",v):d==="bottom"?T=>T.attr("x1",g).attr("x2",y).attr("y1",x).attr("y2",x):T=>T.attr("x",g).attr("y",v).attr("width",y-g).attr("height",x-v).attr("rx",w).attr("ry",b)).node()}}function nw(e){return new XI(e)}function fn(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:o}=e,a=Gh(e.className),s=e.marks===void 0?[]:Am(e.marks),c=QI(t,e),u=new Map;for(const C of s){const k=Cm(C,c,e);k&&u.set(C,k)}const l=new Map;c&&Ko(l,[c]),Ko(l,u);const f=Am(ek(s,l,e));for(const C of f){const k=Cm(C,c,e);k&&u.set(C,k)}s.unshift(...f);const d=O9(l,e);if(d!==void 0){const C=c?If(d,c):void 0;for(const I of s){if(I.facet===null||I.facet==="super")continue;const L=u.get(I);L!==void 0&&(L.facetsIndex=I.fx!=null||I.fy!=null?If(d,L):C)}const k=new Set;for(const{facetsIndex:I}of u.values())I==null||I.forEach((L,F)=>{(L==null?void 0:L.length)>0&&k.add(F)});d.forEach(0<k.size&&k.size<d.length?(I,L)=>I.empty=!k.has(L):I=>I.empty=!1);for(const I of s)if(I.facet==="exclude"){const L=u.get(I);L!==void 0&&(L.facetsIndex=$9(L.facetsIndex))}}for(const C of Me.keys())Vi(e[C])&&C!=="fx"&&C!=="fy"&&l.set(C,[]);const h=new Map;for(const C of s){if(h.has(C))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:k,channels:I}=u.get(C)??{},{data:L,facets:F,channels:W}=C.initialize(k,I);e0(W,e),h.set(C,{data:L,facets:F,channels:W})}const p=Od(Ko(l,h),e),m=bm(p),_=N9(p,s,e);a9(p,_);const{fx:w,fy:b}=m,g=w||b?h2(p,_):_,y=w||b?sk(m,_):_,v=al(e,g),x=new Set;for(const[C,k]of h)if(C.initializer!=null){const I=C.facet==="super"?y:g,L=C.initializer(k.data,k.facets,k.channels,m,I,v);if(L.data!==void 0&&(k.data=L.data),L.facets!==void 0&&(k.facets=L.facets),L.channels!==void 0){ZI(L.channels),Object.assign(k.channels,L.channels);for(const V of Object.values(L.channels)){const{scale:K}=V;K!=null&&Me.get(K)!==gn&&(rw(V,e),x.add(K))}const{fx:F,fy:W}=L.channels;if(F!=null||W!=null){const V=u.get(C)??{channels:{}};F!=null&&(V.channels.fx=F),W!=null&&(V.channels.fy=W),V.groups=Xh(k.data,V.channels),V.facetsIndex=k.facets=If(d,V),u.set(C,V)}}}if(x.size){const C=new Map;Ko(C,h,L=>x.has(L)),Ko(l,h,L=>x.has(L));const k=ak(Od(C,e),p),I=bm(k);Object.assign(p,k),Object.assign(m,I)}for(const[C,k]of h)k.values=C.scale(k.channels,m,v);const{width:T,height:M}=_,R=Ye("svg",v).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",T).attr("height",M).attr("viewBox",`0 0 ${T} ${M}`).attr("aria-label",i).attr("aria-description",o).call(C=>C.append("style").text(`
        .${a} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${a} text,
        .${a} tspan {
          white-space: pre;
        }
      `)).call(Vh,n).node();if(d!==void 0){const C={x:w==null?void 0:w.domain(),y:b==null?void 0:b.domain()};d.sort(D9(C)),xa(R).selectAll().data(d).enter().append("g").attr("aria-label","facet").attr("transform",L9(w,b,_)).each(function(k){var L;let I=!0;for(const F of s){if(F.facet==="super")continue;const{channels:W,values:V,facets:K}=h.get(F);if(!(((L=F.facetAnchor)==null?void 0:L.call(F,d,C,k))??!k.empty))continue;let re=null;if(K){if(re=K[u.has(F)?k.i:0],re=F.filter(re,W,V),re.length===0)continue;re.fi=k.i}const j=F.render(re,m,V,g,v);j!=null&&(I=!1,this.appendChild(j))}I&&this.remove()})}for(const C of s){if(d!==void 0&&C.facet!=="super")continue;const{channels:k,values:I,facets:L}=h.get(C);let F=null;if(L&&(F=L[0],F=C.filter(F,k,I),F.length===0))continue;const W=C.render(F,m,I,y,v);W!=null&&R.appendChild(W)}let O=R;const A=Q9(p,v,e);if(r!=null||A.length>0){const{document:C}=v;O=C.createElement("figure"),O.style.maxWidth="initial";for(const k of A)O.appendChild(k);if(O.appendChild(R),r!=null){const k=C.createElement("figcaption");k.appendChild(r instanceof Node?r:C.createTextNode(r)),O.appendChild(k)}}O.scale=d9(p),O.legend=K9(p,v,e);const N=wM();return N>0&&xa(R).append("text").attr("x",T).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${N.toLocaleString("en-US")} warning${N===1?"":"s"}. Please check the console.`),O}function jI({marks:e=[],...t}={}){return fn({...t,marks:[...e,this]})}Nt.prototype.plot=jI;function Am(e){return e.flat(1/0).filter(t=>t!=null).map(KI)}function KI(e){return typeof e.render=="function"?e:new JI(e)}class JI extends Nt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function e0(e,t){for(const n in e)rw(e[n],t);return e}function rw(e,t){var s;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:o,transform:a=i?c=>c*100:(s=Oh(o,r))==null?void 0:s.floor}=t[n]??{};a!=null&&(e.value=Ze(e.value,a))}function ZI(e){for(const t in e)Qv(t,e[t])}function Ko(e,t,n=P7){for(const{channels:r}of t.values())for(const i in r){const o=r[i],{scale:a}=o;if(a!=null&&n(a)){const s=e.get(a);s!==void 0?s.push(o):e.set(a,[o])}}return e}function QI(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Tn(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Oa(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Oa(i,{value:r,scale:"fy"})),e0(o,t);const a=Xh(i,o);return{channels:o,groups:a,data:e.data}}function Cm(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=Tn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return r!=null&&(l.fx=Oa(u,{value:r,scale:"fx"})),i!=null&&(l.fy=Oa(u,{value:i,scale:"fy"})),e0(l,n),{channels:l,groups:Xh(u,l)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((c=Tn(e.data))==null?void 0:c.length)===s.length&&Yi(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function ek(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:c,grid:u,facet:l={},facet:{axis:f=c,grid:d}=l,x:{axis:h=c,grid:p=h===null?null:u}=i,y:{axis:m=c,grid:_=m===null?null:u}=o,fx:{axis:w=f,grid:b=w===null?null:d}=a,fy:{axis:g=f,grid:y=g===null?null:d}=s}=n;(r||!Vi(i)&&!Rm("x",e))&&(h=p=null),(r||!Vi(o)&&!Rm("y",e))&&(m=_=null),t.has("fx")||(w=b=null),t.has("fy")||(g=y=null),h===void 0&&(h=!hc(e,"x")),m===void 0&&(m=!hc(e,"y")),w===void 0&&(w=!hc(e,"fx")),g===void 0&&(g=!hc(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),g===!0&&(g=m==="right"||m===null?"left":"right");const v=[];return dc(v,y,$I,s),fc(v,g,CI,"right","left",l,s),dc(v,b,FI,a),fc(v,w,RI,"top","bottom",l,a),dc(v,_,LI,o),fc(v,m,V2,"left","right",n,o),dc(v,p,UI,i),fc(v,h,Y2,"bottom","top",n,i),v}function fc(e,t,n,r,i,o,a){if(!t)return;const s=tk(t);a=nk(s?r:t,o,a);const{line:c}=a;(n===V2||n===Y2)&&c&&!Na(c)&&e.push(nw(rk(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function dc(e,t,n,r){!t||Na(t)||e.push(n(ik(t,r)))}function tk(e){return/^\s*both\s*$/i.test(e)}function nk(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d=t.label,labelAnchor:h,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d,labelAnchor:h,labelOffset:p}}function rk(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function ik(e,{stroke:t=Qu(e)?e:void 0,ticks:n=ok(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function ok(e){switch(typeof e){case"number":return!0;case"string":return!Qu(e)}return Cr(e)||typeof(e==null?void 0:e.range)=="function"}function hc(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Rm(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function ak(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function sk({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Wh(n),u=e&&Nm(e),l=t&&Nm(t);return{marginTop:t?l[0]:r,marginRight:e?s-u[1]:i,marginBottom:t?c-l[1]:o,marginLeft:e?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}function Nm(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const ck=new Map([["basis",l7],["basis-closed",f7],["basis-open",d7],["bundle",h7],["bump-x",QS],["bump-y",e7],["cardinal",p7],["cardinal-closed",g7],["cardinal-open",m7],["catmull-rom",b7],["catmull-rom-closed",y7],["catmull-rom-open",_7],["linear",Yu],["linear-closed",v7],["monotone-x",w7],["monotone-y",x7],["natural",E7],["step",T7],["step-after",M7],["step-before",S7]]);function uk(e=Yu,t){if(typeof e=="function")return e;const n=ck.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function lk(e=mu,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?mu:uk(e,t)}function mu(e){return Yu(e)}function kf(e={y:"count"},t={}){[e,t]=dk(e,t);const{x:n,y:r}=t;return fk(hk(n,t,mt),null,null,r,e,Kh(t))}function fk(e,t,n,r,{data:i=Jv,filter:o=hu,sort:a,reverse:s,...c}={},u={}){e=Pm(e),t=Pm(t),c=gk(c,u),i=aw(i,mt),a=a==null?void 0:iw("sort",a,u),o=o==null?void 0:ow("filter",o,u),n!=null&&sc(c,"x","x1","x2")&&(n=null),r!=null&&sc(c,"y","y1","y2")&&(r=null);const[l,f]=Ln(e),[d,h]=Ln(e),[p,m]=Ln(t),[_,w]=Ln(t),[b,g]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[y,v]=Ln(b),{x,y:T,z:M,fill:R,stroke:O,x1:A,x2:N,y1:C,y2:k,domain:I,cumulative:L,thresholds:F,interval:W,...V}=u,[K,re]=Ln(M),[j]=Mr(R),[we]=Mr(O),[q,ce]=Ln(j),[Ae,bt]=Ln(we);return{..."z"in u&&{z:K||M},..."fill"in u&&{fill:q||R},..."stroke"in u&&{stroke:Ae||O},...il(V,(Ie,B)=>{const ee=We(Ie,b),J=We(Ie,M),D=We(Ie,j),me=We(Ie,we),se=aM(c,{z:J,fill:D,stroke:me}),pe=[],Te=[],Qe=ee&&v([]),ye=J&&re([]),tr=D&&ce([]),je=me&&bt([]),Ce=e&&f([]),Ke=e&&h([]),he=t&&m([]),an=t&&w([]),Le=_k(e==null?void 0:e(Ie),t==null?void 0:t(Ie));let sn=0;for(const it of c)it.initialize(Ie);a&&a.initialize(Ie),o&&o.initialize(Ie);for(const it of B){const $e=[];for(const ot of c)ot.scope("facet",it);a&&a.scope("facet",it),o&&o.scope("facet",it);for(const[ot,Pt]of am(it,se))for(const[nr,Ot]of am(Pt,ee))for(const[Je,yt]of Le(Ot))if(!(o&&!o.reduce(Je,yt))){$e.push(sn++),Te.push(i.reduceIndex(Je,Ie,yt)),ee&&Qe.push(nr),J&&ye.push(se===J?ot:J[Je[0]]),D&&tr.push(se===D?ot:D[Je[0]]),me&&je.push(se===me?ot:me[Je[0]]),Ce&&(Ce.push(yt.x1),Ke.push(yt.x2)),he&&(he.push(yt.y1),an.push(yt.y2));for(const _t of c)_t.reduce(Je,yt);a&&a.reduce(Je)}pe.push($e)}return sM(pe,a,s),{data:Te,facets:pe}}),...!sc(c,"x")&&(l?{x1:l,x2:d,x:Rd(l,d)}:{x,x1:A,x2:N}),...!sc(c,"y")&&(p?{y1:p,y2:_,y:Rd(p,_)}:{y:T,y1:C,y2:k}),...y&&{[g]:y},...Object.fromEntries(c.map(({name:Ie,output:B})=>[Ie,B]))}}function dk({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function hk(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Zu(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=pk(e.thresholds,e.interval),e}function Pm(e){if(e==null)return;const{value:t,cumulative:n,domain:r=qe,thresholds:i}=e,o=a=>{let s=We(a,t),c;if(Ct(s)||bk(i)){s=Ze(s,zv,Float64Array);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!ca(i)?i(s,l,f):i;typeof d=="number"&&(d=jy(l,f,d)),ca(d)&&(r===qe&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f))),c=d}else{s=ho(s);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!ca(i)?i(s,l,f):i;if(typeof d=="number")if(r===qe){let h=Jr(l,f,d);if(isFinite(h))if(h>0){let p=Math.round(l/h),m=Math.round(f/h);p*h<=l||--p,m*h>f||++m;let _=m-p+1;d=new Float64Array(_);for(let w=0;w<_;++w)d[w]=(p+w)*h}else if(h<0){h=-h;let p=Math.round(l*h),m=Math.round(f*h);p/h<=l||--p,m/h>f||++m;let _=m-p+1;d=new Float64Array(_);for(let w=0;w<_;++w)d[w]=(p+w)/h}else d=[l];else d=[l]}else d=Zi(l,f,d);else ca(d)&&(r===qe&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f)));c=d}const u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let l=1;l<c.length;++l)u.push([c[l-1],c[l]]);return u.bin=(n<0?wk:n>0?vk:t0)(u,c,s),u};return o.label=li(t),o}function pk(e,t,n=Om){if(e===void 0)return t===void 0?n:Io(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return rx;case"scott":return ib;case"sturges":return tb;case"auto":return Om}return Bv(e)}return e}function gk(e,t){return rM(e,t,iw)}function iw(e,t,n){return jv(e,t,n,ow)}function ow(e,t,n){return Kv(e,t,n,aw)}function aw(e,t){return Bh(e,t,mk)}function mk(e){switch(`${e}`.toLowerCase()){case"x":return xk;case"x1":return Tk;case"x2":return Sk;case"y":return Ek;case"y1":return Mk;case"y2":return Ik}throw new Error(`invalid bin reduce: ${e}`)}function Om(e,t,n){return Math.min(200,ib(e,t,n))}function bk(e){return yk(e)||Cr(e)&&Ct(e)}function yk(e){return ca(e)&&typeof e=="function"&&e()instanceof Date}function ca(e){return typeof(e==null?void 0:e.range)=="function"}function _k(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries()){const s=t.bin(r[i]);for(const[c,[u,l]]of t.entries())yield[s[c],{x1:o,y1:u,x2:a,y2:l}]}}:e?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{y1:o,y2:a}]}}function t0(e,t,n){return t=ho(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[Ga(t,n[a])-1])==null||o.push(a);return i}}function vk(e,t,n){const r=t0(e,t,n);return i=>{const o=r(i);for(let a=1,s=o.length;a<s;++a){const c=o[a-1],u=o[a];for(const l of c)u.push(l)}return o}}function wk(e,t,n){const r=t0(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const s=o[a+1],c=o[a];for(const u of s)c.push(u)}return o}}function sw(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const xk={reduceIndex(e,t,{x1:n,x2:r}){return sw(n,r)}},Ek={reduceIndex(e,t,{y1:n,y2:r}){return sw(n,r)}},Tk={reduceIndex(e,t,{x1:n}){return n}},Sk={reduceIndex(e,t,{x2:n}){return n}},Mk={reduceIndex(e,t,{y1:n}){return n}},Ik={reduceIndex(e,t,{y2:n}){return n}};function kk(e={}){const{y:t,y1:n,y2:r}=e;return n===void 0&&r===void 0&&t===void 0?{...e,y:mt}:e}function Ak(e={},t={}){arguments.length===1&&([e,t]=Rk(e));const{x1:n,x:r=n,y:i,...o}=t,[a,s,c,u]=Pk(r,i,"y",e,o);return{...a,x1:n,x:s,y1:c,y2:u,y:Rd(c,u)}}function Ck({y:e,y1:t,y2:n,...r}={}){return t===void 0&&n===void 0?Ak({y:e,...r}):([t,n]=L7(e,t,n),{...r,y1:t,y2:n})}function Rk(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}function Nk(e,t=N7,n,{offset:r,order:i,reverse:o},a){const s=Gv(a),[c,u]=Ln(e),[l,f]=du(t),[d,h]=du(t);return r=Ok(r),i=$k(i,r,n),[il(a,(p,m)=>{const _=e==null?void 0:u(We(p,e)),w=We(p,t,Float64Array),b=We(p,s),g=i&&i(p,_,w,b),y=p.length,v=f(new Float64Array(y)),x=h(new Float64Array(y)),T=[];for(const M of m){const R=_?Array.from(ku(M,O=>_[O]).values()):[M];g&&zk(R,g);for(const O of R){let A=0,N=0;o&&O.reverse();for(const C of O){const k=w[C];k<0?A=x[C]=(v[C]=A)+k:k>0?N=x[C]=(v[C]=N)+k:x[C]=v[C]=N}}T.push(R)}return r&&r(T,v,x,b),{data:p,facets:m}}),c,l,d]}const Pk=Nk;function Ok(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Dk;case"center":case"silhouette":return Lk;case"wiggle":return uw}throw new Error(`unknown offset: ${e}`)}}function cw(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function Dk(e,t,n){for(const r of e)for(const i of r){const[o,a]=cw(i,n);for(const s of i){const c=1/(a-o||1);t[s]=c*(t[s]-o),n[s]=c*(n[s]-o)}}}function Lk(e,t,n){for(const r of e){for(const i of r){const[o,a]=cw(i,n);for(const s of i){const c=(a+o)/2;t[s]-=c,n[s]-=c}}lw(r,t,n)}fw(e,t,n)}function uw(e,t,n,r){for(const i of e){const o=new Ki;let a=0;for(const s of i){let c=-1;const u=s.map(h=>Math.abs(n[h]-t[h])),l=s.map(h=>{c=r?r[h]:++c;const p=n[h]-t[h],m=o.has(c)?p-o.get(c):0;return o.set(c,p),m}),f=[0,...G3(l)];for(const h of s)t[h]+=a,n[h]+=a;const d=qt(u);d&&(a-=qt(u,(h,p)=>(l[p]/2+f[p])*h)/d)}lw(i,t,n)}fw(e,t,n)}function lw(e,t,n){const r=Xn(e,i=>Xn(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function fw(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(Xn(s,c=>t[c])+en(s,c=>n[c]))/2),a=Xn(o);for(let s=0;s<r;s++){const c=a-o[s];for(const u of i[s])t[u]+=c,n[u]+=c}}function $k(e,t,n){if(e===void 0&&t===uw)return Dm;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return Uk;case"z":return Fk;case"sum":return Bk;case"appearance":return qk;case"inside-out":return Dm}return Lm(qv(e))}if(typeof e=="function")return Lm(e);if(Array.isArray(e))return Hk(e);throw new Error(`invalid order: ${e}`)}}function Uk(e,t,n){return n}function Fk(e,t,n,r){return r}function Bk(e,t,n,r){return fl(r,th(Ar(e),i=>qt(i,o=>n[o]),i=>r[i]))}function qk(e,t,n,r){return fl(r,th(Ar(e),i=>t[rb(i,o=>n[o])],i=>r[i]))}function Dm(e,t,n,r){const i=Ar(e),o=th(i,l=>t[rb(l,f=>n[f])],l=>r[l]),a=Gr(i,l=>qt(l,f=>n[f]),l=>r[l]),s=[],c=[];let u=0;for(const l of o)u<0?(u+=a.get(l),s.push(l)):(u-=a.get(l),c.push(l));return fl(r,c.reverse().concat(s))}function Lm(e){return t=>We(t,e)}function Hk(e){return(t,n,r,i)=>fl(i,e)}function fl(e,t){if(!e)throw new Error("missing channel: z");return t=new Ki(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function zk(e,t){for(const n of e)n.sort((r,i)=>Sr(t[r],t[i]))}function Wk(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Af(n),e.markerMid=Af(r),e.markerEnd=Af(i)}function Af(e){if(e==null||e===!1)return null;if(e===!0)return $m;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Gk;case"dot":return Vk;case"circle":case"circle-fill":return $m;case"circle-stroke":return Yk}throw new Error(`invalid marker: ${e}`)}function Gk(e,t){return Ye("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Vk(e,t){return Ye("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function $m(e,t){return Ye("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Yk(e,t){return Ye("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let Xk=0;function jk(e,t,{stroke:n},r){return Kk(e,t,n&&(([i])=>n[i]),r)}function Kk(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const s=new Map;function c(u){return function(l){const f=o(l);let d=s.get(u);d||s.set(u,d=new Map);let h=d.get(f);if(!h){const p=this.parentNode.insertBefore(u(f,a),this),m=`plot-marker-${++Xk}`;p.setAttribute("id",m),d.set(f,h=`url(#${m})`)}return h}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}class Jk extends Nt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:s=o,insetBottom:c=o,insetLeft:u=o,rx:l,ry:f}=r;this.insetTop=Ee(a),this.insetRight=Ee(s),this.insetBottom=Ee(c),this.insetLeft=Ee(u),this.rx=ft(l,"auto"),this.ry=ft(f,"auto")}render(t,n,r,i,o){const{rx:a,ry:s}=this;return Ye("svg:g",o).call(An,this,i,o).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(Cn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(oe,"rx",a).call(oe,"ry",s).call(Rr,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}}const Zk={ariaLabel:"bar"};class Qk extends Jk{constructor(t,n={}){const{x:r,y1:i,y2:o}=n;super(t,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,Zk)}_transform(t,n,{y:r}){t.call(Rn,n,{y:r},0,0)}_y({y:t},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return go(t)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:t},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:s,insetBottom:c}=this;return go(t)?a-i-o-s-c:u=>Math.max(0,Math.abs(r[u]-n[u])-s-c)}}function Pi(e,t={x:Hv,y2:mt}){return new Qk(e,Ck(R2(kk(t))))}const eA={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function dw(e){return e.sort===void 0&&e.reverse===void 0?eM({channel:"r",order:"descending"},e):e}class tA extends Nt{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=Ca,frameAnchor:c}=n,[u,l]=pt(a,0),[f,d]=Z7(s),[h,p]=pt(o,f==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:es,optional:!0},rotate:{value:u,optional:!0},symbol:{value:f,scale:"auto",optional:!0}},dw(n),eA),this.r=p,this.rotate=l,this.symbol=d,this.frameAnchor=Dh(c);const{channels:m}=this,{symbol:_}=m;if(_){const{fill:w,stroke:b}=m;_.hint={fill:w?w.value===_.value?"color":"currentColor":this.fill,stroke:b?b.value===_.value?"color":"currentColor":this.stroke}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,r:l,rotate:f,symbol:d}=r,{r:h,rotate:p,symbol:m}=this,[_,w]=Yh(this,i),b=this.symbol===Ca,g=l?void 0:h*h*Math.PI;return Ku(h)&&(t=[]),Ye("svg:g",o).call(An,this,i,o).call(Rn,this,{x:c&&a,y:u&&s}).call(y=>y.selectAll().data(t).enter().append(b?"circle":"path").call(Cn,this).call(b?v=>{v.attr("cx",c?x=>c[x]:_).attr("cy",u?x=>u[x]:w).attr("r",l?x=>l[x]:h)}:v=>{v.attr("transform",Jh`translate(${c?x=>c[x]:_},${u?x=>u[x]:w})${f?x=>` rotate(${f[x]})`:p?` rotate(${p})`:""}`).attr("d",l&&d?x=>{const T=Wr();return d[x].draw(T,l[x]*l[x]*Math.PI),T}:l?x=>{const T=Wr();return m.draw(T,l[x]*l[x]*Math.PI),T}:d?x=>{const T=Wr();return d[x].draw(T,g),T}:(()=>{const x=Wr();return m.draw(x,g),x})())}).call(Rr,this,r)).node()}}function Cf(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=Ph(n,r)),new tA(e,{...i,x:n,y:r})}const nA={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class rA extends Nt{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Gv(n),optional:!0}},n,nA),this.z=o,this.curve=lk(a,s),Wk(this,n)}filter(t){return t}project(t,n,r){this.curve!==mu&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:c}=this;return Ye("svg:g",o).call(An,this,i,o).call(Rn,this,n).call(u=>u.selectAll().data(I9(t,[a,s],this,r)).enter().append("path").call(Cn,this).call(T9,this,r).call(jk,this,r,o).attr("d",c===mu&&o.projection?iA(o.projection,a,s):ZS().curve(c).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function iA(e,t,n){const r=Xa(e);return t=ho(t),n=ho(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function Jo(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=Ph(n,r),new rA(e,{...i,x:n,y:r})}const oA={ariaLabel:"tick",fill:null,stroke:"currentColor"};class aA extends Nt{constructor(t,n,r){super(t,n,r,oA)}render(t,n,r,i,o){return Ye("svg:g",o).call(An,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(t).enter().append("line").call(Cn,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Rr,this,r)).node()}}class sA extends aA{constructor(t,n={}){const{x:r,y:i,inset:o=0,insetRight:a=o,insetLeft:s=o}=n;super(t,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=Ee(a),this.insetLeft=Ee(s)}_transform(t,n,{y:r}){t.call(Rn,n,{y:r},0,Et)}_x1({x:t},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&t?o=>n[o]+i:r+i}_x2({x:t},{x:n},{width:r,marginRight:i}){const{insetRight:o}=this;return n&&t?a=>n[a]+t.bandwidth()-o:r-i-o}_y1(t,{y:n}){return r=>n[r]}_y2(t,{y:n}){return r=>n[r]}}function Oi(e,t={}){const{y:n=mt,...r}=t;return new sA(e,{...r,y:n})}const cA={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class uA extends Nt{constructor(t,n={}){const[r,i]=pt(n.r,3);super(t,{geometry:{value:n.geometry},r:{value:r,scale:"r",filter:es,optional:!0}},dw(n),cA),this.r=i}render(t,n,r,i,o){const{geometry:a,r:s}=r,c=Xa(o.projection??lA(n)),{r:u}=this;return Ku(u)?t=[]:u!==void 0&&c.pointRadius(u),Ye("svg:g",o).call(An,this,i,o).call(Rn,this,n).call(l=>{l.selectAll().data(t).enter().append("path").call(Cn,this).attr("d",s?f=>c.pointRadius(s[f])(a[f]):f=>c(a[f])).call(Rr,this,r)}).node()}}function lA({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),tu({point(n,r){this.stream.point(e(n),t(r))}})}function ya(e,{geometry:t=mt,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new uA(e,{geometry:t,...n})}function fA({strokeWidth:e=1.5,...t}={}){return ya({type:"Sphere"},{strokeWidth:e,...t})}function dA({strokeOpacity:e=.1,...t}={}){return ya(NE(),{strokeOpacity:e,...t})}var hA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}const Di=[];function hw(e,t=Pe){let n;const r=new Set;function i(s){if(D1(e,s)&&(e=s,n)){const c=!Di.length;for(const u of r)u[1](),Di.push(u,e);if(c){for(let u=0;u<Di.length;u+=2)Di[u][0](Di[u+1]);Di.length=0}}}function o(s){i(s(e))}function a(s,c=Pe){const u=[s,c];return r.add(u),r.size===1&&(n=t(i)||Pe),s(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}function Um(e,t,n){var r=(t-n)/57.29578,i=e/57.29578,o=1+35786/6378.16,a=o*Math.cos(i)*Math.cos(r)-1,s=o*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/s);return c}function pA(e,t,n){var r=(t-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(e/57.29578));return e<0&&(i=i-180),i<0&&(i=i+360),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},gA=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,h=u&63;c||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new mA;const d=o<<2|s>>4;if(r.push(d),u!==64){const h=s<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(e){const t=pw(e);return gw.encodeByteArray(t,!0)},bu=function(e){return bA(e).replace(/\./g,"")},mw=function(e){try{return gw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mw(e[1]);return t&&JSON.parse(t)},r0=()=>{try{return _A()||vA()||wA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},bw=e=>{var t,n;return(n=(t=r0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},xA=e=>{const t=bw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},EA=()=>{var e;return(e=r0())===null||e===void 0?void 0:e.config},yw=e=>{var t;return(t=r0())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[bu(JSON.stringify(n)),bu(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function IA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="FirebaseError";class er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=NA,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}}class rs{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?PA(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new er(i,s,r)}}function PA(e,t){return e.replace(OA,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const OA=/\{\$([^}]+)}/g;function DA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(Fm(o)&&Fm(a)){if(!yu(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ua(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function la(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function LA(e,t){const n=new $A(e,t);return n.subscribe.bind(n)}class $A{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UA(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Rf),i.error===void 0&&(i.error=Rf),i.complete===void 0&&(i.complete=Rf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class ii{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new TA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qA(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(e){return e===Fr?void 0:e}function qA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ve||(ve={}));const zA={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},WA=ve.INFO,GA={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},VA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=GA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _w{constructor(t){this.name=t,this._logLevel=WA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const YA=(e,t)=>t.some(n=>e instanceof n);let Bm,qm;function XA(){return Bm||(Bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return qm||(qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,Ld=new WeakMap,ww=new WeakMap,Nf=new WeakMap,i0=new WeakMap;function KA(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(yr(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&vw.set(n,e)}).catch(()=>{}),i0.set(t,e),t}function JA(e){if(Ld.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Ld.set(e,t)}let $d={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ld.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ww.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZA(e){$d=e($d)}function QA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Pf(this),t,...n);return ww.set(r,t.sort?t.sort():[t]),yr(r)}:jA().includes(e)?function(...t){return e.apply(Pf(this),t),yr(vw.get(this))}:function(...t){return yr(e.apply(Pf(this),t))}}function eC(e){return typeof e=="function"?QA(e):(e instanceof IDBTransaction&&JA(e),YA(e,XA())?new Proxy(e,$d):e)}function yr(e){if(e instanceof IDBRequest)return KA(e);if(Nf.has(e))return Nf.get(e);const t=eC(e);return t!==e&&(Nf.set(e,t),i0.set(t,e)),t}const Pf=e=>i0.get(e);function tC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=yr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(yr(a.result),c.oldVersion,c.newVersion,yr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const nC=["get","getKey","getAll","getAllKeys","count"],rC=["put","add","delete","clear"],Of=new Map;function Hm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Of.get(t))return Of.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=rC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nC.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return Of.set(t,o),o}ZA(e=>({...e,get:(t,n,r)=>Hm(t,n)||e.get(t,n,r),has:(t,n)=>!!Hm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ud="@firebase/app",zm="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new _w("@firebase/app"),aC="@firebase/app-compat",sC="@firebase/analytics-compat",cC="@firebase/analytics",uC="@firebase/app-check-compat",lC="@firebase/app-check",fC="@firebase/auth",dC="@firebase/auth-compat",hC="@firebase/database",pC="@firebase/database-compat",gC="@firebase/functions",mC="@firebase/functions-compat",bC="@firebase/installations",yC="@firebase/installations-compat",_C="@firebase/messaging",vC="@firebase/messaging-compat",wC="@firebase/performance",xC="@firebase/performance-compat",EC="@firebase/remote-config",TC="@firebase/remote-config-compat",SC="@firebase/storage",MC="@firebase/storage-compat",IC="@firebase/firestore",kC="@firebase/firestore-compat",AC="firebase",CC="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",RC={[Ud]:"fire-core",[aC]:"fire-core-compat",[cC]:"fire-analytics",[sC]:"fire-analytics-compat",[lC]:"fire-app-check",[uC]:"fire-app-check-compat",[fC]:"fire-auth",[dC]:"fire-auth-compat",[hC]:"fire-rtdb",[pC]:"fire-rtdb-compat",[gC]:"fire-fn",[mC]:"fire-fn-compat",[bC]:"fire-iid",[yC]:"fire-iid-compat",[_C]:"fire-fcm",[vC]:"fire-fcm-compat",[wC]:"fire-perf",[xC]:"fire-perf-compat",[EC]:"fire-rc",[TC]:"fire-rc-compat",[SC]:"fire-gcs",[MC]:"fire-gcs-compat",[IC]:"fire-fst",[kC]:"fire-fst-compat","fire-js":"fire-js",[AC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,Bd=new Map;function NC(e,t){try{e.container.addComponent(t)}catch(n){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mo(e){const t=e.name;if(Bd.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,e);for(const n of _u.values())NC(n,e);return!0}function o0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_r=new rs("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=CC;function xw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=EA()),!n)throw _r.create("no-options");const o=_u.get(i);if(o){if(yu(n,o.options)&&yu(r,o.config))return o;throw _r.create("duplicate-app",{appName:i})}const a=new HA(i);for(const c of Bd.values())a.addComponent(c);const s=new OC(n,r,a);return _u.set(i,s),s}function a0(e=Fd){const t=_u.get(e);if(!t&&e===Fd)return xw();if(!t)throw _r.create("no-app",{appName:e});return t}function Xr(e,t,n){var r;let i=(r=RC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(s.join(" "));return}mo(new ii(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebase-heartbeat-database",LC=1,La="firebase-heartbeat-store";let Df=null;function Ew(){return Df||(Df=tC(DC,LC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(La)}}}).catch(e=>{throw _r.create("idb-open",{originalErrorMessage:e.message})})),Df}async function $C(e){try{return(await Ew()).transaction(La).objectStore(La).get(Tw(e))}catch(t){if(t instanceof er)oi.warn(t.message);else{const n=_r.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(n.message)}}}async function Wm(e,t){try{const r=(await Ew()).transaction(La,"readwrite");return await r.objectStore(La).put(t,Tw(e)),r.done}catch(n){if(n instanceof er)oi.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function Tw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1024,FC=30*24*60*60*1e3;class BC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=FC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gm(),{heartbeatsToSend:n,unsentEntries:r}=qC(this._heartbeatsCache.heartbeats),i=bu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Gm(){return new Date().toISOString().substring(0,10)}function qC(e,t=UC){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Vm(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $C(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vm(e){return bu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e){mo(new ii("platform-logger",t=>new iC(t),"PRIVATE")),mo(new ii("heartbeat",t=>new BC(t),"PRIVATE")),Xr(Ud,zm,e),Xr(Ud,zm,"esm2017"),Xr("fire-js","")}zC("");function s0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Sw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WC=Sw,Mw=new rs("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new _w("@firebase/auth");function Sc(e,...t){Ym.logLevel<=ve.ERROR&&Ym.error(`Auth (${os}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(e,...t){throw c0(e,...t)}function yn(e,...t){return c0(e,...t)}function GC(e,t,n){const r=Object.assign(Object.assign({},WC()),{[t]:n});return new rs("auth","Firebase",r).create(t,{appName:e.name})}function c0(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Mw.create(e,...t)}function te(e,t,...n){if(!e)throw c0(t,...n)}function Gn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sc(t),new Error(t)}function Jn(e,t){e||Gn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map;function Vn(e){Jn(e instanceof Function,"Expected a class definition");let t=Xm.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xm.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e,t){const n=o0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(yu(o,t??{}))return i;nn(i,"already-initialized")}return n.initialize({options:t})}function YC(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XC(){return jm()==="http:"||jm()==="https:"}function jm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||IA()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jn(n>t,"Short delay should be less than long delay!"),this.isMobile=MA()||kA()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new as(3e4,6e4);function dl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ss(e,t,n,r,i={}){return kw(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=is(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),Iw.fetch()(Aw(e,e.config.apiHost,n,s),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))})}async function kw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},JC),t);try{const i=new QC(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw pc(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw pc(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw pc(e,"user-disabled",a);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GC(e,l,u);nn(e,l)}}catch(i){if(i instanceof er)throw i;nn(e,"network-request-failed",{message:String(i)})}}async function hl(e,t,n,r,i={}){const o=await ss(e,t,n,r,i);return"mfaPendingCredential"in o&&nn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Aw(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?u0(e.config,i):`${e.config.apiScheme}://${i}`}class QC{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),ZC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(e,t){return ss(e,"POST","/v1/accounts:delete",t)}async function tR(e,t){return ss(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nR(e,t=!1){const n=on(e),r=await n.getIdToken(t),i=l0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_a(Lf(i.auth_time)),issuedAtTime:_a(Lf(i.iat)),expirationTime:_a(Lf(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lf(e){return Number(e)*1e3}function l0(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const i=mw(n);return i?JSON.parse(i):(Sc("Failed to decode base64 JWT payload"),null)}catch(i){return Sc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rR(e){const t=l0(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof er&&iR(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function iR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $a(e,tR(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?cR(o.providerUserInfo):[],s=sR(e.providerData,a),c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),l=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cw(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,f)}async function aR(e){const t=on(e);await vu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sR(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function cR(e){return e.map(t=>{var{providerId:n}=t,r=s0(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(e,t){const n=await kw(e,{},async()=>{const r=is({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=Aw(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Iw.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return te(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await uR(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ua;return r&&(te(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class jr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=s0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await $a(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nR(this,t)}reload(){return aR(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await $a(this,eR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,c,u,l;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:g,emailVerified:y,isAnonymous:v,providerData:x,stsTokenManager:T}=n;te(g&&T,t,"internal-error");const M=Ua.fromJSON(this.name,T);te(typeof g=="string",t,"internal-error"),lr(f,t.name),lr(d,t.name),te(typeof y=="boolean",t,"internal-error"),te(typeof v=="boolean",t,"internal-error"),lr(h,t.name),lr(p,t.name),lr(m,t.name),lr(_,t.name),lr(w,t.name),lr(b,t.name);const R=new jr({uid:g,auth:t,email:d,emailVerified:y,displayName:f,isAnonymous:v,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:M,createdAt:w,lastLoginAt:b});return x&&Array.isArray(x)&&(R.providerData=x.map(O=>Object.assign({},O))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Ua;i.updateFromServerResponse(n);const o=new jr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await vu(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Rw.type="NONE";const Km=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e,t,n){return`firebase:${e}:${t}:${n}`}class Xi{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?jr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Xi(Vn(Km),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Vn(Km);const a=Mc(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const l=await u._get(a);if(l){const f=jr._fromJSON(t,l);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Xi(o,t,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Xi(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ow(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lw(t))return"Blackberry";if($w(t))return"Webos";if(f0(t))return"Safari";if((t.includes("chrome/")||Pw(t))&&!t.includes("edge/"))return"Chrome";if(Dw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Nw(e=rt()){return/firefox\//i.test(e)}function f0(e=rt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pw(e=rt()){return/crios\//i.test(e)}function Ow(e=rt()){return/iemobile/i.test(e)}function Dw(e=rt()){return/android/i.test(e)}function Lw(e=rt()){return/blackberry/i.test(e)}function $w(e=rt()){return/webos/i.test(e)}function pl(e=rt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lR(e=rt()){var t;return pl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fR(){return AA()&&document.documentMode===10}function Uw(e=rt()){return pl(e)||Dw(e)||$w(e)||Lw(e)||/windows phone/i.test(e)||Ow(e)}function dR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e,t=[]){let n;switch(e){case"Browser":n=Jm(rt());break;case"Worker":n=`${Jm(rt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const c=t(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zm(this),this.idTokenSubscription=new Zm(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===s)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?on(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new rs("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Vn(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return te(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function gl(e){return on(e)}class Zm{constructor(t){this.auth=t,this.observer=null,this.addObserver=LA(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gR(e,t,n){const r=gl(e);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Bw(t),{host:a,port:s}=mR(t),c=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bR()}function Bw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mR(e){const t=Bw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Qm(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Qm(a)}}}function Qm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function bR(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,n){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}async function yR(e,t){return ss(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(e,t){return hl(e,"POST","/v1/accounts:signInWithPassword",dl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(e,t){return hl(e,"POST","/v1/accounts:signInWithEmailLink",dl(e,t))}async function wR(e,t){return hl(e,"POST","/v1/accounts:signInWithEmailLink",dl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends d0{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Fa(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fa(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return _R(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vR(t,{email:this._email,oobCode:this._password});default:nn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return yR(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wR(t,{idToken:n,email:this._email,oobCode:this._password});default:nn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ji(e,t){return hl(e,"POST","/v1/accounts:signInWithIdp",dl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="http://localhost";class ai extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ai(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=s0(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ai(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ji(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ji(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ji(t,n)}buildRequest(){const t={requestUri:xR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=is(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TR(e){const t=ua(la(e)).link,n=t?ua(la(t)).deep_link_id:null,r=ua(la(e)).deep_link_id;return(r?ua(la(r)).link:null)||r||n||t||e}class h0{constructor(t){var n,r,i,o,a,s;const c=ua(la(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,f=ER((i=c.mode)!==null&&i!==void 0?i:null);te(u&&l&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const n=TR(t);try{return new h0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(t,n){return Fa._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=h0.parseLink(n);return te(r,"argument-error"),Fa._fromEmailAndCode(t,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends qw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends cs{constructor(){super("facebook.com")}static credential(t){return ai._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends cs{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ai._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends cs{constructor(){super("github.com")}static credential(t){return ai._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends cs{constructor(){super("twitter.com")}static credential(t,n){return ai._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await jr._fromIdTokenResponse(t,r,i),a=e1(r);return new bo({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=e1(r);return new bo({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function e1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends er{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wu.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new wu(t,n,r,i)}}function Hw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wu._fromErrorAndOperation(e,o,t,r):o})}async function SR(e,t,n=!1){const r=await $a(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await $a(e,Hw(r,i,t,e),n);te(o.idToken,r,"internal-error");const a=l0(o.idToken);te(a,r,"internal-error");const{sub:s}=a;return te(e.uid===s,r,"user-mismatch"),bo._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(e,t,n=!1){const r="signIn",i=await Hw(e,r,t),o=await bo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function IR(e,t){return zw(gl(e),t)}function kR(e,t,n){return IR(on(e),Co.credential(t,n))}function AR(e,t,n,r){return on(e).onIdTokenChanged(t,n,r)}function CR(e,t,n){return on(e).beforeAuthStateChanged(t,n)}function RR(e){return on(e).signOut()}const xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){const e=rt();return f0(e)||pl(e)}const PR=1e3,OR=10;class Gw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NR()&&dR(),this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);fR()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,OR):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gw.type="LOCAL";const Vw=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Yw.type="SESSION";const Xw=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new ml(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await DR(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ml.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=p0("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function $R(e){_n().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function UR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function BR(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firebaseLocalStorageDb",qR=1,Eu="firebaseLocalStorage",Jw="fbase_key";class us{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bl(e,t){return e.transaction([Eu],t?"readwrite":"readonly").objectStore(Eu)}function HR(){const e=indexedDB.deleteDatabase(Kw);return new us(e).toPromise()}function Hd(){const e=indexedDB.open(Kw,qR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Eu,{keyPath:Jw})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Eu)?t(r):(r.close(),await HR(),t(await Hd()))})})}async function t1(e,t,n){const r=bl(e,!0).put({[Jw]:t,value:n});return new us(r).toPromise()}async function zR(e,t){const n=bl(e,!1).get(t),r=await new us(n).toPromise();return r===void 0?null:r.value}function n1(e,t){const n=bl(e,!0).delete(t);return new us(n).toPromise()}const WR=800,GR=3;class Zw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>GR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ml._getInstance(BR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await UR(),!this.activeServiceWorker)return;this.sender=new LR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await t1(t,xu,"1"),await n1(t,xu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t1(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>zR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>n1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=bl(i,!1).getAll();return new us(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zw.type="LOCAL";const VR=Zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function XR(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=yn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YR().appendChild(r)})}function jR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new as(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e,t){return t?Vn(t):(te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends d0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ji(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ji(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ji(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JR(e){return zw(e.auth,new g0(e),e.bypassAuthState)}function ZR(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),MR(n,new g0(e),e.bypassAuthState)}async function QR(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),SR(n,new g0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return ZR;default:nn(this.auth,"internal-error")}}resolve(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new as(2e3,1e4);class Bi extends Qw{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const t=p0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,eN.get())};t()}}Bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="pendingRedirect",Ic=new Map;class nN extends Qw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const r=await rN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(e,t){const n=aN(t),r=oN(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iN(e,t){Ic.set(e._key(),t)}function oN(e){return Vn(e._redirectPersistence)}function aN(e){return Mc(tN,e.config.apiKey,e.name)}async function sN(e,t,n=!1){const r=gl(e),i=KR(r,t),a=await new nN(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=10*60*1e3;class uN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!e6(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cN&&this.cachedEventUids.clear(),this.cachedEventUids.has(r1(t))}saveEventToCache(t){this.cachedEventUids.add(r1(t)),this.lastProcessedEventTime=Date.now()}}function r1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function e6({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e6(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(e,t={}){return ss(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function pN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await fN(e);for(const n of t)try{if(gN(n))return}catch{}nn(e,"unauthorized-domain")}function gN(e){const t=qd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!hN.test(n))return!1;if(dN.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new as(3e4,6e4);function i1(){const e=_n().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bN(e){return new Promise((t,n)=>{var r,i,o;function a(){i1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{i1(),n(yn(e,"network-request-failed"))},timeout:mN.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=_n().gapi)===null||o===void 0)&&o.load)a();else{const s=jR("iframefcb");return _n()[s]=()=>{gapi.load?a():n(yn(e,"network-request-failed"))},XR(`https://apis.google.com/js/api.js?onload=${s}`).catch(c=>n(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function yN(e){return kc=kc||bN(e),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new as(5e3,15e3),vN="__/auth/iframe",wN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(e){const t=e.config;te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?u0(t,wN):`https://${e.config.authDomain}/${vN}`,r={apiKey:t.apiKey,appName:e.name,v:os},i=EN.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${is(r).slice(1)}`}async function SN(e){const t=await yN(e),n=_n().gapi;return te(n,e,"internal-error"),t.open({where:document.body,url:TN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=yn(e,"network-request-failed"),s=_n().setTimeout(()=>{o(a)},_N.get());function c(){_n().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,kN=600,AN="_blank",CN="http://localhost";class o1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(e,t,n,r=IN,i=kN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},MN),{width:r.toString(),height:i.toString(),top:o,left:a}),u=rt().toLowerCase();n&&(s=Pw(u)?AN:n),Nw(u)&&(t=t||CN,c.scrollbars="yes");const l=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(lR(u)&&s!=="_self")return NN(t||"",s),new o1(null);const f=window.open(t||"",s,l);te(f,e,"popup-blocked");try{f.focus()}catch{}return new o1(f)}function NN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="__/auth/handler",ON="emulator/auth/handler";function a1(e,t,n,r,i,o){te(e.config.authDomain,e,"auth-domain-config-required"),te(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:os,eventId:i};if(t instanceof qw){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",DA(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,u]of Object.entries(o||{}))a[c]=u}if(t instanceof cs){const c=t.getScopes().filter(u=>u!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];return`${DN(e)}?${is(s).slice(1)}`}function DN({config:e}){return e.emulator?u0(e,ON):`https://${e.authDomain}/${PN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=sN,this._overrideRedirectResult=iN}async _openPopup(t,n,r,i){var o;Jn((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=a1(t,n,r,qd(),i);return RN(t,a,p0())}async _openRedirect(t,n,r,i){return await this._originValidation(t),$R(a1(t,n,r,qd(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Jn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await SN(t),r=new uN(t);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($f,{type:$f},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$f];a!==void 0&&n(!!a),nn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uw()||f0()||pl()}}const $N=LN;var s1="@firebase/auth",c1="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BN(e){mo(new ii("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=r.options;return((s,c)=>{te(o&&!o.includes(":"),"invalid-api-key",{appName:s.name}),te(!(a!=null&&a.includes(":")),"argument-error",{appName:s.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(e)},l=new pR(s,c,u);return YC(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),mo(new ii("auth-internal",t=>{const n=gl(t.getProvider("auth").getImmediate());return(r=>new UN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(s1,c1,FN(e)),Xr(s1,c1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=5*60,HN=yw("authIdTokenMaxAge")||qN;let u1=null;const zN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HN)return;const i=n==null?void 0:n.token;u1!==i&&(u1=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t6(e=a0()){const t=o0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=VC(e,{popupRedirectResolver:$N,persistence:[VR,Vw,Xw]}),r=yw("authTokenSyncURL");if(r){const o=zN(r);CR(n,o,()=>o(n.currentUser)),AR(n,a=>o(a))}const i=bw("auth");return i&&gR(n,`http://${i}`),n}BN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firebasestorage.googleapis.com",r6="storageBucket",WN=2*60*1e3,GN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends er{constructor(t,n,r=0){super(Uf(t),`Firebase Storage: ${n} (${Uf(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Uf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function Uf(e){return"storage/"+e}function i6(){const e="An unknown error occurred, please check the error payload for server response.";return new Xe(Ge.UNKNOWN,e)}function VN(e){return new Xe(Ge.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function YN(e){return new Xe(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(Ge.UNAUTHENTICATED,e)}function jN(){return new Xe(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KN(e){return new Xe(Ge.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function JN(){return new Xe(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new Xe(Ge.CANCELED,"User canceled the upload/download.")}function QN(e){return new Xe(Ge.INVALID_URL,"Invalid URL '"+e+"'.")}function eP(e){return new Xe(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function tP(){return new Xe(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r6+"' property when initializing the app?")}function nP(){return new Xe(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zd(e){return new Xe(Ge.INVALID_ARGUMENT,e)}function o6(){return new Xe(Ge.APP_DELETED,"The Firebase app was deleted.")}function rP(e){return new Xe(Ge.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zo(e){throw new Xe(Ge.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=It.makeFromUrl(t,n)}catch{return new It(t,"")}if(r.path==="")return r;throw eP(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const l="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${l}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===n6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${m}/${i}/${_}`,"i"),g=[{regex:s,indices:c,postModify:o},{regex:h,indices:p,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<g.length;y++){const v=g[y],x=v.regex.exec(t);if(x){const T=x[v.indices.bucket];let M=x[v.indices.path];M||(M=""),r=new It(T,M),v.postModify(r);break}}if(r==null)throw QN(t);return r}}class iP{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function l(..._){u||(u=!0,t.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,e(h,c())},_)}function d(){o&&clearTimeout(o)}function h(_,...w){if(u){d();return}if(_){d(),l.call(null,_,...w);return}if(c()||a){d(),l.call(null,_,...w);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let p=!1;function m(_){p||(p=!0,d(),!u&&(i!==null?(_||(s=2),clearTimeout(i),f(0)):_||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}function aP(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(e){return e!==void 0}function cP(e){return typeof e=="object"&&!Array.isArray(e)}function a6(e){return typeof e=="string"||e instanceof String}function l1(e,t,n,r){if(r<t)throw zd(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zd(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function c6(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Kr||(Kr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,n,r,i,o,a,s,c,u,l,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new gc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Kr.NO_ERROR,c=o.getStatus();if(!s||uP(c,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===Kr.ABORT;r(!1,new gc(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new gc(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());sP(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=i6();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?o6():ZN();a(c)}else{const c=JN();a(c)}};this.canceled_?n(!1,new gc(!1,null,!0)):this.backoffId_=oP(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&aP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function fP(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function dP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pP(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function gP(e,t,n,r,i,o,a=!0){const s=c6(e.urlParams),c=e.url+s,u=Object.assign({},e.headers);return hP(u,t),fP(u,n),dP(u,o),pP(u,r),new lP(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(e){let t;try{t=JSON.parse(e)}catch{return null}return cP(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bP(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function l6(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e,t){return t}class lt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||yP}}let mc=null;function _P(e){return!a6(e)||e.length<2?e:l6(e)}function vP(){if(mc)return mc;const e=[];e.push(new lt("bucket")),e.push(new lt("generation")),e.push(new lt("metageneration")),e.push(new lt("name","fullPath",!0));function t(o,a){return _P(a)}const n=new lt("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new lt("size");return i.xform=r,e.push(i),e.push(new lt("timeCreated")),e.push(new lt("updated")),e.push(new lt("md5Hash",null,!0)),e.push(new lt("cacheControl",null,!0)),e.push(new lt("contentDisposition",null,!0)),e.push(new lt("contentEncoding",null,!0)),e.push(new lt("contentLanguage",null,!0)),e.push(new lt("contentType",null,!0)),e.push(new lt("metadata","customMetadata",!0)),mc=e,mc}function wP(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new It(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function xP(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return wP(r,e),r}function EP(e,t,n){const r=u6(t);return r===null?null:xP(e,r,n)}function TP(e,t,n,r){const i=u6(t);if(i===null||!a6(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const l=e.bucket,f=e.fullPath,d="/b/"+a(l)+"/o/"+a(f),h=s6(d,n,r),p=c6({alt:"media",token:u});return h+p})[0]}class SP{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(e){if(!e)throw i6()}function IP(e,t){function n(r,i){const o=EP(e,i,t);return MP(o!==null),TP(o,i,e.host,e._protocol)}return n}function kP(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=jN():i=XN():n.getStatus()===402?i=YN(e.bucket):n.getStatus()===403?i=KN(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function AP(e){const t=kP(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=VN(e.path)),o.serverResponse=i.serverResponse,o}return n}function CP(e,t,n){const r=t.fullServerUrl(),i=s6(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new SP(i,o,IP(e,n),a);return s.errorHandler=AP(t),s}class RP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class NP extends RP{initXhr(){this.xhr_.responseType="text"}}function PP(){return new NP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n){this._service=t,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new si(t,n)}get root(){const t=new It(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l6(this._location.path)}get storage(){return this._service}get parent(){const t=mP(this._location.path);if(t===null)return null;const n=new It(this._location.bucket,t);return new si(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw rP(t)}}function OP(e){e._throwIfRoot("getDownloadURL");const t=CP(e.storage,e._location,vP());return e.storage.makeRequestWithTokens(t,PP).then(n=>{if(n===null)throw nP();return n})}function DP(e,t){const n=bP(e._location.path,t),r=new It(e._location.bucket,n);return new si(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(e){return/^[A-Za-z]+:\/\//.test(e)}function $P(e,t){return new si(e,t)}function f6(e,t){if(e instanceof m0){const n=e;if(n._bucket==null)throw tP();const r=new si(n,n._bucket);return t!=null?f6(r,t):r}else return t!==void 0?DP(e,t):e}function UP(e,t){if(t&&LP(t)){if(e instanceof m0)return $P(e,t);throw zd("To use ref(service, url), the first argument must be a Storage instance.")}else return f6(e,t)}function f1(e,t){const n=t==null?void 0:t[r6];return n==null?null:It.makeFromBucketSpec(n,e)}function FP(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:SA(i,e.app.options.projectId))}class m0{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=n6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WN,this._maxUploadRetryTime=GN,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=f1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,t):this._bucket=f1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){l1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){l1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new si(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new iP(o6());{const a=gP(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const d1="@firebase/storage",h1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="storage";function BP(e){return e=on(e),OP(e)}function qP(e,t){return e=on(e),UP(e,t)}function HP(e=a0(),t){e=on(e);const r=o0(e,d6).getImmediate({identifier:t}),i=xA("storage");return i&&zP(r,...i),r}function zP(e,t,n,r={}){FP(e,t,n,r)}function WP(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new m0(n,r,i,t,os)}function GP(){mo(new ii(d6,WP,"PUBLIC").setMultipleInstances(!0)),Xr(d1,h1,""),Xr(d1,h1,"esm2017")}GP();const h6={authDomain:"gif-tools-1d6ce.firebaseapp.com",projectId:"gif-tools-1d6ce",storageBucket:"gif-tools-1d6ce.appspot.com",messagingSenderId:"194164895475",appId:"1:194164895475:web:9e71cc12714539cc17d186"};var VP="guest@5gindiaforum.in",YP={}.VITE_APP_PWD;h6.apiKey={}.VITE_API_KEY;console.log("local key loaded");const p1=hw(""),yl=hw(null);var b0=h6;b0.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M";console.log("firebaseConfig",b0);const p6=xw(b0),g1=t6(p6);async function XP(){const e=a0();var t=RR(t6(e));return t.then(()=>yl.set(void 0)),t}async function jP(e,t){return t=t||YP,e=e||VP,console.log("Signing in with ",e,t),g1.setPersistence(Vw).then(()=>kR(g1,e,t).then(n=>(yl.set(n),n)))}async function KP(e){e=e||"fss/hello.json";var t=HP(p6);const n=qP(t,e);return BP(n)}yl.subscribe(e=>{console.log("User Changed...",e)});function JP(e){return e}function ZP(e){if(e==null)return JP;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,c){c||(t=n=0);var u=2,l=s.length,f=new Array(l);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;u<l;)f[u]=s[u],++u;return f}}function QP(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function g6(e,t){var n=ZP(e.transform),r=e.arcs;function i(l,f){f.length&&f.pop();for(var d=r[l<0?~l:l],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));l<0&&QP(f,p)}function o(l){return n(l)}function a(l){for(var f=[],d=0,h=l.length;d<h;++d)i(l[d],f);return f.length<2&&f.push(f[0]),f}function s(l){for(var f=a(l);f.length<4;)f.push(f[0]);return f}function c(l){return l.map(s)}function u(l){var f=l.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(u)};case"Point":d=o(l.coordinates);break;case"MultiPoint":d=l.coordinates.map(o);break;case"LineString":d=a(l.arcs);break;case"MultiLineString":d=l.arcs.map(a);break;case"Polygon":d=c(l.arcs);break;case"MultiPolygon":d=l.arcs.map(c);break;default:return null}return{type:f,coordinates:d}}return u(t)}function eO(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(u,l){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++a],t[a]=u,t[l]=d)}),t.forEach(function(u){var l=s(u),f=l[0],d=l[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var _=p===h?h:p.concat(h);r[_.start=p.start]=i[_.end=h.end]=_}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function s(u){var l=e.arcs[u<0?~u:u],f=l[0],d;return e.transform?(d=[0,0],l.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=l[l.length-1],u<0?[d,f]:[f,d]}function c(u,l){for(var f in u){var d=u[f];delete l[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return c(i,r),c(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function tO(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[0]*i[1]-r[1]*i[0];return Math.abs(o)}function nO(e){return g6(e,rO.apply(this,arguments))}function rO(e,t){var n={},r=[],i=[];t.forEach(o);function o(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(o);break;case"Polygon":a(c.arcs);break;case"MultiPolygon":c.arcs.forEach(a);break}}function a(c){c.forEach(function(u){u.forEach(function(l){(n[l=l<0?~l:l]||(n[l]=[])).push(c)})}),r.push(c)}function s(c){return tO(g6(e,{type:"Polygon",arcs:[c]}).coordinates[0])}return r.forEach(function(c){if(!c._){var u=[],l=[c];for(c._=1,i.push(u);c=l.pop();)u.push(c),c.forEach(function(f){f.forEach(function(d){n[d<0?~d:d].forEach(function(h){h._||(h._=1,l.push(h))})})})}}),r.forEach(function(c){delete c._}),{type:"MultiPolygon",arcs:i.map(function(c){var u=[],l;if(c.forEach(function(m){m.forEach(function(_){_.forEach(function(w){n[w<0?~w:w].length<2&&u.push(w)})})}),u=eO(e,u),(l=u.length)>1)for(var f=1,d=s(u[0]),h,p;f<l;++f)(h=s(u[f]))>d&&(p=u[0],u[0]=u[f],u[f]=p,d=h);return u}).filter(function(c){return c.length>0})}}var et=63710088e-1,y0={centimeters:et*100,centimetres:et*100,degrees:et/111325,feet:et*3.28084,inches:et*39.37,kilometers:et/1e3,kilometres:et/1e3,meters:et,metres:et,miles:et/1609.344,millimeters:et*1e3,millimetres:et*1e3,nauticalmiles:et/1852,radians:1,yards:et*1.0936},iO={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/et,yards:1.0936133},Wd={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Rt(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function oO(e,t,n){switch(e){case"Point":return Bt(t).geometry;case"LineString":return Zt(t).geometry;case"Polygon":return _l(t).geometry;case"MultiPoint":return m6(t).geometry;case"MultiLineString":return _0(t).geometry;case"MultiPolygon":return b6(t).geometry;default:throw new Error(e+" is invalid")}}function Bt(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Tu(e[0])||!Tu(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return Rt(r,t,n)}function aO(e,t,n){return n===void 0&&(n={}),Mn(e.map(function(r){return Bt(r,t)}),n)}function _l(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return Rt(s,t,n)}function sO(e,t,n){return n===void 0&&(n={}),Mn(e.map(function(r){return _l(r,t)}),n)}function Zt(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return Rt(r,t,n)}function cO(e,t,n){return n===void 0&&(n={}),Mn(e.map(function(r){return Zt(r,t)}),n)}function Mn(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function _0(e,t,n){n===void 0&&(n={});var r={type:"MultiLineString",coordinates:e};return Rt(r,t,n)}function m6(e,t,n){n===void 0&&(n={});var r={type:"MultiPoint",coordinates:e};return Rt(r,t,n)}function b6(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return Rt(r,t,n)}function uO(e,t,n){n===void 0&&(n={});var r={type:"GeometryCollection",geometries:e};return Rt(r,t,n)}function lO(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function v0(e,t){t===void 0&&(t="kilometers");var n=y0[t];if(!n)throw new Error(t+" units is invalid");return e*n}function w0(e,t){t===void 0&&(t="kilometers");var n=y0[t];if(!n)throw new Error(t+" units is invalid");return e/n}function fO(e,t){return y6(w0(e,t))}function dO(e){var t=e%360;return t<0&&(t+=360),t}function y6(e){var t=e%(2*Math.PI);return t*180/Math.PI}function fa(e){var t=e%360;return t*Math.PI/180}function hO(e,t,n){if(t===void 0&&(t="kilometers"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return v0(w0(e,t),n)}function pO(e,t,n){if(t===void 0&&(t="meters"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=Wd[t];if(!r)throw new Error("invalid original units");var i=Wd[n];if(!i)throw new Error("invalid final units");return e/r*i}function Tu(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function x0(e){return!!e&&e.constructor===Object}function gO(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!Tu(t))throw new Error("bbox must only contain numbers")})}function mO(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const bO=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Wd,bearingToAzimuth:dO,convertArea:pO,convertLength:hO,degreesToRadians:fa,earthRadius:et,factors:y0,feature:Rt,featureCollection:Mn,geometry:oO,geometryCollection:uO,isNumber:Tu,isObject:x0,lengthToDegrees:fO,lengthToRadians:w0,lineString:Zt,lineStrings:cO,multiLineString:_0,multiPoint:m6,multiPolygon:b6,point:Bt,points:aO,polygon:_l,polygons:sO,radiansToDegrees:y6,radiansToLength:v0,round:lO,unitsFactors:iO,validateBBox:gO,validateId:mO},Symbol.toStringTag,{value:"Module"}));function di(e,t,n){if(e!==null)for(var r,i,o,a,s,c,u,l=0,f=0,d,h=e.type,p=h==="FeatureCollection",m=h==="Feature",_=p?e.features.length:1,w=0;w<_;w++){u=p?e.features[w].geometry:m?e.geometry:e,d=u?u.type==="GeometryCollection":!1,s=d?u.geometries.length:1;for(var b=0;b<s;b++){var g=0,y=0;if(a=d?u.geometries[b]:u,a!==null){c=a.coordinates;var v=a.type;switch(l=n&&(v==="Polygon"||v==="MultiPolygon")?1:0,v){case null:break;case"Point":if(t(c,f,w,g,y)===!1)return!1;f++,g++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(t(c[r],f,w,g,y)===!1)return!1;f++,v==="MultiPoint"&&g++}v==="LineString"&&g++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-l;i++){if(t(c[r][i],f,w,g,y)===!1)return!1;f++}v==="MultiLineString"&&g++,v==="Polygon"&&y++}v==="Polygon"&&g++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(y=0,i=0;i<c[r].length;i++){for(o=0;o<c[r][i].length-l;o++){if(t(c[r][i][o],f,w,g,y)===!1)return!1;f++}y++}g++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(di(a.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function yO(e,t,n,r){var i=n;return di(e,function(o,a,s,c,u){a===0&&n===void 0?i=o:i=t(i,o,a,s,c,u)},r),i}function _6(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case"Feature":t(e.properties,0);break}}function _O(e,t,n){var r=n;return _6(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function Ba(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function vO(e,t,n){var r=n;return Ba(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function wO(e){var t=[];return di(e,function(n){t.push(n)}),t}function E0(e,t){var n,r,i,o,a,s,c,u,l,f,d=0,h=e.type==="FeatureCollection",p=e.type==="Feature",m=h?e.features.length:1;for(n=0;n<m;n++){for(s=h?e.features[n].geometry:p?e.geometry:e,u=h?e.features[n].properties:p?e.properties:{},l=h?e.features[n].bbox:p?e.bbox:void 0,f=h?e.features[n].id:p?e.id:void 0,c=s?s.type==="GeometryCollection":!1,a=c?s.geometries.length:1,i=0;i<a;i++){if(o=c?s.geometries[i]:s,o===null){if(t(null,d,u,l,f)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,d,u,l,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],d,u,l,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}d++}}function v6(e,t,n){var r=n;return E0(e,function(i,o,a,s,c){o===0&&n===void 0?r=i:r=t(r,i,o,a,s,c)}),r}function Zn(e,t){E0(e,function(n,r,i,o,a){var s=n===null?null:n.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return t(Rt(n,i,{bbox:o,id:a}),r,0)===!1?!1:void 0}var c;switch(s){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var u=0;u<n.coordinates.length;u++){var l=n.coordinates[u],f={type:c,coordinates:l};if(t(Rt(f,i),r,u)===!1)return!1}})}function xO(e,t,n){var r=n;return Zn(e,function(i,o,a){o===0&&a===0&&n===void 0?r=i:r=t(r,i,o,a)}),r}function w6(e,t){Zn(e,function(n,r,i){var o=0;if(n.geometry){var a=n.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var s,c=0,u=0,l=0;if(di(n,function(f,d,h,p,m){if(s===void 0||r>c||p>u||m>l){s=f,c=r,u=p,l=m,o=0;return}var _=Zt([s,f],n.properties);if(t(_,r,i,m,o)===!1)return!1;o++,s=f})===!1)return!1}}})}function EO(e,t,n){var r=n,i=!1;return w6(e,function(o,a,s,c,u){i===!1&&n===void 0?r=o:r=t(r,o,a,s,c,u),i=!0}),r}function x6(e,t){if(!e)throw new Error("geojson is required");Zn(e,function(n,r,i){if(n.geometry!==null){var o=n.geometry.type,a=n.geometry.coordinates;switch(o){case"LineString":if(t(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(t(Zt(a[s],n.properties),r,i,s)===!1)return!1;break}}})}function TO(e,t,n){var r=n;return x6(e,function(i,o,a,s){o===0&&n===void 0?r=i:r=t(r,i,o,a,s)}),r}function SO(e,t){if(t=t||{},!x0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=c.length+o-1),Zt([c[o],c[o+1]],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o-1),Zt([c[i][o],c[i][o+1]],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o-1),Zt([c[r][o],c[r][o+1]],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o-1),Zt([c[r][i][o],c[r][i][o+1]],a,t)}throw new Error("geojson is invalid")}function MO(e,t){if(t=t||{},!x0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":return Bt(c,a,t);case"MultiPoint":return r<0&&(r=c.length+r),Bt(c[r],a,t);case"LineString":return o<0&&(o=c.length+o),Bt(c[o],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),Bt(c[i][o],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o),Bt(c[r][o],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o),Bt(c[r][i][o],a,t)}throw new Error("geojson is invalid")}const IO=Object.freeze(Object.defineProperty({__proto__:null,coordAll:wO,coordEach:di,coordReduce:yO,featureEach:Ba,featureReduce:vO,findPoint:MO,findSegment:SO,flattenEach:Zn,flattenReduce:xO,geomEach:E0,geomReduce:v6,lineEach:x6,lineReduce:TO,propEach:_6,propReduce:_O,segmentEach:w6,segmentReduce:EO},Symbol.toStringTag,{value:"Module"}));function Su(e){var t=[1/0,1/0,-1/0,-1/0];return di(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}Su.default=Su;const kO=Object.freeze(Object.defineProperty({__proto__:null,default:Su},Symbol.toStringTag,{value:"Module"}));function Gd(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function qa(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function vl(e){return e.type==="Feature"?e.geometry:e}function Ha(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=Gd(e),i=vl(t),o=i.type,a=t.bbox,s=i.coordinates;if(a&&AO(r,a)===!1)return!1;o==="Polygon"&&(s=[s]);for(var c=!1,u=0;u<s.length&&!c;u++)if(m1(r,s[u][0],n.ignoreBoundary)){for(var l=!1,f=1;f<s[u].length&&!l;)m1(r,s[u][f],!n.ignoreBoundary)&&(l=!0),f++;l||(c=!0)}return c}function m1(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],c=t[o][0],u=t[o][1],l=e[1]*(a-c)+s*(c-e[0])+u*(e[0]-a)===0&&(a-e[0])*(c-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(l)return!n;var f=s>e[1]!=u>e[1]&&e[0]<(c-a)*(e[1]-s)/(u-s)+a;f&&(r=!r)}return r}function AO(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Vd(e,t,n){n===void 0&&(n={});var r=Gd(e),i=Gd(t),o=fa(i[1]-r[1]),a=fa(i[0]-r[0]),s=fa(r[1]),c=fa(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(c);return v0(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function CO(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return E6(e);case"FeatureCollection":return RO(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return T0(e);default:throw new Error("unknown GeoJSON type")}}function E6(e){var t={type:"Feature"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=T6(e.properties),t.geometry=T0(e.geometry),t}function T6(e){var t={};return e&&Object.keys(e).forEach(function(n){var r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(function(i){return i}):t[n]=T6(r):t[n]=r}),t}function RO(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(function(n){return E6(n)}),t}function T0(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(n){return T0(n)}),t):(t.coordinates=S6(e.coordinates),t)}function S6(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(n){return S6(n)})}function NO(e,t){t===void 0&&(t={});var n=0,r=0,i=0;return di(e,function(o){n+=o[0],r+=o[1],i++},!0),Bt([n/i,r/i],t.properties)}function PO(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,i=0;return Ba(t,function(o,a){var s=Vd(e,o);s<r&&(i=a,r=s)}),n=CO(t.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function b1(e){if(!e)throw new Error("geojson is required");var t=[];return Zn(e,function(n){OO(n,t)}),Mn(t)}function OO(e,t){var n=[],r=e.geometry;if(r!==null){switch(r.type){case"Polygon":n=qa(r);break;case"LineString":n=[qa(r)]}n.forEach(function(i){var o=DO(i,e.properties);o.forEach(function(a){a.id=t.length,t.push(a)})})}}function DO(e,t){var n=[];return e.reduce(function(r,i){var o=Zt([r,i],t);return o.bbox=LO(r,i),n.push(o),i}),n}function LO(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=n<i?n:i,s=r<o?r:o,c=n>i?n:i,u=r>o?r:o;return[a,s,c,u]}var Mu={},$O={get exports(){return Mu},set exports(e){Mu=e}},Yd={},UO={get exports(){return Yd},set exports(e){Yd=e}};(function(e,t){(function(n,r){e.exports=r()})(hA,function(){function n(b,g,y,v,x){(function T(M,R,O,A,N){for(;A>O;){if(A-O>600){var C=A-O+1,k=R-O+1,I=Math.log(C),L=.5*Math.exp(2*I/3),F=.5*Math.sqrt(I*L*(C-L)/C)*(k-C/2<0?-1:1),W=Math.max(O,Math.floor(R-k*L/C+F)),V=Math.min(A,Math.floor(R+(C-k)*L/C+F));T(M,R,W,V,N)}var K=M[R],re=O,j=A;for(r(M,O,R),N(M[A],K)>0&&r(M,O,A);re<j;){for(r(M,re,j),re++,j--;N(M[re],K)<0;)re++;for(;N(M[j],K)>0;)j--}N(M[O],K)===0?r(M,O,j):r(M,++j,A),j<=R&&(O=j+1),R<=j&&(A=j-1)}})(b,g,y||0,v||b.length-1,x||i)}function r(b,g,y){var v=b[g];b[g]=b[y],b[y]=v}function i(b,g){return b<g?-1:b>g?1:0}var o=function(b){b===void 0&&(b=9),this._maxEntries=Math.max(4,b),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(b,g,y){if(!y)return g.indexOf(b);for(var v=0;v<g.length;v++)if(y(b,g[v]))return v;return-1}function s(b,g){c(b,0,b.children.length,g,b)}function c(b,g,y,v,x){x||(x=_(null)),x.minX=1/0,x.minY=1/0,x.maxX=-1/0,x.maxY=-1/0;for(var T=g;T<y;T++){var M=b.children[T];u(x,b.leaf?v(M):M)}return x}function u(b,g){return b.minX=Math.min(b.minX,g.minX),b.minY=Math.min(b.minY,g.minY),b.maxX=Math.max(b.maxX,g.maxX),b.maxY=Math.max(b.maxY,g.maxY),b}function l(b,g){return b.minX-g.minX}function f(b,g){return b.minY-g.minY}function d(b){return(b.maxX-b.minX)*(b.maxY-b.minY)}function h(b){return b.maxX-b.minX+(b.maxY-b.minY)}function p(b,g){return b.minX<=g.minX&&b.minY<=g.minY&&g.maxX<=b.maxX&&g.maxY<=b.maxY}function m(b,g){return g.minX<=b.maxX&&g.minY<=b.maxY&&g.maxX>=b.minX&&g.maxY>=b.minY}function _(b){return{children:b,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(b,g,y,v,x){for(var T=[g,y];T.length;)if(!((y=T.pop())-(g=T.pop())<=v)){var M=g+Math.ceil((y-g)/v/2)*v;n(b,M,g,y,x),T.push(g,M,M,y)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(b){var g=this.data,y=[];if(!m(b,g))return y;for(var v=this.toBBox,x=[];g;){for(var T=0;T<g.children.length;T++){var M=g.children[T],R=g.leaf?v(M):M;m(b,R)&&(g.leaf?y.push(M):p(b,R)?this._all(M,y):x.push(M))}g=x.pop()}return y},o.prototype.collides=function(b){var g=this.data;if(!m(b,g))return!1;for(var y=[];g;){for(var v=0;v<g.children.length;v++){var x=g.children[v],T=g.leaf?this.toBBox(x):x;if(m(b,T)){if(g.leaf||p(b,T))return!0;y.push(x)}}g=y.pop()}return!1},o.prototype.load=function(b){if(!b||!b.length)return this;if(b.length<this._minEntries){for(var g=0;g<b.length;g++)this.insert(b[g]);return this}var y=this._build(b.slice(),0,b.length-1,0);if(this.data.children.length)if(this.data.height===y.height)this._splitRoot(this.data,y);else{if(this.data.height<y.height){var v=this.data;this.data=y,y=v}this._insert(y,this.data.height-y.height-1,!0)}else this.data=y;return this},o.prototype.insert=function(b){return b&&this._insert(b,this.data.height-1),this},o.prototype.clear=function(){return this.data=_([]),this},o.prototype.remove=function(b,g){if(!b)return this;for(var y,v,x,T=this.data,M=this.toBBox(b),R=[],O=[];T||R.length;){if(T||(T=R.pop(),v=R[R.length-1],y=O.pop(),x=!0),T.leaf){var A=a(b,T.children,g);if(A!==-1)return T.children.splice(A,1),R.push(T),this._condense(R),this}x||T.leaf||!p(T,M)?v?(y++,T=v.children[y],x=!1):T=null:(R.push(T),O.push(y),y=0,v=T,T=T.children[0])}return this},o.prototype.toBBox=function(b){return b},o.prototype.compareMinX=function(b,g){return b.minX-g.minX},o.prototype.compareMinY=function(b,g){return b.minY-g.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(b){return this.data=b,this},o.prototype._all=function(b,g){for(var y=[];b;)b.leaf?g.push.apply(g,b.children):y.push.apply(y,b.children),b=y.pop();return g},o.prototype._build=function(b,g,y,v){var x,T=y-g+1,M=this._maxEntries;if(T<=M)return s(x=_(b.slice(g,y+1)),this.toBBox),x;v||(v=Math.ceil(Math.log(T)/Math.log(M)),M=Math.ceil(T/Math.pow(M,v-1))),(x=_([])).leaf=!1,x.height=v;var R=Math.ceil(T/M),O=R*Math.ceil(Math.sqrt(M));w(b,g,y,O,this.compareMinX);for(var A=g;A<=y;A+=O){var N=Math.min(A+O-1,y);w(b,A,N,R,this.compareMinY);for(var C=A;C<=N;C+=R){var k=Math.min(C+R-1,N);x.children.push(this._build(b,C,k,v-1))}}return s(x,this.toBBox),x},o.prototype._chooseSubtree=function(b,g,y,v){for(;v.push(g),!g.leaf&&v.length-1!==y;){for(var x=1/0,T=1/0,M=void 0,R=0;R<g.children.length;R++){var O=g.children[R],A=d(O),N=(C=b,k=O,(Math.max(k.maxX,C.maxX)-Math.min(k.minX,C.minX))*(Math.max(k.maxY,C.maxY)-Math.min(k.minY,C.minY))-A);N<T?(T=N,x=A<x?A:x,M=O):N===T&&A<x&&(x=A,M=O)}g=M||g.children[0]}var C,k;return g},o.prototype._insert=function(b,g,y){var v=y?b:this.toBBox(b),x=[],T=this._chooseSubtree(v,this.data,g,x);for(T.children.push(b),u(T,v);g>=0&&x[g].children.length>this._maxEntries;)this._split(x,g),g--;this._adjustParentBBoxes(v,x,g)},o.prototype._split=function(b,g){var y=b[g],v=y.children.length,x=this._minEntries;this._chooseSplitAxis(y,x,v);var T=this._chooseSplitIndex(y,x,v),M=_(y.children.splice(T,y.children.length-T));M.height=y.height,M.leaf=y.leaf,s(y,this.toBBox),s(M,this.toBBox),g?b[g-1].children.push(M):this._splitRoot(y,M)},o.prototype._splitRoot=function(b,g){this.data=_([b,g]),this.data.height=b.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(b,g,y){for(var v,x,T,M,R,O,A,N=1/0,C=1/0,k=g;k<=y-g;k++){var I=c(b,0,k,this.toBBox),L=c(b,k,y,this.toBBox),F=(x=I,T=L,M=void 0,R=void 0,O=void 0,A=void 0,M=Math.max(x.minX,T.minX),R=Math.max(x.minY,T.minY),O=Math.min(x.maxX,T.maxX),A=Math.min(x.maxY,T.maxY),Math.max(0,O-M)*Math.max(0,A-R)),W=d(I)+d(L);F<N?(N=F,v=k,C=W<C?W:C):F===N&&W<C&&(C=W,v=k)}return v||y-g},o.prototype._chooseSplitAxis=function(b,g,y){var v=b.leaf?this.compareMinX:l,x=b.leaf?this.compareMinY:f;this._allDistMargin(b,g,y,v)<this._allDistMargin(b,g,y,x)&&b.children.sort(v)},o.prototype._allDistMargin=function(b,g,y,v){b.children.sort(v);for(var x=this.toBBox,T=c(b,0,g,x),M=c(b,y-g,y,x),R=h(T)+h(M),O=g;O<y-g;O++){var A=b.children[O];u(T,b.leaf?x(A):A),R+=h(T)}for(var N=y-g-1;N>=g;N--){var C=b.children[N];u(M,b.leaf?x(C):C),R+=h(M)}return R},o.prototype._adjustParentBBoxes=function(b,g,y){for(var v=y;v>=0;v--)u(g[v],b)},o.prototype._condense=function(b){for(var g=b.length-1,y=void 0;g>=0;g--)b[g].children.length===0?g>0?(y=b[g-1].children).splice(y.indexOf(b[g]),1):this.clear():s(b[g],this.toBBox)},o})})(UO);const FO=n0(bO),BO=n0(IO),qO=n0(kO);var ln=Yd,M6=FO,I6=BO,Li=qO.default,HO=I6.featureEach;I6.coordEach;M6.polygon;var y1=M6.featureCollection;function k6(e){var t=new ln(e);return t.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Li(n),ln.prototype.insert.call(this,n)},t.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Li(i),r.push(i)}):HO(n,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Li(i),r.push(i)}),ln.prototype.load.call(this,r)},t.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Li(n),ln.prototype.remove.call(this,n,r)},t.clear=function(){return ln.prototype.clear.call(this)},t.search=function(n){var r=ln.prototype.search.call(this,this.toBBox(n));return y1(r)},t.collides=function(n){return ln.prototype.collides.call(this,this.toBBox(n))},t.all=function(){var n=ln.prototype.all.call(this);return y1(n)},t.toJSON=function(){return ln.prototype.toJSON.call(this)},t.fromJSON=function(n){return ln.prototype.fromJSON.call(this,n)},t.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=Li(n);else if(n.type==="FeatureCollection")r=Li(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},t}$O.exports=k6;Mu.default=k6;function S0(e,t){var n={},r=[];if(e.type==="LineString"&&(e=Rt(e)),t.type==="LineString"&&(t=Rt(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=_1(e,t);return i&&r.push(i),Mn(r)}var o=Mu();return o.load(b1(t)),Ba(b1(e),function(a){Ba(o.search(a),function(s){var c=_1(a,s);if(c){var u=qa(c).join(",");n[u]||(n[u]=!0,r.push(c))}})}),Mn(r)}function _1(e,t){var n=qa(e),r=qa(t);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(r.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],a=n[1][0],s=n[1][1],c=r[0][0],u=r[0][1],l=r[1][0],f=r[1][1],d=(f-u)*(a-i)-(l-c)*(s-o),h=(l-c)*(o-u)-(f-u)*(i-c),p=(a-i)*(o-u)-(s-o)*(i-c);if(d===0)return null;var m=h/d,_=p/d;if(m>=0&&m<=1&&_>=0&&_<=1){var w=i+m*(a-i),b=o+m*(s-o);return Bt([w,b])}return null}var v1=6378137;function zO(e){return v6(e,function(t,n){return t+WO(n)},0)}function WO(e){var t=0,n;switch(e.type){case"Polygon":return w1(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=w1(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w1(e){var t=0;if(e&&e.length>0){t+=Math.abs(x1(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(x1(e[n]))}return t}function x1(e){var t,n,r,i,o,a,s,c=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,o=u-1,a=0):s===u-1?(i=u-1,o=0,a=1):(i=s,o=s+1,a=s+2),t=e[i],n=e[o],r=e[a],c+=(Ff(r[0])-Ff(t[0]))*Math.sin(Ff(n[1]));c=c*v1*v1/2}return c}function Ff(e){return e*Math.PI/180}function Xd(e,t){t===void 0&&(t={});var n=vl(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),n.type){case"Polygon":return GO(n,t);case"MultiPolygon":return VO(n,t);default:throw new Error("invalid poly")}}function GO(e,t){t===void 0&&(t={});var n=vl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{};return A6(r,i)}function VO(e,t){t===void 0&&(t={});var n=vl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{},o=[];return r.forEach(function(a){o.push(A6(a,i))}),Mn(o)}function A6(e,t){return e.length>1?_0(e,t):Zt(e[0],t)}function YO(e,t){var n=!0;return Zn(e,function(r){Zn(t,function(i){if(n===!1)return!1;n=XO(r.geometry,i.geometry)})}),n}function XO(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!ZO(e.coordinates,t.coordinates);case"LineString":return!E1(t,e);case"Polygon":return!Ha(e,t)}break;case"LineString":switch(t.type){case"Point":return!E1(e,t);case"LineString":return!jO(e,t);case"Polygon":return!T1(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Ha(t,e);case"LineString":return!T1(e,t);case"Polygon":return!KO(t,e)}}return!1}function E1(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(JO(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function jO(e,t){var n=S0(e,t);return n.features.length>0}function T1(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var i=r[n];if(Ha(i,e))return!0}var o=S0(t,Xd(e));return o.features.length>0}function KO(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var i=r[n];if(Ha(i,t))return!0}for(var o=0,a=t.coordinates[0];o<a.length;o++){var s=a[o];if(Ha(s,e))return!0}var c=S0(Xd(e),Xd(t));return c.features.length>0}function JO(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],a=t[1]-e[1],s=r*a-i*o;return s!==0?!1:Math.abs(o)>=Math.abs(a)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]}function ZO(e,t){return e[0]===t[0]&&e[1]===t[1]}function QO(e,t){var n=!1;return Zn(e,function(r){Zn(t,function(i){if(n===!0)return!0;n=!YO(r.geometry,i.geometry)})}),n}function eD(e,t,n,r){r===void 0&&(r={});for(var i=[],o=e[0],a=e[1],s=e[2],c=e[3],u=t/Vd([o,a],[s,a],r),l=u*(s-o),f=n/Vd([o,a],[o,c],r),d=f*(c-a),h=s-o,p=c-a,m=Math.floor(h/l),_=Math.floor(p/d),w=(h-m*l)/2,b=(p-_*d)/2,g=o+w,y=0;y<m;y++){for(var v=a+b,x=0;x<_;x++){var T=_l([[[g,v],[g,v+d],[g+l,v+d],[g+l,v],[g,v]]],r.properties);r.mask?QO(r.mask,T)&&i.push(T):i.push(T),v+=d}g+=l}return Mn(i)}function tD(e,t,n){return n===void 0&&(n={}),eD(e,t,t,n)}const{document:S1}=G6;function M1(e,t,n){const r=e.slice();return r[99]=t[n][0],r[100]=t[n][1],r}function I1(e,t,n){const r=e.slice();return r[99]=t[n][0],r[103]=t[n][1],r}function k1(e,t,n){const r=e.slice();return r[106]=t[n],r}function nD(e){return{c:Pe,m:Pe,p:Pe,d:Pe}}function rD(e){let t;function n(o,a){return o[22]==null?oD:iD}let r=n(e),i=r(e);return{c(){i.c(),t=P6()},m(o,a){i.m(o,a),vr(o,t,a)},p(o,a){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){i.d(o),o&&Qt(t)}}}function iD(e){let t,n=e[22].user.email+"",r;return{c(){t=$("div"),r=Y(n),U(t,"class","ui green top left attached label")},m(i,o){vr(i,t,o),E(t,r)},p(i,o){o[0]&4194304&&n!==(n=i[22].user.email+"")&&xe(r,n)},d(i){i&&Qt(t)}}}function oD(e){return{c:Pe,m:Pe,p:Pe,d:Pe}}function aD(e){let t;return{c(){t=$("label"),t.innerHTML='Signing.. <i class="icon spinner"></i>',U(t,"class","ui orange label top left attached")},m(n,r){vr(n,t,r)},p:Pe,d(n){n&&Qt(t)}}}function A1(e){let t,n=e[106].Name+"",r,i,o=e[106].Height+"",a,s,c=e[106].BSDensity+"",u,l;return{c(){t=$("option"),r=Y(n),i=Y(" - ( "),a=Y(o),s=Y("m, BS:"),u=Y(c),l=Y(`/sqkm)
            `),t.__value=e[106],t.value=t.__value},m(f,d){vr(f,t,d),E(t,r),E(t,i),E(t,a),E(t,s),E(t,u),E(t,l)},p:Pe,d(f){f&&Qt(t)}}}function C1(e){let t,n=e[99]+"",r,i,o=e[8].Ra[e[103].val]+"",a,s;return{c(){t=$("option"),r=Y(n),i=Y(":"),a=Y(o),s=Y(`%
            `),t.__value=e[103],t.value=t.__value},m(c,u){vr(c,t,u),E(t,r),E(t,i),E(t,a),E(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Ra[c[103].val]+"")&&xe(a,o)},d(c){c&&Qt(t)}}}function R1(e){let t,n=e[99]+"",r,i,o=e[8].Rb[e[100].val]+"",a,s;return{c(){t=$("option"),r=Y(n),i=Y(":"),a=Y(o),s=Y(`%
            `),t.__value=e[100],t.value=t.__value},m(c,u){vr(c,t,u),E(t,r),E(t,i),E(t,a),E(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Rb[c[100].val]+"")&&xe(a,o)},d(c){c&&Qt(t)}}}function sD(e){let t,n,r,i,o,a,s,c,u,l,f,d,h,p,m,_=e[26]?"Un Pin":"Pin Me",w,b,g,y,v,x,T,M,R,O,A=e[22]==null?"Login":"Log Out",N,C,k,I,L,F,W,V,K,re,j,we,q,ce,Ae,bt,Ie,B,ee,J,D,me,se,pe=e[17]?"Switch to  Mean":"Switch to Median",Te,Qe,ye,tr,je,Ce,Ke,he,an,Le,sn,it,$e,ot,Pt,nr,Ot,Je,yt,_t,ls,rr,hi,fs,Dt,ds,cn,ir,or,hs,Ro,ps,ar,sr,gs,No,ms,cr,S,H,P,Z,_e,Re,Ue,vt,Po,Fe,Vt,Lt,bs=e[19]-e[21]>=-10.5?"Failed":"Success",wl,ys,M0,ke,pi,_s,xl,I0,Oo,k0,Do,A0,vs=e[14].toFixed(0)+"",El,C0,R0,gi,ws,xs=ht("4.2~s")(e[11])+"",Tl,N0,Pr,P0,Lo,O0,Es=e[11].toFixed(0)+"",Sl,D0,L0,mi,Ts=e[12].toFixed(0)+"",Ml,$0,Ss=e[13].toFixed(0)+"",Il,U0,bi,Ms,Is=ht("4.2~s")(e[24])+"",kl,F0,$o,B0,Uo,q0,ks=e[24].toFixed(0)+"",Al,H0,z0,yi,As,Cs=e[21].toFixed(1)+"",Cl,W0,Rs,G0,_i,Ns,Ps=(e[21]-10.5).toFixed(1)+"",Rl,V0,Os,Y0,X0,j0,Or,Ds,Ls=(e[19]==null?"???":(e[19]-e[21]).toFixed(1))+"",Nl,K0,$s,Us,J0,Dr,vi,Fs,Bs,Z0,qs=(e[19]==null?"???":e[19].toFixed(1))+"",Pl,Q0,Hs,zs,ep,Lr,wi,tp,Ws=(e[18]!=null?e[18][0].I.toFixed(2):"???")+"",Ol,np,rp,ip,op,xi,ap,Gs=(e[18]!=null?e[18][1].I.toFixed(2):"???")+"",Dl,sp,cp,$r,Fo,up,lp,at,Bo,fp,Vs=e[0]?"[Hidden]":"",Ll,dp,Ei,Ti,hp,$l,pp,gp,mp,bp,yp,qo,_p,Ul,vp,$t={ctx:e,current:null,token:null,hasCatch:!1,pending:aD,then:rD,catch:nD,value:109};Mp(y=e[23],$t);let Si=e[29],st=[];for(let le=0;le<Si.length;le+=1)st[le]=A1(k1(e,Si,le));let Mi=[...e[30]],ct=[];for(let le=0;le<Mi.length;le+=1)ct[le]=C1(I1(e,Mi,le));let Ii=[...e[31]],ut=[];for(let le=0;le<Ii.length;le+=1)ut[le]=R1(M1(e,Ii,le));return{c(){t=$("link"),n=z(),r=$("main"),i=$("div"),o=$("i"),a=z(),s=Y(`ef711bc
`),c=z(),u=$("h1"),u.textContent="IMT interference to FSS Analysis",l=z(),f=$("div"),d=$("a"),h=$("i"),m=z(),w=Y(_),g=z(),$t.block.c(),v=z(),x=$("br"),T=z(),M=$("div"),R=$("div"),O=$("button"),N=Y(A),C=z(),k=$("input"),L=z(),F=$("div"),W=$("label"),W.textContent="Noise Temp.(K)",V=z(),K=$("input"),re=z(),j=$("label"),j.textContent="FSS Rx Gain (dBi)",we=z(),q=$("input"),ce=z(),Ae=$("div"),bt=$("input"),Ie=z(),B=$("label"),B.textContent="Fixed FSS Gain",ee=z(),J=$("div"),D=$("input"),me=z(),se=$("label"),Te=Y(pe),Qe=z(),ye=$("div"),tr=$("label"),je=Y("Satellite Angle : "),Ce=Y(e[6]),Ke=z(),he=$("input"),an=z(),Le=$("input"),sn=z(),it=$("div"),$e=$("label"),$e.textContent="Environment",ot=z(),Pt=$("select");for(let le=0;le<st.length;le+=1)st[le].c();nr=z(),Ot=$("div"),Je=$("label"),Je.textContent="Ra Options",yt=z(),_t=$("select");for(let le=0;le<ct.length;le+=1)ct[le].c();ls=z(),rr=$("div"),hi=$("label"),hi.textContent="Rb Options",fs=z(),Dt=$("select");for(let le=0;le<ut.length;le+=1)ut[le].c();ds=z(),cn=$("div"),ir=$("div"),or=$("input"),hs=z(),Ro=$("label"),Ro.textContent="Color Range",ps=z(),ar=$("div"),sr=$("input"),gs=z(),No=$("label"),No.textContent="Show SatGain",ms=z(),cr=$("div"),S=$("input"),H=z(),P=$("label"),P.textContent="Show Variables",_e=z(),Re=$("hr"),Ue=z(),vt=$("h1"),vt.textContent="Results",Po=z(),Fe=$("div"),Vt=$("div"),Lt=$("div"),wl=Y(bs),M0=z(),ke=$("div"),pi=$("div"),_s=$("div"),xl=Y(e[25]),I0=z(),Oo=$("div"),k0=Y("Total Area "),Do=$("pre"),A0=Y(" ("),El=Y(vs),C0=Y(") sqkm"),R0=z(),gi=$("div"),ws=$("div"),Tl=Y(xs),N0=z(),Pr=$("div"),P0=Y("Total BS "),Lo=$("pre"),O0=Y("("),Sl=Y(Es),D0=Y(")"),L0=z(),mi=$("h5"),Ml=Y(Ts),$0=Y(","),Il=Y(Ss),U0=z(),bi=$("div"),Ms=$("div"),kl=Y(Is),F0=z(),$o=$("div"),B0=Y("Active BS "),Uo=$("pre"),q0=Y("("),Al=Y(ks),H0=Y(")"),z0=z(),yi=$("div"),As=$("div"),Cl=Y(Cs),W0=z(),Rs=$("div"),Rs.innerHTML="Noise <pre>dBm</pre>",G0=z(),_i=$("div"),Ns=$("div"),Rl=Y(Ps),V0=z(),Os=$("div"),Os.innerHTML="Allowed Interference <pre>dBm</pre>",Y0=z(),X0=$("hr"),j0=z(),Or=$("div"),Ds=$("div"),Nl=Y(Ls),K0=z(),$s=$("div"),$s.innerHTML="I/N <pre>dB</pre>",J0=z(),Dr=$("div"),vi=$("div"),Fs=$("i"),Z0=z(),Pl=Y(qs),Q0=z(),Hs=$("div"),Hs.innerHTML="Aggr. Interference <pre>dBm</pre>",ep=z(),Lr=$("div"),wi=$("a"),tp=Y("Urban : "),Ol=Y(Ws),np=Y(" dBm"),rp=z(),ip=$("br"),op=z(),xi=$("a"),ap=Y("SubUrban : "),Dl=Y(Gs),sp=Y(" dBm"),cp=z(),$r=$("div"),Fo=$("div"),lp=z(),at=$("div"),Bo=$("h1"),fp=Y("Variables "),Ll=Y(Vs),dp=z(),Ei=$("div"),Ti=$("input"),hp=z(),$l=$("label"),$l.textContent="Hide Inspector",pp=z(),gp=$("br"),mp=z(),bp=$("br"),yp=z(),qo=$("div"),S1.title="IMT interference to FSS Analysis",U(t,"rel","stylesheet"),U(t,"href","https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"),U(o,"class","icon github"),U(i,"href",""),U(i,"class","ui label right ribbon blue"),U(u,"class","ui header"),U(h,"class",p="icon "+(e[26],"thumbtack")),U(d,"class",b="ui "+(e[26]?"grey":"green")+" right ribbon label"),U(O,"class","ui fluid primary button"),U(k,"type","password"),k.disabled=I=e[22]!=null,Ep(k,"display",e[22]!=null?"none":"block"),U(R,"class","ui field"),U(K,"type","number"),U(K,"step","50"),U(q,"type","number"),q.disabled=!0,U(bt,"type","checkbox"),U(Ae,"class","ui toggle checkbox "),U(D,"type","checkbox"),D.disabled=e[16],U(J,"class","ui toggle checkbox "),U(F,"class","field"),U(he,"type","number"),U(he,"min","32"),U(he,"max","130"),U(he,"step","0.5"),U(Le,"type","range"),U(Le,"min","55"),U(Le,"max","129.5"),U(Le,"step","0.5"),U(ye,"class","field"),e[8]===void 0&&fr(()=>e[65].call(Pt)),U(it,"class","field"),U(Je,"for",""),U(_t,"name",""),U(_t,"id",""),e[9]===void 0&&fr(()=>e[66].call(_t)),U(Ot,"class","field"),U(hi,"for",""),U(Dt,"name",""),U(Dt,"id",""),e[10]===void 0&&fr(()=>e[67].call(Dt)),U(rr,"class","field"),U(or,"type","checkbox"),U(ir,"class","ui toggle checkbox "),U(sr,"type","checkbox"),U(ar,"class","ui toggle checkbox "),U(S,"type","checkbox"),U(cr,"class","ui toggle checkbox"),U(cn,"class","field"),U(M,"class","ui fields "),U(f,"class",Z="ui form "+(e[26]?"toolbox":"")),U(vt,"class","ui header"),U(Lt,"class",ys="ui label left ribbon "+(e[19]-e[21]>=-10.5?"red":"green")),U(_s,"class","value"),U(Oo,"class","label"),U(pi,"class","statistic"),U(ws,"class","value"),U(mi,"class","center aligned"),U(Pr,"class","label"),U(gi,"class","statistic"),U(Ms,"class","value"),U($o,"class","label"),U(bi,"class","statistic"),U(As,"class","value"),U(Rs,"class","label"),U(yi,"class","grey inverted statistic"),U(Ns,"class","value"),U(Os,"class","label"),U(_i,"class","green statistic"),U(Ds,"class","value"),U($s,"class","label"),U(Or,"class",Us=(e[19]-e[21]>=-10.5?"red":"green")+" statistic"),U(Fs,"class",Bs="thumbs "+(e[19]==null?"":e[19]<e[21]-10.5?"circle up":"circle down")+" icon"),U(vi,"class","value"),U(Hs,"class","label"),U(Dr,"class",zs=(e[19]-e[21]>=-10.5?"red":"green")+" statistic"),U(wi,"class","ui red label left tag small"),U(xi,"class","ui grey label left tag small"),U(ke,"class","ui six small statistics"),U(Fo,"class","ui two column stackable grid "),U(Fo,"id","logbox"),U($r,"class","ui segment"),fr(()=>e[72].call($r)),U(Bo,"class","header"),U(Ti,"type","checkbox"),U(Ei,"class","ui slider checkbox"),U(qo,"class","ui two column stackable grid "),U(qo,"id","figure"),U(at,"class","ui segment"),fr(()=>e[75].call(at)),U(Vt,"class","ui segment "),U(Fe,"class","ui segments"),U(r,"class","ui basic segment widget")},m(le,G){E(S1.head,t),vr(le,n,G),vr(le,r,G),E(r,i),E(i,o),E(i,a),E(i,s),E(r,c),E(r,u),E(r,l),E(r,f),E(f,d),E(d,h),E(d,m),E(d,w),E(f,g),$t.block.m(f,$t.anchor=null),$t.mount=()=>f,$t.anchor=v,E(f,v),E(f,x),E(f,T),E(f,M),E(M,R),E(R,O),E(O,N),E(R,C),E(R,k),un(k,e[27]),E(M,L),E(M,F),E(F,W),E(F,V),E(F,K),un(K,e[20]),E(F,re),E(F,j),E(F,we),E(F,q),un(q,e[15]),E(F,ce),E(F,Ae),E(Ae,bt),bt.checked=e[16],E(Ae,Ie),E(Ae,B),E(F,ee),E(F,J),E(J,D),D.checked=e[17],E(J,me),E(J,se),E(se,Te),E(M,Qe),E(M,ye),E(ye,tr),E(tr,je),E(tr,Ce),E(ye,Ke),E(ye,he),un(he,e[6]),E(ye,an),E(ye,Le),un(Le,e[6]),E(M,sn),E(M,it),E(it,$e),E(it,ot),E(it,Pt);for(let X=0;X<st.length;X+=1)st[X]&&st[X].m(Pt,null);ki(Pt,e[8],!0),E(M,nr),E(M,Ot),E(Ot,Je),E(Ot,yt),E(Ot,_t);for(let X=0;X<ct.length;X+=1)ct[X]&&ct[X].m(_t,null);ki(_t,e[9],!0),E(M,ls),E(M,rr),E(rr,hi),E(rr,fs),E(rr,Dt);for(let X=0;X<ut.length;X+=1)ut[X]&&ut[X].m(Dt,null);ki(Dt,e[10],!0),E(M,ds),E(M,cn),E(cn,ir),E(ir,or),or.checked=e[4],E(ir,hs),E(ir,Ro),E(cn,ps),E(cn,ar),E(ar,sr),sr.checked=e[5],E(ar,gs),E(ar,No),E(cn,ms),E(cn,cr),E(cr,S),S.checked=e[1],E(cr,H),E(cr,P),E(r,_e),E(r,Re),E(r,Ue),E(r,vt),E(r,Po),E(r,Fe),E(Fe,Vt),E(Vt,Lt),E(Lt,wl),E(Vt,M0),E(Vt,ke),E(ke,pi),E(pi,_s),E(_s,xl),E(pi,I0),E(pi,Oo),E(Oo,k0),E(Oo,Do),E(Do,A0),E(Do,El),E(Do,C0),E(ke,R0),E(ke,gi),E(gi,ws),E(ws,Tl),E(gi,N0),E(gi,Pr),E(Pr,P0),E(Pr,Lo),E(Lo,O0),E(Lo,Sl),E(Lo,D0),E(Pr,L0),E(Pr,mi),E(mi,Ml),E(mi,$0),E(mi,Il),E(ke,U0),E(ke,bi),E(bi,Ms),E(Ms,kl),E(bi,F0),E(bi,$o),E($o,B0),E($o,Uo),E(Uo,q0),E(Uo,Al),E(Uo,H0),E(ke,z0),E(ke,yi),E(yi,As),E(As,Cl),E(yi,W0),E(yi,Rs),E(ke,G0),E(ke,_i),E(_i,Ns),E(Ns,Rl),E(_i,V0),E(_i,Os),E(ke,Y0),E(ke,X0),E(ke,j0),E(ke,Or),E(Or,Ds),E(Ds,Nl),E(Or,K0),E(Or,$s),E(ke,J0),E(ke,Dr),E(Dr,vi),E(vi,Fs),E(vi,Z0),E(vi,Pl),E(Dr,Q0),E(Dr,Hs),E(ke,ep),E(ke,Lr),E(Lr,wi),E(wi,tp),E(wi,Ol),E(wi,np),E(Lr,rp),E(Lr,ip),E(Lr,op),E(Lr,xi),E(xi,ap),E(xi,Dl),E(xi,sp),E(Vt,cp),E(Vt,$r),E($r,Fo),e[71](Fo),up=Tp($r,e[72].bind($r)),E(Vt,lp),E(Vt,at),E(at,Bo),E(Bo,fp),E(Bo,Ll),E(at,dp),E(at,Ei),E(Ei,Ti),Ti.checked=e[0],E(Ei,hp),E(Ei,$l),E(at,pp),E(at,gp),E(at,mp),E(at,bp),E(at,yp),E(at,qo),e[74](qo),_p=Tp(at,e[75].bind(at)),Ul||(vp=[Ne(d,"click",e[57]),Ne(O,"click",e[28]),Ne(k,"input",e[58]),Ne(K,"input",e[59]),Ne(q,"input",e[60]),Ne(bt,"change",e[61]),Ne(D,"change",e[62]),Ne(he,"input",e[63]),Ne(Le,"change",e[64]),Ne(Le,"input",e[64]),Ne(Pt,"change",e[65]),Ne(_t,"change",e[66]),Ne(Dt,"change",e[67]),Ne(or,"change",e[68]),Ne(sr,"change",e[69]),Ne(S,"change",e[70]),Ne(Ti,"change",e[73])],Ul=!0)},p(le,G){if(e=le,G[0]&67108864&&p!==(p="icon "+(e[26],"thumbtack"))&&U(h,"class",p),G[0]&67108864&&_!==(_=e[26]?"Un Pin":"Pin Me")&&xe(w,_),G[0]&67108864&&b!==(b="ui "+(e[26]?"grey":"green")+" right ribbon label")&&U(d,"class",b),$t.ctx=e,G[0]&8388608&&y!==(y=e[23])&&Mp(y,$t)||W6($t,e,G),G[0]&4194304&&A!==(A=e[22]==null?"Login":"Log Out")&&xe(N,A),G[0]&4194304&&I!==(I=e[22]!=null)&&(k.disabled=I),G[0]&4194304&&Ep(k,"display",e[22]!=null?"none":"block"),G[0]&134217728&&k.value!==e[27]&&un(k,e[27]),G[0]&1048576&&qr(K.value)!==e[20]&&un(K,e[20]),G[0]&32768&&qr(q.value)!==e[15]&&un(q,e[15]),G[0]&65536&&(bt.checked=e[16]),G[0]&65536&&(D.disabled=e[16]),G[0]&131072&&(D.checked=e[17]),G[0]&131072&&pe!==(pe=e[17]?"Switch to  Mean":"Switch to Median")&&xe(Te,pe),G[0]&64&&xe(Ce,e[6]),G[0]&64&&qr(he.value)!==e[6]&&un(he,e[6]),G[0]&64&&un(Le,e[6]),G[0]&536870912){Si=e[29];let X;for(X=0;X<Si.length;X+=1){const ur=k1(e,Si,X);st[X]?st[X].p(ur,G):(st[X]=A1(ur),st[X].c(),st[X].m(Pt,null))}for(;X<st.length;X+=1)st[X].d(1);st.length=Si.length}if(G[0]&536871168&&ki(Pt,e[8]),G[0]&1073742080){Mi=[...e[30]];let X;for(X=0;X<Mi.length;X+=1){const ur=I1(e,Mi,X);ct[X]?ct[X].p(ur,G):(ct[X]=C1(ur),ct[X].c(),ct[X].m(_t,null))}for(;X<ct.length;X+=1)ct[X].d(1);ct.length=Mi.length}if(G[0]&1073742336&&ki(_t,e[9]),G[0]&256|G[1]&1){Ii=[...e[31]];let X;for(X=0;X<Ii.length;X+=1){const ur=M1(e,Ii,X);ut[X]?ut[X].p(ur,G):(ut[X]=R1(ur),ut[X].c(),ut[X].m(Dt,null))}for(;X<ut.length;X+=1)ut[X].d(1);ut.length=Ii.length}G[0]&1024|G[1]&1&&ki(Dt,e[10]),G[0]&16&&(or.checked=e[4]),G[0]&32&&(sr.checked=e[5]),G[0]&2&&(S.checked=e[1]),G[0]&67108864&&Z!==(Z="ui form "+(e[26]?"toolbox":""))&&U(f,"class",Z),G[0]&2621440&&bs!==(bs=e[19]-e[21]>=-10.5?"Failed":"Success")&&xe(wl,bs),G[0]&2621440&&ys!==(ys="ui label left ribbon "+(e[19]-e[21]>=-10.5?"red":"green"))&&U(Lt,"class",ys),G[0]&33554432&&xe(xl,e[25]),G[0]&16384&&vs!==(vs=e[14].toFixed(0)+"")&&xe(El,vs),G[0]&2048&&xs!==(xs=ht("4.2~s")(e[11])+"")&&xe(Tl,xs),G[0]&2048&&Es!==(Es=e[11].toFixed(0)+"")&&xe(Sl,Es),G[0]&4096&&Ts!==(Ts=e[12].toFixed(0)+"")&&xe(Ml,Ts),G[0]&8192&&Ss!==(Ss=e[13].toFixed(0)+"")&&xe(Il,Ss),G[0]&16777216&&Is!==(Is=ht("4.2~s")(e[24])+"")&&xe(kl,Is),G[0]&16777216&&ks!==(ks=e[24].toFixed(0)+"")&&xe(Al,ks),G[0]&2097152&&Cs!==(Cs=e[21].toFixed(1)+"")&&xe(Cl,Cs),G[0]&2097152&&Ps!==(Ps=(e[21]-10.5).toFixed(1)+"")&&xe(Rl,Ps),G[0]&2621440&&Ls!==(Ls=(e[19]==null?"???":(e[19]-e[21]).toFixed(1))+"")&&xe(Nl,Ls),G[0]&2621440&&Us!==(Us=(e[19]-e[21]>=-10.5?"red":"green")+" statistic")&&U(Or,"class",Us),G[0]&2621440&&Bs!==(Bs="thumbs "+(e[19]==null?"":e[19]<e[21]-10.5?"circle up":"circle down")+" icon")&&U(Fs,"class",Bs),G[0]&524288&&qs!==(qs=(e[19]==null?"???":e[19].toFixed(1))+"")&&xe(Pl,qs),G[0]&2621440&&zs!==(zs=(e[19]-e[21]>=-10.5?"red":"green")+" statistic")&&U(Dr,"class",zs),G[0]&262144&&Ws!==(Ws=(e[18]!=null?e[18][0].I.toFixed(2):"???")+"")&&xe(Ol,Ws),G[0]&262144&&Gs!==(Gs=(e[18]!=null?e[18][1].I.toFixed(2):"???")+"")&&xe(Dl,Gs),G[0]&1&&Vs!==(Vs=e[0]?"[Hidden]":"")&&xe(Ll,Vs),G[0]&1&&(Ti.checked=e[0])},i:Pe,o:Pe,d(le){Qt(t),le&&Qt(n),le&&Qt(r),$t.block.d(),$t.token=null,$t=null,Fl(st,le),Fl(ct,le),Fl(ut,le),e[71](null),up(),e[74](null),_p(),Ul=!1,yo(vp)}}}function cD(e){return e&&Object.prototype.toString.call(e)==="[object Promise]"}function bc(e){return Math.pow(10,e/10)}function N1(e){return 10*Math.log10(e)}function uD(e,t,n){let r,i,o,a,s;xp(e,yl,S=>n(22,a=S)),xp(e,p1,S=>n(27,s=S));let c,u=!1,l,f,d,h,p=new Map,m,_,w;async function b(){return a==null?(n(23,w=jP("guest@5gindiaforum.in",s)),w):(XP().then(H=>console.log("After signout ",H,a)),"Signed Out")}let g=async(S,H,P)=>{P=P||!1;var Z=m;P&&(Z=_);let _e=p.get(S);if(_e==null){let Ue=document.createElement("div"),vt=xa(Ue).attr("class","column cell");vt.append("div").attr("class",`ui ${P?"top left attached teal":"pointing"} below label`).text(S).on("click",Lt=>{Lt.target.parentNode.classList.toggle("sixteen")?(Lt.target.parentNode.classList.value="sixteen wide column",Lt.target.innerText=S+" <- minimize"):(Lt.target.parentNode.classList.value="two  column cell",Lt.target.innerText=S+" -> zoom"),n(55,r=Lt.target.parentNode.clientWidth)});let Fe=vt.append("div").attr("class","plain segment").append("div").node();_e={inspector:new Hf(Fe),alwaysshow:P,rootcell:Ue,render:Z!=null},p.set(S,_e),Z!=null&&Z.append(Ue)}let Re=_e.inspector;if(cD(H))Re.fulfilled("Waiting for obj.. ",S),H.then(Ue=>Re.fulfilled(Ue)).catch(Ue=>{Re.fulfilled("Err : "+Ue),console.log(S,"Error ",Ue)});else if(P)if(H==null){let Ue=document.createElement("div"),vt=xa(Ue).attr("class","ui  active placeholder inverted orange segment ");vt.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),vt.append("img"),Re.fulfilled(Ue)}else Re.fulfilled(H);else Re.fulfilled(H);return S};function y(){let S=nE("/files/geoBoundaries-IND-ADM1_simplified.topojson");g("CSV",S,!1),S.then(H=>{n(32,l=H),n(35,h=Rt(nO(l,l.objects.INDADM1gbOpen.geometries)))})}y();let v=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,1],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,1],LoadingFactor:.2,BSDensity:2.4}],x,T,M=[10,20,30,40],R,O=!1,A,N=83,C,k=async(S,H,P)=>(P=P||!1,g(S,H,P)),I=0,L=v[0],F,W,V=new Map([["Ra1",{name:"Ratio of Coverage",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage",val:1,factor:.45}]]),K=new Map([["Rb1",{name:"N/w Coverage",val:0,factor:.01}],["Rb2",{name:"N/w Coverage",val:1,factor:.035}],["Rb3",{name:"N/w Coverage",val:2,factor:.01}]]),re,j,we,q,ce,Ae,bt=()=>{var S=Q3().thresholds(Ae).value(P=>P.el),H=S(j);return ax(H,P=>{var Z=qt(P,Fe=>Fe.areasqkm),_e=Qo(P,Fe=>Fe.el),Re=qe(P,Fe=>Fe.az),Ue=en(P,Fe=>Fe.SatGain),vt=10*Math.log10(Qo(P,Fe=>Math.pow(10,Fe.SatGain/10))),Po=dr(P,Fe=>Fe.SatGain);return{x:Math.floor((P.x0+P.x1)/2),x0:P.x0,x1:P.x1,azExtents:Re,count:P.length,meanangle:_e,totalareasqkm:Z,maxRxGain:Ue,meanRxGain:vt,medianRxGain:Po}})},Ie,B=-1,ee=-1,J=-1,D=-1,me,se=0,pe=0;async function Te(){if(ce!=null){n(14,pe=qt(ce,P=>P.totalareasqkm)),n(25,se=ht("2.3~s")(pe));var S=fn({marks:[Pi(ce,{y:"count",x:"x",fill:P=>A(P.x),title:P=>P.x}),Un(ce,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:P=>P.x})],width:r,grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:P=>Math.floor(P)},y:{label:"# of grids",nice:!0},caption:`Figure 3: #grids vs Elev. @ ${N}E`}),H=fn({marks:[Pi(ce,{title:"totalareasqkm",y:"totalareasqkm",x:"x",cumulative:!1,fill:P=>A(P.x)}),Un(ce,{text:P=>ht(".2~s")(P.totalareasqkm),y:"totalareasqkm",x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},width:r,caption:`Figure 4 : Area per Elevation @${N}E | Total Area: ${se} sqkm`});k("allplot",S,!0),k("allplot2",H,!0)}}let Qe,ye;async function tr(){Zp("/files/LossesPerElevation@1.csv",Jp).then(S=>{n(50,ye=S.map(H=>({el:+H["Elev angle"],UrbanAg:H.UrbanAg,SubUrbanAg:H.SubUrbanAg,GL:H["Gas loss"],CL:-H["Clutter gain"],PL:H["Propagation loss"]}))),k("gainloss",ye)})}tr();let je;function Ce(S){var H=ye.find(P=>P.el==S);return H!=null?H.CL+H.GL+H.PL:0}function Ke(S){var H=ye.find(P=>P.el==S);return H!=null?{UrbanAg:H.UrbanAg,SubUrbanAg:H.SubUrbanAg}:{UrbanAg:0,SubUrbanAg:0}}let he,an=32,Le=!0,sn=!1;async function it(){var S=24,H=3,P=an,Z=S-H;return n(52,he=ce.map((_e,Re)=>({..._e,urban:_e.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.TDD*q.NW,suburban:_e.totalareasqkm*q.SubUrban.Ra*q.SubUrban.Rb*q.TDD*q.NW,urbandB_BS:10*Math.log10(_e.totalareasqkm*q.uScale),suburbandB_BS:10*Math.log10(_e.totalareasqkm*q.suScale),urbandB:10*Math.log10(_e.totalareasqkm*q.uScale)+Z+(Le?P:sn?_e.medianRxGain:_e.meanRxGain),suburbandB:10*Math.log10(_e.totalareasqkm*q.suScale)+Z+(Le?P:sn?_e.medianRxGain:_e.meanRxGain),Factor:Z}))),k("stats",he)}let $e,ot;function Pt(){var S=10*Math.log10(qt(Wl(he,Z=>isFinite(Z.urbandB)),Z=>Math.pow(10,(Z.urbandB+Ke(Z.x).UrbanAg-Ce(Z.x))/10))),H=10*Math.log10(qt(Wl(he,Z=>isFinite(Z.suburbandB)),Z=>Math.pow(10,(Z.suburbandB+Ke(Z.x).SubUrbanAg-Ce(Z.x))/10))),P=[{Env:"red",I:S,Name:"Urban"},{Env:"grey",I:H,Name:"SubUrban"}];n(18,$e=P),k("Total I",$e),n(19,ot=N1(bc($e[0].I)+bc($e[1].I))),k("totalIdB",ot)}let nr,Ot,Je=650,yt=!0;const _t=()=>n(26,yt=!yt);function ls(){s=this.value,p1.set(s)}function rr(){Je=qr(this.value),n(20,Je)}function hi(){an=qr(this.value),n(15,an)}function fs(){Le=this.checked,n(16,Le)}function Dt(){sn=this.checked,n(17,sn)}function ds(){N=qr(this.value),n(6,N)}function cn(){N=qr(this.value),n(6,N)}function ir(){L=Bl(this),n(8,L),n(29,v)}function or(){F=Bl(this),n(9,F),n(30,V)}function hs(){W=Bl(this),n(10,W),n(31,K)}function Ro(){R=this.checked,n(4,R)}function ps(){O=this.checked,n(5,O)}function ar(){u=this.checked,n(1,u)}function sr(S){Ac[S?"unshift":"push"](()=>{_=S,n(3,_)})}function gs(){I=this.clientWidth,n(7,I)}function No(){c=this.checked,n(0,c),n(1,u)}function ms(S){Ac[S?"unshift":"push"](()=>{m=S,n(2,m),n(0,c),n(1,u)})}function cr(){I=this.clientWidth,n(7,I)}return e.$$.update=()=>{if(e.$$.dirty[0]&2&&n(0,c=!u),e.$$.dirty[0]&5&&m!=null&&n(2,m.style.display=c?"none":"block",m),e.$$.dirty[0]&12&&_!=null&&p.forEach((S,H)=>{S.render||(S.alwaysshow?_.append(S.rootcell):m.append(S.rootcell),S.render=!0,p.set(H,S))}),e.$$.dirty[0]&128|e.$$.dirty[1]&26&&l!=null&&(n(34,d=vy().fitExtent([[50,50],[I*.8,450]],h)),Xa(d).pointRadius(1),k("projection",d)),e.$$.dirty[0]&4194304|e.$$.dirty[1]&4&&(a!=null?f==null&&KP("fss/SatAntGain.csv").then(S=>{let H=Zp(S,Jp);H.then(P=>{n(33,f=P),n(41,re=Mn(f.map(Z=>Bt([Z.Longitude,Z.Latitude],{Gain:Z.AntennaGain}))))}),g("SatAntGain",H,!1)}):g("SatAntGain","UnAuthorrized/Sign",!1)),e.$$.dirty[1]&112&&h!=null){let S=Su(h),H=tD(S,1,{units:"degrees"}),P=H.features[0].geometry.type;H.features.forEach((Z,_e)=>{let Re=[];P=="point"?Re=Z.geometry.coordinates:Re=NO(Z).geometry.coordinates,Z.properties.center=Re,Z.properties.inLand=CE(h,Re)}),n(36,x=H),n(37,T=x.features.filter(Z=>Z.properties.inLand)),k("mygrid",x),k("selectGrid",T)}if(e.$$.dirty[0]&64|e.$$.dirty[1]&3104&&re!=null&&x!=null){let S=[],H=x.features[0].geometry.type;x.features.forEach(P=>{var Z=[];H!="point"?Z=P.properties.center:Z=P.geometry.coordinates;let _e=Um(Z[1],Z[0],N),Re=pA(Z[1],Z[0],N),Ue=zO(P)/1e6;if(P.properties.inLand){let vt=PO(Z,re);S.push({az:Re,el:_e,areasqkm:Ue,SatGain:vt.properties.Gain})}}),n(42,j=S),g("gridElangles",j)}if(e.$$.dirty[1]&2048&&n(38,M=j!=null&&j.map(S=>S.el)),e.$$.dirty[0]&128&&n(55,r=I),e.$$.dirty[0]&16|e.$$.dirty[1]&16777600){n(39,A=Sd(R?qe(M):[10,90],lo));let S=j9({color:{label:"Elev Angles",domain:A.domain(),width:r,type:"sequential",interpolate:lo}});k("Legend",S,!0)}if(e.$$.dirty[1]&18432&&j!=null){let S=qe(j,H=>H.el);n(46,Ae=Kt(Math.floor(S[0]),Math.ceil(S[1]))),n(45,ce=bt()),k("binnedData",ce)}if(e.$$.dirty[0]&64|e.$$.dirty[1]&16812032&&j!=null){let S=fn({x:{ticks:Ae},y:{nice:!0},marks:[Cf(j,{x:"el",y:"SatGain",fill:"SatGain",title:H=>`${H.el.toFixed(0)}@${H.SatGain.toFixed(1)}dB`}),Cf(j,kf({y:H=>10*Math.log10(Qo(H,P=>Math.pow(10,P/10))),title:H=>"Mean : "+(10*Math.log10(Qo(H,P=>Math.pow(10,P/10)))).toFixed(1)+"dB"},{x:"el",y:"SatGain",fill:"black",title:"SatGain",thresholds:Ae})),Ui(j,kf({y:H=>dr(H),title:H=>"Median : "+dr(H).toFixed(1)+"dB"},{x:"el",y:"SatGain",stroke:"red",strokeWidth:2,title:"SatGain",thresholds:Ae}))],grid:!0,color:{legend:!0},width:r,aspectRatio:.75,caption:`"Figure 10 : SatGain, mean(o
      ), median (--) (vs el) @${N}E`});g("SatGain",S,!0)}if(e.$$.dirty[0]&96|e.$$.dirty[1]&2424&&T!=null&&h!=null&&d!=null&&j!=null){let S=fn({color:{legend:!0,width:400},height:300,projection:{type:"orthographic",rotate:[-N,0]},marks:[fA({}),dA(),ya(h,{fill:"lightgrey",fillOpacity:.1,stroke:"lightgreen"}),ya(x,{strokeOpacity:.3,fillOpacity:.6,fill:"none"}),ya(T,{fill:(H,P)=>{if(O)return j[P].SatGain;{let Z=H.properties.center,_e=Um(Z[1],Z[0],N);return A(_e)}}}),Qh([N],{x:N,y:0,fontSize:"2em",fill:"red",text:H=>H+"° E"})],caption:`Figure 1: View of Globe from Satellite ${N}`});n(40,C=S)}if(e.$$.dirty[0]&8&&_!=null&&k("offaxis",30),e.$$.dirty[0]&256&&k("currentEnv",L,!1),e.$$.dirty[1]&512&&g("Globe View",C,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16779520&&j!=null){let S=Cf(j,{y:"areasqkm",x:"el",fill:H=>A(H.el)}).plot({grid:!0,width:r,x:{nice:!0},y:{tickFormat:"~s"},color:{legend:!0},caption:`Figure 2: Grid Area vs El Angles @${N}E`});n(43,we=S)}if(e.$$.dirty[1]&4096&&g("figure1",we,!0),e.$$.dirty[0]&1536|e.$$.dirty[1]&8192&&F!=null&&(n(44,q={Urban:{Ra:v[0].Ra[F.val]/100,Rb:v[0].Rb[W.val]/100,BSdensity:v[0].BSDensity},SubUrban:{Ra:v[1].Ra[F.val]/100,Rb:v[1].Rb[W.val]/100,BSdensity:v[1].BSDensity},NW:.2,TDD:.75,uScale:v[0].BSDensity*v[0].Ra[F.val]*v[0].Rb[W.val]/1e4*.2*.75,suScale:v[1].BSDensity*v[1].Ra[F.val]*v[1].Rb[W.val]/1e4*.2*.75}),k("factor",q)),e.$$.dirty[1]&4&&f!=null&&n(47,Ie=Sd(qe(f,S=>S.AntennaGain),Th).nice()),e.$$.dirty[0]&32576|e.$$.dirty[1]&16998656&&ce!=null&&(n(12,ee=pe*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity),n(13,J=pe*q.SubUrban.Ra*q.SubUrban.Rb*q.SubUrban.BSdensity),n(11,B=ee+J),n(48,me=fn({marks:[Pi(ce,{y:S=>S.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity,title:S=>(S.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:S=>A(S.x)}),Pi(ce,{y:S=>S.totalareasqkm*q.SubUrban.Ra*q.SubUrban.Rb*q.SubUrban.BSdensity,title:S=>(S.totalareasqkm*q.SubUrban.Ra*q.SubUrban.Rb*q.SubUrban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:S=>A(S.x)}),Un(ce,{y:S=>S.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity,title:S=>S.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity,text:S=>ht("2.2~s")(S.totalareasqkm*q.Urban.Ra*q.Urban.Rb*q.Urban.BSdensity),rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:S=>Ie(S.maxRxGain)}),Oi(ce,{y:S=>S.totalareasqkm*q.uScale,title:S=>"Urban Active :"+(S.totalareasqkm*q.uScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"red"}),Oi(ce,{y:S=>S.totalareasqkm*q.suScale,title:S=>"SubUrban Active :"+(S.totalareasqkm*q.suScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",strokeWidth:2,stroke:"grey"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:S=>Math.floor(S)},y:{nice:!0,tickRotate:-40,label:"BS/sector count (Ra*Rb*Density)"},width:r,caption:`Figure 5 : Satellite${N} | Total ${ht("2.2~s")(B)} Active :${ht("2.2~s")(B*q.TDD*q.NW)} | Ra${F.val+1}(${q.Urban.Ra*100}%),Rb${W.val+1}
    (${q.Urban.Rb*100}%)`})),k("allplot",me,!0),n(24,D=B*q.TDD*q.NW)),e.$$.dirty[0]&1792|e.$$.dirty[1]&131072&&Te(),e.$$.dirty[1]&16384&&ce!=null&&n(51,je=qe(ce,S=>S.x)),e.$$.dirty[0]&198144|e.$$.dirty[1]&16384&&ce!=null&&it(),e.$$.dirty[0]&786432&&$e!=null&&(console.log("totalIdB",ot),n(19,ot=N1(bc($e[0].I)+bc($e[1].I))),k("totalIdB",ot)),e.$$.dirty[1]&2621440&&he!=null&&ye!=null&&Pt(),e.$$.dirty[0]&32832|e.$$.dirty[1]&16793600&&ce!=null&&n(53,nr=fn({width:r,grid:!0,y:{nice:!0},x:{nice:!0},caption:`Figure 10 : Satellite Rx Gains vs El @ ${N}`,marks:[Jo(ce,{y:"meanRxGain",x:"x",clip:!0}),Ui([an],{stroke:"red"})]})),e.$$.dirty[1]&4194304&&g("Sat RxGains",nr,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16777344&&n(56,i=fn({grid:!0,height:400,caption:`Figure 8 : Distribution of Elevations towards ${N}E`,x:{nice:!0,label:"elv"},y:{nice:!0,label:"CDF"},width:r,marks:[nw(),Jo(M,kf({y:"proportion"},{x:S=>S,cumulative:!0})),Ui([0])]})),e.$$.dirty[1]&33554432&&k("Elv. Distribution",i,!0),e.$$.dirty[0]&264e3|e.$$.dirty[1]&20734208&&ye!=null&&he!=null&&ce!=null&&(n(49,Qe=fn({marks:[Jo(ye,{marker:"dot",y:S=>-S.CL-S.GL-S.PL,title:S=>"Clutter+Gas+PgLoss : "+(-S.CL-S.GL-S.PL).toFixed(1),x:S=>+S.el,strokeWidth:2}),Oi(he,{marker:"dot",y:S=>S.suburbandB,title:S=>"SubU #Factor : "+S.suburbandB.toFixed(1),x:"x",stroke:"grey",fill:S=>A(S.x)}),Oi(he,{marker:"dot",y:S=>S.urbandB,title:S=>"Urban #Factor : "+S.urbandB.toFixed(1),x:"x",strokeWidth:2,stroke:"red"}),Un(he,{y:S=>S.suburbandB,x:"x",text:S=>S.suburbandB.toFixed(0),color:"grey",dy:15}),Un(he,{y:S=>S.urbandB,x:"x",text:S=>S.urbandB.toFixed(0),color:"red",dy:-15}),Pi(he,{marker:"dot",y:S=>S.suburbandB+Ke(S.x).SubUrbanAg-Ce(S.x),title:S=>"subUrban : I = "+(S.suburbandB+Ke(S.x).SubUrbanAg-Ce(S.x)).toFixed(1),x:"x",fill:S=>A(S.x)}),Oi(he,{marker:"dot",y:S=>S.urbandB+Ke(S.x).UrbanAg-Ce(S.x),title:S=>"Urban : I = "+(S.urbandB+Ke(S.x).UrbanAg-Ce(S.x)).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Ui($e,{stroke:S=>S.Env,y:S=>S.I,strokeWidth:3,strokeDasharray:[5,5],title:S=>`${S.Name} Mean I : ${S.I.toFixed(1)}`}),Un($e,{y:S=>S.I,x:je[1],dy:-5,fontSize:12,fontWeight:"bold",textAnchor:"end",fill:"Env",text:S=>S.Name+` ${S.I.toFixed(0)}dB `})],grid:!0,marginLeft:20,x:{label:"el",tickRotate:-40,domain:Kt(je[0],je[1]+1),tickFormat:S=>Math.floor(S)},color:{legend:!0,type:"categorical"},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},width:r,caption:`Figure 6: Agg.Interference @${N}E | AggFactor, Interference@el`})),g("p5",Qe,!0)),e.$$.dirty[0]&1048576&&n(21,o=10*Math.log10(138e-25*Je)+60+30),e.$$.dirty[0]&2359360|e.$$.dirty[1]&28836096&&he!=null&ye!=null){let S=Wl(ye,P=>P.el>je[0]&&P.el<je[1]),H=dr(S,P=>P.UrbanAg);dr(S,P=>P.SubUrbanAg),n(54,Ot=fn({marks:[Pi(he,{marker:"dot",y:P=>P.suburbandB+Ke(P.x).SubUrbanAg-Ce(P.x)-o,title:P=>"SubU I/N : "+(P.suburbandB+Ke(P.x).SubUrbanAg-Ce(P.x)-o).toFixed(1),x:"x",fill:P=>A(P.x)}),Oi(he,{marker:"dot",y:P=>P.urbandB+Ke(P.x).UrbanAg-Ce(P.x)-o,title:P=>"Urban I/N : "+(P.urbandB+Ke(P.x).UrbanAg-Ce(P.x)-o).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Un(he,{marker:"dot",y:P=>P.suburbandB+Ke(P.x).SubUrbanAg-Ce(P.x)-o,text:P=>(P.suburbandB+Ke(P.x).SubUrbanAg-Ce(P.x)-o).toFixed(0),dy:-5,x:"x"}),Jo(ye,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",title:P=>`Urban - Antenna gain => FSS ${P.UrbanAg}`}),Jo(ye,{x:"el",y:"SubUrbanAg",marker:"dot",stroke:"grey",title:P=>`SubU - Antenna gain => FSS ${P.SubUrbanAg}`}),Ui($e,{y:P=>P.I-o,stroke:"Env",title:P=>P.Name+(P.I-o).toFixed(0)}),Un([0],{x:je[0]+(je[1]-je[0])/2,y:H,textAnchor:"center",fill:"red",dy:-15,text:P=>"BS Ag=>FSS "})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:Kt(je[0],je[1]+1),tickFormat:P=>Math.floor(P)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},width:r,caption:`Figure 7 : I/N distribution @${N} | Ant Gain, I/N`})),g("p6",Ot,!0)}},[c,u,m,_,R,O,N,I,L,F,W,B,ee,J,pe,an,Le,sn,$e,ot,Je,o,a,w,D,se,yt,s,b,v,V,K,l,f,d,h,x,T,M,A,C,re,j,we,q,ce,Ae,Ie,me,Qe,ye,je,he,nr,Ot,r,i,_t,ls,rr,hi,fs,Dt,ds,cn,ir,or,hs,Ro,ps,ar,sr,gs,No,ms,cr]}class lD extends K6{constructor(t){super(),j6(this,t,uD,sD,D1,{},null,[-1,-1,-1,-1])}}function fD(e){return console.log("Rendering called",e),new lD({target:e})}fD(document.getElementById("app"));
