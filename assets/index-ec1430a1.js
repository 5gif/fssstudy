(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xe(){}function K2(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function o1(e){return e()}function X0(){return Object.create(null)}function so(e){e.forEach(o1)}function a1(e){return typeof e=="function"}function s1(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function J2(e){return Object.keys(e).length===0}function Z2(e,...t){if(e==null)return xe;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function j0(e,t,n){e.$$.on_destroy.push(Z2(t,n))}function T(e,t){e.appendChild(t)}function bn(e,t,n){e.insertBefore(t,n||null)}function kt(e){e.parentNode&&e.parentNode.removeChild(e)}function El(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function te(e){return document.createTextNode(e)}function G(){return te(" ")}function Q2(){return te("")}function He(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Dr(e){return e===""?null:+e}function e6(e){return Array.from(e.childNodes)}function Ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function an(e,t){e.value=t??""}function K0(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function wi(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Tl(e){const t=e.querySelector(":checked");return t&&t.__value}let Cs;function t6(){if(Cs===void 0){Cs=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Cs=!0}}return Cs}function J0(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=$("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=t6();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=He(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=He(r.contentWindow,"resize",t),t()}),T(e,r),()=>{(i||o&&r.contentWindow)&&o(),kt(r)}}let aa;function Un(e){aa=e}function n6(){if(!aa)throw new Error("Function called outside component initialization");return aa}const Ci=[],hc=[];let Di=[];const Z0=[],r6=Promise.resolve();let Ef=!1;function i6(){Ef||(Ef=!0,r6.then(Nd))}function or(e){Di.push(e)}const Sl=new Set;let xi=0;function Nd(){if(xi!==0)return;const e=aa;do{try{for(;xi<Ci.length;){const t=Ci[xi];xi++,Un(t),o6(t.$$)}}catch(t){throw Ci.length=0,xi=0,t}for(Un(null),Ci.length=0,xi=0;hc.length;)hc.pop()();for(let t=0;t<Di.length;t+=1){const n=Di[t];Sl.has(n)||(Sl.add(n),n())}Di.length=0}while(Ci.length);for(;Z0.length;)Z0.pop()();Ef=!1,Sl.clear(),Un(e)}function o6(e){if(e.fragment!==null){e.update(),so(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(or)}}function a6(e){const t=[],n=[];Di.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Di=t}const nc=new Set;let Lr;function s6(){Lr={r:0,c:[],p:Lr}}function c6(){Lr.r||so(Lr.c),Lr=Lr.p}function c1(e,t){e&&e.i&&(nc.delete(e),e.i(t))}function u6(e,t,n,r){if(e&&e.o){if(nc.has(e))return;nc.add(e),Lr.c.push(()=>{nc.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Rs(e,t){const n=t.token={};function r(i,o,a,s){if(t.token!==n)return;t.resolved=s;let c=t.ctx;a!==void 0&&(c=c.slice(),c[a]=s);const u=i&&(t.current=i)(c);let l=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==o&&f&&(s6(),u6(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),c6())}):t.block.d(1),u.c(),c1(u,1),u.m(t.mount(),t.anchor),l=!0),t.block=u,t.blocks&&(t.blocks[o]=u),l&&Nd()}if(K2(e)){const i=n6();if(e.then(o=>{Un(i),r(t.then,1,t.value,o),Un(null)},o=>{if(Un(i),r(t.catch,2,t.error,o),Un(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Q0(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}const l6=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f6(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||or(()=>{const a=e.$$.on_mount.map(o1).filter(a1);e.$$.on_destroy?e.$$.on_destroy.push(...a):so(a),e.$$.on_mount=[]}),o.forEach(or)}function d6(e,t){const n=e.$$;n.fragment!==null&&(a6(n.after_update),so(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function h6(e,t){e.$$.dirty[0]===-1&&(Ci.push(e),i6(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function p6(e,t,n,r,i,o,a,s=[-1]){const c=aa;Un(e);const u=e.$$={fragment:null,ctx:[],props:o,update:xe,not_equal:i,bound:X0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:X0(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(u.root);let l=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...h)=>{const p=h.length?h[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),l&&h6(e,f)),d}):[],u.update(),l=!0,so(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=e6(t.target);u.fragment&&u.fragment.l(f),f.forEach(kt)}else u.fragment&&u.fragment.c();t.intro&&c1(e.$$.fragment),f6(e,t.target,t.anchor,t.customElement),Nd()}Un(c)}class g6{$destroy(){d6(this,1),this.$destroy=xe}$on(t,n){if(!a1(n))return xe;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!J2(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pc(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:n}):(i=r.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function u1(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function l1(e){return e===(e|0)+""}function fn(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const m6=Symbol.prototype.toString;function co(e){return m6.call(e)}const{getOwnPropertySymbols:b6,prototype:{hasOwnProperty:y6}}=Object,{toStringTag:_6}=Symbol,f1={},Ca=b6;function du(e,t){return y6.call(e,t)}function Tf(e){return e[_6]||e.constructor&&e.constructor.name||"Object"}function Wt(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return f1}}const v6=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function d1(e){try{let t=v6.filter(({symbol:a})=>e[a]===!0);if(!t.length)return;const n=t.find(a=>!a.modifier),r=n.name==="Map"&&t.find(a=>a.modifier&&a.prefix),i=t.some(a=>a.arrayish),o=t.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!o,setish:o}}catch{return null}}const{getPrototypeOf:Pd,getOwnPropertyDescriptors:w6}=Object,h1=Pd({});function p1(e,t,n,r){let i=u1(e),o,a,s,c;e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=x6):(o="Map()",a=Zo):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=E6):(o="Set()",a=Zo):i?(o=`${e.constructor.name}(${e.length})`,a=S6):(c=d1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?M6:c.setish?T6:I6):r?(o=Tf(e),a=k6):(o=Tf(e),a=Zo);const u=document.createElement("span");u.className="observablehq--expanded",n&&u.appendChild(fn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),l.addEventListener("mouseup",function(f){f.stopPropagation(),mc(u,Od(e,null,n,r))}),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)u.appendChild(s.value);if(!s.done){const f=u.appendChild(document.createElement("a"));f.className="observablehq--field",f.style.display="block",f.appendChild(document.createTextNode("  … more")),f.addEventListener("mouseup",function(d){d.stopPropagation(),u.insertBefore(s.value,u.lastChild.previousSibling);for(let h=0;!(s=a.next()).done&&h<19;++h)u.insertBefore(s.value,u.lastChild.previousSibling);s.done&&u.removeChild(u.lastChild.previousSibling),pc(u,"load")})}return u.appendChild(document.createTextNode(i?"]":"}")),u}function*x6(e){for(const[t,n]of e)yield A6(t,n);yield*Zo(e)}function*E6(e){for(const t of e)yield m1(t);yield*Zo(e)}function*T6(e){for(const t of e)yield m1(t)}function*S6(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield Gn(t,Wt(e,t),"observablehq--index"));for(const t in e)!l1(t)&&du(e,t)&&(yield Gn(t,Wt(e,t),"observablehq--key"));for(const t of Ca(e))yield Gn(co(t),Wt(e,t),"observablehq--symbol")}function*M6(e){let t=0;for(const n=e.size;t<n;++t)yield Gn(t,e.get(t),!0)}function*k6(e){for(const n in w6(e))yield Gn(n,Wt(e,n),"observablehq--key");for(const n of Ca(e))yield Gn(co(n),Wt(e,n),"observablehq--symbol");const t=Pd(e);t&&t!==h1&&(yield g1(t))}function*Zo(e){for(const n in e)du(e,n)&&(yield Gn(n,Wt(e,n),"observablehq--key"));for(const n of Ca(e))yield Gn(co(n),Wt(e,n),"observablehq--symbol");const t=Pd(e);t&&t!==h1&&(yield g1(t))}function*I6(e){for(const[t,n]of e)yield Gn(t,n,"observablehq--key")}function g1(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(xt(e,void 0,void 0,void 0,!0)),t}function Gn(e,t,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(xt(t)),r}function A6(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(xt(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(xt(t)),n}function m1(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(xt(e)),t}function ep(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function Od(e,t,n,r){let i=u1(e),o,a,s,c;if(e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,a=C6):(o="Map()",a=Qo):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,a=R6):(o="Set()",a=Qo):i?(o=`${e.constructor.name}(${e.length})`,a=O6):(c=d1(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,a=c.arrayish?P6:c.setish?N6:D6):(o=Tf(e),a=Qo),t){const f=document.createElement("span");return f.className="observablehq--shallow",n&&f.appendChild(fn(n)),f.appendChild(document.createTextNode(o)),f.addEventListener("mouseup",function(d){ep(f)||(d.stopPropagation(),mc(f,Od(e)))}),f}const u=document.createElement("span");u.className="observablehq--collapsed",n&&u.appendChild(fn(n));const l=u.appendChild(document.createElement("a"));l.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,l.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),u.addEventListener("mouseup",function(f){ep(u)||(f.stopPropagation(),mc(u,p1(e,null,n,r)))},!0),a=a(e);for(let f=0;!(s=a.next()).done&&f<20;++f)f>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(s.value);return s.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(i?"]":"}")),u}function*C6(e){for(const[t,n]of e)yield L6(t,n);yield*Qo(e)}function*R6(e){for(const t of e)yield xt(t,!0);yield*Qo(e)}function*N6(e){for(const t of e)yield xt(t,!0)}function*P6(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield gc(n-t-1)),yield xt(e.get(n),!0),t=n;n>t+1&&(yield gc(n-t-1))}function*O6(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield gc(n-t-1)),yield xt(Wt(e,n),!0),t=n);n>t+1&&(yield gc(n-t-1));for(const r in e)!l1(r)&&du(e,r)&&(yield sa(r,Wt(e,r),"observablehq--key"));for(const r of Ca(e))yield sa(co(r),Wt(e,r),"observablehq--symbol")}function*Qo(e){for(const t in e)du(e,t)&&(yield sa(t,Wt(e,t),"observablehq--key"));for(const t of Ca(e))yield sa(co(t),Wt(e,t),"observablehq--symbol")}function*D6(e){for(const[t,n]of e)yield sa(t,n,"observablehq--key")}function gc(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function sa(e,t,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(xt(t,!0)),r}function L6(e,t){const n=document.createDocumentFragment();return n.appendChild(xt(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(xt(t,!0)),n}function b1(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${$6(e.getUTCFullYear())}-${$n(e.getUTCMonth()+1,2)}-${$n(e.getUTCDate(),2)}${n||r||i||o?`T${$n(n,2)}:${$n(r,2)}${i||o?`:${$n(i,2)}${o?`.${$n(o,3)}`:""}`:""}Z`:""}`}function $6(e){return e<0?`-${$n(-e,6)}`:e>9999?`+${$n(e,6)}`:$n(e,4)}function $n(e,t){return`${e}`.padStart(t,"0")}const U6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function y1(e,t){return U6.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function F6(e){return b1(e,"Invalid Date")}var B6=Error.prototype.toString;function q6(e){return e.stack||B6.call(e)}var H6=RegExp.prototype.toString;function z6(e){return H6.call(e)}const Ml=20;function W6(e,t,n,r){if(t===!1){if(np(e,/["\n]/g)<=np(e,/`|\${/g)){const u=document.createElement("span");r&&u.appendChild(fn(r));const l=u.appendChild(document.createElement("span"));return l.className="observablehq--string",l.textContent=JSON.stringify(e),u}const a=e.split(`
`);if(a.length>Ml&&!n){const u=document.createElement("div");r&&u.appendChild(fn(r));const l=u.appendChild(document.createElement("span"));l.className="observablehq--string",l.textContent="`"+tp(a.slice(0,Ml).join(`
`));const f=u.appendChild(document.createElement("span")),d=a.length-Ml;return f.textContent=`Show ${d} truncated line${d>1?"s":""}`,f.className="observablehq--string-expand",f.addEventListener("mouseup",function(h){h.stopPropagation(),mc(u,xt(e,t,!0,r))}),u}const s=document.createElement("span");r&&s.appendChild(fn(r));const c=s.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+tp(e)+"`",s}const i=document.createElement("span");r&&i.appendChild(fn(r));const o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),i}function tp(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,G6)}function G6(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function np(e,t){for(var n=0;t.exec(e);)++n;return n}var V6=Function.prototype.toString,Y6={prefix:"async ƒ"},X6={prefix:"async ƒ*"},rp={prefix:"class"},j6={prefix:"ƒ"},K6={prefix:"ƒ*"};function J6(e,t){var n,r,i=V6.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=Y6;break;case"AsyncGeneratorFunction":n=X6;break;case"GeneratorFunction":n=K6;break;default:n=/^class\b/.test(i)?rp:j6;break}return n===rp?Ao(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?Ao(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ao(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ao(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):Ao(n,"(…)",t)}function Ao(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(fn(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:Z6}}=Object;function xt(e,t,n,r,i){let o=typeof e;switch(o){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=co(e);break}case"function":return J6(e,r);case"string":return W6(e,t,n,r);default:{if(e===null){o=null,e="null";break}if(e instanceof Date){o="date",e=F6(e);break}if(e===f1){o="forbidden",e="[forbidden]";break}switch(Z6.call(e)){case"[object RegExp]":{o="regexp",e=z6(e);break}case"[object Error]":case"[object DOMException]":{o="error",e=q6(e);break}default:return(n?p1:Od)(e,t,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(fn(r));const s=a.appendChild(document.createElement("span"));return s.className=`observablehq--${o}`,s.textContent=e,a}function mc(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),pc(t,"load")}const Q6=/\s+\(\d+:\d+\)$/m;class Sf{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!e3(t)||t.parentNode&&t.parentNode!==r)&&(t=xt(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);pc(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(fn(n)),i.appendChild(document.createTextNode((t+"").replace(Q6,""))),r.appendChild(i),pc(r,"error",{error:t})}}Sf.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new Sf(e.appendChild(document.createElement("div")))}};function e3(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dd(e){let t,n,r;e.length!==2?(t=tt,n=(s,c)=>tt(e(s),c),r=(s,c)=>e(s)-c):(t=e===tt||e===uo?e:t3,n=e,r=e);function i(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<0?u=f+1:l=f}while(u<l)}return u}function o(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function a(s,c,u=0,l=s.length){const f=i(s,c,u,l-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function t3(){return 0}function _1(e){return e===null?NaN:+e}function*n3(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const r3=Dd(tt),i3=r3.right;Dd(_1).center;const Ra=i3;function Ld(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function o3(e){return e.length|0}function a3(e){return!(e>0)}function s3(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function c3(e){return t=>e(...t)}function u3(...e){const t=typeof e[e.length-1]=="function"&&c3(e.pop());e=e.map(s3);const n=e.map(o3),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(a3))return o;for(;;){o.push(i.map((s,c)=>e[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function l3(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function v1(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function w1(e,t){const n=v1(e,t);return n&&Math.sqrt(n)}function ze(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class gr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Hi extends Map{constructor(t,n=S1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Mf(this,t))}has(t){return super.has(Mf(this,t))}set(t,n){return super.set(E1(this,t),n)}delete(t){return super.delete(T1(this,t))}}class x1 extends Set{constructor(t,n=S1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Mf(this,t))}add(t){return super.add(E1(this,t))}delete(t){return super.delete(T1(this,t))}}function Mf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function E1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function T1({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function S1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bc(e){return e}function hu(e,...t){return M1(e,bc,bc,t)}function Fr(e,t,...n){return M1(e,bc,t,n)}function M1(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Hi,c=r[a++];let u=-1;for(const l of o){const f=c(l,++u,o),d=s.get(f);d?d.push(l):s.set(f,[l])}for(const[l,f]of s)s.set(l,i(f,a));return t(s)}(e,0)}function f3(e,t){return Array.from(t,n=>e[n])}function zi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=yc(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>yc(n[i],n[o]))),f3(e,r)}return e.sort(k1(n))}function k1(e=tt){if(e===tt)return yc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function $d(e,t,n){return(t.length!==2?zi(Fr(e,t,n),([r,i],[o,a])=>tt(i,a)||tt(r,o)):zi(hu(e,n),([r,i],[o,a])=>t(i,a)||tt(r,o))).map(([r])=>r)}var d3=Array.prototype,h3=d3.slice;function kl(e){return()=>e}const p3=Math.sqrt(50),g3=Math.sqrt(10),m3=Math.sqrt(2);function _c(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=p3?10:o>=g3?5:o>=m3?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?_c(e,t,n*2):[s,c,u]}function Wi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?_c(t,e,n):_c(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Wr(e,t,n){return t=+t,e=+e,n=+n,_c(e,t,n)[2]}function kf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Wr(t,e,n):Wr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function b3(e,t,n){let r;for(;;){const i=Wr(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function I1(e){return Math.ceil(Math.log(Ld(e))/Math.LN2)+1}function y3(){var e=bc,t=ze,n=I1;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=e(i[o],o,i);var l=t(u),f=l[0],d=l[1],h=n(u,f,d);if(!Array.isArray(h)){const g=d,y=+h;if(t===ze&&([f,d]=b3(f,d,y)),h=Wi(f,d,y),h[0]<=f&&(c=Wr(f,d,y)),h[h.length-1]>=d)if(g>=d&&t===ze){const x=Wr(f,d,y);isFinite(x)&&(x>0?d=(Math.floor(d/x)+1)*x:x<0&&(d=(Math.ceil(d*-x)+1)/-x))}else h.pop()}for(var p=h.length,b=0,_=p;h[b]<=f;)++b;for(;h[_-1]>d;)--_;(b||_<p)&&(h=h.slice(b,_),p=_-b);var v=new Array(p+1),m;for(o=0;o<=p;++o)m=v[o]=[],m.x0=o>0?h[o-1]:f,m.x1=o<p?h[o]:d;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&v[Math.min(p,Math.floor((s-f)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&f<=s&&s<=d){const g=Math.floor((f-s)*c);v[Math.min(p,g+(h[g]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&v[Ra(h,s,0,p)].push(i[o]);return v}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:kl(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:kl([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:kl(Array.isArray(i)?h3.call(i):i),r):n},r}function Zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function _3(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Vn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function v3(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function A1(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?yc:k1(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,l=Math.log(c),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+d)),p=Math.min(r,Math.floor(t+(c-u)*f/c+d));A1(e,t,h,p,i)}const o=e[t];let a=n,s=r;for(Co(e,n,t),i(e[r],o)>0&&Co(e,n,r);a<s;){for(Co(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Co(e,n,s):(++s,Co(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Co(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function C1(e,t=tt){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?tt(a,i)>0:tt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Gi(e,t,n){if(e=Float64Array.from(n3(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Vn(e);if(t>=1)return Zt(e);var r,i=(r-1)*t,o=Math.floor(i),a=Zt(A1(e,o).subarray(0,o+1)),s=Vn(e.subarray(o+1));return a+(s-a)*(i-o)}}function w3(e,t,n=_1){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function x3(e,t,n){return Math.ceil((n-t)/(2*(Gi(e,.75)-Gi(e,.25))*Math.pow(Ld(e),-1/3)))}function R1(e,t,n){return Math.ceil((n-t)*Math.cbrt(Ld(e))/(3.49*w1(e)))}function Bo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ar(e,t){return Gi(e,.5,t)}function*E3(e){for(const t of e)yield*t}function N1(e){return Array.from(E3(e))}function T3(e,t){const n=new Hi;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function jt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function _t(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Il(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function S3(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function vc(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function M3(e){return e}var Al=1,Cl=2,If=3,Ns=4,ip=1e-6;function k3(e){return"translate("+e+",0)"}function I3(e){return"translate(0,"+e+")"}function A3(e){return t=>+e(t)}function C3(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function R3(){return!this.__axis}function N3(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Al||e===Ns?-1:1,l=e===Ns||e===Cl?"x":"y",f=e===Al||e===If?k3:I3;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,n):M3),_=Math.max(o,0)+s,v=t.range(),m=+v[0]+c,g=+v[v.length-1]+c,y=(t.bandwidth?C3:A3)(t.copy(),c),x=h.selection?h.selection():h,w=x.selectAll(".domain").data([null]),E=x.selectAll(".tick").data(p,t).order(),A=E.exit(),C=E.enter().append("g").attr("class","tick"),D=E.select("line"),I=E.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(C),D=D.merge(C.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),I=I.merge(C.append("text").attr("fill","currentColor").attr(l,u*_).attr("dy",e===Al?"0em":e===If?"0.71em":"0.32em")),h!==x&&(w=w.transition(h),E=E.transition(h),D=D.transition(h),I=I.transition(h),A=A.transition(h).attr("opacity",ip).attr("transform",function(L){return isFinite(L=y(L))?f(L+c):this.getAttribute("transform")}),C.attr("opacity",ip).attr("transform",function(L){var M=this.parentNode.__axis;return f((M&&isFinite(M=M(L))?M:y(L))+c)})),A.remove(),w.attr("d",e===Ns||e===Cl?a?"M"+u*a+","+m+"H"+c+"V"+g+"H"+u*a:"M"+c+","+m+"V"+g:a?"M"+m+","+u*a+"V"+c+"H"+g+"V"+u*a:"M"+m+","+c+"H"+g),E.attr("opacity",1).attr("transform",function(L){return f(y(L)+c)}),D.attr(l+"2",u*o),I.attr(l,u*_).text(b),x.filter(R3).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Cl?"start":e===Ns?"end":"middle"),x.each(function(){this.__axis=y})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function P3(e){return N3(If,e)}var O3={value:()=>{}};function P1(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rc(n)}function rc(e){this._=e}function D3(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rc.prototype=P1.prototype={constructor:rc,on:function(e,t){var n=this._,r=D3(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=L3(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=op(n[i],e.name,t);else if(t==null)for(i in n)n[i]=op(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function L3(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function op(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=O3,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Af="http://www.w3.org/1999/xhtml";const Vi={svg:"http://www.w3.org/2000/svg",xhtml:Af,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vi.hasOwnProperty(t)?{space:Vi[t],local:e}:e}function $3(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Af&&t.documentElement.namespaceURI===Af?t.createElement(e):t.createElementNS(n,e)}}function U3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ud(e){var t=pu(e);return(t.local?U3:$3)(t)}function F3(){}function Fd(e){return e==null?F3:function(){return this.querySelector(e)}}function B3(e){typeof e!="function"&&(e=Fd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,u,l=0;l<a;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new It(r,this._parents)}function q3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function H3(){return[]}function O1(e){return e==null?H3:function(){return this.querySelectorAll(e)}}function z3(e){return function(){return q3(e.apply(this,arguments))}}function W3(e){typeof e=="function"?e=z3(e):e=O1(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),i.push(c));return new It(r,i)}function D1(e){return function(){return this.matches(e)}}function L1(e){return function(t){return t.matches(e)}}var G3=Array.prototype.find;function V3(e){return function(){return G3.call(this.children,e)}}function Y3(){return this.firstElementChild}function X3(e){return this.select(e==null?Y3:V3(typeof e=="function"?e:L1(e)))}var j3=Array.prototype.filter;function K3(){return Array.from(this.children)}function J3(e){return function(){return j3.call(this.children,e)}}function Z3(e){return this.selectAll(e==null?K3:J3(typeof e=="function"?e:L1(e)))}function Q3(e){typeof e!="function"&&(e=D1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new It(r,this._parents)}function $1(e){return new Array(e.length)}function ex(){return new It(this._enter||this._groups.map($1),this._parents)}function wc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wc.prototype={constructor:wc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tx(e){return function(){return e}}function nx(e,t,n,r,i,o){for(var a=0,s,c=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new wc(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function rx(e,t,n,r,i,o,a){var s,c,u=new Map,l=t.length,f=o.length,d=new Array(l),h;for(s=0;s<l;++s)(c=t[s])&&(d[s]=h=a.call(c,c.__data__,s,t)+"",u.has(h)?i[s]=c:u.set(h,c));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(c=u.get(h))?(r[s]=c,c.__data__=o[s],u.delete(h)):n[s]=new wc(e,o[s]);for(s=0;s<l;++s)(c=t[s])&&u.get(d[s])===c&&(i[s]=c)}function ix(e){return e.__data__}function ox(e,t){if(!arguments.length)return Array.from(this,ix);var n=t?rx:nx,r=this._parents,i=this._groups;typeof e!="function"&&(e=tx(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],d=f.length,h=ax(e.call(l,l&&l.__data__,u,r)),p=h.length,b=s[u]=new Array(p),_=a[u]=new Array(p),v=c[u]=new Array(d);n(l,f,b,_,v,h,t);for(var m=0,g=0,y,x;m<p;++m)if(y=b[m]){for(m>=g&&(g=m+1);!(x=_[g])&&++g<p;);y._next=x||null}}return a=new It(a,r),a._enter=s,a._exit=c,a}function ax(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sx(){return new It(this._exit||this._groups.map($1),this._parents)}function cx(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ux(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],l=r[c],f=u.length,d=s[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||l[p])&&(d[p]=h);for(;c<i;++c)s[c]=n[c];return new It(s,this._parents)}function lx(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function fx(e){e||(e=dx);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(t)}return new It(i,this._parents).order()}function dx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function px(){return Array.from(this)}function gx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function mx(){let e=0;for(const t of this)++e;return e}function bx(){return!this.node()}function yx(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function _x(e){return function(){this.removeAttribute(e)}}function vx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wx(e,t){return function(){this.setAttribute(e,t)}}function xx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ex(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Tx(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Sx(e,t){var n=pu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vx:_x:typeof t=="function"?n.local?Tx:Ex:n.local?xx:wx)(n,t))}function U1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mx(e){return function(){this.style.removeProperty(e)}}function kx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ix(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ax(e,t,n){return arguments.length>1?this.each((t==null?Mx:typeof t=="function"?Ix:kx)(e,t,n??"")):Yi(this.node(),e)}function Yi(e,t){return e.style.getPropertyValue(t)||U1(e).getComputedStyle(e,null).getPropertyValue(t)}function Cx(e){return function(){delete this[e]}}function Rx(e,t){return function(){this[e]=t}}function Nx(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Px(e,t){return arguments.length>1?this.each((t==null?Cx:typeof t=="function"?Nx:Rx)(e,t)):this.node()[e]}function F1(e){return e.trim().split(/^|\s+/)}function Bd(e){return e.classList||new B1(e)}function B1(e){this._node=e,this._names=F1(e.getAttribute("class")||"")}B1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function q1(e,t){for(var n=Bd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function H1(e,t){for(var n=Bd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ox(e){return function(){q1(this,e)}}function Dx(e){return function(){H1(this,e)}}function Lx(e,t){return function(){(t.apply(this,arguments)?q1:H1)(this,e)}}function $x(e,t){var n=F1(e+"");if(arguments.length<2){for(var r=Bd(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Lx:t?Ox:Dx)(n,t))}function Ux(){this.textContent=""}function Fx(e){return function(){this.textContent=e}}function Bx(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qx(e){return arguments.length?this.each(e==null?Ux:(typeof e=="function"?Bx:Fx)(e)):this.node().textContent}function Hx(){this.innerHTML=""}function zx(e){return function(){this.innerHTML=e}}function Wx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Gx(e){return arguments.length?this.each(e==null?Hx:(typeof e=="function"?Wx:zx)(e)):this.node().innerHTML}function Vx(){this.nextSibling&&this.parentNode.appendChild(this)}function Yx(){return this.each(Vx)}function Xx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jx(){return this.each(Xx)}function Kx(e){var t=typeof e=="function"?e:Ud(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Jx(){return null}function Zx(e,t){var n=typeof e=="function"?e:Ud(e),r=t==null?Jx:typeof t=="function"?t:Fd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Qx(){var e=this.parentNode;e&&e.removeChild(this)}function e8(){return this.each(Qx)}function t8(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n8(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r8(e){return this.select(e?n8:t8)}function i8(e){return arguments.length?this.property("__data__",e):this.node().__data__}function o8(e){return function(t){e.call(this,t,this.__data__)}}function a8(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function s8(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function c8(e,t,n){return function(){var r=this.__on,i,o=o8(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function u8(e,t,n){var r=a8(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?c8:s8,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function z1(e,t,n){var r=U1(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function l8(e,t){return function(){return z1(this,e,t)}}function f8(e,t){return function(){return z1(this,e,t.apply(this,arguments))}}function d8(e,t){return this.each((typeof t=="function"?f8:l8)(e,t))}function*h8(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var W1=[null];function It(e,t){this._groups=e,this._parents=t}function Na(){return new It([[document.documentElement]],W1)}function p8(){return this}It.prototype=Na.prototype={constructor:It,select:B3,selectAll:W3,selectChild:X3,selectChildren:Z3,filter:Q3,data:ox,enter:ex,exit:sx,join:cx,merge:ux,selection:p8,order:lx,sort:fx,call:hx,nodes:px,node:gx,size:mx,empty:bx,each:yx,attr:Sx,style:Ax,property:Px,classed:$x,text:qx,html:Gx,raise:Yx,lower:jx,append:Kx,insert:Zx,remove:e8,clone:r8,datum:i8,on:u8,dispatch:d8,[Symbol.iterator]:h8};function ca(e){return typeof e=="string"?new It([[document.querySelector(e)]],[document.documentElement]):new It([[e]],W1)}function lo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vr(){}var Gr=.7,Xi=1/Gr,Li="\\s*([+-]?\\d+)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g8=/^#([0-9a-f]{3,8})$/,m8=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),b8=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),y8=new RegExp(`^rgba\\(${Li},${Li},${Li},${ua}\\)$`),_8=new RegExp(`^rgba\\(${hn},${hn},${hn},${ua}\\)$`),v8=new RegExp(`^hsl\\(${ua},${hn},${hn}\\)$`),w8=new RegExp(`^hsla\\(${ua},${hn},${hn},${ua}\\)$`),ap={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lo(vr,mr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sp,formatHex:sp,formatHex8:x8,formatHsl:E8,formatRgb:cp,toString:cp});function sp(){return this.rgb().formatHex()}function x8(){return this.rgb().formatHex8()}function E8(){return G1(this).formatHsl()}function cp(){return this.rgb().formatRgb()}function mr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=g8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?up(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ps(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ps(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m8.exec(e))?new Ge(t[1],t[2],t[3],1):(t=b8.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y8.exec(e))?Ps(t[1],t[2],t[3],t[4]):(t=_8.exec(e))?Ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v8.exec(e))?dp(t[1],t[2]/100,t[3]/100,1):(t=w8.exec(e))?dp(t[1],t[2]/100,t[3]/100,t[4]):ap.hasOwnProperty(e)?up(ap[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function up(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function Ps(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ge(e,t,n,r)}function qd(e){return e instanceof vr||(e=mr(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function br(e,t,n,r){return arguments.length===1?qd(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lo(Ge,br,Pa(vr,{brighter(e){return e=e==null?Xi:Math.pow(Xi,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gr:Math.pow(Gr,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge(Br(this.r),Br(this.g),Br(this.b),xc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lp,formatHex:lp,formatHex8:T8,formatRgb:fp,toString:fp}));function lp(){return`#${$r(this.r)}${$r(this.g)}${$r(this.b)}`}function T8(){return`#${$r(this.r)}${$r(this.g)}${$r(this.b)}${$r((isNaN(this.opacity)?1:this.opacity)*255)}`}function fp(){const e=xc(this.opacity);return`${e===1?"rgb(":"rgba("}${Br(this.r)}, ${Br(this.g)}, ${Br(this.b)}${e===1?")":`, ${e})`}`}function xc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $r(e){return e=Br(e),(e<16?"0":"")+e.toString(16)}function dp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yt(e,t,n,r)}function G1(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof vr||(e=mr(e)),!e)return new Yt;if(e instanceof Yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Yt(a,s,c,e.opacity)}function Cf(e,t,n,r){return arguments.length===1?G1(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lo(Yt,Cf,Pa(vr,{brighter(e){return e=e==null?Xi:Math.pow(Xi,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gr:Math.pow(Gr,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ge(Rl(e>=240?e-240:e+120,i,r),Rl(e,i,r),Rl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yt(hp(this.h),Os(this.s),Os(this.l),xc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xc(this.opacity);return`${e===1?"hsl(":"hsla("}${hp(this.h)}, ${Os(this.s)*100}%, ${Os(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hp(e){return e=(e||0)%360,e<0?e+360:e}function Os(e){return Math.max(0,Math.min(1,e||0))}function Rl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const V1=Math.PI/180,Y1=180/Math.PI,Ec=18,X1=.96422,j1=1,K1=.82521,J1=4/29,$i=6/29,Z1=3*$i*$i,S8=$i*$i*$i;function Q1(e){if(e instanceof pn)return new pn(e.l,e.a,e.b,e.opacity);if(e instanceof Fn)return eb(e);e instanceof Ge||(e=qd(e));var t=Dl(e.r),n=Dl(e.g),r=Dl(e.b),i=Nl((.2225045*t+.7168786*n+.0606169*r)/j1),o,a;return t===n&&n===r?o=a=i:(o=Nl((.4360747*t+.3850649*n+.1430804*r)/X1),a=Nl((.0139322*t+.0971045*n+.7141733*r)/K1)),new pn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Rf(e,t,n,r){return arguments.length===1?Q1(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}lo(pn,Rf,Pa(vr,{brighter(e){return new pn(this.l+Ec*(e??1),this.a,this.b,this.opacity)},darker(e){return new pn(this.l-Ec*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=X1*Pl(t),e=j1*Pl(e),n=K1*Pl(n),new Ge(Ol(3.1338561*t-1.6168667*e-.4906146*n),Ol(-.9787684*t+1.9161415*e+.033454*n),Ol(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Nl(e){return e>S8?Math.pow(e,1/3):e/Z1+J1}function Pl(e){return e>$i?e*e*e:Z1*(e-J1)}function Ol(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Dl(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function M8(e){if(e instanceof Fn)return new Fn(e.h,e.c,e.l,e.opacity);if(e instanceof pn||(e=Q1(e)),e.a===0&&e.b===0)return new Fn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Y1;return new Fn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Nf(e,t,n,r){return arguments.length===1?M8(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function eb(e){if(isNaN(e.h))return new pn(e.l,0,0,e.opacity);var t=e.h*V1;return new pn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}lo(Fn,Nf,Pa(vr,{brighter(e){return new Fn(this.h,this.c,this.l+Ec*(e??1),this.opacity)},darker(e){return new Fn(this.h,this.c,this.l-Ec*(e??1),this.opacity)},rgb(){return eb(this).rgb()}}));var tb=-.14861,Hd=1.78277,zd=-.29227,gu=-.90649,la=1.97294,pp=la*gu,gp=la*Hd,mp=Hd*zd-gu*tb;function k8(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);e instanceof Ge||(e=qd(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(mp*r+pp*t-gp*n)/(mp+pp-gp),o=r-i,a=(la*(n-i)-zd*o)/gu,s=Math.sqrt(a*a+o*o)/(la*i*(1-i)),c=s?Math.atan2(a,o)*Y1-120:NaN;return new qr(c<0?c+360:c,s,i,e.opacity)}function yn(e,t,n,r){return arguments.length===1?k8(e):new qr(e,t,n,r??1)}function qr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lo(qr,yn,Pa(vr,{brighter(e){return e=e==null?Xi:Math.pow(Xi,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gr:Math.pow(Gr,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*V1,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ge(255*(t+n*(tb*r+Hd*i)),255*(t+n*(zd*r+gu*i)),255*(t+n*(la*r)),this.opacity)}}));function I8(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function A8(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return I8((n-r/t)*t,a,i,o,s)}}const mu=e=>()=>e;function nb(e,t){return function(n){return e+n*t}}function C8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Wd(e,t){var n=t-e;return n?nb(e,n>180||n<-180?n-360*Math.round(n/360):n):mu(isNaN(e)?t:e)}function R8(e){return(e=+e)==1?it:function(t,n){return n-t?C8(t,n,e):mu(isNaN(t)?n:t)}}function it(e,t){var n=t-e;return n?nb(e,n):mu(isNaN(e)?t:e)}const Vr=function e(t){var n=R8(t);function r(i,o){var a=n((i=br(i)).r,(o=br(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=it(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function N8(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=br(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var P8=N8(A8);function O8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function D8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=fo(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function $8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function U8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Pf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ll=new RegExp(Pf.source,"g");function F8(e){return function(){return e}}function B8(e){return function(t){return e(t)+""}}function rb(e,t){var n=Pf.lastIndex=Ll.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Pf.exec(e))&&(i=Ll.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:rt(r,i)})),n=Ll.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?B8(c[0].x):F8(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)s[(f=c[l]).i]=f.x(u);return s.join("")})}function fo(e,t){var n=typeof t,r;return t==null||n==="boolean"?mu(t):(n==="number"?rt:n==="string"?(r=mr(t))?(t=r,Vr):rb:t instanceof mr?Vr:t instanceof Date?$8:D8(t)?O8:Array.isArray(t)?L8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U8:rt)(e,t)}function bu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var bp=180/Math.PI,Of={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ib(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*bp,skewX:Math.atan(c)*bp,scaleX:a,scaleY:s}}var Ds;function q8(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Of:ib(t.a,t.b,t.c,t.d,t.e,t.f)}function H8(e){return e==null||(Ds||(Ds=document.createElementNS("http://www.w3.org/2000/svg","g")),Ds.setAttribute("transform",e),!(e=Ds.transform.baseVal.consolidate()))?Of:(e=e.matrix,ib(e.a,e.b,e.c,e.d,e.e,e.f))}function ob(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,f,d,h,p){if(u!==f||l!==d){var b=h.push("translate(",null,t,null,n);p.push({i:b-4,x:rt(u,f)},{i:b-2,x:rt(l,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,l,f,d){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:rt(u,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(u,l,f,d){u!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:rt(u,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(u,l,f,d,h,p){if(u!==f||l!==d){var b=h.push(i(h)+"scale(",null,",",null,")");p.push({i:b-4,x:rt(u,f)},{i:b-2,x:rt(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,l){var f=[],d=[];return u=e(u),l=e(l),o(u.translateX,u.translateY,l.translateX,l.translateY,f,d),a(u.rotate,l.rotate,f,d),s(u.skewX,l.skewX,f,d),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,d),u=l=null,function(h){for(var p=-1,b=d.length,_;++p<b;)f[(_=d[p]).i]=_.x(h);return f.join("")}}}var z8=ob(q8,"px, ","px)","deg)"),W8=ob(H8,", ",")",")");function G8(e){return function(t,n){var r=e((t=Cf(t)).h,(n=Cf(n)).h),i=it(t.s,n.s),o=it(t.l,n.l),a=it(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const V8=G8(Wd);function Y8(e,t){var n=it((e=Rf(e)).l,(t=Rf(t)).l),r=it(e.a,t.a),i=it(e.b,t.b),o=it(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function X8(e){return function(t,n){var r=e((t=Nf(t)).h,(n=Nf(n)).h),i=it(t.c,n.c),o=it(t.l,n.l),a=it(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const j8=X8(Wd);function ab(e){return function t(n){n=+n;function r(i,o){var a=e((i=yn(i)).h,(o=yn(o)).h),s=it(i.s,o.s),c=it(i.l,o.l),u=it(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=t,r}(1)}ab(Wd);var Gd=ab(it);function Vd(e,t){t===void 0&&(t=e,e=fo);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Qt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var ji=0,qo=0,Ro=0,sb=1e3,Tc,Ho,Sc=0,Yr=0,yu=0,fa=typeof performance=="object"&&performance.now?performance:Date,cb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yd(){return Yr||(cb(K8),Yr=fa.now()+yu)}function K8(){Yr=0}function Mc(){this._call=this._time=this._next=null}Mc.prototype=ub.prototype={constructor:Mc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Yd():+n)+(t==null?0:+t),!this._next&&Ho!==this&&(Ho?Ho._next=this:Tc=this,Ho=this),this._call=e,this._time=n,Df()},stop:function(){this._call&&(this._call=null,this._time=1/0,Df())}};function ub(e,t,n){var r=new Mc;return r.restart(e,t,n),r}function J8(){Yd(),++ji;for(var e=Tc,t;e;)(t=Yr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ji}function yp(){Yr=(Sc=fa.now())+yu,ji=qo=0;try{J8()}finally{ji=0,Q8(),Yr=0}}function Z8(){var e=fa.now(),t=e-Sc;t>sb&&(yu-=t,Sc=e)}function Q8(){for(var e,t=Tc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tc=n);Ho=e,Df(r)}function Df(e){if(!ji){qo&&(qo=clearTimeout(qo));var t=e-Yr;t>24?(e<1/0&&(qo=setTimeout(yp,e-fa.now()-yu)),Ro&&(Ro=clearInterval(Ro))):(Ro||(Sc=fa.now(),Ro=setInterval(Z8,sb)),ji=1,cb(yp))}}function _p(e,t,n){var r=new Mc;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var e5=P1("start","end","cancel","interrupt"),t5=[],lb=0,vp=1,Lf=2,ic=3,wp=4,$f=5,oc=6;function _u(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;n5(e,n,{name:t,index:r,group:i,on:e5,tween:t5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lb})}function Xd(e,t){var n=nn(e,t);if(n.state>lb)throw new Error("too late; already scheduled");return n}function Tn(e,t){var n=nn(e,t);if(n.state>ic)throw new Error("too late; already running");return n}function nn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function n5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ub(o,0,n.time);function o(u){n.state=vp,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var l,f,d,h;if(n.state!==vp)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===ic)return _p(a);h.state===wp?(h.state=oc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=oc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(_p(function(){n.state===ic&&(n.state=wp,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Lf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Lf){for(n.state=ic,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=$f,1),f=-1,d=i.length;++f<d;)i[f].call(e,l);n.state===$f&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=oc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function r5(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Lf&&r.state<$f,r.state=oc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function i5(e){return this.each(function(){r5(this,e)})}function o5(e,t){var n,r;return function(){var i=Tn(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function a5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Tn(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function s5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=nn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?o5:a5)(n,e,t))}function jd(e,t,n){var r=e._id;return e.each(function(){var i=Tn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return nn(i,r).value[t]}}function fb(e,t){var n;return(typeof t=="number"?rt:t instanceof mr?Vr:(n=mr(t))?(t=n,Vr):rb)(e,t)}function c5(e){return function(){this.removeAttribute(e)}}function u5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function l5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function f5(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function d5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function h5(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function p5(e,t){var n=pu(e),r=n==="transform"?W8:fb;return this.attrTween(e,typeof t=="function"?(n.local?h5:d5)(n,r,jd(this,"attr."+e,t)):t==null?(n.local?u5:c5)(n):(n.local?f5:l5)(n,r,t))}function g5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function m5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function b5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&m5(e,o)),n}return i._value=t,i}function y5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&g5(e,o)),n}return i._value=t,i}function _5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=pu(e);return this.tween(n,(r.local?b5:y5)(r,t))}function v5(e,t){return function(){Xd(this,e).delay=+t.apply(this,arguments)}}function w5(e,t){return t=+t,function(){Xd(this,e).delay=t}}function x5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v5:w5)(t,e)):nn(this.node(),t).delay}function E5(e,t){return function(){Tn(this,e).duration=+t.apply(this,arguments)}}function T5(e,t){return t=+t,function(){Tn(this,e).duration=t}}function S5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?E5:T5)(t,e)):nn(this.node(),t).duration}function M5(e,t){if(typeof t!="function")throw new Error;return function(){Tn(this,e).ease=t}}function k5(e){var t=this._id;return arguments.length?this.each(M5(t,e)):nn(this.node(),t).ease}function I5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Tn(this,e).ease=n}}function A5(e){if(typeof e!="function")throw new Error;return this.each(I5(this._id,e))}function C5(e){typeof e!="function"&&(e=D1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new Yn(r,this._parents,this._name,this._id)}function R5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],u=n[s],l=c.length,f=a[s]=new Array(l),d,h=0;h<l;++h)(d=c[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new Yn(a,this._parents,this._name,this._id)}function N5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function P5(e,t,n){var r,i,o=N5(t)?Xd:Tn;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function O5(e,t){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(e):this.each(P5(n,e,t))}function D5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L5(){return this.on("end.remove",D5(this._id))}function $5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fd(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),l,f,d=0;d<c;++d)(l=s[d])&&(f=e.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),u[d]=f,_u(u[d],t,n,d,u,nn(l,n)));return new Yn(o,this._parents,t,n)}function U5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=O1(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var d=e.call(l,l.__data__,f,c),h,p=nn(l,n),b=0,_=d.length;b<_;++b)(h=d[b])&&_u(h,t,n,b,d,p);o.push(d),a.push(l)}return new Yn(o,a,t,n)}var F5=Na.prototype.constructor;function B5(){return new F5(this._groups,this._parents)}function q5(e,t){var n,r,i;return function(){var o=Yi(this,e),a=(this.style.removeProperty(e),Yi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function db(e){return function(){this.style.removeProperty(e)}}function H5(e,t,n){var r,i=n+"",o;return function(){var a=Yi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function z5(e,t,n){var r,i,o;return function(){var a=Yi(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Yi(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function W5(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=Tn(this,e),u=c.on,l=c.value[o]==null?s||(s=db(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(a,i=l),c.on=r}}function G5(e,t,n){var r=(e+="")=="transform"?z8:fb;return t==null?this.styleTween(e,q5(e,r)).on("end.style."+e,db(e)):typeof t=="function"?this.styleTween(e,z5(e,r,jd(this,"style."+e,t))).each(W5(this._id,e)):this.styleTween(e,H5(e,r,t),n).on("end.style."+e,null)}function V5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Y5(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&V5(e,a,n)),r}return o._value=t,o}function X5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Y5(e,t,n??""))}function j5(e){return function(){this.textContent=e}}function K5(e){return function(){var t=e(this);this.textContent=t??""}}function J5(e){return this.tween("text",typeof e=="function"?K5(jd(this,"text",e)):j5(e==null?"":e+""))}function Z5(e){return function(t){this.textContent=e.call(this,t)}}function Q5(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Z5(i)),t}return r._value=e,r}function e4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Q5(e))}function t4(){for(var e=this._name,t=this._id,n=hb(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var l=nn(c,t);_u(c,e,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Yn(r,this._parents,e,n)}function n4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=Tn(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&o()})}var r4=0;function Yn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function hb(){return++r4}var Cn=Na.prototype;Yn.prototype={constructor:Yn,select:$5,selectAll:U5,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:C5,merge:R5,selection:B5,transition:t4,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:O5,attr:p5,attrTween:_5,style:G5,styleTween:X5,text:J5,textTween:e4,remove:L5,tween:s5,delay:x5,duration:S5,ease:k5,easeVarying:A5,end:n4,[Symbol.iterator]:Cn[Symbol.iterator]};function i4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var o4={time:null,delay:0,duration:250,ease:i4};function a4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function s4(e){var t,n;e instanceof Yn?(t=e._id,e=e._name):(t=hb(),(n=o4).time=Yd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&_u(c,e,t,u,a,n||a4(c,t));return new Yn(r,this._parents,e,t)}Na.prototype.interrupt=i5;Na.prototype.transition=s4;const Uf=Math.PI,Ff=2*Uf,Nr=1e-6,c4=Ff-Nr;function pb(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function u4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pb;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gb{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pb:u4(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-t,u=i-n,l=a-t,f=s-n,d=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Nr)if(!(Math.abs(f*c-u*l)>Nr)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-s,b=c*c+u*u,_=h*h+p*p,v=Math.sqrt(b),m=Math.sqrt(d),g=o*Math.tan((Uf-Math.acos((b+d-_)/(2*v*m)))/2),y=g/m,x=g/v;Math.abs(y-1)>Nr&&this._append`L${t+y*l},${n+y*f}`,this._append`A${o},${o},0,0,${+(f*h>l*p)},${this._x1=t+x*c},${this._y1=n+x*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,l=n+c,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Nr||Math.abs(this._y1-l)>Nr)&&this._append`L${u},${l}`,r&&(d<0&&(d=d%Ff+Ff),d>c4?this._append`A${r},${r},0,1,${f},${t-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=l}`:d>Nr&&this._append`A${r},${r},0,${+(d>=Uf)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ur(e=3){return new gb(+e)}var xp={},$l={},Ul=34,No=10,Fl=13;function mb(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function l4(e,t){var n=mb(e);return function(r,i){return t(n(r),i,e)}}function Ep(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function yt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function f4(e){return e<0?"-"+yt(-e,6):e>9999?"+"+yt(e,6):yt(e,4)}function d4(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":f4(e.getUTCFullYear())+"-"+yt(e.getUTCMonth()+1,2)+"-"+yt(e.getUTCDate(),2)+(i?"T"+yt(t,2)+":"+yt(n,2)+":"+yt(r,2)+"."+yt(i,3)+"Z":r?"T"+yt(t,2)+":"+yt(n,2)+":"+yt(r,2)+"Z":n||t?"T"+yt(t,2)+":"+yt(n,2)+"Z":"")}function h4(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,b=i(f,function(_,v){if(h)return h(_,v-1);p=_,h=d?l4(_,d):mb(_)});return b.columns=p||[],b}function i(f,d){var h=[],p=f.length,b=0,_=0,v,m=p<=0,g=!1;f.charCodeAt(p-1)===No&&--p,f.charCodeAt(p-1)===Fl&&--p;function y(){if(m)return $l;if(g)return g=!1,xp;var w,E=b,A;if(f.charCodeAt(E)===Ul){for(;b++<p&&f.charCodeAt(b)!==Ul||f.charCodeAt(++b)===Ul;);return(w=b)>=p?m=!0:(A=f.charCodeAt(b++))===No?g=!0:A===Fl&&(g=!0,f.charCodeAt(b)===No&&++b),f.slice(E+1,w-1).replace(/""/g,'"')}for(;b<p;){if((A=f.charCodeAt(w=b++))===No)g=!0;else if(A===Fl)g=!0,f.charCodeAt(b)===No&&++b;else if(A!==n)continue;return f.slice(E,w)}return m=!0,f.slice(E,p)}for(;(v=y())!==$l;){for(var x=[];v!==xp&&v!==$l;)x.push(v),v=y();d&&(x=d(x,_++))==null||h.push(x)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return l(h[p])}).join(e)})}function a(f,d){return d==null&&(d=Ep(f)),[d.map(l).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=Ep(f)),o(f,d).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(l).join(e)}function l(f){return f==null?"":f instanceof Date?d4(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var p4=h4(","),g4=p4.parse;function Tp(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))m4&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const m4=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function b4(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function y4(e,t){return fetch(e,t).then(b4)}function _4(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),y4(t,n).then(function(i){return e(i,r)})}}var Sp=_4(g4);function v4(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function w4(e,t){return fetch(e,t).then(v4)}function x4(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ki(e){return e=kc(Math.abs(e)),e?e[1]:NaN}function E4(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function T4(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var S4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function da(e){if(!(t=S4.exec(e)))throw new Error("invalid format: "+e);var t;return new Kd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}da.prototype=Kd.prototype;function Kd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M4(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bb;function k4(e,t){var n=kc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(bb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kc(e,Math.max(0,t+o-1))[0]}function Mp(e,t){var n=kc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x4,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mp(e*100,t),r:Mp,s:k4,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ip(e){return e}var Ap=Array.prototype.map,Cp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function I4(e){var t=e.grouping===void 0||e.thousands===void 0?Ip:E4(Ap.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Ip:T4(Ap.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=da(f);var d=f.fill,h=f.align,p=f.sign,b=f.symbol,_=f.zero,v=f.width,m=f.comma,g=f.precision,y=f.trim,x=f.type;x==="n"?(m=!0,x="g"):kp[x]||(g===void 0&&(g=12),y=!0,x="g"),(_||d==="0"&&h==="=")&&(_=!0,d="0",h="=");var w=b==="$"?n:b==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",E=b==="$"?r:/[%p]/.test(x)?a:"",A=kp[x],C=/[defgprs%]/.test(x);g=g===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function D(I){var L=w,M=E,R,k,N;if(x==="c")M=A(I)+M,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?c:A(Math.abs(I),g),y&&(I=M4(I)),q&&+I==0&&p!=="+"&&(q=!1),L=(q?p==="("?p:s:p==="-"||p==="("?"":p)+L,M=(x==="s"?Cp[8+bb/3]:"")+M+(q&&p==="("?")":""),C){for(R=-1,k=I.length;++R<k;)if(N=I.charCodeAt(R),48>N||N>57){M=(N===46?i+I.slice(R+1):I.slice(R))+M,I=I.slice(0,R);break}}}m&&!_&&(I=t(I,1/0));var z=L.length+I.length+M.length,W=z<v?new Array(v-z+1).join(d):"";switch(m&&_&&(I=t(W+I,W.length?v-M.length:1/0),W=""),h){case"<":I=L+I+M+W;break;case"=":I=L+W+I+M;break;case"^":I=W.slice(0,z=W.length>>1)+L+I+M+W.slice(z);break;default:I=W+L+I+M;break}return o(I)}return D.toString=function(){return f+""},D}function l(f,d){var h=u((f=da(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ki(d)/3)))*3,b=Math.pow(10,-p),_=Cp[8+p/3];return function(v){return h(b*v)+_}}return{format:u,formatPrefix:l}}var Ls,ht,yb;A4({thousands:",",grouping:[3],currency:["$",""]});function A4(e){return Ls=I4(e),ht=Ls.format,yb=Ls.formatPrefix,Ls}function C4(e){return Math.max(0,-Ki(Math.abs(e)))}function R4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(t)/3)))*3-Ki(Math.abs(e)))}function N4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ki(t)-Ki(e))+1}var j=1e-6,Jd=1e-12,se=Math.PI,ke=se/2,Rp=se/4,At=se*2,dt=180/se,me=se/180,he=Math.abs,ho=Math.atan,_n=Math.atan2,ie=Math.cos,$s=Math.ceil,_b=Math.exp,Ic=Math.log,Bl=Math.pow,re=Math.sin,Ht=Math.sign||function(e){return e>0?1:e<0?-1:0},pt=Math.sqrt,Zd=Math.tan;function vb(e){return e>1?0:e<-1?se:Math.acos(e)}function Gt(e){return e>1?ke:e<-1?-ke:Math.asin(e)}function We(){}function Ac(e,t){e&&Pp.hasOwnProperty(e.type)&&Pp[e.type](e,t)}var Np={Feature:function(e,t){Ac(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ac(n[r].geometry,t)}},Pp={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Bf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Bf(n[r],t,0)},Polygon:function(e,t){Op(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Op(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ac(n[r],t)}};function Bf(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Op(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Bf(e[n],t,1);t.polygonEnd()}function Or(e,t){e&&Np.hasOwnProperty(e.type)?Np[e.type](e,t):Ac(e,t)}function qf(e){return[_n(e[1],e[0]),Gt(e[2])]}function Ji(e){var t=e[0],n=e[1],r=ie(n);return[r*ie(t),r*re(t),re(n)]}function Us(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Cc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ql(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Fs(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Hf(e){var t=pt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function zf(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Wf(e,t){return he(e)>se&&(e-=Math.round(e/At)*At),[e,t]}Wf.invert=Wf;function wb(e,t,n){return(e%=At)?t||n?zf(Lp(e),$p(t,n)):Lp(e):t||n?$p(t,n):Wf}function Dp(e){return function(t,n){return t+=e,he(t)>se&&(t-=Math.round(t/At)*At),[t,n]}}function Lp(e){var t=Dp(e);return t.invert=Dp(-e),t}function $p(e,t){var n=ie(e),r=re(e),i=ie(t),o=re(t);function a(s,c){var u=ie(c),l=ie(s)*u,f=re(s)*u,d=re(c),h=d*n+l*r;return[_n(f*i-h*o,l*n-d*r),Gt(h*i+f*o)]}return a.invert=function(s,c){var u=ie(c),l=ie(s)*u,f=re(s)*u,d=re(c),h=d*i-f*o;return[_n(f*i+d*o,l*n+h*r),Gt(h*n-l*r)]},a}function P4(e){e=wb(e[0]*me,e[1]*me,e.length>2?e[2]*me:0);function t(n){return n=e(n[0]*me,n[1]*me),n[0]*=dt,n[1]*=dt,n}return t.invert=function(n){return n=e.invert(n[0]*me,n[1]*me),n[0]*=dt,n[1]*=dt,n},t}function O4(e,t,n,r,i,o){if(n){var a=ie(t),s=re(t),c=r*n;i==null?(i=t+r*At,o=t-c/2):(i=Up(a,i),o=Up(a,o),(r>0?i<o:i>o)&&(i+=r*At));for(var u,l=i;r>0?l>o:l<o;l-=c)u=qf([a,-s*ie(l),-s*re(l)]),e.point(u[0],u[1])}}function Up(e,t){t=Ji(t),t[0]-=e,Hf(t);var n=vb(-t[1]);return((-t[2]<0?-n:n)+At-j)%At}function xb(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:We,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ac(e,t){return he(e[0]-t[0])<j&&he(e[1]-t[1])<j}function Bs(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Eb(e,t,n,r,i){var o=[],a=[],s,c;if(e.forEach(function(p){if(!((b=p.length-1)<=0)){var b,_=p[0],v=p[b],m;if(ac(_,v)){if(!_[2]&&!v[2]){for(i.lineStart(),s=0;s<b;++s)i.point((_=p[s])[0],_[1]);i.lineEnd();return}v[0]+=2*j}o.push(m=new Bs(_,p,null,!0)),a.push(m.o=new Bs(_,null,m,!1)),o.push(m=new Bs(v,p,null,!1)),a.push(m.o=new Bs(v,null,m,!0))}}),!!o.length){for(a.sort(t),Fp(o),Fp(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var u=o[0],l,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,c=l.length;s<c;++s)i.point((f=l[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,s=l.length-1;s>=0;--s)i.point((f=l[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Fp(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Hl(e){return he(e[0])<=se?e[0]:Ht(e[0])*((he(e[0])+se)%At-se)}function Tb(e,t){var n=Hl(t),r=t[1],i=re(r),o=[re(n),-ie(n),0],a=0,s=0,c=new gr;i===1?r=ke+j:i===-1&&(r=-ke-j);for(var u=0,l=e.length;u<l;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=Hl(h),b=h[1]/2+Rp,_=re(b),v=ie(b),m=0;m<d;++m,p=y,_=w,v=E,h=g){var g=f[m],y=Hl(g),x=g[1]/2+Rp,w=re(x),E=ie(x),A=y-p,C=A>=0?1:-1,D=C*A,I=D>se,L=_*w;if(c.add(_n(L*C*re(D),v*E+L*ie(D))),a+=I?A+C*At:A,I^p>=n^y>=n){var M=Cc(Ji(h),Ji(g));Hf(M);var R=Cc(o,M);Hf(R);var k=(I^A>=0?-1:1)*Gt(R[2]);(r>k||r===k&&(M[0]||M[1]))&&(s+=I^A>=0?1:-1)}}return(a<-j||a<j&&c<-Jd)^s&1}function Sb(e,t,n,r){return function(i){var o=t(i),a=xb(),s=t(a),c=!1,u,l,f,d={point:h,lineStart:b,lineEnd:_,polygonStart:function(){d.point=v,d.lineStart=m,d.lineEnd=g,l=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=b,d.lineEnd=_,l=N1(l);var y=Tb(u,r);l.length?(c||(i.polygonStart(),c=!0),Eb(l,L4,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,x){e(y,x)&&i.point(y,x)}function p(y,x){o.point(y,x)}function b(){d.point=p,o.lineStart()}function _(){d.point=h,o.lineEnd()}function v(y,x){f.push([y,x]),s.point(y,x)}function m(){s.lineStart(),f=[]}function g(){v(f[0][0],f[0][1]),s.lineEnd();var y=s.clean(),x=a.result(),w,E=x.length,A,C,D;if(f.pop(),u.push(f),f=null,!!E){if(y&1){if(C=x[0],(A=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<A;++w)i.point((D=C[w])[0],D[1]);i.lineEnd()}return}E>1&&y&2&&x.push(x.pop().concat(x.shift())),l.push(x.filter(D4))}}return d}}function D4(e){return e.length>1}function L4(e,t){return((e=e.x)[0]<0?e[1]-ke-j:ke-e[1])-((t=t.x)[0]<0?t[1]-ke-j:ke-t[1])}const Bp=Sb(function(){return!0},$4,F4,[-se,-ke]);function $4(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?se:-se,c=he(o-t);he(c-se)<j?(e.point(t,n=(n+a)/2>0?ke:-ke),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&c>=se&&(he(t-r)<j&&(t-=r*j),he(o-s)<j&&(o-=s*j),n=U4(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function U4(e,t,n,r){var i,o,a=re(e-n);return he(a)>j?ho((re(t)*(o=ie(r))*re(n)-re(r)*(i=ie(t))*re(e))/(i*o*a)):(t+r)/2}function F4(e,t,n,r){var i;if(e==null)i=n*ke,r.point(-se,i),r.point(0,i),r.point(se,i),r.point(se,0),r.point(se,-i),r.point(0,-i),r.point(-se,-i),r.point(-se,0),r.point(-se,i);else if(he(e[0]-t[0])>j){var o=e[0]<t[0]?se:-se;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function B4(e){var t=ie(e),n=6*me,r=t>0,i=he(t)>j;function o(l,f,d,h){O4(h,e,n,d,l,f)}function a(l,f){return ie(l)*ie(f)>t}function s(l){var f,d,h,p,b;return{lineStart:function(){p=h=!1,b=1},point:function(_,v){var m=[_,v],g,y=a(_,v),x=r?y?0:u(_,v):y?u(_+(_<0?se:-se),v):0;if(!f&&(p=h=y)&&l.lineStart(),y!==h&&(g=c(f,m),(!g||ac(f,g)||ac(m,g))&&(m[2]=1)),y!==h)b=0,y?(l.lineStart(),g=c(m,f),l.point(g[0],g[1])):(g=c(f,m),l.point(g[0],g[1],2),l.lineEnd()),f=g;else if(i&&f&&r^y){var w;!(x&d)&&(w=c(m,f,!0))&&(b=0,r?(l.lineStart(),l.point(w[0][0],w[0][1]),l.point(w[1][0],w[1][1]),l.lineEnd()):(l.point(w[1][0],w[1][1]),l.lineEnd(),l.lineStart(),l.point(w[0][0],w[0][1],3)))}y&&(!f||!ac(f,m))&&l.point(m[0],m[1]),f=m,h=y,d=x},lineEnd:function(){h&&l.lineEnd(),f=null},clean:function(){return b|(p&&h)<<1}}}function c(l,f,d){var h=Ji(l),p=Ji(f),b=[1,0,0],_=Cc(h,p),v=Us(_,_),m=_[0],g=v-m*m;if(!g)return!d&&l;var y=t*v/g,x=-t*m/g,w=Cc(b,_),E=Fs(b,y),A=Fs(_,x);ql(E,A);var C=w,D=Us(E,C),I=Us(C,C),L=D*D-I*(Us(E,E)-1);if(!(L<0)){var M=pt(L),R=Fs(C,(-D-M)/I);if(ql(R,E),R=qf(R),!d)return R;var k=l[0],N=f[0],q=l[1],z=f[1],W;N<k&&(W=k,k=N,N=W);var J=N-k,Z=he(J-se)<j,ce=Z||J<j;if(!Z&&z<q&&(W=q,q=z,z=W),ce?Z?q+z>0^R[1]<(he(R[0]-k)<j?q:z):q<=R[1]&&R[1]<=z:J>se^(k<=R[0]&&R[0]<=N)){var ue=Fs(C,(-D+M)/I);return ql(ue,E),[R,qf(ue)]}}}function u(l,f){var d=r?e:se-e,h=0;return l<-d?h|=1:l>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Sb(a,s,o,r?[0,-e]:[-se,e-se])}function q4(e,t,n,r,i,o){var a=e[0],s=e[1],c=t[0],u=t[1],l=0,f=1,d=c-a,h=u-s,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>l&&(l=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>l&&(l=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<f&&(f=p)}return l>0&&(e[0]=a+l*d,e[1]=s+l*h),f<1&&(t[0]=a+f*d,t[1]=s+f*h),!0}}}}}var zo=1e9,qs=-zo;function Mb(e,t,n,r){function i(u,l){return e<=u&&u<=n&&t<=l&&l<=r}function o(u,l,f,d){var h=0,p=0;if(u==null||(h=a(u,f))!==(p=a(l,f))||c(u,l)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(l[0],l[1])}function a(u,l){return he(u[0]-e)<j?l>0?0:3:he(u[0]-n)<j?l>0?2:1:he(u[1]-t)<j?l>0?1:0:l>0?3:2}function s(u,l){return c(u.x,l.x)}function c(u,l){var f=a(u,1),d=a(l,1);return f!==d?f-d:f===0?l[1]-u[1]:f===1?u[0]-l[0]:f===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,f=xb(),d,h,p,b,_,v,m,g,y,x,w,E={point:A,lineStart:L,lineEnd:M,polygonStart:D,polygonEnd:I};function A(k,N){i(k,N)&&l.point(k,N)}function C(){for(var k=0,N=0,q=h.length;N<q;++N)for(var z=h[N],W=1,J=z.length,Z=z[0],ce,ue,Pe=Z[0],H=Z[1];W<J;++W)ce=Pe,ue=H,Z=z[W],Pe=Z[0],H=Z[1],ue<=r?H>r&&(Pe-ce)*(r-ue)>(H-ue)*(e-ce)&&++k:H<=r&&(Pe-ce)*(r-ue)<(H-ue)*(e-ce)&&--k;return k}function D(){l=f,d=[],h=[],w=!0}function I(){var k=C(),N=w&&k,q=(d=N1(d)).length;(N||q)&&(u.polygonStart(),N&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),q&&Eb(d,s,k,o,u),u.polygonEnd()),l=u,d=h=p=null}function L(){E.point=R,h&&h.push(p=[]),x=!0,y=!1,m=g=NaN}function M(){d&&(R(b,_),v&&y&&f.rejoin(),d.push(f.result())),E.point=A,y&&l.lineEnd()}function R(k,N){var q=i(k,N);if(h&&p.push([k,N]),x)b=k,_=N,v=q,x=!1,q&&(l.lineStart(),l.point(k,N));else if(q&&y)l.point(k,N);else{var z=[m=Math.max(qs,Math.min(zo,m)),g=Math.max(qs,Math.min(zo,g))],W=[k=Math.max(qs,Math.min(zo,k)),N=Math.max(qs,Math.min(zo,N))];q4(z,W,e,t,n,r)?(y||(l.lineStart(),l.point(z[0],z[1])),l.point(W[0],W[1]),q||l.lineEnd(),w=!1):q&&(l.lineStart(),l.point(k,N),w=!1)}m=k,g=N,y=q}return E}}var Gf,Vf,sc,cc,Zi={sphere:We,point:We,lineStart:H4,lineEnd:We,polygonStart:We,polygonEnd:We};function H4(){Zi.point=W4,Zi.lineEnd=z4}function z4(){Zi.point=Zi.lineEnd=We}function W4(e,t){e*=me,t*=me,Vf=e,sc=re(t),cc=ie(t),Zi.point=G4}function G4(e,t){e*=me,t*=me;var n=re(t),r=ie(t),i=he(e-Vf),o=ie(i),a=re(i),s=r*a,c=cc*n-sc*r*o,u=sc*n+cc*r*o;Gf.add(_n(pt(s*s+c*c),u)),Vf=e,sc=n,cc=r}function V4(e){return Gf=new gr,Or(e,Zi),+Gf}var Yf=[null,null],Y4={type:"LineString",coordinates:Yf};function Xf(e,t){return Yf[0]=e,Yf[1]=t,V4(Y4)}var qp={Feature:function(e,t){return Rc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Rc(n[r].geometry,t))return!0;return!1}},Hp={Sphere:function(){return!0},Point:function(e,t){return zp(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(zp(n[r],t))return!0;return!1},LineString:function(e,t){return Wp(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Wp(n[r],t))return!0;return!1},Polygon:function(e,t){return Gp(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Gp(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Rc(n[r],t))return!0;return!1}};function Rc(e,t){return e&&Hp.hasOwnProperty(e.type)?Hp[e.type](e,t):!1}function zp(e,t){return Xf(e,t)===0}function Wp(e,t){for(var n,r,i,o=0,a=e.length;o<a;o++){if(r=Xf(e[o],t),r===0||o>0&&(i=Xf(e[o],e[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Jd*i))return!0;n=r}return!1}function Gp(e,t){return!!Tb(e.map(X4),kb(t))}function X4(e){return e=e.map(kb),e.pop(),e}function kb(e){return[e[0]*me,e[1]*me]}function j4(e,t){return(e&&qp.hasOwnProperty(e.type)?qp[e.type]:Rc)(e,t)}function Vp(e,t,n){var r=jt(e,t-j,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Yp(e,t,n){var r=jt(e,t-j,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function K4(){var e,t,n,r,i,o,a,s,c=10,u=c,l=90,f=360,d,h,p,b,_=2.5;function v(){return{type:"MultiLineString",coordinates:m()}}function m(){return jt($s(r/l)*l,n,l).map(p).concat(jt($s(s/f)*f,a,f).map(b)).concat(jt($s(t/c)*c,e,c).filter(function(g){return he(g%l)>j}).map(d)).concat(jt($s(o/u)*u,i,u).filter(function(g){return he(g%f)>j}).map(h))}return v.lines=function(){return m().map(function(g){return{type:"LineString",coordinates:g}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(b(a).slice(1),p(n).reverse().slice(1),b(s).reverse().slice(1))]}},v.extent=function(g){return arguments.length?v.extentMajor(g).extentMinor(g):v.extentMinor()},v.extentMajor=function(g){return arguments.length?(r=+g[0][0],n=+g[1][0],s=+g[0][1],a=+g[1][1],r>n&&(g=r,r=n,n=g),s>a&&(g=s,s=a,a=g),v.precision(_)):[[r,s],[n,a]]},v.extentMinor=function(g){return arguments.length?(t=+g[0][0],e=+g[1][0],o=+g[0][1],i=+g[1][1],t>e&&(g=t,t=e,e=g),o>i&&(g=o,o=i,i=g),v.precision(_)):[[t,o],[e,i]]},v.step=function(g){return arguments.length?v.stepMajor(g).stepMinor(g):v.stepMinor()},v.stepMajor=function(g){return arguments.length?(l=+g[0],f=+g[1],v):[l,f]},v.stepMinor=function(g){return arguments.length?(c=+g[0],u=+g[1],v):[c,u]},v.precision=function(g){return arguments.length?(_=+g,d=Vp(o,i,90),h=Yp(t,e,_),p=Vp(s,a,90),b=Yp(r,n,_),v):_},v.extentMajor([[-180,-90+j],[180,90-j]]).extentMinor([[-180,-80-j],[180,80+j]])}function J4(){return K4()()}const jf=e=>e;var zl=new gr,Kf=new gr,Ib,Ab,Jf,Zf,sr={point:We,lineStart:We,lineEnd:We,polygonStart:function(){sr.lineStart=Z4,sr.lineEnd=eE},polygonEnd:function(){sr.lineStart=sr.lineEnd=sr.point=We,zl.add(he(Kf)),Kf=new gr},result:function(){var e=zl/2;return zl=new gr,e}};function Z4(){sr.point=Q4}function Q4(e,t){sr.point=Cb,Ib=Jf=e,Ab=Zf=t}function Cb(e,t){Kf.add(Zf*e-Jf*t),Jf=e,Zf=t}function eE(){Cb(Ib,Ab)}const Xp=sr;var Qi=1/0,Nc=Qi,ha=-Qi,Pc=ha,tE={point:nE,lineStart:We,lineEnd:We,polygonStart:We,polygonEnd:We,result:function(){var e=[[Qi,Nc],[ha,Pc]];return ha=Pc=-(Nc=Qi=1/0),e}};function nE(e,t){e<Qi&&(Qi=e),e>ha&&(ha=e),t<Nc&&(Nc=t),t>Pc&&(Pc=t)}const Oc=tE;var Qf=0,ed=0,Wo=0,Dc=0,Lc=0,Ni=0,td=0,nd=0,Go=0,Rb,Nb,un,ln,Xt={point:Xr,lineStart:jp,lineEnd:Kp,polygonStart:function(){Xt.lineStart=oE,Xt.lineEnd=aE},polygonEnd:function(){Xt.point=Xr,Xt.lineStart=jp,Xt.lineEnd=Kp},result:function(){var e=Go?[td/Go,nd/Go]:Ni?[Dc/Ni,Lc/Ni]:Wo?[Qf/Wo,ed/Wo]:[NaN,NaN];return Qf=ed=Wo=Dc=Lc=Ni=td=nd=Go=0,e}};function Xr(e,t){Qf+=e,ed+=t,++Wo}function jp(){Xt.point=rE}function rE(e,t){Xt.point=iE,Xr(un=e,ln=t)}function iE(e,t){var n=e-un,r=t-ln,i=pt(n*n+r*r);Dc+=i*(un+e)/2,Lc+=i*(ln+t)/2,Ni+=i,Xr(un=e,ln=t)}function Kp(){Xt.point=Xr}function oE(){Xt.point=sE}function aE(){Pb(Rb,Nb)}function sE(e,t){Xt.point=Pb,Xr(Rb=un=e,Nb=ln=t)}function Pb(e,t){var n=e-un,r=t-ln,i=pt(n*n+r*r);Dc+=i*(un+e)/2,Lc+=i*(ln+t)/2,Ni+=i,i=ln*e-un*t,td+=i*(un+e),nd+=i*(ln+t),Go+=i*3,Xr(un=e,ln=t)}const Jp=Xt;function Ob(e){this._context=e}Ob.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,At);break}}},result:We};var rd=new gr,Wl,Db,Lb,Vo,Yo,$c={point:We,lineStart:function(){$c.point=cE},lineEnd:function(){Wl&&$b(Db,Lb),$c.point=We},polygonStart:function(){Wl=!0},polygonEnd:function(){Wl=null},result:function(){var e=+rd;return rd=new gr,e}};function cE(e,t){$c.point=$b,Db=Vo=e,Lb=Yo=t}function $b(e,t){Vo-=e,Yo-=t,rd.add(pt(Vo*Vo+Yo*Yo)),Vo=e,Yo=t}const Zp=$c;let Qp,Uc,eg,tg;class ng{constructor(t){this._append=t==null?Ub:uE(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==eg||this._append!==Uc){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,eg=r,Uc=this._append,tg=this._,this._=i}this._+=tg;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ub(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function uE(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Ub;if(t!==Qp){const n=10**t;Qp=t,Uc=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Uc}function Oa(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Or(s,i(o))),o.result()}return a.area=function(s){return Or(s,i(Xp)),Xp.result()},a.measure=function(s){return Or(s,i(Zp)),Zp.result()},a.bounds=function(s){return Or(s,i(Oc)),Oc.result()},a.centroid=function(s){return Or(s,i(Jp)),Jp.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,jf):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new ng(n)):new Ob(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return t===null&&(o=new ng(n)),a},a.projection(e).digits(n).context(t)}function Fc(e){return{stream:vu(e)}}function vu(e){return function(t){var n=new id;for(var r in e)n[r]=e[r];return n.stream=t,n}}function id(){}id.prototype={constructor:id,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qd(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Or(n,e.stream(Oc)),t(Oc.result()),r!=null&&e.clipExtent(r),e}function eh(e,t,n){return Qd(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,c])},n)}function Fb(e,t,n){return eh(e,[[0,0],t],n)}function Bb(e,t,n){return Qd(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function qb(e,t,n){return Qd(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var rg=16,lE=ie(30*me);function ig(e,t){return+t?dE(e,t):fE(e)}function fE(e){return vu({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function dE(e,t){function n(r,i,o,a,s,c,u,l,f,d,h,p,b,_){var v=u-r,m=l-i,g=v*v+m*m;if(g>4*t&&b--){var y=a+d,x=s+h,w=c+p,E=pt(y*y+x*x+w*w),A=Gt(w/=E),C=he(he(w)-1)<j||he(o-f)<j?(o+f)/2:_n(x,y),D=e(C,A),I=D[0],L=D[1],M=I-r,R=L-i,k=m*M-v*R;(k*k/g>t||he((v*M+m*R)/g-.5)>.3||a*d+s*h+c*p<lE)&&(n(r,i,o,a,s,c,I,L,C,y/=E,x/=E,w,b,_),_.point(I,L),n(I,L,C,y,x,w,u,l,f,d,h,p,b,_))}}return function(r){var i,o,a,s,c,u,l,f,d,h,p,b,_={point:v,lineStart:m,lineEnd:y,polygonStart:function(){r.polygonStart(),_.lineStart=x},polygonEnd:function(){r.polygonEnd(),_.lineStart=m}};function v(A,C){A=e(A,C),r.point(A[0],A[1])}function m(){f=NaN,_.point=g,r.lineStart()}function g(A,C){var D=Ji([A,C]),I=e(A,C);n(f,d,l,h,p,b,f=I[0],d=I[1],l=A,h=D[0],p=D[1],b=D[2],rg,r),r.point(f,d)}function y(){_.point=v,r.lineEnd()}function x(){m(),_.point=w,_.lineEnd=E}function w(A,C){g(i=A,C),o=f,a=d,s=h,c=p,u=b,_.point=g}function E(){n(f,d,l,h,p,b,o,a,i,s,c,u,rg,r),_.lineEnd=y,y()}return _}}var hE=vu({point:function(e,t){this.stream.point(e*me,t*me)}});function pE(e){return vu({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function gE(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function og(e,t,n,r,i,o){if(!o)return gE(e,t,n,r,i);var a=ie(o),s=re(o),c=a*e,u=s*e,l=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(b,_){return b*=r,_*=i,[c*b-u*_+t,n-u*b-c*_]}return p.invert=function(b,_){return[r*(l*b-f*_+d),i*(h-f*b-l*_)]},p}function wr(e){return Hb(function(){return e})()}function Hb(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,c=0,u=0,l,f=0,d=1,h=1,p=null,b=Bp,_=null,v,m,g,y=jf,x=.5,w,E,A,C,D;function I(k){return A(k[0]*me,k[1]*me)}function L(k){return k=A.invert(k[0],k[1]),k&&[k[0]*dt,k[1]*dt]}I.stream=function(k){return C&&D===k?C:C=hE(pE(l)(b(w(y(D=k)))))},I.preclip=function(k){return arguments.length?(b=k,p=void 0,R()):b},I.postclip=function(k){return arguments.length?(y=k,_=v=m=g=null,R()):y},I.clipAngle=function(k){return arguments.length?(b=+k?B4(p=k*me):(p=null,Bp),R()):p*dt},I.clipExtent=function(k){return arguments.length?(y=k==null?(_=v=m=g=null,jf):Mb(_=+k[0][0],v=+k[0][1],m=+k[1][0],g=+k[1][1]),R()):_==null?null:[[_,v],[m,g]]},I.scale=function(k){return arguments.length?(n=+k,M()):n},I.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],M()):[r,i]},I.center=function(k){return arguments.length?(o=k[0]%360*me,a=k[1]%360*me,M()):[o*dt,a*dt]},I.rotate=function(k){return arguments.length?(s=k[0]%360*me,c=k[1]%360*me,u=k.length>2?k[2]%360*me:0,M()):[s*dt,c*dt,u*dt]},I.angle=function(k){return arguments.length?(f=k%360*me,M()):f*dt},I.reflectX=function(k){return arguments.length?(d=k?-1:1,M()):d<0},I.reflectY=function(k){return arguments.length?(h=k?-1:1,M()):h<0},I.precision=function(k){return arguments.length?(w=ig(E,x=k*k),R()):pt(x)},I.fitExtent=function(k,N){return eh(I,k,N)},I.fitSize=function(k,N){return Fb(I,k,N)},I.fitWidth=function(k,N){return Bb(I,k,N)},I.fitHeight=function(k,N){return qb(I,k,N)};function M(){var k=og(n,0,0,d,h,f).apply(null,t(o,a)),N=og(n,r-k[0],i-k[1],d,h,f);return l=wb(s,c,u),E=zf(t,N),A=zf(l,E),w=ig(E,x),R()}function R(){return C=D=null,I}return function(){return t=e.apply(this,arguments),I.invert=t.invert&&L,M()}}function th(e){var t=0,n=se/3,r=Hb(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*me,n=o[1]*me):[t*dt,n*dt]},i}function mE(e){var t=ie(e);function n(r,i){return[r*t,re(i)/t]}return n.invert=function(r,i){return[r/t,Gt(i*t)]},n}function bE(e,t){var n=re(e),r=(n+re(t))/2;if(he(r)<j)return mE(e);var i=1+n*(2*r-n),o=pt(i)/r;function a(s,c){var u=pt(i-2*r*re(c))/r;return[u*re(s*=r),o-u*ie(s)]}return a.invert=function(s,c){var u=o-c,l=_n(s,he(u))*Ht(u);return u*r<0&&(l-=se*Ht(s)*Ht(u)),[l/r,Gt((i-(s*s+u*u)*r*r)/(2*r))]},a}function Bc(){return th(bE).scale(155.424).center([0,33.6442])}function zb(){return Bc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yE(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function _E(){var e,t,n=zb(),r,i=Bc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Bc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,u={point:function(d,h){c=[d,h]}};function l(d){var h=d[0],p=d[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(s.point(h,p),c)}l.invert=function(d){var h=n.scale(),p=n.translate(),b=(d[0]-p[0])/h,_=(d[1]-p[1])/h;return(_>=.12&&_<.234&&b>=-.425&&b<-.214?i:_>=.166&&_<.234&&b>=-.214&&b<-.115?a:n).invert(d)},l.stream=function(d){return e&&t===d?e:e=yE([n.stream(t=d),i.stream(d),a.stream(d)])},l.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),f()):n.precision()},l.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),l.translate(n.translate())):n.scale()},l.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],b=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,b-.238*h],[p+.455*h,b+.238*h]]).stream(u),o=i.translate([p-.307*h,b+.201*h]).clipExtent([[p-.425*h+j,b+.12*h+j],[p-.214*h-j,b+.234*h-j]]).stream(u),s=a.translate([p-.205*h,b+.212*h]).clipExtent([[p-.214*h+j,b+.166*h+j],[p-.115*h-j,b+.234*h-j]]).stream(u),f()},l.fitExtent=function(d,h){return eh(l,d,h)},l.fitSize=function(d,h){return Fb(l,d,h)},l.fitWidth=function(d,h){return Bb(l,d,h)},l.fitHeight=function(d,h){return qb(l,d,h)};function f(){return e=t=null,l}return l.scale(1070)}function Wb(e){return function(t,n){var r=ie(t),i=ie(n),o=e(r*i);return o===1/0?[2,0]:[o*i*re(t),o*re(n)]}}function Da(e){return function(t,n){var r=pt(t*t+n*n),i=e(r),o=re(i),a=ie(i);return[_n(t*o,r*a),Gt(r&&n*o/r)]}}var Gb=Wb(function(e){return pt(2/(1+e))});Gb.invert=Da(function(e){return 2*Gt(e/2)});function vE(){return wr(Gb).scale(124.75).clipAngle(180-.001)}var Vb=Wb(function(e){return(e=vb(e))&&e/re(e)});Vb.invert=Da(function(e){return e});function wE(){return wr(Vb).scale(79.4188).clipAngle(180-.001)}function wu(e,t){return[e,Ic(Zd((ke+t)/2))]}wu.invert=function(e,t){return[e,2*ho(_b(t))-ke]};function Yb(){return Xb(wu).scale(961/At)}function Xb(e){var t=wr(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,c,u;t.scale=function(f){return arguments.length?(r(f),l()):r()},t.translate=function(f){return arguments.length?(i(f),l()):i()},t.center=function(f){return arguments.length?(n(f),l()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=c=u=null:(a=+f[0][0],s=+f[0][1],c=+f[1][0],u=+f[1][1]),l()):a==null?null:[[a,s],[c,u]]};function l(){var f=se*r(),d=t(P4(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===wu?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,c),u]]:[[a,Math.max(d[1]-f,s)],[c,Math.min(d[1]+f,u)]])}return l()}function Hs(e){return Zd((ke+e)/2)}function xE(e,t){var n=ie(e),r=e===t?re(e):Ic(n/ie(t))/Ic(Hs(t)/Hs(e)),i=n*Bl(Hs(e),r)/r;if(!r)return wu;function o(a,s){i>0?s<-ke+j&&(s=-ke+j):s>ke-j&&(s=ke-j);var c=i/Bl(Hs(s),r);return[c*re(r*a),i-c*ie(r*a)]}return o.invert=function(a,s){var c=i-s,u=Ht(r)*pt(a*a+c*c),l=_n(a,he(c))*Ht(c);return c*r<0&&(l-=se*Ht(a)*Ht(c)),[l/r,2*ho(Bl(i/u,1/r))-ke]},o}function EE(){return th(xE).scale(109.5).parallels([30,30])}function qc(e,t){return[e,t]}qc.invert=qc;function TE(){return wr(qc).scale(152.63)}function SE(e,t){var n=ie(e),r=e===t?re(e):(n-ie(t))/(t-e),i=n/r+e;if(he(r)<j)return qc;function o(a,s){var c=i-s,u=r*a;return[c*re(u),i-c*ie(u)]}return o.invert=function(a,s){var c=i-s,u=_n(a,he(c))*Ht(c);return c*r<0&&(u-=se*Ht(a)*Ht(c)),[u/r,i-Ht(r)*pt(a*a+c*c)]},o}function ME(){return th(SE).scale(131.154).center([0,13.9389])}var ea=1.340264,ta=-.081106,na=893e-6,ra=.003796,Hc=pt(3)/2,kE=12;function jb(e,t){var n=Gt(Hc*re(t)),r=n*n,i=r*r*r;return[e*ie(n)/(Hc*(ea+3*ta*r+i*(7*na+9*ra*r))),n*(ea+ta*r+i*(na+ra*r))]}jb.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,c;o<kE&&(s=n*(ea+ta*r+i*(na+ra*r))-t,c=ea+3*ta*r+i*(7*na+9*ra*r),n-=a=s/c,r=n*n,i=r*r*r,!(he(a)<Jd));++o);return[Hc*e*(ea+3*ta*r+i*(7*na+9*ra*r))/ie(n),Gt(re(n)/Hc)]};function IE(){return wr(jb).scale(177.158)}function Kb(e,t){var n=ie(t),r=ie(e)*n;return[n*re(e)/r,re(t)/r]}Kb.invert=Da(ho);function AE(){return wr(Kb).scale(144.049).clipAngle(60)}function Jb(e,t){return[ie(t)*re(e),re(t)]}Jb.invert=Da(Gt);function CE(){return wr(Jb).scale(249.5).clipAngle(90+j)}function Zb(e,t){var n=ie(t),r=1+ie(e)*n;return[n*re(e)/r,re(t)/r]}Zb.invert=Da(function(e){return 2*ho(e)});function RE(){return wr(Zb).scale(250).clipAngle(142)}function Qb(e,t){return[Ic(Zd((ke+t)/2)),-e]}Qb.invert=function(e,t){return[-t,2*ho(_b(e))-ke]};function NE(){var e=Xb(Qb),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function La(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const od=Symbol("implicit");function nh(){var e=new Hi,t=[],n=[],r=od;function i(o){let a=e.get(o);if(a===void 0){if(r!==od)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Hi;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nh(t,n).unknown(r)},Sn.apply(i,arguments),i}function xu(){var e=nh().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,c=0,u=0,l=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,b=h?r:i;o=(b-p)/Math.max(1,d-c+u*2),s&&(o=Math.floor(o)),p+=(b-p-o*(d-c))*l,a=o*(1-c),s&&(p=Math.round(p),a=Math.round(a));var _=jt(d).map(function(v){return p+o*v});return n(h?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.copy=function(){return xu(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},Sn.apply(f(),arguments)}function ey(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ey(t())},e}function PE(){return ey(xu.apply(null,arguments).paddingInner(1))}function OE(e){return function(){return e}}function ad(e){return+e}var ag=[0,1];function vt(e){return e}function sd(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:OE(isNaN(t)?NaN:.5)}function DE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function LE(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=sd(i,r),o=n(a,o)):(r=sd(r,i),o=n(o,a)),function(s){return o(r(s))}}function $E(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=sd(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=Ra(e,s,1,r)-1;return o[c](i[c](s))}}function $a(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eu(){var e=ag,t=ag,n=fo,r,i,o,a=vt,s,c,u;function l(){var d=Math.min(e.length,t.length);return a!==vt&&(a=DE(e[0],e[d-1])),s=d>2?$E:LE,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(c||(c=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),rt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,ad),l()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=bu,l()},f.clamp=function(d){return arguments.length?(a=d?!0:vt,l()):a!==vt},f.interpolate=function(d){return arguments.length?(n=d,l()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,l()}}function ty(){return Eu()(vt,vt)}function UE(e,t,n,r){var i=kf(e,t,n),o;switch(r=da(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=R4(i,a))&&(r.precision=o),yb(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=N4(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=C4(i))&&(r.precision=o-(r.type==="%")*2);break}}return ht(r)}function po(e){var t=e.domain;return e.ticks=function(n){var r=t();return Wi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return UE(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Wr(a,s,n),u===c)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function rh(){var e=ty();return e.copy=function(){return $a(e,rh())},Sn.apply(e,arguments),po(e)}function ny(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ad),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return ny(e).unknown(t)},e=arguments.length?Array.from(e,ad):[0,1],po(n)}function ry(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function sg(e){return Math.log(e)}function cg(e){return Math.exp(e)}function FE(e){return-Math.log(-e)}function BE(e){return-Math.exp(-e)}function qE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HE(e){return e===10?qE:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zE(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ug(e){return(t,n)=>-e(-t,n)}function iy(e){const t=e(sg,cg),n=t.domain;let r=10,i,o;function a(){return i=zE(r),o=HE(r),n()[0]<0?(i=ug(i),o=ug(o),e(FE,BE)):e(sg,cg),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const f=l<u;f&&([u,l]=[l,u]);let d=i(u),h=i(l),p,b;const _=s==null?10:+s;let v=[];if(!(r%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(b=d<0?p/o(-d):p*o(d),!(b<u)){if(b>l)break;v.push(b)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(b=d>0?p/o(-d):p*o(d),!(b<u)){if(b>l)break;v.push(b)}v.length*2<_&&(v=Wi(u,l,_))}else v=Wi(d,h,Math.min(h-d,_)).map(o);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=da(c)).precision==null&&(c.trim=!0),c=ht(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return l=>{let f=l/o(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=u?c(l):""}},t.nice=()=>n(ry(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function oy(){const e=iy(Eu()).domain([1,10]);return e.copy=()=>$a(e,oy()).base(e.base()),Sn.apply(e,arguments),e}function lg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ay(e){var t=1,n=e(lg(t),fg(t));return n.constant=function(r){return arguments.length?e(lg(t=+r),fg(t)):t},po(n)}function sy(){var e=ay(Eu());return e.copy=function(){return $a(e,sy()).constant(e.constant())},Sn.apply(e,arguments)}function dg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function GE(e){return e<0?-e*e:e*e}function cy(e){var t=e(vt,vt),n=1;function r(){return n===1?e(vt,vt):n===.5?e(WE,GE):e(dg(n),dg(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},po(t)}function uy(){var e=cy(Eu());return e.copy=function(){return $a(e,uy()).exponent(e.exponent())},Sn.apply(e,arguments),e}function ly(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=w3(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Ra(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(tt),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ly().domain(e).range(t).unknown(r)},Sn.apply(o,arguments)}function fy(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ra(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return fy().domain(e).range(t).unknown(n)},Sn.apply(i,arguments)}const Gl=new Date,Vl=new Date;function Ue(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return c},i.filter=o=>Ue(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Gl.setTime(+o),Vl.setTime(+a),e(Gl),e(Vl),Math.floor(n(Gl,Vl))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const zc=Ue(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ue(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zc);zc.range;const Bn=1e3,zt=Bn*60,qn=zt*60,Xn=qn*24,ih=Xn*7,hg=Xn*30,Yl=Xn*365,Hn=Ue(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCSeconds());Hn.range;const Tu=Ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getMinutes());Tu.range;const Su=Ue(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCMinutes());Su.range;const Mu=Ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn-e.getMinutes()*zt)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getHours());Mu.range;const ku=Ue(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCHours());ku.range;const go=Ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zt)/Xn,e=>e.getDate()-1);go.range;const Ua=Ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xn,e=>e.getUTCDate()-1);Ua.range;const dy=Ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xn,e=>Math.floor(e/Xn));dy.range;function ti(e){return Ue(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*zt)/ih)}const eo=ti(0),pa=ti(1),hy=ti(2),py=ti(3),jr=ti(4),gy=ti(5),my=ti(6);eo.range;pa.range;hy.range;py.range;jr.range;gy.range;my.range;function ni(e){return Ue(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ih)}const to=ni(0),ga=ni(1),by=ni(2),yy=ni(3),Kr=ni(4),_y=ni(5),vy=ni(6);to.range;ga.range;by.range;yy.range;Kr.range;_y.range;vy.range;const Iu=Ue(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Iu.range;const Au=Ue(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Au.range;const vn=Ue(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ue(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vn.range;const wn=Ue(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ue(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});wn.range;function wy(e,t,n,r,i,o){const a=[[Hn,1,Bn],[Hn,5,5*Bn],[Hn,15,15*Bn],[Hn,30,30*Bn],[o,1,zt],[o,5,5*zt],[o,15,15*zt],[o,30,30*zt],[i,1,qn],[i,3,3*qn],[i,6,6*qn],[i,12,12*qn],[r,1,Xn],[r,2,2*Xn],[n,1,ih],[t,1,hg],[t,3,3*hg],[e,1,Yl]];function s(u,l,f){const d=l<u;d&&([u,l]=[l,u]);const h=f&&typeof f.range=="function"?f:c(u,l,f),p=h?h.range(u,+l+1):[];return d?p.reverse():p}function c(u,l,f){const d=Math.abs(l-u)/f,h=Dd(([,,_])=>_).right(a,d);if(h===a.length)return e.every(kf(u/Yl,l/Yl,f));if(h===0)return zc.every(Math.max(kf(u,l,f),1));const[p,b]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(b)}return[s,c]}const[VE,xy]=wy(wn,Au,to,dy,ku,Su),[YE,XE]=wy(vn,Iu,eo,go,Mu,Tu);function Xl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Po(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function jE(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,u=Oo(i),l=Do(i),f=Oo(o),d=Do(o),h=Oo(a),p=Do(a),b=Oo(s),_=Do(s),v=Oo(c),m=Do(c),g={a:q,A:z,b:W,B:J,c:null,d:_g,e:_g,f:yT,g:IT,G:CT,H:gT,I:mT,j:bT,L:Ey,m:_T,M:vT,p:Z,q:ce,Q:xg,s:Eg,S:wT,u:xT,U:ET,V:TT,w:ST,W:MT,x:null,X:null,y:kT,Y:AT,Z:RT,"%":wg},y={a:ue,A:Pe,b:H,B:de,c:null,d:vg,e:vg,f:DT,g:GT,G:YT,H:NT,I:PT,j:OT,L:Sy,m:LT,M:$T,p:Ae,q:Ce,Q:xg,s:Eg,S:UT,u:FT,U:BT,V:qT,w:HT,W:zT,x:null,X:null,y:WT,Y:VT,Z:XT,"%":wg},x={a:D,A:I,b:L,B:M,c:R,d:bg,e:bg,f:fT,g:mg,G:gg,H:yg,I:yg,j:sT,L:lT,m:aT,M:cT,p:C,q:oT,Q:hT,s:pT,S:uT,u:eT,U:tT,V:nT,w:QE,W:rT,x:k,X:N,y:mg,Y:gg,Z:iT,"%":dT};g.x=w(n,g),g.X=w(r,g),g.c=w(t,g),y.x=w(n,y),y.X=w(r,y),y.c=w(t,y);function w(F,Y){return function(ne){var O=[],ye=-1,ee=0,we=F.length,ve,Je,Re;for(ne instanceof Date||(ne=new Date(+ne));++ye<we;)F.charCodeAt(ye)===37&&(O.push(F.slice(ee,ye)),(Je=pg[ve=F.charAt(++ye)])!=null?ve=F.charAt(++ye):Je=ve==="e"?" ":"0",(Re=Y[ve])&&(ve=Re(ne,Je)),O.push(ve),ee=ye+1);return O.push(F.slice(ee,ye)),O.join("")}}function E(F,Y){return function(ne){var O=Po(1900,void 0,1),ye=A(O,F,ne+="",0),ee,we;if(ye!=ne.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Y&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ee=jl(Po(O.y,0,1)),we=ee.getUTCDay(),ee=we>4||we===0?ga.ceil(ee):ga(ee),ee=Ua.offset(ee,(O.V-1)*7),O.y=ee.getUTCFullYear(),O.m=ee.getUTCMonth(),O.d=ee.getUTCDate()+(O.w+6)%7):(ee=Xl(Po(O.y,0,1)),we=ee.getDay(),ee=we>4||we===0?pa.ceil(ee):pa(ee),ee=go.offset(ee,(O.V-1)*7),O.y=ee.getFullYear(),O.m=ee.getMonth(),O.d=ee.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),we="Z"in O?jl(Po(O.y,0,1)).getUTCDay():Xl(Po(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(we+5)%7:O.w+O.U*7-(we+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,jl(O)):Xl(O)}}function A(F,Y,ne,O){for(var ye=0,ee=Y.length,we=ne.length,ve,Je;ye<ee;){if(O>=we)return-1;if(ve=Y.charCodeAt(ye++),ve===37){if(ve=Y.charAt(ye++),Je=x[ve in pg?Y.charAt(ye++):ve],!Je||(O=Je(F,ne,O))<0)return-1}else if(ve!=ne.charCodeAt(O++))return-1}return O}function C(F,Y,ne){var O=u.exec(Y.slice(ne));return O?(F.p=l.get(O[0].toLowerCase()),ne+O[0].length):-1}function D(F,Y,ne){var O=h.exec(Y.slice(ne));return O?(F.w=p.get(O[0].toLowerCase()),ne+O[0].length):-1}function I(F,Y,ne){var O=f.exec(Y.slice(ne));return O?(F.w=d.get(O[0].toLowerCase()),ne+O[0].length):-1}function L(F,Y,ne){var O=v.exec(Y.slice(ne));return O?(F.m=m.get(O[0].toLowerCase()),ne+O[0].length):-1}function M(F,Y,ne){var O=b.exec(Y.slice(ne));return O?(F.m=_.get(O[0].toLowerCase()),ne+O[0].length):-1}function R(F,Y,ne){return A(F,t,Y,ne)}function k(F,Y,ne){return A(F,n,Y,ne)}function N(F,Y,ne){return A(F,r,Y,ne)}function q(F){return a[F.getDay()]}function z(F){return o[F.getDay()]}function W(F){return c[F.getMonth()]}function J(F){return s[F.getMonth()]}function Z(F){return i[+(F.getHours()>=12)]}function ce(F){return 1+~~(F.getMonth()/3)}function ue(F){return a[F.getUTCDay()]}function Pe(F){return o[F.getUTCDay()]}function H(F){return c[F.getUTCMonth()]}function de(F){return s[F.getUTCMonth()]}function Ae(F){return i[+(F.getUTCHours()>=12)]}function Ce(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var Y=w(F+="",g);return Y.toString=function(){return F},Y},parse:function(F){var Y=E(F+="",!1);return Y.toString=function(){return F},Y},utcFormat:function(F){var Y=w(F+="",y);return Y.toString=function(){return F},Y},utcParse:function(F){var Y=E(F+="",!0);return Y.toString=function(){return F},Y}}}var pg={"-":"",_:" ",0:"0"},Xe=/^\s*\d+/,KE=/^%/,JE=/[\\^$*+?|[\]().{}]/g;function pe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ZE(e){return e.replace(JE,"\\$&")}function Oo(e){return new RegExp("^(?:"+e.map(ZE).join("|")+")","i")}function Do(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function QE(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eT(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gg(e,t,n){var r=Xe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iT(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oT(e,t,n){var r=Xe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function aT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function sT(e,t,n){var r=Xe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function yg(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function uT(e,t,n){var r=Xe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lT(e,t,n){var r=Xe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fT(e,t,n){var r=Xe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dT(e,t,n){var r=KE.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function hT(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pT(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _g(e,t){return pe(e.getDate(),t,2)}function gT(e,t){return pe(e.getHours(),t,2)}function mT(e,t){return pe(e.getHours()%12||12,t,2)}function bT(e,t){return pe(1+go.count(vn(e),e),t,3)}function Ey(e,t){return pe(e.getMilliseconds(),t,3)}function yT(e,t){return Ey(e,t)+"000"}function _T(e,t){return pe(e.getMonth()+1,t,2)}function vT(e,t){return pe(e.getMinutes(),t,2)}function wT(e,t){return pe(e.getSeconds(),t,2)}function xT(e){var t=e.getDay();return t===0?7:t}function ET(e,t){return pe(eo.count(vn(e)-1,e),t,2)}function Ty(e){var t=e.getDay();return t>=4||t===0?jr(e):jr.ceil(e)}function TT(e,t){return e=Ty(e),pe(jr.count(vn(e),e)+(vn(e).getDay()===4),t,2)}function ST(e){return e.getDay()}function MT(e,t){return pe(pa.count(vn(e)-1,e),t,2)}function kT(e,t){return pe(e.getFullYear()%100,t,2)}function IT(e,t){return e=Ty(e),pe(e.getFullYear()%100,t,2)}function AT(e,t){return pe(e.getFullYear()%1e4,t,4)}function CT(e,t){var n=e.getDay();return e=n>=4||n===0?jr(e):jr.ceil(e),pe(e.getFullYear()%1e4,t,4)}function RT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function vg(e,t){return pe(e.getUTCDate(),t,2)}function NT(e,t){return pe(e.getUTCHours(),t,2)}function PT(e,t){return pe(e.getUTCHours()%12||12,t,2)}function OT(e,t){return pe(1+Ua.count(wn(e),e),t,3)}function Sy(e,t){return pe(e.getUTCMilliseconds(),t,3)}function DT(e,t){return Sy(e,t)+"000"}function LT(e,t){return pe(e.getUTCMonth()+1,t,2)}function $T(e,t){return pe(e.getUTCMinutes(),t,2)}function UT(e,t){return pe(e.getUTCSeconds(),t,2)}function FT(e){var t=e.getUTCDay();return t===0?7:t}function BT(e,t){return pe(to.count(wn(e)-1,e),t,2)}function My(e){var t=e.getUTCDay();return t>=4||t===0?Kr(e):Kr.ceil(e)}function qT(e,t){return e=My(e),pe(Kr.count(wn(e),e)+(wn(e).getUTCDay()===4),t,2)}function HT(e){return e.getUTCDay()}function zT(e,t){return pe(ga.count(wn(e)-1,e),t,2)}function WT(e,t){return pe(e.getUTCFullYear()%100,t,2)}function GT(e,t){return e=My(e),pe(e.getUTCFullYear()%100,t,2)}function VT(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function YT(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kr(e):Kr.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function XT(){return"+0000"}function wg(){return"%"}function xg(e){return+e}function Eg(e){return Math.floor(+e/1e3)}var Ei,ky,Cu;jT({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jT(e){return Ei=jE(e),ky=Ei.format,Ei.parse,Cu=Ei.utcFormat,Ei.utcParse,Ei}function KT(e){return new Date(e)}function JT(e){return e instanceof Date?+e:+new Date(+e)}function oh(e,t,n,r,i,o,a,s,c,u){var l=ty(),f=l.invert,d=l.domain,h=u(".%L"),p=u(":%S"),b=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),m=u("%b %d"),g=u("%B"),y=u("%Y");function x(w){return(c(w)<w?h:s(w)<w?p:a(w)<w?b:o(w)<w?_:r(w)<w?i(w)<w?v:m:n(w)<w?g:y)(w)}return l.invert=function(w){return new Date(f(w))},l.domain=function(w){return arguments.length?d(Array.from(w,JT)):d().map(KT)},l.ticks=function(w){var E=d();return e(E[0],E[E.length-1],w??10)},l.tickFormat=function(w,E){return E==null?x:u(E)},l.nice=function(w){var E=d();return(!w||typeof w.range!="function")&&(w=t(E[0],E[E.length-1],w??10)),w?d(ry(E,w)):l},l.copy=function(){return $a(l,oh(e,t,n,r,i,o,a,s,c,u))},l}function ZT(){return Sn.apply(oh(YE,XE,vn,Iu,eo,go,Mu,Tu,Hn,ky).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QT(){return Sn.apply(oh(VE,xy,wn,Au,to,Ua,ku,Su,Hn,Cu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eS(){var e=0,t=1,n,r,i,o,a=vt,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function l(f){return function(d){var h,p;return arguments.length?([h,p]=d,a=f(h,p),u):[a(0),a(1)]}}return u.range=l(fo),u.rangeRound=l(bu),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Fa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cd(){var e=po(eS()(vt));return e.copy=function(){return Fa(e,cd())},La.apply(e,arguments)}function Ru(){var e=0,t=.5,n=1,r=1,i,o,a,s,c,u=vt,l,f=!1,d;function h(b){return isNaN(b=+b)?d:(b=.5+((b=+l(b))-o)*(r*b<r*o?s:c),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([e,t,n]=b,i=l(e=+e),o=l(t=+t),a=l(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function p(b){return function(_){var v,m,g;return arguments.length?([v,m,g]=_,u=Vd(b,[v,m,g]),h):[u(0),u(.5),u(1)]}}return h.range=p(fo),h.rangeRound=p(bu),h.unknown=function(b){return arguments.length?(d=b,h):d},function(b){return l=b,i=b(e),o=b(t),a=b(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Iy(){var e=po(Ru()(vt));return e.copy=function(){return Fa(e,Iy())},La.apply(e,arguments)}function Ay(){var e=iy(Ru()).domain([.1,1,10]);return e.copy=function(){return Fa(e,Ay()).base(e.base())},La.apply(e,arguments)}function Cy(){var e=ay(Ru());return e.copy=function(){return Fa(e,Cy()).constant(e.constant())},La.apply(e,arguments)}function Ry(){var e=cy(Ru());return e.copy=function(){return Fa(e,Ry()).exponent(e.exponent())},La.apply(e,arguments)}function ae(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const tS=ae("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nS=ae("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rS=ae("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),iS=ae("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),oS=ae("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),aS=ae("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),sS=ae("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),cS=ae("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),uS=ae("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),lS=ae("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),be=e=>P8(e[e.length-1]);var Ny=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ae);const Py=be(Ny);var Oy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ae);const Dy=be(Oy);var Ly=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ae);const $y=be(Ly);var Uy=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ae);const Fy=be(Uy);var ud=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ae);const no=be(ud);var By=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ae);const qy=be(By);var ld=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ae);const Wc=be(ld);var Hy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ae);const zy=be(Hy);var Wy=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ae);const Gy=be(Wy);var Vy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ae);const Yy=be(Vy);var Xy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ae);const jy=be(Xy);var Ky=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ae);const Jy=be(Ky);var Zy=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ae);const Qy=be(Zy);var e_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ae);const t_=be(e_);var n_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ae);const r_=be(n_);var i_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ae);const o_=be(i_);var a_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ae);const s_=be(a_);var c_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ae);const u_=be(c_);var l_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ae);const f_=be(l_);var d_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ae);const h_=be(d_);var p_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ae);const g_=be(p_);var m_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ae);const b_=be(m_);var y_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ae);const __=be(y_);var v_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ae);const w_=be(v_);var x_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ae);const E_=be(x_);var T_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ae);const S_=be(T_);var M_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ae);const k_=be(M_);function ah(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const I_=Gd(yn(300,.5,0),yn(-240,.5,1));var A_=Gd(yn(-100,.75,.35),yn(80,1.5,.8)),C_=Gd(yn(260,.75,.35),yn(80,1.5,.8)),zs=yn();function R_(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return zs.h=360*e-100,zs.s=1.5-1.5*t,zs.l=.8-.9*t,zs+""}var Ws=br(),fS=Math.PI/3,dS=Math.PI*2/3;function N_(e){var t;return e=(.5-e)*Math.PI,Ws.r=255*(t=Math.sin(e))*t,Ws.g=255*(t=Math.sin(e+fS))*t,Ws.b=255*(t=Math.sin(e+dS))*t,Ws+""}function P_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Nu(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const O_=Nu(ae("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D_=Nu(ae("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),L_=Nu(ae("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$_=Nu(ae("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ti(e){return function(){return e}}const U_=Math.cos,sh=Math.min,Gc=Math.sin,Fe=Math.sqrt,Tg=1e-12,Vc=Math.PI,Pu=2*Vc;function hS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new gb(t)}function pS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F_(e){this._context=e}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ou(e){return new F_(e)}function gS(e){return e[0]}function mS(e){return e[1]}function bS(e,t){var n=Ti(!0),r=null,i=Ou,o=null,a=hS(s);e=typeof e=="function"?e:e===void 0?gS:Ti(e),t=typeof t=="function"?t:t===void 0?mS:Ti(t);function s(c){var u,l=(c=pS(c)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=l;++u)!(u<l&&n(f=c[u],u,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,c),+t(f,u,c));if(h)return o=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ti(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ti(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ti(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}class B_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function yS(e){return new B_(e,!0)}function _S(e){return new B_(e,!1)}const vS=Fe(3),q_={draw(e,t){const n=Fe(t+sh(t/28,.75))*.59436,r=n/2,i=r*vS;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},ma={draw(e,t){const n=Fe(t/Vc);e.moveTo(n,0),e.arc(0,0,n,0,Pu)}},H_={draw(e,t){const n=Fe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},z_=Fe(1/3),wS=z_*2,W_={draw(e,t){const n=Fe(t/wS),r=n*z_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},G_={draw(e,t){const n=Fe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},V_={draw(e,t){const n=Fe(t-sh(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Y_={draw(e,t){const n=Fe(t),r=-n/2;e.rect(r,r,n,n)}},X_={draw(e,t){const n=Fe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},xS=.8908130915292852,j_=Gc(Vc/10)/Gc(7*Vc/10),ES=Gc(Pu/10)*j_,TS=-U_(Pu/10)*j_,K_={draw(e,t){const n=Fe(t*xS),r=ES*n,i=TS*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Pu*o/5,s=U_(a),c=Gc(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},Kl=Fe(3),J_={draw(e,t){const n=-Fe(t/(Kl*3));e.moveTo(0,n*2),e.lineTo(-Kl*n,-n),e.lineTo(Kl*n,-n),e.closePath()}},SS=Fe(3),Z_={draw(e,t){const n=Fe(t)*.6824,r=n/2,i=n*SS/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ft=-.5,Bt=Fe(3)/2,fd=1/Fe(12),MS=(fd/2+1)*3,Q_={draw(e,t){const n=Fe(t/MS),r=n/2,i=n*fd,o=r,a=n*fd+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(Ft*r-Bt*i,Bt*r+Ft*i),e.lineTo(Ft*o-Bt*a,Bt*o+Ft*a),e.lineTo(Ft*s-Bt*c,Bt*s+Ft*c),e.lineTo(Ft*r+Bt*i,Ft*i-Bt*r),e.lineTo(Ft*o+Bt*a,Ft*a-Bt*o),e.lineTo(Ft*s+Bt*c,Ft*c-Bt*s),e.closePath()}},ev={draw(e,t){const n=Fe(t-sh(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},kS=[ma,H_,W_,Y_,K_,J_,Q_],IS=[ma,V_,ev,Z_,q_,X_,G_];function yr(){}function Yc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Du(e){this._context=e}Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AS(e){return new Du(e)}function tv(e){this._context=e}tv.prototype={areaStart:yr,areaEnd:yr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CS(e){return new tv(e)}function nv(e){this._context=e}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RS(e){return new nv(e)}function rv(e,t){this._basis=new Du(e),this._beta=t}rv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+c*o),this._beta*t[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const NS=function e(t){function n(r){return t===1?new Du(r):new rv(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Xc(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ch(e,t){this._context=e,this._k=(1-t)/6}ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const PS=function e(t){function n(r){return new ch(r,t)}return n.tension=function(r){return e(+r)},n}(0);function uh(e,t){this._context=e,this._k=(1-t)/6}uh.prototype={areaStart:yr,areaEnd:yr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const OS=function e(t){function n(r){return new uh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function lh(e,t){this._context=e,this._k=(1-t)/6}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const DS=function e(t){function n(r){return new lh(r,t)}return n.tension=function(r){return e(+r)},n}(0);function fh(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Tg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Tg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function iv(e,t){this._context=e,this._alpha=t}iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LS=function e(t){function n(r){return t?new iv(r,t):new ch(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function ov(e,t){this._context=e,this._alpha=t}ov.prototype={areaStart:yr,areaEnd:yr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $S=function e(t){function n(r){return t?new ov(r,t):new uh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function av(e,t){this._context=e,this._alpha=t}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fh(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const US=function e(t){function n(r){return t?new av(r,t):new lh(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function sv(e){this._context=e}sv.prototype={areaStart:yr,areaEnd:yr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FS(e){return new sv(e)}function Sg(e){return e<0?-1:1}function Mg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Sg(o)+Sg(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function kg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jl(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function jc(e){this._context=e}jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jl(this,this._t0,kg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jl(this,kg(this,n=Mg(this,e,t)),n);break;default:Jl(this,this._t0,n=Mg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function cv(e){this._context=new uv(e)}(cv.prototype=Object.create(jc.prototype)).point=function(e,t){jc.prototype.point.call(this,t,e)};function uv(e){this._context=e}uv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function BS(e){return new jc(e)}function qS(e){return new cv(e)}function lv(e){this._context=e}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Ig(e),i=Ig(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ig(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function HS(e){return new lv(e)}function Lu(e,t){this._context=e,this._t=t}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zS(e){return new Lu(e,.5)}function WS(e){return new Lu(e,0)}function GS(e){return new Lu(e,1)}function Xo(e,t,n){this.k=e,this.x=t,this.y=n}Xo.prototype={constructor:Xo,scale:function(e){return e===1?this:new Xo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xo.prototype;const VS=new Map([["second",Hn],["minute",Tu],["hour",Mu],["day",go],["week",eo],["month",Iu],["year",vn],["monday",pa],["tuesday",hy],["wednesday",py],["thursday",jr],["friday",gy],["saturday",my],["sunday",eo]]),YS=new Map([["second",Hn],["minute",Su],["hour",ku],["day",Ua],["week",to],["month",Au],["year",wn],["monday",ga],["tuesday",by],["wednesday",yy],["thursday",Kr],["friday",_y],["saturday",vy],["sunday",to]]);function XS(e){const t=VS.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function jS(e){const t=YS.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const fv=Object.getPrototypeOf(Uint8Array),KS=Object.prototype.toString;function Ve(e,t,n){const r=typeof t;return r==="string"?$e(e,dv(t),n):r==="function"?$e(e,t,n):r==="number"||t instanceof Date||r==="boolean"?$e(e,mo(t),n):t&&typeof t.transform=="function"?en(t.transform(e),n):en(t,n)}const dv=e=>t=>t[e],hv=(e,t)=>t,gt={transform:e=>e},JS=()=>1,ZS=()=>!0,Kt=e=>e==null?e:`${e}`,Se=e=>e==null?e:+e,dh=e=>e?e[0]:void 0,dd=e=>e?e[1]:void 0,mo=e=>()=>e;function QS(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Gi(n,t,r)}function _r(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Fu(e)?[void 0,e]:[e,void 0]}function St(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function pv(e,t,n){if(e!=null)return Jn(e,t,n)}function Jn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function en(e,t){return e==null?e:t===void 0?e instanceof Array||e instanceof fv?e:Array.from(e):e instanceof t?e:t.from(e)}function $e(e,t,n=Array){return e instanceof n?e.map(t):n.from(e,t)}function hd(e,t=Array){return e instanceof t?e.slice():t.from(e)}function e7(e){return e instanceof fv}function Ba(e){return(e==null?void 0:e.toString)===KS}function Ui(e){return Ba(e)&&(e.type!==void 0||e.domain!==void 0)}function $u(e){return Ba(e)&&typeof e.transform!="function"}function ba(e){return $u(e)&&e.value===void 0&&e.channel===void 0}function t7(e,t,n,r=gt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function hh(e,t){return e===void 0&&t===void 0?[dh,dd]:[e,t]}function gv({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=_r(t)),e===void 0&&([e]=_r(n)),e}function xr(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function mv(e,t){return $e(t,n=>e[n])}function Zl(e){return e!==null&&typeof e=="object"?e.valueOf():e}function n7(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Kc(e){let t;return[{transform:()=>t,label:ri(e)},n=>t=n]}function On(e){return e==null?[e]:Kc(e)}function ri(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function pd(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Ct(r)||Ct(i)?$e(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):$e(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Er(e,t){if(e!=null){if(typeof e=="number"){const n=e;return{floor:r=>n*Math.floor(r/n),offset:r=>r+n,range:(r,i)=>jt(Math.ceil(r/n),i/n).map(o=>n*o)}}if(typeof e=="string")return(t==="time"?XS:jS)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Uu(e){return e===void 0||$u(e)?e:{value:e}}function r7(e){return e==null?null:{transform:t=>Ve(t,e,Float64Array),label:ri(e)}}function Tr(e){return e&&typeof e[Symbol.iterator]=="function"}function i7(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Ag(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Ct(e){for(const t of e)if(t!=null)return t instanceof Date}function o7(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&y1(t)}function a7(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function s7(e){for(const t of e)if(t!=null)return typeof t=="number"}function Cg(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Fu(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||mr(e)!==null)}function Tt(e){return e==null||ya(e)}function ya(e){return/^\s*none\s*$/i.test(e)}function c7(e){return/^\s*round\s*$/i.test(e)}function ph(e="middle"){return Jn(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function _a(e){if(e==null)return;const t=e[0],n=e[e.length-1];return uo(t,n)}function u7(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function l7(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Rg(e){return Tr(e)?l7(e):e}const dn=Symbol("position"),xn=Symbol("color"),Bu=Symbol("radius"),qu=Symbol("length"),Hu=Symbol("opacity"),zu=Symbol("symbol"),Ie=new Map([["x",dn],["y",dn],["fx",dn],["fy",dn],["r",Bu],["color",xn],["opacity",Hu],["symbol",zu],["length",qu]]),f7=Math.sqrt(3),d7=2/f7,h7={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*d7,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},gh=new Map([["asterisk",q_],["circle",ma],["cross",H_],["diamond",W_],["diamond2",G_],["hexagon",h7],["plus",V_],["square",Y_],["square2",X_],["star",K_],["times",ev],["triangle",J_],["triangle2",Z_],["wye",Q_]]);function mh(e){return e&&typeof e.draw=="function"}function p7(e){return mh(e)?!0:typeof e!="string"?!1:gh.has(e.toLowerCase())}function bh(e){if(e==null||mh(e))return e;const t=gh.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function g7(e){if(e==null||mh(e))return[void 0,e];if(typeof e=="string"){const t=gh.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function ro(e){return e!=null&&!Number.isNaN(e)}function va(e,t){return+ro(t)-+ro(e)||tt(e,t)}function m7(e,t){return+ro(t)-+ro(e)||uo(e,t)}function yh(e){return e!=null&&`${e}`!=""}function bv(e){return isFinite(e)?e:NaN}function qa(e){return e>0&&isFinite(e)?e:NaN}function Wu(e){return e<0&&isFinite(e)?e:NaN}function Gu(e={},t){let{filter:n,sort:r,reverse:i,transform:o,initializer:a,...s}=e;if(o===void 0&&(n!=null&&(o=yv(n)),r!=null&&!ba(r)&&(o=Ql(o,_h(r))),i&&(o=Ql(o,_v))),t!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(r===null||ba(r))&&{sort:r},transform:Ql(o,t)}}function Vu(e={},t){let{filter:n,sort:r,reverse:i,initializer:o,...a}=e;return o===void 0&&(n!=null&&(o=yv(n)),r!=null&&!ba(r)&&(o=ef(o,_h(r))),i&&(o=ef(o,_v))),{...a,...(r===null||ba(r))&&{sort:r},initializer:ef(o,t)}}function Ql(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,en(n),r)}}function ef(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,c,u,l,f;return{data:s=n,facets:c=r,channels:a}=e.call(this,n,r,i,...o),{data:l=s,facets:f=c,channels:u}=t.call(this,s,c,{...i,...a},...o),{data:l,facets:f,channels:{...a,...u}}}}function b7(e,t){return(e.initializer!=null?Vu:Gu)(e,t)}function yv(e){return(t,n)=>{const r=Ve(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function _v(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function y7(e,t){return{...($u(e)&&e.channel!==void 0?Vu:b7)(t,_h(e)),sort:null}}function _h(e){return(typeof e=="function"&&e.length!==1?_7:v7)(e)}function _7(e){return(t,n)=>{const r=(i,o)=>e(t[i],t[o]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function v7(e){let t,n;if({channel:t,value:e,order:n=va}={...Uu(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=va;break;case"descending":n=m7;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,o)=>{let a;if(t===void 0)a=Ve(r,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(a=o[t],!a)return{};a=a.value}const s=(c,u)=>n(a[c],a[u]);return{data:r,facets:i.map(c=>c.slice().sort(s))}}}function Gs(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function w7(e,t){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",M7]),t.href!=null&&e.href===void 0&&n.push(["href",xv]),n.filter(([,r])=>r!==void 0).map(([r,i])=>i===null?{name:r,initialize(){},scope(){},reduce(){}}:vv(r,i,t))}function vv(e,t,n){const r=wv(e,t,n),[i,o]=Kc(r.label);let a;return{name:e,output:i,initialize(s){r.initialize(s),a=o([])},scope(s,c){r.scope(s,c)},reduce(s,c){a.push(r.reduce(s,c))}}}function wv(e,t,n){const r=n7(e,n),i=vh(t,r);let o,a;return{label:ri(i===Jc?null:r,i.label),initialize(s){o=r===void 0?s:Ve(s,r),i.scope==="data"&&(a=i.reduce(xr(s),o))},scope(s,c){i.scope===s&&(a=i.reduce(c,o))},reduce(s,c){return i.scope==null?i.reduce(s,o,c):i.reduce(s,o,a,c)}}}function Ng(e,t){return t?zi(hu(e,n=>t[n]),dh):[[,e]]}function vh(e,t){if(typeof(e==null?void 0:e.reduce)=="function"&&Ba(e))return e;if(typeof e=="function")return T7(e);if(/^p\d{2}$/i.test(e))return Dn(QS(e));switch(`${e}`.toLowerCase()){case"first":return xv;case"last":return k7;case"count":return Jc;case"distinct":return I7;case"sum":return t==null?Jc:A7;case"proportion":return Og(t,"data");case"proportion-facet":return Og(t,"facet");case"deviation":return Dn(w1);case"min":return Dn(Vn);case"min-index":return Dn(v3);case"max":return Dn(Zt);case"max-index":return Dn(_3);case"mean":return Pg(Bo);case"median":return Pg(ar);case"variance":return Dn(v1);case"mode":return Dn(T3);case"x":return C7;case"x1":return N7;case"x2":return P7;case"y":return R7;case"y1":return O7;case"y2":return D7}throw new Error(`invalid reduce: ${e}`)}function x7(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function E7(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>va(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function T7(e){return{reduce(t,n,r){return e(mv(n,t),r)}}}function Dn(e){return{reduce(t,n){return e(t,r=>n[r])}}}function Pg(e){return{reduce(t,n){const r=e(t,i=>n[i]);return Ct(n)?new Date(r):r}}}const S7={reduce(e,t){return mv(t,e)}},xv={reduce(e,t){return t[e[0]]}},M7={reduce(e,t){const r=zi(Fr(e,o=>o.length,o=>t[o]),dd),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[`… ${o.length.toLocaleString("en-US")} more`,_t(o,dd)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},k7={reduce(e,t){return t[e[e.length-1]]}},Jc={label:"Frequency",reduce(e){return e.length}},I7={label:"Distinct",reduce:(e,t)=>{const n=new x1;for(const r of e)n.add(t[r]);return n.size}},A7=Dn(_t);function Og(e,t){return e==null?{scope:t,label:"Frequency",reduce:(n,r,i=1)=>n.length/i}:{scope:t,reduce:(n,r,i=1)=>_t(n,o=>r[o])/i}}function Ev(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const C7={reduce(e,t,{x1:n,x2:r}){return Ev(n,r)}},R7={reduce(e,t,{y1:n,y2:r}){return Ev(n,r)}},N7={reduce(e,t,{x1:n}){return n}},P7={reduce(e,t,{x2:n}){return n}},O7={reduce(e,t,{y1:n}){return n}},D7={reduce(e,t,{y2:n}){return n}};function wa(e,{scale:t,type:n,value:r,filter:i,hint:o},a){return Tv(a,{scale:t,type:n,value:Ve(e,r),label:ri(r),filter:i,hint:o})}function L7(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,wa(t,r,n)]))}function $7(e,t){return Object.fromEntries(Object.entries(e).map(([n,{scale:r,value:i}])=>{const o=r==null?null:t[r];return[n,o==null?i:$e(i,o)]}))}function Tv(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=Cg(r,Fu)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale="opacity";break;case"symbol":Cg(r,p7)?(t.scale=null,t.value=$e(r,bh)):t.scale="symbol";break;default:t.scale=Ie.has(e)?e:null;break}else if(n!=null&&!Ie.has(n))throw new Error(`unknown scale: ${n}`);return t}function U7(e,t,n,r){const{reverse:i,reduce:o=!0,limit:a}=r;for(const s in r){if(!Ie.has(s))continue;let{value:c,reverse:u=i,reduce:l=o,limit:f=a}=Uu(r[s]);if(u===void 0&&(u=c==="width"||c==="height"),l==null||l===!1)continue;const d=Dg(e,s)||t&&Dg(t,s);if(!d)throw new Error(`missing channel for scale: ${s}`);const h=d.value,[p=0,b=1/0]=Tr(f)?f:f<0?[f]:[0,f];if(c==null)d.domain=()=>{let _=h;return u&&(_=_.slice().reverse()),(p!==0||b!==1/0)&&(_=_.slice(p,b)),_};else{const _=c==="data"?n:c==="height"?Lg(e,"y1","y2"):c==="width"?Lg(e,"x1","x2"):gd(e,c,c==="y"?"y2":c==="x"?"x2":void 0),v=vh(l===!0?"max":l,_);d.domain=()=>{let m=Fr(xr(h),g=>v.reduce(g,_),g=>h[g]);return m=zi(m,u?B7:F7),(p!==0||b!==1/0)&&(m=m.slice(p,b)),m.map(dh)}}}}function Dg(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function Lg(e,t,n){const r=gd(e,t),i=gd(e,n);return $e(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function gd(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function F7([e,t],[n,r]){return tt(t,r)||tt(e,n)}function B7([e,t],[n,r]){return uo(t,r)||tt(e,n)}const $g=new Map([["accent",nS],["category10",tS],["dark2",rS],["paired",iS],["pastel1",oS],["pastel2",aS],["set1",sS],["set2",cS],["set3",uS],["tableau10",lS],["brbg",Rn(Ny,Py)],["prgn",Rn(Oy,Dy)],["piyg",Rn(Ly,$y)],["puor",Rn(Uy,Fy)],["rdbu",Rn(ud,no)],["rdgy",Rn(By,qy)],["rdylbu",Rn(ld,Wc)],["rdylgn",Rn(Hy,zy)],["spectral",Rn(Wy,Gy)],["burd",Ug(ud,no)],["buylrd",Ug(ld,Wc)],["blues",qe(m_,b_)],["greens",qe(y_,__)],["greys",qe(v_,w_)],["oranges",qe(M_,k_)],["purples",qe(x_,E_)],["reds",qe(T_,S_)],["turbo",Nn(P_)],["viridis",Nn(O_)],["magma",Nn(D_)],["inferno",Nn(L_)],["plasma",Nn($_)],["cividis",Nn(ah)],["cubehelix",Nn(I_)],["warm",Nn(A_)],["cool",Nn(C_)],["bugn",qe(Vy,Yy)],["bupu",qe(Xy,jy)],["gnbu",qe(Ky,Jy)],["orrd",qe(Zy,Qy)],["pubu",qe(n_,r_)],["pubugn",qe(e_,t_)],["purd",qe(i_,o_)],["rdpu",qe(a_,s_)],["ylgn",qe(l_,f_)],["ylgnbu",qe(c_,u_)],["ylorbr",qe(d_,h_)],["ylorrd",qe(p_,g_)],["rainbow",Fg(R_)],["sinebow",Fg(N_)]]);function qe(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Qt(t,n):e[n])}function Rn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Qt(t,n):e[n])}function Ug(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Qt(r=>t(1-r),n):e[n].slice().reverse())}function Nn(e){return({length:t})=>Qt(e,Math.max(2,Math.floor(t)))}function Fg(e){return({length:t})=>Qt(e,Math.floor(t)+1).slice(0,-1)}function Sv(e){const t=`${e}`.toLowerCase();if(!$g.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return $g.get(t)}function Yu(e,t){const n=Sv(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function q7(e,t="greys"){const n=new Set,[r,i]=Yu(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Bg=new Map([["brbg",Py],["prgn",Dy],["piyg",$y],["puor",Fy],["rdbu",no],["rdgy",qy],["rdylbu",Wc],["rdylgn",zy],["spectral",Gy],["burd",e=>no(1-e)],["buylrd",e=>Wc(1-e)],["blues",b_],["greens",__],["greys",w_],["purples",E_],["reds",S_],["oranges",k_],["turbo",P_],["viridis",O_],["magma",D_],["inferno",L_],["plasma",$_],["cividis",ah],["cubehelix",I_],["warm",A_],["cool",C_],["bugn",Yy],["bupu",jy],["gnbu",Jy],["orrd",Qy],["pubugn",t_],["pubu",r_],["purd",o_],["rdpu",s_],["ylgnbu",u_],["ylgn",f_],["ylorbr",h_],["ylorrd",g_],["rainbow",R_],["sinebow",N_]]);function wh(e){const t=`${e}`.toLowerCase();if(!Bg.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Bg.get(t)}const H7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function qg(e){return e!=null&&H7.has(`${e}`.toLowerCase())}const Mv=e=>t=>e(1-t),tf=[0,1],Hg=new Map([["number",rt],["rgb",Vr],["hsl",V8],["hcl",j8],["lab",Y8]]);function kv(e){const t=`${e}`.toLowerCase();if(!Hg.has(t))throw new Error(`unknown interpolator: ${t}`);return Hg.get(t)}function Ha(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=Av(e,n),unknown:c,round:u,scheme:l,interval:f,range:d=Ie.get(e)===Bu?Z7(n,s):Ie.get(e)===qu?Q7(n,s):Ie.get(e)===Hu?tf:void 0,interpolate:h=Ie.get(e)===xn?l==null&&d!==void 0?Vr:wh(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?bu:rt,reverse:p}){if(f=Er(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=kv(h)),h.length===1?(p&&(h=Mv(h),p=!1),d===void 0&&(d=Float64Array.from(s,(b,_)=>_/(s.length-1)),d.length===2&&(d=tf)),t.interpolate((d===tf?mo:Eh)(h))):t.interpolate(h),a){const[b,_]=ze(s);(b>0||_<0)&&(s=hd(s),_a(s)!==Math.sign(b)?s[s.length-1]=0:s[0]=0)}return p&&(s=vc(s)),t.domain(s).unknown(c),i&&(t.nice(i===!0?void 0:i),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:f}}function z7(e,t,n){return Ha(e,rh(),t,n)}function W7(e,t,n){return Iv(e,t,{...n,exponent:.5})}function Iv(e,t,{exponent:n=1,...r}){return Ha(e,uy().exponent(n),t,{...r,type:"pow"})}function G7(e,t,{base:n=10,domain:r=eM(t),...i}){return Ha(e,oy().base(n),t,{...i,domain:r})}function V7(e,t,{constant:n=1,...r}){return Ha(e,sy().constant(n),t,r)}function Y7(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=tM(t),interpolate:s,reverse:c}){return n===void 0&&(n=s!==void 0?Qt(s,i):Ie.get(e)===xn?Yu(o,i):void 0),a.length>0&&(a=ly(a,n===void 0?{length:i}:n).quantiles()),xh(e,t,{domain:a,range:n,reverse:c})}function X7(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Av(e,t),unknown:a,interpolate:s,reverse:c}){const[u,l]=ze(o);let f;return n===void 0?(f=Wi(u,l,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=s!==void 0?Qt(s,r):Ie.get(e)===xn?Yu(i,r):void 0):(f=Qt(rt(u,l),r+1).slice(1,-1),u instanceof Date&&(f=f.map(d=>new Date(d)))),_a(en(o))<0&&f.reverse(),xh(e,t,{domain:f,range:n,reverse:c,unknown:a})}function xh(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Qt(o,n.length+1):Ie.get(e)===xn?Yu(i,n.length+1):void 0,reverse:s}){n=en(n);const c=_a(n);if(!j7(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=vc(a)),{type:"threshold",scale:fy(c<0?vc(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function j7(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=uo(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function K7(){return{type:"identity",scale:ny()}}function xa(e,t=bv){return e.length?[Vn(e,({value:n})=>n===void 0?n:Vn(n,t)),Zt(e,({value:n})=>n===void 0?n:Zt(n,t))]:[0,1]}function Av(e,t){const n=Ie.get(e);return(n===Bu||n===Hu||n===qu?J7:xa)(t)}function J7(e){return[0,e.length?Zt(e,({value:t})=>t===void 0?t:Zt(t,bv)):1]}function Z7(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Gi(e,.5,({value:a})=>a===void 0?NaN:Gi(a,.25,qa)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/Zt(i);return o<1?i.map(a=>a*o):i}function Q7(e,t){const n=ar(e,({value:o})=>o===void 0?NaN:ar(o,Math.abs)),r=t.map(o=>12*o/n),i=60/Zt(r);return i<1?r.map(o=>o*i):r}function eM(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return xa(e,qa);if(n<0)return xa(e,Wu)}return[1,10]}function tM(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Eh(e){return(t,n)=>r=>e(t+r*(n-t))}function Xu(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=xa(r),unknown:c,pivot:u=0,scheme:l,range:f,symmetric:d=!0,interpolate:h=Ie.get(e)===xn?l==null&&f!==void 0?Vr:wh(l!==void 0?l:"rdbu"):rt,reverse:p}){u=+u;let[b,_]=s;if(uo(b,_)<0&&([b,_]=[_,b],p=!p),b=Math.min(b,u),_=Math.max(_,u),typeof h!="function"&&(h=kv(h)),f!==void 0&&(h=h.length===1?Eh(h)(...f):Vd(h,f)),p&&(h=Mv(h)),d){const v=n.apply(u),m=v-n.apply(b),g=n.apply(_)-v;m<g?b=n.invert(v-g):m>g&&(_=n.invert(v+m))}return t.domain([b,u,_]).unknown(c).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[b,_],pivot:u,interpolate:h,scale:t}}function nM(e,t,n){return Xu(e,Iy(),aM,t,n)}function rM(e,t,n){return Cv(e,t,{...n,exponent:.5})}function Cv(e,t,{exponent:n=1,...r}){return Xu(e,Ry().exponent(n=+n),uM(n),t,{...r,type:"diverging-pow"})}function iM(e,t,{base:n=10,pivot:r=1,domain:i=xa(t,r<0?Wu:qa),...o}){return Xu(e,Ay().base(n=+n),sM,t,{domain:i,pivot:r,...o})}function oM(e,t,{constant:n=1,...r}){return Xu(e,Cy().constant(n=+n),lM(n),t,r)}const aM={apply(e){return e},invert(e){return e}},sM={apply:Math.log,invert:Math.exp},cM={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function uM(e){return e===.5?cM:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function lM(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Rv(e,t,n,r){return Ha(e,t,n,r)}function fM(e,t,n){return Rv(e,ZT(),t,n)}function dM(e,t,n){return Rv(e,QT(),t,n)}const za=Symbol("ordinal");function Nv(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:c}){return i=Er(i,r),o===void 0&&(o=Ov(n,i,e)),(r==="categorical"||r===za)&&(r="ordinal"),s&&(o=vc(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:c,interval:i}}function hM(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...c}){r=Er(r,n),i===void 0&&(i=Ov(t,r,e));let u;if(Ie.get(e)===zu)u=mM(t),o=o===void 0?bM(u):$e(o,bh);else if(Ie.get(e)===xn&&(o===void 0&&(n==="ordinal"||n===za)&&(o=q7(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const l=wh(a),f=o[0],d=o[1]-o[0];o=({length:h})=>Qt(p=>l(f+d*p),h)}else o=Sv(a);if(s===od)throw new Error(`implicit unknown on ${e} scale is not supported`);return Nv(e,nh().unknown(s),t,{...c,type:n,domain:i,range:o,hint:u})}function pM(e,t,{align:n=.5,padding:r=.5,...i}){return Pv(PE().align(n).padding(r),t,i,e)}function gM(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Pv(xu().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Pv(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Nv(r,e,t,n),e.round=i,e}function Ov(e,t,n){const r=new x1;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=ze(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&Ie.get(n)===dn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return zi(r,va)}function zg(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function mM(e){return{fill:zg(e,"fill"),stroke:zg(e,"stroke")}}function bM(e){return Tt(e.fill)?IS:kS}let md=0;function yM(){const e=md;return md=0,e}function Fi(e){console.warn(e),++md}function bd(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,facet:{label:p=t}={},...b}={}){const _={};for(const[v,m]of e){const g=b[v],y=Uv(v,m,{round:Ie.get(v)===dn?s:void 0,nice:c,clamp:u,zero:l,align:f,padding:d,projection:h,...g});if(y){let{label:x=v==="fx"||v==="fy"?p:t,percent:w,transform:E,inset:A,insetTop:C=A!==void 0?A:v==="y"?r:0,insetRight:D=A!==void 0?A:v==="x"?i:0,insetBottom:I=A!==void 0?A:v==="y"?o:0,insetLeft:L=A!==void 0?A:v==="x"?a:0}=g||{};if(E==null)E=void 0;else if(typeof E!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=x===void 0?vM(m,y):x,y.transform=E,v==="x"||v==="fx"?(y.insetLeft=+L,y.insetRight=+D):(v==="y"||v==="fy")&&(y.insetTop=+C,y.insetBottom=+I),_[v]=y}}return _}function Wg(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:o}])=>(n.type=r,i!=null&&(n.interval=i),o!=null&&(n.label=o),[t,n])))}function _M(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Th(t):t;i&&Gg(i,a),o&&Vg(o,a);const s=i||o?Dv(e,t):t;n&&Gg(n,s),r&&Vg(r,s)}function vM(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(Fv(t)&&/^(date|time|year)$/i.test(n)))return!ii(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Th(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:u,marginLeft:l}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:o,height:a}}function Dv({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Th(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:c}}function Gg(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,c=i-a-r;e.range=[s,Math.max(s,c)],ii(e)||(e.range=$v(e)),e.scale.range(e.range)}Lv(e)}function Vg(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,c=i-a-r;e.range=[Math.max(s,c),s],ii(e)?e.range.reverse():e.range=$v(e),e.scale.range(e.range)}Lv(e)}function Lv(e){e.round===void 0&&EM(e)&&wM(e)<=30&&e.scale.round(!0)}function wM({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function $v(e){const t=e.scale.domain().length+Bv(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function Yg(e,t,n){return Uv(e,n===void 0?void 0:[{hint:n}],{...t})}function Uv(e,t=[],n={}){const r=xM(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&ii({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ct)?Fi(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Si(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Si(r)}".`):i.some(o7)?Fi(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Si(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Si(r)}".`):i.some(a7)&&Fi(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Si(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Si(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Vs(t,n,Zc);break;case"identity":switch(Ie.get(e)){case dn:n=Vs(t,n,Zc);break;case zu:n=Vs(t,n,TM);break}break;case"utc":case"time":n=Vs(t,n,SM);break}switch(r){case"diverging":return nM(e,t,n);case"diverging-sqrt":return rM(e,t,n);case"diverging-pow":return Cv(e,t,n);case"diverging-log":return iM(e,t,n);case"diverging-symlog":return oM(e,t,n);case"categorical":case"ordinal":case za:return hM(e,t,n);case"cyclical":case"sequential":case"linear":return z7(e,t,n);case"sqrt":return W7(e,t,n);case"threshold":return xh(e,t,n);case"quantile":return Y7(e,t,n);case"quantize":return X7(e,t,n);case"pow":return Iv(e,t,n);case"log":return G7(e,t,n);case"symlog":return V7(e,t,n);case"utc":return dM(e,t,n);case"time":return fM(e,t,n);case"point":return pM(e,t,n);case"band":return gM(e,t,n);case"identity":return Ie.get(e)===dn?K7():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Si(e){return typeof e=="symbol"?e.description:e}const Xg={toString:()=>"projection"};function xM(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=Xg);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===Xg)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Ie.get(e);if(c===Bu)return"sqrt";if(c===Hu||c===qu)return"linear";if(c===zu)return"ordinal";if((r||i||[]).length>2)return nf(c);if(r!==void 0)return Ag(r)?nf(c):Ct(r)?"utc":c===xn&&(a!=null||qg(o))?"diverging":"linear";const u=t.map(({value:l})=>l).filter(l=>l!==void 0);return u.some(Ag)?nf(c):u.some(Ct)?"utc":c===xn&&(a!=null||qg(o))?"diverging":"linear"}function nf(e){switch(e){case dn:return"point";case xn:return za;default:return"ordinal"}}function Fv({type:e}){return e==="time"||e==="utc"}function ii({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===za}function Bv({type:e}){return e==="threshold"}function EM({type:e}){return e==="point"||e==="band"}function io(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Vs(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function TM(e){return $e(e,bh)}function SM(e){return $e(e,qv)}function Zc(e){return e7(e)?e:$e(e,Sh,Float64Array)}function Sh(e){return e==null?NaN:Number(e)}function qv(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?y1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function MM(e){return t=>{if(!Ie.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?kM(e[t]):void 0}}function kM({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:hd(n),...r!==void 0&&{range:hd(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}const Hv=Math.PI,Pn=2*Hv,rf=.618;function IM({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,c,u="frame";if(Ba(e)){let x;if({type:e,domain:c,inset:x,insetTop:n=x!==void 0?x:n,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:o=x!==void 0?x:o,clip:u=u,...s}=e,e==null)return}typeof e!="function"&&({type:e}=zv(e));const{width:l,height:f,marginLeft:d,marginRight:h,marginTop:p,marginBottom:b}=a,_=l-d-h-o-r,v=f-p-b-n-i;if(e=e==null?void 0:e({width:_,height:v,clip:u,...s}),e==null)return;u=AM(u,d,p,l-h,f-b);let m=d+o,g=p+n,y;if(c!=null){const[[x,w],[E,A]]=Oa(e).bounds(c),C=Math.min(_/(E-x),v/(A-w));C>0?(m-=(C*(x+E)-_)/2,g-=(C*(w+A)-v)/2,y=Fc({point(D,I){this.stream.point(D*C+m,I*C+g)}})):Fi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=m===0&&g===0?Wv():Fc({point(x,w){this.stream.point(x+m,w+g)}})),{stream:x=>e.stream(y.stream(u(x)))}}function zv(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Vt(_E,.7463,.4673);case"albers":return Ys(zb,.7463,.4673);case"azimuthal-equal-area":return Vt(vE,4,4);case"azimuthal-equidistant":return Vt(wE,Pn,Pn);case"conic-conformal":return Ys(EE,Pn,Pn);case"conic-equal-area":return Ys(Bc,6.1702,2.9781);case"conic-equidistant":return Ys(ME,7.312,3.6282);case"equal-earth":return Vt(IE,5.4133,2.6347);case"equirectangular":return Vt(TE,Pn,Hv);case"gnomonic":return Vt(AE,3.4641,3.4641);case"identity":return{type:Wv};case"reflect-y":return{type:CM};case"mercator":return Vt(Yb,Pn,Pn);case"orthographic":return Vt(CE,2,2);case"stereographic":return Vt(RE,2,2);case"transverse-mercator":return Vt(NE,Pn,Pn);default:throw new Error(`unknown projection type: ${e}`)}}function AM(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Mb(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Vt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var u,l,f;const c=e();return a!=null&&((u=c.precision)==null||u.call(c,a)),o!=null&&((l=c.rotate)==null||l.call(c,o)),typeof s=="number"&&((f=c.clipAngle)==null||f.call(c,s)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function Ys(e,t,n){const{type:r,aspectRatio:i}=Vt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:c,height:u}=o,l=r(o);return a!=null&&(l.parallels(a),s===void 0&&l.fitSize([c,u],{type:"Sphere"})),l},aspectRatio:i}}const Wv=mo({stream:e=>e}),CM=mo(Fc({point(e,t){this.stream.point(e,-t)}}));function of(e,t,n,r,i){const o=n[e]&&n[e].scale==="x",a=n[t]&&n[t].scale==="y";if(o&&a)RM(e,t,r,i.projection);else{if(o)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(a)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function RM(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),c=n[t]=new Float64Array(a).fill(NaN);let u;const l=r.stream({point(f,d){s[u]=f,c[u]=d}});for(u=0;u<a;++u)l.point(i[u],o[u])}function NM(e,t){if(typeof(e==null?void 0:e.stream)=="function")return rf;if(Ba(e)&&(e=e.type),e==null)return PM(t)?rf:void 0;if(typeof e!="function"){const{aspectRatio:n}=zv(e);if(n)return n}return rf}function PM(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function ju(e={},t){const{document:n=typeof window<"u"?window.document:void 0}=e;return{document:n,projection:IM(e,t)}}function je(e,{document:t}){return ca(Ud(e).call(t.documentElement))}function OM(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,t=e(...r)),t)}const DM=OM(e=>new Intl.NumberFormat(e));function LM(e="en-US"){const t=DM(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Gv(e){return b1(e,"Invalid Date")}function $M(e="en-US"){const t=LM(e);return n=>(n instanceof Date?Gv:typeof n=="number"?t:Kt)(n)}const Ku=$M(),wt=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let UM=0;function jg(){return`plot-clip-${++UM}`}function FM(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:u,strokeWidth:l,strokeOpacity:f,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:b,strokeDashoffset:_,opacity:v,mixBlendMode:m,paintOrder:g,pointerEvents:y,shapeRendering:x},{ariaLabel:w,fill:E="currentColor",fillOpacity:A,stroke:C="none",strokeOpacity:D,strokeWidth:I,strokeLinecap:L,strokeLinejoin:M,strokeMiterlimit:R,paintOrder:k}){E===null&&(s=null,c=null),C===null&&(u=null,f=null),Tt(E)?!Tt(C)&&!Tt(s)&&(C="none"):Tt(C)&&!Tt(u)&&(E="none");const[N,q]=_r(s,E),[z,W]=St(c,A),[J,Z]=_r(u,C),[ce,ue]=St(f,D),[Pe,H]=St(v);ya(Z)||(l===void 0&&(l=I),h===void 0&&(h=L),d===void 0&&(d=M),p===void 0&&!c7(d)&&(p=R),!ya(q)&&g===void 0&&(g=k));const[de,Ae]=St(l);return E!==null&&(e.fill=ft(q,"currentColor"),e.fillOpacity=Lo(W,1)),C!==null&&(e.stroke=ft(Z,"none"),e.strokeWidth=Lo(Ae,1),e.strokeOpacity=Lo(ue,1),e.strokeLinejoin=ft(d,"miter"),e.strokeLinecap=ft(h,"butt"),e.strokeMiterlimit=Lo(p,4),e.strokeDasharray=ft(b,"none"),e.strokeDashoffset=ft(_,"0")),e.target=Kt(a),e.ariaLabel=Kt(w),e.ariaDescription=Kt(i),e.ariaHidden=Kt(o),e.opacity=Lo(H,1),e.mixBlendMode=ft(m,"normal"),e.paintOrder=ft(g,"normal"),e.pointerEvents=ft(y,"auto"),e.shapeRendering=ft(x,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:N,scale:"auto",optional:!0},fillOpacity:{value:z,scale:"opacity",optional:!0},stroke:{value:J,scale:"auto",optional:!0},strokeOpacity:{value:ce,scale:"opacity",optional:!0},strokeWidth:{value:de,optional:!0},opacity:{value:Pe,scale:"opacity",optional:!0}}}function BM(e,t){t&&e.filter(n=>yh(t[n])).append("title").call(HM,t)}function qM(e,t){t&&e.filter(([n])=>yh(t[n])).append("title").call(zM,t)}function HM(e,t){t&&e.text(n=>Ku(t[n]))}function zM(e,t){t&&e.text(([n])=>Ku(t[n]))}function Sr(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&oe(e,"aria-label",f=>n[f]),i&&oe(e,"fill",f=>i[f]),o&&oe(e,"fill-opacity",f=>o[f]),a&&oe(e,"stroke",f=>a[f]),s&&oe(e,"stroke-opacity",f=>s[f]),c&&oe(e,"stroke-width",f=>c[f]),u&&oe(e,"opacity",f=>u[f]),l&&Vv(e,f=>l[f],t),BM(e,r)}function WM(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:o,stroke:a,strokeOpacity:s,strokeWidth:c,opacity:u,href:l}){n&&oe(e,"aria-label",([f])=>n[f]),i&&oe(e,"fill",([f])=>i[f]),o&&oe(e,"fill-opacity",([f])=>o[f]),a&&oe(e,"stroke",([f])=>a[f]),s&&oe(e,"stroke-opacity",([f])=>s[f]),c&&oe(e,"stroke-width",([f])=>c[f]),u&&oe(e,"opacity",([f])=>u[f]),l&&Vv(e,([f])=>l[f],t),qM(e,r)}function GM({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:c}){return[e,t,n,r,i,o,a,s,c].filter(u=>u!==void 0)}function VM(e,t,n){const r=hu(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&Fi("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*YM(e,t,{z:n},r){const{z:i}=r,o=GM(r),a=[...t,...o];for(const s of i?VM(e,i,n):[e]){let c,u;e:for(const l of s){for(const f of a)if(!ro(f[l])){u&&u.push(-1);continue e}if(c===void 0){u&&(yield u),c=o.map(f=>Zl(f[l])),u=[l];continue}u.push(l);for(let f=0;f<o.length;++f)if(Zl(o[f][l])!==c[f]){yield u,c=o.map(h=>Zl(h[l])),u=[l];continue e}}u&&(yield u)}}function XM(e){return e===!0?e="frame":e===!1&&(e=null),pv(e,"clip",["frame","sphere"])}function jM(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:o,height:a,marginLeft:s,marginRight:c,marginTop:u,marginBottom:l}=n,f=jg();i=`url(#${f})`,e=je("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",f).append("rect").attr("x",s).attr("y",u).attr("width",o-c-s).attr("height",a-u-l)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const a=jg();i=`url(#${a})`,e.append("clipPath").attr("id",a).append("path").attr("d",Oa(o)({type:"Sphere"}));break}}oe(e,"aria-label",t.ariaLabel),oe(e,"aria-description",t.ariaDescription),oe(e,"aria-hidden",t.ariaHidden),oe(e,"clip-path",i)}function Mn(e,t,n,r){jM(e,t,n,r),oe(e,"fill",t.fill),oe(e,"fill-opacity",t.fillOpacity),oe(e,"stroke",t.stroke),oe(e,"stroke-width",t.strokeWidth),oe(e,"stroke-opacity",t.strokeOpacity),oe(e,"stroke-linejoin",t.strokeLinejoin),oe(e,"stroke-linecap",t.strokeLinecap),oe(e,"stroke-miterlimit",t.strokeMiterlimit),oe(e,"stroke-dasharray",t.strokeDasharray),oe(e,"stroke-dashoffset",t.strokeDashoffset),oe(e,"shape-rendering",t.shapeRendering),oe(e,"paint-order",t.paintOrder),oe(e,"pointer-events",t.pointerEvents)}function kn(e,t){KM(e,"mix-blend-mode",t.mixBlendMode),oe(e,"opacity",t.opacity)}function Vv(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(Vi.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Vi.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function oe(e,t,n){n!=null&&e.attr(t,n)}function KM(e,t,n){n!=null&&e.style(t,n)}function In(e,t,{x:n,y:r},i=wt,o=wt){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function ft(e,t){if((e=Kt(e))!==t)return e}function Lo(e,t){if((e=Se(e))!==t)return e}const JM=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/;function Mh(e){if(e===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(e=`${e}`,!JM.test(e))throw new Error(`invalid class name: ${e}`);return e}function kh(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Ih({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}function ZM(e,t,n={}){let r=.5-wt,i=.5+wt,o=.5+wt,a=.5-wt;for(const{marginTop:b,marginRight:_,marginBottom:v,marginLeft:m}of t)b>r&&(r=b),_>i&&(i=_),v>o&&(o=v),m>a&&(a=m);let{margin:s,marginTop:c=s!==void 0?s:r,marginRight:u=s!==void 0?s:i,marginBottom:l=s!==void 0?s:o,marginLeft:f=s!==void 0?s:a}=n;c=+c,u=+u,l=+l,f=+f;let{width:d=640,height:h=QM(e,t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+l-o)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:c,marginRight:u,marginBottom:l,marginLeft:f};if(e.fx||e.fy){let{margin:b,marginTop:_=b!==void 0?b:c,marginRight:v=b!==void 0?b:u,marginBottom:m=b!==void 0?b:l,marginLeft:g=b!==void 0?b:f}=n.facet??{};_=+_,v=+v,m=+m,g=+g,p.facet={marginTop:_,marginRight:v,marginBottom:m,marginLeft:g}}return p}function QM({x:e,y:t,fy:n,fx:r},i,{projection:o,aspectRatio:a},{width:s,marginTopDefault:c,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:f}){const d=n?n.scale.domain().length:1,h=NM(o,i);if(h){const b=r?r.scale.domain().length:1,_=(1.1*d-.1)/(1.1*b-.1)*h,v=Math.max(.1,Math.min(10,_));return Math.round((s-f-u)*v+c+l)}const p=t?ii(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const b=Kg("y",t)/(Kg("x",e)*a),_=r?r.scale.bandwidth():1,v=n?n.scale.bandwidth():1,m=_*(s-f-u)-e.insetLeft-e.insetRight;return(b*m+t.insetTop+t.insetBottom)/v+c+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Kg(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=c=>Math.pow(c,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=ze(r);return Math.abs(i(a)-i(o))}function ek(e,t){const{fx:n,fy:r}=bd(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?u3(i,o).map(([a,s],c)=>({x:a,y:s,i:c})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function tk({x:e,y:t}){const n=e&&new Map(e.map((i,o)=>[i,o])),r=t&&new Map(t.map((i,o)=>[i,o]));return e&&t?(i,o)=>n.get(i.x)-n.get(o.x)||r.get(i.y)-r.get(o.y):e?(i,o)=>n.get(i.x)-n.get(o.x):(i,o)=>r.get(i.y)-r.get(o.y)}function Ah(e,{fx:t,fy:n}){const r=xr(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Fr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Fr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Fr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function nk(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function rk(e){const t=[],n=new Uint32Array(_t(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const ik=new Map([["top",af],["right",uf],["bottom",sf],["left",cf],["top-left",Xs(af,cf)],["top-right",Xs(af,uf)],["bottom-left",Xs(sf,cf)],["bottom-right",Xs(sf,uf)],["top-empty",ak],["right-empty",uk],["bottom-empty",sk],["left-empty",ck],["empty",lk]]);function ok(e){if(e==null)return null;const t=ik.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function af(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function sf(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function cf(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function uf(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function ak(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function sk(e,{y:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(r);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===n&&c.y===s))==null?void 0:a.empty}}function ck(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o>0){const s=t[o-1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function uk(e,{x:t},{x:n,y:r,empty:i}){var a;if(i)return!1;const o=t==null?void 0:t.indexOf(n);if(o<(t==null?void 0:t.length)-1){const s=t[o+1];return(a=e.find(c=>c.x===s&&c.y===r))==null?void 0:a.empty}}function lk(e,t,{empty:n}){return n}function Xs(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function lf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function Yv(e){return ii(e)&&e.interval===void 0?void 0:"tabular-nums"}function fk(e,t){return e===void 0?Ct(t)?Gv:Kt:typeof e=="function"?e:(typeof e=="string"?Ct(t)?Cu:ht:mo)(e)}function dk(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:c=16+r,marginLeft:u=0,style:l,ticks:f=(i-u-s)/64,tickFormat:d,fontVariant:h=Yv(e),round:p=!0,className:b}=t;const _=ju(t);b=Mh(b),d===null&&(d=()=>null);const v=je("svg",_).attr("class",b).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(I=>I.append("style").text(`
        .${b} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${b} text {
          white-space: pre;
        }
      `)).call(kh,l);let m=I=>I.selectAll(".tick line").attr("y1",a+c-o),g;const y=p?(I,L)=>I.rangeRound(L):(I,L)=>I.range(L),{type:x,domain:w,range:E,interpolate:A,scale:C,pivot:D}=e;if(A){const I=E===void 0?A:Vd(A.length===1?Eh(A):A,E);g=y(C.copy(),Qt(rt(u,i-s),Math.min(w.length+(D!==void 0),E===void 0?1/0:E.length)));const L=256,M=_.document.createElement("canvas");M.width=L,M.height=1;const R=M.getContext("2d");for(let k=0,N=L-1;k<L;++k)R.fillStyle=I(k/N),R.fillRect(k,0,1,1);v.append("image").attr("x",u).attr("y",a).attr("width",i-u-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",M.toDataURL())}else if(x==="threshold"){const I=w,L=d===void 0?M=>M:typeof d=="string"?ht(d):d;g=y(rh().domain([-1,E.length-1]),[u,i-s]),v.append("g").selectAll().data(E).enter().append("rect").attr("x",(M,R)=>g(R-1)).attr("y",a).attr("width",(M,R)=>g(R)-g(R-1)).attr("height",o-a-c).attr("fill",M=>M),f=$e(I,(M,R)=>R),d=M=>L(I[M],M)}else g=y(xu().domain(w),[u,i-s]),v.append("g").selectAll().data(w).enter().append("rect").attr("x",g).attr("y",a).attr("width",Math.max(0,g.bandwidth()-1)).attr("height",o-a-c).attr("fill",C),m=()=>{};return v.append("g").attr("transform",`translate(0,${o-c})`).call(P3(g).ticks(Array.isArray(f)?null:f,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ft(h,"normal")).call(m).call(I=>I.select(".domain").remove()),n!==void 0&&v.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),v.node()}function Jg(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function hk(e,t){if(!ii(e)&&!Bv(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Xv(e,t,(n,r)=>n.append("svg").attr("fill",r.scale).append("rect").attr("width","100%").attr("height","100%"),n=>`.${n}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function pk(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=e.hint)==null?void 0:l.stroke)()!==void 0?e.hint.stroke:Tt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[f,d]=_r(t),[h,p]=_r(r),b=Jg(c,f),_=Jg(c,h),v=a*a*Math.PI;return n=St(n)[1],i=St(i)[1],o=St(o)[1],Xv(e,s,m=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",f==="color"?g=>b.scale(g):null).attr("stroke",h==="color"?g=>_.scale(g):null).append("path").attr("d",g=>{const y=Ur();return e.scale(g).draw(y,v),y}),m=>`.${m}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${d};
        fill-opacity: ${n};
        stroke: ${p};
        stroke-width: ${o}px;
        stroke-opacity: ${i};
      }`)}function Xv(e,t={},n,r){let{columns:i,tickFormat:o,fontVariant:a=Yv(e),swatchSize:s=15,swatchWidth:c=s,swatchHeight:u=s,marginLeft:l=0,className:f,style:d,width:h}=t;const p=ju(t);f=Mh(f),o=fk(o,e.domain);const b=je("div",p).attr("class",f).attr("style",`
        --swatchWidth: ${+c}px;
        --swatchHeight: ${+u}px;
      `);let _;return i!=null?(_=`
      .${f}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${f}-swatch::before {
        flex-shrink: 0;
      }
      .${f}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,b.style("columns",i).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e).call(v=>v.append("div").attr("class",`${f}-label`).attr("title",o).text(o))):(_=`
      .${f} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${f}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,b.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),b.call(v=>v.insert("style","*").text(`
        .${f} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${l===void 0?"":`
          margin-left: ${+l}px;`}${h===void 0?"":`
          width: ${h}px;`}
        }
        ${r(f)}
        ${_}
      `)).style("font-variant",ft(a,"normal")).call(kh,d).node()}const Qc=new Map([["symbol",pk],["color",jv],["opacity",bk]]);function gk(e={}){for(const[t,n]of Qc){const r=e[t];if(Ui(r)){const i=ju(e);let o;if(t==="symbol"){const{fill:a,stroke:s=a===void 0&&Ui(e.color)?"color":void 0}=e;o={fill:a,stroke:s}}return n(Yg(t,r,o),Ch(i,r,e),a=>Ui(e[a])?Yg(a,e[a]):null)}}throw new Error("unknown legend type; no scale found")}function mk(e,t,n={}){return(r,i)=>{if(!Qc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Qc.get(r)(e[r],Ch(t,n[r],i),o=>e[o])}}function Ch(e,{label:t,ticks:n,tickFormat:r}={},i){return u7(i,e,{label:t,ticks:n,tickFormat:r})}function jv(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return hk(e,n);case"ramp":return dk(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function bk({type:e,interpolate:t,...n},{legend:r=!0,color:i=br(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return jv({type:e,...n,interpolate:yk(i)},{legend:r,...o})}function yk(e){const{r:t,g:n,b:r}=br(e)||br(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function _k(e,t,n){const r=[];for(const[i,o]of Qc){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],Ch(t,e[i],a),c=>e[c]);s!=null&&r.push(s)}}return r}class Nt{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:c,sort:u,dx:l=0,dy:f=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:b=d,marginLeft:_=d,clip:v,channels:m}=r;if(this.data=t,this.sort=ba(u)?u:null,this.initializer=Vu(r).initializer,this.transform=this.initializer?r.transform:Gu(r).transform,o===null||o===!1?this.facet=null:(this.facet=Jn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=s,this.fy=c),this.facetAnchor=ok(a),n=Rg(n),m!==void 0&&(n={...Rg(m),...n}),i!==void 0&&(n={...FM(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([g,y])=>{const{value:x}=y;return $u(x)&&(y={...y,value:x.value},x.scale!==void 0&&(y.scale=x.scale)),[g,y]}).filter(([g,{value:y,optional:x}])=>{if(y!=null)return!0;if(x)return!1;throw new Error(`missing channel value: ${g}`)})),this.dx=+l,this.dy=+f,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+b,this.marginLeft=+_,this.clip=XM(v),this.facet==="super"){if(s||c)throw new Error("super-faceting cannot use fx or fy");for(const g in this.channels){const{scale:y}=n[g];if(!(y!=="x"&&y!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=en(this.data);t===void 0&&r!=null&&(t=[xr(r)]),this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=en(r));const i=L7(this.channels,r);return this.sort!=null&&U7(i,n,r,this.sort),{data:r,facets:t,channels:i}}filter(t,n,r){for(const i in n){const{filter:o=ro}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){of("x","y",t,n,r),of("x1","y1",t,n,r),of("x2","y2",t,n,r)}scale(t,n,r){const i=$7(t,n);return r.projection&&this.project(t,i,r),i}}function Kv(...e){return e.plot=Nt.prototype.plot,e}const Jv=Math.PI/180;function Rh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Qv(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Zv({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Qv(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Qv(e,t,n){return e===void 0&&t===void 0&&n===void 0?wt?[1,0]:[.5,.5]:[t,n]}function ew(e,{interval:t}){return e={...Uu(e)},e.interval=Er(e.interval===void 0?t:e.interval),e}function tw(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:c}=ew(i,n);if(s==null||c==null&&!r)return n;const u=ri(i);if(c==null){let h;const p={transform:b=>h||(h=Ve(b,s)),label:u};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0?p:a}}let l,f;function d(h){return f!==void 0&&h===l?f:f=$e(Ve(l=h,s),p=>c.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:u}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(p=>c.offset(p)),label:u}:a})}function nw(e,t,n){const{[e]:r}=n,{value:i,interval:o}=ew(r,n);return i==null||o==null?n:t({...n,[e]:{label:ri(r),transform:a=>{const s=$e(Ve(a,i),u=>o.floor(u)),c=s.map(u=>o.offset(u));return s.map(Ct(s)?(u,l)=>u==null||isNaN(u=+u)||(l=c[l],l==null)||isNaN(l=+l)?void 0:new Date((u+l)/2):(u,l)=>u==null||(l=c[l],l==null)?NaN:(+u+ +l)/2)}}})}function vk(e={}){return tw("x",Rh,e)}function rw(e={}){return tw("y",Zv,e)}function wk(e={}){return nw("x",Rh,e)}function xk(e={}){return nw("y",Zv,e)}const iw={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Ek extends Nt{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:c=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,iw),this.insetTop=Se(s),this.insetBottom=Se(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y1:u,y2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:b,marginBottom:_}=i,{insetTop:v,insetBottom:m}=this;return je("svg:g",o).call(Mn,this,i).call(In,this,{x:c&&a},wt,0).call(g=>g.selectAll().data(t).enter().append("line").call(kn,this).attr("x1",c?y=>c[y]:(b+f-p)/2).attr("x2",c?y=>c[y]:(b+f-p)/2).attr("y1",u&&!io(s)?y=>u[y]+v:h+v).attr("y2",l&&!io(s)?s.bandwidth?y=>l[y]+s.bandwidth()-m:y=>l[y]-m:d-_-m).call(Sr,this,r)).node()}}class Tk extends Nt{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:c=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,iw),this.insetRight=Se(s),this.insetLeft=Se(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:c,x1:u,x2:l}=r,{width:f,height:d,marginTop:h,marginRight:p,marginLeft:b,marginBottom:_}=i,{insetLeft:v,insetRight:m}=this;return je("svg:g",o).call(Mn,this,i,o).call(In,this,{y:c&&s},0,wt).call(g=>g.selectAll().data(t).enter().append("line").call(kn,this).attr("x1",u&&!io(a)?y=>u[y]+v:b+v).attr("x2",l&&!io(a)?a.bandwidth?y=>l[y]+a.bandwidth()-m:y=>l[y]-m:f-p-m).attr("y1",c?y=>c[y]:(h+d-_)/2).attr("y2",c?y=>c[y]:(h+d-_)/2).call(Sr,this,r)).node()}}function Sk(e,t){let{x:n=gt,y:r,y1:i,y2:o,...a}=rw(t);return[i,o]=ow(r,i,o),new Ek(e,{...a,x:n,y1:i,y2:o})}function Ri(e,t){let{y:n=gt,x:r,x1:i,x2:o,...a}=vk(t);return[i,o]=ow(r,i,o),new Tk(e,{...a,y:n,x1:i,x2:o})}function ow(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Nh(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const Mk={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},aw="­";let Ph=class extends Nt{constructor(t,n={}){const{x:r,y:i,text:o=Tr(t)&&i7(t)?gt:hv,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:l=1/0,textOverflow:f,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:b,fontVariant:_,fontWeight:v,rotate:m}=n,[g,y]=St(m,0),[x,w]=Pk(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:r7(g),optional:!0},text:{value:o,filter:yh,optional:!0}},n,Mk),this.rotate=y,this.textAnchor=ft(s,"middle"),this.lineAnchor=Jn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+l,this.textOverflow=kk(f),this.monospace=!!d,this.fontFamily=Kt(h),this.fontSize=w,this.fontStyle=Kt(b),this.fontVariant=Kt(_),this.fontWeight=Kt(v),this.frameAnchor=ph(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=Lk(this),this.clipLine=$k(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,rotate:l,text:f,title:d,fontSize:h}=r,{rotate:p}=this,[b,_]=Ih(this,i);return je("svg:g",o).call(Mn,this,i,o).call(Ck,this,f,i).call(In,this,{x:c&&a,y:u&&s}).call(v=>v.selectAll().data(t).enter().append("text").call(kn,this).call(Ik,this,f,d).attr("transform",Nh`translate(${c?m=>c[m]:b},${u?m=>u[m]:_})${l?m=>` rotate(${l[m]})`:p?` rotate(${p})`:""}`).call(oe,"font-size",h&&(m=>h[m])).call(Sr,this,r)).node()}};function kk(e){return e==null?null:Jn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Ik(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=t;e.each(function(u){const l=s(Ku(n[u])).map(c),f=l.length,d=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1)for(let h=0;h<f;++h){if(!l[h])continue;const p=this.ownerDocument.createElementNS(Vi.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(d+h)*o}em`),p.textContent=l[h],this.appendChild(p)}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=l[0];if(a&&!r&&l[0]!==n[u]){const h=this.ownerDocument.createElementNS(Vi.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function Oh(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=hh(n,r)),new Ph(e,{...i,x:n,y:r})}function Ak(e,t={}){const{x:n=gt,...r}=t;return new Ph(e,xk({...r,x:n}))}function Ln(e,t={}){const{y:n=gt,...r}=t;return new Ph(e,wk({...r,y:n}))}function Ck(e,t,n){oe(e,"text-anchor",t.textAnchor),oe(e,"font-family",t.fontFamily),oe(e,"font-size",t.fontSize),oe(e,"font-style",t.fontStyle),oe(e,"font-variant",t.fontVariant===void 0?Rk(n):t.fontVariant),oe(e,"font-weight",t.fontWeight)}function Rk(e){return s7(e)||Ct(e)?"tabular-nums":void 0}const Nk=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Pk(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Nk.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Ok(e,t,n){const r=[];let i,o=0;for(const[a,s,c]of Dk(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===aw?"-":"")),i=a),c){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*Dk(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case aw:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Zg={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function sw(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=bo(e,i))r+=Zg[e[i]]??(lw(e,i)?120:Zg.e);return r}function cw(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=bo(e,i))r+=lw(e,i)?200:100;return r}function Lk({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?cw:sw,i=t*100;return o=>Ok(o,i,r)}function $k({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?cw:sw,i=t*100;switch(n){case"clip-start":return o=>em(o,i,r,"");case"clip-end":return o=>Qg(o,i,r,"");case"ellipsis-start":return o=>em(o,i,r,"…");case"ellipsis-middle":return o=>Uk(o,i,r,"…");case"ellipsis-end":return o=>Qg(o,i,r,"…")}}function eu(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,c=e.length;a<c;a=s){s=bo(e,a);const u=n(e,a,s);if(o+u>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=u,i.push(a)}return[-1,0]}function Qg(e,t,n,r){e=e.trim();const i=n(r),[o]=eu(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function Uk(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=eu(e,t/2,n,o),[c]=eu(e,i-t/2-s+o,n,-o);return c<0?r:e.slice(0,a).trimEnd()+r+e.slice(bo(e,c)).trimStart()}function em(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=eu(e,i-t+o,n,-o);return a<0?r:r+e.slice(bo(e,a)).trimStart()}const yd=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,tm=/\p{Extended_Pictographic}/uy;function bo(e,t){return t+=Fk(e,t)?2:1,qk(e,t)&&(t=yd.lastIndex),Bk(e,t)?bo(e,t+1):t}function uw(e,t){return e.charCodeAt(t)<128}function Fk(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Bk(e,t){return e.charCodeAt(t)===8205}function qk(e,t){return uw(e,t)?!1:(yd.lastIndex=t,yd.test(e))}function lw(e,t){return uw(e,t)?!1:(tm.lastIndex=t,tm.test(e))}const Hk={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},fw=3.5,zk=fw*5,dw={draw(e,t,n){const r=t*n/zk;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},Wk={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},Gk=new Map([["arrow",dw],["spike",Wk]]);function Vk(e){return e&&typeof e.draw=="function"}function Yk(e){if(Vk(e))return e;const t=Gk.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class hw extends Nt{constructor(t,n={}){const{x:r,y:i,r:o=fw,length:a,rotate:s,shape:c=dw,anchor:u="middle",frameAnchor:l}=n,[f,d]=St(a,12),[h,p]=St(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,Hk),this.r=+o,this.length=d,this.rotate=p,this.shape=Yk(c),this.anchor=Jn(u,"anchor",["start","middle","end"]),this.frameAnchor=ph(l)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,length:l,rotate:f}=r,{length:d,rotate:h,anchor:p,shape:b,r:_}=this,[v,m]=Ih(this,i);return je("svg:g",o).call(Mn,this,i,o).call(In,this,{x:c&&a,y:u&&s}).call(g=>g.selectAll().data(t).enter().append("path").call(kn,this).attr("transform",Nh`translate(${c?y=>c[y]:v},${u?y=>u[y]:m})${f?y=>` rotate(${f[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?l?y=>` translate(0,${l[y]})`:` translate(0,${d})`:l?y=>` translate(0,${l[y]/2})`:` translate(0,${d/2})`}`).attr("d",l?y=>{const x=Ur();return b.draw(x,l[y],_),x}:(()=>{const y=Ur();return b.draw(y,d,_),y})()).call(Sr,this,r)).node()}}function Xk(e,t={}){const{x:n=gt,...r}=t;return new hw(e,{...r,x:n})}function jk(e,t={}){const{y:n=gt,...r}=t;return new hw(e,{...r,y:n})}function Mr(e,t){return arguments.length<2&&!Tr(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Ju({anchor:e}={},t){return e===void 0?t[0]:Jn(e,"anchor",t)}function pw(e){return Ju(e,["left","right"])}function gw(e){return Ju(e,["right","left"])}function mw(e){return Ju(e,["bottom","top"])}function bw(e){return Ju(e,["top","bottom"])}function yw(){const[e,t]=Mr(...arguments);return vw("y",pw(t),e,t)}function Kk(){const[e,t]=Mr(...arguments);return vw("fy",gw(t),e,t)}function _w(){const[e,t]=Mr(...arguments);return ww("x",mw(t),e,t)}function Jk(){const[e,t]=Mr(...arguments);return ww("fx",bw(t),e,t)}function vw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:b,tickRotate:_,x:v,marginTop:m=20,marginRight:g=t==="right"?40:0,marginBottom:y=20,marginLeft:x=t==="left"?40:0,label:w,labelOffset:E,labelAnchor:A,...C}){return p=Se(p),b=Se(b),_=Se(_),A!==void 0&&(A=Jn(A,"labelAnchor",["center","top","bottom"])),Kv(p&&!Tt(o)?Zk(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:b,tickRotate:_,x:v,...C}):null,Tt(c)?null:e9(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:b,tickRotate:_,x:v,marginTop:m,marginRight:g,marginBottom:y,marginLeft:x,...C}),!Tt(c)&&w!==null?Oh([],{fill:c,fillOpacity:u,...C,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(D,I,L,M,R){const k=M[e],{marginTop:N,marginRight:q,marginBottom:z,marginLeft:W}=e==="y"&&R.inset||R,J=A??(k.bandwidth?"center":"top"),Z=E??(t==="right"?q:W)-3;return J==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=J,this.frameAnchor=`${J}-${t}`,this.rotate=0),this.dy=J==="top"?3-N:J==="bottom"?z-3:0,this.dx=t==="right"?Z:-Z,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[w===void 0?kw(e,k,J):w]}}}}}):null)}function ww(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:b,tickRotate:_,y:v,marginTop:m=t==="top"?30:0,marginRight:g=20,marginBottom:y=t==="bottom"?30:0,marginLeft:x=20,label:w,labelAnchor:E,labelOffset:A,...C}){return p=Se(p),b=Se(b),_=Se(_),E!==void 0&&(E=Jn(E,"labelAnchor",["center","left","right"])),Kv(p&&!Tt(o)?Qk(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:b,tickRotate:_,y:v,...C}):null,Tt(c)?null:t9(e,t,n,{fill:c,fillOpacity:u,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:l,tickSize:p,tickPadding:b,tickRotate:_,y:v,marginTop:m,marginRight:g,marginBottom:y,marginLeft:x,...C}),!Tt(c)&&w!==null?Oh([],{fill:c,fillOpacity:u,...C,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(D,I,L,M,R){const k=M[e],{marginTop:N,marginRight:q,marginBottom:z,marginLeft:W}=e==="x"&&R.inset||R,J=E??(k.bandwidth?"center":"right"),Z=A??(t==="top"?N:z)-3;return J==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${J}`,this.textAnchor=J==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-Z:Z,this.dx=J==="right"?q-3:J==="left"?3-W:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[w===void 0?kw(e,k,J):w]}}}}}):null)}function Zk(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetLeft:l=u,insetRight:f=u,dx:d=0,y:h=e==="y"?void 0:null,...p}){return yo(jk,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:h,...p,dx:t==="left"?+d-wt+ +l:+d+wt-f,anchor:"start",length:c,shape:t==="left"?u9:l9})}function Qk(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:u=0,insetTop:l=u,insetBottom:f=u,dy:d=0,x:h=e==="x"?void 0:null,...p}){return yo(Xk,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:h,...p,dy:t==="bottom"?+d-wt-f:+d+wt+ +l,anchor:"start",length:c,shape:t==="bottom"?s9:c9})}function e9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Jv):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:f=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:b=h,dx:_=0,y:v=e==="y"?void 0:null,...m}){return yo(Ln,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,y:v,...m,dx:t==="left"?+_-o-s+ +p:+_+ +o+ +s-b},function(g,y,x){d===void 0&&(this.fontVariant=Mw(g)),u===void 0&&(x.text=Sw(g,y,c))})}function t9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Jv):0),tickFormat:c,text:u=typeof c=="function"?c:void 0,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:b=h,dy:_=0,x:v=e==="x"?void 0:null,...m}){return yo(Ak,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:d,rotate:a,x:v,...m,dy:t==="bottom"?+_+ +o+ +s-b:+_-o-s+ +p},function(g,y,x){d===void 0&&(this.fontVariant=Mw(g)),u===void 0&&(x.text=Sw(g,y,c))})}function n9(){const[e,t]=Mr(...arguments);return xw("y",pw(t),e,t)}function r9(){const[e,t]=Mr(...arguments);return xw("fy",gw(t),e,t)}function i9(){const[e,t]=Mr(...arguments);return Ew("x",mw(t),e,t)}function o9(){const[e,t]=Mr(...arguments);return Ew("fx",bw(t),e,t)}function xw(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return yo(Ri,e,`${e}-grid`,n,{y:r,x1:o,x2:a,...Tw(s)})}function Ew(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return yo(Sk,e,`${e}-grid`,n,{x:r,y1:o,y2:a,...Tw(s)})}function Tw({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function yo(e,t,n,r,i,o){let a;const s=e(r,Vu(i,function(c,u,l,f){const{[t]:d}=f;if(!d)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:b}=i;if(Fv(d)&&typeof h=="string"&&(b=h,h=void 0),c==null){if(Tr(h))c=en(h);else if(d.ticks)if(h!==void 0)c=d.ticks(h);else if(b=Er(b===void 0?d.interval:b,d.type),b!==void 0){const[_,v]=ze(d.domain());c=b.range(_,b.offset(b.floor(v)))}else{const[_,v]=ze(d.range());h=(v-_)/(p===void 0?t==="x"?80:35:p),c=d.ticks(h)}else c=d.domain();t==="y"||t==="x"?u=[xr(c)]:(a[t]={scale:t,value:gt},u=void 0)}return o==null||o.call(this,d,h,a),{data:c,facets:u,channels:Object.fromEntries(Object.entries(a).map(([_,v])=>[_,{...v,value:Ve(c,v.value)}]))}}));return r==null?(a=s.channels,s.channels={}):a={},s.ariaLabel=n,s}function Sw(e,t,n){return{value:a9(e,t,n)}}function a9(e,t,n){return e.tickFormat?e.tickFormat(Tr(t)?null:t,n):n===void 0?Ku:typeof n=="string"?(Ct(e.domain())?Cu:ht)(n):mo(n)}const s9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},c9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},u9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},l9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Mw(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function f9(e){return Math.sign(_a(e.domain()))*Math.sign(_a(e.range()))}function kw(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=f9(t);return i?e==="x"||n==="center"?e==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const d9={ariaLabel:"frame",fill:"none",stroke:"currentColor"},h9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class p9 extends Nt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:s=r,rx:c,ry:u}=t;super(void 0,void 0,t,n==null?d9:h9),this.anchor=pv(n,"anchor",["top","right","bottom","left"]),this.insetTop=Se(i),this.insetRight=Se(o),this.insetBottom=Se(a),this.insetLeft=Se(s),this.rx=Se(c),this.ry=Se(u)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:c,marginLeft:u,width:l,height:f}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:b,insetLeft:_,rx:v,ry:m}=this,g=u+_,y=l-s-p,x=a+h,w=f-c-b;return je(d?"svg:line":"svg:rect",o).call(Mn,this,i,o).call(kn,this).call(In,this,{}).call(d==="left"?E=>E.attr("x1",g).attr("x2",g).attr("y1",x).attr("y2",w):d==="right"?E=>E.attr("x1",y).attr("x2",y).attr("y1",x).attr("y2",w):d==="top"?E=>E.attr("x1",g).attr("x2",y).attr("y1",x).attr("y2",x):d==="bottom"?E=>E.attr("x1",g).attr("x2",y).attr("y1",w).attr("y2",w):E=>E.attr("x",g).attr("y",x).attr("width",y-g).attr("height",w-x).attr("rx",v).attr("ry",m)).node()}}function Iw(e){return new p9(e)}function cn(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:o}=e,a=Mh(e.className),s=e.marks===void 0?[]:nm(e.marks),c=_9(t,e),u=new Map;for(const M of s){const R=rm(M,c,e);R&&u.set(M,R)}const l=new Map;c&&$o(l,[c]),$o(l,u);const f=nm(v9(s,l,e));for(const M of f){const R=rm(M,c,e);R&&u.set(M,R)}s.unshift(...f);const d=ek(l,e);if(d!==void 0){const M=c?lf(d,c):void 0;for(const k of s){if(k.facet===null||k.facet==="super")continue;const N=u.get(k);N!==void 0&&(N.facetsIndex=k.fx!=null||k.fy!=null?lf(d,N):M)}const R=new Set;for(const{facetsIndex:k}of u.values())k==null||k.forEach((N,q)=>{(N==null?void 0:N.length)>0&&R.add(q)});d.forEach(0<R.size&&R.size<d.length?(k,N)=>k.empty=!R.has(N):k=>k.empty=!1);for(const k of s)if(k.facet==="exclude"){const N=u.get(k);N!==void 0&&(N.facetsIndex=rk(N.facetsIndex))}}for(const M of Ie.keys())Ui(e[M])&&M!=="fx"&&M!=="fy"&&l.set(M,[]);const h=new Map;for(const M of s){if(h.has(M))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:R,channels:k}=u.get(M)??{},{data:N,facets:q,channels:z}=M.initialize(R,k);Dh(z,e),h.set(M,{data:N,facets:q,channels:z})}const p=bd($o(l,h),e),b=Wg(p),_=ZM(p,s,e);_M(p,_);const{fx:v,fy:m}=b,g=v||m?Dv(p,_):_,y=v||m?k9(b,_):_,x=ju(e,g),w=new Set;for(const[M,R]of h)if(M.initializer!=null){const k=M.facet==="super"?y:g,N=M.initializer(R.data,R.facets,R.channels,b,k,x);if(N.data!==void 0&&(R.data=N.data),N.facets!==void 0&&(R.facets=N.facets),N.channels!==void 0){y9(N.channels),Object.assign(R.channels,N.channels);for(const W of Object.values(N.channels)){const{scale:J}=W;J!=null&&Ie.get(J)!==dn&&(Aw(W,e),w.add(J))}const{fx:q,fy:z}=N.channels;if(q!=null||z!=null){const W=u.get(M)??{channels:{}};q!=null&&(W.channels.fx=q),z!=null&&(W.channels.fy=z),W.groups=Ah(R.data,W.channels),W.facetsIndex=R.facets=lf(d,W),u.set(M,W)}}}if(w.size){const M=new Map;$o(M,h,N=>w.has(N)),$o(l,h,N=>w.has(N));const R=M9(bd(M,e),p),k=Wg(R);Object.assign(p,R),Object.assign(b,k)}for(const[M,R]of h)R.values=M.scale(R.channels,b,x);const{width:E,height:A}=_,C=je("svg",x).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",A).attr("viewBox",`0 0 ${E} ${A}`).attr("aria-label",i).attr("aria-description",o).call(M=>M.append("style").text(`
        .${a} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${a} text,
        .${a} tspan {
          white-space: pre;
        }
      `)).call(kh,n).node();if(d!==void 0){const M={x:v==null?void 0:v.domain(),y:m==null?void 0:m.domain()};d.sort(tk(M)),ca(C).selectAll().data(d).enter().append("g").attr("aria-label","facet").attr("transform",nk(v,m,_)).each(function(R){var N;let k=!0;for(const q of s){if(q.facet==="super")continue;const{channels:z,values:W,facets:J}=h.get(q);if(!(((N=q.facetAnchor)==null?void 0:N.call(q,d,M,R))??!R.empty))continue;let Z=null;if(J){if(Z=J[u.has(q)?R.i:0],Z=q.filter(Z,z,W),Z.length===0)continue;Z.fi=R.i}const ce=q.render(Z,b,W,g,x);ce!=null&&(k=!1,this.appendChild(ce))}k&&this.remove()})}for(const M of s){if(d!==void 0&&M.facet!=="super")continue;const{channels:R,values:k,facets:N}=h.get(M);let q=null;if(N&&(q=N[0],q=M.filter(q,R,k),q.length===0))continue;const z=M.render(q,b,k,y,x);z!=null&&C.appendChild(z)}let D=C;const I=_k(p,x,e);if(r!=null||I.length>0){const{document:M}=x;D=M.createElement("figure"),D.style.maxWidth="initial";for(const R of I)D.appendChild(R);if(D.appendChild(C),r!=null){const R=M.createElement("figcaption");R.appendChild(r instanceof Node?r:M.createTextNode(r)),D.appendChild(R)}}D.scale=MM(p),D.legend=mk(p,x,e);const L=yM();return L>0&&ca(C).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${L.toLocaleString("en-US")} warning${L===1?"":"s"}. Please check the console.`),D}function g9({marks:e=[],...t}={}){return cn({...t,marks:[...e,this]})}Nt.prototype.plot=g9;function nm(e){return e.flat(1/0).filter(t=>t!=null).map(m9)}function m9(e){return typeof e.render=="function"?e:new b9(e)}class b9 extends Nt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Dh(e,t){for(const n in e)Aw(e[n],t);return e}function Aw(e,t){var s;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:o,transform:a=i?c=>c*100:(s=Er(o,r))==null?void 0:s.floor}=t[n]??{};a!=null&&(e.value=$e(e.value,a))}function y9(e){for(const t in e)Tv(t,e[t])}function $o(e,t,n=ZS){for(const{channels:r}of t.values())for(const i in r){const o=r[i],{scale:a}=o;if(a!=null&&n(a)){const s=e.get(a);s!==void 0?s.push(o):e.set(a,[o])}}return e}function _9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=en(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const o={};n!=null&&(o.fx=wa(i,{value:n,scale:"fx"})),r!=null&&(o.fy=wa(i,{value:r,scale:"fy"})),Dh(o,t);const a=Ah(i,o);return{channels:o,groups:a,data:e.data}}function rm(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=en(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return r!=null&&(l.fx=wa(u,{value:r,scale:"fx"})),i!=null&&(l.fy=wa(u,{value:i,scale:"fy"})),Dh(l,n),{channels:l,groups:Ah(u,l)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((c=en(e.data))==null?void 0:c.length)===s.length&&Fi(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function v9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:c,grid:u,facet:l={},facet:{axis:f=c,grid:d}=l,x:{axis:h=c,grid:p=h===null?null:u}=i,y:{axis:b=c,grid:_=b===null?null:u}=o,fx:{axis:v=f,grid:m=v===null?null:d}=a,fy:{axis:g=f,grid:y=g===null?null:d}=s}=n;(r||!Ui(i)&&!im("x",e))&&(h=p=null),(r||!Ui(o)&&!im("y",e))&&(b=_=null),t.has("fx")||(v=m=null),t.has("fy")||(g=y=null),h===void 0&&(h=!Js(e,"x")),b===void 0&&(b=!Js(e,"y")),v===void 0&&(v=!Js(e,"fx")),g===void 0&&(g=!Js(e,"fy")),h===!0&&(h="bottom"),b===!0&&(b="left"),v===!0&&(v=h==="top"||h===null?"bottom":"top"),g===!0&&(g=b==="right"||b===null?"left":"right");const x=[];return Ks(x,y,r9,s),js(x,g,Kk,"right","left",l,s),Ks(x,m,o9,a),js(x,v,Jk,"top","bottom",l,a),Ks(x,_,n9,o),js(x,b,yw,"left","right",n,o),Ks(x,p,i9,i),js(x,h,_w,"bottom","top",n,i),x}function js(e,t,n,r,i,o,a){if(!t)return;const s=w9(t);a=x9(s?r:t,o,a);const{line:c}=a;(n===yw||n===_w)&&c&&!ya(c)&&e.push(Iw(E9(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function Ks(e,t,n,r){!t||ya(t)||e.push(n(T9(t,r)))}function w9(e){return/^\s*both\s*$/i.test(e)}function x9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d=t.label,labelAnchor:h,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:f,label:d,labelAnchor:h,labelOffset:p}}function E9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function T9(e,{stroke:t=Fu(e)?e:void 0,ticks:n=S9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function S9(e){switch(typeof e){case"number":return!0;case"string":return!Fu(e)}return Tr(e)||typeof(e==null?void 0:e.range)=="function"}function Js(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function im(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function M9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function k9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Th(n),u=e&&om(e),l=t&&om(t);return{marginTop:t?l[0]:r,marginRight:e?s-u[1]:i,marginBottom:t?c-l[1]:o,marginLeft:e?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}function om(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const I9=new Map([["basis",AS],["basis-closed",CS],["basis-open",RS],["bundle",NS],["bump-x",yS],["bump-y",_S],["cardinal",PS],["cardinal-closed",OS],["cardinal-open",DS],["catmull-rom",LS],["catmull-rom-closed",$S],["catmull-rom-open",US],["linear",Ou],["linear-closed",FS],["monotone-x",BS],["monotone-y",qS],["natural",HS],["step",zS],["step-after",GS],["step-before",WS]]);function A9(e=Ou,t){if(typeof e=="function")return e;const n=I9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function C9(e=tu,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?tu:A9(e,t)}function tu(e){return Ou(e)}function ff(e={y:"count"},t={}){[e,t]=N9(e,t);const{x:n,y:r}=t;return R9(P9(n,t,gt),null,null,r,e,Rh(t))}function R9(e,t,n,r,{data:i=S7,filter:o=Jc,sort:a,reverse:s,...c}={},u={}){e=am(e),t=am(t),c=w7(c,u),i=vh(i,gt),a=a==null?void 0:vv("sort",a,u),o=o==null?void 0:wv("filter",o,u),n!=null&&Gs(c,"x","x1","x2")&&(n=null),r!=null&&Gs(c,"y","y1","y2")&&(r=null);const[l,f]=On(e),[d,h]=On(e),[p,b]=On(t),[_,v]=On(t),[m,g]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[y,x]=On(m),{x:w,y:E,z:A,fill:C,stroke:D,x1:I,x2:L,y1:M,y2:R,domain:k,cumulative:N,thresholds:q,interval:z,...W}=u,[J,Z]=On(A),[ce]=_r(C),[ue]=_r(D),[Pe,H]=On(ce),[de,Ae]=On(ue);return{..."z"in u&&{z:J||A},..."fill"in u&&{fill:Pe||C},..."stroke"in u&&{stroke:de||D},...Gu(W,(Ce,F)=>{const Y=Ve(Ce,m),ne=Ve(Ce,A),O=Ve(Ce,ce),ye=Ve(Ce,ue),ee=x7(c,{z:ne,fill:O,stroke:ye}),we=[],ve=[],Je=Y&&x([]),Re=ne&&Z([]),Pt=O&&H([]),Ze=ye&&Ae([]),Me=e&&f([]),Oe=e&&h([]),Ee=t&&b([]),Be=t&&v([]),on=U9(e==null?void 0:e(Ce),t==null?void 0:t(Ce));let mt=0;for(const Et of c)Et.initialize(Ce);a&&a.initialize(Ce),o&&o.initialize(Ce);for(const Et of F){const Qe=[];for(const Te of c)Te.scope("facet",Et);a&&a.scope("facet",Et),o&&o.scope("facet",Et);for(const[Te,ai]of Ng(Et,ee))for(const[bt,Ot]of Ng(ai,Y))for(const[De,Dt]of on(Ot))if(!(o&&!o.reduce(De,Dt))){Qe.push(mt++),ve.push(i.reduce(De,Ce,Dt)),Y&&Je.push(bt),ne&&Re.push(ee===ne?Te:ne[De[0]]),O&&Pt.push(ee===O?Te:O[De[0]]),ye&&Ze.push(ee===ye?Te:ye[De[0]]),Me&&(Me.push(Dt.x1),Oe.push(Dt.x2)),Ee&&(Ee.push(Dt.y1),Be.push(Dt.y2));for(const kr of c)kr.reduce(De,Dt);a&&a.reduce(De)}we.push(Qe)}return E7(we,a,s),{data:ve,facets:we}}),...!Gs(c,"x")&&(l?{x1:l,x2:d,x:pd(l,d)}:{x:w,x1:I,x2:L}),...!Gs(c,"y")&&(p?{y1:p,y2:_,y:pd(p,_)}:{y:E,y1:M,y2:R}),...y&&{[g]:y},...Object.fromEntries(c.map(({name:Ce,output:F})=>[Ce,F]))}}function N9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function P9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Uu(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=O9(e.thresholds,e.interval),e}function am(e){if(e==null)return;const{value:t,cumulative:n,domain:r=ze,thresholds:i}=e,o=a=>{let s=Ve(a,t),c;if(Ct(s)||L9(i)){s=$e(s,qv,Float64Array);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!Pi(i)?i(s,l,f):i;typeof d=="number"&&(d=xy(l,f,d)),Pi(d)&&(r===ze&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f))),c=d}else{s=$e(s,Sh,Float64Array);let[l,f]=typeof r=="function"?r(s):r,d=typeof i=="function"&&!Pi(i)?i(s,l,f):i;if(typeof d=="number")if(r===ze){let h=Wr(l,f,d);if(isFinite(h))if(h>0){let p=Math.round(l/h),b=Math.round(f/h);p*h<=l||--p,b*h>f||++b;let _=b-p+1;d=new Float64Array(_);for(let v=0;v<_;++v)d[v]=(p+v)*h}else if(h<0){h=-h;let p=Math.round(l*h),b=Math.round(f*h);p/h<=l||--p,b/h>f||++b;let _=b-p+1;d=new Float64Array(_);for(let v=0;v<_;++v)d[v]=(p+v)/h}else d=[l];else d=[l]}else d=Wi(l,f,d);else Pi(d)&&(r===ze&&(l=d.floor(l),f=d.offset(d.floor(f))),d=d.range(l,d.offset(f)));c=d}const u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let l=1;l<c.length;++l)u.push([c[l-1],c[l]]);return u.bin=(n<0?B9:n>0?F9:Lh)(u,c,s),u};return o.label=ri(t),o}function O9(e,t,n=sm){if(e===void 0)return t===void 0?n:D9(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return x3;case"scott":return R1;case"sturges":return I1;case"auto":return sm}const r=Er(e);if(r!==void 0)return r;throw new Error(`invalid thresholds: ${e}`)}return e}function D9(e){if(e=Er(e),!Pi(e))throw new Error(`invalid interval: ${e}`);return e}function sm(e,t,n){return Math.min(200,R1(e,t,n))}function L9(e){return $9(e)||Tr(e)&&Ct(e)}function $9(e){return Pi(e)&&typeof e=="function"&&e()instanceof Date}function Pi(e){return e?typeof e.range=="function":!1}function U9(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries()){const s=t.bin(r[i]);for(const[c,[u,l]]of t.entries())yield[s[c],{x1:o,y1:u,x2:a,y2:l}]}}:e?function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{y1:o,y2:a}]}}function Lh(e,t,n){return t=t.map(Sh),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[Ra(t,n[a])-1])==null||o.push(a);return i}}function F9(e,t,n){const r=Lh(e,t,n);return i=>{const o=r(i);for(let a=1,s=o.length;a<s;++a){const c=o[a-1],u=o[a];for(const l of c)u.push(l)}return o}}function B9(e,t,n){const r=Lh(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const s=o[a+1],c=o[a];for(const u of s)c.push(u)}return o}}function q9(e={}){const{y:t,y1:n,y2:r}=e;return n===void 0&&r===void 0&&t===void 0?{...e,y:gt}:e}function H9(e={},t={}){arguments.length===1&&([e,t]=W9(e));const{x1:n,x:r=n,y:i,...o}=t,[a,s,c,u]=V9(r,i,"y",e,o);return{...a,x1:n,x:s,y1:c,y2:u,y:pd(c,u)}}function z9({y:e,y1:t,y2:n,...r}={}){return t===void 0&&n===void 0?H9({y:e,...r}):([t,n]=t7(e,t,n),{...r,y1:t,y2:n})}function W9(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}function G9(e,t=JS,n,{offset:r,order:i,reverse:o},a){const s=gv(a),[c,u]=On(e),[l,f]=Kc(t),[d,h]=Kc(t);return r=Y9(r),i=K9(i,r,n),[Gu(a,(p,b)=>{const _=e==null?void 0:u(Ve(p,e)),v=Ve(p,t,Float64Array),m=Ve(p,s),g=i&&i(p,_,v,m),y=p.length,x=f(new Float64Array(y)),w=h(new Float64Array(y)),E=[];for(const A of b){const C=_?Array.from(hu(A,D=>_[D]).values()):[A];g&&nI(C,g);for(const D of C){let I=0,L=0;o&&D.reverse();for(const M of D){const R=v[M];R<0?I=w[M]=(x[M]=I)+R:R>0?L=w[M]=(x[M]=L)+R:w[M]=x[M]=L}}E.push(C)}return r&&r(E,x,w,m),{data:p,facets:b}}),c,l,d]}const V9=G9;function Y9(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return X9;case"center":case"silhouette":return j9;case"wiggle":return Rw}throw new Error(`unknown offset: ${e}`)}}function Cw(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function X9(e,t,n){for(const r of e)for(const i of r){const[o,a]=Cw(i,n);for(const s of i){const c=1/(a-o||1);t[s]=c*(t[s]-o),n[s]=c*(n[s]-o)}}}function j9(e,t,n){for(const r of e){for(const i of r){const[o,a]=Cw(i,n);for(const s of i){const c=(a+o)/2;t[s]-=c,n[s]-=c}}Nw(r,t,n)}Pw(e,t,n)}function Rw(e,t,n,r){for(const i of e){const o=new Hi;let a=0;for(const s of i){let c=-1;const u=s.map(h=>Math.abs(n[h]-t[h])),l=s.map(h=>{c=r?r[h]:++c;const p=n[h]-t[h],b=o.has(c)?p-o.get(c):0;return o.set(c,p),b}),f=[0,...l3(l)];for(const h of s)t[h]+=a,n[h]+=a;const d=_t(u);d&&(a-=_t(u,(h,p)=>(l[p]/2+f[p])*h)/d)}Nw(i,t,n)}Pw(e,t,n)}function Nw(e,t,n){const r=Vn(e,i=>Vn(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function Pw(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(Vn(s,c=>t[c])+Zt(s,c=>n[c]))/2),a=Vn(o);for(let s=0;s<r;s++){const c=a-o[s];for(const u of i[s])t[u]+=c,n[u]+=c}}function K9(e,t,n){if(e===void 0&&t===Rw)return cm;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return J9;case"z":return Z9;case"sum":return Q9;case"appearance":return eI;case"inside-out":return cm}return um(dv(e))}if(typeof e=="function")return um(e);if(Array.isArray(e))return tI(e);throw new Error(`invalid order: ${e}`)}}function J9(e,t,n){return n}function Z9(e,t,n,r){return r}function Q9(e,t,n,r){return Zu(r,$d(xr(e),i=>_t(i,o=>n[o]),i=>r[i]))}function eI(e,t,n,r){return Zu(r,$d(xr(e),i=>t[C1(i,o=>n[o])],i=>r[i]))}function cm(e,t,n,r){const i=xr(e),o=$d(i,l=>t[C1(l,f=>n[f])],l=>r[l]),a=Fr(i,l=>_t(l,f=>n[f]),l=>r[l]),s=[],c=[];let u=0;for(const l of o)u<0?(u+=a.get(l),s.push(l)):(u-=a.get(l),c.push(l));return Zu(r,c.reverse().concat(s))}function um(e){return t=>Ve(t,e)}function tI(e){return(t,n,r,i)=>Zu(i,e)}function Zu(e,t){if(!e)throw new Error("missing channel: z");return t=new Hi(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function nI(e,t){for(const n of e)n.sort((r,i)=>va(t[r],t[i]))}function rI(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=df(n),e.markerMid=df(r),e.markerEnd=df(i)}function df(e){if(e==null||e===!1)return null;if(e===!0)return lm;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return iI;case"dot":return oI;case"circle":case"circle-fill":return lm;case"circle-stroke":return aI}throw new Error(`invalid marker: ${e}`)}function iI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function oI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function lm(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function aI(e,t){return je("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let sI=0;function cI(e,t,{stroke:n}={}){return uI(e,t,n&&(([r])=>n[r]))}function uI(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i){const a=new Map;function s(c){return function(u){const l=o(u);let f=a.get(c);f||a.set(c,f=new Map);let d=f.get(l);if(!d){const h={document:this.ownerDocument},p=this.parentNode.insertBefore(c(l,h),this),b=`plot-marker-${++sI}`;p.setAttribute("id",b),f.set(l,d=`url(#${b})`)}return d}}t&&e.attr("marker-start",s(t)),n&&e.attr("marker-mid",s(n)),r&&e.attr("marker-end",s(r))}const lI={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Ow(e){return e.sort===void 0&&e.reverse===void 0?y7({channel:"r",order:"descending"},e):e}class fI extends Nt{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=ma,frameAnchor:c}=n,[u,l]=St(a,0),[f,d]=g7(s),[h,p]=St(o,f==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:qa,optional:!0},rotate:{value:u,optional:!0},symbol:{value:f,scale:"auto",optional:!0}},Ow(n),lI),this.r=p,this.rotate=l,this.symbol=d,this.frameAnchor=ph(c);const{channels:b}=this,{symbol:_}=b;if(_){const{fill:v,stroke:m}=b;_.hint={fill:v?v.value===_.value?"color":"currentColor":this.fill,stroke:m?m.value===_.value?"color":"currentColor":this.stroke}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:u,r:l,rotate:f,symbol:d}=r,{r:h,rotate:p,symbol:b}=this,[_,v]=Ih(this,i),m=this.symbol===ma,g=l?void 0:h*h*Math.PI;return Wu(h)&&(t=[]),je("svg:g",o).call(Mn,this,i,o).call(In,this,{x:c&&a,y:u&&s}).call(y=>y.selectAll().data(t).enter().append(m?"circle":"path").call(kn,this).call(m?x=>{x.attr("cx",c?w=>c[w]:_).attr("cy",u?w=>u[w]:v).attr("r",l?w=>l[w]:h)}:x=>{x.attr("transform",Nh`translate(${c?w=>c[w]:_},${u?w=>u[w]:v})${f?w=>` rotate(${f[w]})`:p?` rotate(${p})`:""}`).attr("d",l&&d?w=>{const E=Ur();return d[w].draw(E,l[w]*l[w]*Math.PI),E}:l?w=>{const E=Ur();return b.draw(E,l[w]*l[w]*Math.PI),E}:d?w=>{const E=Ur();return d[w].draw(E,g),E}:(()=>{const w=Ur();return b.draw(w,g),w})())}).call(Sr,this,r)).node()}}function hf(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=hh(n,r)),new fI(e,{...i,x:n,y:r})}const dI={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class hI extends Nt{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:gv(n),optional:!0}},n,dI),this.z=o,this.curve=C9(a,s),rI(this,n)}filter(t){return t}project(t,n,r){this.curve!==tu&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:c}=this;return je("svg:g",o).call(Mn,this,i,o).call(In,this,n).call(u=>u.selectAll().data(YM(t,[a,s],this,r)).enter().append("path").call(kn,this).call(WM,this,r).call(cI,this,r).attr("d",c===tu&&o.projection?pI(o.projection,a,s):bS().curve(c).defined(l=>l>=0).x(l=>a[l]).y(l=>s[l]))).node()}}function pI(e,t,n){const r=Oa(e);return t=Zc(t),n=Zc(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function Uo(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=hh(n,r),new hI(e,{...i,x:n,y:r})}class gI extends Nt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:s=o,insetBottom:c=o,insetLeft:u=o,rx:l,ry:f}=r;this.insetTop=Se(a),this.insetRight=Se(s),this.insetBottom=Se(c),this.insetLeft=Se(u),this.rx=ft(l,"auto"),this.ry=ft(f,"auto")}render(t,n,r,i,o){const{rx:a,ry:s}=this;return je("svg:g",o).call(Mn,this,i,o).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(kn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(oe,"rx",a).call(oe,"ry",s).call(Sr,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:s}=this,c=n&&t?t.bandwidth():o-r-i;return Math.max(0,c-a-s)}}const mI={ariaLabel:"bar"};class bI extends gI{constructor(t,n={}){const{x:r,y1:i,y2:o}=n;super(t,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,mI)}_transform(t,n,{y:r}){t.call(In,n,{y:r},0,0)}_y({y:t},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return io(t)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:t},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:s,insetBottom:c}=this;return io(t)?a-i-o-s-c:u=>Math.max(0,Math.abs(r[u]-n[u])-s-c)}}function Mi(e,t={x:hv,y2:gt}){return new bI(e,z9(rw(q9(t))))}const yI={ariaLabel:"tick",fill:null,stroke:"currentColor"};class _I extends Nt{constructor(t,n,r){super(t,n,r,yI)}render(t,n,r,i,o){return je("svg:g",o).call(Mn,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(t).enter().append("line").call(kn,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Sr,this,r)).node()}}class vI extends _I{constructor(t,n={}){const{x:r,y:i,inset:o=0,insetRight:a=o,insetLeft:s=o}=n;super(t,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=Se(a),this.insetLeft=Se(s)}_transform(t,n,{y:r}){t.call(In,n,{y:r},0,wt)}_x1({x:t},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&t?o=>n[o]+i:r+i}_x2({x:t},{x:n},{width:r,marginRight:i}){const{insetRight:o}=this;return n&&t?a=>n[a]+t.bandwidth()-o:r-i-o}_y1(t,{y:n}){return r=>n[r]}_y2(t,{y:n}){return r=>n[r]}}function ki(e,t={}){const{y:n=gt,...r}=t;return new vI(e,{...r,y:n})}const wI={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class xI extends Nt{constructor(t,n={}){const[r,i]=St(n.r,3);super(t,{geometry:{value:n.geometry},r:{value:r,scale:"r",filter:qa,optional:!0}},Ow(n),wI),this.r=i}render(t,n,r,i,o){const{geometry:a,r:s}=r,c=Oa(o.projection??EI(n)),{r:u}=this;return Wu(u)?t=[]:u!==void 0&&c.pointRadius(u),je("svg:g",o).call(Mn,this,i,o).call(In,this,n).call(l=>{l.selectAll().data(t).enter().append("path").call(kn,this).attr("d",s?f=>c.pointRadius(s[f])(a[f]):f=>c(a[f])).call(Sr,this,r)}).node()}}function EI({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Fc({point(n,r){this.stream.point(e(n),t(r))}})}function ia(e,{geometry:t=gt,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new xI(e,{geometry:t,...n})}function TI({strokeWidth:e=1.5,...t}={}){return ia({type:"Sphere"},{strokeWidth:e,...t})}function SI({strokeOpacity:e=.1,...t}={}){return ia(J4(),{strokeOpacity:e,...t})}var MI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}const Ii=[];function Dw(e,t=xe){let n;const r=new Set;function i(s){if(s1(e,s)&&(e=s,n)){const c=!Ii.length;for(const u of r)u[1](),Ii.push(u,e);if(c){for(let u=0;u<Ii.length;u+=2)Ii[u][0](Ii[u+1]);Ii.length=0}}}function o(s){i(s(e))}function a(s,c=xe){const u=[s,c];return r.add(u),r.size===1&&(n=t(i)||xe),s(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}function fm(e,t,n){var r=(t-n)/57.29578,i=e/57.29578,o=1+35786/6378.16,a=o*Math.cos(i)*Math.cos(r)-1,s=o*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/s);return c}function kI(e,t,n){var r=(t-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(e/57.29578));return e<0&&(i=i-180),i<0&&(i=i+360),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},II=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,h=u&63;c||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):II(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new AI;const d=o<<2|s>>4;if(r.push(d),u!==64){const h=s<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(e){const t=Lw(e);return $w.encodeByteArray(t,!0)},nu=function(e){return CI(e).replace(/\./g,"")},Uw=function(e){try{return $w.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>RI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},OI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Uw(e[1]);return t&&JSON.parse(t)},Uh=()=>{try{return NI()||PI()||OI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Fw=e=>{var t,n;return(n=(t=Uh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},DI=e=>{const t=Fw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},LI=()=>{var e;return(e=Uh())===null||e===void 0?void 0:e.config},Bw=e=>{var t;return(t=Uh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[nu(JSON.stringify(n)),nu(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function BI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HI(){const e=ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zI(){try{return typeof indexedDB=="object"}catch{return!1}}function WI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="FirebaseError";class Zn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=GI,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?VI(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Zn(i,s,r)}}function VI(e,t){return e.replace(YI,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const YI=/\{\$([^}]+)}/g;function XI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ru(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(dm(o)&&dm(a)){if(!ru(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Ko(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function jI(e,t){const n=new KI(e,t);return n.subscribe.bind(n)}class KI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JI(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=pf),i.error===void 0&&(i.error=pf),i.complete===void 0&&(i.complete=pf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){return e&&e._delegate?e._delegate:e}class Jr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new $I;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QI(e){return e===Pr?void 0:e}function eA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const nA={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},rA=_e.INFO,iA={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},oA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=iA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qw{constructor(t){this.name=t,this._logLevel=rA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const aA=(e,t)=>t.some(n=>e instanceof n);let hm,pm;function sA(){return hm||(hm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return pm||(pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hw=new WeakMap,_d=new WeakMap,zw=new WeakMap,gf=new WeakMap,Fh=new WeakMap;function uA(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(dr(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Hw.set(n,e)}).catch(()=>{}),Fh.set(t,e),t}function lA(e){if(_d.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});_d.set(e,t)}let vd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _d.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fA(e){vd=e(vd)}function dA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(mf(this),t,...n);return zw.set(r,t.sort?t.sort():[t]),dr(r)}:cA().includes(e)?function(...t){return e.apply(mf(this),t),dr(Hw.get(this))}:function(...t){return dr(e.apply(mf(this),t))}}function hA(e){return typeof e=="function"?dA(e):(e instanceof IDBTransaction&&lA(e),aA(e,sA())?new Proxy(e,vd):e)}function dr(e){if(e instanceof IDBRequest)return uA(e);if(gf.has(e))return gf.get(e);const t=hA(e);return t!==e&&(gf.set(e,t),Fh.set(t,e)),t}const mf=e=>Fh.get(e);function pA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=dr(a);return r&&a.addEventListener("upgradeneeded",c=>{r(dr(a.result),c.oldVersion,c.newVersion,dr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const gA=["get","getKey","getAll","getAllKeys","count"],mA=["put","add","delete","clear"],bf=new Map;function gm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(bf.get(t))return bf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gA.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return bf.set(t,o),o}fA(e=>({...e,get:(t,n,r)=>gm(t,n)||e.get(t,n,r),has:(t,n)=>!!gm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wd="@firebase/app",mm="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new qw("@firebase/app"),_A="@firebase/app-compat",vA="@firebase/analytics-compat",wA="@firebase/analytics",xA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",SA="@firebase/auth-compat",MA="@firebase/database",kA="@firebase/database-compat",IA="@firebase/functions",AA="@firebase/functions-compat",CA="@firebase/installations",RA="@firebase/installations-compat",NA="@firebase/messaging",PA="@firebase/messaging-compat",OA="@firebase/performance",DA="@firebase/performance-compat",LA="@firebase/remote-config",$A="@firebase/remote-config-compat",UA="@firebase/storage",FA="@firebase/storage-compat",BA="@firebase/firestore",qA="@firebase/firestore-compat",HA="firebase",zA="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",WA={[wd]:"fire-core",[_A]:"fire-core-compat",[wA]:"fire-analytics",[vA]:"fire-analytics-compat",[EA]:"fire-app-check",[xA]:"fire-app-check-compat",[TA]:"fire-auth",[SA]:"fire-auth-compat",[MA]:"fire-rtdb",[kA]:"fire-rtdb-compat",[IA]:"fire-fn",[AA]:"fire-fn-compat",[CA]:"fire-iid",[RA]:"fire-iid-compat",[NA]:"fire-fcm",[PA]:"fire-fcm-compat",[OA]:"fire-perf",[DA]:"fire-perf-compat",[LA]:"fire-rc",[$A]:"fire-rc-compat",[UA]:"fire-gcs",[FA]:"fire-gcs-compat",[BA]:"fire-fst",[qA]:"fire-fst-compat","fire-js":"fire-js",[HA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,Ed=new Map;function GA(e,t){try{e.container.addComponent(t)}catch(n){Zr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oo(e){const t=e.name;if(Ed.has(t))return Zr.debug(`There were multiple attempts to register component ${t}.`),!1;Ed.set(t,e);for(const n of iu.values())GA(n,e);return!0}function Bh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hr=new Wa("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=zA;function Ww(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=LI()),!n)throw hr.create("no-options");const o=iu.get(i);if(o){if(ru(n,o.options)&&ru(r,o.config))return o;throw hr.create("duplicate-app",{appName:i})}const a=new tA(i);for(const c of Ed.values())a.addComponent(c);const s=new YA(n,r,a);return iu.set(i,s),s}function Qu(e=xd){const t=iu.get(e);if(!t&&e===xd)return Ww();if(!t)throw hr.create("no-app",{appName:e});return t}function pr(e,t,n){var r;let i=(r=WA[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zr.warn(s.join(" "));return}oo(new Jr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",jA=1,Ea="firebase-heartbeat-store";let yf=null;function Gw(){return yf||(yf=pA(XA,jA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ea)}}}).catch(e=>{throw hr.create("idb-open",{originalErrorMessage:e.message})})),yf}async function KA(e){try{return(await Gw()).transaction(Ea).objectStore(Ea).get(Vw(e))}catch(t){if(t instanceof Zn)Zr.warn(t.message);else{const n=hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(n.message)}}}async function bm(e,t){try{const r=(await Gw()).transaction(Ea,"readwrite");return await r.objectStore(Ea).put(t,Vw(e)),r.done}catch(n){if(n instanceof Zn)Zr.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function Vw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1024,ZA=30*24*60*60*1e3;class QA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ym();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=ZA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ym(),{heartbeatsToSend:n,unsentEntries:r}=eC(this._heartbeatsCache.heartbeats),i=nu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ym(){return new Date().toISOString().substring(0,10)}function eC(e,t=JA){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),_m(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_m(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zI()?WI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function _m(e){return nu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e){oo(new Jr("platform-logger",t=>new bA(t),"PRIVATE")),oo(new Jr("heartbeat",t=>new QA(t),"PRIVATE")),pr(wd,mm,e),pr(wd,mm,"esm2017"),pr("fire-js","")}nC("");var rC="firebase",iC="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(rC,iC,"app");function qh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Yw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oC=Yw,Xw=new Wa("auth","Firebase",Yw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new qw("@firebase/auth");function uc(e,...t){vm.logLevel<=_e.ERROR&&vm.error(`Auth (${Va}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e,...t){throw Hh(e,...t)}function gn(e,...t){return Hh(e,...t)}function aC(e,t,n){const r=Object.assign(Object.assign({},oC()),{[t]:n});return new Wa("auth","Firebase",r).create(t,{appName:e.name})}function Hh(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Xw.create(e,...t)}function Q(e,t,...n){if(!e)throw Hh(t,...n)}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uc(t),new Error(t)}function jn(e,t){e||zn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map;function Wn(e){jn(e instanceof Function,"Expected a class definition");let t=wm.get(e);return t?(jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wm.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(e,t){const n=Bh(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ru(o,t??{}))return i;tn(i,"already-initialized")}return n.initialize({options:t})}function cC(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function uC(){return xm()==="http:"||xm()==="https:"}function xm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||BI()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n){this.shortDelay=t,this.longDelay=n,jn(n>t,"Short delay should be less than long delay!"),this.isMobile=FI()||qI()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e,t){jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Ya(3e4,6e4);function el(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xa(e,t,n,r,i={}){return Kw(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=Ga(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),jw.fetch()(Jw(e,e.config.apiHost,n,s),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))})}async function Kw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},dC),t);try{const i=new pC(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Zs(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zs(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Zs(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw Zs(e,"user-disabled",a);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aC(e,l,u);tn(e,l)}}catch(i){if(i instanceof Zn)throw i;tn(e,"network-request-failed",{message:String(i)})}}async function tl(e,t,n,r,i={}){const o=await Xa(e,t,n,r,i);return"mfaPendingCredential"in o&&tn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Jw(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?zh(e.config,i):`${e.config.apiScheme}://${i}`}class pC{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),hC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zs(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(e,t){return Xa(e,"POST","/v1/accounts:delete",t)}async function mC(e,t){return Xa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bC(e,t=!1){const n=rn(e),r=await n.getIdToken(t),i=Wh(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:oa(_f(i.auth_time)),issuedAtTime:oa(_f(i.iat)),expirationTime:oa(_f(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function _f(e){return Number(e)*1e3}function Wh(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uw(n);return i?JSON.parse(i):(uc("Failed to decode base64 JWT payload"),null)}catch(i){return uc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yC(e){const t=Wh(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Zn&&_C(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _C({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ta(e,mC(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?EC(o.providerUserInfo):[],s=xC(e.providerData,a),c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),l=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zw(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,f)}async function wC(e){const t=rn(e);await ou(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xC(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function EC(e){return e.map(t=>{var{providerId:n}=t,r=qh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(e,t){const n=await Kw(e,{},async()=>{const r=Ga({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=Jw(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",jw.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Q(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await TC(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Sa;return r&&(Q(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Hr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=qh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ta(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bC(this,t)}reload(){return wC(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ou(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ta(this,gC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,c,u,l;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:g,emailVerified:y,isAnonymous:x,providerData:w,stsTokenManager:E}=n;Q(g&&E,t,"internal-error");const A=Sa.fromJSON(this.name,E);Q(typeof g=="string",t,"internal-error"),ir(f,t.name),ir(d,t.name),Q(typeof y=="boolean",t,"internal-error"),Q(typeof x=="boolean",t,"internal-error"),ir(h,t.name),ir(p,t.name),ir(b,t.name),ir(_,t.name),ir(v,t.name),ir(m,t.name);const C=new Hr({uid:g,auth:t,email:d,emailVerified:y,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:b,stsTokenManager:A,createdAt:v,lastLoginAt:m});return w&&Array.isArray(w)&&(C.providerData=w.map(D=>Object.assign({},D))),_&&(C._redirectEventId=_),C}static async _fromIdTokenResponse(t,n,r=!1){const i=new Sa;i.updateFromServerResponse(n);const o=new Hr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ou(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Qw.type="NONE";const Em=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(e,t,n){return`firebase:${e}:${t}:${n}`}class Bi{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=lc(this.userKey,i.apiKey,o),this.fullPersistenceKey=lc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Bi(Wn(Em),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Wn(Em);const a=lc(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const l=await u._get(a);if(l){const f=Hr._fromJSON(t,l);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Bi(o,t,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Bi(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i2(t))return"Blackberry";if(o2(t))return"Webos";if(Gh(t))return"Safari";if((t.includes("chrome/")||t2(t))&&!t.includes("edge/"))return"Chrome";if(r2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e2(e=ot()){return/firefox\//i.test(e)}function Gh(e=ot()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t2(e=ot()){return/crios\//i.test(e)}function n2(e=ot()){return/iemobile/i.test(e)}function r2(e=ot()){return/android/i.test(e)}function i2(e=ot()){return/blackberry/i.test(e)}function o2(e=ot()){return/webos/i.test(e)}function nl(e=ot()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function SC(e=ot()){var t;return nl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MC(){return HI()&&document.documentMode===10}function a2(e=ot()){return nl(e)||r2(e)||o2(e)||i2(e)||/windows phone/i.test(e)||n2(e)}function kC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(e,t=[]){let n;switch(e){case"Browser":n=Tm(ot());break;case"Worker":n=`${Tm(ot())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const c=t(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sm(this),this.idTokenSubscription=new Sm(this),this.beforeStateQueue=new IC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===s)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ou(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?rn(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Wa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wn(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function rl(e){return rn(e)}class Sm{constructor(t){this.auth=t,this.observer=null,this.addObserver=jI(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function CC(e,t,n){const r=rl(e);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=c2(t),{host:a,port:s}=RC(t),c=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NC()}function c2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RC(e){const t=c2(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Mm(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Mm(a)}}}function Mm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function NC(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(t){return zn("not implemented")}_linkToIdToken(t,n){return zn("not implemented")}_getReauthenticationResolver(t){return zn("not implemented")}}async function PC(e,t){return Xa(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(e,t){return tl(e,"POST","/v1/accounts:signInWithPassword",el(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(e,t){return tl(e,"POST","/v1/accounts:signInWithEmailLink",el(e,t))}async function LC(e,t){return tl(e,"POST","/v1/accounts:signInWithEmailLink",el(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Vh{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ma(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ma(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return OC(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return DC(t,{email:this._email,oobCode:this._password});default:tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return PC(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return LC(t,{idToken:n,email:this._email,oobCode:this._password});default:tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(e,t){return tl(e,"POST","/v1/accounts:signInWithIdp",el(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="http://localhost";class Qr extends Vh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=qh(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Qr(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return qi(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,qi(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qi(t,n)}buildRequest(){const t={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ga(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FC(e){const t=jo(Ko(e)).link,n=t?jo(Ko(t)).deep_link_id:null,r=jo(Ko(e)).deep_link_id;return(r?jo(Ko(r)).link:null)||r||n||t||e}class Yh{constructor(t){var n,r,i,o,a,s;const c=jo(Ko(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,f=UC((i=c.mode)!==null&&i!==void 0?i:null);Q(u&&l&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=l,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const n=FC(t);try{return new Yh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Ma._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Yh.parseLink(n);return Q(r,"argument-error"),Ma._fromEmailAndCode(t,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends u2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends ja{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ja{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qr._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ja{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends ja{constructor(){super("twitter.com")}static credential(t,n){return Qr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Hr._fromIdTokenResponse(t,r,i),a=km(r);return new ao({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=km(r);return new ao({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function km(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Zn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,au.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new au(t,n,r,i)}}function l2(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?au._fromErrorAndOperation(e,o,t,r):o})}async function BC(e,t,n=!1){const r=await Ta(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ao._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ta(e,l2(r,i,t,e),n);Q(o.idToken,r,"internal-error");const a=Wh(o.idToken);Q(a,r,"internal-error");const{sub:s}=a;return Q(e.uid===s,r,"user-mismatch"),ao._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&tn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(e,t,n=!1){const r="signIn",i=await l2(e,r,t),o=await ao._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function HC(e,t){return f2(rl(e),t)}function zC(e,t,n){return HC(rn(e),_o.credential(t,n))}function WC(e,t,n,r){return rn(e).onIdTokenChanged(t,n,r)}function GC(e,t,n){return rn(e).beforeAuthStateChanged(t,n)}function VC(e){return rn(e).signOut()}const su="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(su,"1"),this.storage.removeItem(su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){const e=ot();return Gh(e)||nl(e)}const XC=1e3,jC=10;class h2 extends d2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YC()&&kC(),this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);MC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,jC):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}h2.type="LOCAL";const KC=h2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends d2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}p2.type="SESSION";const g2=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new il(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await JC(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}il.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=Xh("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function QC(e){mn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function eR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tR(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function nR(){return m2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebaseLocalStorageDb",rR=1,cu="firebaseLocalStorage",y2="fbase_key";class Ka{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ol(e,t){return e.transaction([cu],t?"readwrite":"readonly").objectStore(cu)}function iR(){const e=indexedDB.deleteDatabase(b2);return new Ka(e).toPromise()}function Sd(){const e=indexedDB.open(b2,rR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(cu,{keyPath:y2})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(cu)?t(r):(r.close(),await iR(),t(await Sd()))})})}async function Im(e,t,n){const r=ol(e,!0).put({[y2]:t,value:n});return new Ka(r).toPromise()}async function oR(e,t){const n=ol(e,!1).get(t),r=await new Ka(n).toPromise();return r===void 0?null:r.value}function Am(e,t){const n=ol(e,!0).delete(t);return new Ka(n).toPromise()}const aR=800,sR=3;class _2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>sR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=il._getInstance(nR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sd();return await Im(t,su,"1"),await Am(t,su),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Im(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>oR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Am(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=ol(i,!1).getAll();return new Ka(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_2.type="LOCAL";const cR=_2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function lR(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=gn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uR().appendChild(r)})}function fR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(e,t){return t?Wn(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Vh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qi(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qi(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qi(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hR(e){return f2(e.auth,new jh(e),e.bypassAuthState)}function pR(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),qC(n,new jh(e),e.bypassAuthState)}async function gR(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),BC(n,new jh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:tn(this.auth,"internal-error")}}resolve(t){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Ya(2e3,1e4);class Oi extends v2{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const t=Xh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,mR.get())};t()}}Oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="pendingRedirect",fc=new Map;class yR extends v2{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=fc.get(this.auth._key());if(!t){try{const r=await _R(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}fc.set(this.auth._key(),t)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(e,t){const n=xR(t),r=wR(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vR(e,t){fc.set(e._key(),t)}function wR(e){return Wn(e._redirectPersistence)}function xR(e){return lc(bR,e.config.apiKey,e.name)}async function ER(e,t,n=!1){const r=rl(e),i=dR(r,t),a=await new yR(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=10*60*1e3;class SR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!w2(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cm(t))}saveEventToCache(t){this.cachedEventUids.add(Cm(t)),this.lastProcessedEventTime=Date.now()}}function Cm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function w2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(e,t={}){return Xa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AR=/^https?/;async function CR(e){if(e.config.emulator)return;const{authorizedDomains:t}=await kR(e);for(const n of t)try{if(RR(n))return}catch{}tn(e,"unauthorized-domain")}function RR(e){const t=Td(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!AR.test(n))return!1;if(IR.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Ya(3e4,6e4);function Rm(){const e=mn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function PR(e){return new Promise((t,n)=>{var r,i,o;function a(){Rm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rm(),n(gn(e,"network-request-failed"))},timeout:NR.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=mn().gapi)===null||o===void 0)&&o.load)a();else{const s=fR("iframefcb");return mn()[s]=()=>{gapi.load?a():n(gn(e,"network-request-failed"))},lR(`https://apis.google.com/js/api.js?onload=${s}`).catch(c=>n(c))}}).catch(t=>{throw dc=null,t})}let dc=null;function OR(e){return dc=dc||PR(e),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Ya(5e3,15e3),LR="__/auth/iframe",$R="emulator/auth/iframe",UR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BR(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zh(t,$R):`https://${e.config.authDomain}/${LR}`,r={apiKey:t.apiKey,appName:e.name,v:Va},i=FR.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ga(r).slice(1)}`}async function qR(e){const t=await OR(e),n=mn().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:BR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UR,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=gn(e,"network-request-failed"),s=mn().setTimeout(()=>{o(a)},DR.get());function c(){mn().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zR=500,WR=600,GR="_blank",VR="http://localhost";class Nm{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(e,t,n,r=zR,i=WR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},HR),{width:r.toString(),height:i.toString(),top:o,left:a}),u=ot().toLowerCase();n&&(s=t2(u)?GR:n),e2(u)&&(t=t||VR,c.scrollbars="yes");const l=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(SC(u)&&s!=="_self")return XR(t||"",s),new Nm(null);const f=window.open(t||"",s,l);Q(f,e,"popup-blocked");try{f.focus()}catch{}return new Nm(f)}function XR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__/auth/handler",KR="emulator/auth/handler";function Pm(e,t,n,r,i,o){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Va,eventId:i};if(t instanceof u2){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",XI(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,u]of Object.entries(o||{}))a[c]=u}if(t instanceof ja){const c=t.getScopes().filter(u=>u!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];return`${JR(e)}?${Ga(s).slice(1)}`}function JR({config:e}){return e.emulator?zh(e,KR):`https://${e.authDomain}/${jR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g2,this._completeRedirectFn=ER,this._overrideRedirectResult=vR}async _openPopup(t,n,r,i){var o;jn((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=Pm(t,n,r,Td(),i);return YR(t,a,Xh())}async _openRedirect(t,n,r,i){return await this._originValidation(t),QC(Pm(t,n,r,Td(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(jn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await qR(t),r=new SR(t);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vf,{type:vf},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[vf];a!==void 0&&n(!!a),tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return a2()||Gh()||nl()}}const QR=ZR;var Om="@firebase/auth",Dm="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nN(e){oo(new Jr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=r.options;return((s,c)=>{Q(o&&!o.includes(":"),"invalid-api-key",{appName:s.name}),Q(!(a!=null&&a.includes(":")),"argument-error",{appName:s.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s2(e)},l=new AC(s,c,u);return cC(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),oo(new Jr("auth-internal",t=>{const n=rl(t.getProvider("auth").getImmediate());return(r=>new eN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Om,Dm,tN(e)),pr(Om,Dm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=5*60,iN=Bw("authIdTokenMaxAge")||rN;let Lm=null;const oN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iN)return;const i=n==null?void 0:n.token;Lm!==i&&(Lm=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function x2(e=Qu()){const t=Bh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sC(e,{popupRedirectResolver:QR,persistence:[cR,KC,g2]}),r=Bw("authTokenSyncURL");if(r){const o=oN(r);GC(n,o,()=>o(n.currentUser)),WC(n,a=>o(a))}const i=Fw("auth");return i&&CC(n,`http://${i}`),n}nN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebasestorage.googleapis.com",T2="storageBucket",aN=2*60*1e3,sN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends Zn{constructor(t,n,r=0){super(wf(t),`Firebase Storage: ${n} (${wf(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function wf(e){return"storage/"+e}function S2(){const e="An unknown error occurred, please check the error payload for server response.";return new Ke(Ye.UNKNOWN,e)}function cN(e){return new Ke(Ye.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function uN(e){return new Ke(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lN(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(Ye.UNAUTHENTICATED,e)}function fN(){return new Ke(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dN(e){return new Ke(Ye.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function hN(){return new Ke(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pN(){return new Ke(Ye.CANCELED,"User canceled the upload/download.")}function gN(e){return new Ke(Ye.INVALID_URL,"Invalid URL '"+e+"'.")}function mN(e){return new Ke(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function bN(){return new Ke(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T2+"' property when initializing the app?")}function yN(){return new Ke(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Md(e){return new Ke(Ye.INVALID_ARGUMENT,e)}function M2(){return new Ke(Ye.APP_DELETED,"The Firebase app was deleted.")}function _N(e){return new Ke(Ye.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fo(e){throw new Ke(Ye.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Mt.makeFromUrl(t,n)}catch{return new Mt(t,"")}if(r.path==="")return r;throw mN(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const l="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${l}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},b=n===E2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${b}/${i}/${_}`,"i"),g=[{regex:s,indices:c,postModify:o},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<g.length;y++){const x=g[y],w=x.regex.exec(t);if(w){const E=w[x.indices.bucket];let A=w[x.indices.path];A||(A=""),r=new Mt(E,A),x.postModify(r);break}}if(r==null)throw gN(t);return r}}class vN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function l(..._){u||(u=!0,t.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,e(h,c())},_)}function d(){o&&clearTimeout(o)}function h(_,...v){if(u){d();return}if(_){d(),l.call(null,_,...v);return}if(c()||a){d(),l.call(null,_,...v);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let p=!1;function b(_){p||(p=!0,d(),!u&&(i!==null?(_||(s=2),clearTimeout(i),f(0)):_||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function xN(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e){return e!==void 0}function TN(e){return typeof e=="object"&&!Array.isArray(e)}function k2(e){return typeof e=="string"||e instanceof String}function $m(e,t,n,r){if(r<t)throw Md(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Md(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function A2(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(zr||(zr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n,r,i,o,a,s,c,u,l,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Qs(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===zr.NO_ERROR,c=o.getStatus();if(!s||SN(c,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===zr.ABORT;r(!1,new Qs(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Qs(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());EN(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=S2();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?M2():pN();a(c)}else{const c=hN();a(c)}};this.canceled_?n(!1,new Qs(!1,null,!0)):this.backoffId_=wN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qs{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function kN(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function IN(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function AN(e,t){t&&(e["X-Firebase-GMPID"]=t)}function CN(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function RN(e,t,n,r,i,o,a=!0){const s=A2(e.urlParams),c=e.url+s,u=Object.assign({},e.headers);return AN(u,t),kN(u,n),IN(u,o),CN(u,r),new MN(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(e){let t;try{t=JSON.parse(e)}catch{return null}return TN(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function PN(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function R2(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(e,t){return t}class lt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ON}}let ec=null;function DN(e){return!k2(e)||e.length<2?e:R2(e)}function LN(){if(ec)return ec;const e=[];e.push(new lt("bucket")),e.push(new lt("generation")),e.push(new lt("metageneration")),e.push(new lt("name","fullPath",!0));function t(o,a){return DN(a)}const n=new lt("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new lt("size");return i.xform=r,e.push(i),e.push(new lt("timeCreated")),e.push(new lt("updated")),e.push(new lt("md5Hash",null,!0)),e.push(new lt("cacheControl",null,!0)),e.push(new lt("contentDisposition",null,!0)),e.push(new lt("contentEncoding",null,!0)),e.push(new lt("contentLanguage",null,!0)),e.push(new lt("contentType",null,!0)),e.push(new lt("metadata","customMetadata",!0)),ec=e,ec}function $N(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Mt(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function UN(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return $N(r,e),r}function FN(e,t,n){const r=C2(t);return r===null?null:UN(e,r,n)}function BN(e,t,n,r){const i=C2(t);if(i===null||!k2(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const l=e.bucket,f=e.fullPath,d="/b/"+a(l)+"/o/"+a(f),h=I2(d,n,r),p=A2({alt:"media",token:u});return h+p})[0]}class qN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){if(!e)throw S2()}function zN(e,t){function n(r,i){const o=FN(e,i,t);return HN(o!==null),BN(o,i,e.host,e._protocol)}return n}function WN(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=fN():i=lN():n.getStatus()===402?i=uN(e.bucket):n.getStatus()===403?i=dN(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function GN(e){const t=WN(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=cN(e.path)),o.serverResponse=i.serverResponse,o}return n}function VN(e,t,n){const r=t.fullServerUrl(),i=I2(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new qN(i,o,zN(e,n),a);return s.errorHandler=GN(t),s}class YN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Fo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class XN extends YN{initXhr(){this.xhr_.responseType="text"}}function jN(){return new XN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t,n){this._service=t,n instanceof Mt?this._location=n:this._location=Mt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ei(t,n)}get root(){const t=new Mt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R2(this._location.path)}get storage(){return this._service}get parent(){const t=NN(this._location.path);if(t===null)return null;const n=new Mt(this._location.bucket,t);return new ei(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _N(t)}}function KN(e){e._throwIfRoot("getDownloadURL");const t=VN(e.storage,e._location,LN());return e.storage.makeRequestWithTokens(t,jN).then(n=>{if(n===null)throw yN();return n})}function JN(e,t){const n=PN(e._location.path,t),r=new Mt(e._location.bucket,n);return new ei(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(e){return/^[A-Za-z]+:\/\//.test(e)}function QN(e,t){return new ei(e,t)}function N2(e,t){if(e instanceof Kh){const n=e;if(n._bucket==null)throw bN();const r=new ei(n,n._bucket);return t!=null?N2(r,t):r}else return t!==void 0?JN(e,t):e}function eP(e,t){if(t&&ZN(t)){if(e instanceof Kh)return QN(e,t);throw Md("To use ref(service, url), the first argument must be a Storage instance.")}else return N2(e,t)}function Um(e,t){const n=t==null?void 0:t[T2];return n==null?null:Mt.makeFromBucketSpec(n,e)}function tP(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:UI(i,e.app.options.projectId))}class Kh{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=E2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aN,this._maxUploadRetryTime=sN,this._requests=new Set,i!=null?this._bucket=Mt.makeFromBucketSpec(i,this._host):this._bucket=Um(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Mt.makeFromBucketSpec(this._url,t):this._bucket=Um(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$m("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$m("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ei(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new vN(M2());{const a=RN(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Fm="@firebase/storage",Bm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="storage";function nP(e){return e=rn(e),KN(e)}function rP(e,t){return e=rn(e),eP(e,t)}function iP(e=Qu(),t){e=rn(e);const r=Bh(e,P2).getImmediate({identifier:t}),i=DI("storage");return i&&oP(r,...i),r}function oP(e,t,n,r={}){tP(e,t,n,r)}function aP(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Kh(n,r,i,t,Va)}function sP(){oo(new Jr(P2,aP,"PUBLIC").setMultipleInstances(!0)),pr(Fm,Bm,""),pr(Fm,Bm,"esm2017")}sP();const O2={authDomain:"gif-tools-1d6ce.firebaseapp.com",projectId:"gif-tools-1d6ce",storageBucket:"gif-tools-1d6ce.appspot.com",messagingSenderId:"194164895475",appId:"1:194164895475:web:9e71cc12714539cc17d186"};var cP="guest@5gindiaforum.in",uP={}.VITE_APP_PWD;O2.apiKey={}.VITE_API_KEY;console.log("local key loaded");const qm=Dw(""),al=Dw(null);var Jh=O2;Jh.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M";console.log("firebaseConfig",Jh);const lP=Ww(Jh);async function fP(){const e=Qu();var t=VC(x2(e));return t.then(()=>al.set(void 0)),t}async function dP(e,t){const n=Qu();t=t||uP,e=e||cP,console.log("Signing in with ",e,t);const r=x2(n);return zC(r,e,t).then(i=>(al.set(i),i))}async function hP(e){e=e||"fss/hello.json";var t=iP(lP);const n=rP(t,e);return nP(n)}al.subscribe(e=>{console.log("User Changed...",e)});function pP(e){return e}function gP(e){if(e==null)return pP;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,c){c||(t=n=0);var u=2,l=s.length,f=new Array(l);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;u<l;)f[u]=s[u],++u;return f}}function mP(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function D2(e,t){var n=gP(e.transform),r=e.arcs;function i(l,f){f.length&&f.pop();for(var d=r[l<0?~l:l],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));l<0&&mP(f,p)}function o(l){return n(l)}function a(l){for(var f=[],d=0,h=l.length;d<h;++d)i(l[d],f);return f.length<2&&f.push(f[0]),f}function s(l){for(var f=a(l);f.length<4;)f.push(f[0]);return f}function c(l){return l.map(s)}function u(l){var f=l.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(u)};case"Point":d=o(l.coordinates);break;case"MultiPoint":d=l.coordinates.map(o);break;case"LineString":d=a(l.arcs);break;case"MultiLineString":d=l.arcs.map(a);break;case"Polygon":d=c(l.arcs);break;case"MultiPolygon":d=l.arcs.map(c);break;default:return null}return{type:f,coordinates:d}}return u(t)}function bP(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(u,l){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++a],t[a]=u,t[l]=d)}),t.forEach(function(u){var l=s(u),f=l[0],d=l[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var b=p===h?h:h.concat(p);r[b.start=h.start]=i[b.end=p.end]=b}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var _=p===h?h:p.concat(h);r[_.start=p.start]=i[_.end=h.end]=_}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function s(u){var l=e.arcs[u<0?~u:u],f=l[0],d;return e.transform?(d=[0,0],l.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=l[l.length-1],u<0?[d,f]:[f,d]}function c(u,l){for(var f in u){var d=u[f];delete l[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return c(i,r),c(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function yP(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[0]*i[1]-r[1]*i[0];return Math.abs(o)}function _P(e){return D2(e,vP.apply(this,arguments))}function vP(e,t){var n={},r=[],i=[];t.forEach(o);function o(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(o);break;case"Polygon":a(c.arcs);break;case"MultiPolygon":c.arcs.forEach(a);break}}function a(c){c.forEach(function(u){u.forEach(function(l){(n[l=l<0?~l:l]||(n[l]=[])).push(c)})}),r.push(c)}function s(c){return yP(D2(e,{type:"Polygon",arcs:[c]}).coordinates[0])}return r.forEach(function(c){if(!c._){var u=[],l=[c];for(c._=1,i.push(u);c=l.pop();)u.push(c),c.forEach(function(f){f.forEach(function(d){n[d<0?~d:d].forEach(function(h){h._||(h._=1,l.push(h))})})})}}),r.forEach(function(c){delete c._}),{type:"MultiPolygon",arcs:i.map(function(c){var u=[],l;if(c.forEach(function(b){b.forEach(function(_){_.forEach(function(v){n[v<0?~v:v].length<2&&u.push(v)})})}),u=bP(e,u),(l=u.length)>1)for(var f=1,d=s(u[0]),h,p;f<l;++f)(h=s(u[f]))>d&&(p=u[0],u[0]=u[f],u[f]=p,d=h);return u}).filter(function(c){return c.length>0})}}var nt=63710088e-1,Zh={centimeters:nt*100,centimetres:nt*100,degrees:nt/111325,feet:nt*3.28084,inches:nt*39.37,kilometers:nt/1e3,kilometres:nt/1e3,meters:nt,metres:nt,miles:nt/1609.344,millimeters:nt*1e3,millimetres:nt*1e3,nauticalmiles:nt/1852,radians:1,yards:nt*1.0936},wP={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/nt,yards:1.0936133},kd={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Rt(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function xP(e,t,n){switch(e){case"Point":return qt(t).geometry;case"LineString":return Jt(t).geometry;case"Polygon":return sl(t).geometry;case"MultiPoint":return L2(t).geometry;case"MultiLineString":return Qh(t).geometry;case"MultiPolygon":return $2(t).geometry;default:throw new Error(e+" is invalid")}}function qt(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!uu(e[0])||!uu(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return Rt(r,t,n)}function EP(e,t,n){return n===void 0&&(n={}),En(e.map(function(r){return qt(r,t)}),n)}function sl(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return Rt(s,t,n)}function TP(e,t,n){return n===void 0&&(n={}),En(e.map(function(r){return sl(r,t)}),n)}function Jt(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return Rt(r,t,n)}function SP(e,t,n){return n===void 0&&(n={}),En(e.map(function(r){return Jt(r,t)}),n)}function En(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Qh(e,t,n){n===void 0&&(n={});var r={type:"MultiLineString",coordinates:e};return Rt(r,t,n)}function L2(e,t,n){n===void 0&&(n={});var r={type:"MultiPoint",coordinates:e};return Rt(r,t,n)}function $2(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return Rt(r,t,n)}function MP(e,t,n){n===void 0&&(n={});var r={type:"GeometryCollection",geometries:e};return Rt(r,t,n)}function kP(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function e0(e,t){t===void 0&&(t="kilometers");var n=Zh[t];if(!n)throw new Error(t+" units is invalid");return e*n}function t0(e,t){t===void 0&&(t="kilometers");var n=Zh[t];if(!n)throw new Error(t+" units is invalid");return e/n}function IP(e,t){return U2(t0(e,t))}function AP(e){var t=e%360;return t<0&&(t+=360),t}function U2(e){var t=e%(2*Math.PI);return t*180/Math.PI}function Jo(e){var t=e%360;return t*Math.PI/180}function CP(e,t,n){if(t===void 0&&(t="kilometers"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return e0(t0(e,t),n)}function RP(e,t,n){if(t===void 0&&(t="meters"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=kd[t];if(!r)throw new Error("invalid original units");var i=kd[n];if(!i)throw new Error("invalid final units");return e/r*i}function uu(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function n0(e){return!!e&&e.constructor===Object}function NP(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!uu(t))throw new Error("bbox must only contain numbers")})}function PP(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const OP=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:kd,bearingToAzimuth:AP,convertArea:RP,convertLength:CP,degreesToRadians:Jo,earthRadius:nt,factors:Zh,feature:Rt,featureCollection:En,geometry:xP,geometryCollection:MP,isNumber:uu,isObject:n0,lengthToDegrees:IP,lengthToRadians:t0,lineString:Jt,lineStrings:SP,multiLineString:Qh,multiPoint:L2,multiPolygon:$2,point:qt,points:EP,polygon:sl,polygons:TP,radiansToDegrees:U2,radiansToLength:e0,round:kP,unitsFactors:wP,validateBBox:NP,validateId:PP},Symbol.toStringTag,{value:"Module"}));function oi(e,t,n){if(e!==null)for(var r,i,o,a,s,c,u,l=0,f=0,d,h=e.type,p=h==="FeatureCollection",b=h==="Feature",_=p?e.features.length:1,v=0;v<_;v++){u=p?e.features[v].geometry:b?e.geometry:e,d=u?u.type==="GeometryCollection":!1,s=d?u.geometries.length:1;for(var m=0;m<s;m++){var g=0,y=0;if(a=d?u.geometries[m]:u,a!==null){c=a.coordinates;var x=a.type;switch(l=n&&(x==="Polygon"||x==="MultiPolygon")?1:0,x){case null:break;case"Point":if(t(c,f,v,g,y)===!1)return!1;f++,g++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(t(c[r],f,v,g,y)===!1)return!1;f++,x==="MultiPoint"&&g++}x==="LineString"&&g++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-l;i++){if(t(c[r][i],f,v,g,y)===!1)return!1;f++}x==="MultiLineString"&&g++,x==="Polygon"&&y++}x==="Polygon"&&g++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(y=0,i=0;i<c[r].length;i++){for(o=0;o<c[r][i].length-l;o++){if(t(c[r][i][o],f,v,g,y)===!1)return!1;f++}y++}g++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(oi(a.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function DP(e,t,n,r){var i=n;return oi(e,function(o,a,s,c,u){a===0&&n===void 0?i=o:i=t(i,o,a,s,c,u)},r),i}function F2(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case"Feature":t(e.properties,0);break}}function LP(e,t,n){var r=n;return F2(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function ka(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function $P(e,t,n){var r=n;return ka(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function UP(e){var t=[];return oi(e,function(n){t.push(n)}),t}function r0(e,t){var n,r,i,o,a,s,c,u,l,f,d=0,h=e.type==="FeatureCollection",p=e.type==="Feature",b=h?e.features.length:1;for(n=0;n<b;n++){for(s=h?e.features[n].geometry:p?e.geometry:e,u=h?e.features[n].properties:p?e.properties:{},l=h?e.features[n].bbox:p?e.bbox:void 0,f=h?e.features[n].id:p?e.id:void 0,c=s?s.type==="GeometryCollection":!1,a=c?s.geometries.length:1,i=0;i<a;i++){if(o=c?s.geometries[i]:s,o===null){if(t(null,d,u,l,f)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,d,u,l,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],d,u,l,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}d++}}function B2(e,t,n){var r=n;return r0(e,function(i,o,a,s,c){o===0&&n===void 0?r=i:r=t(r,i,o,a,s,c)}),r}function Kn(e,t){r0(e,function(n,r,i,o,a){var s=n===null?null:n.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return t(Rt(n,i,{bbox:o,id:a}),r,0)===!1?!1:void 0}var c;switch(s){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var u=0;u<n.coordinates.length;u++){var l=n.coordinates[u],f={type:c,coordinates:l};if(t(Rt(f,i),r,u)===!1)return!1}})}function FP(e,t,n){var r=n;return Kn(e,function(i,o,a){o===0&&a===0&&n===void 0?r=i:r=t(r,i,o,a)}),r}function q2(e,t){Kn(e,function(n,r,i){var o=0;if(n.geometry){var a=n.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var s,c=0,u=0,l=0;if(oi(n,function(f,d,h,p,b){if(s===void 0||r>c||p>u||b>l){s=f,c=r,u=p,l=b,o=0;return}var _=Jt([s,f],n.properties);if(t(_,r,i,b,o)===!1)return!1;o++,s=f})===!1)return!1}}})}function BP(e,t,n){var r=n,i=!1;return q2(e,function(o,a,s,c,u){i===!1&&n===void 0?r=o:r=t(r,o,a,s,c,u),i=!0}),r}function H2(e,t){if(!e)throw new Error("geojson is required");Kn(e,function(n,r,i){if(n.geometry!==null){var o=n.geometry.type,a=n.geometry.coordinates;switch(o){case"LineString":if(t(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(t(Jt(a[s],n.properties),r,i,s)===!1)return!1;break}}})}function qP(e,t,n){var r=n;return H2(e,function(i,o,a,s){o===0&&n===void 0?r=i:r=t(r,i,o,a,s)}),r}function HP(e,t){if(t=t||{},!n0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=c.length+o-1),Jt([c[o],c[o+1]],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o-1),Jt([c[i][o],c[i][o+1]],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o-1),Jt([c[r][o],c[r][o+1]],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o-1),Jt([c[r][i][o],c[r][i][o+1]],a,t)}throw new Error("geojson is invalid")}function zP(e,t){if(t=t||{},!n0(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,a=t.properties,s;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),a=a||e.features[n].properties,s=e.features[n].geometry;break;case"Feature":a=a||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var c=s.coordinates;switch(s.type){case"Point":return qt(c,a,t);case"MultiPoint":return r<0&&(r=c.length+r),qt(c[r],a,t);case"LineString":return o<0&&(o=c.length+o),qt(c[o],a,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),qt(c[i][o],a,t);case"MultiLineString":return r<0&&(r=c.length+r),o<0&&(o=c[r].length+o),qt(c[r][o],a,t);case"MultiPolygon":return r<0&&(r=c.length+r),i<0&&(i=c[r].length+i),o<0&&(o=c[r][i].length-o),qt(c[r][i][o],a,t)}throw new Error("geojson is invalid")}const WP=Object.freeze(Object.defineProperty({__proto__:null,coordAll:UP,coordEach:oi,coordReduce:DP,featureEach:ka,featureReduce:$P,findPoint:zP,findSegment:HP,flattenEach:Kn,flattenReduce:FP,geomEach:r0,geomReduce:B2,lineEach:H2,lineReduce:qP,propEach:F2,propReduce:LP,segmentEach:q2,segmentReduce:BP},Symbol.toStringTag,{value:"Module"}));function lu(e){var t=[1/0,1/0,-1/0,-1/0];return oi(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}lu.default=lu;const GP=Object.freeze(Object.defineProperty({__proto__:null,default:lu},Symbol.toStringTag,{value:"Module"}));function Id(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ia(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function cl(e){return e.type==="Feature"?e.geometry:e}function Aa(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=Id(e),i=cl(t),o=i.type,a=t.bbox,s=i.coordinates;if(a&&VP(r,a)===!1)return!1;o==="Polygon"&&(s=[s]);for(var c=!1,u=0;u<s.length&&!c;u++)if(Hm(r,s[u][0],n.ignoreBoundary)){for(var l=!1,f=1;f<s[u].length&&!l;)Hm(r,s[u][f],!n.ignoreBoundary)&&(l=!0),f++;l||(c=!0)}return c}function Hm(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],c=t[o][0],u=t[o][1],l=e[1]*(a-c)+s*(c-e[0])+u*(e[0]-a)===0&&(a-e[0])*(c-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(l)return!n;var f=s>e[1]!=u>e[1]&&e[0]<(c-a)*(e[1]-s)/(u-s)+a;f&&(r=!r)}return r}function VP(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Ad(e,t,n){n===void 0&&(n={});var r=Id(e),i=Id(t),o=Jo(i[1]-r[1]),a=Jo(i[0]-r[0]),s=Jo(r[1]),c=Jo(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(c);return e0(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function YP(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return z2(e);case"FeatureCollection":return XP(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i0(e);default:throw new Error("unknown GeoJSON type")}}function z2(e){var t={type:"Feature"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=W2(e.properties),t.geometry=i0(e.geometry),t}function W2(e){var t={};return e&&Object.keys(e).forEach(function(n){var r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(function(i){return i}):t[n]=W2(r):t[n]=r}),t}function XP(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(function(n){return z2(n)}),t}function i0(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(n){return i0(n)}),t):(t.coordinates=G2(e.coordinates),t)}function G2(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(n){return G2(n)})}function jP(e,t){t===void 0&&(t={});var n=0,r=0,i=0;return oi(e,function(o){n+=o[0],r+=o[1],i++},!0),qt([n/i,r/i],t.properties)}function KP(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,i=0;return ka(t,function(o,a){var s=Ad(e,o);s<r&&(i=a,r=s)}),n=YP(t.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function zm(e){if(!e)throw new Error("geojson is required");var t=[];return Kn(e,function(n){JP(n,t)}),En(t)}function JP(e,t){var n=[],r=e.geometry;if(r!==null){switch(r.type){case"Polygon":n=Ia(r);break;case"LineString":n=[Ia(r)]}n.forEach(function(i){var o=ZP(i,e.properties);o.forEach(function(a){a.id=t.length,t.push(a)})})}}function ZP(e,t){var n=[];return e.reduce(function(r,i){var o=Jt([r,i],t);return o.bbox=QP(r,i),n.push(o),i}),n}function QP(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=n<i?n:i,s=r<o?r:o,c=n>i?n:i,u=r>o?r:o;return[a,s,c,u]}var fu={},eO={get exports(){return fu},set exports(e){fu=e}},Cd={},tO={get exports(){return Cd},set exports(e){Cd=e}};(function(e,t){(function(n,r){e.exports=r()})(MI,function(){function n(m,g,y,x,w){(function E(A,C,D,I,L){for(;I>D;){if(I-D>600){var M=I-D+1,R=C-D+1,k=Math.log(M),N=.5*Math.exp(2*k/3),q=.5*Math.sqrt(k*N*(M-N)/M)*(R-M/2<0?-1:1),z=Math.max(D,Math.floor(C-R*N/M+q)),W=Math.min(I,Math.floor(C+(M-R)*N/M+q));E(A,C,z,W,L)}var J=A[C],Z=D,ce=I;for(r(A,D,C),L(A[I],J)>0&&r(A,D,I);Z<ce;){for(r(A,Z,ce),Z++,ce--;L(A[Z],J)<0;)Z++;for(;L(A[ce],J)>0;)ce--}L(A[D],J)===0?r(A,D,ce):r(A,++ce,I),ce<=C&&(D=ce+1),C<=ce&&(I=ce-1)}})(m,g,y||0,x||m.length-1,w||i)}function r(m,g,y){var x=m[g];m[g]=m[y],m[y]=x}function i(m,g){return m<g?-1:m>g?1:0}var o=function(m){m===void 0&&(m=9),this._maxEntries=Math.max(4,m),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(m,g,y){if(!y)return g.indexOf(m);for(var x=0;x<g.length;x++)if(y(m,g[x]))return x;return-1}function s(m,g){c(m,0,m.children.length,g,m)}function c(m,g,y,x,w){w||(w=_(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var E=g;E<y;E++){var A=m.children[E];u(w,m.leaf?x(A):A)}return w}function u(m,g){return m.minX=Math.min(m.minX,g.minX),m.minY=Math.min(m.minY,g.minY),m.maxX=Math.max(m.maxX,g.maxX),m.maxY=Math.max(m.maxY,g.maxY),m}function l(m,g){return m.minX-g.minX}function f(m,g){return m.minY-g.minY}function d(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function h(m){return m.maxX-m.minX+(m.maxY-m.minY)}function p(m,g){return m.minX<=g.minX&&m.minY<=g.minY&&g.maxX<=m.maxX&&g.maxY<=m.maxY}function b(m,g){return g.minX<=m.maxX&&g.minY<=m.maxY&&g.maxX>=m.minX&&g.maxY>=m.minY}function _(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(m,g,y,x,w){for(var E=[g,y];E.length;)if(!((y=E.pop())-(g=E.pop())<=x)){var A=g+Math.ceil((y-g)/x/2)*x;n(m,A,g,y,w),E.push(g,A,A,y)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(m){var g=this.data,y=[];if(!b(m,g))return y;for(var x=this.toBBox,w=[];g;){for(var E=0;E<g.children.length;E++){var A=g.children[E],C=g.leaf?x(A):A;b(m,C)&&(g.leaf?y.push(A):p(m,C)?this._all(A,y):w.push(A))}g=w.pop()}return y},o.prototype.collides=function(m){var g=this.data;if(!b(m,g))return!1;for(var y=[];g;){for(var x=0;x<g.children.length;x++){var w=g.children[x],E=g.leaf?this.toBBox(w):w;if(b(m,E)){if(g.leaf||p(m,E))return!0;y.push(w)}}g=y.pop()}return!1},o.prototype.load=function(m){if(!m||!m.length)return this;if(m.length<this._minEntries){for(var g=0;g<m.length;g++)this.insert(m[g]);return this}var y=this._build(m.slice(),0,m.length-1,0);if(this.data.children.length)if(this.data.height===y.height)this._splitRoot(this.data,y);else{if(this.data.height<y.height){var x=this.data;this.data=y,y=x}this._insert(y,this.data.height-y.height-1,!0)}else this.data=y;return this},o.prototype.insert=function(m){return m&&this._insert(m,this.data.height-1),this},o.prototype.clear=function(){return this.data=_([]),this},o.prototype.remove=function(m,g){if(!m)return this;for(var y,x,w,E=this.data,A=this.toBBox(m),C=[],D=[];E||C.length;){if(E||(E=C.pop(),x=C[C.length-1],y=D.pop(),w=!0),E.leaf){var I=a(m,E.children,g);if(I!==-1)return E.children.splice(I,1),C.push(E),this._condense(C),this}w||E.leaf||!p(E,A)?x?(y++,E=x.children[y],w=!1):E=null:(C.push(E),D.push(y),y=0,x=E,E=E.children[0])}return this},o.prototype.toBBox=function(m){return m},o.prototype.compareMinX=function(m,g){return m.minX-g.minX},o.prototype.compareMinY=function(m,g){return m.minY-g.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(m){return this.data=m,this},o.prototype._all=function(m,g){for(var y=[];m;)m.leaf?g.push.apply(g,m.children):y.push.apply(y,m.children),m=y.pop();return g},o.prototype._build=function(m,g,y,x){var w,E=y-g+1,A=this._maxEntries;if(E<=A)return s(w=_(m.slice(g,y+1)),this.toBBox),w;x||(x=Math.ceil(Math.log(E)/Math.log(A)),A=Math.ceil(E/Math.pow(A,x-1))),(w=_([])).leaf=!1,w.height=x;var C=Math.ceil(E/A),D=C*Math.ceil(Math.sqrt(A));v(m,g,y,D,this.compareMinX);for(var I=g;I<=y;I+=D){var L=Math.min(I+D-1,y);v(m,I,L,C,this.compareMinY);for(var M=I;M<=L;M+=C){var R=Math.min(M+C-1,L);w.children.push(this._build(m,M,R,x-1))}}return s(w,this.toBBox),w},o.prototype._chooseSubtree=function(m,g,y,x){for(;x.push(g),!g.leaf&&x.length-1!==y;){for(var w=1/0,E=1/0,A=void 0,C=0;C<g.children.length;C++){var D=g.children[C],I=d(D),L=(M=m,R=D,(Math.max(R.maxX,M.maxX)-Math.min(R.minX,M.minX))*(Math.max(R.maxY,M.maxY)-Math.min(R.minY,M.minY))-I);L<E?(E=L,w=I<w?I:w,A=D):L===E&&I<w&&(w=I,A=D)}g=A||g.children[0]}var M,R;return g},o.prototype._insert=function(m,g,y){var x=y?m:this.toBBox(m),w=[],E=this._chooseSubtree(x,this.data,g,w);for(E.children.push(m),u(E,x);g>=0&&w[g].children.length>this._maxEntries;)this._split(w,g),g--;this._adjustParentBBoxes(x,w,g)},o.prototype._split=function(m,g){var y=m[g],x=y.children.length,w=this._minEntries;this._chooseSplitAxis(y,w,x);var E=this._chooseSplitIndex(y,w,x),A=_(y.children.splice(E,y.children.length-E));A.height=y.height,A.leaf=y.leaf,s(y,this.toBBox),s(A,this.toBBox),g?m[g-1].children.push(A):this._splitRoot(y,A)},o.prototype._splitRoot=function(m,g){this.data=_([m,g]),this.data.height=m.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(m,g,y){for(var x,w,E,A,C,D,I,L=1/0,M=1/0,R=g;R<=y-g;R++){var k=c(m,0,R,this.toBBox),N=c(m,R,y,this.toBBox),q=(w=k,E=N,A=void 0,C=void 0,D=void 0,I=void 0,A=Math.max(w.minX,E.minX),C=Math.max(w.minY,E.minY),D=Math.min(w.maxX,E.maxX),I=Math.min(w.maxY,E.maxY),Math.max(0,D-A)*Math.max(0,I-C)),z=d(k)+d(N);q<L?(L=q,x=R,M=z<M?z:M):q===L&&z<M&&(M=z,x=R)}return x||y-g},o.prototype._chooseSplitAxis=function(m,g,y){var x=m.leaf?this.compareMinX:l,w=m.leaf?this.compareMinY:f;this._allDistMargin(m,g,y,x)<this._allDistMargin(m,g,y,w)&&m.children.sort(x)},o.prototype._allDistMargin=function(m,g,y,x){m.children.sort(x);for(var w=this.toBBox,E=c(m,0,g,w),A=c(m,y-g,y,w),C=h(E)+h(A),D=g;D<y-g;D++){var I=m.children[D];u(E,m.leaf?w(I):I),C+=h(E)}for(var L=y-g-1;L>=g;L--){var M=m.children[L];u(A,m.leaf?w(M):M),C+=h(A)}return C},o.prototype._adjustParentBBoxes=function(m,g,y){for(var x=y;x>=0;x--)u(g[x],m)},o.prototype._condense=function(m){for(var g=m.length-1,y=void 0;g>=0;g--)m[g].children.length===0?g>0?(y=m[g-1].children).splice(y.indexOf(m[g]),1):this.clear():s(m[g],this.toBBox)},o})})(tO);const nO=$h(OP),rO=$h(WP),iO=$h(GP);var sn=Cd,V2=nO,Y2=rO,Ai=iO.default,oO=Y2.featureEach;Y2.coordEach;V2.polygon;var Wm=V2.featureCollection;function X2(e){var t=new sn(e);return t.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Ai(n),sn.prototype.insert.call(this,n)},t.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Ai(i),r.push(i)}):oO(n,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Ai(i),r.push(i)}),sn.prototype.load.call(this,r)},t.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:Ai(n),sn.prototype.remove.call(this,n,r)},t.clear=function(){return sn.prototype.clear.call(this)},t.search=function(n){var r=sn.prototype.search.call(this,this.toBBox(n));return Wm(r)},t.collides=function(n){return sn.prototype.collides.call(this,this.toBBox(n))},t.all=function(){var n=sn.prototype.all.call(this);return Wm(n)},t.toJSON=function(){return sn.prototype.toJSON.call(this)},t.fromJSON=function(n){return sn.prototype.fromJSON.call(this,n)},t.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=Ai(n);else if(n.type==="FeatureCollection")r=Ai(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},t}eO.exports=X2;fu.default=X2;function o0(e,t){var n={},r=[];if(e.type==="LineString"&&(e=Rt(e)),t.type==="LineString"&&(t=Rt(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=Gm(e,t);return i&&r.push(i),En(r)}var o=fu();return o.load(zm(t)),ka(zm(e),function(a){ka(o.search(a),function(s){var c=Gm(a,s);if(c){var u=Ia(c).join(",");n[u]||(n[u]=!0,r.push(c))}})}),En(r)}function Gm(e,t){var n=Ia(e),r=Ia(t);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(r.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],a=n[1][0],s=n[1][1],c=r[0][0],u=r[0][1],l=r[1][0],f=r[1][1],d=(f-u)*(a-i)-(l-c)*(s-o),h=(l-c)*(o-u)-(f-u)*(i-c),p=(a-i)*(o-u)-(s-o)*(i-c);if(d===0)return null;var b=h/d,_=p/d;if(b>=0&&b<=1&&_>=0&&_<=1){var v=i+b*(a-i),m=o+b*(s-o);return qt([v,m])}return null}var Vm=6378137;function aO(e){return B2(e,function(t,n){return t+sO(n)},0)}function sO(e){var t=0,n;switch(e.type){case"Polygon":return Ym(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=Ym(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Ym(e){var t=0;if(e&&e.length>0){t+=Math.abs(Xm(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(Xm(e[n]))}return t}function Xm(e){var t,n,r,i,o,a,s,c=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,o=u-1,a=0):s===u-1?(i=u-1,o=0,a=1):(i=s,o=s+1,a=s+2),t=e[i],n=e[o],r=e[a],c+=(xf(r[0])-xf(t[0]))*Math.sin(xf(n[1]));c=c*Vm*Vm/2}return c}function xf(e){return e*Math.PI/180}function Rd(e,t){t===void 0&&(t={});var n=cl(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),n.type){case"Polygon":return cO(n,t);case"MultiPolygon":return uO(n,t);default:throw new Error("invalid poly")}}function cO(e,t){t===void 0&&(t={});var n=cl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{};return j2(r,i)}function uO(e,t){t===void 0&&(t={});var n=cl(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{},o=[];return r.forEach(function(a){o.push(j2(a,i))}),En(o)}function j2(e,t){return e.length>1?Qh(e,t):Jt(e[0],t)}function lO(e,t){var n=!0;return Kn(e,function(r){Kn(t,function(i){if(n===!1)return!1;n=fO(r.geometry,i.geometry)})}),n}function fO(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!gO(e.coordinates,t.coordinates);case"LineString":return!jm(t,e);case"Polygon":return!Aa(e,t)}break;case"LineString":switch(t.type){case"Point":return!jm(e,t);case"LineString":return!dO(e,t);case"Polygon":return!Km(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Aa(t,e);case"LineString":return!Km(e,t);case"Polygon":return!hO(t,e)}}return!1}function jm(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(pO(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function dO(e,t){var n=o0(e,t);return n.features.length>0}function Km(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var i=r[n];if(Aa(i,e))return!0}var o=o0(t,Rd(e));return o.features.length>0}function hO(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var i=r[n];if(Aa(i,t))return!0}for(var o=0,a=t.coordinates[0];o<a.length;o++){var s=a[o];if(Aa(s,e))return!0}var c=o0(Rd(e),Rd(t));return c.features.length>0}function pO(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],a=t[1]-e[1],s=r*a-i*o;return s!==0?!1:Math.abs(o)>=Math.abs(a)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]}function gO(e,t){return e[0]===t[0]&&e[1]===t[1]}function mO(e,t){var n=!1;return Kn(e,function(r){Kn(t,function(i){if(n===!0)return!0;n=!lO(r.geometry,i.geometry)})}),n}function bO(e,t,n,r){r===void 0&&(r={});for(var i=[],o=e[0],a=e[1],s=e[2],c=e[3],u=t/Ad([o,a],[s,a],r),l=u*(s-o),f=n/Ad([o,a],[o,c],r),d=f*(c-a),h=s-o,p=c-a,b=Math.floor(h/l),_=Math.floor(p/d),v=(h-b*l)/2,m=(p-_*d)/2,g=o+v,y=0;y<b;y++){for(var x=a+m,w=0;w<_;w++){var E=sl([[[g,x],[g,x+d],[g+l,x+d],[g+l,x],[g,x]]],r.properties);r.mask?mO(r.mask,E)&&i.push(E):i.push(E),x+=d}g+=l}return En(i)}function yO(e,t,n){return n===void 0&&(n={}),bO(e,t,t,n)}const{document:Jm}=l6;function Zm(e,t,n){const r=e.slice();return r[96]=t[n][0],r[97]=t[n][1],r}function Qm(e,t,n){const r=e.slice();return r[96]=t[n][0],r[100]=t[n][1],r}function e1(e,t,n){const r=e.slice();return r[103]=t[n],r}function _O(e){return{c:xe,m:xe,p:xe,d:xe}}function vO(e){let t,n,r,i,o=e[107]+"",a,s;return{c(){t=$("a"),n=$("i"),i=G(),a=te(o),U(n,"class",r="icon circle "+(e[107].includes("Error")?"spinner":"thumbs up")+" outline"),U(t,"class",s="ui "+(e[107].includes("Error")?"grey":"green")+" right ribbon label")},m(c,u){bn(c,t,u),T(t,n),T(t,i),T(t,a)},p(c,u){u[0]&1048576&&r!==(r="icon circle "+(c[107].includes("Error")?"spinner":"thumbs up")+" outline")&&U(n,"class",r),u[0]&1048576&&o!==(o=c[107]+"")&&Ne(a,o),u[0]&1048576&&s!==(s="ui "+(c[107].includes("Error")?"grey":"green")+" right ribbon label")&&U(t,"class",s)},d(c){c&&kt(t)}}}function wO(e){let t;return{c(){t=$("a"),t.innerHTML='<i class="icon circle exclamation "></i>',U(t,"class","ui grey left ribbon label")},m(n,r){bn(n,t,r)},p:xe,d(n){n&&kt(t)}}}function xO(e){return{c:xe,m:xe,p:xe,d:xe}}function EO(e){let t;function n(o,a){return o[19]==null?SO:TO}let r=n(e),i=r(e);return{c(){i.c(),t=Q2()},m(o,a){i.m(o,a),bn(o,t,a)},p(o,a){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){i.d(o),o&&kt(t)}}}function TO(e){let t,n=e[19].user.email+"",r;return{c(){t=$("div"),r=te(n),U(t,"class","ui green top left attached label")},m(i,o){bn(i,t,o),T(t,r)},p(i,o){o[0]&524288&&n!==(n=i[19].user.email+"")&&Ne(r,n)},d(i){i&&kt(t)}}}function SO(e){return{c:xe,m:xe,p:xe,d:xe}}function MO(e){let t;return{c(){t=$("label"),t.innerHTML='Signing.. <i class="icon spinner"></i>',U(t,"class","ui orange label top left attached")},m(n,r){bn(n,t,r)},p:xe,d(n){n&&kt(t)}}}function t1(e){let t,n=e[103].Name+"",r,i,o=e[103].Height+"",a,s,c=e[103].BSDensity+"",u,l;return{c(){t=$("option"),r=te(n),i=te(" - ( "),a=te(o),s=te("m, BS:"),u=te(c),l=te(`/sqkm)
            `),t.__value=e[103],t.value=t.__value},m(f,d){bn(f,t,d),T(t,r),T(t,i),T(t,a),T(t,s),T(t,u),T(t,l)},p:xe,d(f){f&&kt(t)}}}function n1(e){let t,n=e[96]+"",r,i,o=e[8].Ra[e[100].val]+"",a,s;return{c(){t=$("option"),r=te(n),i=te(":"),a=te(o),s=te(`%
            `),t.__value=e[100],t.value=t.__value},m(c,u){bn(c,t,u),T(t,r),T(t,i),T(t,a),T(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Ra[c[100].val]+"")&&Ne(a,o)},d(c){c&&kt(t)}}}function r1(e){let t,n=e[96]+"",r,i,o=e[8].Rb[e[97].val]+"",a,s;return{c(){t=$("option"),r=te(n),i=te(":"),a=te(o),s=te(`%
            `),t.__value=e[97],t.value=t.__value},m(c,u){bn(c,t,u),T(t,r),T(t,i),T(t,a),T(t,s)},p(c,u){u[0]&256&&o!==(o=c[8].Rb[c[97].val]+"")&&Ne(a,o)},d(c){c&&kt(t)}}}function kO(e){let t,n,r,i,o,a,s,c,u,l,f,d,h,p,b,_=e[19]==null?"Login":"Log Out",v,m,g,y,x,w,E,A,C,D,I,L,M,R,k,N,q,z,W,J,Z,ce,ue,Pe=e[14]?"Switch to  Mean":"Switch to Median",H,de,Ae,Ce,F,Y,ne,O,ye,ee,we,ve,Je,Re,Pt,Ze,Me,Oe,Ee,Be,on,mt,Et,Qe,Te,ai,bt,Ot,De,Dt,kr,Ja,Qn,er,Za,vo,Qa,tr,nr,es,wo,ts,ns,rs,si,is,ci,S,B,P=e[16]-e[18]>=-10.5?"Failed":"Success",K,ge,Le,fe,Lt,An,et,ul,os,a0,ui,as,ss=ht("4.2~s")(e[11])+"",ll,s0,xo,c0,Eo,u0,cs=e[11].toFixed(0)+"",fl,l0,f0,li,us,ls=ht("4.2~s")(e[22])+"",dl,d0,To,h0,So,p0,fs=e[22].toFixed(0)+"",hl,g0,m0,fi,ds,hs=e[18].toFixed(1)+"",pl,b0,ps,y0,di,gs,ms=(e[18]-10.5).toFixed(1)+"",gl,_0,bs,v0,w0,x0,Ir,ys,_s=(e[16]==null?"???":(e[16]-e[18]).toFixed(1))+"",ml,E0,vs,ws,T0,Ar,hi,xs,Es,S0,Ts=(e[16]==null?"???":e[16].toFixed(1))+"",bl,M0,Ss,Ms,k0,Cr,pi,I0,ks=(e[15]!=null?e[15][0].I.toFixed(2):"???")+"",yl,A0,C0,R0,N0,gi,P0,Is=(e[15]!=null?e[15][1].I.toFixed(2):"???")+"",_l,O0,D0,Rr,Mo,L0,$0,at,ko,U0,As=e[0]?"[Hidden]":"",vl,F0,mi,bi,B0,wl,q0,H0,z0,W0,G0,Io,V0,xl,Y0,$t={ctx:e,current:null,token:null,hasCatch:!1,pending:wO,then:vO,catch:_O,value:107};Rs(s=e[20],$t);let Ut={ctx:e,current:null,token:null,hasCatch:!1,pending:MO,then:EO,catch:xO,value:106};Rs(u=e[21],Ut);let yi=e[26],st=[];for(let le=0;le<yi.length;le+=1)st[le]=t1(e1(e,yi,le));let _i=[...e[27]],ct=[];for(let le=0;le<_i.length;le+=1)ct[le]=n1(Qm(e,_i,le));let vi=[...e[28]],ut=[];for(let le=0;le<vi.length;le+=1)ut[le]=r1(Zm(e,vi,le));return{c(){t=$("link"),n=G(),r=$("main"),i=$("h1"),i.textContent="Demonstration of FSS results",o=G(),a=$("div"),$t.block.c(),c=G(),Ut.block.c(),l=G(),f=$("br"),d=G(),h=$("div"),p=$("div"),b=$("button"),v=te(_),m=G(),g=$("input"),x=G(),w=$("div"),E=$("label"),E.textContent="Noise Temp.(K)",A=G(),C=$("input"),D=G(),I=$("label"),I.textContent="FSS Rx Gain (dBi)",L=G(),M=$("input"),R=G(),k=$("div"),N=$("input"),q=G(),z=$("label"),z.textContent="Fixed FSS Gain",W=G(),J=$("div"),Z=$("input"),ce=G(),ue=$("label"),H=te(Pe),de=G(),Ae=$("div"),Ce=$("label"),F=te("Satellite Angle : "),Y=te(e[6]),ne=G(),O=$("input"),ye=G(),ee=$("input"),we=G(),ve=$("div"),Je=$("label"),Je.textContent="Environment",Re=G(),Pt=$("select");for(let le=0;le<st.length;le+=1)st[le].c();Ze=G(),Me=$("div"),Oe=$("label"),Oe.textContent="Ra Options",Ee=G(),Be=$("select");for(let le=0;le<ct.length;le+=1)ct[le].c();on=G(),mt=$("div"),Et=$("label"),Et.textContent="Rb Options",Qe=G(),Te=$("select");for(let le=0;le<ut.length;le+=1)ut[le].c();ai=G(),bt=$("div"),Ot=$("div"),De=$("input"),Dt=G(),kr=$("label"),kr.textContent="Color Range",Ja=G(),Qn=$("div"),er=$("input"),Za=G(),vo=$("label"),vo.textContent="Show SatGain",Qa=G(),tr=$("div"),nr=$("input"),es=G(),wo=$("label"),wo.textContent="Show Variables",ts=G(),ns=$("hr"),rs=G(),si=$("h1"),si.textContent="Results",is=G(),ci=$("div"),S=$("div"),B=$("div"),K=te(P),Le=G(),fe=$("div"),Lt=$("div"),An=$("div"),et=te(e[23]),ul=G(),os=$("div"),os.innerHTML="Total Area <pre>sqkm</pre>",a0=G(),ui=$("div"),as=$("div"),ll=te(ss),s0=G(),xo=$("div"),c0=te("Total BS "),Eo=$("pre"),u0=te("("),fl=te(cs),l0=te(")"),f0=G(),li=$("div"),us=$("div"),dl=te(ls),d0=G(),To=$("div"),h0=te("Active BS "),So=$("pre"),p0=te("("),hl=te(fs),g0=te(")"),m0=G(),fi=$("div"),ds=$("div"),pl=te(hs),b0=G(),ps=$("div"),ps.innerHTML="Noise <pre>dBm</pre>",y0=G(),di=$("div"),gs=$("div"),gl=te(ms),_0=G(),bs=$("div"),bs.innerHTML="Allowed Interference <pre>dBm</pre>",v0=G(),w0=$("hr"),x0=G(),Ir=$("div"),ys=$("div"),ml=te(_s),E0=G(),vs=$("div"),vs.innerHTML="I/N <pre>dB</pre>",T0=G(),Ar=$("div"),hi=$("div"),xs=$("i"),S0=G(),bl=te(Ts),M0=G(),Ss=$("div"),Ss.innerHTML="Aggr. Interference <pre>dBm</pre>",k0=G(),Cr=$("div"),pi=$("a"),I0=te("Urban : "),yl=te(ks),A0=te(" dBm"),C0=G(),R0=$("br"),N0=G(),gi=$("a"),P0=te("SubUrban : "),_l=te(Is),O0=te(" dBm"),D0=G(),Rr=$("div"),Mo=$("div"),$0=G(),at=$("div"),ko=$("h1"),U0=te("Variables "),vl=te(As),F0=G(),mi=$("div"),bi=$("input"),B0=G(),wl=$("label"),wl.textContent="Hide Inspector",q0=G(),H0=$("br"),z0=G(),W0=$("br"),G0=G(),Io=$("div"),Jm.title="FSS Analysis inserted",U(t,"rel","stylesheet"),U(t,"href","https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"),U(b,"class","ui fluid primary button"),U(g,"type","password"),g.disabled=y=e[19]!=null,K0(g,"display",e[19]!=null?"none":"block"),U(p,"class","ui field"),U(C,"type","number"),U(C,"step","50"),U(M,"type","number"),M.disabled=!0,U(N,"type","checkbox"),U(k,"class","ui toggle checkbox "),U(Z,"type","checkbox"),Z.disabled=e[13],U(J,"class","ui toggle checkbox "),U(w,"class","field"),U(O,"type","number"),U(O,"min","32"),U(O,"max","130"),U(O,"step","0.5"),U(ee,"type","range"),U(ee,"min","55"),U(ee,"max","129.5"),U(ee,"step","0.5"),U(Ae,"class","field"),e[8]===void 0&&or(()=>e[63].call(Pt)),U(ve,"class","field"),U(Oe,"for",""),U(Be,"name",""),U(Be,"id",""),e[9]===void 0&&or(()=>e[64].call(Be)),U(Me,"class","field"),U(Et,"for",""),U(Te,"name",""),U(Te,"id",""),e[10]===void 0&&or(()=>e[65].call(Te)),U(mt,"class","field"),U(De,"type","checkbox"),U(Ot,"class","ui toggle checkbox "),U(er,"type","checkbox"),U(Qn,"class","ui toggle checkbox "),U(nr,"type","checkbox"),U(tr,"class","ui toggle checkbox"),U(bt,"class","field"),U(h,"class","ui fields "),U(a,"class","ui form toolbox"),U(si,"class","ui header"),U(B,"class",ge="ui label left ribbon "+(e[16]-e[18]>=-10.5?"red":"green")),U(An,"class","value"),U(os,"class","label"),U(Lt,"class","statistic"),U(as,"class","value"),U(xo,"class","label"),U(ui,"class","statistic"),U(us,"class","value"),U(To,"class","label"),U(li,"class","statistic"),U(ds,"class","value"),U(ps,"class","label"),U(fi,"class","grey inverted statistic"),U(gs,"class","value"),U(bs,"class","label"),U(di,"class","green statistic"),U(ys,"class","value"),U(vs,"class","label"),U(Ir,"class",ws=(e[16]-e[18]>=-10.5?"red":"green")+" statistic"),U(xs,"class",Es="thumbs "+(e[16]==null?"":e[16]<e[18]-10.5?"circle up":"circle down")+" icon"),U(hi,"class","value"),U(Ss,"class","label"),U(Ar,"class",Ms=(e[16]-e[18]>=-10.5?"red":"green")+" statistic"),U(pi,"class","ui red label left tag small"),U(gi,"class","ui grey label left tag small"),U(fe,"class","ui six small statistics"),U(Mo,"class","ui two column stackable grid "),U(Mo,"id","logbox"),U(Rr,"class","ui segment"),or(()=>e[70].call(Rr)),U(ko,"class","header"),U(bi,"type","checkbox"),U(mi,"class","ui slider checkbox"),U(Io,"class","ui two column stackable grid "),U(Io,"id","figure"),U(at,"class","ui segment"),or(()=>e[73].call(at)),U(S,"class","ui segment "),U(ci,"class","ui segments"),U(r,"class","ui basic segment widget")},m(le,X){T(Jm.head,t),bn(le,n,X),bn(le,r,X),T(r,i),T(r,o),T(r,a),$t.block.m(a,$t.anchor=null),$t.mount=()=>a,$t.anchor=c,T(a,c),Ut.block.m(a,Ut.anchor=null),Ut.mount=()=>a,Ut.anchor=l,T(a,l),T(a,f),T(a,d),T(a,h),T(h,p),T(p,b),T(b,v),T(p,m),T(p,g),an(g,e[24]),T(h,x),T(h,w),T(w,E),T(w,A),T(w,C),an(C,e[17]),T(w,D),T(w,I),T(w,L),T(w,M),an(M,e[12]),T(w,R),T(w,k),T(k,N),N.checked=e[13],T(k,q),T(k,z),T(w,W),T(w,J),T(J,Z),Z.checked=e[14],T(J,ce),T(J,ue),T(ue,H),T(h,de),T(h,Ae),T(Ae,Ce),T(Ce,F),T(Ce,Y),T(Ae,ne),T(Ae,O),an(O,e[6]),T(Ae,ye),T(Ae,ee),an(ee,e[6]),T(h,we),T(h,ve),T(ve,Je),T(ve,Re),T(ve,Pt);for(let V=0;V<st.length;V+=1)st[V]&&st[V].m(Pt,null);wi(Pt,e[8],!0),T(h,Ze),T(h,Me),T(Me,Oe),T(Me,Ee),T(Me,Be);for(let V=0;V<ct.length;V+=1)ct[V]&&ct[V].m(Be,null);wi(Be,e[9],!0),T(h,on),T(h,mt),T(mt,Et),T(mt,Qe),T(mt,Te);for(let V=0;V<ut.length;V+=1)ut[V]&&ut[V].m(Te,null);wi(Te,e[10],!0),T(h,ai),T(h,bt),T(bt,Ot),T(Ot,De),De.checked=e[4],T(Ot,Dt),T(Ot,kr),T(bt,Ja),T(bt,Qn),T(Qn,er),er.checked=e[5],T(Qn,Za),T(Qn,vo),T(bt,Qa),T(bt,tr),T(tr,nr),nr.checked=e[1],T(tr,es),T(tr,wo),T(r,ts),T(r,ns),T(r,rs),T(r,si),T(r,is),T(r,ci),T(ci,S),T(S,B),T(B,K),T(S,Le),T(S,fe),T(fe,Lt),T(Lt,An),T(An,et),T(Lt,ul),T(Lt,os),T(fe,a0),T(fe,ui),T(ui,as),T(as,ll),T(ui,s0),T(ui,xo),T(xo,c0),T(xo,Eo),T(Eo,u0),T(Eo,fl),T(Eo,l0),T(fe,f0),T(fe,li),T(li,us),T(us,dl),T(li,d0),T(li,To),T(To,h0),T(To,So),T(So,p0),T(So,hl),T(So,g0),T(fe,m0),T(fe,fi),T(fi,ds),T(ds,pl),T(fi,b0),T(fi,ps),T(fe,y0),T(fe,di),T(di,gs),T(gs,gl),T(di,_0),T(di,bs),T(fe,v0),T(fe,w0),T(fe,x0),T(fe,Ir),T(Ir,ys),T(ys,ml),T(Ir,E0),T(Ir,vs),T(fe,T0),T(fe,Ar),T(Ar,hi),T(hi,xs),T(hi,S0),T(hi,bl),T(Ar,M0),T(Ar,Ss),T(fe,k0),T(fe,Cr),T(Cr,pi),T(pi,I0),T(pi,yl),T(pi,A0),T(Cr,C0),T(Cr,R0),T(Cr,N0),T(Cr,gi),T(gi,P0),T(gi,_l),T(gi,O0),T(S,D0),T(S,Rr),T(Rr,Mo),e[69](Mo),L0=J0(Rr,e[70].bind(Rr)),T(S,$0),T(S,at),T(at,ko),T(ko,U0),T(ko,vl),T(at,F0),T(at,mi),T(mi,bi),bi.checked=e[0],T(mi,B0),T(mi,wl),T(at,q0),T(at,H0),T(at,z0),T(at,W0),T(at,G0),T(at,Io),e[72](Io),V0=J0(at,e[73].bind(at)),xl||(Y0=[He(b,"click",e[25]),He(g,"input",e[56]),He(C,"input",e[57]),He(M,"input",e[58]),He(N,"change",e[59]),He(Z,"change",e[60]),He(O,"input",e[61]),He(ee,"change",e[62]),He(ee,"input",e[62]),He(Pt,"change",e[63]),He(Be,"change",e[64]),He(Te,"change",e[65]),He(De,"change",e[66]),He(er,"change",e[67]),He(nr,"change",e[68]),He(bi,"change",e[71])],xl=!0)},p(le,X){if(e=le,$t.ctx=e,X[0]&1048576&&s!==(s=e[20])&&Rs(s,$t)||Q0($t,e,X),Ut.ctx=e,X[0]&2097152&&u!==(u=e[21])&&Rs(u,Ut)||Q0(Ut,e,X),X[0]&524288&&_!==(_=e[19]==null?"Login":"Log Out")&&Ne(v,_),X[0]&524288&&y!==(y=e[19]!=null)&&(g.disabled=y),X[0]&524288&&K0(g,"display",e[19]!=null?"none":"block"),X[0]&16777216&&g.value!==e[24]&&an(g,e[24]),X[0]&131072&&Dr(C.value)!==e[17]&&an(C,e[17]),X[0]&4096&&Dr(M.value)!==e[12]&&an(M,e[12]),X[0]&8192&&(N.checked=e[13]),X[0]&8192&&(Z.disabled=e[13]),X[0]&16384&&(Z.checked=e[14]),X[0]&16384&&Pe!==(Pe=e[14]?"Switch to  Mean":"Switch to Median")&&Ne(H,Pe),X[0]&64&&Ne(Y,e[6]),X[0]&64&&Dr(O.value)!==e[6]&&an(O,e[6]),X[0]&64&&an(ee,e[6]),X[0]&67108864){yi=e[26];let V;for(V=0;V<yi.length;V+=1){const rr=e1(e,yi,V);st[V]?st[V].p(rr,X):(st[V]=t1(rr),st[V].c(),st[V].m(Pt,null))}for(;V<st.length;V+=1)st[V].d(1);st.length=yi.length}if(X[0]&67109120&&wi(Pt,e[8]),X[0]&134217984){_i=[...e[27]];let V;for(V=0;V<_i.length;V+=1){const rr=Qm(e,_i,V);ct[V]?ct[V].p(rr,X):(ct[V]=n1(rr),ct[V].c(),ct[V].m(Be,null))}for(;V<ct.length;V+=1)ct[V].d(1);ct.length=_i.length}if(X[0]&134218240&&wi(Be,e[9]),X[0]&268435712){vi=[...e[28]];let V;for(V=0;V<vi.length;V+=1){const rr=Zm(e,vi,V);ut[V]?ut[V].p(rr,X):(ut[V]=r1(rr),ut[V].c(),ut[V].m(Te,null))}for(;V<ut.length;V+=1)ut[V].d(1);ut.length=vi.length}X[0]&268436480&&wi(Te,e[10]),X[0]&16&&(De.checked=e[4]),X[0]&32&&(er.checked=e[5]),X[0]&2&&(nr.checked=e[1]),X[0]&327680&&P!==(P=e[16]-e[18]>=-10.5?"Failed":"Success")&&Ne(K,P),X[0]&327680&&ge!==(ge="ui label left ribbon "+(e[16]-e[18]>=-10.5?"red":"green"))&&U(B,"class",ge),X[0]&8388608&&Ne(et,e[23]),X[0]&2048&&ss!==(ss=ht("4.2~s")(e[11])+"")&&Ne(ll,ss),X[0]&2048&&cs!==(cs=e[11].toFixed(0)+"")&&Ne(fl,cs),X[0]&4194304&&ls!==(ls=ht("4.2~s")(e[22])+"")&&Ne(dl,ls),X[0]&4194304&&fs!==(fs=e[22].toFixed(0)+"")&&Ne(hl,fs),X[0]&262144&&hs!==(hs=e[18].toFixed(1)+"")&&Ne(pl,hs),X[0]&262144&&ms!==(ms=(e[18]-10.5).toFixed(1)+"")&&Ne(gl,ms),X[0]&327680&&_s!==(_s=(e[16]==null?"???":(e[16]-e[18]).toFixed(1))+"")&&Ne(ml,_s),X[0]&327680&&ws!==(ws=(e[16]-e[18]>=-10.5?"red":"green")+" statistic")&&U(Ir,"class",ws),X[0]&327680&&Es!==(Es="thumbs "+(e[16]==null?"":e[16]<e[18]-10.5?"circle up":"circle down")+" icon")&&U(xs,"class",Es),X[0]&65536&&Ts!==(Ts=(e[16]==null?"???":e[16].toFixed(1))+"")&&Ne(bl,Ts),X[0]&327680&&Ms!==(Ms=(e[16]-e[18]>=-10.5?"red":"green")+" statistic")&&U(Ar,"class",Ms),X[0]&32768&&ks!==(ks=(e[15]!=null?e[15][0].I.toFixed(2):"???")+"")&&Ne(yl,ks),X[0]&32768&&Is!==(Is=(e[15]!=null?e[15][1].I.toFixed(2):"???")+"")&&Ne(_l,Is),X[0]&1&&As!==(As=e[0]?"[Hidden]":"")&&Ne(vl,As),X[0]&1&&(bi.checked=e[0])},i:xe,o:xe,d(le){kt(t),le&&kt(n),le&&kt(r),$t.block.d(),$t.token=null,$t=null,Ut.block.d(),Ut.token=null,Ut=null,El(st,le),El(ct,le),El(ut,le),e[69](null),L0(),e[72](null),V0(),xl=!1,so(Y0)}}}function IO(e){return e&&Object.prototype.toString.call(e)==="[object Promise]"}function tc(e){return Math.pow(10,e/10)}function i1(e){return 10*Math.log10(e)}function AO(e,t,n){let r,i,o,a,s;j0(e,al,S=>n(19,a=S)),j0(e,qm,S=>n(24,s=S));let c,u=!1,l,f,d,h,p,b=new Map,_,v,m;async function g(){return a==null?(n(21,m=dP("guest@5gindiaforum.in",s)),m):(fP().then(B=>console.log("After signout ",B,a)),"Signed Out")}let y=async(S,B,P)=>{P=P||!1;var K=_;P&&(K=v);let ge=b.get(S);if(ge==null){let fe=document.createElement("div"),An=ca(fe).attr("class","column cell").append("div").attr("class","plain segment");An.append("div").attr("class",`ui ${P?"tag teal":"pointing"} below label`).text(S);let et=An.append("div").node();ge={inspector:new Sf(et),alwaysshow:P,rootcell:fe,render:K!=null},b.set(S,ge),K!=null&&K.append(fe)}let Le=ge.inspector;if(IO(B))Le.fulfilled("Waiting for obj.. ",S),B.then(fe=>Le.fulfilled(fe)).catch(fe=>{Le.fulfilled("Err : "+fe),console.log(S,"Error ",fe)});else if(P)if(B==null){let fe=document.createElement("div");ca(fe).attr("class","ui loading placeholder segment").append("img"),Le.fulfilled(fe)}else Le.fulfilled(B);else Le.fulfilled(B);return S};function x(){let S=w4("/files/geoBoundaries-IND-ADM1_simplified.topojson");y("CSV",S,!1),n(20,l=S),S.then(B=>{n(29,f=B),n(32,p=Rt(_P(f,f.objects.INDADM1gbOpen.geometries)))})}x();let w=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,1],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,1],LoadingFactor:.2,BSDensity:2.4}],E,A,C=[10,20,30,40],D,I=!1,L,M=83,R,k=async(S,B,P)=>(P=P||!1,y(S,B,P)),N=0,q=w[0],z,W,J=new Map([["Ra1",{name:"Ratio of Coverage",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage",val:1,factor:.45}]]),Z=new Map([["Rb1",{name:"N/w Coverage",val:0,factor:.01}],["Rb2",{name:"N/w Coverage",val:1,factor:.035}],["Rb3",{name:"N/w Coverage",val:2,factor:.01}]]),ce,ue,Pe,H,de,Ae,Ce=()=>{var S=y3().thresholds(Ae).value(P=>P.el),B=S(ue);return S3(B,P=>{var K=_t(P,et=>et.areasqkm),ge=Bo(P,et=>et.el),Le=ze(P,et=>et.az),fe=Zt(P,et=>et.SatGain),Lt=10*Math.log10(Bo(P,et=>Math.pow(10,et.SatGain/10))),An=ar(P,et=>et.SatGain);return{x:Math.floor((P.x0+P.x1)/2),x0:P.x0,x1:P.x1,azExtents:Le,count:P.length,meanangle:ge,totalareasqkm:K,maxRxGain:fe,meanRxGain:Lt,medianRxGain:An}})},F,Y=-1,ne=-1,O=-1,ye=-1,ee,we=0;async function ve(){if(de!=null){n(23,we=ht("2.3~s")(_t(de,P=>P.totalareasqkm)));var S=cn({marks:[Mi(de,{y:"count",x:"x",fill:P=>L(P.x),title:P=>P.x}),Ln(de,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:P=>P.x})],width:r,grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:P=>Math.floor(P)},y:{label:"# of grids",nice:!0},caption:`Figure 3: #grids vs Elev. @ ${M}E`}),B=cn({marks:[Mi(de,{title:"totalareasqkm",y:"totalareasqkm",x:"x",cumulative:!1,fill:P=>L(P.x)}),Ln(de,{text:P=>ht(".2~s")(P.totalareasqkm),y:"totalareasqkm",x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},width:r,caption:`Figure 4 : Area per Elevation @${M}E | Total Area: ${we} sqkm`});n(20,l=k("allplot",S,!0)),n(20,l=k("allplot",B,!0))}}let Je,Re;async function Pt(){Sp("/files/LossesPerElevation@1.csv",Tp).then(S=>{n(49,Re=S.map(B=>({el:+B["Elev angle"],UrbanAg:B.UrbanAg,SubUrbanAg:B.SubUrbanAg,GL:B["Gas loss"],CL:-B["Clutter gain"],PL:B["Propagation loss"]}))),k("gainloss",Re)})}Pt();let Ze;function Me(S){var B=Re.find(P=>P.el==S);return B!=null?B.CL+B.GL+B.PL:0}function Oe(S){var B=Re.find(P=>P.el==S);return B!=null?{UrbanAg:B.UrbanAg,SubUrbanAg:B.SubUrbanAg}:{UrbanAg:0,SubUrbanAg:0}}let Ee,Be=32,on=!0,mt=!1;async function Et(){var S=24,B=3,P=Be,K=S-B;return n(51,Ee=de.map((ge,Le)=>({...ge,urban:ge.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.TDD*H.NW,suburban:ge.totalareasqkm*H.SubUrban.Ra*H.SubUrban.Rb*H.TDD*H.NW,urbandB_BS:10*Math.log10(ge.totalareasqkm*H.uScale),suburbandB_BS:10*Math.log10(ge.totalareasqkm*H.suScale),urbandB:10*Math.log10(ge.totalareasqkm*H.uScale)+K+(on?P:mt?ge.medianRxGain:ge.meanRxGain),suburbandB:10*Math.log10(ge.totalareasqkm*H.suScale)+K+(on?P:mt?ge.medianRxGain:ge.meanRxGain),Factor:K}))),k("stats",Ee)}let Qe,Te;function ai(){var S=10*Math.log10(_t(Il(Ee,K=>isFinite(K.urbandB)),K=>Math.pow(10,(K.urbandB+Oe(K.x).UrbanAg-Me(K.x))/10))),B=10*Math.log10(_t(Il(Ee,K=>isFinite(K.suburbandB)),K=>Math.pow(10,(K.suburbandB+Oe(K.x).SubUrbanAg-Me(K.x))/10))),P=[{Env:"red",I:S,Name:"Urban"},{Env:"grey",I:B,Name:"SubUrban"}];n(15,Qe=P),n(20,l=k("Total I",Qe)),n(16,Te=i1(tc(Qe[0].I)+tc(Qe[1].I))),n(20,l=k("totalIdB",Te))}let bt,Ot,De=650;console.log("Current VITE Mode ","production"),console.log("Current Base URL ","/"),console.log("Current VITE API ",{}.VITE_API),console.log("Current VITE NAME ",{}.VITE_API_NAME),console.log("Current VITE NAME ",{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1});function Dt(){s=this.value,qm.set(s)}function kr(){De=Dr(this.value),n(17,De)}function Ja(){Be=Dr(this.value),n(12,Be)}function Qn(){on=this.checked,n(13,on)}function er(){mt=this.checked,n(14,mt)}function Za(){M=Dr(this.value),n(6,M)}function vo(){M=Dr(this.value),n(6,M)}function Qa(){q=Tl(this),n(8,q),n(26,w)}function tr(){z=Tl(this),n(9,z),n(27,J)}function nr(){W=Tl(this),n(10,W),n(28,Z)}function es(){D=this.checked,n(4,D)}function wo(){I=this.checked,n(5,I)}function ts(){u=this.checked,n(1,u)}function ns(S){hc[S?"unshift":"push"](()=>{v=S,n(3,v)})}function rs(){N=this.clientWidth,n(7,N)}function si(){c=this.checked,n(0,c),n(1,u)}function is(S){hc[S?"unshift":"push"](()=>{_=S,n(2,_),n(0,c),n(1,u)})}function ci(){N=this.clientWidth,n(7,N)}return e.$$.update=()=>{if(e.$$.dirty[0]&2&&n(0,c=!u),e.$$.dirty[0]&5&&_!=null&&n(2,_.style.display=c?"none":"block",_),e.$$.dirty[0]&12&&v!=null&&b.forEach((S,B)=>{S.render||(S.alwaysshow?v.append(S.rootcell):_.append(S.rootcell),S.render=!0,b.set(B,S))}),e.$$.dirty[0]&536871040|e.$$.dirty[1]&3&&f!=null&&(n(31,h=Yb().fitExtent([[50,50],[N*.8,450]],p)),Oa(h).pointRadius(1),k("projection",h)),e.$$.dirty[0]&1074266112&&(a!=null?d==null&&hP("fss/SatAntGain.csv").then(S=>{let B=Sp(S,Tp);B.then(P=>{n(30,d=P),n(38,ce=En(d.map(K=>qt([K.Longitude,K.Latitude],{Gain:K.AntennaGain}))))}),y("SatAntGain",B,!1)}):y("SatAntGain","UnAuthorrized/Sign",!1)),e.$$.dirty[1]&14&&p!=null){let S=lu(p),B=yO(S,1,{units:"degrees"}),P=B.features[0].geometry.type;B.features.forEach((K,ge)=>{let Le=[];P=="point"?Le=K.geometry.coordinates:Le=jP(K).geometry.coordinates,K.properties.center=Le,K.properties.inLand=j4(p,Le)}),n(33,E=B),n(34,A=E.features.filter(K=>K.properties.inLand)),n(20,l=k("mygrid",E)),n(20,l=k("selectGrid",A))}if(e.$$.dirty[0]&64|e.$$.dirty[1]&388&&ce!=null&&E!=null){let S=[],B=E.features[0].geometry.type;E.features.forEach(P=>{var K=[];B!="point"?K=P.properties.center:K=P.geometry.coordinates;let ge=fm(K[1],K[0],M),Le=kI(K[1],K[0],M),fe=aO(P)/1e6;if(P.properties.inLand){let Lt=KP(K,ce);S.push({az:Le,el:ge,areasqkm:fe,SatGain:Lt.properties.Gain})}}),n(39,ue=S),y("gridElangles",ue)}if(e.$$.dirty[1]&256&&n(35,C=ue!=null&&ue.map(S=>S.el)),e.$$.dirty[0]&16|e.$$.dirty[1]&48){n(36,L=cd(D?ze(C):[10,90],no));let S=gk({color:{label:"Elev Angles",domain:L.domain(),width:"100px",type:"sequential",interpolate:no}});n(20,l=k("Legend",S,!0))}if(e.$$.dirty[1]&2304&&ue!=null){let S=ze(ue,B=>B.el);n(43,Ae=jt(Math.floor(S[0]),Math.ceil(S[1]))),n(42,de=Ce()),n(20,l=k("binnedData",de))}if(e.$$.dirty[0]&64|e.$$.dirty[1]&4352&&ue!=null){let S=cn({x:{ticks:Ae},y:{nice:!0},marks:[hf(ue,{x:"el",y:"SatGain",fill:"SatGain",title:B=>`${B.el.toFixed(0)}@${B.SatGain.toFixed(1)}dB`}),hf(ue,ff({y:B=>10*Math.log10(Bo(B,P=>Math.pow(10,P/10))),title:B=>"Mean : "+(10*Math.log10(Bo(B,P=>Math.pow(10,P/10)))).toFixed(1)+"dB"},{x:"el",y:"SatGain",fill:"black",title:"SatGain",thresholds:Ae})),Ri(ue,ff({y:B=>ar(B),title:B=>"Median : "+ar(B).toFixed(1)+"dB"},{x:"el",y:"SatGain",stroke:"red",strokeWidth:2,title:"SatGain",thresholds:Ae}))],grid:!0,color:{legend:!0},caption:`"Figure 10 : SatGain, mean(o
      ), median (--) (vs el) @${M}E`});y("SatGain",S,!0)}if(e.$$.dirty[0]&96|e.$$.dirty[1]&303&&A!=null&&p!=null&&h!=null&&ue!=null){let S=cn({color:{legend:!0,width:400},height:300,projection:{type:"orthographic",rotate:[-M,0]},marks:[TI({}),SI(),ia(p,{fill:"lightgrey",fillOpacity:.1,stroke:"lightgreen"}),ia(E,{strokeOpacity:.3,fillOpacity:.6,fill:"none"}),ia(A,{fill:(B,P)=>{if(I)return ue[P].SatGain;{let K=B.properties.center,ge=fm(K[1],K[0],M);return L(ge)}}}),Oh([M],{x:M,y:0,fontSize:"2em",fill:"red",text:B=>B+"° E"})],caption:`Figure 1: View of Globe from Satellite ${M}`});n(37,R=S)}if(e.$$.dirty[0]&8&&v!=null&&k("offaxis",30),e.$$.dirty[0]&128&&n(55,r=N>1025?N*.5-10:N),e.$$.dirty[0]&256&&k("currentEnv",q,!1),e.$$.dirty[1]&64&&y("Globe View",R,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16777504&&ue!=null){let S=hf(ue,{y:"areasqkm",x:"el",fill:B=>L(B.el)}).plot({grid:!0,width:r,x:{nice:!0},y:{tickFormat:"~s"},color:{legend:!0},caption:`Figure 2: Grid Area vs El Angles @${M}E`});n(40,Pe=S)}if(e.$$.dirty[1]&512&&y("figure1",Pe,!0),e.$$.dirty[0]&1536|e.$$.dirty[1]&1024&&z!=null&&(n(41,H={Urban:{Ra:w[0].Ra[z.val]/100,Rb:w[0].Rb[W.val]/100,BSdensity:w[0].BSDensity},SubUrban:{Ra:w[1].Ra[z.val]/100,Rb:w[1].Rb[W.val]/100,BSdensity:w[1].BSDensity},NW:.2,TDD:.75,uScale:w[0].BSDensity*w[0].Ra[z.val]*w[0].Rb[W.val]/1e4*.2*.75,suScale:w[1].BSDensity*w[1].Ra[z.val]*w[1].Rb[W.val]/1e4*.2*.75}),k("factor",H)),e.$$.dirty[0]&1073741824&&d!=null&&n(44,F=cd(ze(d,S=>S.AntennaGain),ah).nice()),e.$$.dirty[0]&3904|e.$$.dirty[1]&16903200&&de!=null&&(n(45,ne=_t(de,S=>S.totalareasqkm)*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity),n(46,O=_t(de,S=>S.totalareasqkm)*H.SubUrban.Ra*H.SubUrban.Rb*H.SubUrban.BSdensity),n(11,Y=ne+O),n(47,ee=cn({marks:[Mi(de,{y:S=>S.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity,title:S=>(S.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:S=>L(S.x)}),Mi(de,{y:S=>S.totalareasqkm*H.SubUrban.Ra*H.SubUrban.Rb*H.SubUrban.BSdensity,title:S=>(S.totalareasqkm*H.SubUrban.Ra*H.SubUrban.Rb*H.SubUrban.BSdensity).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:S=>L(S.x)}),Ln(de,{y:S=>S.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity,title:S=>S.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity,text:S=>ht("2.2~s")(S.totalareasqkm*H.Urban.Ra*H.Urban.Rb*H.Urban.BSdensity),rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:S=>F(S.maxRxGain)}),ki(de,{y:S=>S.totalareasqkm*H.uScale,title:S=>"Urban Active :"+(S.totalareasqkm*H.uScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",stroke:"red"}),ki(de,{y:S=>S.totalareasqkm*H.suScale,title:S=>"SubUrban Active :"+(S.totalareasqkm*H.suScale).toFixed(0),rotate:-80,textAnchor:"start",x:"x",strokeWidth:2,stroke:"grey"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:S=>Math.floor(S)},y:{nice:!0,tickRotate:-40,label:"BS/sector count (Ra*Rb*Density)"},width:r,caption:`Figure 5 : Satellite${M} | Total ${ht("2.2~s")(Y)} Active :${ht("2.2~s")(Y*H.TDD*H.NW)} | Ra${z.val+1}(${H.Urban.Ra*100}%),Rb${W.val+1}
    (${H.Urban.Rb*100}%)`})),n(20,l=k("allplot",ee,!0)),n(22,ye=Y*H.TDD*H.NW)),e.$$.dirty[0]&1792|e.$$.dirty[1]&65536&&ve(),e.$$.dirty[1]&2048&&de!=null&&n(50,Ze=ze(de,S=>S.x)),e.$$.dirty[0]&26112|e.$$.dirty[1]&2048&&de!=null&&n(20,l=Et()),e.$$.dirty[0]&98304&&Qe!=null&&(console.log("totalIdB",Te),n(16,Te=i1(tc(Qe[0].I)+tc(Qe[1].I))),n(20,l=k("totalIdB",Te))),e.$$.dirty[1]&1310720&&Ee!=null&&Re!=null&&ai(),e.$$.dirty[0]&4160|e.$$.dirty[1]&2048&&de!=null&&n(52,bt=cn({grid:!0,y:{nice:!0},x:{nice:!0},caption:`Figure 10 : Satellite Rx Gains vs El @ ${M}`,marks:[Uo(de,{y:"meanRxGain",x:"x",clip:!0}),Ri([Be],{stroke:"red"})]})),e.$$.dirty[1]&2097152&&y("Sat RxGains",bt,!0),e.$$.dirty[0]&64|e.$$.dirty[1]&16&&n(54,i=cn({grid:!0,height:400,caption:`Figure 8 : Distribution of Elevations towards ${M}E`,x:{nice:!0,label:"elv"},y:{nice:!0,label:"CDF"},marks:[Iw(),Uo(C,ff({y:"proportion"},{x:S=>S,cumulative:!0})),Ri([0])]})),e.$$.dirty[1]&8388608&&n(20,l=k("Elv. Distribution",i,!0)),e.$$.dirty[0]&34624|e.$$.dirty[1]&1969184&&Re!=null&&Ee!=null&&de!=null&&(n(48,Je=cn({marks:[Uo(Re,{marker:"dot",y:S=>-S.CL-S.GL-S.PL,title:S=>"Clutter+Gas+PgLoss : "+(-S.CL-S.GL-S.PL).toFixed(1),x:S=>+S.el,strokeWidth:2}),ki(Ee,{marker:"dot",y:S=>S.suburbandB,title:S=>"SubU #Factor : "+S.suburbandB.toFixed(1),x:"x",stroke:"grey",fill:S=>L(S.x)}),ki(Ee,{marker:"dot",y:S=>S.urbandB,title:S=>"Urban #Factor : "+S.urbandB.toFixed(1),x:"x",strokeWidth:2,stroke:"red"}),Ln(Ee,{y:S=>S.suburbandB,x:"x",text:S=>S.suburbandB.toFixed(0),color:"grey",dy:15}),Ln(Ee,{y:S=>S.urbandB,x:"x",text:S=>S.urbandB.toFixed(0),color:"red",dy:-15}),Mi(Ee,{marker:"dot",y:S=>S.suburbandB+Oe(S.x).SubUrbanAg-Me(S.x),title:S=>"subUrban : I = "+(S.suburbandB+Oe(S.x).SubUrbanAg-Me(S.x)).toFixed(1),x:"x",fill:S=>L(S.x)}),ki(Ee,{marker:"dot",y:S=>S.urbandB+Oe(S.x).UrbanAg-Me(S.x),title:S=>"Urban : I = "+(S.urbandB+Oe(S.x).UrbanAg-Me(S.x)).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Ri(Qe,{stroke:S=>S.Env,y:S=>S.I,strokeWidth:3,strokeDasharray:[5,5],title:S=>`${S.Name} Mean I : ${S.I.toFixed(1)}`}),Ln(Qe,{y:S=>S.I,x:Ze[1],dy:-5,fontSize:12,fontWeight:"bold",textAnchor:"end",fill:"Env",text:S=>S.Name+` ${S.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:jt(Ze[0],Ze[1]+1),tickFormat:S=>Math.floor(S)},color:{legend:!0,type:"categorical"},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`Figure 6: Agg.Interference @${M}E | AggFactor, Interference@el`})),n(20,l=y("p5",Je,!0))),e.$$.dirty[0]&131072&&n(18,o=10*Math.log10(138e-25*De)+60+30),e.$$.dirty[0]&294976|e.$$.dirty[1]&6029344&&Ee!=null&Re!=null){let S=Il(Re,P=>P.el>Ze[0]&&P.el<Ze[1]),B=ar(S,P=>P.UrbanAg);ar(S,P=>P.SubUrbanAg),n(53,Ot=cn({marks:[Mi(Ee,{marker:"dot",y:P=>P.suburbandB+Oe(P.x).SubUrbanAg-Me(P.x)-o,title:P=>"SubU I/N : "+(P.suburbandB+Oe(P.x).SubUrbanAg-Me(P.x)-o).toFixed(1),x:"x",fill:P=>L(P.x)}),ki(Ee,{marker:"dot",y:P=>P.urbandB+Oe(P.x).UrbanAg-Me(P.x)-o,title:P=>"Urban I/N : "+(P.urbandB+Oe(P.x).UrbanAg-Me(P.x)-o).toFixed(1),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Ln(Ee,{marker:"dot",y:P=>P.suburbandB+Oe(P.x).SubUrbanAg-Me(P.x)-o,text:P=>(P.suburbandB+Oe(P.x).SubUrbanAg-Me(P.x)-o).toFixed(0),dy:-5,x:"x"}),Uo(Re,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",title:P=>`Urban - Antenna gain => FSS ${P.UrbanAg}`}),Uo(Re,{x:"el",y:"SubUrbanAg",marker:"dot",stroke:"grey",title:P=>`SubU - Antenna gain => FSS ${P.SubUrbanAg}`}),Ri(Qe,{y:P=>P.I-o,stroke:"Env",title:P=>P.Name+(P.I-o).toFixed(0)}),Ln([0],{x:Ze[0]+(Ze[1]-Ze[0])/2,y:B,textAnchor:"center",fill:"red",dy:-15,text:P=>"BS Ag=>FSS "})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:jt(Ze[0],Ze[1]+1),tickFormat:P=>Math.floor(P)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`Figure 7 : I/N distribution @${M} | Ant Gain, I/N`})),n(20,l=y("p6",Ot,!0))}e.$$.dirty[1]&4325376},[c,u,_,v,D,I,M,N,q,z,W,Y,Be,on,mt,Qe,Te,De,o,a,l,m,ye,we,s,g,w,J,Z,f,d,h,p,E,A,C,L,R,ce,ue,Pe,H,de,Ae,F,ne,O,ee,Je,Re,Ze,Ee,bt,Ot,i,r,Dt,kr,Ja,Qn,er,Za,vo,Qa,tr,nr,es,wo,ts,ns,rs,si,is,ci]}class CO extends g6{constructor(t){super(),p6(this,t,AO,kO,s1,{},null,[-1,-1,-1,-1])}}new CO({target:document.getElementById("app")});
