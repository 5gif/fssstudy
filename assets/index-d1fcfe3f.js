var lU=Object.defineProperty;var uU=(t,e,n)=>e in t?lU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var js=(t,e,n)=>(uU(t,typeof e!="symbol"?e+"":e,n),n),cU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Jv=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var K1=(t,e,n)=>(cU(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rn(){}function Qd(t,e){for(const n in e)t[n]=e[n];return t}function fU(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function nk(t){return t()}function D8(){return Object.create(null)}function sl(t){t.forEach(nk)}function x3(t){return typeof t=="function"}function eo(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hU(t){return Object.keys(t).length===0}function rk(t,...e){if(t==null)return Rn;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function dU(t){let e;return rk(t,n=>e=n)(),e}function Fc(t,e,n){t.$$.on_destroy.push(rk(e,n))}function Sy(t,e,n,r){if(t){const i=ik(t,e,n,r);return t[0](i)}}function ik(t,e,n,r){return t[1]&&r?Qd(n.ctx.slice(),t[1](r(e))):n.ctx}function Ty(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function ky(t,e,n,r,i,s){if(i){const a=ik(e,n,r,s);t.p(a,i)}}function Ey(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function pU(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function B8(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function S3(t){return t&&x3(t.destroy)?t.destroy:Rn}const sk=typeof window<"u";let z8=sk?()=>window.performance.now():()=>Date.now(),ak=sk?t=>requestAnimationFrame(t):Rn;const Vf=new Set;function ok(t){Vf.forEach(e=>{e.c(t)||(Vf.delete(e),e.f())}),Vf.size!==0&&ak(ok)}function mU(t){let e;return Vf.size===0&&ak(ok),{promise:new Promise(n=>{Vf.add(e={c:t,f:n})}),abort(){Vf.delete(e)}}}const gU=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function P(t,e){t.appendChild(e)}function vt(t,e,n){t.insertBefore(e,n||null)}function ht(t){t.parentNode&&t.parentNode.removeChild(t)}function Cc(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function Ce(t){return document.createTextNode(t)}function ve(){return Ce(" ")}function P_(){return Ce("")}function je(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _U(t){return function(e){e.target===this&&t.call(this,e)}}function H(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const vU=["width","height"];function sg(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&vU.indexOf(r)===-1?t[r]=e[r]:H(t,r,e[r])}function yU(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function Yt(t){return t===""?null:+t}function bU(t){return Array.from(t.childNodes)}function bt(t,e){e=""+e,t.data!==e&&(t.data=e)}function dt(t,e){t.value=e??""}function $i(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Dl(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ed(t){const e=t.querySelector(":checked");return e&&e.__value}let X1;function wU(){if(X1===void 0){X1=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{X1=!0}}return X1}function ag(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=Y("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=wU();let s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=je(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=je(r.contentWindow,"resize",e),e()}),P(t,r),()=>{(i||s&&r.contentWindow)&&s(),ht(r)}}let ep;function Lu(t){ep=t}function lk(){if(!ep)throw new Error("Function called outside component initialization");return ep}function Zf(t){lk().$$.on_mount.push(t)}const Ff=[],Lt=[];let Yf=[];const My=[],xU=Promise.resolve();let Cy=!1;function SU(){Cy||(Cy=!0,xU.then(T3))}function wo(t){Yf.push(t)}function Ln(t){My.push(t)}const Qv=new Set;let Af=0;function T3(){if(Af!==0)return;const t=ep;do{try{for(;Af<Ff.length;){const e=Ff[Af];Af++,Lu(e),TU(e.$$)}}catch(e){throw Ff.length=0,Af=0,e}for(Lu(null),Ff.length=0,Af=0;Lt.length;)Lt.pop()();for(let e=0;e<Yf.length;e+=1){const n=Yf[e];Qv.has(n)||(Qv.add(n),n())}Yf.length=0}while(Ff.length);for(;My.length;)My.pop()();Cy=!1,Qv.clear(),Lu(t)}function TU(t){if(t.fragment!==null){t.update(),sl(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wo)}}function kU(t){const e=[],n=[];Yf.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Yf=e}const Fm=new Set;let N0;function EU(){N0={r:0,c:[],p:N0}}function MU(){N0.r||sl(N0.c),N0=N0.p}function Js(t,e){t&&t.i&&(Fm.delete(t),t.i(e))}function Ra(t,e,n,r){if(t&&t.o){if(Fm.has(t))return;Fm.add(t),N0.c.push(()=>{Fm.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function F8(t,e){const n=e.token={};function r(i,s,a,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;a!==void 0&&(c=c.slice(),c[a]=l);const f=i&&(e.current=i)(c);let p=!1;e.block&&(e.blocks?e.blocks.forEach((m,g)=>{g!==s&&m&&(EU(),Ra(m,1,1,()=>{e.blocks[g]===m&&(e.blocks[g]=null)}),MU())}):e.block.d(1),f.c(),Js(f,1),f.m(e.mount(),e.anchor),p=!0),e.block=f,e.blocks&&(e.blocks[s]=f),p&&T3()}if(fU(t)){const i=lk();if(t.then(s=>{Lu(i),r(e.then,1,e.value,s),Lu(null)},s=>{if(Lu(i),r(e.catch,2,e.error,s),Lu(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function CU(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function uk(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],l=e[s];if(l){for(const c in a)c in l||(r[c]=1);for(const c in l)i[c]||(n[c]=l[c],i[c]=1);t[s]=l}else for(const c in a)i[c]=1}for(const a in r)a in n||(n[a]=void 0);return n}function On(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Bl(t){t&&t.c()}function $o(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||wo(()=>{const a=t.$$.on_mount.map(nk).filter(x3);t.$$.on_destroy?t.$$.on_destroy.push(...a):sl(a),t.$$.on_mount=[]}),s.forEach(wo)}function Vo(t,e){const n=t.$$;n.fragment!==null&&(kU(n.after_update),sl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function AU(t,e){t.$$.dirty[0]===-1&&(Ff.push(t),SU(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nc(t,e,n,r,i,s,a,l=[-1]){const c=ep;Lu(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Rn,not_equal:i,bound:D8(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:D8(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};a&&a(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(m,g,...y)=>{const w=y.length?y[0]:g;return f.ctx&&i(f.ctx[m],f.ctx[m]=w)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](w),p&&AU(t,m)),g}):[],f.update(),p=!0,sl(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const m=bU(e.target);f.fragment&&f.fragment.l(m),m.forEach(ht)}else f.fragment&&f.fragment.c();e.intro&&Js(t.$$.fragment),$o(t,e.target,e.anchor,e.customElement),T3()}Lu(c)}class rc{$destroy(){Vo(this,1),this.$destroy=Rn}$on(e,n){if(!x3(n))return Rn;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!hU(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wp(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tp(t){let e,n,r;t.length!==2?(e=Oa,n=(l,c)=>Oa(t(l),c),r=(l,c)=>t(l)-c):(e=t===Oa||t===Wp?t:IU,n=t,r=t);function i(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<0?f=m+1:p=m}while(f<p)}return f}function s(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<=0?f=m+1:p=m}while(f<p)}return f}function a(l,c,f=0,p=l.length){const m=i(l,c,f,p-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function IU(){return 0}function ck(t){return t===null?NaN:+t}function*RU(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const PU=tp(Oa),NU=PU.right;tp(ck).center;const N_=NU;function LU(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function OU(t){return t.length|0}function DU(t){return!(t>0)}function BU(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function zU(t){return e=>t(...e)}function FU(...t){const e=typeof t[t.length-1]=="function"&&zU(t.pop());t=t.map(BU);const n=t.map(OU),r=t.length-1,i=new Array(r+1).fill(0),s=[];if(r<0||n.some(DU))return s;for(;;){s.push(i.map((l,c)=>t[c][l]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?s.map(e):s;i[a--]=0}}}function UU(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function fk(t,e){let n=0,r,i=0,s=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let l of t)(l=e(l,++a,t))!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,s+=r*(l-i))}if(n>1)return s/(n-1)}function qU(t,e){const n=fk(t,e);return n&&Math.sqrt(n)}function ia(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class $c{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=e+s,l=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);l&&(n[r++]=l),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class Z0 extends Map{constructor(e,n=pk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ay(this,e))}has(e){return super.has(Ay(this,e))}set(e,n){return super.set(hk(this,e),n)}delete(e){return super.delete(dk(this,e))}}class k3 extends Set{constructor(e,n=pk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Ay(this,e))}add(e){return super.add(hk(this,e))}delete(e){return super.delete(dk(this,e))}}function Ay({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dk({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pk(t){return t!==null&&typeof t=="object"?t.valueOf():t}function og(t){return t}function E3(t,...e){return M3(t,og,og,e)}function zd(t,e,...n){return M3(t,og,e,n)}function HU(t,e,...n){return M3(t,Array.from,e,n)}function M3(t,e,n,r){return function i(s,a){if(a>=r.length)return n(s);const l=new Z0,c=r[a++];let f=-1;for(const p of s){const m=c(p,++f,s),g=l.get(m);g?g.push(p):l.set(m,[p])}for(const[p,m]of l)l.set(p,i(m,a));return e(l)}(t,0)}function WU(t,e){return Array.from(e,n=>t[n])}function lg(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,s)=>s);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,s)=>{for(const a of e){const l=ug(a[i],a[s]);if(l)return l}})):(n=t.map(n),r.sort((i,s)=>ug(n[i],n[s]))),WU(t,r)}return t.sort(mk(n))}function mk(t=Oa){if(t===Oa)return ug;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ug(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function C3(t,e,n){return(e.length!==2?lg(zd(t,e,n),([r,i],[s,a])=>Oa(i,a)||Oa(r,s)):lg(E3(t,n),([r,i],[s,a])=>e(i,a)||Oa(r,s))).map(([r])=>r)}var GU=Array.prototype,$U=GU.slice;function e4(t){return()=>t}const VU=Math.sqrt(50),ZU=Math.sqrt(10),YU=Math.sqrt(2);function cg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=VU?10:s>=ZU?5:s>=YU?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?cg(t,e,n*2):[l,c,f]}function np(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?cg(e,t,n):cg(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(s-f)/-a;else for(let f=0;f<l;++f)c[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function ih(t,e,n){return e=+e,t=+t,n=+n,cg(t,e,n)[2]}function Iy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ih(e,t,n):ih(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function jU(t,e,n){let r;for(;;){const i=ih(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function KU(t){return Math.max(1,Math.ceil(Math.log(LU(t))/Math.LN2)+1)}function gk(){var t=og,e=ia,n=KU;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,l,c,f=new Array(a);for(s=0;s<a;++s)f[s]=t(i[s],s,i);var p=e(f),m=p[0],g=p[1],y=n(f,m,g);if(!Array.isArray(y)){const A=g,C=+y;if(e===ia&&([m,g]=jU(m,g,C)),y=np(m,g,C),y[0]<=m&&(c=ih(m,g,C)),y[y.length-1]>=g)if(A>=g&&e===ia){const N=ih(m,g,C);isFinite(N)&&(N>0?g=(Math.floor(g/N)+1)*N:N<0&&(g=(Math.ceil(g*-N)+1)/-N))}else y.pop()}for(var w=y.length,S=0,I=w;y[S]<=m;)++S;for(;y[I-1]>g;)--I;(S||I<w)&&(y=y.slice(S,I),w=I-S);var R=new Array(w+1),k;for(s=0;s<=w;++s)k=R[s]=[],k.x0=s>0?y[s-1]:m,k.x1=s<w?y[s]:g;if(isFinite(c)){if(c>0)for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&R[Math.min(w,Math.floor((l-m)/c))].push(i[s]);else if(c<0){for(s=0;s<a;++s)if((l=f[s])!=null&&m<=l&&l<=g){const A=Math.floor((m-l)*c);R[Math.min(w,A+(y[A]<=l))].push(i[s])}}}else for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&R[N_(y,l,0,w)].push(i[s]);return R}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:e4(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:e4([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:e4(Array.isArray(i)?$U.call(i):i),r):n},r}function tl(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function XU(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function Kl(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function JU(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function _k(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ug:mk(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,p=Math.log(c),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+g)),w=Math.min(r,Math.floor(e+(c-f)*m/c+g));_k(t,e,y,w,i)}const s=t[e];let a=n,l=r;for(ud(t,n,e),i(t[r],s)>0&&ud(t,n,r);a<l;){for(ud(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?ud(t,n,l):(++l,ud(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function ud(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function A3(t,e=Oa){let n,r=!1;if(e.length===1){let i;for(const s of t){const a=e(s);(r?Oa(a,i)>0:Oa(a,a)===0)&&(n=s,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function rp(t,e,n){if(t=Float64Array.from(RU(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Kl(t);if(e>=1)return tl(t);var r,i=(r-1)*e,s=Math.floor(i),a=tl(_k(t,s).subarray(0,s+1)),l=Kl(t.subarray(s+1));return a+(l-a)*(i-s)}}function QU(t,e,n=ck){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function ip(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function fg(t,e){return rp(t,.5,e)}function*eq(t){for(const e of t)yield*e}function vk(t){return Array.from(eq(t))}function tq(t,e){const n=new Z0;if(e===void 0)for(let s of t)s!=null&&s>=s&&n.set(s,(n.get(s)||0)+1);else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[s,a]of n)a>i&&(i=a,r=s);return r}function nq(t,e=rq){const n=[];let r,i=!1;for(const s of t)i&&n.push(e(r,s)),r=s,i=!0;return n}function rq(t,e){return[t,e]}function ea(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function fr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function iq(t){if(!(s=t.length))return[];for(var e=-1,n=Kl(t,sq),r=new Array(n);++e<n;)for(var i=-1,s,a=r[e]=new Array(s);++i<s;)a[i]=t[i][e];return r}function sq(t){return t.length}function aq(){return iq(arguments)}function Um(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function oq(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function sp(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function lq(t){return t}var t4=1,n4=2,Ry=3,J1=4,U8=1e-6;function uq(t){return"translate("+t+",0)"}function cq(t){return"translate(0,"+t+")"}function fq(t){return e=>+t(e)}function hq(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function dq(){return!this.__axis}function pq(t,e){var n=[],r=null,i=null,s=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===t4||t===J1?-1:1,p=t===J1||t===n4?"x":"y",m=t===t4||t===Ry?uq:cq;function g(y){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),S=i??(e.tickFormat?e.tickFormat.apply(e,n):lq),I=Math.max(s,0)+l,R=e.range(),k=+R[0]+c,A=+R[R.length-1]+c,C=(e.bandwidth?hq:fq)(e.copy(),c),N=y.selection?y.selection():y,D=N.selectAll(".domain").data([null]),F=N.selectAll(".tick").data(w,e).order(),W=F.exit(),$=F.enter().append("g").attr("class","tick"),X=F.select("line"),V=F.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge($),X=X.merge($.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),V=V.merge($.append("text").attr("fill","currentColor").attr(p,f*I).attr("dy",t===t4?"0em":t===Ry?"0.71em":"0.32em")),y!==N&&(D=D.transition(y),F=F.transition(y),X=X.transition(y),V=V.transition(y),W=W.transition(y).attr("opacity",U8).attr("transform",function(te){return isFinite(te=C(te))?m(te+c):this.getAttribute("transform")}),$.attr("opacity",U8).attr("transform",function(te){var me=this.parentNode.__axis;return m((me&&isFinite(me=me(te))?me:C(te))+c)})),W.remove(),D.attr("d",t===J1||t===n4?a?"M"+f*a+","+k+"H"+c+"V"+A+"H"+f*a:"M"+c+","+k+"V"+A:a?"M"+k+","+f*a+"V"+c+"H"+A+"V"+f*a:"M"+k+","+c+"H"+A),F.attr("opacity",1).attr("transform",function(te){return m(C(te)+c)}),X.attr(p+"2",f*s),V.attr(p,f*I).text(S),N.filter(dq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===n4?"start":t===J1?"end":"middle"),N.each(function(){this.__axis=C})}return g.scale=function(y){return arguments.length?(e=y,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),g):n.slice()},g.tickValues=function(y){return arguments.length?(r=y==null?null:Array.from(y),g):r&&r.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(s=a=+y,g):s},g.tickSizeInner=function(y){return arguments.length?(s=+y,g):s},g.tickSizeOuter=function(y){return arguments.length?(a=+y,g):a},g.tickPadding=function(y){return arguments.length?(l=+y,g):l},g.offset=function(y){return arguments.length?(c=+y,g):c},g}function yk(t){return pq(Ry,t)}var mq={value:()=>{}};function bk(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qm(n)}function qm(t){this._=t}function gq(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qm.prototype=bk.prototype={constructor:qm,on:function(t,e){var n=this._,r=gq(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=_q(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=q8(n[i],t.name,e);else if(e==null)for(i in n)n[i]=q8(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function _q(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function q8(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mq,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Py="http://www.w3.org/1999/xhtml";const sh={svg:"http://www.w3.org/2000/svg",xhtml:Py,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function L_(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sh.hasOwnProperty(e)?{space:sh[e],local:t}:t}function vq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Py&&e.documentElement.namespaceURI===Py?e.createElement(t):e.createElementNS(n,t)}}function yq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gp(t){var e=L_(t);return(e.local?yq:vq)(e)}function bq(){}function I3(t){return t==null?bq:function(){return this.querySelector(t)}}function wq(t){typeof t!="function"&&(t=I3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),c,f,p=0;p<a;++p)(c=s[p])&&(f=t.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),l[p]=f);return new aa(r,this._parents)}function wk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xq(){return[]}function xk(t){return t==null?xq:function(){return this.querySelectorAll(t)}}function Sq(t){return function(){return wk(t.apply(this,arguments))}}function Tq(t){typeof t=="function"?t=Sq(t):t=xk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&(r.push(t.call(c,c.__data__,f,a)),i.push(c));return new aa(r,i)}function Sk(t){return function(){return this.matches(t)}}function Tk(t){return function(e){return e.matches(t)}}var kq=Array.prototype.find;function Eq(t){return function(){return kq.call(this.children,t)}}function Mq(){return this.firstElementChild}function Cq(t){return this.select(t==null?Mq:Eq(typeof t=="function"?t:Tk(t)))}var Aq=Array.prototype.filter;function Iq(){return Array.from(this.children)}function Rq(t){return function(){return Aq.call(this.children,t)}}function Pq(t){return this.selectAll(t==null?Iq:Rq(typeof t=="function"?t:Tk(t)))}function Nq(t){typeof t!="function"&&(t=Sk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new aa(r,this._parents)}function kk(t){return new Array(t.length)}function Lq(){return new aa(this._enter||this._groups.map(kk),this._parents)}function hg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}hg.prototype={constructor:hg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Oq(t){return function(){return t}}function Dq(t,e,n,r,i,s){for(var a=0,l,c=e.length,f=s.length;a<f;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new hg(t,s[a]);for(;a<c;++a)(l=e[a])&&(i[a]=l)}function Bq(t,e,n,r,i,s,a){var l,c,f=new Map,p=e.length,m=s.length,g=new Array(p),y;for(l=0;l<p;++l)(c=e[l])&&(g[l]=y=a.call(c,c.__data__,l,e)+"",f.has(y)?i[l]=c:f.set(y,c));for(l=0;l<m;++l)y=a.call(t,s[l],l,s)+"",(c=f.get(y))?(r[l]=c,c.__data__=s[l],f.delete(y)):n[l]=new hg(t,s[l]);for(l=0;l<p;++l)(c=e[l])&&f.get(g[l])===c&&(i[l]=c)}function zq(t){return t.__data__}function Fq(t,e){if(!arguments.length)return Array.from(this,zq);var n=e?Bq:Dq,r=this._parents,i=this._groups;typeof t!="function"&&(t=Oq(t));for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],g=m.length,y=Uq(t.call(p,p&&p.__data__,f,r)),w=y.length,S=l[f]=new Array(w),I=a[f]=new Array(w),R=c[f]=new Array(g);n(p,m,S,I,R,y,e);for(var k=0,A=0,C,N;k<w;++k)if(C=S[k]){for(k>=A&&(A=k+1);!(N=I[A])&&++A<w;);C._next=N||null}}return a=new aa(a,r),a._enter=l,a._exit=c,a}function Uq(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qq(){return new aa(this._exit||this._groups.map(kk),this._parents)}function Hq(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Wq(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),c=0;c<a;++c)for(var f=n[c],p=r[c],m=f.length,g=l[c]=new Array(m),y,w=0;w<m;++w)(y=f[w]||p[w])&&(g[w]=y);for(;c<i;++c)l[c]=n[c];return new aa(l,this._parents)}function Gq(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function $q(t){t||(t=Vq);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,c=i[s]=new Array(l),f,p=0;p<l;++p)(f=a[p])&&(c[p]=f);c.sort(e)}return new aa(i,this._parents).order()}function Vq(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zq(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yq(){return Array.from(this)}function jq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Kq(){let t=0;for(const e of this)++t;return t}function Xq(){return!this.node()}function Jq(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function Qq(t){return function(){this.removeAttribute(t)}}function eH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tH(t,e){return function(){this.setAttribute(t,e)}}function nH(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function iH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function sH(t,e){var n=L_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?eH:Qq:typeof e=="function"?n.local?iH:rH:n.local?nH:tH)(n,e))}function Ek(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function aH(t){return function(){this.style.removeProperty(t)}}function oH(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lH(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function uH(t,e,n){return arguments.length>1?this.each((e==null?aH:typeof e=="function"?lH:oH)(t,e,n??"")):ah(this.node(),t)}function ah(t,e){return t.style.getPropertyValue(e)||Ek(t).getComputedStyle(t,null).getPropertyValue(e)}function cH(t){return function(){delete this[t]}}function fH(t,e){return function(){this[t]=e}}function hH(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function dH(t,e){return arguments.length>1?this.each((e==null?cH:typeof e=="function"?hH:fH)(t,e)):this.node()[t]}function Mk(t){return t.trim().split(/^|\s+/)}function R3(t){return t.classList||new Ck(t)}function Ck(t){this._node=t,this._names=Mk(t.getAttribute("class")||"")}Ck.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ak(t,e){for(var n=R3(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ik(t,e){for(var n=R3(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function pH(t){return function(){Ak(this,t)}}function mH(t){return function(){Ik(this,t)}}function gH(t,e){return function(){(e.apply(this,arguments)?Ak:Ik)(this,t)}}function _H(t,e){var n=Mk(t+"");if(arguments.length<2){for(var r=R3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?gH:e?pH:mH)(n,e))}function vH(){this.textContent=""}function yH(t){return function(){this.textContent=t}}function bH(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wH(t){return arguments.length?this.each(t==null?vH:(typeof t=="function"?bH:yH)(t)):this.node().textContent}function xH(){this.innerHTML=""}function SH(t){return function(){this.innerHTML=t}}function TH(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kH(t){return arguments.length?this.each(t==null?xH:(typeof t=="function"?TH:SH)(t)):this.node().innerHTML}function EH(){this.nextSibling&&this.parentNode.appendChild(this)}function MH(){return this.each(EH)}function CH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AH(){return this.each(CH)}function IH(t){var e=typeof t=="function"?t:Gp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function RH(){return null}function PH(t,e){var n=typeof t=="function"?t:Gp(t),r=e==null?RH:typeof e=="function"?e:I3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function NH(){var t=this.parentNode;t&&t.removeChild(this)}function LH(){return this.each(NH)}function OH(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function DH(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function BH(t){return this.select(t?DH:OH)}function zH(t){return arguments.length?this.property("__data__",t):this.node().__data__}function FH(t){return function(e){t.call(this,e,this.__data__)}}function UH(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function qH(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function HH(t,e,n){return function(){var r=this.__on,i,s=FH(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function WH(t,e,n){var r=UH(t+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,f=l.length,p;c<f;++c)for(i=0,p=l[c];i<s;++i)if((a=r[i]).type===p.type&&a.name===p.name)return p.value}return}for(l=e?HH:qH,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Rk(t,e,n){var r=Ek(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function GH(t,e){return function(){return Rk(this,t,e)}}function $H(t,e){return function(){return Rk(this,t,e.apply(this,arguments))}}function VH(t,e){return this.each((typeof e=="function"?$H:GH)(t,e))}function*ZH(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var P3=[null];function aa(t,e){this._groups=t,this._parents=e}function $p(){return new aa([[document.documentElement]],P3)}function YH(){return this}aa.prototype=$p.prototype={constructor:aa,select:wq,selectAll:Tq,selectChild:Cq,selectChildren:Pq,filter:Nq,data:Fq,enter:Lq,exit:qq,join:Hq,merge:Wq,selection:YH,order:Gq,sort:$q,call:Zq,nodes:Yq,node:jq,size:Kq,empty:Xq,each:Jq,attr:sH,style:uH,property:dH,classed:_H,text:wH,html:kH,raise:MH,lower:AH,append:IH,insert:PH,remove:LH,clone:BH,datum:zH,on:WH,dispatch:VH,[Symbol.iterator]:ZH};function Fn(t){return typeof t=="string"?new aa([[document.querySelector(t)]],[document.documentElement]):new aa([[t]],P3)}function jH(t){return Fn(Gp(t).call(document.documentElement))}function KH(t){let e;for(;e=t.sourceEvent;)t=e;return t}function XH(t,e){if(t=KH(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function H8(t){return typeof t=="string"?new aa([document.querySelectorAll(t)],[document.documentElement]):new aa([wk(t)],P3)}function Rh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r0(){}var Y0=.7,oh=1/Y0,jf="\\s*([+-]?\\d+)\\s*",ap="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JH=/^#([0-9a-f]{3,8})$/,QH=new RegExp(`^rgb\\(${jf},${jf},${jf}\\)$`),eW=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),tW=new RegExp(`^rgba\\(${jf},${jf},${jf},${ap}\\)$`),nW=new RegExp(`^rgba\\(${$l},${$l},${$l},${ap}\\)$`),rW=new RegExp(`^hsl\\(${ap},${$l},${$l}\\)$`),iW=new RegExp(`^hsla\\(${ap},${$l},${$l},${ap}\\)$`),W8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rh(r0,Xl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G8,formatHex:G8,formatHex8:sW,formatHsl:aW,formatRgb:$8,toString:$8});function G8(){return this.rgb().formatHex()}function sW(){return this.rgb().formatHex8()}function aW(){return Pk(this).formatHsl()}function $8(){return this.rgb().formatRgb()}function Xl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?V8(e):n===3?new Yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Q1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Q1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QH.exec(t))?new Yi(e[1],e[2],e[3],1):(e=eW.exec(t))?new Yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tW.exec(t))?Q1(e[1],e[2],e[3],e[4]):(e=nW.exec(t))?Q1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rW.exec(t))?j8(e[1],e[2]/100,e[3]/100,1):(e=iW.exec(t))?j8(e[1],e[2]/100,e[3]/100,e[4]):W8.hasOwnProperty(t)?V8(W8[t]):t==="transparent"?new Yi(NaN,NaN,NaN,0):null}function V8(t){return new Yi(t>>16&255,t>>8&255,t&255,1)}function Q1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yi(t,e,n,r)}function N3(t){return t instanceof r0||(t=Xl(t)),t?(t=t.rgb(),new Yi(t.r,t.g,t.b,t.opacity)):new Yi}function Vc(t,e,n,r){return arguments.length===1?N3(t):new Yi(t,e,n,r??1)}function Yi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rh(Yi,Vc,Vp(r0,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Y0:Math.pow(Y0,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yi(U0(this.r),U0(this.g),U0(this.b),dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z8,formatHex:Z8,formatHex8:oW,formatRgb:Y8,toString:Y8}));function Z8(){return`#${L0(this.r)}${L0(this.g)}${L0(this.b)}`}function oW(){return`#${L0(this.r)}${L0(this.g)}${L0(this.b)}${L0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y8(){const t=dg(this.opacity);return`${t===1?"rgb(":"rgba("}${U0(this.r)}, ${U0(this.g)}, ${U0(this.b)}${t===1?")":`, ${t})`}`}function dg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function U0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function L0(t){return t=U0(t),(t<16?"0":"")+t.toString(16)}function j8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jo(t,e,n,r)}function Pk(t){if(t instanceof jo)return new jo(t.h,t.s,t.l,t.opacity);if(t instanceof r0||(t=Xl(t)),!t)return new jo;if(t instanceof jo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new jo(a,l,c,t.opacity)}function Ny(t,e,n,r){return arguments.length===1?Pk(t):new jo(t,e,n,r??1)}function jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rh(jo,Ny,Vp(r0,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new jo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Y0:Math.pow(Y0,t),new jo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yi(r4(t>=240?t-240:t+120,i,r),r4(t,i,r),r4(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jo(K8(this.h),em(this.s),em(this.l),dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dg(this.opacity);return`${t===1?"hsl(":"hsla("}${K8(this.h)}, ${em(this.s)*100}%, ${em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function K8(t){return t=(t||0)%360,t<0?t+360:t}function em(t){return Math.max(0,Math.min(1,t||0))}function r4(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Nk=Math.PI/180,Lk=180/Math.PI,pg=18,Ok=.96422,Dk=1,Bk=.82521,zk=4/29,Kf=6/29,Fk=3*Kf*Kf,lW=Kf*Kf*Kf;function Uk(t){if(t instanceof Vl)return new Vl(t.l,t.a,t.b,t.opacity);if(t instanceof Ou)return qk(t);t instanceof Yi||(t=N3(t));var e=o4(t.r),n=o4(t.g),r=o4(t.b),i=i4((.2225045*e+.7168786*n+.0606169*r)/Dk),s,a;return e===n&&n===r?s=a=i:(s=i4((.4360747*e+.3850649*n+.1430804*r)/Ok),a=i4((.0139322*e+.0971045*n+.7141733*r)/Bk)),new Vl(116*i-16,500*(s-i),200*(i-a),t.opacity)}function Ly(t,e,n,r){return arguments.length===1?Uk(t):new Vl(t,e,n,r??1)}function Vl(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Rh(Vl,Ly,Vp(r0,{brighter(t){return new Vl(this.l+pg*(t??1),this.a,this.b,this.opacity)},darker(t){return new Vl(this.l-pg*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Ok*s4(e),t=Dk*s4(t),n=Bk*s4(n),new Yi(a4(3.1338561*e-1.6168667*t-.4906146*n),a4(-.9787684*e+1.9161415*t+.033454*n),a4(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function i4(t){return t>lW?Math.pow(t,1/3):t/Fk+zk}function s4(t){return t>Kf?t*t*t:Fk*(t-zk)}function a4(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function o4(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function uW(t){if(t instanceof Ou)return new Ou(t.h,t.c,t.l,t.opacity);if(t instanceof Vl||(t=Uk(t)),t.a===0&&t.b===0)return new Ou(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Lk;return new Ou(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oy(t,e,n,r){return arguments.length===1?uW(t):new Ou(t,e,n,r??1)}function Ou(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function qk(t){if(isNaN(t.h))return new Vl(t.l,0,0,t.opacity);var e=t.h*Nk;return new Vl(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rh(Ou,Oy,Vp(r0,{brighter(t){return new Ou(this.h,this.c,this.l+pg*(t??1),this.opacity)},darker(t){return new Ou(this.h,this.c,this.l-pg*(t??1),this.opacity)},rgb(){return qk(this).rgb()}}));var Hk=-.14861,L3=1.78277,O3=-.29227,O_=-.90649,op=1.97294,X8=op*O_,J8=op*L3,Q8=L3*O3-O_*Hk;function cW(t){if(t instanceof q0)return new q0(t.h,t.s,t.l,t.opacity);t instanceof Yi||(t=N3(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Q8*r+X8*e-J8*n)/(Q8+X8-J8),s=r-i,a=(op*(n-i)-O3*s)/O_,l=Math.sqrt(a*a+s*s)/(op*i*(1-i)),c=l?Math.atan2(a,s)*Lk-120:NaN;return new q0(c<0?c+360:c,l,i,t.opacity)}function Jl(t,e,n,r){return arguments.length===1?cW(t):new q0(t,e,n,r??1)}function q0(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rh(q0,Jl,Vp(r0,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new q0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Y0:Math.pow(Y0,t),new q0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Nk,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Yi(255*(e+n*(Hk*r+L3*i)),255*(e+n*(O3*r+O_*i)),255*(e+n*(op*r)),this.opacity)}}));function fW(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}function hW(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,l=r<e-1?t[r+2]:2*s-i;return fW((n-r/e)*e,a,i,s,l)}}const D_=t=>()=>t;function Wk(t,e){return function(n){return t+n*e}}function dW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function D3(t,e){var n=e-t;return n?Wk(t,n>180||n<-180?n-360*Math.round(n/360):n):D_(isNaN(t)?e:t)}function pW(t){return(t=+t)==1?Ps:function(e,n){return n-e?dW(e,n,t):D_(isNaN(e)?n:e)}}function Ps(t,e){var n=e-t;return n?Wk(t,n):D_(isNaN(t)?e:t)}const j0=function t(e){var n=pW(e);function r(i,s){var a=n((i=Vc(i)).r,(s=Vc(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),f=Ps(i.opacity,s.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function mW(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),a,l;for(a=0;a<n;++a)l=Vc(e[a]),r[a]=l.r||0,i[a]=l.g||0,s[a]=l.b||0;return r=t(r),i=t(i),s=t(s),l.opacity=1,function(c){return l.r=r(c),l.g=i(c),l.b=s(c),l+""}}}var gW=mW(hW);function _W(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function vW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Zc(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function bW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l4=new RegExp(Dy.source,"g");function xW(t){return function(){return t}}function SW(t){return function(e){return t(e)+""}}function Gk(t,e){var n=Dy.lastIndex=l4.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Dy.exec(t))&&(i=l4.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Rs(r,i)})),n=l4.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?SW(c[0].x):xW(e):(e=c.length,function(f){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(f);return l.join("")})}function Zc(t,e){var n=typeof e,r;return e==null||n==="boolean"?D_(e):(n==="number"?Rs:n==="string"?(r=Xl(e))?(e=r,j0):Gk:e instanceof Xl?j0:e instanceof Date?bW:vW(e)?_W:Array.isArray(e)?yW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wW:Rs)(t,e)}function Zp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ew=180/Math.PI,By={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $k(t,e,n,r,i,s){var a,l,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*ew,skewX:Math.atan(c)*ew,scaleX:a,scaleY:l}}var tm;function TW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?By:$k(e.a,e.b,e.c,e.d,e.e,e.f)}function kW(t){return t==null||(tm||(tm=document.createElementNS("http://www.w3.org/2000/svg","g")),tm.setAttribute("transform",t),!(t=tm.transform.baseVal.consolidate()))?By:(t=t.matrix,$k(t.a,t.b,t.c,t.d,t.e,t.f))}function Vk(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,g,y,w){if(f!==m||p!==g){var S=y.push("translate(",null,e,null,n);w.push({i:S-4,x:Rs(f,m)},{i:S-2,x:Rs(p,g)})}else(m||g)&&y.push("translate("+m+e+g+n)}function a(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Rs(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function l(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Rs(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function c(f,p,m,g,y,w){if(f!==m||p!==g){var S=y.push(i(y)+"scale(",null,",",null,")");w.push({i:S-4,x:Rs(f,m)},{i:S-2,x:Rs(p,g)})}else(m!==1||g!==1)&&y.push(i(y)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=t(f),p=t(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,g),a(f.rotate,p.rotate,m,g),l(f.skewX,p.skewX,m,g),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(y){for(var w=-1,S=g.length,I;++w<S;)m[(I=g[w]).i]=I.x(y);return m.join("")}}}var EW=Vk(TW,"px, ","px)","deg)"),MW=Vk(kW,", ",")",")");function CW(t){return function(e,n){var r=t((e=Ny(e)).h,(n=Ny(n)).h),i=Ps(e.s,n.s),s=Ps(e.l,n.l),a=Ps(e.opacity,n.opacity);return function(l){return e.h=r(l),e.s=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const AW=CW(D3);function IW(t,e){var n=Ps((t=Ly(t)).l,(e=Ly(e)).l),r=Ps(t.a,e.a),i=Ps(t.b,e.b),s=Ps(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=s(a),t+""}}function RW(t){return function(e,n){var r=t((e=Oy(e)).h,(n=Oy(n)).h),i=Ps(e.c,n.c),s=Ps(e.l,n.l),a=Ps(e.opacity,n.opacity);return function(l){return e.h=r(l),e.c=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const PW=RW(D3);function Zk(t){return function e(n){n=+n;function r(i,s){var a=t((i=Jl(i)).h,(s=Jl(s)).h),l=Ps(i.s,s.s),c=Ps(i.l,s.l),f=Ps(i.opacity,s.opacity);return function(p){return i.h=a(p),i.s=l(p),i.l=c(Math.pow(p,n)),i.opacity=f(p),i+""}}return r.gamma=e,r}(1)}Zk(D3);var B3=Zk(Ps);function B_(t,e){e===void 0&&(e=t,t=Zc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Da(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var lh=0,Md=0,cd=0,Yk=1e3,mg,Cd,gg=0,K0=0,z_=0,lp=typeof performance=="object"&&performance.now?performance:Date,jk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function z3(){return K0||(jk(NW),K0=lp.now()+z_)}function NW(){K0=0}function _g(){this._call=this._time=this._next=null}_g.prototype=Kk.prototype={constructor:_g,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?z3():+n)+(e==null?0:+e),!this._next&&Cd!==this&&(Cd?Cd._next=this:mg=this,Cd=this),this._call=t,this._time=n,zy()},stop:function(){this._call&&(this._call=null,this._time=1/0,zy())}};function Kk(t,e,n){var r=new _g;return r.restart(t,e,n),r}function LW(){z3(),++lh;for(var t=mg,e;t;)(e=K0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lh}function tw(){K0=(gg=lp.now())+z_,lh=Md=0;try{LW()}finally{lh=0,DW(),K0=0}}function OW(){var t=lp.now(),e=t-gg;e>Yk&&(z_-=e,gg=t)}function DW(){for(var t,e=mg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mg=n);Cd=t,zy(r)}function zy(t){if(!lh){Md&&(Md=clearTimeout(Md));var e=t-K0;e>24?(t<1/0&&(Md=setTimeout(tw,t-lp.now()-z_)),cd&&(cd=clearInterval(cd))):(cd||(gg=lp.now(),cd=setInterval(OW,Yk)),lh=1,jk(tw))}}function nw(t,e,n){var r=new _g;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var BW=bk("start","end","cancel","interrupt"),zW=[],Xk=0,rw=1,Fy=2,Hm=3,iw=4,Uy=5,Wm=6;function F_(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;FW(t,n,{name:e,index:r,group:i,on:BW,tween:zW,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Xk})}function F3(t,e){var n=al(t,e);if(n.state>Xk)throw new Error("too late; already scheduled");return n}function tu(t,e){var n=al(t,e);if(n.state>Hm)throw new Error("too late; already running");return n}function al(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function FW(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Kk(s,0,n.time);function s(f){n.state=rw,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,m,g,y;if(n.state!==rw)return c();for(p in r)if(y=r[p],y.name===n.name){if(y.state===Hm)return nw(a);y.state===iw?(y.state=Wm,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[p]):+p<e&&(y.state=Wm,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[p])}if(nw(function(){n.state===Hm&&(n.state=iw,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Fy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fy){for(n.state=Hm,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(y=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function l(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Uy,1),m=-1,g=i.length;++m<g;)i[m].call(t,p);n.state===Uy&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Wm,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function UW(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>Fy&&r.state<Uy,r.state=Wm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function qW(t){return this.each(function(){UW(this,t)})}function HW(t,e){var n,r;return function(){var i=tu(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function WW(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=tu(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===e){i[c]=l;break}c===f&&i.push(l)}s.tween=i}}function GW(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=al(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?HW:WW)(n,t,e))}function U3(t,e,n){var r=t._id;return t.each(function(){var i=tu(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return al(i,r).value[e]}}function Jk(t,e){var n;return(typeof e=="number"?Rs:e instanceof Xl?j0:(n=Xl(e))?(e=n,j0):Gk)(t,e)}function $W(t){return function(){this.removeAttribute(t)}}function VW(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ZW(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function YW(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function jW(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function KW(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function XW(t,e){var n=L_(t),r=n==="transform"?MW:Jk;return this.attrTween(t,typeof e=="function"?(n.local?KW:jW)(n,r,U3(this,"attr."+t,e)):e==null?(n.local?VW:$W)(n):(n.local?YW:ZW)(n,r,e))}function JW(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function QW(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function eG(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&QW(t,s)),n}return i._value=e,i}function tG(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&JW(t,s)),n}return i._value=e,i}function nG(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=L_(t);return this.tween(n,(r.local?eG:tG)(r,e))}function rG(t,e){return function(){F3(this,t).delay=+e.apply(this,arguments)}}function iG(t,e){return e=+e,function(){F3(this,t).delay=e}}function sG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rG:iG)(e,t)):al(this.node(),e).delay}function aG(t,e){return function(){tu(this,t).duration=+e.apply(this,arguments)}}function oG(t,e){return e=+e,function(){tu(this,t).duration=e}}function lG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?aG:oG)(e,t)):al(this.node(),e).duration}function uG(t,e){if(typeof e!="function")throw new Error;return function(){tu(this,t).ease=e}}function cG(t){var e=this._id;return arguments.length?this.each(uG(e,t)):al(this.node(),e).ease}function fG(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;tu(this,t).ease=n}}function hG(t){if(typeof t!="function")throw new Error;return this.each(fG(this._id,t))}function dG(t){typeof t!="function"&&(t=Sk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new Yu(r,this._parents,this._name,this._id)}function pG(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c=e[l],f=n[l],p=c.length,m=a[l]=new Array(p),g,y=0;y<p;++y)(g=c[y]||f[y])&&(m[y]=g);for(;l<r;++l)a[l]=e[l];return new Yu(a,this._parents,this._name,this._id)}function mG(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function gG(t,e,n){var r,i,s=mG(e)?F3:tu;return function(){var a=s(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function _G(t,e){var n=this._id;return arguments.length<2?al(this.node(),n).on.on(t):this.each(gG(n,t,e))}function vG(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function yG(){return this.on("end.remove",vG(this._id))}function bG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=I3(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],c=l.length,f=s[a]=new Array(c),p,m,g=0;g<c;++g)(p=l[g])&&(m=t.call(p,p.__data__,g,l))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,F_(f[g],e,n,g,f,al(p,n)));return new Yu(s,this._parents,e,n)}function wG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xk(t));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var c=r[l],f=c.length,p,m=0;m<f;++m)if(p=c[m]){for(var g=t.call(p,p.__data__,m,c),y,w=al(p,n),S=0,I=g.length;S<I;++S)(y=g[S])&&F_(y,e,n,S,g,w);s.push(g),a.push(p)}return new Yu(s,a,e,n)}var xG=$p.prototype.constructor;function SG(){return new xG(this._groups,this._parents)}function TG(t,e){var n,r,i;return function(){var s=ah(this,t),a=(this.style.removeProperty(t),ah(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Qk(t){return function(){this.style.removeProperty(t)}}function kG(t,e,n){var r,i=n+"",s;return function(){var a=ah(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function EG(t,e,n){var r,i,s;return function(){var a=ah(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),ah(this,t))),a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l))}}function MG(t,e){var n,r,i,s="style."+e,a="end."+s,l;return function(){var c=tu(this,t),f=c.on,p=c.value[s]==null?l||(l=Qk(e)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(a,i=p),c.on=r}}function CG(t,e,n){var r=(t+="")=="transform"?EW:Jk;return e==null?this.styleTween(t,TG(t,r)).on("end.style."+t,Qk(t)):typeof e=="function"?this.styleTween(t,EG(t,r,U3(this,"style."+t,e))).each(MG(this._id,t)):this.styleTween(t,kG(t,r,e),n).on("end.style."+t,null)}function AG(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function IG(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&AG(t,a,n)),r}return s._value=e,s}function RG(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,IG(t,e,n??""))}function PG(t){return function(){this.textContent=t}}function NG(t){return function(){var e=t(this);this.textContent=e??""}}function LG(t){return this.tween("text",typeof t=="function"?NG(U3(this,"text",t)):PG(t==null?"":t+""))}function OG(t){return function(e){this.textContent=t.call(this,e)}}function DG(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&OG(i)),e}return r._value=t,r}function BG(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,DG(t))}function zG(){for(var t=this._name,e=this._id,n=eE(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)if(c=a[f]){var p=al(c,e);F_(c,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Yu(r,this._parents,t,n)}function FG(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var f=tu(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),f.on=e}),i===0&&s()})}var UG=0;function Yu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function eE(){return++UG}var Tu=$p.prototype;Yu.prototype={constructor:Yu,select:bG,selectAll:wG,selectChild:Tu.selectChild,selectChildren:Tu.selectChildren,filter:dG,merge:pG,selection:SG,transition:zG,call:Tu.call,nodes:Tu.nodes,node:Tu.node,size:Tu.size,empty:Tu.empty,each:Tu.each,on:_G,attr:XW,attrTween:nG,style:CG,styleTween:RG,text:LG,textTween:BG,remove:yG,tween:GW,delay:sG,duration:lG,ease:cG,easeVarying:hG,end:FG,[Symbol.iterator]:Tu[Symbol.iterator]};function qG(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var HG={time:null,delay:0,duration:250,ease:qG};function WG(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function GG(t){var e,n;t instanceof Yu?(e=t._id,t=t._name):(e=eE(),(n=HG).time=z3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&F_(c,t,e,f,a,n||WG(c,e));return new Yu(r,this._parents,t,e)}$p.prototype.interrupt=qW;$p.prototype.transition=GG;const qy=Math.PI,Hy=2*qy,A0=1e-6,$G=Hy-A0;function tE(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tE;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let nE=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tE:VG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,p=a-e,m=l-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>A0)if(!(Math.abs(m*c-f*p)>A0)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,w=i-l,S=c*c+f*f,I=y*y+w*w,R=Math.sqrt(S),k=Math.sqrt(g),A=s*Math.tan((qy-Math.acos((S+g-I)/(2*R*k)))/2),C=A/k,N=A/R;Math.abs(C-1)>A0&&this._append`L${e+C*p},${n+C*m}`,this._append`A${s},${s},0,0,${+(m*y>p*w)},${this._x1=e+N*c},${this._y1=n+N*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,p=n+c,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>A0||Math.abs(this._y1-p)>A0)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%Hy+Hy),g>$G?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>A0&&this._append`A${r},${r},0,${+(g>=qy)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function O0(t=3){return new nE(+t)}var sw={},u4={},c4=34,fd=10,f4=13;function rE(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function ZG(t,e){var n=rE(t);return function(r,i){return e(n(r),i,t)}}function aw(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Aa(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function YG(t){return t<0?"-"+Aa(-t,6):t>9999?"+"+Aa(t,6):Aa(t,4)}function jG(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":YG(t.getUTCFullYear())+"-"+Aa(t.getUTCMonth()+1,2)+"-"+Aa(t.getUTCDate(),2)+(i?"T"+Aa(e,2)+":"+Aa(n,2)+":"+Aa(r,2)+"."+Aa(i,3)+"Z":r?"T"+Aa(e,2)+":"+Aa(n,2)+":"+Aa(r,2)+"Z":n||e?"T"+Aa(e,2)+":"+Aa(n,2)+"Z":"")}function iE(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(m,g){var y,w,S=i(m,function(I,R){if(y)return y(I,R-1);w=I,y=g?ZG(I,g):rE(I)});return S.columns=w||[],S}function i(m,g){var y=[],w=m.length,S=0,I=0,R,k=w<=0,A=!1;m.charCodeAt(w-1)===fd&&--w,m.charCodeAt(w-1)===f4&&--w;function C(){if(k)return u4;if(A)return A=!1,sw;var D,F=S,W;if(m.charCodeAt(F)===c4){for(;S++<w&&m.charCodeAt(S)!==c4||m.charCodeAt(++S)===c4;);return(D=S)>=w?k=!0:(W=m.charCodeAt(S++))===fd?A=!0:W===f4&&(A=!0,m.charCodeAt(S)===fd&&++S),m.slice(F+1,D-1).replace(/""/g,'"')}for(;S<w;){if((W=m.charCodeAt(D=S++))===fd)A=!0;else if(W===f4)A=!0,m.charCodeAt(S)===fd&&++S;else if(W!==n)continue;return m.slice(F,D)}return k=!0,m.slice(F,w)}for(;(R=C())!==u4;){for(var N=[];R!==sw&&R!==u4;)N.push(R),R=C();g&&(N=g(N,I++))==null||y.push(N)}return y}function s(m,g){return m.map(function(y){return g.map(function(w){return p(y[w])}).join(t)})}function a(m,g){return g==null&&(g=aw(m)),[g.map(p).join(t)].concat(s(m,g)).join(`
`)}function l(m,g){return g==null&&(g=aw(m)),s(m,g).join(`
`)}function c(m){return m.map(f).join(`
`)}function f(m){return m.map(p).join(t)}function p(m){return m==null?"":m instanceof Date?jG(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:r,parseRows:i,format:a,formatBody:l,formatRows:c,formatRow:f,formatValue:p}}var sE=iE(","),aE=sE.parse,KG=sE.parseRows,oE=iE("	"),XG=oE.parse,JG=oE.parseRows;function vg(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))QG&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const QG=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function e$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function t$(t,e){return fetch(t,e).then(e$)}function n$(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),t$(e,n).then(function(i){return t(i,r)})}}var lE=n$(aE);function r$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Gm(t,e){return fetch(t,e).then(r$)}function i$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function uh(t){return t=yg(Math.abs(t)),t?t[1]:NaN}function s$(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function a$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var o$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(t){if(!(e=o$.exec(t)))throw new Error("invalid format: "+t);var e;return new q3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}up.prototype=q3.prototype;function q3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}q3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uE;function u$(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(uE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yg(t,Math.max(0,e+s-1))[0]}function ow(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lw={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ow(t*100,e),r:ow,s:u$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uw(t){return t}var cw=Array.prototype.map,fw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c$(t){var e=t.grouping===void 0||t.thousands===void 0?uw:s$(cw.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?uw:a$(cw.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=up(m);var g=m.fill,y=m.align,w=m.sign,S=m.symbol,I=m.zero,R=m.width,k=m.comma,A=m.precision,C=m.trim,N=m.type;N==="n"?(k=!0,N="g"):lw[N]||(A===void 0&&(A=12),C=!0,N="g"),(I||g==="0"&&y==="=")&&(I=!0,g="0",y="=");var D=S==="$"?n:S==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",F=S==="$"?r:/[%p]/.test(N)?a:"",W=lw[N],$=/[defgprs%]/.test(N);A=A===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function X(V){var te=D,me=F,ue,ie,ge;if(N==="c")me=W(V)+me,V="";else{V=+V;var se=V<0||1/V<0;if(V=isNaN(V)?c:W(Math.abs(V),A),C&&(V=l$(V)),se&&+V==0&&w!=="+"&&(se=!1),te=(se?w==="("?w:l:w==="-"||w==="("?"":w)+te,me=(N==="s"?fw[8+uE/3]:"")+me+(se&&w==="("?")":""),$){for(ue=-1,ie=V.length;++ue<ie;)if(ge=V.charCodeAt(ue),48>ge||ge>57){me=(ge===46?i+V.slice(ue+1):V.slice(ue))+me,V=V.slice(0,ue);break}}}k&&!I&&(V=e(V,1/0));var fe=te.length+V.length+me.length,oe=fe<R?new Array(R-fe+1).join(g):"";switch(k&&I&&(V=e(oe+V,oe.length?R-me.length:1/0),oe=""),y){case"<":V=te+V+me+oe;break;case"=":V=te+oe+V+me;break;case"^":V=oe.slice(0,fe=oe.length>>1)+te+V+me+oe.slice(fe);break;default:V=oe+te+V+me;break}return s(V)}return X.toString=function(){return m+""},X}function p(m,g){var y=f((m=up(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(uh(g)/3)))*3,S=Math.pow(10,-w),I=fw[8+w/3];return function(R){return y(S*R)+I}}return{format:f,formatPrefix:p}}var nm,jn,cE;f$({thousands:",",grouping:[3],currency:["$",""]});function f$(t){return nm=c$(t),jn=nm.format,cE=nm.formatPrefix,nm}function h$(t){return Math.max(0,-uh(Math.abs(t)))}function d$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uh(e)/3)))*3-uh(Math.abs(t)))}function p$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,uh(e)-uh(t))+1}var Ot=1e-6,H3=1e-12,vn=Math.PI,Qr=vn/2,hw=vn/4,to=vn*2,cs=180/vn,Un=vn/180,Hn=Math.abs,Ph=Math.atan,Ql=Math.atan2,Jt=Math.cos,rm=Math.ceil,fE=Math.exp,bg=Math.log,h4=Math.pow,$t=Math.sin,xo=Math.sign||function(t){return t>0?1:t<0?-1:0},oa=Math.sqrt,W3=Math.tan;function hE(t){return t>1?0:t<-1?vn:Math.acos(t)}function Co(t){return t>1?Qr:t<-1?-Qr:Math.asin(t)}function Zi(){}function wg(t,e){t&&pw.hasOwnProperty(t.type)&&pw[t.type](t,e)}var dw={Feature:function(t,e){wg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)wg(n[r].geometry,e)}},pw={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Wy(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Wy(n[r],e,0)},Polygon:function(t,e){mw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mw(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)wg(n[r],e)}};function Wy(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function mw(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Wy(t[n],e,1);e.polygonEnd()}function Ac(t,e){t&&dw.hasOwnProperty(t.type)?dw[t.type](t,e):wg(t,e)}function Gy(t){return[Ql(t[1],t[0]),Co(t[2])]}function ch(t){var e=t[0],n=t[1],r=Jt(n);return[r*Jt(e),r*$t(e),$t(n)]}function im(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function d4(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function sm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $y(t){var e=oa(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function If(t){return function(){return t}}function Vy(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Zy(t,e){return Hn(t)>vn&&(t-=Math.round(t/to)*to),[t,e]}Zy.invert=Zy;function G3(t,e,n){return(t%=to)?e||n?Vy(_w(t),vw(e,n)):_w(t):e||n?vw(e,n):Zy}function gw(t){return function(e,n){return e+=t,Hn(e)>vn&&(e-=Math.round(e/to)*to),[e,n]}}function _w(t){var e=gw(t);return e.invert=gw(-t),e}function vw(t,e){var n=Jt(t),r=$t(t),i=Jt(e),s=$t(e);function a(l,c){var f=Jt(c),p=Jt(l)*f,m=$t(l)*f,g=$t(c),y=g*n+p*r;return[Ql(m*i-y*s,p*n-g*r),Co(y*i+m*s)]}return a.invert=function(l,c){var f=Jt(c),p=Jt(l)*f,m=$t(l)*f,g=$t(c),y=g*i-m*s;return[Ql(m*i+g*s,p*n+y*r),Co(y*n-p*r)]},a}function m$(t){t=G3(t[0]*Un,t[1]*Un,t.length>2?t[2]*Un:0);function e(n){return n=t(n[0]*Un,n[1]*Un),n[0]*=cs,n[1]*=cs,n}return e.invert=function(n){return n=t.invert(n[0]*Un,n[1]*Un),n[0]*=cs,n[1]*=cs,n},e}function dE(t,e,n,r,i,s){if(n){var a=Jt(e),l=$t(e),c=r*n;i==null?(i=e+r*to,s=e-c/2):(i=yw(a,i),s=yw(a,s),(r>0?i<s:i>s)&&(i+=r*to));for(var f,p=i;r>0?p>s:p<s;p-=c)f=Gy([a,-l*Jt(p),-l*$t(p)]),t.point(f[0],f[1])}}function yw(t,e){e=ch(e),e[0]-=t,$y(e);var n=hE(-e[1]);return((-e[2]<0?-n:n)+to-Ot)%to}function g$(){var t=If([0,0]),e=If(90),n=If(6),r,i,s={point:a};function a(c,f){r.push(c=i(c,f)),c[0]*=cs,c[1]*=cs}function l(){var c=t.apply(this,arguments),f=e.apply(this,arguments)*Un,p=n.apply(this,arguments)*Un;return r=[],i=G3(-c[0]*Un,-c[1]*Un,0).invert,dE(s,f,p,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return l.center=function(c){return arguments.length?(t=typeof c=="function"?c:If([+c[0],+c[1]]),l):t},l.radius=function(c){return arguments.length?(e=typeof c=="function"?c:If(+c),l):e},l.precision=function(c){return arguments.length?(n=typeof c=="function"?c:If(+c),l):n},l}function pE(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Zi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function $m(t,e){return Hn(t[0]-e[0])<Ot&&Hn(t[1]-e[1])<Ot}function am(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mE(t,e,n,r,i){var s=[],a=[],l,c;if(t.forEach(function(w){if(!((S=w.length-1)<=0)){var S,I=w[0],R=w[S],k;if($m(I,R)){if(!I[2]&&!R[2]){for(i.lineStart(),l=0;l<S;++l)i.point((I=w[l])[0],I[1]);i.lineEnd();return}R[0]+=2*Ot}s.push(k=new am(I,w,null,!0)),a.push(k.o=new am(I,null,k,!1)),s.push(k=new am(R,w,null,!1)),a.push(k.o=new am(R,null,k,!0))}}),!!s.length){for(a.sort(e),bw(s),bw(a),l=0,c=a.length;l<c;++l)a[l].e=n=!n;for(var f=s[0],p,m;;){for(var g=f,y=!0;g.v;)if((g=g.n)===f)return;p=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(y)for(l=0,c=p.length;l<c;++l)i.point((m=p[l])[0],m[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(y)for(p=g.p.z,l=p.length-1;l>=0;--l)i.point((m=p[l])[0],m[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,p=g.z,y=!y}while(!g.v);i.lineEnd()}}}function bw(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function p4(t){return Hn(t[0])<=vn?t[0]:xo(t[0])*((Hn(t[0])+vn)%to-vn)}function gE(t,e){var n=p4(e),r=e[1],i=$t(r),s=[$t(n),-Jt(n),0],a=0,l=0,c=new $c;i===1?r=Qr+Ot:i===-1&&(r=-Qr-Ot);for(var f=0,p=t.length;f<p;++f)if(g=(m=t[f]).length)for(var m,g,y=m[g-1],w=p4(y),S=y[1]/2+hw,I=$t(S),R=Jt(S),k=0;k<g;++k,w=C,I=D,R=F,y=A){var A=m[k],C=p4(A),N=A[1]/2+hw,D=$t(N),F=Jt(N),W=C-w,$=W>=0?1:-1,X=$*W,V=X>vn,te=I*D;if(c.add(Ql(te*$*$t(X),R*F+te*Jt(X))),a+=V?W+$*to:W,V^w>=n^C>=n){var me=xg(ch(y),ch(A));$y(me);var ue=xg(s,me);$y(ue);var ie=(V^W>=0?-1:1)*Co(ue[2]);(r>ie||r===ie&&(me[0]||me[1]))&&(l+=V^W>=0?1:-1)}}return(a<-Ot||a<Ot&&c<-H3)^l&1}function _E(t,e,n,r){return function(i){var s=e(i),a=pE(),l=e(a),c=!1,f,p,m,g={point:y,lineStart:S,lineEnd:I,polygonStart:function(){g.point=R,g.lineStart=k,g.lineEnd=A,p=[],f=[]},polygonEnd:function(){g.point=y,g.lineStart=S,g.lineEnd=I,p=vk(p);var C=gE(f,r);p.length?(c||(i.polygonStart(),c=!0),mE(p,v$,C,n,i)):C&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),p=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(C,N){t(C,N)&&i.point(C,N)}function w(C,N){s.point(C,N)}function S(){g.point=w,s.lineStart()}function I(){g.point=y,s.lineEnd()}function R(C,N){m.push([C,N]),l.point(C,N)}function k(){l.lineStart(),m=[]}function A(){R(m[0][0],m[0][1]),l.lineEnd();var C=l.clean(),N=a.result(),D,F=N.length,W,$,X;if(m.pop(),f.push(m),m=null,!!F){if(C&1){if($=N[0],(W=$.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),D=0;D<W;++D)i.point((X=$[D])[0],X[1]);i.lineEnd()}return}F>1&&C&2&&N.push(N.pop().concat(N.shift())),p.push(N.filter(_$))}}return g}}function _$(t){return t.length>1}function v$(t,e){return((t=t.x)[0]<0?t[1]-Qr-Ot:Qr-t[1])-((e=e.x)[0]<0?e[1]-Qr-Ot:Qr-e[1])}const ww=_E(function(){return!0},y$,w$,[-vn,-Qr]);function y$(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,a){var l=s>0?vn:-vn,c=Hn(s-e);Hn(c-vn)<Ot?(t.point(e,n=(n+a)/2>0?Qr:-Qr),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(s,n),i=0):r!==l&&c>=vn&&(Hn(e-r)<Ot&&(e-=r*Ot),Hn(s-l)<Ot&&(s-=l*Ot),n=b$(e,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),i=0),t.point(e=s,n=a),r=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function b$(t,e,n,r){var i,s,a=$t(t-n);return Hn(a)>Ot?Ph(($t(e)*(s=Jt(r))*$t(n)-$t(r)*(i=Jt(e))*$t(t))/(i*s*a)):(e+r)/2}function w$(t,e,n,r){var i;if(t==null)i=n*Qr,r.point(-vn,i),r.point(0,i),r.point(vn,i),r.point(vn,0),r.point(vn,-i),r.point(0,-i),r.point(-vn,-i),r.point(-vn,0),r.point(-vn,i);else if(Hn(t[0]-e[0])>Ot){var s=t[0]<e[0]?vn:-vn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function x$(t){var e=Jt(t),n=6*Un,r=e>0,i=Hn(e)>Ot;function s(p,m,g,y){dE(y,t,n,g,p,m)}function a(p,m){return Jt(p)*Jt(m)>e}function l(p){var m,g,y,w,S;return{lineStart:function(){w=y=!1,S=1},point:function(I,R){var k=[I,R],A,C=a(I,R),N=r?C?0:f(I,R):C?f(I+(I<0?vn:-vn),R):0;if(!m&&(w=y=C)&&p.lineStart(),C!==y&&(A=c(m,k),(!A||$m(m,A)||$m(k,A))&&(k[2]=1)),C!==y)S=0,C?(p.lineStart(),A=c(k,m),p.point(A[0],A[1])):(A=c(m,k),p.point(A[0],A[1],2),p.lineEnd()),m=A;else if(i&&m&&r^C){var D;!(N&g)&&(D=c(k,m,!0))&&(S=0,r?(p.lineStart(),p.point(D[0][0],D[0][1]),p.point(D[1][0],D[1][1]),p.lineEnd()):(p.point(D[1][0],D[1][1]),p.lineEnd(),p.lineStart(),p.point(D[0][0],D[0][1],3)))}C&&(!m||!$m(m,k))&&p.point(k[0],k[1]),m=k,y=C,g=N},lineEnd:function(){y&&p.lineEnd(),m=null},clean:function(){return S|(w&&y)<<1}}}function c(p,m,g){var y=ch(p),w=ch(m),S=[1,0,0],I=xg(y,w),R=im(I,I),k=I[0],A=R-k*k;if(!A)return!g&&p;var C=e*R/A,N=-e*k/A,D=xg(S,I),F=sm(S,C),W=sm(I,N);d4(F,W);var $=D,X=im(F,$),V=im($,$),te=X*X-V*(im(F,F)-1);if(!(te<0)){var me=oa(te),ue=sm($,(-X-me)/V);if(d4(ue,F),ue=Gy(ue),!g)return ue;var ie=p[0],ge=m[0],se=p[1],fe=m[1],oe;ge<ie&&(oe=ie,ie=ge,ge=oe);var Z=ge-ie,Q=Hn(Z-vn)<Ot,he=Q||Z<Ot;if(!Q&&fe<se&&(oe=se,se=fe,fe=oe),he?Q?se+fe>0^ue[1]<(Hn(ue[0]-ie)<Ot?se:fe):se<=ue[1]&&ue[1]<=fe:Z>vn^(ie<=ue[0]&&ue[0]<=ge)){var Ne=sm($,(-X+me)/V);return d4(Ne,F),[ue,Gy(Ne)]}}}function f(p,m){var g=r?t:vn-t,y=0;return p<-g?y|=1:p>g&&(y|=2),m<-g?y|=4:m>g&&(y|=8),y}return _E(a,l,s,r?[0,-t]:[-vn,t-vn])}function S$(t,e,n,r,i,s){var a=t[0],l=t[1],c=e[0],f=e[1],p=0,m=1,g=c-a,y=f-l,w;if(w=n-a,!(!g&&w>0)){if(w/=g,g<0){if(w<p)return;w<m&&(m=w)}else if(g>0){if(w>m)return;w>p&&(p=w)}if(w=i-a,!(!g&&w<0)){if(w/=g,g<0){if(w>m)return;w>p&&(p=w)}else if(g>0){if(w<p)return;w<m&&(m=w)}if(w=r-l,!(!y&&w>0)){if(w/=y,y<0){if(w<p)return;w<m&&(m=w)}else if(y>0){if(w>m)return;w>p&&(p=w)}if(w=s-l,!(!y&&w<0)){if(w/=y,y<0){if(w>m)return;w>p&&(p=w)}else if(y>0){if(w<p)return;w<m&&(m=w)}return p>0&&(t[0]=a+p*g,t[1]=l+p*y),m<1&&(e[0]=a+m*g,e[1]=l+m*y),!0}}}}}var Ad=1e9,om=-Ad;function vE(t,e,n,r){function i(f,p){return t<=f&&f<=n&&e<=p&&p<=r}function s(f,p,m,g){var y=0,w=0;if(f==null||(y=a(f,m))!==(w=a(p,m))||c(f,p)<0^m>0)do g.point(y===0||y===3?t:n,y>1?r:e);while((y=(y+m+4)%4)!==w);else g.point(p[0],p[1])}function a(f,p){return Hn(f[0]-t)<Ot?p>0?0:3:Hn(f[0]-n)<Ot?p>0?2:1:Hn(f[1]-e)<Ot?p>0?1:0:p>0?3:2}function l(f,p){return c(f.x,p.x)}function c(f,p){var m=a(f,1),g=a(p,1);return m!==g?m-g:m===0?p[1]-f[1]:m===1?f[0]-p[0]:m===2?f[1]-p[1]:p[0]-f[0]}return function(f){var p=f,m=pE(),g,y,w,S,I,R,k,A,C,N,D,F={point:W,lineStart:te,lineEnd:me,polygonStart:X,polygonEnd:V};function W(ie,ge){i(ie,ge)&&p.point(ie,ge)}function $(){for(var ie=0,ge=0,se=y.length;ge<se;++ge)for(var fe=y[ge],oe=1,Z=fe.length,Q=fe[0],he,Ne,Ue=Q[0],De=Q[1];oe<Z;++oe)he=Ue,Ne=De,Q=fe[oe],Ue=Q[0],De=Q[1],Ne<=r?De>r&&(Ue-he)*(r-Ne)>(De-Ne)*(t-he)&&++ie:De<=r&&(Ue-he)*(r-Ne)<(De-Ne)*(t-he)&&--ie;return ie}function X(){p=m,g=[],y=[],D=!0}function V(){var ie=$(),ge=D&&ie,se=(g=vk(g)).length;(ge||se)&&(f.polygonStart(),ge&&(f.lineStart(),s(null,null,1,f),f.lineEnd()),se&&mE(g,l,ie,s,f),f.polygonEnd()),p=f,g=y=w=null}function te(){F.point=ue,y&&y.push(w=[]),N=!0,C=!1,k=A=NaN}function me(){g&&(ue(S,I),R&&C&&m.rejoin(),g.push(m.result())),F.point=W,C&&p.lineEnd()}function ue(ie,ge){var se=i(ie,ge);if(y&&w.push([ie,ge]),N)S=ie,I=ge,R=se,N=!1,se&&(p.lineStart(),p.point(ie,ge));else if(se&&C)p.point(ie,ge);else{var fe=[k=Math.max(om,Math.min(Ad,k)),A=Math.max(om,Math.min(Ad,A))],oe=[ie=Math.max(om,Math.min(Ad,ie)),ge=Math.max(om,Math.min(Ad,ge))];S$(fe,oe,t,e,n,r)?(C||(p.lineStart(),p.point(fe[0],fe[1])),p.point(oe[0],oe[1]),se||p.lineEnd(),D=!1):se&&(p.lineStart(),p.point(ie,ge),D=!1)}k=ie,A=ge,C=se}return F}}var Yy,jy,Vm,Zm,fh={sphere:Zi,point:Zi,lineStart:T$,lineEnd:Zi,polygonStart:Zi,polygonEnd:Zi};function T$(){fh.point=E$,fh.lineEnd=k$}function k$(){fh.point=fh.lineEnd=Zi}function E$(t,e){t*=Un,e*=Un,jy=t,Vm=$t(e),Zm=Jt(e),fh.point=M$}function M$(t,e){t*=Un,e*=Un;var n=$t(e),r=Jt(e),i=Hn(t-jy),s=Jt(i),a=$t(i),l=r*a,c=Zm*n-Vm*r*s,f=Vm*n+Zm*r*s;Yy.add(Ql(oa(l*l+c*c),f)),jy=t,Vm=n,Zm=r}function C$(t){return Yy=new $c,Ac(t,fh),+Yy}var Ky=[null,null],A$={type:"LineString",coordinates:Ky};function Xy(t,e){return Ky[0]=t,Ky[1]=e,C$(A$)}var xw={Feature:function(t,e){return Sg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Sg(n[r].geometry,e))return!0;return!1}},Sw={Sphere:function(){return!0},Point:function(t,e){return Tw(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Tw(n[r],e))return!0;return!1},LineString:function(t,e){return kw(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(kw(n[r],e))return!0;return!1},Polygon:function(t,e){return Ew(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ew(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Sg(n[r],e))return!0;return!1}};function Sg(t,e){return t&&Sw.hasOwnProperty(t.type)?Sw[t.type](t,e):!1}function Tw(t,e){return Xy(t,e)===0}function kw(t,e){for(var n,r,i,s=0,a=t.length;s<a;s++){if(r=Xy(t[s],e),r===0||s>0&&(i=Xy(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<H3*i))return!0;n=r}return!1}function Ew(t,e){return!!gE(t.map(I$),yE(e))}function I$(t){return t=t.map(yE),t.pop(),t}function yE(t){return[t[0]*Un,t[1]*Un]}function k0(t,e){return(t&&xw.hasOwnProperty(t.type)?xw[t.type]:Sg)(t,e)}function Mw(t,e,n){var r=ea(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function Cw(t,e,n){var r=ea(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function bE(){var t,e,n,r,i,s,a,l,c=10,f=c,p=90,m=360,g,y,w,S,I=2.5;function R(){return{type:"MultiLineString",coordinates:k()}}function k(){return ea(rm(r/p)*p,n,p).map(w).concat(ea(rm(l/m)*m,a,m).map(S)).concat(ea(rm(e/c)*c,t,c).filter(function(A){return Hn(A%p)>Ot}).map(g)).concat(ea(rm(s/f)*f,i,f).filter(function(A){return Hn(A%m)>Ot}).map(y))}return R.lines=function(){return k().map(function(A){return{type:"LineString",coordinates:A}})},R.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(S(a).slice(1),w(n).reverse().slice(1),S(l).reverse().slice(1))]}},R.extent=function(A){return arguments.length?R.extentMajor(A).extentMinor(A):R.extentMinor()},R.extentMajor=function(A){return arguments.length?(r=+A[0][0],n=+A[1][0],l=+A[0][1],a=+A[1][1],r>n&&(A=r,r=n,n=A),l>a&&(A=l,l=a,a=A),R.precision(I)):[[r,l],[n,a]]},R.extentMinor=function(A){return arguments.length?(e=+A[0][0],t=+A[1][0],s=+A[0][1],i=+A[1][1],e>t&&(A=e,e=t,t=A),s>i&&(A=s,s=i,i=A),R.precision(I)):[[e,s],[t,i]]},R.step=function(A){return arguments.length?R.stepMajor(A).stepMinor(A):R.stepMinor()},R.stepMajor=function(A){return arguments.length?(p=+A[0],m=+A[1],R):[p,m]},R.stepMinor=function(A){return arguments.length?(c=+A[0],f=+A[1],R):[c,f]},R.precision=function(A){return arguments.length?(I=+A,g=Mw(s,i,90),y=Cw(e,t,I),w=Mw(l,a,90),S=Cw(r,n,I),R):I},R.extentMajor([[-180,-90+Ot],[180,90-Ot]]).extentMinor([[-180,-80-Ot],[180,80+Ot]])}function R$(){return bE()()}const Jy=t=>t;var m4=new $c,Qy=new $c,wE,xE,eb,tb,Ic={point:Zi,lineStart:Zi,lineEnd:Zi,polygonStart:function(){Ic.lineStart=P$,Ic.lineEnd=L$},polygonEnd:function(){Ic.lineStart=Ic.lineEnd=Ic.point=Zi,m4.add(Hn(Qy)),Qy=new $c},result:function(){var t=m4/2;return m4=new $c,t}};function P$(){Ic.point=N$}function N$(t,e){Ic.point=SE,wE=eb=t,xE=tb=e}function SE(t,e){Qy.add(tb*t-eb*e),eb=t,tb=e}function L$(){SE(wE,xE)}const Aw=Ic;var hh=1/0,Tg=hh,cp=-hh,kg=cp,O$={point:D$,lineStart:Zi,lineEnd:Zi,polygonStart:Zi,polygonEnd:Zi,result:function(){var t=[[hh,Tg],[cp,kg]];return cp=kg=-(Tg=hh=1/0),t}};function D$(t,e){t<hh&&(hh=t),t>cp&&(cp=t),e<Tg&&(Tg=e),e>kg&&(kg=e)}const Eg=O$;var nb=0,rb=0,Id=0,Mg=0,Cg=0,qf=0,ib=0,sb=0,Rd=0,TE,kE,Fl,Ul,Ko={point:X0,lineStart:Iw,lineEnd:Rw,polygonStart:function(){Ko.lineStart=F$,Ko.lineEnd=U$},polygonEnd:function(){Ko.point=X0,Ko.lineStart=Iw,Ko.lineEnd=Rw},result:function(){var t=Rd?[ib/Rd,sb/Rd]:qf?[Mg/qf,Cg/qf]:Id?[nb/Id,rb/Id]:[NaN,NaN];return nb=rb=Id=Mg=Cg=qf=ib=sb=Rd=0,t}};function X0(t,e){nb+=t,rb+=e,++Id}function Iw(){Ko.point=B$}function B$(t,e){Ko.point=z$,X0(Fl=t,Ul=e)}function z$(t,e){var n=t-Fl,r=e-Ul,i=oa(n*n+r*r);Mg+=i*(Fl+t)/2,Cg+=i*(Ul+e)/2,qf+=i,X0(Fl=t,Ul=e)}function Rw(){Ko.point=X0}function F$(){Ko.point=q$}function U$(){EE(TE,kE)}function q$(t,e){Ko.point=EE,X0(TE=Fl=t,kE=Ul=e)}function EE(t,e){var n=t-Fl,r=e-Ul,i=oa(n*n+r*r);Mg+=i*(Fl+t)/2,Cg+=i*(Ul+e)/2,qf+=i,i=Ul*t-Fl*e,ib+=i*(Fl+t),sb+=i*(Ul+e),Rd+=i*3,X0(Fl=t,Ul=e)}const Pw=Ko;function ME(t){this._context=t}ME.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,to);break}}},result:Zi};var ab=new $c,g4,CE,AE,Pd,Nd,Ag={point:Zi,lineStart:function(){Ag.point=H$},lineEnd:function(){g4&&IE(CE,AE),Ag.point=Zi},polygonStart:function(){g4=!0},polygonEnd:function(){g4=null},result:function(){var t=+ab;return ab=new $c,t}};function H$(t,e){Ag.point=IE,CE=Pd=t,AE=Nd=e}function IE(t,e){Pd-=t,Nd-=e,ab.add(oa(Pd*Pd+Nd*Nd)),Pd=t,Nd=e}const Nw=Ag;let Lw,Ig,Ow,Dw;class Bw{constructor(e){this._append=e==null?RE:W$(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Ow||this._append!==Ig){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ow=r,Ig=this._append,Dw=this._,this._=i}this._+=Dw;break}}}result(){const e=this._;return this._="",e.length?e:null}}function RE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function W$(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return RE;if(e!==Lw){const n=10**e;Lw=e,Ig=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return Ig}function dh(t,e){let n=3,r=4.5,i,s;function a(l){return l&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Ac(l,i(s))),s.result()}return a.area=function(l){return Ac(l,i(Aw)),Aw.result()},a.measure=function(l){return Ac(l,i(Nw)),Nw.result()},a.bounds=function(l){return Ac(l,i(Eg)),Eg.result()},a.centroid=function(l){return Ac(l,i(Pw)),Pw.result()},a.projection=function(l){return arguments.length?(i=l==null?(t=null,Jy):(t=l).stream,a):t},a.context=function(l){return arguments.length?(s=l==null?(e=null,new Bw(n)):new ME(e=l),typeof r!="function"&&s.pointRadius(r),a):e},a.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);n=c}return e===null&&(s=new Bw(n)),a},a.projection(t).digits(n).context(e)}function fp(t){return{stream:U_(t)}}function U_(t){return function(e){var n=new ob;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ob(){}ob.prototype={constructor:ob,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $3(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ac(n,t.stream(Eg)),e(Eg.result()),r!=null&&t.clipExtent(r),t}function V3(t,e,n){return $3(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(s-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([l,c])},n)}function PE(t,e,n){return V3(t,[[0,0],e],n)}function NE(t,e,n){return $3(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];t.scale(150*s).translate([a,l])},n)}function LE(t,e,n){return $3(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,l])},n)}var zw=16,G$=Jt(30*Un);function Fw(t,e){return+e?V$(t,e):$$(t)}function $$(t){return U_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function V$(t,e){function n(r,i,s,a,l,c,f,p,m,g,y,w,S,I){var R=f-r,k=p-i,A=R*R+k*k;if(A>4*e&&S--){var C=a+g,N=l+y,D=c+w,F=oa(C*C+N*N+D*D),W=Co(D/=F),$=Hn(Hn(D)-1)<Ot||Hn(s-m)<Ot?(s+m)/2:Ql(N,C),X=t($,W),V=X[0],te=X[1],me=V-r,ue=te-i,ie=k*me-R*ue;(ie*ie/A>e||Hn((R*me+k*ue)/A-.5)>.3||a*g+l*y+c*w<G$)&&(n(r,i,s,a,l,c,V,te,$,C/=F,N/=F,D,S,I),I.point(V,te),n(V,te,$,C,N,D,f,p,m,g,y,w,S,I))}}return function(r){var i,s,a,l,c,f,p,m,g,y,w,S,I={point:R,lineStart:k,lineEnd:C,polygonStart:function(){r.polygonStart(),I.lineStart=N},polygonEnd:function(){r.polygonEnd(),I.lineStart=k}};function R(W,$){W=t(W,$),r.point(W[0],W[1])}function k(){m=NaN,I.point=A,r.lineStart()}function A(W,$){var X=ch([W,$]),V=t(W,$);n(m,g,p,y,w,S,m=V[0],g=V[1],p=W,y=X[0],w=X[1],S=X[2],zw,r),r.point(m,g)}function C(){I.point=R,r.lineEnd()}function N(){k(),I.point=D,I.lineEnd=F}function D(W,$){A(i=W,$),s=m,a=g,l=y,c=w,f=S,I.point=A}function F(){n(m,g,p,y,w,S,s,a,i,l,c,f,zw,r),I.lineEnd=C,C()}return I}}var Z$=U_({point:function(t,e){this.stream.point(t*Un,e*Un)}});function Y$(t){return U_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function j$(t,e,n,r,i){function s(a,l){return a*=r,l*=i,[e+t*a,n-t*l]}return s.invert=function(a,l){return[(a-e)/t*r,(n-l)/t*i]},s}function Uw(t,e,n,r,i,s){if(!s)return j$(t,e,n,r,i);var a=Jt(s),l=$t(s),c=a*t,f=l*t,p=a/t,m=l/t,g=(l*n-a*e)/t,y=(l*e+a*n)/t;function w(S,I){return S*=r,I*=i,[c*S-f*I+e,n-f*S-c*I]}return w.invert=function(S,I){return[r*(p*S-m*I+g),i*(y-m*S-p*I)]},w}function i0(t){return OE(function(){return t})()}function OE(t){var e,n=150,r=480,i=250,s=0,a=0,l=0,c=0,f=0,p,m=0,g=1,y=1,w=null,S=ww,I=null,R,k,A,C=Jy,N=.5,D,F,W,$,X;function V(ie){return W(ie[0]*Un,ie[1]*Un)}function te(ie){return ie=W.invert(ie[0],ie[1]),ie&&[ie[0]*cs,ie[1]*cs]}V.stream=function(ie){return $&&X===ie?$:$=Z$(Y$(p)(S(D(C(X=ie)))))},V.preclip=function(ie){return arguments.length?(S=ie,w=void 0,ue()):S},V.postclip=function(ie){return arguments.length?(C=ie,I=R=k=A=null,ue()):C},V.clipAngle=function(ie){return arguments.length?(S=+ie?x$(w=ie*Un):(w=null,ww),ue()):w*cs},V.clipExtent=function(ie){return arguments.length?(C=ie==null?(I=R=k=A=null,Jy):vE(I=+ie[0][0],R=+ie[0][1],k=+ie[1][0],A=+ie[1][1]),ue()):I==null?null:[[I,R],[k,A]]},V.scale=function(ie){return arguments.length?(n=+ie,me()):n},V.translate=function(ie){return arguments.length?(r=+ie[0],i=+ie[1],me()):[r,i]},V.center=function(ie){return arguments.length?(s=ie[0]%360*Un,a=ie[1]%360*Un,me()):[s*cs,a*cs]},V.rotate=function(ie){return arguments.length?(l=ie[0]%360*Un,c=ie[1]%360*Un,f=ie.length>2?ie[2]%360*Un:0,me()):[l*cs,c*cs,f*cs]},V.angle=function(ie){return arguments.length?(m=ie%360*Un,me()):m*cs},V.reflectX=function(ie){return arguments.length?(g=ie?-1:1,me()):g<0},V.reflectY=function(ie){return arguments.length?(y=ie?-1:1,me()):y<0},V.precision=function(ie){return arguments.length?(D=Fw(F,N=ie*ie),ue()):oa(N)},V.fitExtent=function(ie,ge){return V3(V,ie,ge)},V.fitSize=function(ie,ge){return PE(V,ie,ge)},V.fitWidth=function(ie,ge){return NE(V,ie,ge)},V.fitHeight=function(ie,ge){return LE(V,ie,ge)};function me(){var ie=Uw(n,0,0,g,y,m).apply(null,e(s,a)),ge=Uw(n,r-ie[0],i-ie[1],g,y,m);return p=G3(l,c,f),F=Vy(e,ge),W=Vy(p,F),D=Fw(F,N),ue()}function ue(){return $=X=null,V}return function(){return e=t.apply(this,arguments),V.invert=e.invert&&te,me()}}function Z3(t){var e=0,n=vn/3,r=OE(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*Un,n=s[1]*Un):[e*cs,n*cs]},i}function K$(t){var e=Jt(t);function n(r,i){return[r*e,$t(i)/e]}return n.invert=function(r,i){return[r/e,Co(i*e)]},n}function X$(t,e){var n=$t(t),r=(n+$t(e))/2;if(Hn(r)<Ot)return K$(t);var i=1+n*(2*r-n),s=oa(i)/r;function a(l,c){var f=oa(i-2*r*$t(c))/r;return[f*$t(l*=r),s-f*Jt(l)]}return a.invert=function(l,c){var f=s-c,p=Ql(l,Hn(f))*xo(f);return f*r<0&&(p-=vn*xo(l)*xo(f)),[p/r,Co((i-(l*l+f*f)*r*r)/(2*r))]},a}function Rg(){return Z3(X$).scale(155.424).center([0,33.6442])}function DE(){return Rg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function J$(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Q$(){var t,e,n=DE(),r,i=Rg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=Rg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,f={point:function(g,y){c=[g,y]}};function p(g){var y=g[0],w=g[1];return c=null,r.point(y,w),c||(s.point(y,w),c)||(l.point(y,w),c)}p.invert=function(g){var y=n.scale(),w=n.translate(),S=(g[0]-w[0])/y,I=(g[1]-w[1])/y;return(I>=.12&&I<.234&&S>=-.425&&S<-.214?i:I>=.166&&I<.234&&S>=-.214&&S<-.115?a:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=J$([n.stream(e=g),i.stream(g),a.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),a.precision(g),m()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),a.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var y=n.scale(),w=+g[0],S=+g[1];return r=n.translate(g).clipExtent([[w-.455*y,S-.238*y],[w+.455*y,S+.238*y]]).stream(f),s=i.translate([w-.307*y,S+.201*y]).clipExtent([[w-.425*y+Ot,S+.12*y+Ot],[w-.214*y-Ot,S+.234*y-Ot]]).stream(f),l=a.translate([w-.205*y,S+.212*y]).clipExtent([[w-.214*y+Ot,S+.166*y+Ot],[w-.115*y-Ot,S+.234*y-Ot]]).stream(f),m()},p.fitExtent=function(g,y){return V3(p,g,y)},p.fitSize=function(g,y){return PE(p,g,y)},p.fitWidth=function(g,y){return NE(p,g,y)},p.fitHeight=function(g,y){return LE(p,g,y)};function m(){return t=e=null,p}return p.scale(1070)}function BE(t){return function(e,n){var r=Jt(e),i=Jt(n),s=t(r*i);return s===1/0?[2,0]:[s*i*$t(e),s*$t(n)]}}function Yp(t){return function(e,n){var r=oa(e*e+n*n),i=t(r),s=$t(i),a=Jt(i);return[Ql(e*s,r*a),Co(r&&n*s/r)]}}var zE=BE(function(t){return oa(2/(1+t))});zE.invert=Yp(function(t){return 2*Co(t/2)});function eV(){return i0(zE).scale(124.75).clipAngle(180-.001)}var FE=BE(function(t){return(t=hE(t))&&t/$t(t)});FE.invert=Yp(function(t){return t});function tV(){return i0(FE).scale(79.4188).clipAngle(180-.001)}function q_(t,e){return[t,bg(W3((Qr+e)/2))]}q_.invert=function(t,e){return[t,2*Ph(fE(e))-Qr]};function UE(){return qE(q_).scale(961/to)}function qE(t){var e=i0(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,a=null,l,c,f;e.scale=function(m){return arguments.length?(r(m),p()):r()},e.translate=function(m){return arguments.length?(i(m),p()):i()},e.center=function(m){return arguments.length?(n(m),p()):n()},e.clipExtent=function(m){return arguments.length?(m==null?a=l=c=f=null:(a=+m[0][0],l=+m[0][1],c=+m[1][0],f=+m[1][1]),p()):a==null?null:[[a,l],[c,f]]};function p(){var m=vn*r(),g=e(m$(e.rotate()).invert([0,0]));return s(a==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===q_?[[Math.max(g[0]-m,a),l],[Math.min(g[0]+m,c),f]]:[[a,Math.max(g[1]-m,l)],[c,Math.min(g[1]+m,f)]])}return p()}function lm(t){return W3((Qr+t)/2)}function nV(t,e){var n=Jt(t),r=t===e?$t(t):bg(n/Jt(e))/bg(lm(e)/lm(t)),i=n*h4(lm(t),r)/r;if(!r)return q_;function s(a,l){i>0?l<-Qr+Ot&&(l=-Qr+Ot):l>Qr-Ot&&(l=Qr-Ot);var c=i/h4(lm(l),r);return[c*$t(r*a),i-c*Jt(r*a)]}return s.invert=function(a,l){var c=i-l,f=xo(r)*oa(a*a+c*c),p=Ql(a,Hn(c))*xo(c);return c*r<0&&(p-=vn*xo(a)*xo(c)),[p/r,2*Ph(h4(i/f,1/r))-Qr]},s}function rV(){return Z3(nV).scale(109.5).parallels([30,30])}function Pg(t,e){return[t,e]}Pg.invert=Pg;function iV(){return i0(Pg).scale(152.63)}function sV(t,e){var n=Jt(t),r=t===e?$t(t):(n-Jt(e))/(e-t),i=n/r+t;if(Hn(r)<Ot)return Pg;function s(a,l){var c=i-l,f=r*a;return[c*$t(f),i-c*Jt(f)]}return s.invert=function(a,l){var c=i-l,f=Ql(a,Hn(c))*xo(c);return c*r<0&&(f-=vn*xo(a)*xo(c)),[f/r,i-xo(r)*oa(a*a+c*c)]},s}function aV(){return Z3(sV).scale(131.154).center([0,13.9389])}var Fd=1.340264,Ud=-.081106,qd=893e-6,Hd=.003796,Ng=oa(3)/2,oV=12;function HE(t,e){var n=Co(Ng*$t(e)),r=n*n,i=r*r*r;return[t*Jt(n)/(Ng*(Fd+3*Ud*r+i*(7*qd+9*Hd*r))),n*(Fd+Ud*r+i*(qd+Hd*r))]}HE.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,a,l,c;s<oV&&(l=n*(Fd+Ud*r+i*(qd+Hd*r))-e,c=Fd+3*Ud*r+i*(7*qd+9*Hd*r),n-=a=l/c,r=n*n,i=r*r*r,!(Hn(a)<H3));++s);return[Ng*t*(Fd+3*Ud*r+i*(7*qd+9*Hd*r))/Jt(n),Co($t(n)/Ng)]};function lV(){return i0(HE).scale(177.158)}function WE(t,e){var n=Jt(e),r=Jt(t)*n;return[n*$t(t)/r,$t(e)/r]}WE.invert=Yp(Ph);function uV(){return i0(WE).scale(144.049).clipAngle(60)}function GE(t,e){return[Jt(e)*$t(t),$t(e)]}GE.invert=Yp(Co);function cV(){return i0(GE).scale(249.5).clipAngle(90+Ot)}function $E(t,e){var n=Jt(e),r=1+Jt(t)*n;return[n*$t(t)/r,$t(e)/r]}$E.invert=Yp(function(t){return 2*Ph(t)});function fV(){return i0($E).scale(250).clipAngle(142)}function VE(t,e){return[bg(W3((Qr+e)/2)),-t]}VE.invert=function(t,e){return[-e,2*Ph(fE(t))-Qr]};function hV(){var t=qE(VE),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function nu(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function jp(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lb=Symbol("implicit");function hp(){var t=new Z0,e=[],n=[],r=lb;function i(s){let a=t.get(s);if(a===void 0){if(r!==lb)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Z0;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return hp(e,n).unknown(r)},nu.apply(i,arguments),i}function Kp(){var t=hp().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,f=0,p=.5;delete t.unknown;function m(){var g=e().length,y=i<r,w=y?i:r,S=y?r:i;s=(S-w)/Math.max(1,g-c+f*2),l&&(s=Math.floor(s)),w+=(S-w-s*(g-c))*p,a=s*(1-c),l&&(w=Math.round(w),a=Math.round(a));var I=ea(g).map(function(R){return w+s*R});return n(y?I.reverse():I)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return Kp(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(p)},nu.apply(m(),arguments)}function ZE(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZE(e())},t}function dV(){return ZE(Kp.apply(null,arguments).paddingInner(1))}function pV(t){return function(){return t}}function ub(t){return+t}var qw=[0,1];function Na(t){return t}function cb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pV(isNaN(e)?NaN:.5)}function mV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gV(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=cb(i,r),s=n(a,s)):(r=cb(r,i),s=n(s,a)),function(l){return s(r(l))}}function _V(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=cb(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=N_(t,l,1,r)-1;return s[c](i[c](l))}}function Xp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function H_(){var t=qw,e=qw,n=Zc,r,i,s,a=Na,l,c,f;function p(){var g=Math.min(t.length,e.length);return a!==Na&&(a=mV(t[0],t[g-1])),l=g>2?_V:gV,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((f||(f=l(e,t.map(r),Rs)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,ub),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Zp,p()},m.clamp=function(g){return arguments.length?(a=g?!0:Na,p()):a!==Na},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,y){return r=g,i=y,p()}}function YE(){return H_()(Na,Na)}function vV(t,e,n,r){var i=Iy(t,e,n),s;switch(r=up(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=d$(i,a))&&(r.precision=s),cE(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=p$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=h$(i))&&(r.precision=s-(r.type==="%")*2);break}}return jn(r)}function Nh(t){var e=t.domain;return t.ticks=function(n){var r=e();return np(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,f,p=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);p-- >0;){if(f=ih(a,l,n),f===c)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function W_(){var t=YE();return t.copy=function(){return Xp(t,W_())},nu.apply(t,arguments),Nh(t)}function jE(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ub),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jE(t).unknown(e)},t=arguments.length?Array.from(t,ub):[0,1],Nh(n)}function KE(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Hw(t){return Math.log(t)}function Ww(t){return Math.exp(t)}function yV(t){return-Math.log(-t)}function bV(t){return-Math.exp(-t)}function wV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xV(t){return t===10?wV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gw(t){return(e,n)=>-t(-e,n)}function XE(t){const e=t(Hw,Ww),n=e.domain;let r=10,i,s;function a(){return i=SV(r),s=xV(r),n()[0]<0?(i=Gw(i),s=Gw(s),t(yV,bV)):t(Hw,Ww),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],p=c[c.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),y=i(p),w,S;const I=l==null?10:+l;let R=[];if(!(r%1)&&y-g<I){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(w=1;w<r;++w)if(S=g<0?w/s(-g):w*s(g),!(S<f)){if(S>p)break;R.push(S)}}else for(;g<=y;++g)for(w=r-1;w>=1;--w)if(S=g>0?w/s(-g):w*s(g),!(S<f)){if(S>p)break;R.push(S)}R.length*2<I&&(R=np(f,p,I))}else R=np(g,y,Math.min(y-g,I)).map(s);return m?R.reverse():R},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=up(c)).precision==null&&(c.trim=!0),c=jn(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?c(p):""}},e.nice=()=>n(KE(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function JE(){const t=XE(H_()).domain([1,10]);return t.copy=()=>Xp(t,JE()).base(t.base()),nu.apply(t,arguments),t}function $w(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Vw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QE(t){var e=1,n=t($w(e),Vw(e));return n.constant=function(r){return arguments.length?t($w(e=+r),Vw(e)):e},Nh(n)}function eM(){var t=QE(H_());return t.copy=function(){return Xp(t,eM()).constant(t.constant())},nu.apply(t,arguments)}function Zw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kV(t){return t<0?-t*t:t*t}function tM(t){var e=t(Na,Na),n=1;function r(){return n===1?t(Na,Na):n===.5?t(TV,kV):t(Zw(n),Zw(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nh(e)}function nM(){var t=tM(H_());return t.copy=function(){return Xp(t,nM()).exponent(t.exponent())},nu.apply(t,arguments),t}function rM(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=QU(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[N_(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Oa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return rM().domain(t).range(e).unknown(r)},nu.apply(s,arguments)}function iM(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[N_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return iM().domain(t).range(e).unknown(n)},nu.apply(i,arguments)}const _4=new Date,v4=new Date;function Ai(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let f;do c.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return c},i.filter=s=>Ai(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(_4.setTime(+s),v4.setTime(+a),t(_4),t(v4),Math.floor(n(_4,v4))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Lg=Ai(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ai(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lg);Lg.range;const Du=1e3,So=Du*60,Bu=So*60,ju=Bu*24,Y3=ju*7,Yw=ju*30,y4=ju*365,zu=Ai(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Du)},(t,e)=>(e-t)/Du,t=>t.getUTCSeconds());zu.range;const G_=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getMinutes());G_.range;const $_=Ai(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCMinutes());$_.range;const V_=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du-t.getMinutes()*So)},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getHours());V_.range;const Z_=Ai(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getUTCHours());Z_.range;const Lh=Ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*So)/ju,t=>t.getDate()-1);Lh.range;const Y_=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ju,t=>t.getUTCDate()-1);Y_.range;const j3=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ju,t=>Math.floor(t/ju));j3.range;function cf(t){return Ai(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*So)/Y3)}const ph=cf(0),dp=cf(1),sM=cf(2),aM=cf(3),J0=cf(4),oM=cf(5),lM=cf(6);ph.range;dp.range;sM.range;aM.range;J0.range;oM.range;lM.range;function ff(t){return Ai(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Y3)}const mh=ff(0),pp=ff(1),uM=ff(2),cM=ff(3),Q0=ff(4),fM=ff(5),hM=ff(6);mh.range;pp.range;uM.range;cM.range;Q0.range;fM.range;hM.range;const j_=Ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());j_.range;const K_=Ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());K_.range;const nl=Ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());nl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});nl.range;const rl=Ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});rl.range;function dM(t,e,n,r,i,s){const a=[[zu,1,Du],[zu,5,5*Du],[zu,15,15*Du],[zu,30,30*Du],[s,1,So],[s,5,5*So],[s,15,15*So],[s,30,30*So],[i,1,Bu],[i,3,3*Bu],[i,6,6*Bu],[i,12,12*Bu],[r,1,ju],[r,2,2*ju],[n,1,Y3],[e,1,Yw],[e,3,3*Yw],[t,1,y4]];function l(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:c(f,p,m),w=y?y.range(f,+p+1):[];return g?w.reverse():w}function c(f,p,m){const g=Math.abs(p-f)/m,y=tp(([,,I])=>I).right(a,g);if(y===a.length)return t.every(Iy(f/y4,p/y4,m));if(y===0)return Lg.every(Math.max(Iy(f,p,m),1));const[w,S]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return w.every(S)}return[l,c]}const[EV,MV]=dM(rl,K_,mh,j3,Z_,$_),[CV,AV]=dM(nl,j_,ph,Lh,V_,G_);function b4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function IV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=dd(i),p=pd(i),m=dd(s),g=pd(s),y=dd(a),w=pd(a),S=dd(l),I=pd(l),R=dd(c),k=pd(c),A={a:se,A:fe,b:oe,B:Z,c:null,d:e9,e:e9,f:QV,g:uZ,G:fZ,H:KV,I:XV,j:JV,L:pM,m:eZ,M:tZ,p:Q,q:he,Q:r9,s:i9,S:nZ,u:rZ,U:iZ,V:sZ,w:aZ,W:oZ,x:null,X:null,y:lZ,Y:cZ,Z:hZ,"%":n9},C={a:Ne,A:Ue,b:De,B:Pe,c:null,d:t9,e:t9,f:gZ,g:EZ,G:CZ,H:dZ,I:pZ,j:mZ,L:gM,m:_Z,M:vZ,p:ke,q:Ee,Q:r9,s:i9,S:yZ,u:bZ,U:wZ,V:xZ,w:SZ,W:TZ,x:null,X:null,y:kZ,Y:MZ,Z:AZ,"%":n9},N={a:X,A:V,b:te,B:me,c:ue,d:Jw,e:Jw,f:VV,g:Xw,G:Kw,H:Qw,I:Qw,j:HV,L:$V,m:qV,M:WV,p:$,q:UV,Q:YV,s:jV,S:GV,u:OV,U:DV,V:BV,w:LV,W:zV,x:ie,X:ge,y:Xw,Y:Kw,Z:FV,"%":ZV};A.x=D(n,A),A.X=D(r,A),A.c=D(e,A),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C);function D(pe,Ae){return function(Le){var be=[],Ke=-1,qe=0,ct=pe.length,at,tt,kt;for(Le instanceof Date||(Le=new Date(+Le));++Ke<ct;)pe.charCodeAt(Ke)===37&&(be.push(pe.slice(qe,Ke)),(tt=jw[at=pe.charAt(++Ke)])!=null?at=pe.charAt(++Ke):tt=at==="e"?" ":"0",(kt=Ae[at])&&(at=kt(Le,tt)),be.push(at),qe=Ke+1);return be.push(pe.slice(qe,Ke)),be.join("")}}function F(pe,Ae){return function(Le){var be=hd(1900,void 0,1),Ke=W(be,pe,Le+="",0),qe,ct;if(Ke!=Le.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ae&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(qe=w4(hd(be.y,0,1)),ct=qe.getUTCDay(),qe=ct>4||ct===0?pp.ceil(qe):pp(qe),qe=Y_.offset(qe,(be.V-1)*7),be.y=qe.getUTCFullYear(),be.m=qe.getUTCMonth(),be.d=qe.getUTCDate()+(be.w+6)%7):(qe=b4(hd(be.y,0,1)),ct=qe.getDay(),qe=ct>4||ct===0?dp.ceil(qe):dp(qe),qe=Lh.offset(qe,(be.V-1)*7),be.y=qe.getFullYear(),be.m=qe.getMonth(),be.d=qe.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),ct="Z"in be?w4(hd(be.y,0,1)).getUTCDay():b4(hd(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(ct+5)%7:be.w+be.U*7-(ct+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,w4(be)):b4(be)}}function W(pe,Ae,Le,be){for(var Ke=0,qe=Ae.length,ct=Le.length,at,tt;Ke<qe;){if(be>=ct)return-1;if(at=Ae.charCodeAt(Ke++),at===37){if(at=Ae.charAt(Ke++),tt=N[at in jw?Ae.charAt(Ke++):at],!tt||(be=tt(pe,Le,be))<0)return-1}else if(at!=Le.charCodeAt(be++))return-1}return be}function $(pe,Ae,Le){var be=f.exec(Ae.slice(Le));return be?(pe.p=p.get(be[0].toLowerCase()),Le+be[0].length):-1}function X(pe,Ae,Le){var be=y.exec(Ae.slice(Le));return be?(pe.w=w.get(be[0].toLowerCase()),Le+be[0].length):-1}function V(pe,Ae,Le){var be=m.exec(Ae.slice(Le));return be?(pe.w=g.get(be[0].toLowerCase()),Le+be[0].length):-1}function te(pe,Ae,Le){var be=R.exec(Ae.slice(Le));return be?(pe.m=k.get(be[0].toLowerCase()),Le+be[0].length):-1}function me(pe,Ae,Le){var be=S.exec(Ae.slice(Le));return be?(pe.m=I.get(be[0].toLowerCase()),Le+be[0].length):-1}function ue(pe,Ae,Le){return W(pe,e,Ae,Le)}function ie(pe,Ae,Le){return W(pe,n,Ae,Le)}function ge(pe,Ae,Le){return W(pe,r,Ae,Le)}function se(pe){return a[pe.getDay()]}function fe(pe){return s[pe.getDay()]}function oe(pe){return c[pe.getMonth()]}function Z(pe){return l[pe.getMonth()]}function Q(pe){return i[+(pe.getHours()>=12)]}function he(pe){return 1+~~(pe.getMonth()/3)}function Ne(pe){return a[pe.getUTCDay()]}function Ue(pe){return s[pe.getUTCDay()]}function De(pe){return c[pe.getUTCMonth()]}function Pe(pe){return l[pe.getUTCMonth()]}function ke(pe){return i[+(pe.getUTCHours()>=12)]}function Ee(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ae=D(pe+="",A);return Ae.toString=function(){return pe},Ae},parse:function(pe){var Ae=F(pe+="",!1);return Ae.toString=function(){return pe},Ae},utcFormat:function(pe){var Ae=D(pe+="",C);return Ae.toString=function(){return pe},Ae},utcParse:function(pe){var Ae=F(pe+="",!0);return Ae.toString=function(){return pe},Ae}}}var jw={"-":"",_:" ",0:"0"},Xi=/^\s*\d+/,RV=/^%/,PV=/[\\^$*+?|[\]().{}]/g;function Wn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function NV(t){return t.replace(PV,"\\$&")}function dd(t){return new RegExp("^(?:"+t.map(NV).join("|")+")","i")}function pd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LV(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OV(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function DV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function BV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Kw(t,e,n){var r=Xi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xw(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FV(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UV(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jw(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HV(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qw(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function WV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function GV(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $V(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function VV(t,e,n){var r=Xi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZV(t,e,n){var r=RV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function YV(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jV(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function e9(t,e){return Wn(t.getDate(),e,2)}function KV(t,e){return Wn(t.getHours(),e,2)}function XV(t,e){return Wn(t.getHours()%12||12,e,2)}function JV(t,e){return Wn(1+Lh.count(nl(t),t),e,3)}function pM(t,e){return Wn(t.getMilliseconds(),e,3)}function QV(t,e){return pM(t,e)+"000"}function eZ(t,e){return Wn(t.getMonth()+1,e,2)}function tZ(t,e){return Wn(t.getMinutes(),e,2)}function nZ(t,e){return Wn(t.getSeconds(),e,2)}function rZ(t){var e=t.getDay();return e===0?7:e}function iZ(t,e){return Wn(ph.count(nl(t)-1,t),e,2)}function mM(t){var e=t.getDay();return e>=4||e===0?J0(t):J0.ceil(t)}function sZ(t,e){return t=mM(t),Wn(J0.count(nl(t),t)+(nl(t).getDay()===4),e,2)}function aZ(t){return t.getDay()}function oZ(t,e){return Wn(dp.count(nl(t)-1,t),e,2)}function lZ(t,e){return Wn(t.getFullYear()%100,e,2)}function uZ(t,e){return t=mM(t),Wn(t.getFullYear()%100,e,2)}function cZ(t,e){return Wn(t.getFullYear()%1e4,e,4)}function fZ(t,e){var n=t.getDay();return t=n>=4||n===0?J0(t):J0.ceil(t),Wn(t.getFullYear()%1e4,e,4)}function hZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wn(e/60|0,"0",2)+Wn(e%60,"0",2)}function t9(t,e){return Wn(t.getUTCDate(),e,2)}function dZ(t,e){return Wn(t.getUTCHours(),e,2)}function pZ(t,e){return Wn(t.getUTCHours()%12||12,e,2)}function mZ(t,e){return Wn(1+Y_.count(rl(t),t),e,3)}function gM(t,e){return Wn(t.getUTCMilliseconds(),e,3)}function gZ(t,e){return gM(t,e)+"000"}function _Z(t,e){return Wn(t.getUTCMonth()+1,e,2)}function vZ(t,e){return Wn(t.getUTCMinutes(),e,2)}function yZ(t,e){return Wn(t.getUTCSeconds(),e,2)}function bZ(t){var e=t.getUTCDay();return e===0?7:e}function wZ(t,e){return Wn(mh.count(rl(t)-1,t),e,2)}function _M(t){var e=t.getUTCDay();return e>=4||e===0?Q0(t):Q0.ceil(t)}function xZ(t,e){return t=_M(t),Wn(Q0.count(rl(t),t)+(rl(t).getUTCDay()===4),e,2)}function SZ(t){return t.getUTCDay()}function TZ(t,e){return Wn(pp.count(rl(t)-1,t),e,2)}function kZ(t,e){return Wn(t.getUTCFullYear()%100,e,2)}function EZ(t,e){return t=_M(t),Wn(t.getUTCFullYear()%100,e,2)}function MZ(t,e){return Wn(t.getUTCFullYear()%1e4,e,4)}function CZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Q0(t):Q0.ceil(t),Wn(t.getUTCFullYear()%1e4,e,4)}function AZ(){return"+0000"}function n9(){return"%"}function r9(t){return+t}function i9(t){return Math.floor(+t/1e3)}var Rf,X_,mp;IZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IZ(t){return Rf=IV(t),X_=Rf.format,Rf.parse,mp=Rf.utcFormat,Rf.utcParse,Rf}function RZ(t){return new Date(t)}function PZ(t){return t instanceof Date?+t:+new Date(+t)}function K3(t,e,n,r,i,s,a,l,c,f){var p=YE(),m=p.invert,g=p.domain,y=f(".%L"),w=f(":%S"),S=f("%I:%M"),I=f("%I %p"),R=f("%a %d"),k=f("%b %d"),A=f("%B"),C=f("%Y");function N(D){return(c(D)<D?y:l(D)<D?w:a(D)<D?S:s(D)<D?I:r(D)<D?i(D)<D?R:k:n(D)<D?A:C)(D)}return p.invert=function(D){return new Date(m(D))},p.domain=function(D){return arguments.length?g(Array.from(D,PZ)):g().map(RZ)},p.ticks=function(D){var F=g();return t(F[0],F[F.length-1],D??10)},p.tickFormat=function(D,F){return F==null?N:f(F)},p.nice=function(D){var F=g();return(!D||typeof D.range!="function")&&(D=e(F[0],F[F.length-1],D??10)),D?g(KE(F,D)):p},p.copy=function(){return Xp(p,K3(t,e,n,r,i,s,a,l,c,f))},p}function NZ(){return nu.apply(K3(CV,AV,nl,j_,ph,Lh,V_,G_,zu,X_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LZ(){return nu.apply(K3(EV,MV,rl,K_,mh,Y_,Z_,$_,zu,mp).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function OZ(){var t=0,e=1,n,r,i,s,a=Na,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function p(m){return function(g){var y,w;return arguments.length?([y,w]=g,a=m(y,w),f):[a(0),a(1)]}}return f.range=p(Zc),f.rangeRound=p(Zp),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Jp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uf(){var t=Nh(OZ()(Na));return t.copy=function(){return Jp(t,Uf())},jp.apply(t,arguments)}function J_(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,f=Na,p,m=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-s)*(r*S<r*s?l:c),f(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),a=p(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(f=S,y):f};function w(S){return function(I){var R,k,A;return arguments.length?([R,k,A]=I,f=B_(S,[R,k,A]),y):[f(0),f(.5),f(1)]}}return y.range=w(Zc),y.rangeRound=w(Zp),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return p=S,i=S(t),s=S(e),a=S(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function vM(){var t=Nh(J_()(Na));return t.copy=function(){return Jp(t,vM())},jp.apply(t,arguments)}function yM(){var t=XE(J_()).domain([.1,1,10]);return t.copy=function(){return Jp(t,yM()).base(t.base())},jp.apply(t,arguments)}function bM(){var t=QE(J_());return t.copy=function(){return Jp(t,bM()).constant(t.constant())},jp.apply(t,arguments)}function wM(){var t=tM(J_());return t.copy=function(){return Jp(t,wM()).exponent(t.exponent())},jp.apply(t,arguments)}function sn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const DZ=sn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),BZ=sn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),zZ=sn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),FZ=sn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),UZ=sn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qZ=sn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),HZ=sn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),WZ=sn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),GZ=sn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),$Z=sn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),dr=t=>gW(t[t.length-1]);var xM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sn);const SM=dr(xM);var TM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sn);const kM=dr(TM);var EM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sn);const MM=dr(EM);var CM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sn);const AM=dr(CM);var fb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sn);const gh=dr(fb);var IM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sn);const RM=dr(IM);var hb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sn);const Og=dr(hb);var PM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sn);const NM=dr(PM);var LM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sn);const Dg=dr(LM);var OM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sn);const DM=dr(OM);var BM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sn);const zM=dr(BM);var FM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sn);const UM=dr(FM);var qM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sn);const HM=dr(qM);var WM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sn);const GM=dr(WM);var $M=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sn);const VM=dr($M);var ZM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sn);const YM=dr(ZM);var jM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sn);const KM=dr(jM);var XM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sn);const JM=dr(XM);var QM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sn);const eC=dr(QM);var tC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sn);const nC=dr(tC);var rC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sn);const iC=dr(rC);var sC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sn);const aC=dr(sC);var oC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sn);const lC=dr(oC);var uC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sn);const cC=dr(uC);var fC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sn);const hC=dr(fC);var dC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sn);const pC=dr(dC);var mC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sn);const gC=dr(mC);function _C(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const vC=B3(Jl(300,.5,0),Jl(-240,.5,1));var yC=B3(Jl(-100,.75,.35),Jl(80,1.5,.8)),bC=B3(Jl(260,.75,.35),Jl(80,1.5,.8)),um=Jl();function wC(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return um.h=360*t-100,um.s=1.5-1.5*e,um.l=.8-.9*e,um+""}var cm=Vc(),VZ=Math.PI/3,ZZ=Math.PI*2/3;function xC(t){var e;return t=(.5-t)*Math.PI,cm.r=255*(e=Math.sin(t))*e,cm.g=255*(e=Math.sin(t+VZ))*e,cm.b=255*(e=Math.sin(t+ZZ))*e,cm+""}function Bg(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Q_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const SC=Q_(sn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var TC=Q_(sn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),X3=Q_(sn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kC=Q_(sn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pf(t){return function(){return t}}const EC=Math.cos,J3=Math.min,zg=Math.sin,Ii=Math.sqrt,s9=1e-12,Fg=Math.PI,e2=2*Fg;function YZ(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nE(e)}function jZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MC(t){this._context=t}MC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function t2(t){return new MC(t)}function KZ(t){return t[0]}function XZ(t){return t[1]}function JZ(t,e){var n=Pf(!0),r=null,i=t2,s=null,a=YZ(l);t=typeof t=="function"?t:t===void 0?KZ:Pf(t),e=typeof e=="function"?e:e===void 0?XZ:Pf(e);function l(c){var f,p=(c=jZ(c)).length,m,g=!1,y;for(r==null&&(s=i(y=a())),f=0;f<=p;++f)!(f<p&&n(m=c[f],f,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,f,c),+e(m,f,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pf(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pf(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Pf(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}class CC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function QZ(t){return new CC(t,!0)}function eY(t){return new CC(t,!1)}const tY=Ii(3),AC={draw(t,e){const n=Ii(e+J3(e/28,.75))*.59436,r=n/2,i=r*tY;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},gp={draw(t,e){const n=Ii(e/Fg);t.moveTo(n,0),t.arc(0,0,n,0,e2)}},IC={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},RC=Ii(1/3),nY=RC*2,PC={draw(t,e){const n=Ii(e/nY),r=n*RC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NC={draw(t,e){const n=Ii(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},LC={draw(t,e){const n=Ii(e-J3(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},OC={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},DC={draw(t,e){const n=Ii(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},rY=.8908130915292852,BC=zg(Fg/10)/zg(7*Fg/10),iY=zg(e2/10)*BC,sY=-EC(e2/10)*BC,zC={draw(t,e){const n=Ii(e*rY),r=iY*n,i=sY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=e2*s/5,l=EC(a),c=zg(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},x4=Ii(3),FC={draw(t,e){const n=-Ii(e/(x4*3));t.moveTo(0,n*2),t.lineTo(-x4*n,-n),t.lineTo(x4*n,-n),t.closePath()}},aY=Ii(3),UC={draw(t,e){const n=Ii(e)*.6824,r=n/2,i=n*aY/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},vo=-.5,yo=Ii(3)/2,db=1/Ii(12),oY=(db/2+1)*3,qC={draw(t,e){const n=Ii(e/oY),r=n/2,i=n*db,s=r,a=n*db+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(vo*r-yo*i,yo*r+vo*i),t.lineTo(vo*s-yo*a,yo*s+vo*a),t.lineTo(vo*l-yo*c,yo*l+vo*c),t.lineTo(vo*r+yo*i,vo*i-yo*r),t.lineTo(vo*s+yo*a,vo*a-yo*s),t.lineTo(vo*l+yo*c,vo*c-yo*l),t.closePath()}},HC={draw(t,e){const n=Ii(e-J3(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},lY=[gp,IC,PC,OC,zC,FC,qC],uY=[gp,LC,HC,UC,AC,DC,NC];function Yc(){}function Ug(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function n2(t){this._context=t}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ug(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ug(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cY(t){return new n2(t)}function WC(t){this._context=t}WC.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ug(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fY(t){return new WC(t)}function GC(t){this._context=t}GC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ug(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hY(t){return new GC(t)}function $C(t,e){this._basis=new n2(t),this._beta=e}$C.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,l=-1,c;++l<=n;)c=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+c*s),this._beta*e[l]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const dY=function t(e){function n(r){return e===1?new n2(r):new $C(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function qg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Q3(t,e){this._context=t,this._k=(1-e)/6}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:qg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const pY=function t(e){function n(r){return new Q3(r,e)}return n.tension=function(r){return t(+r)},n}(0);function e5(t,e){this._context=t,this._k=(1-e)/6}e5.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mY=function t(e){function n(r){return new e5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function t5(t,e){this._context=t,this._k=(1-e)/6}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gY=function t(e){function n(r){return new t5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function n5(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>s9){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>s9){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*f+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*f+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function VC(t,e){this._context=t,this._alpha=e}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:n5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _Y=function t(e){function n(r){return e?new VC(r,e):new Q3(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ZC(t,e){this._context=t,this._alpha=e}ZC.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:n5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vY=function t(e){function n(r){return e?new ZC(r,e):new e5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function YC(t,e){this._context=t,this._alpha=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:n5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yY=function t(e){function n(r){return e?new YC(r,e):new t5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function jC(t){this._context=t}jC.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bY(t){return new jC(t)}function a9(t){return t<0?-1:1}function o9(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(a9(s)+a9(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function l9(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function S4(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Hg(t){this._context=t}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S4(this,this._t0,l9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,S4(this,l9(this,n=o9(this,t,e)),n);break;default:S4(this,this._t0,n=o9(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function KC(t){this._context=new XC(t)}(KC.prototype=Object.create(Hg.prototype)).point=function(t,e){Hg.prototype.point.call(this,e,t)};function XC(t){this._context=t}XC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function wY(t){return new Hg(t)}function xY(t){return new KC(t)}function JC(t){this._context=t}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=u9(t),i=u9(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function u9(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function SY(t){return new JC(t)}function r2(t,e){this._context=t,this._t=e}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TY(t){return new r2(t,.5)}function kY(t){return new r2(t,0)}function EY(t){return new r2(t,1)}function Ld(t,e,n){this.k=t,this.x=e,this.y=n}Ld.prototype={constructor:Ld,scale:function(t){return t===1?this:new Ld(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ld(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ld.prototype;function jc(t){return t!=null&&!Number.isNaN(t)}function eu(t,e){return+jc(e)-+jc(t)||Oa(t,e)}function Wg(t,e){return+jc(e)-+jc(t)||Wp(t,e)}function r5(t){return t!=null&&`${t}`!=""}function QC(t){return isFinite(t)?t:NaN}function Qp(t){return t>0&&isFinite(t)?t:NaN}function i2(t){return t<0&&isFinite(t)?t:NaN}function eA(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${MY(t.getUTCFullYear())}-${Ru(t.getUTCMonth()+1,2)}-${Ru(t.getUTCDate(),2)}${n||r||i||s?`T${Ru(n,2)}:${Ru(r,2)}${i||s?`:${Ru(i,2)}${s?`.${Ru(s,3)}`:""}`:""}Z`:""}`}function MY(t){return t<0?`-${Ru(-t,6)}`:t>9999?`+${Ru(t,6)}`:Ru(t,4)}function Ru(t,e){return`${t}`.padStart(e,"0")}const CY=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function tA(t,e){return CY.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const Ym=1e3,pb=Ym*60,mb=pb*60,_p=mb*24,AY=_p*7,c9=_p*30,IY=_p*365,md=[["millisecond",.5*Ym],["second",Ym],["second",30*Ym],["minute",pb],["minute",30*pb],["hour",mb],["hour",12*mb],["day",_p],["day",2*_p],["week",AY],["month",c9],["month",3*c9],["year",IY]],RY=new Map([["second",zu],["minute",G_],["hour",V_],["day",Lh],["week",ph],["month",j_],["year",nl],["monday",dp],["tuesday",sM],["wednesday",aM],["thursday",J0],["friday",oM],["saturday",lM],["sunday",ph]]),PY=new Map([["second",zu],["minute",$_],["hour",Z_],["day",j3],["week",mh],["month",K_],["year",rl],["monday",pp],["tuesday",uM],["wednesday",cM],["thursday",Q0],["friday",fM],["saturday",hM],["sunday",mh]]);function nA(t,e){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let s=e.get(n);if(!s)throw new Error(`unknown interval: ${t}`);if(!(r>1))return s;if(!s.every)throw new Error(`non-periodic interval: ${n}`);return s.every(r)}function NY(t){return nA(t,RY)}function LY(t){return nA(t,PY)}function OY(t){if(!t)return!1;const e=t.floor(new Date(Date.UTC(2e3,11,31)));return rl(e)>=e}function DY(t){if(!t)return!1;const e=t.floor(new Date(2e3,11,31));return nl(e)>=e}function BY(t,e,n,r){const i=t.type==="time"?X_:mp,s=r==="left"||r==="right"?(a,l)=>`
${a}
${l}`:r==="top"?(a,l)=>`${l}
${a}`:(a,l)=>`${a}
${l}`;switch(zY(t,e,n)){case"millisecond":return E0(i(".%L"),i(":%M:%S"),s);case"second":return E0(i(":%S"),i("%-I:%M"),s);case"minute":return E0(i("%-I:%M"),i("%p"),s);case"hour":return E0(i("%-I %p"),i("%b %-d"),s);case"day":return E0(i("%-d"),i("%b"),s);case"week":return E0(i("%-d"),i("%b"),s);case"month":return E0(i("%b"),i("%Y"),s);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function zY(t,e,n){const r=fg(nq(e,(c,f)=>Math.abs(f-c)||NaN));if(r>0)return md[tp(([,c])=>c).right(md,r,1,md.length)-1][0];const[i,s]=ia(t.domain()),a=typeof n=="number"?n:10,l=Math.abs(s-i)/a;return md[tp(([,c])=>Math.log(c)).center(md,Math.log(l))][0]}function E0(t,e,n){return(r,i,s)=>{const a=t(r,i),l=e(r,i),c=i-vh(s);return i!==c&&s[c]!==void 0&&l===e(s[c],c)?a:n(a,l)}}const vp=Object.getPrototypeOf(Uint8Array),FY=Object.prototype.toString;function Eo(t,e,n){const r=typeof e;return r==="string"?f9(t,rA(e),n):r==="function"?f9(t,e,n):r==="number"||e instanceof Date||r==="boolean"?ji(t,e1(e),n):typeof(e==null?void 0:e.transform)=="function"?h9(e.transform(t),n):h9(e,n)}function f9(t,e,n){return ji(t,(n==null?void 0:n.prototype)instanceof vp?UY(e):e,n)}function h9(t,e){return e===void 0?no(t):t instanceof e?t:e.prototype instanceof vp&&!(t instanceof vp)?e.from(t,i5):e.from(t)}function UY(t){return(e,n)=>i5(t(e,n))}const jm=[null],rA=t=>e=>e[t],iA={transform:s0},la={transform:t=>t},qY=()=>1,HY=()=>!0,Qs=t=>t==null?t:`${t}`,wr=t=>t==null?t:+t,sA=t=>t?t[0]:void 0,WY=t=>t?t[1]:void 0,e1=t=>()=>t;function GY(t){const e=+`${t}`.slice(1)/100;return(n,r)=>rp(n,e,r)}function Gg(t){return t instanceof vp?t:ji(t,i5,Float64Array)}function i5(t){return t==null?NaN:Number(t)}function $Y(t){return ji(t,VY)}function VY(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?tA(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function ef(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:u2(t)?[void 0,t]:[t,void 0]}function Ns(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function s2(t,e,n){if(t!=null)return ic(t,e,n)}function ic(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function no(t){return t==null||t instanceof Array||t instanceof vp?t:Array.from(t)}function ji(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function gb(t,e=Array){return t instanceof e?t.slice():e.from(t)}function ZY({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function aA({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function YY(t){return ZY(t)||aA(t)||t.interval!==void 0}function Oh(t){return(t==null?void 0:t.toString)===FY}function _b(t){return Oh(t)&&(t.type!==void 0||t.domain!==void 0)}function a2(t){return Oh(t)&&typeof t.transform!="function"}function _h(t){return a2(t)&&t.value===void 0&&t.channel===void 0}function jY(t,e,n,r=la){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function o2(t,e){return t===void 0&&e===void 0?[sA,WY]:[t,e]}function oA({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=ef(e)),t===void 0&&([t]=ef(n)),t}function s0(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function lA(t,e){return ji(e,n=>t[n])}function KY(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function D0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vb(t){let e;return[{transform:()=>e,label:t1(t)},n=>e=n]}function XY(t){return t==null?[t]:vb(t)}function t1(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function JY(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Ku(r)||Ku(i)?ji(r,(s,a)=>new Date((+r[a]+ +i[a])/2)):ji(r,(s,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function QY(t,e){const n=uA(e==null?void 0:e.interval,e==null?void 0:e.type);return n?ji(t,n):t}function uA(t,e){const n=s5(t,e);return n&&(r=>jc(r)?n.floor(r):r)}function s5(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>ea(Math.ceil(r*n),i*n).map(s=>s/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>ea(Math.ceil(r/n),i/n).map(s=>s*n)}}if(typeof t=="string")return(e==="time"?NY:LY)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function n1(t,e){if(t=s5(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function ej(t,e){if(t=n1(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function l2(t){return t===void 0||a2(t)?t:{value:t}}function tj(t){return t==null?null:{transform:e=>Eo(e,t,Float64Array),label:t1(t)}}function a0(t){return t&&typeof t[Symbol.iterator]=="function"}function cA(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function d9(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Ku(t){for(const e of t)if(e!=null)return e instanceof Date}function nj(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&tA(e)}function rj(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function ij(t){for(const e of t)if(e!=null)return typeof e=="number"}function T4(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}function u2(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),t==="none"||t==="currentcolor"||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||Xl(t)!==null)}function sj(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Pa(t){return t==null||yp(t)}function yp(t){return/^\s*none\s*$/i.test(t)}function aj(t){return/^\s*round\s*$/i.test(t)}function fA(t,e){return s2(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function c2(t="middle"){return fA(t,"frameAnchor")}function vh(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Wp(e,n)}function oj(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const s=r[i];n===t?n={...n,[i]:s}:n[i]=s}return n}function lj(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function hA(t){return a0(t)?lj(t):t}const ql=Symbol("position"),sc=Symbol("color"),f2=Symbol("radius"),h2=Symbol("length"),d2=Symbol("opacity"),p2=Symbol("symbol"),uj=Symbol("projection"),ti=new Map([["x",ql],["y",ql],["fx",ql],["fy",ql],["r",f2],["color",sc],["opacity",d2],["symbol",p2],["length",h2],["projection",uj]]),cj=Math.sqrt(3),fj=2/cj,hj={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*fj,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},a5=new Map([["asterisk",AC],["circle",gp],["cross",IC],["diamond",PC],["diamond2",NC],["hexagon",hj],["plus",LC],["square",OC],["square2",DC],["star",zC],["times",HC],["triangle",FC],["triangle2",UC],["wye",qC]]);function o5(t){return t&&typeof t.draw=="function"}function dj(t){return o5(t)?!0:typeof t!="string"?!1:a5.has(t.toLowerCase())}function l5(t){if(t==null||o5(t))return t;const e=a5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function pj(t){if(t==null||o5(t))return[void 0,t];if(typeof t=="string"){const e=a5.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function u5({filter:t,sort:e,reverse:n,transform:r,initializer:i,...s}={},a){if(r===void 0&&(t!=null&&(r=dA(t)),e!=null&&!_h(e)&&(r=k4(r,c5(e))),n&&(r=k4(r,pA))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(e===null||_h(e))&&{sort:e},transform:k4(r,a)}}function yh({filter:t,sort:e,reverse:n,initializer:r,...i}={},s){return r===void 0&&(t!=null&&(r=dA(t)),e!=null&&!_h(e)&&(r=E4(r,c5(e))),n&&(r=E4(r,pA))),{...i,...(e===null||_h(e))&&{sort:e},initializer:E4(r,s)}}function k4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,no(n),r,i)}}function E4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...s){let a,l,c,f,p,m;return{data:l=n,facets:c=r,channels:a}=t.call(this,n,r,i,...s),{data:p=l,facets:m=c,channels:f}=e.call(this,l,c,{...i,...a},...s),{data:p,facets:m,channels:{...a,...f}}}}function mj(t,e){return(t.initializer!=null?yh:u5)(t,e)}function dA(t){return(e,n)=>{const r=Eo(e,t);return{data:e,facets:n.map(i=>i.filter(s=>r[s]))}}}function pA(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function gj(t,{sort:e,...n}={}){return{...(a2(t)&&t.channel!==void 0?yh:mj)(n,c5(t)),sort:_h(e)?e:null}}function c5(t){return(typeof t=="function"&&t.length!==1?_j:vj)(t)}function _j(t){return(e,n)=>{const r=(i,s)=>t(e[i],e[s]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function vj(t){let e,n;({channel:e,value:t,order:n}={...l2(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Wg:eu),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=eu;break;case"descending":n=Wg;break;default:throw new Error(`invalid order: ${n}`)}return(i,s,a)=>{let l;if(e===void 0)l=Eo(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(l=a[e],!l)return{};l=l.value}const c=(f,p)=>n(l[f],l[p]);return{data:i,facets:s.map(f=>f.slice().sort(c))}}}function yj(t,e,n=bj){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Oh(t))return wj(t);if(typeof t=="function")return xj(t);if(/^p\d{2}$/i.test(t))return Iu(GY(t));switch(`${t}`.toLowerCase()){case"first":return Tj;case"last":return kj;case"identity":return Sj;case"count":return m9;case"distinct":return Ej;case"sum":return e==null?m9:Mj;case"proportion":return g9(e,"data");case"proportion-facet":return g9(e,"facet");case"deviation":return Iu(qU);case"min":return Iu(Kl);case"min-index":return Iu(JU);case"max":return Iu(tl);case"max-index":return Iu(XU);case"mean":return p9(ip);case"median":return p9(fg);case"variance":return Iu(fk);case"mode":return Iu(tq)}return n(t)}function bj(t){throw new Error(`invalid reduce: ${t}`)}function wj(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function xj(t){return{reduceIndex(e,n,r){return t(lA(n,e),r)}}}function Iu(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function p9(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Ku(n)?new Date(r):r}}}const Sj={reduceIndex(t,e){return lA(e,t)}},Tj={reduceIndex(t,e){return e[t[0]]}},kj={reduceIndex(t,e){return e[t[t.length-1]]}},m9={label:"Frequency",reduceIndex(t){return t.length}},Ej={label:"Distinct",reduceIndex(t,e){const n=new k3;for(const r of t)n.add(e[r]);return n.size}},Mj=Iu(fr);function g9(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>fr(n,s=>r[s])/i}}function bp(t,{scale:e,type:n,value:r,filter:i,hint:s},a){return s===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(s=r.hint),mA(a,{scale:e,type:n,value:Eo(t,r),label:t1(r),filter:i,hint:s})}function Cj(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,bp(e,r,n)]))}function Aj(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:s}])=>{const a=i==null?null:e[i];return[r,a==null?s:ji(s,a)]}));return n.channels=t,n}function mA(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&T4(r,u2)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&T4(r,sj)?null:"opacity";break;case"symbol":n!==!0&&T4(r,dj)?(e.scale=null,e.value=ji(r,l5)):e.scale="symbol";break;default:e.scale=ti.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!ti.has(n))throw new Error(`unknown scale: ${n}`);return e}function Ij(t,e,n,r,i){const{order:s,reverse:a,reduce:l=!0,limit:c}=i;for(const f in i){if(!ti.has(f))continue;let{value:p,order:m=s,reverse:g=a,reduce:y=l,limit:w=c}=l2(i[f]);const S=p==null?void 0:p.startsWith("-");if(S&&(p=p.slice(1)),m=m===void 0?S!==(p==="width"||p==="height")?_A:gA:Nj(m),y==null||y===!1)continue;const I=f==="fx"||f==="fy"?Pj(e,r[f]):Rj(n,f);if(!I)throw new Error(`missing channel for scale: ${f}`);const R=I.value,[k=0,A=1/0]=a0(w)?w:w<0?[w]:[0,w];if(p==null)I.domain=()=>{let C=Array.from(new k3(R));return g&&(C=C.reverse()),(k!==0||A!==1/0)&&(C=C.slice(k,A)),C};else{const C=p==="data"?t:p==="height"?_9(n,"y1","y2"):p==="width"?_9(n,"x1","x2"):yb(n,p,p==="y"?"y2":p==="x"?"x2":void 0),N=yj(y===!0?"max":y,C);I.domain=()=>{let D=HU(s0(R),F=>N.reduceIndex(F,C),F=>R[F]);return m&&D.sort(m),g&&D.reverse(),(k!==0||A!==1/0)&&(D=D.slice(k,A)),D.map(sA)}}}}function Rj(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function Pj(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let s=0;s<n.length;++s){const a=r[n[s][0]];for(const l of t[s])i[l]=a}return e}function _9(t,e,n){const r=yb(t,e),i=yb(t,n);return ji(i,(s,a)=>Math.abs(s-r[a]),Float64Array)}function yb(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function Nj(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return gA;case"descending":return _A}throw new Error(`invalid order: ${t}`)}function gA([t,e],[n,r]){return eu(e,r)||eu(t,n)}function _A([t,e],[n,r]){return Wg(e,r)||eu(t,n)}function Lj(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function f5(t={}){const{document:e=typeof window<"u"?window.document:void 0}=t;return{document:e}}function Ji(t,{document:e}){return Fn(Gp(t).call(e.documentElement))}let bb=0;function Oj(){const t=bb;return bb=0,t}function H0(t){console.warn(t),++bb}const vA=Math.PI,ku=2*vA,v9=.618;function Dj({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:s=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let l,c,f="frame";if(Oh(t)){let N;if({type:t,domain:c,inset:N,insetTop:n=N!==void 0?N:n,insetRight:r=N!==void 0?N:r,insetBottom:i=N!==void 0?N:i,insetLeft:s=N!==void 0?N:s,clip:f=f,...l}=t,t==null)return}typeof t!="function"&&({type:t}=yA(t));const{width:p,height:m,marginLeft:g,marginRight:y,marginTop:w,marginBottom:S}=a,I=p-g-y-s-r,R=m-w-S-n-i;if(t=t==null?void 0:t({width:I,height:R,clip:f,...l}),t==null)return;f=Bj(f,g,w,p-y,m-S);let k=g+s,A=w+n,C;if(c!=null){const[[N,D],[F,W]]=dh(t).bounds(c),$=Math.min(I/(F-N),R/(W-D));$>0?(k-=($*(N+F)-I)/2,A-=($*(D+W)-R)/2,C=fp({point(X,V){this.stream.point(X*$+k,V*$+A)}})):H0("Warning: the projection could not be fit to the specified domain; using the default scale.")}return C??(C=k===0&&A===0?bA():fp({point(N,D){this.stream.point(N+k,D+A)}})),{stream:N=>t.stream(C.stream(f(N)))}}function yA(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Go(Q$,.7463,.4673);case"albers":return fm(DE,.7463,.4673);case"azimuthal-equal-area":return Go(eV,4,4);case"azimuthal-equidistant":return Go(tV,ku,ku);case"conic-conformal":return fm(rV,ku,ku);case"conic-equal-area":return fm(Rg,6.1702,2.9781);case"conic-equidistant":return fm(aV,7.312,3.6282);case"equal-earth":return Go(lV,5.4133,2.6347);case"equirectangular":return Go(iV,ku,vA);case"gnomonic":return Go(uV,3.4641,3.4641);case"identity":return{type:bA};case"reflect-y":return{type:zj};case"mercator":return Go(UE,ku,ku);case"orthographic":return Go(cV,2,2);case"stereographic":return Go(fV,2,2);case"transverse-mercator":return Go(hV,ku,ku);default:throw new Error(`unknown projection type: ${t}`)}}function Bj(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return s=>s;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return vE(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Go(t,e,n){return{type:({width:r,height:i,rotate:s,precision:a=.15,clip:l})=>{var f,p,m;const c=t();return a!=null&&((f=c.precision)==null||f.call(c,a)),s!=null&&((p=c.rotate)==null||p.call(c,s)),typeof l=="number"&&((m=c.clipAngle)==null||m.call(c,l)),c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/e}}function fm(t,e,n){const{type:r,aspectRatio:i}=Go(t,e,n);return{type:s=>{const{parallels:a,domain:l,width:c,height:f}=s,p=r(s);return a!=null&&(p.parallels(a),l===void 0&&p.fitSize([c,f],{type:"Sphere"})),p},aspectRatio:i}}const bA=e1({stream:t=>t}),zj=e1(fp({point(t,e){this.stream.point(t,-e)}}));function Fj(t,e,n,r){const i=n[t],s=n[e],a=i.length,l=n[t]=new Float64Array(a).fill(NaN),c=n[e]=new Float64Array(a).fill(NaN);let f;const p=r.stream({point(m,g){l[f]=m,c[f]=g}});for(f=0;f<a;++f)p.point(i[f],s[f])}function Uj({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Oh(t)&&(t=t.type),t!=null)}function qj(t){if(typeof(t==null?void 0:t.stream)=="function")return v9;if(Oh(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=yA(t);if(e)return e}return v9}}function Hj(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},s={point(a,l){e.push(a),n.push(l)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Ac(a,s);return[r,i]}const wA=new Map([["accent",BZ],["category10",DZ],["dark2",zZ],["paired",FZ],["pastel1",UZ],["pastel2",qZ],["set1",HZ],["set2",WZ],["set3",GZ],["tableau10",$Z]]);function Wj(t){return t!=null&&wA.has(`${t}`.toLowerCase())}const y9=new Map([...wA,["brbg",Eu(xM,SM)],["prgn",Eu(TM,kM)],["piyg",Eu(EM,MM)],["puor",Eu(CM,AM)],["rdbu",Eu(fb,gh)],["rdgy",Eu(IM,RM)],["rdylbu",Eu(hb,Og)],["rdylgn",Eu(PM,NM)],["spectral",Eu(LM,Dg)],["burd",b9(fb,gh)],["buylrd",b9(hb,Og)],["blues",Wi(sC,aC)],["greens",Wi(oC,lC)],["greys",Wi(uC,cC)],["oranges",Wi(mC,gC)],["purples",Wi(fC,hC)],["reds",Wi(dC,pC)],["turbo",Mu(Bg)],["viridis",Mu(SC)],["magma",Mu(TC)],["inferno",Mu(X3)],["plasma",Mu(kC)],["cividis",Mu(_C)],["cubehelix",Mu(vC)],["warm",Mu(yC)],["cool",Mu(bC)],["bugn",Wi(OM,DM)],["bupu",Wi(BM,zM)],["gnbu",Wi(FM,UM)],["orrd",Wi(qM,HM)],["pubu",Wi($M,VM)],["pubugn",Wi(WM,GM)],["purd",Wi(ZM,YM)],["rdpu",Wi(jM,KM)],["ylgn",Wi(QM,eC)],["ylgnbu",Wi(XM,JM)],["ylorbr",Wi(tC,nC)],["ylorrd",Wi(rC,iC)],["rainbow",w9(wC)],["sinebow",w9(xC)]]);function Wi(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Da(e,n):t[n])}function Eu(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Da(e,n):t[n])}function b9(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Da(r=>e(1-r),n):t[n].slice().reverse())}function Mu(t){return({length:e})=>Da(t,Math.max(2,Math.floor(e)))}function w9(t){return({length:e})=>Da(t,Math.floor(e)+1).slice(0,-1)}function xA(t){const e=`${t}`.toLowerCase();if(!y9.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return y9.get(e)}function m2(t,e){const n=xA(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function Gj(t,e="greys"){const n=new Set,[r,i]=m2(e,2);for(const s of t)if(s!=null)if(s===!0)n.add(i);else if(s===!1)n.add(r);else return;return[...n]}const x9=new Map([["brbg",SM],["prgn",kM],["piyg",MM],["puor",AM],["rdbu",gh],["rdgy",RM],["rdylbu",Og],["rdylgn",NM],["spectral",Dg],["burd",t=>gh(1-t)],["buylrd",t=>Og(1-t)],["blues",aC],["greens",lC],["greys",cC],["purples",hC],["reds",pC],["oranges",gC],["turbo",Bg],["viridis",SC],["magma",TC],["inferno",X3],["plasma",kC],["cividis",_C],["cubehelix",vC],["warm",yC],["cool",bC],["bugn",DM],["bupu",zM],["gnbu",UM],["orrd",HM],["pubugn",GM],["pubu",VM],["purd",YM],["rdpu",KM],["ylgnbu",JM],["ylgn",eC],["ylorbr",nC],["ylorrd",iC],["rainbow",wC],["sinebow",xC]]);function h5(t){const e=`${t}`.toLowerCase();if(!x9.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return x9.get(e)}const $j=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Vj(t){return t!=null&&$j.has(`${t}`.toLowerCase())}const SA=t=>e=>t(1-e),M4=[0,1],S9=new Map([["number",Rs],["rgb",j0],["hsl",AW],["hcl",PW],["lab",IW]]);function TA(t){const e=`${t}`.toLowerCase();if(!S9.has(e))throw new Error(`unknown interpolator: ${e}`);return S9.get(e)}function r1(t,e,n,{type:r,nice:i,clamp:s,zero:a,domain:l=EA(t,n),unknown:c,round:f,scheme:p,interval:m,range:g=ti.get(t)===f2?rK(n,l):ti.get(t)===h2?iK(n,l):ti.get(t)===d2?M4:void 0,interpolate:y=ti.get(t)===sc?p==null&&g!==void 0?j0:h5(p!==void 0?p:r==="cyclical"?"rainbow":"turbo"):f?Zp:Rs,reverse:w}){if(m=n1(m,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof y!="function"&&(y=TA(y)),w=!!w,g!==void 0){const S=(l=no(l)).length,I=(g=no(g)).length;if(S!==I){if(y.length===1)throw new Error("invalid piecewise interpolator");y=B_(y,g),g=void 0}}if(y.length===1?(w&&(y=SA(y),w=!1),g===void 0&&(g=Float64Array.from(l,(S,I)=>I/(l.length-1)),g.length===2&&(g=M4)),e.interpolate((g===M4?e1:p5)(y))):e.interpolate(y),a){const[S,I]=ia(l);(S>0||I<0)&&(l=gb(l),vh(l)!==Math.sign(S)?l[l.length-1]=0:l[0]=0)}return w&&(l=sp(l)),e.domain(l).unknown(c),i&&(e.nice(Zj(i,r)),l=e.domain()),g!==void 0&&e.range(g),s&&e.clamp(s),{type:r,domain:l,range:g,scale:e,interpolate:y,interval:m}}function Zj(t,e){return t===!0?void 0:typeof t=="number"?t:ej(t,e)}function Yj(t,e,n){return r1(t,W_(),e,n)}function jj(t,e,n){return kA(t,e,{...n,exponent:.5})}function kA(t,e,{exponent:n=1,...r}){return r1(t,nM().exponent(n),e,{...r,type:"pow"})}function Kj(t,e,{base:n=10,domain:r=sK(e),...i}){return r1(t,JE().base(n),e,{...i,domain:r})}function Xj(t,e,{constant:n=1,...r}){return r1(t,eM().constant(n),e,r)}function Jj(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:s="rdylbu",domain:a=aK(e),unknown:l,interpolate:c,reverse:f}){return n===void 0&&(n=c!==void 0?Da(c,i):ti.get(t)===sc?m2(s,i):void 0),a.length>0&&(a=rM(a,n===void 0?{length:i}:n).quantiles()),d5(t,e,{domain:a,range:n,reverse:f,unknown:l})}function Qj(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:s=EA(t,e),unknown:a,interpolate:l,reverse:c}){const[f,p]=ia(s);let m;return n===void 0?(m=np(f,p,r),m[0]<=f&&m.splice(0,1),m[m.length-1]>=p&&m.pop(),r=m.length+1,n=l!==void 0?Da(l,r):ti.get(t)===sc?m2(i,r):void 0):(m=Da(Rs(f,p),r+1).slice(1,-1),f instanceof Date&&(m=m.map(g=>new Date(g)))),vh(no(s))<0&&m.reverse(),d5(t,e,{domain:m,range:n,reverse:c,unknown:a})}function d5(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:s,range:a=s!==void 0?Da(s,n.length+1):ti.get(t)===sc?m2(i,n.length+1):void 0,reverse:l}){n=no(n);const c=vh(n);if(!isNaN(c)&&!eK(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return l&&(a=sp(a)),{type:"threshold",scale:iM(c<0?sp(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function eK(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const s=Wp(i,i=t[n]);if(s!==0&&s!==e)return!1}return!0}function tK(){return{type:"identity",scale:jE()}}function wp(t,e=QC){return t.length?[Kl(t,({value:n})=>n===void 0?n:Kl(n,e)),tl(t,({value:n})=>n===void 0?n:tl(n,e))]:[0,1]}function EA(t,e){const n=ti.get(t);return(n===f2||n===d2||n===h2?nK:wp)(e)}function nK(t){return[0,t.length?tl(t,({value:e})=>e===void 0?e:tl(e,QC)):1]}function rK(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=rp(t,.5,({value:a})=>a===void 0?NaN:rp(a,.25,Qp)),i=e.map(a=>3*Math.sqrt(a/r)),s=30/tl(i);return s<1?i.map(a=>a*s):i}function iK(t,e){const n=fg(t,({value:s})=>s===void 0?NaN:fg(s,Math.abs)),r=e.map(s=>12*s/n),i=60/tl(r);return i<1?r.map(s=>s*i):r}function sK(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return wp(t,Qp);if(n<0)return wp(t,i2)}return[1,10]}function aK(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function p5(t){return(e,n)=>r=>t(e+r*(n-e))}function g2(t,e,n,r,{type:i,nice:s,clamp:a,domain:l=wp(r),unknown:c,pivot:f=0,scheme:p,range:m,symmetric:g=!0,interpolate:y=ti.get(t)===sc?p==null&&m!==void 0?j0:h5(p!==void 0?p:"rdbu"):Rs,reverse:w}){f=+f,l=no(l);let[S,I]=l;if(l.length>2&&H0(`Warning: the diverging ${t} scale domain contains extra elements.`),Wp(S,I)<0&&([S,I]=[I,S],w=!w),S=Math.min(S,f),I=Math.max(I,f),typeof y!="function"&&(y=TA(y)),m!==void 0&&(y=y.length===1?p5(y)(...m):B_(y,m)),w&&(y=SA(y)),g){const R=n.apply(f),k=R-n.apply(S),A=n.apply(I)-R;k<A?S=n.invert(R-A):k>A&&(I=n.invert(R+k))}return e.domain([S,f,I]).unknown(c).interpolator(y),a&&e.clamp(a),s&&e.nice(s),{type:i,domain:[S,I],pivot:f,interpolate:y,scale:e}}function oK(t,e,n){return g2(t,vM(),fK,e,n)}function lK(t,e,n){return MA(t,e,{...n,exponent:.5})}function MA(t,e,{exponent:n=1,...r}){return g2(t,wM().exponent(n=+n),pK(n),e,{...r,type:"diverging-pow"})}function uK(t,e,{base:n=10,pivot:r=1,domain:i=wp(e,r<0?i2:Qp),...s}){return g2(t,yM().base(n=+n),hK,e,{domain:i,pivot:r,...s})}function cK(t,e,{constant:n=1,...r}){return g2(t,bM().constant(n=+n),mK(n),e,r)}const fK={apply(t){return t},invert(t){return t}},hK={apply:Math.log,invert:Math.exp},dK={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function pK(t){return t===.5?dK:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function mK(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function CA(t,e,n,r){return r1(t,e,n,r)}function gK(t,e,n){return CA(t,NZ(),e,n)}function _K(t,e,n){return CA(t,LZ(),e,n)}const i1=Symbol("ordinal");function AA(t,e,n,{type:r,interval:i,domain:s,range:a,reverse:l,hint:c}){return i=n1(i,r),s===void 0&&(s=RA(n,i,t)),(r==="categorical"||r===i1)&&(r="ordinal"),l&&(s=sp(s)),e.domain(s),a!==void 0&&(typeof a=="function"&&(a=a(s)),e.range(a)),{type:r,domain:s,range:a,scale:e,hint:c,interval:i}}function vK(t,e,{type:n,interval:r,domain:i,range:s,scheme:a,unknown:l,...c}){r=n1(r,n),i===void 0&&(i=RA(e,r,t));let f;if(ti.get(t)===p2)f=wK(e),s=s===void 0?xK(f):ji(s,l5);else if(ti.get(t)===sc&&(s===void 0&&(n==="ordinal"||n===i1)&&(s=Gj(i,a),s!==void 0&&(a=void 0)),a===void 0&&s===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(s!==void 0){const p=h5(a),m=s[0],g=s[1]-s[0];s=({length:y})=>Da(w=>p(m+g*w),y)}else s=xA(a);if(l===lb)throw new Error(`implicit unknown on ${t} scale is not supported`);return AA(t,hp().unknown(l),e,{...c,type:n,domain:i,range:s,hint:f})}function yK(t,e,{align:n=.5,padding:r=.5,...i}){return IA(dV().align(n).padding(r),e,i,t)}function bK(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:s=t==="fx"||t==="fy"?0:r,...a}){return IA(Kp().align(n).paddingInner(i).paddingOuter(s),e,a,t)}function IA(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=AA(r,t,e,n),t.round=i,t}function RA(t,e,n){const r=new k3;for(const{value:i,domain:s}of t){if(s!==void 0)return s();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,s]=ia(r).map(e.floor,e);return e.range(i,e.offset(s))}if(r.size>1e4&&ti.get(n)===ql)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return lg(r,eu)}function T9(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function wK(t){return{fill:T9(t,"fill"),stroke:T9(t,"stroke")}}function xK(t){return Pa(t.fill)?uY:lY}function wb(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:s=n,insetLeft:a=n,round:l,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,facet:{label:w=e}={},...S}={}){const I={};for(const[R,k]of t){const A=S[R],C=EK(R,k,{round:ti.get(R)===ql?l:void 0,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,...A});if(C){let{label:N=R==="fx"||R==="fy"?w:e,percent:D,transform:F,inset:W,insetTop:$=W!==void 0?W:R==="y"?r:0,insetRight:X=W!==void 0?W:R==="x"?i:0,insetBottom:V=W!==void 0?W:R==="y"?s:0,insetLeft:te=W!==void 0?W:R==="x"?a:0}=A||{};if(F==null)F=void 0;else if(typeof F!="function")throw new Error("invalid scale transform; not a function");C.percent=!!D,C.label=N===void 0?TK(k,C):N,C.transform=F,R==="x"||R==="fx"?(C.insetLeft=+te,C.insetRight=+X):(R==="y"||R==="fy")&&(C.insetTop=+$,C.insetBottom=+V),I[R]=C}}return I}function k9(t){return Object.fromEntries(Object.entries(t).filter(([,{scale:e}])=>e).map(([e,{scale:n,type:r,interval:i,label:s}])=>(n.type=r,i!=null&&(n.interval=i),s!=null&&(n.label=s),[e,n])))}function SK(t,e){const{x:n,y:r,fx:i,fy:s}=t,a=i||s?m5(e):e;i&&E9(i,a),s&&M9(s,a);const l=i||s?PA(t,e):e;n&&E9(n,l),r&&M9(r,l)}function TK(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!hf(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function m5(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:s,height:a,facet:{marginTop:l,marginRight:c,marginBottom:f,marginLeft:p}}=t;return{marginTop:Math.max(e,l),marginRight:Math.max(n,c),marginBottom:Math.max(r,f),marginLeft:Math.max(i,p),width:s,height:a}}function PA({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=m5(n);return{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:t?t.scale.bandwidth()+a+i:l,height:e?e.scale.bandwidth()+r+s:c,facet:{width:l,height:c}}}function E9(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:s=0,marginRight:a=0}=e,l=s+n,c=i-a-r;t.range=[l,Math.max(l,c)],hf(t)||(t.range=LA(t)),t.scale.range(t.range)}NA(t)}function M9(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:s=0,marginBottom:a=0}=e,l=s+n,c=i-a-r;t.range=[Math.max(l,c),l],hf(t)?t.range.reverse():t.range=LA(t),t.scale.range(t.range)}NA(t)}function NA(t){t.round===void 0&&CK(t)&&kK(t)<=30&&t.scale.round(!0)}function kK({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,l=Math.abs(r-n)/Math.max(1,a+s*2);return(l-Math.floor(l))*a}function LA(t){const e=t.scale.domain().length+OA(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,s)=>n+s/(e-1)*(r-n))}function EK(t,e=[],n={}){const r=MK(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&hf({type:r})){const i=e.map(({value:s})=>s).filter(s=>s!==void 0);i.some(Ku)?H0(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Nf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Nf(r)}".`):i.some(nj)?H0(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Nf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Nf(r)}".`):i.some(rj)&&H0(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Nf(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Nf(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=hm(e,n,Gg);break;case"identity":switch(ti.get(t)){case ql:n=hm(e,n,Gg);break;case p2:n=hm(e,n,AK);break}break;case"utc":case"time":n=hm(e,n,$Y);break}switch(r){case"diverging":return oK(t,e,n);case"diverging-sqrt":return lK(t,e,n);case"diverging-pow":return MA(t,e,n);case"diverging-log":return uK(t,e,n);case"diverging-symlog":return cK(t,e,n);case"categorical":case"ordinal":case i1:return vK(t,e,n);case"cyclical":case"sequential":case"linear":return Yj(t,e,n);case"sqrt":return jj(t,e,n);case"threshold":return d5(t,e,n);case"quantile":return Jj(t,e,n);case"quantize":return Qj(t,e,n);case"pow":return kA(t,e,n);case"log":return Kj(t,e,n);case"symlog":return Xj(t,e,n);case"utc":return _K(t,e,n);case"time":return gK(t,e,n);case"point":return yK(t,e,n);case"band":return bK(t,e,n);case"identity":return ti.get(t)===ql?tK():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Nf(t){return typeof t=="symbol"?t.description:t}const C9={toString:()=>"projection"};function MK(t,e,{type:n,domain:r,range:i,scheme:s,pivot:a,projection:l}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&l!=null&&(n=C9);for(const{type:f}of e)if(f!==void 0){if(n===void 0)n=f;else if(n!==f)throw new Error(`scale incompatible with channel: ${n} !== ${f}`)}if(n===C9)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:f})=>f!==void 0))return;const c=ti.get(t);if(c===f2)return"sqrt";if(c===d2||c===h2)return"linear";if(c===p2)return"ordinal";if((r||i||[]).length>2)return C4(c);if(r!==void 0){if(d9(r))return C4(c);if(Ku(r))return"utc"}else{const f=e.map(({value:p})=>p).filter(p=>p!==void 0);if(f.some(d9))return C4(c);if(f.some(Ku))return"utc"}if(c===sc){if(a!=null||Vj(s))return"diverging";if(Wj(s))return"categorical"}return"linear"}function C4(t){switch(t){case ql:return"point";case sc:return i1;default:return"ordinal"}}function g5({type:t}){return t==="time"||t==="utc"}function hf({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===i1}function OA({type:t}){return t==="threshold"}function CK({type:t}){return t==="point"||t==="band"}function bh(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function hm(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function AK(t){return ji(t,l5)}function IK(t){return e=>{if(!ti.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in t?RK(t[e]):void 0}}function RK({scale:t,type:e,domain:n,range:r,interpolate:i,interval:s,transform:a,percent:l,pivot:c}){if(e==="identity")return{type:"identity",apply:p=>p,invert:p=>p};const f=t.unknown?t.unknown():void 0;return{type:e,domain:gb(n),...r!==void 0&&{range:gb(r)},...a!==void 0&&{transform:a},...l&&{percent:l},...f!==void 0&&{unknown:f},...s!==void 0&&{interval:s},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:p=>t(p),...t.invert&&{invert:p=>t.invert(p)}}}function PK(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,s)=>i!==r[s]))&&(n=r,e=t(...r)),e)}const NK=PK(t=>new Intl.NumberFormat(t));function LK(t="en-US"){const e=NK(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function OK(t){return eA(t,"Invalid Date")}function DK(t="en-US"){const e=LK(t);return n=>(n instanceof Date?OK:typeof n=="number"?e:Qs)(n)}const Hu=DK(),ta=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let BK=0;function A9(){return`plot-clip-${++BK}`}function zK(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:s,target:a,fill:l,fillOpacity:c,stroke:f,strokeWidth:p,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:y,strokeMiterlimit:w,strokeDasharray:S,strokeDashoffset:I,opacity:R,mixBlendMode:k,imageFilter:A,paintOrder:C,pointerEvents:N,shapeRendering:D,channels:F},{ariaLabel:W,fill:$="currentColor",fillOpacity:X,stroke:V="none",strokeOpacity:te,strokeWidth:me,strokeLinecap:ue,strokeLinejoin:ie,strokeMiterlimit:ge,paintOrder:se}){$===null&&(l=null,c=null),V===null&&(f=null,m=null),Pa($)?!Pa(V)&&(!Pa(l)||F!=null&&F.fill)&&(V="none"):Pa(V)&&(!Pa(f)||F!=null&&F.stroke)&&($="none");const[fe,oe]=ef(l,$),[Z,Q]=Ns(c,X),[he,Ne]=ef(f,V),[Ue,De]=Ns(m,te),[Pe,ke]=Ns(R);yp(Ne)||(p===void 0&&(p=me),y===void 0&&(y=ue),g===void 0&&(g=ie),w===void 0&&!aj(g)&&(w=ge),!yp(oe)&&C===void 0&&(C=se));const[Ee,pe]=Ns(p);return $!==null&&(t.fill=us(oe,"currentColor"),t.fillOpacity=gd(Q,1)),V!==null&&(t.stroke=us(Ne,"none"),t.strokeWidth=gd(pe,1),t.strokeOpacity=gd(De,1),t.strokeLinejoin=us(g,"miter"),t.strokeLinecap=us(y,"butt"),t.strokeMiterlimit=gd(w,4),t.strokeDasharray=us(S,"none"),t.strokeDashoffset=us(I,"0")),t.target=Qs(a),t.ariaLabel=Qs(W),t.ariaDescription=Qs(i),t.ariaHidden=Qs(s),t.opacity=gd(ke,1),t.mixBlendMode=us(k,"normal"),t.imageFilter=us(A,"none"),t.paintOrder=us(C,"normal"),t.pointerEvents=us(N,"auto"),t.shapeRendering=us(D,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:fe,scale:"auto",optional:!0},fillOpacity:{value:Z,scale:"auto",optional:!0},stroke:{value:he,scale:"auto",optional:!0},strokeOpacity:{value:Ue,scale:"auto",optional:!0},strokeWidth:{value:Ee,optional:!0},opacity:{value:Pe,scale:"auto",optional:!0}}}function FK(t,e){e&&t.filter(n=>r5(e[n])).append("title").call(qK,e)}function UK(t,e){e&&t.filter(([n])=>r5(e[n])).append("title").call(HK,e)}function qK(t,e){e&&t.text(n=>Hu(e[n]))}function HK(t,e){e&&t.text(([n])=>Hu(e[n]))}function ac(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Xt(t,"aria-label",g=>r[g]),s&&Xt(t,"fill",g=>s[g]),a&&Xt(t,"fill-opacity",g=>a[g]),l&&Xt(t,"stroke",g=>l[g]),c&&Xt(t,"stroke-opacity",g=>c[g]),f&&Xt(t,"stroke-width",g=>f[g]),p&&Xt(t,"opacity",g=>p[g]),m&&DA(t,g=>m[g],e),n||FK(t,i)}function WK(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Xt(t,"aria-label",([g])=>r[g]),s&&Xt(t,"fill",([g])=>s[g]),a&&Xt(t,"fill-opacity",([g])=>a[g]),l&&Xt(t,"stroke",([g])=>l[g]),c&&Xt(t,"stroke-opacity",([g])=>c[g]),f&&Xt(t,"stroke-width",([g])=>f[g]),p&&Xt(t,"opacity",([g])=>p[g]),m&&DA(t,([g])=>m[g],e),n||UK(t,i)}function GK({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:s,strokeWidth:a,opacity:l,href:c},{tip:f}){return[t,f?void 0:e,n,r,i,s,a,l,c].filter(p=>p!==void 0)}function $K(t,e,n){const r=E3(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&H0("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*VK(t,e,n,r){const{z:i}=n,{z:s}=r,a=GK(r,n),l=[...e,...a];for(const c of s?$K(t,s,i):[t]){let f,p;e:for(const m of c){for(const g of l)if(!jc(g[m])){p&&p.push(-1);continue e}if(f===void 0){p&&(yield p),f=a.map(g=>D0(g[m])),p=[m];continue}p.push(m);for(let g=0;g<a.length;++g)if(D0(a[g][m])!==f[g]){yield p,f=a.map(w=>D0(w[m])),p=[m];continue e}}p&&(yield p)}}function ZK(t){return t===!0?t="frame":t===!1&&(t=null),s2(t,"clip",["frame","sphere"])}function YK(t,e,n,r){let i;switch(e.clip){case"frame":{const{width:s,height:a,marginLeft:l,marginRight:c,marginTop:f,marginBottom:p}=n,m=A9();i=`url(#${m})`,t=Ji("svg:g",r).call(g=>g.append("svg:clipPath").attr("id",m).append("rect").attr("x",l).attr("y",f).attr("width",s-c-l).attr("height",a-f-p)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const a=A9();i=`url(#${a})`,t.append("clipPath").attr("id",a).append("path").attr("d",dh(s)({type:"Sphere"}));break}}Xt(t,"aria-label",e.ariaLabel),Xt(t,"aria-description",e.ariaDescription),Xt(t,"aria-hidden",e.ariaHidden),Xt(t,"clip-path",i)}function ol(t,e,n,r){YK(t,e,n,r),Xt(t,"fill",e.fill),Xt(t,"fill-opacity",e.fillOpacity),Xt(t,"stroke",e.stroke),Xt(t,"stroke-width",e.strokeWidth),Xt(t,"stroke-opacity",e.strokeOpacity),Xt(t,"stroke-linejoin",e.strokeLinejoin),Xt(t,"stroke-linecap",e.strokeLinecap),Xt(t,"stroke-miterlimit",e.strokeMiterlimit),Xt(t,"stroke-dasharray",e.strokeDasharray),Xt(t,"stroke-dashoffset",e.strokeDashoffset),Xt(t,"shape-rendering",e.shapeRendering),Xt(t,"filter",e.imageFilter),Xt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Xt(t,"pointer-events",i)}function ll(t,e){jK(t,"mix-blend-mode",e.mixBlendMode),Xt(t,"opacity",e.opacity)}function DA(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const s=this.ownerDocument.createElementNS(sh.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(sh.xlink,"href",i),n!=null&&s.setAttribute("target",n),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Xt(t,e,n){n!=null&&t.attr(e,n)}function jK(t,e,n){n!=null&&t.style(e,n)}function Po(t,e,{x:n,y:r},i=ta,s=ta){i+=e.dx,s+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(s+=r.bandwidth()/2),(i||s)&&t.attr("transform",`translate(${i},${s})`)}function us(t,e){if((t=Qs(t))!==e)return t}function gd(t,e){if((t=wr(t))!==e)return t}const KK=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function _5(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!KK.test(t))throw new Error(`invalid class name: ${t}`);return t}function v5(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function s1({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:s,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-s:(r+n-s)/2]}function XK(t,e,n={}){let r=.5-ta,i=.5+ta,s=.5+ta,a=.5-ta;for(const{marginTop:S,marginRight:I,marginBottom:R,marginLeft:k}of e)S>r&&(r=S),I>i&&(i=I),R>s&&(s=R),k>a&&(a=k);let{margin:l,marginTop:c=l!==void 0?l:r,marginRight:f=l!==void 0?l:i,marginBottom:p=l!==void 0?l:s,marginLeft:m=l!==void 0?l:a}=n;c=+c,f=+f,p=+p,m=+m;let{width:g=640,height:y=JK(t,n,{width:g,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:s,marginLeftDefault:a})+Math.max(0,c-r+p-s)}=n;g=+g,y=+y;const w={width:g,height:y,marginTop:c,marginRight:f,marginBottom:p,marginLeft:m};if(t.fx||t.fy){let{margin:S,marginTop:I=S!==void 0?S:c,marginRight:R=S!==void 0?S:f,marginBottom:k=S!==void 0?S:p,marginLeft:A=S!==void 0?S:m}=n.facet??{};I=+I,R=+R,k=+k,A=+A,w.facet={marginTop:I,marginRight:R,marginBottom:k,marginLeft:A}}return w}function JK({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:s},{width:a,marginTopDefault:l,marginRightDefault:c,marginBottomDefault:f,marginLeftDefault:p}){const m=n?n.scale.domain().length:1,g=qj(i);if(g){const w=r?r.scale.domain().length:1,S=(1.1*m-.1)/(1.1*w-.1)*g,I=Math.max(.1,Math.min(10,S));return Math.round((a-p-c)*I+l+f)}const y=e?hf(e)?e.scale.domain().length:Math.max(7,17/m):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const w=I9("y",e)/(I9("x",t)*s),S=r?r.scale.bandwidth():1,I=n?n.scale.bandwidth():1,R=S*(a-p-c)-t.insetLeft-t.insetRight;return(w*R+e.insetTop+e.insetBottom)/I+l+f}return!!(e||n)*Math.max(1,Math.min(60,y*m))*20+!!r*30+60}function I9(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const l=e.scale.exponent();i=c=>Math.pow(c,l);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[s,a]=ia(r);return Math.abs(i(a)-i(s))}function QK(t,e){const{fx:n,fy:r}=wb(t,e),i=n==null?void 0:n.scale.domain(),s=r==null?void 0:r.scale.domain();return i&&s?FU(i,s).map(([a,l],c)=>({x:a,y:l,i:c})):i?i.map((a,l)=>({x:a,i:l})):s?s.map((a,l)=>({y:a,i:l})):void 0}function eX(t,{x:e,y:n}){return e&&(e=xb(e)),n&&(n=xb(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function y5(t,{fx:e,fy:n}){const r=s0(t),i=e==null?void 0:e.value,s=n==null?void 0:n.value;return e&&n?zd(r,a=>(a.fx=i[a[0]],a.fy=s[a[0]],a),a=>i[a],a=>s[a]):e?zd(r,a=>(a.fx=i[a[0]],a),a=>i[a]):zd(r,a=>(a.fy=s[a[0]],a),a=>s[a])}function tX(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:s})=>`translate(${t(i)-r},${e(s)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function nX(t){const e=[],n=new Uint32Array(fr(t,r=>r.length));for(const r of t){let i=0;for(const s of t)r!==s&&(n.set(s,i),i+=s.length);e.push(n.slice(0,i))}return e}const rX=new Map([["top",A4],["right",P4],["bottom",I4],["left",R4],["top-left",dm(A4,R4)],["top-right",dm(A4,P4)],["bottom-left",dm(I4,R4)],["bottom-right",dm(I4,P4)],["top-empty",aX],["right-empty",uX],["bottom-empty",oX],["left-empty",lX],["empty",cX]]);function iX(t){if(t==null)return null;const e=rX.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const R9=new WeakMap;function xb(t){let e=R9.get(t);return e||R9.set(t,e=new Z0(ji(t,(n,r)=>[n,r]))),e}function o0(t,e){return xb(t).get(e)}function sX(t,e,n){return e=D0(e),n=D0(n),t.find(r=>Object.is(D0(r.x),e)&&Object.is(D0(r.y),n))}function _2(t,e,n){var r;return(r=sX(t,e,n))==null?void 0:r.empty}function A4(t,{y:e},{y:n}){return e?o0(e,n)===0:!0}function I4(t,{y:e},{y:n}){return e?o0(e,n)===e.length-1:!0}function R4(t,{x:e},{x:n}){return e?o0(e,n)===0:!0}function P4(t,{x:e},{x:n}){return e?o0(e,n)===e.length-1:!0}function aX(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=o0(e,r);if(s>0)return _2(t,n,e[s-1])}function oX(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=o0(e,r);if(s<e.length-1)return _2(t,n,e[s+1])}function lX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=o0(e,n);if(s>0)return _2(t,e[s-1],r)}function uX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=o0(e,n);if(s<e.length-1)return _2(t,e[s+1],r)}function cX(t,e,{empty:n}){return n}function dm(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function N4(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:s})=>{var a;return((a=r.get(i))==null?void 0:a.get(s))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class za{constructor(e,n={},r={},i){const{facet:s="auto",facetAnchor:a,fx:l,fy:c,sort:f,dx:p=0,dy:m=0,margin:g=0,marginTop:y=g,marginRight:w=g,marginBottom:S=g,marginLeft:I=g,clip:R,channels:k,tip:A,render:C}=r;if(this.data=e,this.sort=_h(f)?f:null,this.initializer=yh(r).initializer,this.transform=this.initializer?r.transform:u5(r).transform,s===null||s===!1?this.facet=null:(this.facet=ic(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=e===jm&&typeof l=="string"?[l]:l,this.fy=e===jm&&typeof c=="string"?[c]:c),this.facetAnchor=iX(a),n=hA(n),k!==void 0&&(n={...fX(k),...n}),i!==void 0&&(n={...zK(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([N,D])=>{if(a2(D.value)){const{value:F,scale:W=D.scale}=D.value;D={...D,scale:W,value:F}}if(e===jm&&typeof D.value=="string"){const{value:F}=D;D={...D,value:[F]}}return[N,D]}).filter(([N,{value:D,optional:F}])=>{if(D!=null)return!0;if(F)return!1;throw new Error(`missing channel value: ${N}`)})),this.dx=+p,this.dy=+m,this.marginTop=+y,this.marginRight=+w,this.marginBottom=+S,this.marginLeft=+I,this.clip=ZK(R),this.tip=hX(A),this.facet==="super"){if(l||c)throw new Error("super-faceting cannot use fx or fy");for(const N in this.channels){const{scale:D}=n[N];if(!(D!=="x"&&D!=="y"))throw new Error("super-faceting cannot use x or y")}}C!=null&&(this.render=zA(C,this.render))}initialize(e,n,r){let i=no(this.data);e===void 0&&i!=null&&(e=[s0(i)]);const s=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=no(i)),e!==void 0&&(e.original=s);const a=Cj(this.channels,i);return this.sort!=null&&Ij(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:s=jc}=n[i];if(s!==null){const a=r[i];e=e.filter(l=>s(a[l]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const s=i.replace(/^x|x$/,"y");s in e&&e[s].scale==="y"&&Fj(i,s,n,r.projection)}}scale(e,n,r){const i=Aj(e,n);return r.projection&&this.project(e,i,r),i}}function BA(...t){return t.plot=za.prototype.plot,t}function zA(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,s,a,l){return t.call(this,n,r,i,s,a,(c,f,p,m,g)=>e.call(this,c,f,p,m,g,l))}}function fX(t){return Object.fromEntries(Object.entries(hA(t)).map(([e,n])=>(n=l2(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function hX(t){return t===!0?"xy":t===!1?null:s2(t,"tip",["x","y","xy"])}function b5(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:t}const P9=new WeakMap;function w5(t,e,{x:n,y:r,px:i,py:s,maxRadius:a=40,channels:l,render:c,...f}={}){return a=+a,i!=null&&(n??(n=null),l={...l,px:{value:i,scale:"x"}}),s!=null&&(r??(r=null),l={...l,py:{value:s,scale:"y"}}),{x:n,y:r,channels:l,...f,render:zA(function(p,m,g,y,w,S){w={...w,pointerSticky:!1};const I=w.ownerSVGElement,{data:R}=w.getMarkState(this);let k=P9.get(I);k||P9.set(I,k={sticky:!1,roots:[],renders:[]});let A=k.renders.push(Ne)-1;const{x:C,y:N,fx:D,fy:F}=m;let W=D?D(p.fx)-y.marginLeft:0,$=F?F(p.fy)-y.marginTop:0;C!=null&&C.bandwidth&&(W+=C.bandwidth()/2),N!=null&&N.bandwidth&&($+=N.bandwidth()/2);const X=p.fi!=null;let V;if(X){let ke=k.facetStates;ke||(k.facetStates=ke=new Map),V=ke.get(this),V||ke.set(this,V=new Map)}const[te,me]=s1(this,y),{px:ue,py:ie}=g,ge=ue?ke=>ue[ke]:FA(g,te),se=ie?ke=>ie[ke]:UA(g,me);let fe,oe,Z,Q;function he(ke,Ee){if(X)if(Q&&(Q=cancelAnimationFrame(Q)),ke==null)V.delete(p.fi);else{V.set(p.fi,Ee),Q=requestAnimationFrame(()=>{Q=null;for(const pe of V.values())if(pe<Ee){ke=null;break}Ne(ke)});return}Ne(ke)}function Ne(ke){if(fe===ke&&Z===k.sticky)return;fe=ke,Z=w.pointerSticky=k.sticky;const Ee=fe==null?[]:[fe];X&&(Ee.fx=p.fx,Ee.fy=p.fy,Ee.fi=p.fi);const pe=S(Ee,m,g,y,w);if(oe){if(X){const Ae=oe.parentNode,Le=oe.getAttribute("transform"),be=pe.getAttribute("transform");Le?pe.setAttribute("transform",Le):pe.removeAttribute("transform"),be?Ae.setAttribute("transform",be):Ae.removeAttribute("transform"),pe.removeAttribute("aria-label"),pe.removeAttribute("aria-description"),pe.removeAttribute("aria-hidden")}oe.replaceWith(pe)}return k.roots[A]=oe=pe,w.dispatchValue(fe==null?null:R[fe]),pe}function Ue(ke){if(k.sticky||ke.pointerType==="mouse"&&ke.buttons===1)return;let[Ee,pe]=XH(ke);Ee-=W,pe-=$;let Ae=null,Le=a*a;for(const be of p){const Ke=t*(ge(be)-Ee),qe=e*(se(be)-pe),ct=Ke*Ke+qe*qe;ct<=Le&&(Ae=be,Le=ct)}he(Ae,Le)}function De(ke){ke.pointerType==="mouse"&&fe!=null&&(k.sticky&&k.roots.some(Ee=>Ee==null?void 0:Ee.contains(ke.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(Ee=>Ee(null))):(k.sticky=!0,Ne(fe)),ke.stopImmediatePropagation()))}function Pe(ke){ke.pointerType==="mouse"&&(k.sticky||he(null))}return I.addEventListener("pointerenter",Ue),I.addEventListener("pointermove",Ue),I.addEventListener("pointerdown",De),I.addEventListener("pointerleave",Pe),Ne(null)},c)}}function dX(t){return w5(1,1,t)}function pX(t){return w5(1,.01,t)}function mX(t){return w5(.01,1,t)}function FA({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function UA({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function qA(t){return hf(t)&&t.interval===void 0?void 0:"tabular-nums"}function gX(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:s=44+r,marginTop:a=18,marginRight:l=0,marginBottom:c=16+r,marginLeft:f=0,style:p,ticks:m=(i-f-l)/64,tickFormat:g,fontVariant:y=qA(t),round:w=!0,opacity:S,className:I}=e;const R=f5(e);I=_5(I),S=Ns(S)[1],g===null&&(g=()=>null);const k=Ji("svg",R).attr("class",`${I}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",s).attr("viewBox",`0 0 ${i} ${s}`).call(te=>te.append("style").text(`.${I}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${I}-ramp text {
  white-space: pre;
}`)).call(v5,p);let A=te=>te.selectAll(".tick line").attr("y1",a+c-s),C;const N=w?(te,me)=>te.rangeRound(me):(te,me)=>te.range(me),{type:D,domain:F,range:W,interpolate:$,scale:X,pivot:V}=t;if($){const te=W===void 0?$:B_($.length===1?p5($):$,W);C=N(X.copy(),Da(Rs(f,i-l),Math.min(F.length+(V!==void 0),W===void 0?1/0:W.length)));const me=256,ue=R.document.createElement("canvas");ue.width=me,ue.height=1;const ie=ue.getContext("2d");for(let ge=0,se=me-1;ge<me;++ge)ie.fillStyle=te(ge/se),ie.fillRect(ge,0,1,1);k.append("image").attr("opacity",S).attr("x",f).attr("y",a).attr("width",i-f-l).attr("height",s-a-c).attr("preserveAspectRatio","none").attr("xlink:href",ue.toDataURL())}else if(D==="threshold"){const te=F,me=g===void 0?ue=>ue:typeof g=="string"?jn(g):g;C=N(W_().domain([-1,W.length-1]),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(W).enter().append("rect").attr("x",(ue,ie)=>C(ie-1)).attr("y",a).attr("width",(ue,ie)=>C(ie)-C(ie-1)).attr("height",s-a-c).attr("fill",ue=>ue),m=ji(te,(ue,ie)=>ie),g=ue=>me(te[ue],ue)}else C=N(Kp().domain(F),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(F).enter().append("rect").attr("x",C).attr("y",a).attr("width",Math.max(0,C.bandwidth()-1)).attr("height",s-a-c).attr("fill",X),A=()=>{};return k.append("g").attr("transform",`translate(0,${s-c})`).call(yk(C).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(r).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",us(y,"normal")).call(A).call(te=>te.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const HA=Math.PI/180;function v2(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=L4(n),t.markerMid=L4(r),t.markerEnd=L4(i)}function L4(t){if(t==null||t===!1)return null;if(t===!0)return L9;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return N9("auto");case"arrow-reverse":return N9("auto-start-reverse");case"dot":return _X;case"circle":case"circle-fill":return L9;case"circle-stroke":return vX}throw new Error(`invalid marker: ${t}`)}function N9(t){return(e,n)=>Ji("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function _X(t,e){return Ji("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function L9(t,e){return Ji("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function vX(t,e){return Ji("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let yX=0;function x5(t,e,{stroke:n},r){return WA(t,e,n&&(i=>n[i]),r)}function bX(t,e,{stroke:n},r){return WA(t,e,n&&(([i])=>n[i]),r)}function WA(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},s=()=>i,a){const l=new Map;function c(f){return function(p){const m=s(p);let g=l.get(f);g||l.set(f,g=new Map);let y=g.get(m);if(!y){const w=this.parentNode.insertBefore(f(m,a),this),S=`plot-marker-${++yX}`;w.setAttribute("id",S),g.set(m,y=`url(#${S})`)}return y}}e&&t.attr("marker-start",c(e)),n&&t.attr("marker-mid",c(n)),r&&t.attr("marker-end",c(r))}function GA({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=VA(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function $A({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=VA(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function VA(t,e,n){return t===void 0&&e===void 0&&n===void 0?ta?[1,0]:[.5,.5]:[e,n]}function ZA(t,{interval:e}){return t={...l2(t)},t.interval=s5(t.interval===void 0?e:t.interval),t}function YA(t,e,n,r){const{[t]:i,[`${t}1`]:s,[`${t}2`]:a}=n,{value:l,interval:c}=ZA(i,n);if(l==null||c==null&&!r)return n;const f=t1(i);if(c==null){let y;const w={transform:S=>y||(y=Eo(S,l)),label:f};return{...n,[t]:void 0,[`${t}1`]:s===void 0?w:s,[`${t}2`]:a===void 0?w:a}}let p,m;function g(y){return m!==void 0&&y===p?m:m=ji(Eo(p=y,l),w=>c.floor(w))}return e({...n,[t]:void 0,[`${t}1`]:s===void 0?{transform:g,label:f}:s,[`${t}2`]:a===void 0?{transform:y=>g(y).map(w=>c.offset(w)),label:f}:a})}function jA(t,e,n){const{[t]:r}=n,{value:i,interval:s}=ZA(r,n);return i==null||s==null?n:e({...n,[t]:{label:t1(r),transform:a=>{const l=ji(Eo(a,i),f=>s.floor(f)),c=l.map(f=>s.offset(f));return l.map(Ku(l)?(f,p)=>f==null||isNaN(f=+f)||(p=c[p],p==null)||isNaN(p=+p)?void 0:new Date((f+p)/2):(f,p)=>f==null||(p=c[p],p==null)?NaN:(+f+ +p)/2)}}})}function wX(t={}){return YA("x",GA,t)}function KA(t={}){return YA("y",$A,t)}function xX(t={}){return jA("x",GA,t)}function SX(t={}){return jA("y",$A,t)}const XA={ariaLabel:"rule",fill:null,stroke:"currentColor"};class TX extends za{constructor(e,n={}){const{x:r,y1:i,y2:s,inset:a=0,insetTop:l=a,insetBottom:c=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},b5(n,"x"),XA),this.insetTop=wr(l),this.insetBottom=wr(c),v2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y1:f,y2:p}=r,{width:m,height:g,marginTop:y,marginRight:w,marginLeft:S,marginBottom:I}=i,{insetTop:R,insetBottom:k}=this;return Ji("svg:g",s).call(ol,this,i,s).call(Po,this,{x:c&&a},ta,0).call(A=>A.selectAll().data(e).enter().append("line").call(ll,this).attr("x1",c?C=>c[C]:(S+m-w)/2).attr("x2",c?C=>c[C]:(S+m-w)/2).attr("y1",f&&!bh(l)?C=>f[C]+R:y+R).attr("y2",p&&!bh(l)?l.bandwidth?C=>p[C]+l.bandwidth()-k:C=>p[C]-k:g-I-k).call(ac,this,r).call(x5,this,r,s)).node()}}class kX extends za{constructor(e,n={}){const{x1:r,x2:i,y:s,inset:a=0,insetRight:l=a,insetLeft:c=a}=n;super(e,{y:{value:s,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},b5(n,"y"),XA),this.insetRight=wr(l),this.insetLeft=wr(c),v2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{y:c,x1:f,x2:p}=r,{width:m,height:g,marginTop:y,marginRight:w,marginLeft:S,marginBottom:I}=i,{insetLeft:R,insetRight:k}=this;return Ji("svg:g",s).call(ol,this,i,s).call(Po,this,{y:c&&l},0,ta).call(A=>A.selectAll().data(e).enter().append("line").call(ll,this).attr("x1",f&&!bh(a)?C=>f[C]+R:S+R).attr("x2",p&&!bh(a)?a.bandwidth?C=>p[C]+a.bandwidth()-k:C=>p[C]-k:m-w-k).attr("y1",c?C=>c[C]:(y+g-I)/2).attr("y2",c?C=>c[C]:(y+g-I)/2).call(ac,this,r).call(x5,this,r,s)).node()}}function EX(t,e){let{x:n=la,y:r,y1:i,y2:s,...a}=KA(e);return[i,s]=JA(r,i,s),new TX(t,{...a,x:n,y1:i,y2:s})}function Sb(t,e){let{y:n=la,x:r,x1:i,x2:s,...a}=wX(e);return[i,s]=JA(r,i,s),new kX(t,{...a,y:n,x1:i,x2:s})}function JA(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function S5(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let s=0;s<n;++s)i+=e[s](r)+t[s+1];return i}}const MX={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},QA="";let T5=class extends za{constructor(e,n={}){const{x:r,y:i,text:s=a0(e)&&cA(e)?la:iA,frameAnchor:a,textAnchor:l=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:f=1,lineWidth:p=1/0,textOverflow:m,monospace:g,fontFamily:y=g?"ui-monospace, monospace":void 0,fontSize:w,fontStyle:S,fontVariant:I,fontWeight:R,rotate:k}=n,[A,C]=Ns(k,0),[N,D]=PX(w);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:N,optional:!0},rotate:{value:tj(A),optional:!0},text:{value:s,filter:r5,optional:!0}},n,MX),this.rotate=C,this.textAnchor=us(l,"middle"),this.lineAnchor=ic(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+p,this.textOverflow=eI(m),this.monospace=!!g,this.fontFamily=Qs(y),this.fontSize=D,this.fontStyle=Qs(S),this.fontVariant=Qs(I),this.fontWeight=Qs(R),this.frameAnchor=c2(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${p}`);this.splitLines=nI(this),this.clipLine=rI(this)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,rotate:p,text:m,title:g,fontSize:y}=r,{rotate:w}=this,[S,I]=s1(this,i);return Ji("svg:g",s).call(ol,this,i,s).call(tI,this,m,i).call(Po,this,{x:c&&a,y:f&&l}).call(R=>R.selectAll().data(e).enter().append("text").call(ll,this).call(CX,this,m,g).attr("transform",S5`translate(${c?k=>c[k]:S},${f?k=>f[k]:I})${p?k=>` rotate(${p[k]})`:w?` rotate(${w})`:""}`).call(Xt,"font-size",y&&(k=>y[k])).call(ac,this,r)).node()}};function eI(t){return t==null?null:ic(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function CX(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:s,textOverflow:a,splitLines:l,clipLine:c}=e;t.each(function(f){const p=l(Hu(n[f])??"").map(c),m=p.length,g=i==="top"?.71:i==="bottom"?1-m:(164-m*100)/200;if(m>1){let y=0;for(let w=0;w<m;++w){if(++y,!p[w])continue;const S=this.ownerDocument.createElementNS(sh.svg,"tspan");S.setAttribute("x",0),w===y-1?S.setAttribute("y",`${(g+w)*s}em`):S.setAttribute("dy",`${y*s}em`),S.textContent=p[w],this.appendChild(S),y=0}}else g&&this.setAttribute("y",`${g*s}em`),this.textContent=p[0];if(a&&!r&&p[0]!==n[f]){const y=this.ownerDocument.createElementNS(sh.svg,"title");y.textContent=n[f],this.appendChild(y)}})}function $g(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=o2(e,n)),new T5(t,{...r,x:e,y:n})}function AX(t,{x:e=la,...n}={}){return new T5(t,SX({...n,x:e}))}function I0(t,{y:e=la,...n}={}){return new T5(t,xX({...n,y:e}))}function tI(t,e,n){Xt(t,"text-anchor",e.textAnchor),Xt(t,"font-family",e.fontFamily),Xt(t,"font-size",e.fontSize),Xt(t,"font-style",e.fontStyle),Xt(t,"font-variant",e.fontVariant===void 0?IX(n):e.fontVariant),Xt(t,"font-weight",e.fontWeight)}function IX(t){return t&&(ij(t)||Ku(t))?"tabular-nums":void 0}const RX=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function PX(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),RX.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function NX(t,e,n){const r=[];let i,s=0;for(const[a,l,c]of LX(t)){if(i===void 0&&(i=a),s>i&&n(t,i,l)>e&&(r.push(t.slice(i,s)+(t[s-1]===QA?"-":"")),i=a),c){r.push(t.slice(i,l)),i=void 0;continue}s=l}return r}function*LX(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case QA:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const O9={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function k5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Dh(t,i))r+=O9[t[i]]??(sI(t,i)?120:O9.e);return r}function E5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Dh(t,i))r+=sI(t,i)?200:100;return r}function nI({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return s=>s.split(/\r\n?|\n/g);const r=t?E5:k5,i=e*100;return s=>NX(s,i,r)}function rI({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return s=>s;const r=t?E5:k5,i=e*100;switch(n){case"clip-start":return s=>B9(s,i,r,"");case"clip-end":return s=>D9(s,i,r,"");case"ellipsis-start":return s=>B9(s,i,r,Xf);case"ellipsis-middle":return s=>OX(s,i,r,Xf);case"ellipsis-end":return s=>D9(s,i,r,Xf)}}const Xf="";function wh(t,e,n,r){const i=[];let s=0;for(let a=0,l=0,c=t.length;a<c;a=l){l=Dh(t,a);const f=n(t,a,l);if(s+f>e){for(s+=r;s>e&&a>0;)l=a,a=i.pop(),s-=n(t,a,l);return[a,e-s]}s+=f,i.push(a)}return[-1,0]}function D9(t,e,n,r){t=t.trim();const i=n(r),[s]=wh(t,e,n,i);return s<0?t:t.slice(0,s).trimEnd()+r}function OX(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r)/2,[a,l]=wh(t,e/2,n,s),[c]=wh(t,i-e/2-l+s,n,-s);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Dh(t,c)).trimStart()}function B9(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r),[a]=wh(t,i-e+s,n,-s);return a<0?r:r+t.slice(Dh(t,a)).trimStart()}const Tb=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,z9=/\p{Extended_Pictographic}/uy;function Dh(t,e){return e+=DX(t,e)?2:1,zX(t,e)&&(e=Tb.lastIndex),BX(t,e)?Dh(t,e+1):e}function iI(t,e){return t.charCodeAt(e)<128}function DX(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function BX(t,e){return t.charCodeAt(e)===8205}function zX(t,e){return iI(t,e)?!1:(Tb.lastIndex=e,Tb.test(t))}function sI(t,e){return iI(t,e)?!1:(z9.lastIndex=e,z9.test(t))}const FX={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},aI=3.5,UX=aI*5,oI={draw(t,e,n){const r=e*n/UX;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},qX={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},HX=new Map([["arrow",oI],["spike",qX]]);function WX(t){return t&&typeof t.draw=="function"}function GX(t){if(WX(t))return t;const e=HX.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class lI extends za{constructor(e,n={}){const{x:r,y:i,r:s=aI,length:a,rotate:l,shape:c=oI,anchor:f="middle",frameAnchor:p}=n,[m,g]=Ns(a,12),[y,w]=Ns(l,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:y,optional:!0}},n,FX),this.r=+s,this.length=g,this.rotate=w,this.shape=GX(c),this.anchor=ic(f,"anchor",["start","middle","end"]),this.frameAnchor=c2(p)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,length:p,rotate:m}=r,{length:g,rotate:y,anchor:w,shape:S,r:I}=this,[R,k]=s1(this,i);return Ji("svg:g",s).call(ol,this,i,s).call(Po,this,{x:c&&a,y:f&&l}).call(A=>A.selectAll().data(e).enter().append("path").call(ll,this).attr("transform",S5`translate(${c?C=>c[C]:R},${f?C=>f[C]:k})${m?C=>` rotate(${m[C]})`:y?` rotate(${y})`:""}${w==="start"?"":w==="end"?p?C=>` translate(0,${p[C]})`:` translate(0,${g})`:p?C=>` translate(0,${p[C]/2})`:` translate(0,${g/2})`}`).attr("d",p?C=>{const N=O0();return S.draw(N,p[C],I),N}:(()=>{const C=O0();return S.draw(C,g,I),C})()).call(ac,this,r)).node()}}function $X(t,e={}){const{x:n=la,...r}=e;return new lI(t,{...r,x:n})}function VX(t,e={}){const{y:n=la,...r}=e;return new lI(t,{...r,y:n})}function l0(t,e){return arguments.length<2&&!a0(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function y2({anchor:t}={},e){return t===void 0?e[0]:ic(t,"anchor",e)}function uI(t){return y2(t,["left","right"])}function cI(t){return y2(t,["right","left"])}function fI(t){return y2(t,["bottom","top"])}function hI(t){return y2(t,["top","bottom"])}function dI(){const[t,e]=l0(...arguments);return mI("y",uI(e),t,e)}function ZX(){const[t,e]=l0(...arguments);return mI("fy",cI(e),t,e)}function pI(){const[t,e]=l0(...arguments);return gI("x",fI(e),t,e)}function YX(){const[t,e]=l0(...arguments);return gI("fx",hI(e),t,e)}function mI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:w=t==="y"?6:0,tickPadding:S,tickRotate:I,x:R,margin:k,marginTop:A=k===void 0?20:k,marginRight:C=k===void 0?e==="right"?40:0:k,marginBottom:N=k===void 0?20:k,marginLeft:D=k===void 0?e==="left"?40:0:k,label:F,labelAnchor:W,labelArrow:$,labelOffset:X,...V}){return w=wr(w),S=wr(S),I=wr(I),W!==void 0&&(W=ic(W,"labelAnchor",["center","top","bottom"])),$=TI($),BA(w&&!Pa(s)?jX(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:w,tickPadding:S,tickRotate:I,x:R,...V}):null,Pa(c)?null:XX(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:w,tickPadding:S,tickRotate:I,x:R,marginTop:A,marginRight:C,marginBottom:N,marginLeft:D,...V}),!Pa(c)&&F!==null?$g([],bI({fill:c,fillOpacity:f,...V},function(te,me,ue,ie,ge){const se=ie[t],{marginTop:fe,marginRight:oe,marginBottom:Z,marginLeft:Q}=t==="y"&&ge.inset||ge,he=W??(se.bandwidth?"center":"top"),Ne=X??(e==="right"?oe:Q)-3;return he==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=he,this.frameAnchor=`${he}-${e}`,this.rotate=0),this.dy=he==="top"?3-fe:he==="bottom"?Z-3:0,this.dx=e==="right"?Ne:-Ne,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[SI(t,se,{anchor:e,label:F,labelAnchor:he,labelArrow:$})]}}}})):null)}function gI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:w=t==="x"?6:0,tickPadding:S,tickRotate:I,y:R,margin:k,marginTop:A=k===void 0?e==="top"?30:0:k,marginRight:C=k===void 0?20:k,marginBottom:N=k===void 0?e==="bottom"?30:0:k,marginLeft:D=k===void 0?20:k,label:F,labelAnchor:W,labelArrow:$,labelOffset:X,...V}){return w=wr(w),S=wr(S),I=wr(I),W!==void 0&&(W=ic(W,"labelAnchor",["center","left","right"])),$=TI($),BA(w&&!Pa(s)?KX(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:w,tickPadding:S,tickRotate:I,y:R,...V}):null,Pa(c)?null:JX(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:w,tickPadding:S,tickRotate:I,y:R,marginTop:A,marginRight:C,marginBottom:N,marginLeft:D,...V}),!Pa(c)&&F!==null?$g([],bI({fill:c,fillOpacity:f,...V},function(te,me,ue,ie,ge){const se=ie[t],{marginTop:fe,marginRight:oe,marginBottom:Z,marginLeft:Q}=t==="x"&&ge.inset||ge,he=W??(se.bandwidth?"center":"right"),Ne=X??(e==="top"?fe:Z)-3;return he==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${he}`,this.textAnchor=he==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Ne:Ne,this.dx=he==="right"?oe-3:he==="left"?3-Q:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[SI(t,se,{anchor:e,label:F,labelAnchor:he,labelArrow:$})]}}}})):null)}function jX(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetLeft:p=f,insetRight:m=f,dx:g=0,y=t==="y"?void 0:null,...w}){return Bh(VX,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:s,facetAnchor:a,frameAnchor:l,y,...w,dx:e==="left"?+g-ta+ +p:+g+ta-m,anchor:"start",length:c,shape:e==="left"?sJ:aJ})}function KX(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetTop:p=f,insetBottom:m=f,dy:g=0,x:y=t==="x"?void 0:null,...w}){return Bh($X,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:s,strokeLinecap:i,facetAnchor:a,frameAnchor:l,x:y,...w,dy:e==="bottom"?+g-ta-m:+g+ta+ +p,anchor:"start",length:c,shape:e==="bottom"?rJ:iJ})}function XX(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>60?4*Math.cos(a*HA):0),tickFormat:c,text:f=typeof c=="function"?c:void 0,textAnchor:p=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:m=a>60?"top":a<-60?"bottom":"middle",fontVariant:g,inset:y=0,insetLeft:w=y,insetRight:S=y,dx:I=0,y:R=t==="y"?void 0:null,...k}){return Bh(I0,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:p,lineAnchor:m,fontVariant:g,rotate:a,y:R,...k,dx:e==="left"?+I-s-l+ +w:+I+ +s+ +l-S},function(A,C,N,D){g===void 0&&(this.fontVariant=xI(A)),f===void 0&&(D.text=wI(A,C,N,c,e))})}function JX(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>=10?4*Math.cos(a*HA):0),tickFormat:c,text:f=typeof c=="function"?c:void 0,textAnchor:p=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:m=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:g,inset:y=0,insetTop:w=y,insetBottom:S=y,dy:I=0,x:R=t==="x"?void 0:null,...k}){return Bh(AX,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:p,lineAnchor:m,fontVariant:g,rotate:a,x:R,...k,dy:e==="bottom"?+I+ +s+ +l-S:+I-s-l+ +w},function(A,C,N,D){g===void 0&&(this.fontVariant=xI(A)),f===void 0&&(D.text=wI(A,C,N,c,e))})}function QX(){const[t,e]=l0(...arguments);return _I("y",uI(e),t,e)}function eJ(){const[t,e]=l0(...arguments);return _I("fy",cI(e),t,e)}function tJ(){const[t,e]=l0(...arguments);return vI("x",fI(e),t,e)}function nJ(){const[t,e]=l0(...arguments);return vI("fx",hI(e),t,e)}function _I(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:s=e==="left"?i:null,x2:a=e==="right"?i:null,...l}){return Bh(Sb,t,`${t}-grid`,n,{y:r,x1:s,x2:a,...yI(l)})}function vI(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:s=e==="top"?i:null,y2:a=e==="bottom"?i:null,...l}){return Bh(EX,t,`${t}-grid`,n,{x:r,y1:s,y2:a,...yI(l)})}function yI({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...s}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...s}}function bI({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:s,monospace:a,pointerEvents:l,shapeRendering:c},f){return[,t]=ef(t),[,e]=Ns(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:s,monospace:a,pointerEvents:l,shapeRendering:c,initializer:f}}function Bh(t,e,n,r,i,s){let a;function l(p,m,g,y,w,S){const I=p==null&&(e==="fx"||e==="fy"),{[e]:R}=y;if(!R)throw new Error(`missing scale: ${e}`);let{ticks:k,tickSpacing:A,interval:C}=i;if(g5(R)&&typeof k=="string"&&(C=k,k=void 0),p==null){if(a0(k))p=no(k);else if(R.ticks)if(k!==void 0)p=R.ticks(k);else if(C=n1(C===void 0?R.interval:C,R.type),C!==void 0){const[D,F]=ia(R.domain());p=C.range(D,C.offset(C.floor(F)))}else{const[D,F]=ia(R.range());k=(F-D)/(A===void 0?e==="x"?80:35:A),p=R.ticks(k)}else p=R.domain();e==="y"||e==="x"?m=[s0(p)]:a[e]={scale:e,value:la}}s==null||s.call(this,R,p,k,a);const N=Object.fromEntries(Object.entries(a).map(([D,F])=>[D,{...F,value:Eo(p,F.value)}]));return I&&(m=S.filterFacets(p,N)),{data:p,facets:m,channels:N}}const c=yh(i).initializer,f=t(r,yh({...i,initializer:l},c));return r==null?(a=f.channels,f.channels={}):a={},f.ariaLabel=n,f}function wI(t,e,n,r,i){return{value:Vg(t,e,n,r,i)}}function Vg(t,e,n,r,i){return r===void 0&&g5(t)?BY(t,e,n,i):t.tickFormat?t.tickFormat(a0(n)?null:n,r):r===void 0?OY(t.interval)?mp("%Y"):DY(t.interval)?X_("%Y"):Hu:typeof r=="string"?(Ku(t.domain())?mp:jn)(r):e1(r)}const rJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},iJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},sJ={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},aJ={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function xI(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function oJ(t){return Math.sign(vh(t.domain()))*Math.sign(vh(t.range()))}function SI(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:s}={}){if(!(r==null||r.inferred&&lJ(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),s==="auto"&&(s=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!s)return r;if(s===!0){const a=oJ(e);a&&(s=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(s){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function TI(t="auto"){return Pa(t)?!1:typeof t=="boolean"?t:ic(t,"labelArrow",["auto","up","right","down","left"])}function lJ(t){return g5(t)||t.interval!=null}function F9(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function uJ(t,{opacity:e,...n}={}){if(!hf(t)&&!OA(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return kI(t,n,(r,i,s,a)=>r.append("svg").attr("width",s).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ns(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function cJ(t,{fill:e=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(p=>(p=t.hint)==null?void 0:p.stroke)()!==void 0?t.hint.stroke:Pa(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:s=1.5,r:a=4.5,...l}={},c){const[m,g]=ef(e),[y,w]=ef(r),S=F9(c,m),I=F9(c,y),R=a*a*Math.PI;return n=Ns(n)[1],i=Ns(i)[1],s=Ns(s)[1],kI(t,l,(k,A,C,N)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",C).attr("height",N).attr("fill",m==="color"?D=>S.scale(D):g).attr("fill-opacity",n).attr("stroke",y==="color"?D=>I.scale(D):w).attr("stroke-opacity",i).attr("stroke-width",s).append("path").attr("d",D=>{const F=O0();return t.scale(D).draw(F,R),F}))}function kI(t,e={},n){let{columns:r,tickFormat:i,fontVariant:s=qA(t),swatchSize:a=15,swatchWidth:l=a,swatchHeight:c=a,marginLeft:f=0,className:p,style:m,width:g}=e;const y=f5(e);p=_5(p),typeof i!="function"&&(i=Vg(t.scale,t.domain,void 0,i));const w=Ji("div",y).attr("class",`${p}-swatches ${p}-swatches-${r!=null?"columns":"wrap"}`);let S;return r!=null?(S=`.${p}-swatches-columns .${p}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${p}-swatches-columns .${p}-swatch::before {
  flex-shrink: 0;
}
.${p}-swatches-columns .${p}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,w.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${p}-swatch`).call(n,t,l,c).call(I=>I.append("div").attr("class",`${p}-swatch-label`).attr("title",i).text(i))):(S=`.${p}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${p}-swatches-wrap .${p}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,w.selectAll().data(t.domain).enter().append("span").attr("class",`${p}-swatch`).call(n,t,l,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),w.call(I=>I.insert("style","*").text(`.${p}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${p}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${S}`)).style("margin-left",f?`${+f}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",us(s,"normal")).call(v5,m).node()}const kb=new Map([["symbol",cJ],["color",MI],["opacity",hJ]]);function fJ(t,e,n={}){return(r,i)=>{if(!kb.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return kb.get(r)(t[r],EI(e,n[r],i),s=>t[s])}}function EI({className:t,...e},{label:n,ticks:r,tickFormat:i}={},s){return oj(s,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function MI(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return uJ(t,n);case"ramp":return gX(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function hJ({type:t,interpolate:e,...n},{legend:r=!0,color:i=Vc(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return MI({type:t,...n,interpolate:dJ(i)},{legend:r,...s})}function dJ(t){const{r:e,g:n,b:r}=Vc(t)||Vc(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function pJ(t,e,n){const r=[];for(const[i,s]of kb){const a=n[i];if(a!=null&&a.legend&&i in t){const l=s(t[i],EI(e,t[i],a),c=>t[c]);l!=null&&r.push(l)}}return r}const mJ={ariaLabel:"frame",fill:"none",stroke:"currentColor"},gJ={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class _J extends za{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:s=r,insetBottom:a=r,insetLeft:l=r,rx:c,ry:f}=e;super(jm,void 0,e,n==null?mJ:gJ),this.anchor=s2(n,"anchor",["top","right","bottom","left"]),this.insetTop=wr(i),this.insetRight=wr(s),this.insetBottom=wr(a),this.insetLeft=wr(l),this.rx=wr(c),this.ry=wr(f)}render(e,n,r,i,s){const{marginTop:a,marginRight:l,marginBottom:c,marginLeft:f,width:p,height:m}=i,{anchor:g,insetTop:y,insetRight:w,insetBottom:S,insetLeft:I,rx:R,ry:k}=this,A=f+I,C=p-l-w,N=a+y,D=m-c-S;return Ji(g?"svg:line":"svg:rect",s).datum(0).call(ol,this,i,s).call(ll,this).call(ac,this,r).call(Po,this,{}).call(g==="left"?F=>F.attr("x1",A).attr("x2",A).attr("y1",N).attr("y2",D):g==="right"?F=>F.attr("x1",C).attr("x2",C).attr("y1",N).attr("y2",D):g==="top"?F=>F.attr("x1",A).attr("x2",C).attr("y1",N).attr("y2",N):g==="bottom"?F=>F.attr("x1",A).attr("x2",C).attr("y1",D).attr("y2",D):F=>F.attr("x",A).attr("y",N).attr("width",C-A).attr("height",D-N).attr("rx",R).attr("ry",k)).node()}}function vJ(t){return new _J(t)}const O4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},yJ=new Set(["geometry","href","src","ariaLabel"]);class bJ extends za{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&a0(e)&&cA(e)&&(n={...n,title:la});const{x:r,y:i,x1:s,x2:a,y1:l,y2:c,anchor:f,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:w,fontWeight:S,lineHeight:I=1,lineWidth:R=20,frameAnchor:k,textAnchor:A="start",textOverflow:C,textPadding:N=8,title:D,pointerSize:F=12,pathFilter:W="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:s!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:l!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:a==null},y1:{value:l,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:s==null},y2:{value:c,scale:"y",optional:l==null},title:{value:D,optional:!0}},n,O4),this.anchor=fA(f,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=c2(k),this.textAnchor=us(A,"middle"),this.textPadding=+N,this.pointerSize=+F,this.pathFilter=Qs(W),this.lineHeight=+I,this.lineWidth=+R,this.textOverflow=eI(C),this.monospace=!!p,this.fontFamily=Qs(m),this.fontSize=wr(g),this.fontStyle=Qs(y),this.fontVariant=Qs(w),this.fontWeight=Qs(S);for(const $ in O4)$ in this.channels&&(this[$]=O4[$]);this.splitLines=nI(this),this.clipLine=rI(this)}render(e,n,r,i,s){const a=this,{x:l,y:c,fx:f,fy:p}=n,{ownerSVGElement:m,document:g}=s,{anchor:y,monospace:w,lineHeight:S,lineWidth:I}=this,{textPadding:R,pointerSize:k,pathFilter:A}=this,{marginTop:C,marginLeft:N}=i,D=kJ(r),{x1:F,y1:W,x2:$,y2:X,x:V=F??$,y:te=W??X}=r,me=f?f(e.fx)-N:0,ue=p?p(e.fy)-C:0,[ie,ge]=s1(this,i),se=FA(r,ie),fe=UA(r,ge),oe=w?E5:k5,Z=oe(Xf),Q=f&&Vg(f),he=p&&Vg(p);function*Ne(ke,Ee){if("title"in ke){const pe=ke.title.value[Ee];for(const Ae of a.splitLines(Hu(pe)))yield{name:"",value:a.clipLine(Ae)};return}for(const pe in ke){if(pe==="x1"&&"x2"in ke||pe==="y1"&&"y2"in ke)continue;const Ae=ke[pe],Le=Ae.value[Ee];if(!(!jc(Le)&&Ae.scale==null))if(pe==="x2"&&"x1"in ke)yield{name:D4(n,Ae,"x"),value:U9(ke.x1,Ae,Ee)};else if(pe==="y2"&&"y1"in ke)yield{name:D4(n,Ae,"y"),value:U9(ke.y1,Ae,Ee)};else{const be=Ae.scale,Ke={name:D4(n,Ae,pe),value:Hu(Le)};(be==="color"||be==="opacity")&&(Ke[be]=r[pe][Ee]),yield Ke}}e.fi!=null&&f&&(yield{name:String(f.label??"fx"),value:Q(e.fx)}),e.fi!=null&&p&&(yield{name:String(p.label??"fy"),value:he(e.fy)})}const Ue=Ji("svg:g",s).call(ol,this,i,s).call(tI,this).call(Po,this,{x:V&&l,y:te&&c}).call(ke=>ke.selectAll().data(e).enter().append("g").attr("transform",Ee=>`translate(${Math.round(se(Ee))},${Math.round(fe(Ee))})`).call(ll,this).call(Ee=>Ee.append("path").attr("filter",A)).call(Ee=>Ee.append("text").each(function(pe){const Ae=Fn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Le=new Set;for(const be of Ne(D,pe)){const Ke=be.name;Ke&&Le.has(Ke)||(Le.add(Ke),De(Ae,be))}})));function De(ke,{name:Ee,value:pe,color:Ae,opacity:Le}){const be=Ae!=null||Le!=null;let Ke,qe=I*100;const[ct]=wh(Ee,qe,oe,Z);if(ct>=0)Ee=Ee.slice(0,ct).trimEnd()+Xf,Ke=pe.trim(),pe="";else{(Ee||!pe&&!be)&&(pe=" "+pe);const[tt]=wh(pe,qe-oe(Ee),oe,Z);tt>=0&&(pe=pe.slice(0,tt).trimEnd()+Xf,Ke=pe.trim())}const at=ke.append("tspan").attr("x",0).attr("dy",`${S}em`).text("");Ee&&at.append("tspan").attr("font-weight","bold").text(Ee),pe&&at.append(()=>g.createTextNode(pe)),be&&at.append("tspan").text(" ").attr("fill",Ae).attr("fill-opacity",Le).style("user-select","none"),Ke&&at.append("title").text(Ke)}function Pe(){const{width:ke,height:Ee}=i.facet??i;Ue.selectChildren().each(function(pe){let{x:Ae,width:Le,height:be}=this.getBBox();Le=Math.round(Le),be=Math.round(be);let Ke=y;if(Ke===void 0){Ke=a.previousAnchor;const at=se(pe)+me,tt=fe(pe)+ue,kt=at+Le+R*2<ke,nt=at-Le-R*2>0,bn=tt+be+k+R*2+7<Ee,Ft=tt-be-k-R*2>0,mn=(/-left$/.test(Ke)?kt||!nt:kt&&!nt)?"left":"right",Gn=(/^top-/.test(Ke)?bn||!Ft:bn&&!Ft)?"top":"bottom";Ke=a.previousAnchor=`${Gn}-${mn}`}const qe=this.firstChild,ct=this.lastChild;if(qe.setAttribute("d",TJ(Ke,k,R,Le,be)),Ae)for(const at of ct.childNodes)at.setAttribute("x",-Ae);ct.setAttribute("y",`${+xJ(Ke,ct.childNodes.length,S).toFixed(6)}em`),ct.setAttribute("transform",`translate(${SJ(Ke,k,R,Le,be)})`)})}return m.isConnected?Promise.resolve().then(Pe):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Pe),Ue.node()}}function wJ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=o2(e,n)),new bJ(t,{...r,x:e,y:n})}function xJ(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function SJ(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function TJ(t,e,n,r,i){const s=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-s/2},${-a/2}h${s}v${a}h${-s}z`;case"top-left":return`M0,0l${e},${e}h${s-e}v${a}h${-s}z`;case"top":return`M0,0l${e/2},${e/2}h${(s-e)/2}v${a}h${-s}v${-a}h${(s-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-s}v${a}h${s}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-s}v${a}h${s}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${s-e}v${-a}h${-s}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(s-e)/2}v${-a}h${-s}v${a}h${(s-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-s}v${-a}h${s}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${s}v${a}h${-s}v${e/2-a/2}z`}}function kJ({channels:t}){const e={};for(const n in t){if(yJ.has(n))continue;const r=Lj(t,n);r&&(e[n]=r)}return e}function U9(t,e,n){var r;return(r=e.hint)!=null&&r.length?`${Hu(e.value[n]-t.value[n])}`:`${Hu(t.value[n])}${Hu(e.value[n])}`}function D4(t,e,n){var r;return String(((r=t[e.scale])==null?void 0:r.label)??(e==null?void 0:e.label)??n)}function Xo(t={}){var ge;const{facet:e,style:n,caption:r,ariaLabel:i,ariaDescription:s}=t,a=_5(t.className),l=t.marks===void 0?[]:q9(t.marks);l.push(...PJ(l));const c=IJ(e,t),f=new Map;for(const se of l){const fe=H9(se,c,t);fe&&f.set(se,fe)}const p=new Map;c&&_d(p,[c],t),_d(p,f,t);const m=q9(NJ(l,p,t));for(const se of m){const fe=H9(se,c,t);fe&&f.set(se,fe)}l.unshift(...m);let g=QK(p,t);if(g!==void 0){const se=c?N4(g,c):void 0;for(const oe of l){if(oe.facet===null||oe.facet==="super")continue;const Z=f.get(oe);Z!==void 0&&(Z.facetsIndex=oe.fx!=null||oe.fy!=null?N4(g,Z):se)}const fe=new Set;for(const{facetsIndex:oe}of f.values())oe==null||oe.forEach((Z,Q)=>{(Z==null?void 0:Z.length)>0&&fe.add(Q)});g.forEach(0<fe.size&&fe.size<g.length?(oe,Z)=>oe.empty=!fe.has(Z):oe=>oe.empty=!1);for(const oe of l)if(oe.facet==="exclude"){const Z=f.get(oe);Z!==void 0&&(Z.facetsIndex=nX(Z.facetsIndex))}}for(const se of ti.keys())_b(t[se])&&se!=="fx"&&se!=="fy"&&p.set(se,[]);const y=new Map;for(const se of l){if(y.has(se))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:fe,channels:oe}=f.get(se)??{},{data:Z,facets:Q,channels:he}=se.initialize(fe,oe,t);M5(he,t),y.set(se,{data:Z,facets:Q,channels:he})}const w=wb(_d(p,y,t),t),S=k9(w),I=XK(w,l,t);SK(w,I);const{fx:R,fy:k}=S,A=R||k?PA(w,I):I,C=R||k?UJ(S,I):I,N=f5(t),D=N.document,F=Gp("svg").call(D.documentElement);let W=F;N.ownerSVGElement=F,N.className=a,N.projection=Dj(t,A),N.filterFacets=(se,fe)=>N4(g,{channels:fe,groups:y5(se,fe)}),N.getMarkState=se=>{const fe=y.get(se),oe=f.get(se);return{...fe,channels:{...fe.channels,...oe==null?void 0:oe.channels}}},N.dispatchValue=se=>{W.value!==se&&(W.value=se,W.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[se,fe]of y)if(se.initializer!=null){const oe=se.facet==="super"?C:A,Z=se.initializer(fe.data,fe.facets,fe.channels,S,oe,N);if(Z.data!==void 0&&(fe.data=Z.data),Z.facets!==void 0&&(fe.facets=Z.facets),Z.channels!==void 0){const{fx:Q,fy:he,...Ne}=Z.channels;AJ(Ne),Object.assign(fe.channels,Ne);for(const Ue of Object.values(Ne)){const{scale:De}=Ue;De!=null&&ti.get(De)!==ql&&(CI(Ue,t),$.add(De))}(Q!=null||he!=null)&&f.set(se,!0)}}if($.size){const se=new Map;_d(se,y,t,Z=>$.has(Z)),_d(p,y,t,Z=>$.has(Z));const fe=FJ(wb(se,t),w),oe=k9(fe);Object.assign(w,fe),Object.assign(S,oe)}let X,V;g!==void 0&&(X={x:R==null?void 0:R.domain(),y:k==null?void 0:k.domain()},g=eX(g,X),V=tX(R,k,I));for(const[se,fe]of y)fe.values=se.scale(fe.channels,S,N);const{width:te,height:me}=I;Fn(F).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",te).attr("height",me).attr("viewBox",`0 0 ${te} ${me}`).attr("aria-label",i).attr("aria-description",s).call(se=>se.append("style").text(`.${a} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${a} text,
.${a} tspan {
  white-space: pre;
}`)).call(v5,n);for(const se of l){const{channels:fe,values:oe,facets:Z}=y.get(se);if(g===void 0||se.facet==="super"){let Q=null;if(Z&&(Q=Z[0],Q=se.filter(Q,fe,oe),Q.length===0))continue;const he=se.render(Q,S,oe,C,N);if(he==null)continue;F.appendChild(he)}else{let Q;for(const he of g){if(!(((ge=se.facetAnchor)==null?void 0:ge.call(se,g,X,he))??!he.empty))continue;let Ne=null;if(Z){const De=f.has(se);if(Ne=Z[De?he.i:0],Ne=se.filter(Ne,fe,oe),Ne.length===0)continue;!De&&Ne===Z[0]&&(Ne=KY(Ne)),Ne.fx=he.x,Ne.fy=he.y,Ne.fi=he.i}const Ue=se.render(Ne,S,oe,A,N);if(Ue!=null){(Q??(Q=Fn(F).append("g"))).append(()=>Ue).datum(he);for(const De of["aria-label","aria-description","aria-hidden","transform"])Ue.hasAttribute(De)&&(Q.attr(De,Ue.getAttribute(De)),Ue.removeAttribute(De))}}Q==null||Q.selectChildren().attr("transform",V)}}const ue=pJ(w,N,t);if(r!=null||ue.length>0){W=D.createElement("figure"),W.style.maxWidth="initial";for(const se of ue)W.appendChild(se);if(W.appendChild(F),r!=null){const se=D.createElement("figcaption");se.appendChild(r!=null&&r.ownerDocument?r:D.createTextNode(r)),W.appendChild(se)}}W.scale=IK(w),W.legend=fJ(w,N,t);const ie=Oj();return ie>0&&Fn(F).append("text").attr("x",te).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${ie.toLocaleString("en-US")} warning${ie===1?"":"s"}. Please check the console.`),W}function EJ({marks:t=[],...e}={}){return Xo({...e,marks:[...t,this]})}za.prototype.plot=EJ;function q9(t){return t.flat(1/0).filter(e=>e!=null).map(MJ)}function MJ(t){return typeof t.render=="function"?t:new CJ(t)}class CJ extends za{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function M5(t,e){for(const n in t)CI(t[n],e);return t}function CI(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:s,interval:a,transform:l=s?c=>c*100:uA(a,i)}=e[n]??{};l!=null&&(t.value=ji(t.value,l),t.transform=!1)}function AJ(t){for(const e in t)mA(e,t[e])}function _d(t,e,n,r=HY){var i,s;for(const{channels:a}of e.values())for(const l in a){const c=a[l],{scale:f}=c;if(f!=null&&r(f))if(f==="projection"){if(!Uj(n)){const p=((i=n.x)==null?void 0:i.domain)===void 0,m=((s=n.y)==null?void 0:s.domain)===void 0;if(p||m){const[g,y]=Hj(c);p&&B4(t,"x",g),m&&B4(t,"y",y)}}}else B4(t,f,c)}return t}function B4(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function IJ(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=no(t.data);if(i==null)throw new Error("missing facet data");const s={};n!=null&&(s.fx=bp(i,{value:n,scale:"fx"})),r!=null&&(s.fy=bp(i,{value:r,scale:"fy"})),M5(s,e);const a=y5(i,s);return{channels:s,groups:a,data:t.data}}function H9(t,e,n){var c;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=no(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const p={};return r!=null&&(p.fx=bp(f,{value:r,scale:"fx"})),i!=null&&(p.fy=bp(f,{value:i,scale:"fy"})),M5(p,n),{channels:p,groups:y5(f,p)}}if(e===void 0)return;const{channels:s,groups:a,data:l}=e;if(t.facet!=="auto"||t.data===l)return{channels:s,groups:a};l.length>0&&(a.size>1||a.size===1&&s.fx&&s.fy&&[...a][0][1].size>1)&&((c=no(t.data))==null?void 0:c.length)===l.length&&H0(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function RJ(t,e={}){return yh({...e,x:null,y:null},(n,r,i,s,a,l)=>l.getMarkState(t))}function PJ(t){const e=[];for(const n of t){const r=n.tip;if(r){const s=(r==="x"?pX:r==="y"?mX:dX)(RJ(n));s.title=null,e.push(wJ(n.data,s))}}return e}function NJ(t,e,n){let{projection:r,x:i={},y:s={},fx:a={},fy:l={},axis:c,grid:f,facet:p={},facet:{axis:m=c,grid:g}=p,x:{axis:y=c,grid:w=y===null?null:f}=i,y:{axis:S=c,grid:I=S===null?null:f}=s,fx:{axis:R=m,grid:k=R===null?null:g}=a,fy:{axis:A=m,grid:C=A===null?null:g}=l}=n;(r||!_b(i)&&!W9("x",t))&&(y=w=null),(r||!_b(s)&&!W9("y",t))&&(S=I=null),e.has("fx")||(R=k=null),e.has("fy")||(A=C=null),y===void 0&&(y=!gm(t,"x")),S===void 0&&(S=!gm(t,"y")),R===void 0&&(R=!gm(t,"fx")),A===void 0&&(A=!gm(t,"fy")),y===!0&&(y="bottom"),S===!0&&(S="left"),R===!0&&(R=y==="top"||y===null?"bottom":"top"),A===!0&&(A=S==="right"||S===null?"left":"right");const N=[];return mm(N,C,eJ,l),pm(N,A,ZX,"right","left",p,l),mm(N,k,nJ,a),pm(N,R,YX,"top","bottom",p,a),mm(N,I,QX,s),pm(N,S,dI,"left","right",n,s),mm(N,w,tJ,i),pm(N,y,pI,"bottom","top",n,i),N}function pm(t,e,n,r,i,s,a){if(!e)return;const l=LJ(e);a=OJ(l?r:e,s,a);const{line:c}=a;(n===dI||n===pI)&&c&&!yp(c)&&t.push(vJ(DJ(a))),t.push(n(a)),l&&t.push(n({...a,anchor:i,label:null}))}function mm(t,e,n,r){!e||yp(e)||t.push(n(BJ(e,r)))}function LJ(t){return/^\s*both\s*$/i.test(t)}function OJ(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g=e.label,labelAnchor:y,labelArrow:w=e.labelArrow,labelOffset:S}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g,labelAnchor:y,labelArrow:w,labelOffset:S}}function DJ(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function BJ(t,{stroke:e=u2(t)?t:void 0,ticks:n=zJ(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:s}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:s}}function zJ(t){switch(typeof t){case"number":return!0;case"string":return!u2(t)}return a0(t)||typeof(t==null?void 0:t.range)=="function"}function gm(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function W9(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function FJ(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function UJ({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=m5(n),f=t&&G9(t),p=e&&G9(e);return{marginTop:e?p[0]:r,marginRight:t?l-f[1]:i,marginBottom:e?c-p[1]:s,marginLeft:t?f[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:c}}function G9(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const qJ=new Map([["basis",cY],["basis-closed",fY],["basis-open",hY],["bundle",dY],["bump-x",QZ],["bump-y",eY],["cardinal",pY],["cardinal-closed",mY],["cardinal-open",gY],["catmull-rom",_Y],["catmull-rom-closed",vY],["catmull-rom-open",yY],["linear",t2],["linear-closed",bY],["monotone-x",wY],["monotone-y",xY],["natural",SY],["step",TY],["step-after",EY],["step-before",kY]]);function HJ(t=t2,e){if(typeof t=="function")return t;const n=qJ.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function WJ(t=Zg,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Zg:HJ(t,e)}function Zg(t){return t2(t)}function GJ(t={}){return aA(t)?t:{...t,y:la}}function $J(t={},e={}){arguments.length===1&&([t,e]=ZJ(t));const{x1:n,x:r=n,y:i,...s}=e,[a,l,c,f]=jJ(r,i,"x","y",t,s);return{...a,x1:n,x:l,y1:c,y2:f,y:JY(c,f)}}function VJ({y:t,y1:e,y2:n,...r}={}){return r=b5(r,"x"),e===void 0&&n===void 0?$J({y:t,...r}):([e,n]=jY(t,e,n),{...r,y1:e,y2:n})}function ZJ(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const YJ={length:!0};function jJ(t,e=qY,n,r,{offset:i,order:s,reverse:a},l){const c=oA(l),[f,p]=XY(t),[m,g]=vb(e),[y,w]=vb(e);return m.hint=y.hint=YJ,i=KJ(i),s=QJ(s,i,r),[u5(l,(S,I,R)=>{const k=t==null?void 0:p(QY(Eo(S,t),R==null?void 0:R[n])),A=Eo(S,e,Float64Array),C=Eo(S,c),N=s&&s(S,k,A,C),D=S.length,F=g(new Float64Array(D)),W=w(new Float64Array(D)),$=[];for(const X of I){const V=k?Array.from(E3(X,te=>k[te]).values()):[X];if(N)for(const te of V)te.sort(N);for(const te of V){let me=0,ue=0;a&&te.reverse();for(const ie of te){const ge=A[ie];ge<0?me=W[ie]=(F[ie]=me)+ge:ge>0?ue=W[ie]=(F[ie]=ue)+ge:W[ie]=F[ie]=ue}}$.push(V)}return i&&i($,F,W,C),{data:S,facets:I}}),f,m,y]}function KJ(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return XJ;case"center":case"silhouette":return JJ;case"wiggle":return II}throw new Error(`unknown offset: ${t}`)}}function AI(t,e){let n=0,r=0;for(const i of t){const s=e[i];s<n&&(n=s),s>r&&(r=s)}return[n,r]}function XJ(t,e,n){for(const r of t)for(const i of r){const[s,a]=AI(i,n);for(const l of i){const c=1/(a-s||1);e[l]=c*(e[l]-s),n[l]=c*(n[l]-s)}}}function JJ(t,e,n){for(const r of t){for(const i of r){const[s,a]=AI(i,n);for(const l of i){const c=(a+s)/2;e[l]-=c,n[l]-=c}}RI(r,e,n)}PI(t,e,n)}function II(t,e,n,r){for(const i of t){const s=new Z0;let a=0;for(const l of i){let c=-1;const f=l.map(y=>Math.abs(n[y]-e[y])),p=l.map(y=>{c=r?r[y]:++c;const w=n[y]-e[y],S=s.has(c)?w-s.get(c):0;return s.set(c,w),S}),m=[0,...UU(p)];for(const y of l)e[y]+=a,n[y]+=a;const g=fr(f);g&&(a-=fr(f,(y,w)=>(p[w]/2+m[w])*y)/g)}RI(i,e,n)}PI(t,e,n)}function RI(t,e,n){const r=Kl(t,i=>Kl(i,s=>e[s]));for(const i of t)for(const s of i)e[s]-=r,n[s]-=r}function PI(t,e,n){const r=t.length;if(r===1)return;const i=t.map(l=>l.flat()),s=i.map(l=>(Kl(l,c=>e[c])+tl(l,c=>n[c]))/2),a=Kl(s);for(let l=0;l<r;l++){const c=a-s[l];for(const f of i[l])e[f]+=c,n[f]+=c}}function QJ(t,e,n){if(t===void 0&&e===II)return $9(eu);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Wg:eu;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return eQ(i);case"z":return tQ(i);case"sum":return nQ(i);case"appearance":return rQ(i);case"inside-out":return $9(i)}return V9(rA(t))}if(typeof t=="function")return(t.length===1?V9:iQ)(t);if(Array.isArray(t))return sQ(t);throw new Error(`invalid order: ${t}`)}}function eQ(t){return(e,n,r)=>(i,s)=>t(r[i],r[s])}function tQ(t){return(e,n,r,i)=>(s,a)=>t(i[s],i[a])}function nQ(t){return b2(t,(e,n,r,i)=>C3(s0(e),s=>fr(s,a=>r[a]),s=>i[s]))}function rQ(t){return b2(t,(e,n,r,i)=>C3(s0(e),s=>n[A3(s,a=>r[a])],s=>i[s]))}function $9(t){return b2(t,(e,n,r,i)=>{const s=s0(e),a=C3(s,m=>n[A3(m,g=>r[g])],m=>i[m]),l=zd(s,m=>fr(m,g=>r[g]),m=>i[m]),c=[],f=[];let p=0;for(const m of a)p<0?(p+=l.get(m),c.push(m)):(p-=l.get(m),f.push(m));return f.reverse().concat(c)})}function V9(t){return e=>{const n=Eo(e,t);return(r,i)=>eu(n[r],n[i])}}function iQ(t){return e=>(n,r)=>t(e[n],e[r])}function sQ(t){return b2(eu,()=>t)}function b2(t,e){return(n,r,i,s)=>{if(!s)throw new Error("missing channel: z");const a=new Z0(e(n,r,i,s).map((l,c)=>[l,c]));return(l,c)=>t(a.get(s[l]),a.get(s[c]))}}class aQ extends za{constructor(e,n,r={},i){super(e,n,r,i);const{inset:s=0,insetTop:a=s,insetRight:l=s,insetBottom:c=s,insetLeft:f=s,rx:p,ry:m}=r;this.insetTop=wr(a),this.insetRight=wr(l),this.insetBottom=wr(c),this.insetLeft=wr(f),this.rx=us(p,"auto"),this.ry=us(m,"auto")}render(e,n,r,i,s){const{rx:a,ry:l}=this;return Ji("svg:g",s).call(ol,this,i,s).call(this._transform,this,n).call(c=>c.selectAll().data(e).enter().append("rect").call(ll,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Xt,"rx",a).call(Xt,"ry",l).call(ac,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?s=>n[s]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?s=>n[s]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:s}){const{insetLeft:a,insetRight:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:s}){const{insetTop:a,insetBottom:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}}const oQ={ariaLabel:"bar"};class lQ extends aQ{constructor(e,n={}){const{x:r,y1:i,y2:s}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:s,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,oQ)}_transform(e,n,{y:r}){e.call(Po,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:s}=this;return bh(e)?i+s:a=>Math.min(n[a],r[a])+s}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:s,height:a}){const{insetTop:l,insetBottom:c}=this;return bh(e)?a-i-s-l-c:f=>Math.max(0,Math.abs(r[f]-n[f])-l-c)}}function Lf(t,e={}){return YY(e)||(e={...e,x:iA,y2:la}),new lQ(t,VJ(KA(GJ(e))))}const uQ={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function NI(t){return t.sort===void 0&&t.reverse===void 0?gj({channel:"-r"},t):t}class cQ extends za{constructor(e,n={}){const{x:r,y:i,r:s,rotate:a,symbol:l=gp,frameAnchor:c}=n,[f,p]=Ns(a,0),[m,g]=pj(l),[y,w]=Ns(s,m==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:y,scale:"r",filter:Qp,optional:!0},rotate:{value:f,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},NI(n),uQ),this.r=w,this.rotate=p,this.symbol=g,this.frameAnchor=c2(c);const{channels:S}=this,{symbol:I}=S;if(I){const{fill:R,stroke:k}=S;I.hint={fill:R?R.value===I.value?"color":"currentColor":this.fill,stroke:k?k.value===I.value?"color":"currentColor":this.stroke}}}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,r:p,rotate:m,symbol:g}=r,{r:y,rotate:w,symbol:S}=this,[I,R]=s1(this,i),k=S===gp,A=p?void 0:y*y*Math.PI;return i2(y)&&(e=[]),Ji("svg:g",s).call(ol,this,i,s).call(Po,this,{x:c&&a,y:f&&l}).call(C=>C.selectAll().data(e).enter().append(k?"circle":"path").call(ll,this).call(k?N=>{N.attr("cx",c?D=>c[D]:I).attr("cy",f?D=>f[D]:R).attr("r",p?D=>p[D]:y)}:N=>{N.attr("transform",S5`translate(${c?D=>c[D]:I},${f?D=>f[D]:R})${m?D=>` rotate(${m[D]})`:w?` rotate(${w})`:""}`).attr("d",p&&g?D=>{const F=O0();return g[D].draw(F,p[D]*p[D]*Math.PI),F}:p?D=>{const F=O0();return S.draw(F,p[D]*p[D]*Math.PI),F}:g?D=>{const F=O0();return g[D].draw(F,A),F}:(()=>{const D=O0();return S.draw(D,A),D})())}).call(ac,this,r)).node()}}function fQ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=o2(e,n)),new cQ(t,{...r,x:e,y:n})}const hQ={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class dQ extends za{constructor(e,n={}){const{x:r,y:i,z:s,curve:a,tension:l}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:oA(n),optional:!0}},n,hQ),this.z=s,this.curve=WJ(a,l),v2(this,n)}filter(e){return e}project(e,n,r){this.curve!==Zg&&super.project(e,n,r)}render(e,n,r,i,s){const{x:a,y:l}=r,{curve:c}=this;return Ji("svg:g",s).call(ol,this,i,s).call(Po,this,n).call(f=>f.selectAll().data(VK(e,[a,l],this,r)).enter().append("path").call(ll,this).call(WK,this,r).call(bX,this,r,s).attr("d",c===Zg&&s.projection?pQ(s.projection,a,l):JZ().curve(c).defined(p=>p>=0).x(p=>a[p]).y(p=>l[p]))).node()}}function pQ(t,e,n){const r=dh(t);return e=Gg(e),n=Gg(n),i=>{let s=[];const a=[s];for(const l of i)l===-1?(s=[],a.push(s)):s.push([e[l],n[l]]);return r({type:"MultiLineString",coordinates:a})}}function Pu(t,{x:e,y:n,...r}={}){return[e,n]=o2(e,n),new dQ(t,{...r,x:e,y:n})}const mQ={ariaLabel:"tick",fill:null,stroke:"currentColor"};class LI extends za{constructor(e,n,r){super(e,n,r,mQ),v2(this,r)}render(e,n,r,i,s){return Ji("svg:g",s).call(ol,this,i,s).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(ll,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(ac,this,r).call(x5,this,r,s)).node()}}class gQ extends LI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetTop:a=s,insetBottom:l=s}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=wr(a),this.insetBottom=wr(l)}_transform(e,n,{x:r}){e.call(Po,n,{x:r},ta,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?s=>n[s]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}}class _Q extends LI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetRight:a=s,insetLeft:l=s}=n;super(e,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=wr(a),this.insetLeft=wr(l)}_transform(e,n,{y:r}){e.call(Po,n,{y:r},0,ta)}_x1({x:e},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&e?s=>n[s]+i:r+i}_x2({x:e},{x:n},{width:r,marginRight:i}){const{insetRight:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}_y1(e,{y:n}){return r=>n[r]}_y2(e,{y:n}){return r=>n[r]}}function vQ(t,{x:e=la,...n}={}){return new gQ(t,{...n,x:e})}function _m(t,{y:e=la,...n}={}){return new _Q(t,{...n,y:e})}const yQ={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class bQ extends za{constructor(e,n={}){const[r,i]=Ns(n.r,3);super(e,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:Qp,optional:!0}},NI(n),yQ),this.r=i}render(e,n,r,i,s){const{geometry:a,r:l}=r,c=dh(s.projection??wQ(n)),{r:f}=this;return i2(f)?e=[]:f!==void 0&&c.pointRadius(f),Ji("svg:g",s).call(ol,this,i,s).call(Po,this,n).call(p=>{p.selectAll().data(e).enter().append("path").call(ll,this).attr("d",l?m=>c.pointRadius(l[m])(a[m]):m=>c(a[m])).call(ac,this,r)}).node()}}function wQ({x:t,y:e}){if(t||e)return t??(t=n=>n),e??(e=n=>n),fp({point(n,r){this.stream.point(t(n),e(r))}})}function Zo(t,{geometry:e=la,...n}={}){switch(t==null?void 0:t.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t];break}return new bQ(t,{geometry:e,...n})}function OI({strokeWidth:t=1.5,...e}={}){return Zo({type:"Sphere"},{strokeWidth:t,...e})}function DI({strokeOpacity:t=.1,...e}={}){return Zo(R$(),{strokeOpacity:t,...e})}var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const SQ="modulepreload",TQ=function(t){return"/"+t},Z9={},xp=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=TQ(s),s in Z9)return;Z9[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":SQ,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Of=[];function w2(t,e=Rn){let n;const r=new Set;function i(l){if(eo(t,l)&&(t=l,n)){const c=!Of.length;for(const f of r)f[1](),Of.push(f,t);if(c){for(let f=0;f<Of.length;f+=2)Of[f][0](Of[f+1]);Of.length=0}}}function s(l){i(l(t))}function a(l,c=Rn){const f=[l,c];return r.add(f),r.size===1&&(n=e(i)||Rn),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(t,e){if(!t)throw zh(e)},zh=function(t){return new Error("Firebase Database ("+zI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},C5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,y=f&63;c||(y=64,a||(g=64)),r.push(n[p],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||m==null)throw new EQ;const g=s<<2|l>>4;if(r.push(g),f!==64){const y=l<<4&240|f>>2;if(r.push(y),m!==64){const w=f<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(t){const e=FI(t);return C5.encodeByteArray(e,!0)},Yg=function(t){return UI(t).replace(/\./g,"")},jg=function(t){try{return C5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){return qI(void 0,t)}function qI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CQ(n)||(t[n]=qI(t[n],e[n]));return t}function CQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=()=>AQ().__FIREBASE_DEFAULTS__,RQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jg(t[1]);return e&&JSON.parse(e)},A5=()=>{try{return IQ()||RQ()||PQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HI=t=>{var e,n;return(n=(e=A5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WI=t=>{const e=HI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GI=()=>{var t;return(t=A5())===null||t===void 0?void 0:t.config},$I=t=>{var e;return(e=A5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Yg(JSON.stringify(n)),Yg(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ls())}function NQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LQ(){const t=Ls();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YI(){return zI.NODE_ADMIN===!0}function OQ(){try{return typeof indexedDB=="object"}catch{return!1}}function DQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="FirebaseError";class oc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BQ,Object.setPrototypeOf(this,oc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o1.prototype.create)}}class o1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?zQ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new oc(i,l,r)}}function zQ(t,e){return t.replace(FQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FQ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){return JSON.parse(t)}function Mi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Sp(jg(s[0])||""),n=Sp(jg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},UQ=function(t){const e=jI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qQ=function(t){const e=jI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Xg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Y9(s)&&Y9(a)){if(!Xg(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Dd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=l^s&(a^l),p=1518500249):(f=s^a^l,p=1859775393):m<60?(f=s&a|l&(s|a),p=2400959708):(f=s^a^l,p=3395469782);const g=(i<<5|i>>>27)+f+c+p+r[m]&4294967295;c=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function WQ(t,e){const n=new GQ(t,e);return n.subscribe.bind(n)}class GQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$Q(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=z4),i.error===void 0&&(i.error=z4),i.complete===void 0&&(i.complete=z4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $Q(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function z4(){}function x2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ve(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class Kc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new a1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jQ(e))try{this.getOrInitializeService({instanceIdentifier:R0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=R0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=R0){return this.instances.has(e)}getOptions(e=R0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=R0){return this.component?this.component.multipleInstances?e:R0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YQ(t){return t===R0?void 0:t}function jQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(or||(or={}));const XQ={debug:or.DEBUG,verbose:or.VERBOSE,info:or.INFO,warn:or.WARN,error:or.ERROR,silent:or.SILENT},JQ=or.INFO,QQ={[or.DEBUG]:"log",[or.VERBOSE]:"log",[or.INFO]:"info",[or.WARN]:"warn",[or.ERROR]:"error"},eee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R5{constructor(e){this.name=e,this._logLevel=JQ,this._logHandler=eee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,or.DEBUG,...e),this._logHandler(this,or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,or.VERBOSE,...e),this._logHandler(this,or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,or.INFO,...e),this._logHandler(this,or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,or.WARN,...e),this._logHandler(this,or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,or.ERROR,...e),this._logHandler(this,or.ERROR,...e)}}const tee=(t,e)=>e.some(n=>t instanceof n);let j9,K9;function nee(){return j9||(j9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ree(){return K9||(K9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KI=new WeakMap,Mb=new WeakMap,XI=new WeakMap,F4=new WeakMap,P5=new WeakMap;function iee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Uc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&KI.set(n,t)}).catch(()=>{}),P5.set(e,t),e}function see(t){if(Mb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Mb.set(t,e)}let Cb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aee(t){Cb=t(Cb)}function oee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(U4(this),e,...n);return XI.set(r,e.sort?e.sort():[e]),Uc(r)}:ree().includes(t)?function(...e){return t.apply(U4(this),e),Uc(KI.get(this))}:function(...e){return Uc(t.apply(U4(this),e))}}function lee(t){return typeof t=="function"?oee(t):(t instanceof IDBTransaction&&see(t),tee(t,nee())?new Proxy(t,Cb):t)}function Uc(t){if(t instanceof IDBRequest)return iee(t);if(F4.has(t))return F4.get(t);const e=lee(t);return e!==t&&(F4.set(t,e),P5.set(e,t)),e}const U4=t=>P5.get(t);function uee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Uc(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Uc(a.result),c.oldVersion,c.newVersion,Uc(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const cee=["get","getKey","getAll","getAllKeys","count"],fee=["put","add","delete","clear"],q4=new Map;function X9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q4.get(e))return q4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cee.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return q4.set(e,s),s}aee(t=>({...t,get:(e,n,r)=>X9(e,n)||t.get(e,n,r),has:(e,n)=>!!X9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ab="@firebase/app",J9="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new R5("@firebase/app"),pee="@firebase/app-compat",mee="@firebase/analytics-compat",gee="@firebase/analytics",_ee="@firebase/app-check-compat",vee="@firebase/app-check",yee="@firebase/auth",bee="@firebase/auth-compat",wee="@firebase/database",xee="@firebase/database-compat",See="@firebase/functions",Tee="@firebase/functions-compat",kee="@firebase/installations",Eee="@firebase/installations-compat",Mee="@firebase/messaging",Cee="@firebase/messaging-compat",Aee="@firebase/performance",Iee="@firebase/performance-compat",Ree="@firebase/remote-config",Pee="@firebase/remote-config-compat",Nee="@firebase/storage",Lee="@firebase/storage-compat",Oee="@firebase/firestore",Dee="@firebase/firestore-compat",Bee="firebase",zee="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="[DEFAULT]",Fee={[Ab]:"fire-core",[pee]:"fire-core-compat",[gee]:"fire-analytics",[mee]:"fire-analytics-compat",[vee]:"fire-app-check",[_ee]:"fire-app-check-compat",[yee]:"fire-auth",[bee]:"fire-auth-compat",[wee]:"fire-rtdb",[xee]:"fire-rtdb-compat",[See]:"fire-fn",[Tee]:"fire-fn-compat",[kee]:"fire-iid",[Eee]:"fire-iid-compat",[Mee]:"fire-fcm",[Cee]:"fire-fcm-compat",[Aee]:"fire-perf",[Iee]:"fire-perf-compat",[Ree]:"fire-rc",[Pee]:"fire-rc-compat",[Nee]:"fire-gcs",[Lee]:"fire-gcs-compat",[Oee]:"fire-fst",[Dee]:"fire-fst-compat","fire-js":"fire-js",[Bee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=new Map,Rb=new Map;function Uee(t,e){try{t.container.addComponent(e)}catch(n){tf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nf(t){const e=t.name;if(Rb.has(e))return tf.debug(`There were multiple attempts to register component ${e}.`),!1;Rb.set(e,t);for(const n of Jg.values())Uee(n,t);return!0}function T2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qc=new o1("app","Firebase",qee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=zee;function JI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ib,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qc.create("bad-app-name",{appName:String(i)});if(n||(n=GI()),!n)throw qc.create("no-options");const s=Jg.get(i);if(s){if(Xg(n,s.options)&&Xg(r,s.config))return s;throw qc.create("duplicate-app",{appName:i})}const a=new KQ(i);for(const c of Rb.values())a.addComponent(c);const l=new Hee(n,r,a);return Jg.set(i,l),l}function k2(t=Ib){const e=Jg.get(t);if(!e&&t===Ib&&GI())return JI();if(!e)throw qc.create("no-app",{appName:t});return e}function Wu(t,e,n){var r;let i=(r=Fee[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tf.warn(l.join(" "));return}nf(new Kc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee="firebase-heartbeat-database",Gee=1,Tp="firebase-heartbeat-store";let H4=null;function QI(){return H4||(H4=uee(Wee,Gee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tp)}}}).catch(t=>{throw qc.create("idb-open",{originalErrorMessage:t.message})})),H4}async function $ee(t){try{return await(await QI()).transaction(Tp).objectStore(Tp).get(eR(t))}catch(e){if(e instanceof oc)tf.warn(e.message);else{const n=qc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tf.warn(n.message)}}}async function Q9(t,e){try{const r=(await QI()).transaction(Tp,"readwrite");await r.objectStore(Tp).put(e,eR(t)),await r.done}catch(n){if(n instanceof oc)tf.warn(n.message);else{const r=qc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tf.warn(r.message)}}}function eR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee=1024,Zee=30*24*60*60*1e3;class Yee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ex();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Zee}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ex(),{heartbeatsToSend:n,unsentEntries:r}=jee(this._heartbeatsCache.heartbeats),i=Yg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ex(){return new Date().toISOString().substring(0,10)}function jee(t,e=Vee){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),tx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OQ()?DQ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $ee(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tx(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){nf(new Kc("platform-logger",e=>new hee(e),"PRIVATE")),nf(new Kc("heartbeat",e=>new Yee(e),"PRIVATE")),Wu(Ab,J9,t),Wu(Ab,J9,"esm2017"),Wu("fire-js","")}Xee("");function N5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jee=tR,nR=new o1("auth","Firebase",tR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new R5("@firebase/auth");function Qee(t,...e){Qg.logLevel<=or.WARN&&Qg.warn(`Auth (${df}): ${t}`,...e)}function Km(t,...e){Qg.logLevel<=or.ERROR&&Qg.error(`Auth (${df}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t,...e){throw L5(t,...e)}function Zl(t,...e){return L5(t,...e)}function ete(t,e,n){const r=Object.assign(Object.assign({},Jee()),{[e]:n});return new o1("auth","Firebase",r).create(e,{appName:t.name})}function L5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function qt(t,e,...n){if(!t)throw L5(e,...n)}function Fu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Km(e),new Error(e)}function Xu(t,e){t||Fu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tte(){return nx()==="http:"||nx()==="https:"}function nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tte()||NQ()||"connection"in navigator)?navigator.onLine:!0}function rte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xu(n>e,"Short delay should be less than long delay!"),this.isMobile=I5()||ZI()}get(){return nte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e){Xu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=new l1(3e4,6e4);function u1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uh(t,e,n,r,i={}){return iR(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Fh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),rR.fetch()(sR(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function iR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ite),e);try{const i=new ate(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw vm(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw vm(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ete(t,p,f);il(t,p)}}catch(i){if(i instanceof oc)throw i;il(t,"network-request-failed",{message:String(i)})}}async function E2(t,e,n,r,i={}){const s=await Uh(t,e,n,r,i);return"mfaPendingCredential"in s&&il(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O5(t.config,i):`${t.config.apiScheme}://${i}`}class ate{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zl(this.auth,"network-request-failed")),ste.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zl(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ote(t,e){return Uh(t,"POST","/v1/accounts:delete",e)}async function lte(t,e){return Uh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ute(t,e=!1){const n=ds(t),r=await n.getIdToken(e),i=D5(r);qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wd(W4(i.auth_time)),issuedAtTime:Wd(W4(i.iat)),expirationTime:Wd(W4(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function W4(t){return Number(t)*1e3}function D5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Km("JWT malformed, contained fewer than 3 sections"),null;try{const i=jg(n);return i?JSON.parse(i):(Km("Failed to decode base64 JWT payload"),null)}catch(i){return Km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cte(t){const e=D5(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oc&&fte(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wd(this.lastLoginAt),this.creationTime=Wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kp(t,lte(n,{idToken:r}));qt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mte(s.providerUserInfo):[],l=pte(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new aR(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function dte(t){const e=ds(t);await e_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mte(t){return t.map(e=>{var{providerId:n}=e,r=N5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gte(t,e){const n=await iR(t,{},async()=>{const r=Fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=sR(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",rR.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cte(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return qt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gte(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ep;return r&&(qt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(qt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(qt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ep,this.toJSON())}_performRefresh(){return Fu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class W0{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=N5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kp(this,this.stsTokenManager.getToken(this.auth,e));return qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ute(this,e)}reload(){return dte(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new W0(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await e_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kp(this,ote(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:C,isAnonymous:N,providerData:D,stsTokenManager:F}=n;qt(A&&F,e,"internal-error");const W=Ep.fromJSON(this.name,F);qt(typeof A=="string",e,"internal-error"),Tc(m,e.name),Tc(g,e.name),qt(typeof C=="boolean",e,"internal-error"),qt(typeof N=="boolean",e,"internal-error"),Tc(y,e.name),Tc(w,e.name),Tc(S,e.name),Tc(I,e.name),Tc(R,e.name),Tc(k,e.name);const $=new W0({uid:A,auth:e,email:g,emailVerified:C,displayName:m,isAnonymous:N,photoURL:w,phoneNumber:y,tenantId:S,stsTokenManager:W,createdAt:R,lastLoginAt:k});return D&&Array.isArray(D)&&($.providerData=D.map(X=>Object.assign({},X))),I&&($._redirectEventId=I),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ep;i.updateFromServerResponse(n);const s=new W0({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await e_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Map;function Uu(t){Xu(t instanceof Function,"Expected a class definition");let e=rx.get(t);return e?(Xu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oR.type="NONE";const ix=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e,n){return`firebase:${t}:${e}:${n}`}class Jf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?W0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jf(Uu(ix),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Uu(ix);const a=Xm(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const p=await f._get(a);if(p){const m=W0._fromJSON(e,p);f!==s&&(l=m),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Jf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Jf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(dR(e))return"Webos";if(B5(e))return"Safari";if((e.includes("chrome/")||uR(e))&&!e.includes("edge/"))return"Chrome";if(fR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lR(t=Ls()){return/firefox\//i.test(t)}function B5(t=Ls()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uR(t=Ls()){return/crios\//i.test(t)}function cR(t=Ls()){return/iemobile/i.test(t)}function fR(t=Ls()){return/android/i.test(t)}function hR(t=Ls()){return/blackberry/i.test(t)}function dR(t=Ls()){return/webos/i.test(t)}function M2(t=Ls()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _te(t=Ls()){var e;return M2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vte(){return LQ()&&document.documentMode===10}function pR(t=Ls()){return M2(t)||fR(t)||dR(t)||hR(t)||/windows phone/i.test(t)||cR(t)}function yte(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=sx(Ls());break;case"Worker":n=`${sx(Ls())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${df}/${r}`}async function gR(t,e){return Uh(t,"GET","/v2/recaptchaConfig",u1(t,e))}function ax(t){return t!==void 0&&t.enterprise!==void 0}class _R{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function vR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bte().appendChild(r)})}function wte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xte="https://www.google.com/recaptcha/enterprise.js?render=",Ste="recaptcha-enterprise",Tte="NO_RECAPTCHA";class yR{constructor(e){this.type=Ste,this.auth=c1(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{gR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new _R(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;ax(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Tte)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&ax(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}vR(xte+l).then(()=>{i(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function ox(t,e,n,r=!1){const i=new yR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lx(this),this.idTokenSubscription=new lx(this),this.beforeStateQueue=new kte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Uu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await e_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ds(e):null;return n&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Uu(e))})}async initializeRecaptchaConfig(){const e=await gR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new _R(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new yR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new o1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Uu(e)||this._popupRedirectResolver;qt(n,this,"argument-error"),this.redirectPersistenceManager=await Jf.create(this,[Uu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return qt(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Qee(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function c1(t){return ds(t)}class lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=WQ(n=>this.observer=n)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mte(t,e){const n=T2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xg(s,e??{}))return i;il(i,"already-initialized")}return n.initialize({options:e})}function Cte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Uu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ate(t,e,n){const r=c1(t);qt(r._canInitEmulator,r,"emulator-config-failed"),qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=bR(e),{host:a,port:l}=Ite(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Rte()}function bR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ite(t){const e=bR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ux(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:ux(a)}}}function ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fu("not implemented")}_getIdTokenResponse(e){return Fu("not implemented")}_linkToIdToken(e,n){return Fu("not implemented")}_getReauthenticationResolver(e){return Fu("not implemented")}}async function Pte(t,e){return Uh(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){return E2(t,"POST","/v1/accounts:signInWithPassword",u1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nte(t,e){return E2(t,"POST","/v1/accounts:signInWithEmailLink",u1(t,e))}async function Lte(t,e){return E2(t,"POST","/v1/accounts:signInWithEmailLink",u1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends z5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ox(e,r,"signInWithPassword");return G4(e,i)}else return G4(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ox(e,r,"signInWithPassword");return G4(e,s)}else return Promise.reject(i)});case"emailLink":return Nte(e,{email:this._email,oobCode:this._password});default:il(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Pte(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Lte(e,{idToken:n,email:this._email,oobCode:this._password});default:il(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t,e){return E2(t,"POST","/v1/accounts:signInWithIdp",u1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote="http://localhost";class rf extends z5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):il("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=N5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new rf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qf(e,n)}buildRequest(){const e={requestUri:Ote,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bte(t){const e=Od(Dd(t)).link,n=e?Od(Dd(e)).deep_link_id:null,r=Od(Dd(t)).deep_link_id;return(r?Od(Dd(r)).link:null)||r||n||e||t}class F5{constructor(e){var n,r,i,s,a,l;const c=Od(Dd(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Dte((i=c.mode)!==null&&i!==void 0?i:null);qt(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Bte(e);try{return new F5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.providerId=qh.PROVIDER_ID}static credential(e,n){return Mp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=F5.parseLink(n);return qt(r,"argument-error"),Mp._fromEmailAndCode(e,r.code,r.tenantId)}}qh.PROVIDER_ID="password";qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends wR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends f1{constructor(){super("facebook.com")}static credential(e){return rf._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pc.credential(e.oauthAccessToken)}catch{return null}}}Pc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends f1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rf._fromParams({providerId:Nc.PROVIDER_ID,signInMethod:Nc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nc.credentialFromTaggedObject(e)}static credentialFromError(e){return Nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nc.credential(n,r)}catch{return null}}}Nc.GOOGLE_SIGN_IN_METHOD="google.com";Nc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends f1{constructor(){super("github.com")}static credential(e){return rf._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lc.credential(e.oauthAccessToken)}catch{return null}}}Lc.GITHUB_SIGN_IN_METHOD="github.com";Lc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends f1{constructor(){super("twitter.com")}static credential(e,n){return rf._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oc.credential(n,r)}catch{return null}}}Oc.TWITTER_SIGN_IN_METHOD="twitter.com";Oc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await W0._fromIdTokenResponse(e,r,i),a=cx(r);return new Sh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cx(r);return new Sh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends oc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t_(e,n,r,i)}}function xR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?t_._fromErrorAndOperation(t,s,e,r):s})}async function zte(t,e,n=!1){const r=await kp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fte(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await kp(t,xR(r,i,e,t),n);qt(s.idToken,r,"internal-error");const a=D5(s.idToken);qt(a,r,"internal-error");const{sub:l}=a;return qt(t.uid===l,r,"user-mismatch"),Sh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&il(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e,n=!1){const r="signIn",i=await xR(t,r,e),s=await Sh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ute(t,e){return SR(c1(t),e)}function qte(t,e,n){return Ute(ds(t),qh.credential(e,n))}function Hte(t,e,n,r){return ds(t).onIdTokenChanged(e,n,r)}function Wte(t,e,n){return ds(t).beforeAuthStateChanged(e,n)}function Gte(t){return ds(t).signOut()}const n_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(n_,"1"),this.storage.removeItem(n_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(){const t=Ls();return B5(t)||M2(t)}const Vte=1e3,Zte=10;class kR extends TR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$te()&&yte(),this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);vte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zte):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kR.type="LOCAL";const ER=kR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR extends TR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MR.type="SESSION";const CR=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new C2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),c=await Yte(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const f=U5("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(){return window}function Kte(t){Yl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof Yl().WorkerGlobalScope<"u"&&typeof Yl().importScripts=="function"}async function Xte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qte(){return AR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebaseLocalStorageDb",ene=1,r_="firebaseLocalStorage",RR="fbase_key";class h1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function A2(t,e){return t.transaction([r_],e?"readwrite":"readonly").objectStore(r_)}function tne(){const t=indexedDB.deleteDatabase(IR);return new h1(t).toPromise()}function Nb(){const t=indexedDB.open(IR,ene);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(r_,{keyPath:RR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(r_)?e(r):(r.close(),await tne(),e(await Nb()))})})}async function fx(t,e,n){const r=A2(t,!0).put({[RR]:e,value:n});return new h1(r).toPromise()}async function nne(t,e){const n=A2(t,!1).get(e),r=await new h1(n).toPromise();return r===void 0?null:r.value}function hx(t,e){const n=A2(t,!0).delete(e);return new h1(n).toPromise()}const rne=800,ine=3;class PR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ine)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C2._getInstance(Qte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xte(),!this.activeServiceWorker)return;this.sender=new jte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nb();return await fx(e,n_,"1"),await hx(e,n_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=A2(i,!1).getAll();return new h1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PR.type="LOCAL";const sne=PR;new l1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(t,e){return e?Uu(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5 extends z5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function one(t){return SR(t.auth,new q5(t),t.bypassAuthState)}function lne(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),Fte(n,new q5(t),t.bypassAuthState)}async function une(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),zte(n,new q5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return one;case"linkViaPopup":case"linkViaRedirect":return une;case"reauthViaPopup":case"reauthViaRedirect":return lne;default:il(this.auth,"internal-error")}}resolve(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=new l1(2e3,1e4);class Hf extends NR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hf.currentPopupAction&&Hf.currentPopupAction.cancel(),Hf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){Xu(this.filter.length===1,"Popup operations only handle one event");const e=U5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cne.get())};e()}}Hf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne="pendingRedirect",Jm=new Map;class hne extends NR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jm.get(this.auth._key());if(!e){try{const r=await dne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jm.set(this.auth._key(),e)}return this.bypassAuthState||Jm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dne(t,e){const n=gne(e),r=mne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pne(t,e){Jm.set(t._key(),e)}function mne(t){return Uu(t._redirectPersistence)}function gne(t){return Xm(fne,t.config.apiKey,t.name)}async function _ne(t,e,n=!1){const r=c1(t),i=ane(r,e),a=await new hne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=10*60*1e3;class yne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zl(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vne&&this.cachedEventUids.clear(),this.cachedEventUids.has(dx(e))}saveEventToCache(e){this.cachedEventUids.add(dx(e)),this.lastProcessedEventTime=Date.now()}}function dx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wne(t,e={}){return Uh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sne=/^https?/;async function Tne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wne(t);for(const n of e)try{if(kne(n))return}catch{}il(t,"unauthorized-domain")}function kne(t){const e=Pb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Sne.test(n))return!1;if(xne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=new l1(3e4,6e4);function px(){const t=Yl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mne(t){return new Promise((e,n)=>{var r,i,s;function a(){px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{px(),n(Zl(t,"network-request-failed"))},timeout:Ene.get()})}if(!((i=(r=Yl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yl().gapi)===null||s===void 0)&&s.load)a();else{const l=wte("iframefcb");return Yl()[l]=()=>{gapi.load?a():n(Zl(t,"network-request-failed"))},vR(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qm=null,e})}let Qm=null;function Cne(t){return Qm=Qm||Mne(t),Qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=new l1(5e3,15e3),Ine="__/auth/iframe",Rne="emulator/auth/iframe",Pne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lne(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O5(e,Rne):`https://${t.config.authDomain}/${Ine}`,r={apiKey:e.apiKey,appName:t.name,v:df},i=Nne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fh(r).slice(1)}`}async function One(t){const e=await Cne(t),n=Yl().gapi;return qt(n,t,"internal-error"),e.open({where:document.body,url:Lne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Zl(t,"network-request-failed"),l=Yl().setTimeout(()=>{s(a)},Ane.get());function c(){Yl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bne=500,zne=600,Fne="_blank",Une="http://localhost";class mx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qne(t,e,n,r=Bne,i=zne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Dne),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Ls().toLowerCase();n&&(l=uR(f)?Fne:n),lR(f)&&(e=e||Une,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(_te(f)&&l!=="_self")return Hne(e||"",l),new mx(null);const m=window.open(e||"",l,p);qt(m,t,"popup-blocked");try{m.focus()}catch{}return new mx(m)}function Hne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne="__/auth/handler",Gne="emulator/auth/handler",$ne=encodeURIComponent("fac");async function gx(t,e,n,r,i,s){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:df,eventId:i};if(e instanceof wR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Eb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof f1){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),f=c?`#${$ne}=${encodeURIComponent(c)}`:"";return`${Vne(t)}?${Fh(l).slice(1)}${f}`}function Vne({config:t}){return t.emulator?O5(t,Gne):`https://${t.authDomain}/${Wne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="webStorageSupport";class Zne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CR,this._completeRedirectFn=_ne,this._overrideRedirectResult=pne}async _openPopup(e,n,r,i){var s;Xu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await gx(e,n,r,Pb(),i);return qne(e,a,U5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gx(e,n,r,Pb(),i);return Kte(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await One(e),r=new yne(e);return n.register("authEvent",i=>(qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($4,{type:$4},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$4];a!==void 0&&n(!!a),il(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||B5()||M2()}}const Yne=Zne;var _x="@firebase/auth",vx="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Xne(t){nf(new Kc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;qt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},f=new Ete(r,i,s,c);return Cte(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nf(new Kc("auth-internal",e=>{const n=c1(e.getProvider("auth").getImmediate());return(r=>new jne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wu(_x,vx,Kne(t)),Wu(_x,vx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=5*60,Qne=$I("authIdTokenMaxAge")||Jne;let yx=null;const ere=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qne)return;const i=n==null?void 0:n.token;yx!==i&&(yx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OR(t=k2()){const e=T2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mte(t,{popupRedirectResolver:Yne,persistence:[sne,ER,CR]}),r=$I("authTokenSyncURL");if(r){const s=ere(r);Wte(n,s,()=>s(n.currentUser)),Hte(n,a=>s(a))}const i=HI("auth");return i&&Ate(n,`http://${i}`),n}Xne("Browser");const bx="@firebase/database",wx="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DR="";function tre(t){DR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Sp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ru(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nre(e)}}catch{}return new rre},B0=BR("localStorage"),Lb=BR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new R5("@firebase/database"),ire=function(){let t=1;return function(){return t++}}(),zR=function(t){const e=VQ(t),n=new HQ;n.update(e);const r=n.digest();return C5.encodeByteArray(r)},d1=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=d1.apply(null,r):typeof r=="object"?e+=Mi(r):e+=r,e+=" "}return e};let G0=null,xx=!0;const sre=function(t,e){Ve(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(eh.logLevel=or.VERBOSE,G0=eh.log.bind(eh),e&&Lb.set("logging_enabled",!0)):typeof t=="function"?G0=t:(G0=null,Lb.remove("logging_enabled"))},fs=function(...t){if(xx===!0&&(xx=!1,G0===null&&Lb.get("logging_enabled")===!0&&sre(!0)),G0){const e=d1.apply(null,t);G0(e)}},p1=function(t){return function(...e){fs(t,...e)}},Ob=function(...t){const e="FIREBASE INTERNAL ERROR: "+d1(...t);eh.error(e)},Ju=function(...t){const e=`FIREBASE FATAL ERROR: ${d1(...t)}`;throw eh.error(e),new Error(e)},sa=function(...t){const e="FIREBASE WARNING: "+d1(...t);eh.warn(e)},are=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&sa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H5=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ore=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Th="[MIN_NAME]",sf="[MAX_NAME]",pf=function(t,e){if(t===e)return 0;if(t===Th||e===sf)return-1;if(e===Th||t===sf)return 1;{const n=Sx(t),r=Sx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lre=function(t,e){return t===e?0:t<e?-1:1},vd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mi(e))},W5=function(t){if(typeof t!="object"||t===null)return Mi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mi(e[r]),n+=":",n+=W5(t[e[r]]);return n+="}",n},FR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function hs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UR=function(t){Ve(!H5(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const p=f.join("");let m="";for(c=0;c<64;c+=8){let g=parseInt(p.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},ure=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cre=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fre(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const hre=new RegExp("^-?(0*)\\d{1,10}$"),dre=-2147483648,pre=2147483647,Sx=function(t){if(hre.test(t)){const e=Number(t);if(e>=dre&&e<=pre)return e}return null},Hh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw sa("Exception was thrown by user callback.",n),e},Math.floor(0))}},mre=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){sa(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sa(e)}}class th{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}th.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="5",qR="v",HR="s",WR="r",GR="f",$R=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VR="ls",ZR="p",Db="ac",YR="websocket",jR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,i,s=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=B0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&B0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XR(t,e,n){Ve(typeof e=="string","typeof type must == string"),Ve(typeof n=="object","typeof params must == object");let r;if(e===YR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vre(t)&&(n.ns=t.namespace);const i=[];return hs(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(){this.counters_={}}incrementCounter(e,n=1){ru(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={},Z4={};function $5(t){const e=t.toString();return V4[e]||(V4[e]=new yre),V4[e]}function bre(t,e){const n=t.toString();return Z4[n]||(Z4[n]=e()),Z4[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="start",xre="close",Sre="pLPCommand",Tre="pRTLPCB",JR="id",QR="pw",eP="ser",kre="cb",Ere="seg",Mre="ts",Cre="d",Are="dframe",tP=1870,nP=30,Ire=tP-nP,Rre=25e3,Pre=3e4;class Wf{constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=p1(e),this.stats_=$5(n),this.urlFn=c=>(this.appCheckToken&&(c[Db]=this.appCheckToken),XR(n,jR,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wre(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Pre)),ore(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V5((...s)=>{const[a,l,c,f,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Tx)this.id=l,this.password=c;else if(a===xre)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tx]="t",r[eP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kre]=this.scriptTagHolder.uniqueCallbackIdentifier),r[qR]=G5,this.transportSessionId&&(r[HR]=this.transportSessionId),this.lastSessionId&&(r[VR]=this.lastSessionId),this.applicationId&&(r[ZR]=this.applicationId),this.appCheckToken&&(r[Db]=this.appCheckToken),typeof location<"u"&&location.hostname&&$R.test(location.hostname)&&(r[WR]=GR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wf.forceAllow_=!0}static forceDisallow(){Wf.forceDisallow_=!0}static isAvailable(){return Wf.forceAllow_?!0:!Wf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ure()&&!cre()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=UI(n),i=FR(r,Ire);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Are]="t",r[JR]=e,r[QR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ire(),window[Sre+this.uniqueCallbackIdentifier]=e,window[Tre+this.uniqueCallbackIdentifier]=n,this.myIFrame=V5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){fs("frame writing exception"),l.stack&&fs(l.stack),fs(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fs("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JR]=this.myID,e[QR]=this.myPW,e[eP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nP+r.length<=tP;){const a=this.pendingSegs.shift();r=r+"&"+Ere+i+"="+a.seg+"&"+Mre+i+"="+a.ts+"&"+Cre+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Rre)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=16384,Lre=45e3;let i_=null;typeof MozWebSocket<"u"?i_=MozWebSocket:typeof WebSocket<"u"&&(i_=WebSocket);class Jo{constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=p1(this.connId),this.stats_=$5(n),this.connURL=Jo.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[qR]=G5,typeof location<"u"&&location.hostname&&$R.test(location.hostname)&&(a[WR]=GR),n&&(a[HR]=n),r&&(a[VR]=r),i&&(a[Db]=i),s&&(a[ZR]=s),XR(e,YR,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,B0.set("previous_websocket_failure",!0);try{let r;YI(),this.mySock=new i_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Jo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&i_!==null&&!Jo.forceDisallow_}static previouslyFailed(){return B0.isInMemoryStorage||B0.get("previous_websocket_failure")===!0}markConnectionHealthy(){B0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Sp(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=FR(n,Nre);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lre))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jo.responsesRequiredToBeHealthy=2;Jo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wf,Jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Jo&&Jo.isAvailable();let r=n&&!Jo.previouslyFailed();if(e.webSocketOnly&&(n||sa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jo];else{const i=this.transports_=[];for(const s of Cp.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Cp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=6e4,Dre=5e3,Bre=10*1024,zre=100*1024,Y4="t",kx="d",Fre="s",Ex="r",Ure="e",Mx="o",Cx="a",Ax="n",Ix="p",qre="h";class Hre{constructor(e,n,r,i,s,a,l,c,f,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=p1("c:"+this.id+":"),this.transportManager_=new Cp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zre?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bre?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Y4 in e){const n=e[Y4];n===Cx?this.upgradeIfSecondaryHealthy_():n===Ex?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vd("t",e),r=vd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ix,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ax,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vd("t",e),r=vd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vd(Y4,e);if(kx in e){const r=e[kx];if(n===qre){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ax){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fre?this.onConnectionShutdown_(r):n===Ex?this.onReset_(r):n===Ure?Ob("Server Error: "+r):n===Mx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ob("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),G5!==r&&sa("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ore))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dre))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ix,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(B0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.allowedEvents_=e,this.listeners_={},Ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ve(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends iP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new s_}getInitialEvent(e){return Ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=32,Px=768;class lr{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function qn(){return new lr("")}function En(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xc(t){return t.pieces_.length-t.pieceNum_}function br(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new lr(t.pieces_,e)}function Z5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Wre(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ap(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new lr(e,0)}function ei(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof lr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new lr(n,0)}function xn(t){return t.pieceNum_>=t.pieces_.length}function na(t,e){const n=En(t),r=En(e);if(n===null)return e;if(n===r)return na(br(t),br(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gre(t,e){const n=Ap(t,0),r=Ap(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=pf(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function aP(t,e){if(Xc(t)!==Xc(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function To(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xc(t)>Xc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class $re{constructor(e,n){this.errorPrefix_=n,this.parts_=Ap(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=S2(this.parts_[r]);oP(this)}}function Vre(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=S2(e),oP(t)}function Zre(t){const e=t.parts_.pop();t.byteLength_-=S2(e),t.parts_.length>0&&(t.byteLength_-=1)}function oP(t){if(t.byteLength_>Px)throw new Error(t.errorPrefix_+"has a key path longer than "+Px+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rx+") or object contains a cycle "+P0(t))}function P0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5 extends iP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Y5}getInitialEvent(e){return Ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=1e3,Yre=60*5*1e3,Nx=30*1e3,jre=1.3,Kre=3e4,Xre="server_kill",Lx=3;class Gu extends rP{constructor(e,n,r,i,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Gu.nextPersistentConnectionId_++,this.log_=p1("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=Yre,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!YI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&s_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Mi(s)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new a1,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const c=l.d,f=l.s;Gu.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ru(e,"w")){const r=xh(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();sa(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||qQ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=UQ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ob("Unrecognized action received from server: "+Mi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Kre&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jre)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gu.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},f=function(m){Ve(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:c,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?fs("getToken() completed but was canceled"):(fs("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new Hre(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{sa(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Xre)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&sa(m),c())}}}interrupt(e){fs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Eb(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>W5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new lr(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Lx&&(this.reconnectDelay_=Nx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Lx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+DR.replace(/\./g,"-")]=1,I5()?e["framework.cordova"]=1:ZI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=s_.getInstance().currentlyOnline();return Eb(this.interruptReasons_)&&e}}Gu.nextPersistentConnectionId_=0;Gu.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new yn(Th,e),i=new yn(Th,n);return this.compare(r,i)!==0}minPost(){return yn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;class lP extends I2{static get __EMPTY_NODE(){return ym}static set __EMPTY_NODE(e){ym=e}compare(e,n){return pf(e.name,n.name)}isDefinedOn(e){throw zh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yn.MIN}maxPost(){return new yn(sf,ym)}makePost(e,n){return Ve(typeof e=="string","KeyIndex indexValue must always be a string."),new yn(e,ym)}toString(){return".key"}}const nh=new lP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vi.RED,this.left=i??La.EMPTY_NODE,this.right=s??La.EMPTY_NODE}copy(e,n,r,i,s){return new Vi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return La.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return La.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vi.RED=!0;Vi.BLACK=!1;class Jre{copy(e,n,r,i,s){return this}insert(e,n,r){return new Vi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class La{constructor(e,n=La.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new La(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vi.BLACK,null,null))}remove(e){return new La(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bm(this.root_,null,this.comparator_,!0,e)}}La.EMPTY_NODE=new Jre;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t,e){return pf(t.name,e.name)}function j5(t,e){return pf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb;function eie(t){Bb=t}const uP=function(t){return typeof t=="number"?"number:"+UR(t):"string:"+t},cP=function(t){if(t.isLeafNode()){const e=t.val();Ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ru(e,".sv"),"Priority must be a string or number.")}else Ve(t===Bb||t.isEmpty(),"priority of unexpected type.");Ve(t===Bb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ox;class Gi{constructor(e,n=Gi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cP(this.priorityNode_)}static set __childrenNodeConstructor(e){Ox=e}static get __childrenNodeConstructor(){return Ox}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xn(e)?this:En(e)===".priority"?this.priorityNode_:Gi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Gi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=En(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ve(r!==".priority"||Xc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gi.__childrenNodeConstructor.EMPTY_NODE.updateChild(br(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UR(this.value_):e+=this.value_,this.lazyHash_=zR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gi.__childrenNodeConstructor?-1:(Ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Gi.VALUE_TYPE_ORDER.indexOf(n),s=Gi.VALUE_TYPE_ORDER.indexOf(r);return Ve(i>=0,"Unknown leaf type: "+n),Ve(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fP,hP;function tie(t){fP=t}function nie(t){hP=t}class rie extends I2{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?pf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(sf,new Gi("[PRIORITY-POST]",hP))}makePost(e,n){const r=fP(e);return new yn(n,new Gi("[PRIORITY-POST]",r))}toString(){return".priority"}}const ni=new rie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=Math.log(2);class sie{constructor(e){const n=s=>parseInt(Math.log(s)/iie,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const a_=function(t,e,n,r){t.sort(e);const i=function(c,f){const p=f-c;let m,g;if(p===0)return null;if(p===1)return m=t[c],g=n?n(m):m,new Vi(g,m.node,Vi.BLACK,null,null);{const y=parseInt(p/2,10)+c,w=i(c,y),S=i(y+1,f);return m=t[y],g=n?n(m):m,new Vi(g,m.node,Vi.BLACK,w,S)}},s=function(c){let f=null,p=null,m=t.length;const g=function(w,S){const I=m-w,R=m;m-=w;const k=i(I+1,R),A=t[I],C=n?n(A):A;y(new Vi(C,A.node,S,null,k))},y=function(w){f?(f.left=w,f=w):(p=w,f=w)};for(let w=0;w<c.count;++w){const S=c.nextBitIsOne(),I=Math.pow(2,c.count-(w+1));S?g(I,Vi.BLACK):(g(I,Vi.BLACK),g(I,Vi.RED))}return p},a=new sie(t.length),l=s(a);return new La(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j4;const Df={};class qu{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ve(Df&&ni,"ChildrenNode.ts has not been loaded"),j4=j4||new qu({".priority":Df},{".priority":ni}),j4}get(e){const n=xh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof La?n:null}hasIndex(e){return ru(this.indexSet_,e.toString())}addIndex(e,n){Ve(e!==nh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(yn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=a_(r,e.getCompare()):l=Df;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const p=Object.assign({},this.indexes_);return p[c]=l,new qu(p,f)}addToIndexes(e,n){const r=Kg(this.indexes_,(i,s)=>{const a=xh(this.indexSet_,s);if(Ve(a,"Missing index implementation for "+s),i===Df)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(yn.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&l.push(f),f=c.getNext();return l.push(e),a_(l,a.getCompare())}else return Df;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new yn(e.name,l))),c.insert(e,e.node)}});return new qu(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kg(this.indexes_,i=>{if(i===Df)return i;{const s=n.get(e.name);return s?i.remove(new yn(e.name,s)):i}});return new qu(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;class Dt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cP(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bd||(bd=new Dt(new La(j5),null,qu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bd}updatePriority(e){return this.children_.isEmpty()?this:new Dt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bd:n}}getChild(e){const n=En(e);return n===null?this:this.getImmediateChild(n).getChild(br(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ve(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new yn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?bd:this.priorityNode_;return new Dt(i,a,s)}}updateChild(e,n){const r=En(e);if(r===null)return n;{Ve(En(e)!==".priority"||Xc(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(br(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ni,(a,l)=>{n[a]=l.val(e),r++,s&&Dt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+uP(this.getPriority().val())+":"),this.forEachChild(ni,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new yn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new yn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new yn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,yn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,yn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===m1?-1:0}withIndex(e){if(e===nh||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Dt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===nh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ni),i=n.getIterator(ni);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===nh?null:this.indexMap_.get(e.toString())}}Dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aie extends Dt{constructor(){super(new La(j5),Dt.EMPTY_NODE,qu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dt.EMPTY_NODE}isEmpty(){return!1}}const m1=new aie;Object.defineProperties(yn,{MIN:{value:new yn(Th,Dt.EMPTY_NODE)},MAX:{value:new yn(sf,m1)}});lP.__EMPTY_NODE=Dt.EMPTY_NODE;Gi.__childrenNodeConstructor=Dt;eie(m1);nie(m1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=!0;function Ei(t,e=null){if(t===null)return Dt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Gi(n,Ei(e))}if(!(t instanceof Array)&&oie){const n=[];let r=!1;if(hs(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=Ei(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new yn(a,c)))}}),n.length===0)return Dt.EMPTY_NODE;const s=a_(n,Qre,a=>a.name,j5);if(r){const a=a_(n,ni.getCompare());return new Dt(s,Ei(e),new qu({".priority":a},{".priority":ni}))}else return new Dt(s,Ei(e),qu.Default)}else{let n=Dt.EMPTY_NODE;return hs(t,(r,i)=>{if(ru(t,r)&&r.substring(0,1)!=="."){const s=Ei(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ei(e))}}tie(Ei);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie extends I2{constructor(e){super(),this.indexPath_=e,Ve(!xn(e)&&En(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?pf(e.name,n.name):s}makePost(e,n){const r=Ei(e),i=Dt.EMPTY_NODE.updateChild(this.indexPath_,r);return new yn(n,i)}maxPost(){const e=Dt.EMPTY_NODE.updateChild(this.indexPath_,m1);return new yn(sf,e)}toString(){return Ap(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie extends I2{compare(e,n){const r=e.node.compareTo(n.node);return r===0?pf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(e,n){const r=Ei(e);return new yn(n,r)}toString(){return".value"}}const cie=new uie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){return{type:"value",snapshotNode:t}}function kh(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ip(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){Ve(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Ip(n,l)):Ve(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(kh(n,r)):a.trackChildChange(Rp(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ni,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ip(i,s))}),n.isLeafNode()||n.forEachChild(ni,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Rp(i,s,a))}else r.trackChildChange(kh(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Dt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.indexedFilter_=new K5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pp.getStartPost_(e),this.endPost_=Pp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new yn(n,r))||(r=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Dt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Dt.EMPTY_NODE);const s=this;return n.forEachChild(ni,(a,l)=>{s.matches(new yn(a,l))||(i=i.updateImmediateChild(a,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Pp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new yn(n,r))||(r=Dt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Dt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Dt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Dt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const l=s.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(g,y)=>m(y,g)}else a=this.index_.getCompare();const l=e;Ve(l.numChildren()===this.limit_,"");const c=new yn(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(l.hasChild(n)){const m=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:a(g,c);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Rp(n,r,m)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ip(n,m));const S=l.updateImmediateChild(n,Dt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(kh(g.name,g.node)),S.updateImmediateChild(g.name,g.node)):S}}else return r.isEmpty()?e:p&&a(f,c)>=0?(s!=null&&(s.trackChildChange(Ip(f.name,f.node)),s.trackChildChange(kh(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Dt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ni}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Th}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ni}copy(){const e=new X5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function die(t){return t.loadsAllData()?new K5(t.getIndex()):t.hasLimit()?new hie(t):new Pp(t)}function Dx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ni?n="$priority":t.index_===cie?n="$value":t.index_===nh?n="$key":(Ve(t.index_ instanceof lie,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Bx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ni&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends rP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=p1("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=o_.getListenId_(e,r),l={};this.listens_[a]=l;const c=Dx(e._queryParams);this.restRequest_(s+".json",c,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,r),xh(this.listens_,a)===l){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",i(g,null)}})}unlisten(e,n){const r=o_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Dx(e._queryParams),r=e._path.toString(),i=new a1;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fh(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Sp(l.responseText)}catch{sa("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&sa("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){return{value:null,children:new Map}}function pP(t,e,n){if(xn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=En(e);t.children.has(r)||t.children.set(r,l_());const i=t.children.get(r);e=br(e),pP(i,e,n)}}function zb(t,e,n){t.value!==null?n(e,t.value):mie(t,(r,i)=>{const s=new lr(e.toString()+"/"+r);zb(i,s,n)})}function mie(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=10*1e3,_ie=30*1e3,vie=5*60*1e3;class yie{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gie(e);const r=zx+(_ie-zx)*Math.random();Gd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hs(e,(i,s)=>{s>0&&ru(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Gd(this.reportStats_.bind(this),Math.floor(Math.random()*2*vie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qo||(Qo={}));function J5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Q5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function e6(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qo.ACK_USER_WRITE,this.source=J5()}operationForChild(e){if(xn(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new lr(e));return new u_(qn(),n,this.revert)}}else return Ve(En(this.path)===e,"operationForChild called for unrelated child."),new u_(br(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.source=e,this.path=n,this.type=Qo.LISTEN_COMPLETE}operationForChild(e){return xn(this.path)?new Np(this.source,qn()):new Np(this.source,br(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qo.OVERWRITE}operationForChild(e){return xn(this.path)?new af(this.source,qn(),this.snap.getImmediateChild(e)):new af(this.source,br(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qo.MERGE}operationForChild(e){if(xn(this.path)){const n=this.children.subtree(new lr(e));return n.isEmpty()?null:n.value?new af(this.source,qn(),n.value):new Eh(this.source,qn(),n)}else return Ve(En(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Eh(this.source,br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xn(e))return this.isFullyInitialized()&&!this.filtered_;const n=En(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wie(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(fie(a.childName,a.snapshotNode))}),wd(t,i,"child_removed",e,r,n),wd(t,i,"child_added",e,r,n),wd(t,i,"child_moved",s,r,n),wd(t,i,"child_changed",e,r,n),wd(t,i,"value",e,r,n),i}function wd(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Sie(t,l,c)),a.forEach(l=>{const c=xie(t,l,s);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(c,t.query_))})})}function xie(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Sie(t,e,n){if(e.childName==null||n.childName==null)throw zh("Should only compare child_ events.");const r=new yn(e.childName,e.snapshotNode),i=new yn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return{eventCache:t,serverCache:e}}function $d(t,e,n,r){return R2(new Jc(e,n,r),t.serverCache)}function mP(t,e,n,r){return R2(t.eventCache,new Jc(e,n,r))}function c_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function of(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K4;const Tie=()=>(K4||(K4=new La(lre)),K4);class yr{constructor(e,n=Tie()){this.value=e,this.children=n}static fromObject(e){let n=new yr(null);return hs(e,(r,i)=>{n=n.set(new lr(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:qn(),value:this.value};if(xn(e))return null;{const r=En(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(br(e),n);return s!=null?{path:ei(new lr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xn(e))return this;{const n=En(e),r=this.children.get(n);return r!==null?r.subtree(br(e)):new yr(null)}}set(e,n){if(xn(e))return new yr(n,this.children);{const r=En(e),s=(this.children.get(r)||new yr(null)).set(br(e),n),a=this.children.insert(r,s);return new yr(this.value,a)}}remove(e){if(xn(e))return this.children.isEmpty()?new yr(null):new yr(null,this.children);{const n=En(e),r=this.children.get(n);if(r){const i=r.remove(br(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new yr(null):new yr(this.value,s)}else return this}}get(e){if(xn(e))return this.value;{const n=En(e),r=this.children.get(n);return r?r.get(br(e)):null}}setTree(e,n){if(xn(e))return n;{const r=En(e),s=(this.children.get(r)||new yr(null)).setTree(br(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new yr(this.value,a)}}fold(e){return this.fold_(qn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ei(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,qn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xn(e))return null;{const s=En(e),a=this.children.get(s);return a?a.findOnPath_(br(e),ei(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,qn(),n)}foreachOnPath_(e,n,r){if(xn(e))return this;{this.value&&r(n,this.value);const i=En(e),s=this.children.get(i);return s?s.foreachOnPath_(br(e),ei(n,i),r):new yr(null)}}foreach(e){this.foreach_(qn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ei(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.writeTree_=e}static empty(){return new el(new yr(null))}}function Vd(t,e,n){if(xn(e))return new el(new yr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=na(i,e);return s=s.updateChild(a,n),new el(t.writeTree_.set(i,s))}else{const i=new yr(n),s=t.writeTree_.setTree(e,i);return new el(s)}}}function Fb(t,e,n){let r=t;return hs(n,(i,s)=>{r=Vd(r,ei(e,i),s)}),r}function Fx(t,e){if(xn(e))return el.empty();{const n=t.writeTree_.setTree(e,new yr(null));return new el(n)}}function Ub(t,e){return mf(t,e)!=null}function mf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(na(n.path,e)):null}function Ux(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ni,(r,i)=>{e.push(new yn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new yn(r,i.value))}),e}function Hc(t,e){if(xn(e))return t;{const n=mf(t,e);return n!=null?new el(new yr(n)):new el(t.writeTree_.subtree(e))}}function qb(t){return t.writeTree_.isEmpty()}function Mh(t,e){return gP(qn(),t.writeTree_,e)}function gP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ve(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=gP(ei(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ei(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return bP(e,t)}function kie(t,e,n,r,i){Ve(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Vd(t.visibleWrites,e,n)),t.lastWriteId=r}function Eie(t,e,n,r){Ve(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Fb(t.visibleWrites,e,n),t.lastWriteId=r}function Mie(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Cie(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Ve(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Aie(l,r.path)?i=!1:To(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return Iie(t),!0;if(r.snap)t.visibleWrites=Fx(t.visibleWrites,r.path);else{const l=r.children;hs(l,c=>{t.visibleWrites=Fx(t.visibleWrites,ei(r.path,c))})}return!0}else return!1}function Aie(t,e){if(t.snap)return To(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&To(ei(t.path,n),e))return!0;return!1}function Iie(t){t.visibleWrites=_P(t.allWrites,Rie,qn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Rie(t){return t.visible}function _P(t,e,n){let r=el.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)To(n,a)?(l=na(n,a),r=Vd(r,l,s.snap)):To(a,n)&&(l=na(a,n),r=Vd(r,qn(),s.snap.getChild(l)));else if(s.children){if(To(n,a))l=na(n,a),r=Fb(r,l,s.children);else if(To(a,n))if(l=na(a,n),xn(l))r=Fb(r,qn(),s.children);else{const c=xh(s.children,En(l));if(c){const f=c.getChild(br(l));r=Vd(r,qn(),f)}}}else throw zh("WriteRecord should have .snap or .children")}}return r}function vP(t,e,n,r,i){if(!r&&!i){const s=mf(t.visibleWrites,e);if(s!=null)return s;{const a=Hc(t.visibleWrites,e);if(qb(a))return n;if(n==null&&!Ub(a,qn()))return null;{const l=n||Dt.EMPTY_NODE;return Mh(a,l)}}}else{const s=Hc(t.visibleWrites,e);if(!i&&qb(s))return n;if(!i&&n==null&&!Ub(s,qn()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(To(f.path,e)||To(e,f.path))},l=_P(t.allWrites,a,e),c=n||Dt.EMPTY_NODE;return Mh(l,c)}}}function Pie(t,e,n){let r=Dt.EMPTY_NODE;const i=mf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ni,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Hc(t.visibleWrites,e);return n.forEachChild(ni,(a,l)=>{const c=Mh(Hc(s,new lr(a)),l);r=r.updateImmediateChild(a,c)}),Ux(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Hc(t.visibleWrites,e);return Ux(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Nie(t,e,n,r,i){Ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ei(e,n);if(Ub(t.visibleWrites,s))return null;{const a=Hc(t.visibleWrites,s);return qb(a)?i.getChild(n):Mh(a,i.getChild(n))}}function Lie(t,e,n,r){const i=ei(e,n),s=mf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Hc(t.visibleWrites,i);return Mh(a,r.getNode().getImmediateChild(n))}else return null}function Oie(t,e){return mf(t.visibleWrites,e)}function Die(t,e,n,r,i,s,a){let l;const c=Hc(t.visibleWrites,e),f=mf(c,qn());if(f!=null)l=f;else if(n!=null)l=Mh(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const p=[],m=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let y=g.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function Bie(){return{visibleWrites:el.empty(),allWrites:[],lastWriteId:-1}}function f_(t,e,n,r){return vP(t.writeTree,t.treePath,e,n,r)}function t6(t,e){return Pie(t.writeTree,t.treePath,e)}function qx(t,e,n,r){return Nie(t.writeTree,t.treePath,e,n,r)}function h_(t,e){return Oie(t.writeTree,ei(t.treePath,e))}function zie(t,e,n,r,i,s){return Die(t.writeTree,t.treePath,e,n,r,i,s)}function n6(t,e,n){return Lie(t.writeTree,t.treePath,e,n)}function yP(t,e){return bP(ei(t.treePath,e),t.writeTree)}function bP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ve(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ve(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Rp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ip(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,kh(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Rp(r,e.snapshotNode,i.oldSnap));else throw zh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const wP=new Uie;class r6{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Jc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n6(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:of(this.viewCache_),s=zie(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(t){return{filter:t}}function Hie(t,e){Ve(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ve(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Wie(t,e,n,r,i){const s=new Fie;let a,l;if(n.type===Qo.OVERWRITE){const f=n;f.source.fromUser?a=Hb(t,e,f.path,f.snap,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!xn(f.path),a=d_(t,e,f.path,f.snap,r,i,l,s))}else if(n.type===Qo.MERGE){const f=n;f.source.fromUser?a=$ie(t,e,f.path,f.children,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),a=Wb(t,e,f.path,f.children,r,i,l,s))}else if(n.type===Qo.ACK_USER_WRITE){const f=n;f.revert?a=Yie(t,e,f.path,r,i,s):a=Vie(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===Qo.LISTEN_COMPLETE)a=Zie(t,e,n.path,r,s);else throw zh("Unknown operation type: "+n.type);const c=s.getChanges();return Gie(e,a,c),{viewCache:a,changes:c}}function Gie(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=c_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(dP(c_(e)))}}function xP(t,e,n,r,i,s){const a=e.eventCache;if(h_(r,n)!=null)return e;{let l,c;if(xn(n))if(Ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=of(e),p=f instanceof Dt?f:Dt.EMPTY_NODE,m=t6(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=f_(r,of(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=En(n);if(f===".priority"){Ve(Xc(n)===1,"Can't have a priority with additional path components");const p=a.getNode();c=e.serverCache.getNode();const m=qx(r,n,p,c);m!=null?l=t.filter.updatePriority(p,m):l=a.getNode()}else{const p=br(n);let m;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();const g=qx(r,n,a.getNode(),c);g!=null?m=a.getNode().getImmediateChild(f).updateChild(p,g):m=a.getNode().getImmediateChild(f)}else m=n6(r,f,e.serverCache);m!=null?l=t.filter.updateChild(a.getNode(),f,m,p,i,s):l=a.getNode()}}return $d(e,l,a.isFullyInitialized()||xn(n),t.filter.filtersNodes())}}function d_(t,e,n,r,i,s,a,l){const c=e.serverCache;let f;const p=a?t.filter:t.filter.getIndexedFilter();if(xn(n))f=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(n,r);f=p.updateFullNode(c.getNode(),y,null)}else{const y=En(n);if(!c.isCompleteForPath(n)&&Xc(n)>1)return e;const w=br(n),I=c.getNode().getImmediateChild(y).updateChild(w,r);y===".priority"?f=p.updatePriority(c.getNode(),I):f=p.updateChild(c.getNode(),y,I,w,wP,null)}const m=mP(e,f,c.isFullyInitialized()||xn(n),p.filtersNodes()),g=new r6(i,m,s);return xP(t,m,n,i,g,l)}function Hb(t,e,n,r,i,s,a){const l=e.eventCache;let c,f;const p=new r6(i,e,s);if(xn(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=$d(e,f,!0,t.filter.filtersNodes());else{const m=En(n);if(m===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=$d(e,f,l.isFullyInitialized(),l.isFiltered());else{const g=br(n),y=l.getNode().getImmediateChild(m);let w;if(xn(g))w=r;else{const S=p.getCompleteChild(m);S!=null?Z5(g)===".priority"&&S.getChild(sP(g)).isEmpty()?w=S:w=S.updateChild(g,r):w=Dt.EMPTY_NODE}if(y.equals(w))c=e;else{const S=t.filter.updateChild(l.getNode(),m,w,g,p,a);c=$d(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Hx(t,e){return t.eventCache.isCompleteForChild(e)}function $ie(t,e,n,r,i,s,a){let l=e;return r.foreach((c,f)=>{const p=ei(n,c);Hx(e,En(p))&&(l=Hb(t,l,p,f,i,s,a))}),r.foreach((c,f)=>{const p=ei(n,c);Hx(e,En(p))||(l=Hb(t,l,p,f,i,s,a))}),l}function Wx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Wb(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;xn(n)?f=r:f=new yr(null).setTree(n,r);const p=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),w=Wx(t,y,g);c=d_(t,c,new lr(m),w,i,s,a,l)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!y){const w=e.serverCache.getNode().getImmediateChild(m),S=Wx(t,w,g);c=d_(t,c,new lr(m),S,i,s,a,l)}}),c}function Vie(t,e,n,r,i,s,a){if(h_(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(xn(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return d_(t,e,n,c.getNode().getChild(n),i,s,l,a);if(xn(n)){let f=new yr(null);return c.getNode().forEachChild(nh,(p,m)=>{f=f.set(new lr(p),m)}),Wb(t,e,n,f,i,s,l,a)}else return e}else{let f=new yr(null);return r.foreach((p,m)=>{const g=ei(n,p);c.isCompleteForPath(g)&&(f=f.set(p,c.getNode().getChild(g)))}),Wb(t,e,n,f,i,s,l,a)}}function Zie(t,e,n,r,i){const s=e.serverCache,a=mP(e,s.getNode(),s.isFullyInitialized()||xn(n),s.isFiltered());return xP(t,a,n,r,wP,i)}function Yie(t,e,n,r,i,s){let a;if(h_(r,n)!=null)return e;{const l=new r6(r,e,i),c=e.eventCache.getNode();let f;if(xn(n)||En(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=f_(r,of(e));else{const m=e.serverCache.getNode();Ve(m instanceof Dt,"serverChildren would be complete if leaf node"),p=t6(r,m)}p=p,f=t.filter.updateFullNode(c,p,s)}else{const p=En(n);let m=n6(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=c.getImmediateChild(p)),m!=null?f=t.filter.updateChild(c,p,m,br(n),l,s):e.eventCache.getNode().hasChild(p)?f=t.filter.updateChild(c,p,Dt.EMPTY_NODE,br(n),l,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=f_(r,of(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||h_(r,qn())!=null,$d(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new K5(r.getIndex()),s=die(r);this.processor_=qie(s);const a=n.serverCache,l=n.eventCache,c=i.updateFullNode(Dt.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Dt.EMPTY_NODE,l.getNode(),null),p=new Jc(c,a.isFullyInitialized(),i.filtersNodes()),m=new Jc(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=R2(m,p),this.eventGenerator_=new bie(this.query_)}get query(){return this.query_}}function Kie(t){return t.viewCache_.serverCache.getNode()}function Xie(t){return c_(t.viewCache_)}function Jie(t,e){const n=of(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xn(e)&&!n.getImmediateChild(En(e)).isEmpty())?n.getChild(e):null}function Gx(t){return t.eventRegistrations_.length===0}function Qie(t,e){t.eventRegistrations_.push(e)}function $x(t,e,n){const r=[];if(n){Ve(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Vx(t,e,n,r){e.type===Qo.MERGE&&e.source.queryId!==null&&(Ve(of(t.viewCache_),"We should always have a full cache before handling merges"),Ve(c_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Wie(t.processor_,i,e,n,r);return Hie(t.processor_,s.viewCache),Ve(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,SP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function ese(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ni,(s,a)=>{r.push(kh(s,a))}),n.isFullyInitialized()&&r.push(dP(n.getNode())),SP(t,r,n.getNode(),e)}function SP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return wie(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_;class TP{constructor(){this.views=new Map}}function tse(t){Ve(!p_,"__referenceConstructor has already been defined"),p_=t}function nse(){return Ve(p_,"Reference.ts has not been loaded"),p_}function rse(t){return t.views.size===0}function i6(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ve(s!=null,"SyncTree gave us an op for an invalid query."),Vx(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(Vx(a,e,n,r));return s}}function kP(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let l=f_(n,i?r:null),c=!1;l?c=!0:r instanceof Dt?(l=t6(n,r),c=!1):(l=Dt.EMPTY_NODE,c=!1);const f=R2(new Jc(l,c,!1),new Jc(r,i,!1));return new jie(e,f)}return a}function ise(t,e,n,r,i,s){const a=kP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Qie(a,n),ese(a,n)}function sse(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const l=Qc(t);if(i==="default")for(const[c,f]of t.views.entries())a=a.concat($x(f,n,r)),Gx(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=t.views.get(i);c&&(a=a.concat($x(c,n,r)),Gx(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!Qc(t)&&s.push(new(nse())(e._repo,e._path)),{removed:s,events:a}}function EP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wc(t,e){let n=null;for(const r of t.views.values())n=n||Jie(r,e);return n}function MP(t,e){if(e._queryParams.loadsAllData())return N2(t);{const r=e._queryIdentifier;return t.views.get(r)}}function CP(t,e){return MP(t,e)!=null}function Qc(t){return N2(t)!=null}function N2(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_;function ase(t){Ve(!m_,"__referenceConstructor has already been defined"),m_=t}function ose(){return Ve(m_,"Reference.ts has not been loaded"),m_}let lse=1;class Zx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new yr(null),this.pendingWriteTree_=Bie(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AP(t,e,n,r,i){return kie(t.pendingWriteTree_,e,n,r,i),i?Wh(t,new af(J5(),e,n)):[]}function use(t,e,n,r){Eie(t.pendingWriteTree_,e,n,r);const i=yr.fromObject(n);return Wh(t,new Eh(J5(),e,i))}function Bc(t,e,n=!1){const r=Mie(t.pendingWriteTree_,e);if(Cie(t.pendingWriteTree_,e)){let s=new yr(null);return r.snap!=null?s=s.set(qn(),!0):hs(r.children,a=>{s=s.set(new lr(a),!0)}),Wh(t,new u_(r.path,s,n))}else return[]}function g1(t,e,n){return Wh(t,new af(Q5(),e,n))}function cse(t,e,n){const r=yr.fromObject(n);return Wh(t,new Eh(Q5(),e,r))}function fse(t,e){return Wh(t,new Np(Q5(),e))}function hse(t,e,n){const r=a6(t,n);if(r){const i=o6(r),s=i.path,a=i.queryId,l=na(s,e),c=new Np(e6(a),l);return l6(t,s,c)}else return[]}function IP(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let l=[];if(a&&(e._queryIdentifier==="default"||CP(a,e))){const c=sse(a,e,n,r);rse(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=c.removed;if(l=c.events,!i){const p=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,y)=>Qc(y));if(p&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=gse(g);for(let w=0;w<y.length;++w){const S=y[w],I=S.query,R=LP(t,S);t.listenProvider_.startListening(Zd(I),Lp(t,I),R.hashFn,R.onComplete)}}}!m&&f.length>0&&!r&&(p?t.listenProvider_.stopListening(Zd(e),null):f.forEach(g=>{const y=t.queryToTagMap.get(L2(g));t.listenProvider_.stopListening(Zd(g),y)}))}_se(t,f)}return l}function RP(t,e,n,r){const i=a6(t,r);if(i!=null){const s=o6(i),a=s.path,l=s.queryId,c=na(a,e),f=new af(e6(l),c,n);return l6(t,a,f)}else return[]}function dse(t,e,n,r){const i=a6(t,r);if(i){const s=o6(i),a=s.path,l=s.queryId,c=na(a,e),f=yr.fromObject(n),p=new Eh(e6(l),c,f);return l6(t,a,p)}else return[]}function pse(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{const w=na(g,i);s=s||Wc(y,w),a=a||Qc(y)});let l=t.syncPointTree_.get(i);l?(a=a||Qc(l),s=s||Wc(l,qn())):(l=new TP,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=Dt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,w)=>{const S=Wc(w,qn());S&&(s=s.updateImmediateChild(y,S))}));const f=CP(l,e);if(!f&&!e._queryParams.loadsAllData()){const g=L2(e);Ve(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=vse();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const p=P2(t.pendingWriteTree_,i);let m=ise(l,e,n,p,s,c);if(!f&&!a&&!r){const g=MP(l,e);m=m.concat(yse(t,e,g))}return m}function s6(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=na(a,e),f=Wc(l,c);if(f)return f});return vP(i,e,s,n,!0)}function mse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,p)=>{const m=na(f,n);r=r||Wc(p,m)});let i=t.syncPointTree_.get(n);i?r=r||Wc(i,qn()):(i=new TP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Jc(r,!0,!1):null,l=P2(t.pendingWriteTree_,e._path),c=kP(i,e,l,s?a.getNode():Dt.EMPTY_NODE,s);return Xie(c)}function Wh(t,e){return PP(e,t.syncPointTree_,null,P2(t.pendingWriteTree_,qn()))}function PP(t,e,n,r){if(xn(t.path))return NP(t,e,n,r);{const i=e.get(qn());n==null&&i!=null&&(n=Wc(i,qn()));let s=[];const a=En(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const f=n?n.getImmediateChild(a):null,p=yP(r,a);s=s.concat(PP(l,c,f,p))}return i&&(s=s.concat(i6(i,t,r,n))),s}}function NP(t,e,n,r){const i=e.get(qn());n==null&&i!=null&&(n=Wc(i,qn()));let s=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,f=yP(r,a),p=t.operationForChild(a);p&&(s=s.concat(NP(p,l,c,f)))}),i&&(s=s.concat(i6(i,t,r,n))),s}function LP(t,e){const n=e.query,r=Lp(t,n);return{hashFn:()=>(Kie(e)||Dt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?hse(t,n._path,r):fse(t,n._path);{const s=fre(i,n);return IP(t,n,null,s)}}}}function Lp(t,e){const n=L2(e);return t.queryToTagMap.get(n)}function L2(t){return t._path.toString()+"$"+t._queryIdentifier}function a6(t,e){return t.tagToQueryMap.get(e)}function o6(t){const e=t.indexOf("$");return Ve(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new lr(t.substr(0,e))}}function l6(t,e,n){const r=t.syncPointTree_.get(e);Ve(r,"Missing sync point for query tag that we're tracking");const i=P2(t.pendingWriteTree_,e);return i6(r,n,i,null)}function gse(t){return t.fold((e,n,r)=>{if(n&&Qc(n))return[N2(n)];{let i=[];return n&&(i=EP(n)),hs(r,(s,a)=>{i=i.concat(a)}),i}})}function Zd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ose())(t._repo,t._path):t}function _se(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=L2(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function vse(){return lse++}function yse(t,e,n){const r=e._path,i=Lp(t,e),s=LP(t,n),a=t.listenProvider_.startListening(Zd(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)Ve(!Qc(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((f,p,m)=>{if(!xn(f)&&p&&Qc(p))return[N2(p).query];{let g=[];return p&&(g=g.concat(EP(p).map(y=>y.query))),hs(m,(y,w)=>{g=g.concat(w)}),g}});for(let f=0;f<c.length;++f){const p=c[f];t.listenProvider_.stopListening(Zd(p),Lp(t,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new u6(n)}node(){return this.node_}}class c6{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ei(this.path_,e);return new c6(this.syncTree_,n)}node(){return s6(this.syncTree_,this.path_)}}const bse=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Yx=function(t,e,n){if(!t||typeof t!="object")return t;if(Ve(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wse(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xse(t[".sv"],e);Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wse=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ve(!1,"Unexpected server value: "+t)}},xse=function(t,e,n){t.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ve(!1,"Unexpected increment value: "+r);const i=e.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},OP=function(t,e,n,r){return f6(e,new c6(n,t),r)},DP=function(t,e,n){return f6(t,new u6(e),n)};function f6(t,e,n){const r=t.getPriority().val(),i=Yx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=Yx(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Gi(l,Ei(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Gi(i))),a.forEachChild(ni,(l,c)=>{const f=f6(c,e.getImmediateChild(l),n);f!==c&&(s=s.updateImmediateChild(l,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function d6(t,e){let n=e instanceof lr?e:new lr(e),r=t,i=En(n);for(;i!==null;){const s=xh(r.node.children,i)||{children:{},childCount:0};r=new h6(i,r,s),n=br(n),i=En(n)}return r}function Gh(t){return t.node.value}function BP(t,e){t.node.value=e,Gb(t)}function zP(t){return t.node.childCount>0}function Sse(t){return Gh(t)===void 0&&!zP(t)}function O2(t,e){hs(t.node.children,(n,r)=>{e(new h6(n,t,r))})}function FP(t,e,n,r){n&&!r&&e(t),O2(t,i=>{FP(i,e,!0,r)}),n&&r&&e(t)}function Tse(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _1(t){return new lr(t.parent===null?t.name:_1(t.parent)+"/"+t.name)}function Gb(t){t.parent!==null&&kse(t.parent,t.name,t)}function kse(t,e,n){const r=Sse(n),i=ru(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese=/[\[\].#$\/\u0000-\u001F\u007F]/,Mse=/[\[\].#$\u0000-\u001F\u007F]/,X4=10*1024*1024,p6=function(t){return typeof t=="string"&&t.length!==0&&!Ese.test(t)},UP=function(t){return typeof t=="string"&&t.length!==0&&!Mse.test(t)},Cse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),UP(t)},Ase=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!H5(t)||t&&typeof t=="object"&&ru(t,".sv")},Ise=function(t,e,n,r){r&&e===void 0||D2(x2(t,"value"),e,n)},D2=function(t,e,n){const r=n instanceof lr?new $re(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+P0(r));if(typeof e=="function")throw new Error(t+"contains a function "+P0(r)+" with contents = "+e.toString());if(H5(e))throw new Error(t+"contains "+e.toString()+" "+P0(r));if(typeof e=="string"&&e.length>X4/3&&S2(e)>X4)throw new Error(t+"contains a string greater than "+X4+" utf8 bytes "+P0(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(hs(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!p6(a)))throw new Error(t+" contains an invalid key ("+a+") "+P0(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vre(r,a),D2(t,l,r),Zre(r)}),i&&s)throw new Error(t+' contains ".value" child '+P0(r)+" in addition to actual children.")}},Rse=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ap(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!p6(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gre);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&To(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Pse=function(t,e,n,r){if(r&&e===void 0)return;const i=x2(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];hs(e,(a,l)=>{const c=new lr(a);if(D2(i,l,ei(n,c)),Z5(c)===".priority"&&!Ase(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),Rse(i,s)},qP=function(t,e,n,r){if(!(r&&n===void 0)&&!UP(n))throw new Error(x2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Nse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qP(t,e,n,r)},Lse=function(t,e){if(En(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ose=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!p6(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Cse(n))throw new Error(x2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function m6(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!aP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ao(t,e,n){m6(t,n),Bse(t,r=>To(r,e)||To(e,r))}function Bse(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(zse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();G0&&fs("event: "+n.toString()),Hh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse="repo_interrupt",Use=25;class qse{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=l_(),this.transactionQueueTree_=new h6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hse(t,e,n){if(t.stats_=$5(t.repoInfo_),t.forceRestClient_||mre())t.server_=new o_(t.repoInfo_,(r,i,s,a)=>{jx(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Kx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gu(t.repoInfo_,e,(r,i,s,a)=>{jx(t,r,i,s,a)},r=>{Kx(t,r)},r=>{Gse(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bre(t.repoInfo_,()=>new yie(t.stats_,t.server_)),t.infoData_=new pie,t.infoSyncTree_=new Zx({startListening:(r,i,s,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=g1(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),g6(t,"connected",!1),t.serverSyncTree_=new Zx({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(l,c)=>{const f=a(l,c);Ao(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Wse(t){const n=t.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function B2(t){return bse({timestamp:Wse(t)})}function jx(t,e,n,r,i){t.dataUpdateCount++;const s=new lr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=Kg(n,f=>Ei(f));a=dse(t.serverSyncTree_,s,c,i)}else{const c=Ei(n);a=RP(t.serverSyncTree_,s,c,i)}else if(r){const c=Kg(n,f=>Ei(f));a=cse(t.serverSyncTree_,s,c)}else{const c=Ei(n);a=g1(t.serverSyncTree_,s,c)}let l=s;a.length>0&&(l=Ch(t,s)),Ao(t.eventQueue_,l,a)}function Kx(t,e){g6(t,"connected",e),e===!1&&Yse(t)}function Gse(t,e){hs(e,(n,r)=>{g6(t,n,r)})}function g6(t,e,n){const r=new lr("/.info/"+e),i=Ei(n);t.infoData_.updateSnapshot(r,i);const s=g1(t.infoSyncTree_,r,i);Ao(t.eventQueue_,r,s)}function _6(t){return t.nextWriteId_++}function $se(t,e,n){const r=mse(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ei(i).withIndex(e._queryParams.getIndex());pse(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=g1(t.serverSyncTree_,e._path,s);else{const l=Lp(t.serverSyncTree_,e);a=RP(t.serverSyncTree_,e._path,s,l)}return Ao(t.eventQueue_,e._path,a),IP(t.serverSyncTree_,e,n,null,!0),s},i=>(v1(t,"get for query "+Mi(e)+" failed: "+i),Promise.reject(new Error(i))))}function Vse(t,e,n,r,i){v1(t,"set",{path:e.toString(),value:n,priority:r});const s=B2(t),a=Ei(n,r),l=s6(t.serverSyncTree_,e),c=DP(a,l,s),f=_6(t),p=AP(t.serverSyncTree_,e,c,f,!0);m6(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),(g,y)=>{const w=g==="ok";w||sa("set at "+e+" failed: "+g);const S=Bc(t.serverSyncTree_,f,!w);Ao(t.eventQueue_,e,S),$b(t,i,g,y)});const m=y6(t,e);Ch(t,m),Ao(t.eventQueue_,m,[])}function Zse(t,e,n,r){v1(t,"update",{path:e.toString(),value:n});let i=!0;const s=B2(t),a={};if(hs(n,(l,c)=>{i=!1,a[l]=OP(ei(e,l),Ei(c),t.serverSyncTree_,s)}),i)fs("update() called with empty data.  Don't do anything."),$b(t,r,"ok",void 0);else{const l=_6(t),c=use(t.serverSyncTree_,e,a,l);m6(t.eventQueue_,c),t.server_.merge(e.toString(),n,(f,p)=>{const m=f==="ok";m||sa("update at "+e+" failed: "+f);const g=Bc(t.serverSyncTree_,l,!m),y=g.length>0?Ch(t,e):e;Ao(t.eventQueue_,y,g),$b(t,r,f,p)}),hs(n,f=>{const p=y6(t,ei(e,f));Ch(t,p)}),Ao(t.eventQueue_,e,[])}}function Yse(t){v1(t,"onDisconnectEvents");const e=B2(t),n=l_();zb(t.onDisconnect_,qn(),(i,s)=>{const a=OP(i,s,t.serverSyncTree_,e);pP(n,i,a)});let r=[];zb(n,qn(),(i,s)=>{r=r.concat(g1(t.serverSyncTree_,i,s));const a=y6(t,i);Ch(t,a)}),t.onDisconnect_=l_(),Ao(t.eventQueue_,qn(),r)}function jse(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Fse)}function v1(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fs(n,...e)}function $b(t,e,n,r){e&&Hh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function HP(t,e,n){return s6(t.serverSyncTree_,e,n)||Dt.EMPTY_NODE}function v6(t,e=t.transactionQueueTree_){if(e||z2(t,e),Gh(e)){const n=GP(t,e);Ve(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Kse(t,_1(e),n)}else zP(e)&&O2(e,n=>{v6(t,n)})}function Kse(t,e,n){const r=n.map(f=>f.currentWriteId),i=HP(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const p=n[f];Ve(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=na(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,f=>{v1(t,"transaction put response",{path:c.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(Bc(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();z2(t,d6(t.transactionQueueTree_,e)),v6(t,t.transactionQueueTree_),Ao(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)Hh(m[g])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{sa("transaction at "+c.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}Ch(t,e)}},a)}function Ch(t,e){const n=WP(t,e),r=_1(n),i=GP(t,n);return Xse(t,i,r),r}function Xse(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],f=na(n,c.path);let p=!1,m;if(Ve(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,m=c.abortReason,i=i.concat(Bc(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Use)p=!0,m="maxretry",i=i.concat(Bc(t.serverSyncTree_,c.currentWriteId,!0));else{const g=HP(t,c.path,a);c.currentInputSnapshot=g;const y=e[l].update(g.val());if(y!==void 0){D2("transaction failed: Data returned ",y,c.path);let w=Ei(y);typeof y=="object"&&y!=null&&ru(y,".priority")||(w=w.updatePriority(g.getPriority()));const I=c.currentWriteId,R=B2(t),k=DP(w,g,R);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=k,c.currentWriteId=_6(t),a.splice(a.indexOf(I),1),i=i.concat(AP(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Bc(t.serverSyncTree_,I,!0))}else p=!0,m="nodata",i=i.concat(Bc(t.serverSyncTree_,c.currentWriteId,!0))}Ao(t.eventQueue_,n,i),i=[],p&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(m),!1,null))))}z2(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Hh(r[l]);v6(t,t.transactionQueueTree_)}function WP(t,e){let n,r=t.transactionQueueTree_;for(n=En(e);n!==null&&Gh(r)===void 0;)r=d6(r,n),e=br(e),n=En(e);return r}function GP(t,e){const n=[];return $P(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $P(t,e,n){const r=Gh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);O2(e,i=>{$P(t,i,n)})}function z2(t,e){const n=Gh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,BP(e,n.length>0?n:void 0)}O2(e,r=>{z2(t,r)})}function y6(t,e){const n=_1(WP(t,e)),r=d6(t.transactionQueueTree_,e);return Tse(r,i=>{J4(t,i)}),J4(t,r),FP(r,i=>{J4(t,i)}),n}function J4(t,e){const n=Gh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ve(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Ve(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Bc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?BP(e,void 0):n.length=s+1,Ao(t.eventQueue_,_1(e),i);for(let a=0;a<r.length;a++)Hh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Qse(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):sa(`Invalid query segment '${n}' in query '${t}'`)}return e}const Xx=function(t,e){const n=eae(t),r=n.namespace;n.domain==="firebase.com"&&Ju(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ju("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||are();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KR(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new lr(n.pathString)}},eae=function(t){let e="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=Jse(t.substring(p,m)));const g=Qse(t.substring(Math.min(t.length,m)));f=e.indexOf(":"),f>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mi(this.snapshot.exportVal())}}class nae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xn(this._path)?null:Z5(this._path)}get ref(){return new lc(this._repo,this._path)}get _queryIdentifier(){const e=Bx(this._queryParams),n=W5(e);return n==="{}"?"default":n}get _queryObject(){return Bx(this._queryParams)}isEqual(e){if(e=ds(e),!(e instanceof b6))return!1;const n=this._repo===e._repo,r=aP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Wre(this._path)}}class lc extends b6{constructor(e,n){super(e,n,new X5,!1)}get parent(){const e=sP(this._path);return e===null?null:new lc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Op{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new lr(e),r=Zb(this.ref,e);return new Op(this._node.getChild(n),r,ni)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Op(i,Zb(this.ref,r),ni)))}hasChild(e){const n=new lr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vb(t,e){return t=ds(t),t._checkNotDeleted("ref"),e!==void 0?Zb(t._root,e):t._root}function Zb(t,e){return t=ds(t),En(t._path)===null?Nse("child","path",e,!1):qP("child","path",e,!1),new lc(t._repo,ei(t._path,e))}function iae(t,e){t=ds(t),Lse("set",t._path),Ise("set",e,t._path,!1);const n=new a1;return Vse(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sae(t,e){Pse("update",e,t._path,!1);const n=new a1;return Zse(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function aae(t){t=ds(t);const e=new rae(()=>{}),n=new w6(e);return $se(t._repo,t,n).then(r=>new Op(r,new lc(t._repo,t._path),t._queryParams.getIndex()))}class w6{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new tae("value",this,new Op(e.snapshotNode,new lc(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nae(this,e,n):null}matches(e){return e instanceof w6?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tse(lc);ase(lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae="FIREBASE_DATABASE_EMULATOR_HOST",Yb={};let lae=!1;function uae(t,e,n,r){t.repoInfo_=new KR(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ju("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fs("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Xx(s,i),l=a.repoInfo,c,f;typeof process<"u"&&process.env&&(f=process.env[oae]),f?(c=!0,s=`http://${f}?ns=${l.namespace}`,a=Xx(s,i),l=a.repoInfo):c=!a.repoInfo.secure;const p=i&&c?new th(th.OWNER):new _re(t.name,t.options,e);Ose("Invalid Firebase Database URL",a),xn(a.path)||Ju("Database URL must point to the root of a Firebase Database (not including a child path).");const m=hae(l,t,p,new gre(t.name,n));return new dae(m,t)}function fae(t,e){const n=Yb[e];(!n||n[t.key]!==t)&&Ju(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jse(t),delete n[t.key]}function hae(t,e,n,r){let i=Yb[e.name];i||(i={},Yb[e.name]=i);let s=i[t.toURLString()];return s&&Ju("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qse(t,lae,n,r),i[t.toURLString()]=s,s}class dae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Hse(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lc(this._repo,qn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ju("Cannot call "+e+" on a deleted database.")}}function VP(t=k2(),e){const n=T2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=WI("database");r&&pae(n,...r)}return n}function pae(t,e,n,r={}){t=ds(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ju("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ju('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new th(th.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:VI(r.mockUserToken,t.app.options.projectId);s=new th(a)}uae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mae(t){tre(df),nf(new Kc("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return cae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Wu(bx,wx,t),Wu(bx,wx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae={".sv":"timestamp"};function _ae(){return gae}Gu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mae();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebasestorage.googleapis.com",YP="storageBucket",vae=2*60*1e3,yae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends oc{constructor(e,n,r=0){super(Q4(e),`Firebase Storage: ${n} (${Q4(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Q4(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function Q4(t){return"storage/"+t}function jP(){const t="An unknown error occurred, please check the error payload for server response.";return new Qi(Ki.UNKNOWN,t)}function bae(t){return new Qi(Ki.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wae(t){return new Qi(Ki.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qi(Ki.UNAUTHENTICATED,t)}function Sae(){return new Qi(Ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tae(t){return new Qi(Ki.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kae(){return new Qi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Eae(){return new Qi(Ki.CANCELED,"User canceled the upload/download.")}function Mae(t){return new Qi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function Cae(t){return new Qi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Aae(){return new Qi(Ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YP+"' property when initializing the app?")}function Iae(){return new Qi(Ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jb(t){return new Qi(Ki.INVALID_ARGUMENT,t)}function KP(){return new Qi(Ki.APP_DELETED,"The Firebase app was deleted.")}function Rae(t){return new Qi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xd(t){throw new Qi(Ki.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ja.makeFromUrl(e,n)}catch{return new Ja(e,"")}if(r.path==="")return r;throw Cae(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},S=n===ZP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",R=new RegExp(`^https?://${S}/${i}/${I}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<A.length;C++){const N=A[C],D=N.regex.exec(e);if(D){const F=D[N.indices.bucket];let W=D[N.indices.path];W||(W=""),r=new Ja(F,W),N.postModify(r);break}}if(r==null)throw Mae(e);return r}}class Pae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nae(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let f=!1;function p(...I){f||(f=!0,e.apply(null,I))}function m(I){i=setTimeout(()=>{i=null,t(y,c())},I)}function g(){s&&clearTimeout(s)}function y(I,...R){if(f){g();return}if(I){g(),p.call(null,I,...R);return}if(c()||a){g(),p.call(null,I,...R);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let w=!1;function S(I){w||(w=!0,g(),!f&&(i!==null?(I||(l=2),clearTimeout(i),m(0)):I||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,S(!0)},n),S}function Lae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oae(t){return t!==void 0}function Dae(t){return typeof t=="object"&&!Array.isArray(t)}function XP(t){return typeof t=="string"||t instanceof String}function Jx(t,e,n,r){if(r<e)throw jb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($0||($0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e,n,r,i,s,a,l,c,f,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===$0.NO_ERROR,c=s.getStatus();if(!l||Bae(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===$0.ABORT;r(!1,new wm(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new wm(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Oae(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=jP();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?KP():Eae();a(c)}else{const c=kae();a(c)}};this.canceled_?n(!1,new wm(!1,null,!0)):this.backoffId_=Nae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Fae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Uae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Wae(t,e,n,r,i,s,a=!0){const l=QP(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return qae(f,e),Fae(f,n),Uae(f,s),Hae(f,r),new zae(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){let e;try{e=JSON.parse(t)}catch{return null}return Dae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $ae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vae(t,e){return e}class Ks{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vae}}let xm=null;function Zae(t){return!XP(t)||t.length<2?t:tN(t)}function Yae(){if(xm)return xm;const t=[];t.push(new Ks("bucket")),t.push(new Ks("generation")),t.push(new Ks("metageneration")),t.push(new Ks("name","fullPath",!0));function e(s,a){return Zae(a)}const n=new Ks("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Ks("size");return i.xform=r,t.push(i),t.push(new Ks("timeCreated")),t.push(new Ks("updated")),t.push(new Ks("md5Hash",null,!0)),t.push(new Ks("cacheControl",null,!0)),t.push(new Ks("contentDisposition",null,!0)),t.push(new Ks("contentEncoding",null,!0)),t.push(new Ks("contentLanguage",null,!0)),t.push(new Ks("contentType",null,!0)),t.push(new Ks("metadata","customMetadata",!0)),xm=t,xm}function jae(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ja(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Kae(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return jae(r,t),r}function Xae(t,e,n){const r=eN(e);return r===null?null:Kae(t,r,n)}function Jae(t,e,n,r){const i=eN(e);if(i===null||!XP(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const p=t.bucket,m=t.fullPath,g="/b/"+a(p)+"/o/"+a(m),y=JP(g,n,r),w=QP({alt:"media",token:f});return y+w})[0]}class Qae{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eoe(t){if(!t)throw jP()}function toe(t,e){function n(r,i){const s=Xae(t,i,e);return eoe(s!==null),Jae(s,i,t.host,t._protocol)}return n}function noe(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Sae():i=xae():n.getStatus()===402?i=wae(t.bucket):n.getStatus()===403?i=Tae(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function roe(t){const e=noe(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=bae(t.path)),s.serverResponse=i.serverResponse,s}return n}function ioe(t,e,n){const r=e.fullServerUrl(),i=JP(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new Qae(i,s,toe(t,n),a);return l.errorHandler=roe(e),l}class soe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aoe extends soe{initXhr(){this.xhr_.responseType="text"}}function ooe(){return new aoe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof Ja?this._location=n:this._location=Ja.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new Ja(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tN(this._location.path)}get storage(){return this._service}get parent(){const e=Gae(this._location.path);if(e===null)return null;const n=new Ja(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rae(e)}}function loe(t){t._throwIfRoot("getDownloadURL");const e=ioe(t.storage,t._location,Yae());return t.storage.makeRequestWithTokens(e,ooe).then(n=>{if(n===null)throw Iae();return n})}function uoe(t,e){const n=$ae(t._location.path,e),r=new Ja(t._location.bucket,n);return new lf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(t){return/^[A-Za-z]+:\/\//.test(t)}function foe(t,e){return new lf(t,e)}function nN(t,e){if(t instanceof x6){const n=t;if(n._bucket==null)throw Aae();const r=new lf(n,n._bucket);return e!=null?nN(r,e):r}else return e!==void 0?uoe(t,e):t}function hoe(t,e){if(e&&coe(e)){if(t instanceof x6)return foe(t,e);throw jb("To use ref(service, url), the first argument must be a Storage instance.")}else return nN(t,e)}function Qx(t,e){const n=e==null?void 0:e[YP];return n==null?null:Ja.makeFromBucketSpec(n,t)}function doe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VI(i,t.app.options.projectId))}class x6{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ZP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vae,this._maxUploadRetryTime=yae,this._requests=new Set,i!=null?this._bucket=Ja.makeFromBucketSpec(i,this._host):this._bucket=Qx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ja.makeFromBucketSpec(this._url,e):this._bucket=Qx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Pae(KP());{const a=Wae(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eS="@firebase/storage",tS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="storage";function poe(t){return t=ds(t),loe(t)}function moe(t,e){return t=ds(t),hoe(t,e)}function goe(t=k2(),e){t=ds(t);const r=T2(t,rN).getImmediate({identifier:e}),i=WI("storage");return i&&_oe(r,...i),r}function _oe(t,e,n,r={}){doe(t,e,n,r)}function voe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new x6(n,r,i,e,df)}function yoe(){nf(new Kc(rN,voe,"PUBLIC").setMultipleInstances(!0)),Wu(eS,tS,""),Wu(eS,tS,"esm2017")}yoe();function g_(t,e,n){n=n||{};var r=t.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(e,{detail:n}):(i=r.createEvent("Event"),i.initEvent(e,!1,!1),i.detail=n),t.dispatchEvent(i)}function iN(t){return Array.isArray(t)||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function sN(t){return t===(t|0)+""}function Hl(t){const e=document.createElement("span");return e.className="observablehq--cellname",e.textContent=`${t} = `,e}const boe=Symbol.prototype.toString;function $h(t){return boe.call(t)}const{getOwnPropertySymbols:woe,prototype:{hasOwnProperty:xoe}}=Object,{toStringTag:Soe}=Symbol,aN={},y1=woe;function F2(t,e){return xoe.call(t,e)}function Kb(t){return t[Soe]||t.constructor&&t.constructor.name||"Object"}function Mo(t,e){try{const n=t[e];return n&&n.constructor,n}catch{return aN}}const Toe=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function oN(t){try{let e=Toe.filter(({symbol:a})=>t[a]===!0);if(!e.length)return;const n=e.find(a=>!a.modifier),r=n.name==="Map"&&e.find(a=>a.modifier&&a.prefix),i=e.some(a=>a.arrayish),s=e.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:e,arrayish:i&&!s,setish:s}}catch{return null}}const{getPrototypeOf:S6,getOwnPropertyDescriptors:koe}=Object,lN=S6({});function uN(t,e,n,r){let i=iN(t),s,a,l,c;t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=Eoe):(s="Map()",a=Yd):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Moe):(s="Set()",a=Yd):i?(s=`${t.constructor.name}(${t.length})`,a=Aoe):(c=oN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?Ioe:c.setish?Coe:Poe):r?(s=Kb(t),a=Roe):(s=Kb(t),a=Yd);const f=document.createElement("span");f.className="observablehq--expanded",n&&f.appendChild(Hl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),p.addEventListener("mouseup",function(m){m.stopPropagation(),v_(f,T6(t,null,n,r))}),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)f.appendChild(l.value);if(!l.done){const m=f.appendChild(document.createElement("a"));m.className="observablehq--field",m.style.display="block",m.appendChild(document.createTextNode("   more")),m.addEventListener("mouseup",function(g){g.stopPropagation(),f.insertBefore(l.value,f.lastChild.previousSibling);for(let y=0;!(l=a.next()).done&&y<19;++y)f.insertBefore(l.value,f.lastChild.previousSibling);l.done&&f.removeChild(f.lastChild.previousSibling),g_(f,"load")})}return f.appendChild(document.createTextNode(i?"]":"}")),f}function*Eoe(t){for(const[e,n]of t)yield Noe(e,n);yield*Yd(t)}function*Moe(t){for(const e of t)yield fN(e);yield*Yd(t)}function*Coe(t){for(const e of t)yield fN(e)}function*Aoe(t){for(let e=0,n=t.length;e<n;++e)e in t&&(yield $u(e,Mo(t,e),"observablehq--index"));for(const e in t)!sN(e)&&F2(t,e)&&(yield $u(e,Mo(t,e),"observablehq--key"));for(const e of y1(t))yield $u($h(e),Mo(t,e),"observablehq--symbol")}function*Ioe(t){let e=0;for(const n=t.size;e<n;++e)yield $u(e,t.get(e),!0)}function*Roe(t){for(const n in koe(t))yield $u(n,Mo(t,n),"observablehq--key");for(const n of y1(t))yield $u($h(n),Mo(t,n),"observablehq--symbol");const e=S6(t);e&&e!==lN&&(yield cN(e))}function*Yd(t){for(const n in t)F2(t,n)&&(yield $u(n,Mo(t,n),"observablehq--key"));for(const n of y1(t))yield $u($h(n),Mo(t,n),"observablehq--symbol");const e=S6(t);e&&e!==lN&&(yield cN(e))}function*Poe(t){for(const[e,n]of t)yield $u(e,n,"observablehq--key")}function cN(t){const e=document.createElement("div"),n=e.appendChild(document.createElement("span"));return e.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",e.appendChild(document.createTextNode(": ")),e.appendChild(Ba(t,void 0,void 0,void 0,!0)),e}function $u(t,e,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${t}`,r.appendChild(document.createTextNode(": ")),r.appendChild(Ba(e)),r}function Noe(t,e){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(Ba(t)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ba(e)),n}function fN(t){const e=document.createElement("div");return e.className="observablehq--field",e.appendChild(document.createTextNode("  ")),e.appendChild(Ba(t)),e}function nS(t){const e=window.getSelection();return e.type==="Range"&&(e.containsNode(t,!0)||e.anchorNode.isSelfOrDescendant(t)||e.focusNode.isSelfOrDescendant(t))}function T6(t,e,n,r){let i=iN(t),s,a,l,c;if(t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=Loe):(s="Map()",a=jd):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Ooe):(s="Set()",a=jd):i?(s=`${t.constructor.name}(${t.length})`,a=zoe):(c=oN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?Boe:c.setish?Doe:Foe):(s=Kb(t),a=jd),e){const m=document.createElement("span");return m.className="observablehq--shallow",n&&m.appendChild(Hl(n)),m.appendChild(document.createTextNode(s)),m.addEventListener("mouseup",function(g){nS(m)||(g.stopPropagation(),v_(m,T6(t)))}),m}const f=document.createElement("span");f.className="observablehq--collapsed",n&&f.appendChild(Hl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),f.addEventListener("mouseup",function(m){nS(f)||(m.stopPropagation(),v_(f,uN(t,null,n,r)))},!0),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)m>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(l.value);return l.done||f.appendChild(document.createTextNode(", ")),f.appendChild(document.createTextNode(i?"]":"}")),f}function*Loe(t){for(const[e,n]of t)yield Uoe(e,n);yield*jd(t)}function*Ooe(t){for(const e of t)yield Ba(e,!0);yield*jd(t)}function*Doe(t){for(const e of t)yield Ba(e,!0)}function*Boe(t){let e=-1,n=0;for(const r=t.size;n<r;++n)n>e+1&&(yield __(n-e-1)),yield Ba(t.get(n),!0),e=n;n>e+1&&(yield __(n-e-1))}function*zoe(t){let e=-1,n=0;for(const r=t.length;n<r;++n)n in t&&(n>e+1&&(yield __(n-e-1)),yield Ba(Mo(t,n),!0),e=n);n>e+1&&(yield __(n-e-1));for(const r in t)!sN(r)&&F2(t,r)&&(yield Dp(r,Mo(t,r),"observablehq--key"));for(const r of y1(t))yield Dp($h(r),Mo(t,r),"observablehq--symbol")}function*jd(t){for(const e in t)F2(t,e)&&(yield Dp(e,Mo(t,e),"observablehq--key"));for(const e of y1(t))yield Dp($h(e),Mo(t,e),"observablehq--symbol")}function*Foe(t){for(const[e,n]of t)yield Dp(e,n,"observablehq--key")}function __(t){const e=document.createElement("span");return e.className="observablehq--empty",e.textContent=t===1?"empty":`empty  ${t}`,e}function Dp(t,e,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=t,r.appendChild(document.createTextNode(": ")),r.appendChild(Ba(e,!0)),r}function Uoe(t,e){const n=document.createDocumentFragment();return n.appendChild(Ba(t,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ba(e,!0)),n}function qoe(t){return eA(t,"Invalid Date")}var Hoe=Error.prototype.toString;function Woe(t){return t.stack||Hoe.call(t)}var Goe=RegExp.prototype.toString;function $oe(t){return Goe.call(t)}const ey=20;function Voe(t,e,n,r){if(e===!1){if(iS(t,/["\n]/g)<=iS(t,/`|\${/g)){const f=document.createElement("span");r&&f.appendChild(Hl(r));const p=f.appendChild(document.createElement("span"));return p.className="observablehq--string",p.textContent=JSON.stringify(t),f}const a=t.split(`
`);if(a.length>ey&&!n){const f=document.createElement("div");r&&f.appendChild(Hl(r));const p=f.appendChild(document.createElement("span"));p.className="observablehq--string",p.textContent="`"+rS(a.slice(0,ey).join(`
`));const m=f.appendChild(document.createElement("span")),g=a.length-ey;return m.textContent=`Show ${g} truncated line${g>1?"s":""}`,m.className="observablehq--string-expand",m.addEventListener("mouseup",function(y){y.stopPropagation(),v_(f,Ba(t,e,!0,r))}),f}const l=document.createElement("span");r&&l.appendChild(Hl(r));const c=l.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+rS(t)+"`",l}const i=document.createElement("span");r&&i.appendChild(Hl(r));const s=i.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(t.length>100?`${t.slice(0,50)}${t.slice(-49)}`:t),i}function rS(t){return t.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Zoe)}function Zoe(t){var e=t.charCodeAt(0);switch(e){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return e<16?"\\x0"+e.toString(16):e<32?"\\x"+e.toString(16):"\\"+t}function iS(t,e){for(var n=0;e.exec(t);)++n;return n}var Yoe=Function.prototype.toString,joe={prefix:"async "},Koe={prefix:"async *"},sS={prefix:"class"},Xoe={prefix:""},Joe={prefix:"*"};function Qoe(t,e){var n,r,i=Yoe.call(t);switch(t.constructor&&t.constructor.name){case"AsyncFunction":n=joe;break;case"AsyncGeneratorFunction":n=Koe;break;case"GeneratorFunction":n=Joe;break;default:n=/^class\b/.test(i)?sS:Xoe;break}return n===sS?Sd(n,"",e):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?Sd(n,"("+r[1]+")",e):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Sd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Sd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):Sd(n,"()",e)}function Sd(t,e,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(Hl(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=t.prefix,r.appendChild(document.createTextNode(e)),r}const{prototype:{toString:ele}}=Object;function Ba(t,e,n,r,i){let s=typeof t;switch(s){case"boolean":case"undefined":{t+="";break}case"number":{t=t===0&&1/t<0?"-0":t+"";break}case"bigint":{t=t+"n";break}case"symbol":{t=$h(t);break}case"function":return Qoe(t,r);case"string":return Voe(t,e,n,r);default:{if(t===null){s=null,t="null";break}if(t instanceof Date){s="date",t=qoe(t);break}if(t===aN){s="forbidden",t="[forbidden]";break}switch(ele.call(t)){case"[object RegExp]":{s="regexp",t=$oe(t);break}case"[object Error]":case"[object DOMException]":{s="error",t=Woe(t);break}default:return(n?uN:T6)(t,e,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(Hl(r));const l=a.appendChild(document.createElement("span"));return l.className=`observablehq--${s}`,l.textContent=t,a}function v_(t,e){t.classList.contains("observablehq--inspect")&&e.classList.add("observablehq--inspect"),t.parentNode.replaceChild(e,t),g_(e,"load")}const tle=/\s+\(\d+:\d+\)$/m;class Xb{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,n){const{_node:r}=this;if((!nle(e)||e.parentNode&&e.parentNode!==r)&&(e=Ba(e,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),e.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==e)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(e,r.firstChild)}else r.appendChild(e);g_(r,"update")}rejected(e,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(Hl(n)),i.appendChild(document.createTextNode((e+"").replace(tle,""))),r.appendChild(i),g_(r,"error",{error:e})}}Xb.into=function(t){if(typeof t=="string"&&(t=document.querySelector(t),t==null))throw new Error("container not found");return function(){return new Xb(t.appendChild(document.createElement("div")))}};function nle(t){return(t instanceof Element||t instanceof Text)&&t instanceof t.constructor}const gf=w2(null),hN=w2(["Login First!"]),Bp=w2("default"),rle=!1;var eg,dN;const ile=async()=>{console.log("Loading localkey module..1");const{firebaselocalConfig:t,defemail:e}=await xp(()=>import("./localkey-58f3b663.js"),[]);console.log("Loading localkey module..2 done | ","production",t,e),eg=t,eg.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M",console.log("Setting PRODUCTION"),dN=JI(eg)};ile();console.log("firebaseConfig",eg);async function sle(){const t=k2();var e=Gte(OR(t));return e.then(()=>gf.set(void 0)),e}async function ale(t,e){const n=OR();return n.setPersistence(ER).then(()=>qte(n,t,e).then(async r=>{gf.set(r);const i=VP();return await sae(Vb(i,"/users/"+r.user.uid+"/"),{lastlogged:_ae()}),await iae(Vb(i,"/users/"+r.user.uid+"/email"),r.user.email),mN("/users/"+r.user.uid+"/profiles").then(s=>{console.log("userSetting ",s),hN.set(s),Bp.set(s[0])}),r}))}async function pN(t){t=t||"fss/hello.json";var e=goe(dN);const n=moe(e,t);return poe(n)}async function mN(t){if(dU(gf)==null&&!rle)throw console.log("not DEVELMODE not Logged In "),TypeError("unAuthorized");console.log("RTDB getData path = ",t);const n=Vb(VP(),t);return aae(n).then(r=>{if(r.exists()){let i=r.val();return console.log("RTDB",i),i}return null}).catch(r=>{console.error("RTDB",r)})}function aS(t){var e=Object.keys(t[0]),n=[e,...t.map(r=>{var i=[];for(let s of e)i.push(r[s]);return i})].map(r=>r.join(",")).join(`
`);return n}gf.subscribe(t=>{console.log("User Changed...",t)});var As=63710088e-1,gN={centimeters:As*100,centimetres:As*100,degrees:As/111325,feet:As*3.28084,inches:As*39.37,kilometers:As/1e3,kilometres:As/1e3,meters:As,metres:As,miles:As/1609.344,millimeters:As*1e3,millimetres:As*1e3,nauticalmiles:As/1852,radians:1,yards:As*1.0936};function k6(t,e,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function zp(t,e,n){if(n===void 0&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!y_(t[0])||!y_(t[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:t};return k6(r,e,n)}function Jb(t,e,n){n===void 0&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:t};return k6(l,e,n)}function V0(t,e){e===void 0&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function _N(t,e){e===void 0&&(e="kilometers");var n=gN[e];if(!n)throw new Error(e+" units is invalid");return t*n}function ole(t,e){e===void 0&&(e="kilometers");var n=gN[e];if(!n)throw new Error(e+" units is invalid");return t/n}function lle(t){var e=t%(2*Math.PI);return e*180/Math.PI}function Wl(t){var e=t%360;return e*Math.PI/180}function vN(t,e,n){if(e===void 0&&(e="kilometers"),n===void 0&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return _N(ole(t,e),n)}function y_(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function yN(t){return!!t&&t.constructor===Object}function Vh(t,e,n){if(t!==null)for(var r,i,s,a,l,c,f,p=0,m=0,g,y=t.type,w=y==="FeatureCollection",S=y==="Feature",I=w?t.features.length:1,R=0;R<I;R++){f=w?t.features[R].geometry:S?t.geometry:t,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var k=0;k<l;k++){var A=0,C=0;if(a=g?f.geometries[k]:f,a!==null){c=a.coordinates;var N=a.type;switch(p=n&&(N==="Polygon"||N==="MultiPolygon")?1:0,N){case null:break;case"Point":if(e(c,m,R,A,C)===!1)return!1;m++,A++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(e(c[r],m,R,A,C)===!1)return!1;m++,N==="MultiPoint"&&A++}N==="LineString"&&A++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-p;i++){if(e(c[r][i],m,R,A,C)===!1)return!1;m++}N==="MultiLineString"&&A++,N==="Polygon"&&C++}N==="Polygon"&&A++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(C=0,i=0;i<c[r].length;i++){for(s=0;s<c[r][i].length-p;s++){if(e(c[r][i][s],m,R,A,C)===!1)return!1;m++}C++}A++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(Vh(a.geometries[r],e,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function bN(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function ule(t,e){var n,r,i,s,a,l,c,f,p,m,g=0,y=t.type==="FeatureCollection",w=t.type==="Feature",S=y?t.features.length:1;for(n=0;n<S;n++){for(l=y?t.features[n].geometry:w?t.geometry:t,f=y?t.features[n].properties:w?t.properties:{},p=y?t.features[n].bbox:w?t.bbox:void 0,m=y?t.features[n].id:w?t.id:void 0,c=l?l.type==="GeometryCollection":!1,a=c?l.geometries.length:1,i=0;i<a;i++){if(s=c?l.geometries[i]:l,s===null){if(e(null,g,f,p,m)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,g,f,p,m)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<s.geometries.length;r++)if(e(s.geometries[r],g,f,p,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function cle(t,e,n){var r=n;return ule(t,function(i,s,a,l,c){s===0&&n===void 0?r=i:r=e(r,i,s,a,l,c)}),r}function Qb(t){var e=[1/0,1/0,-1/0,-1/0];return Vh(t,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}Qb.default=Qb;function Qa(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function fle(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function hle(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}var E6={exports:{}},wN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Rc,function(){function n(k,A,C,N,D){(function F(W,$,X,V,te){for(;V>X;){if(V-X>600){var me=V-X+1,ue=$-X+1,ie=Math.log(me),ge=.5*Math.exp(2*ie/3),se=.5*Math.sqrt(ie*ge*(me-ge)/me)*(ue-me/2<0?-1:1),fe=Math.max(X,Math.floor($-ue*ge/me+se)),oe=Math.min(V,Math.floor($+(me-ue)*ge/me+se));F(W,$,fe,oe,te)}var Z=W[$],Q=X,he=V;for(r(W,X,$),te(W[V],Z)>0&&r(W,X,V);Q<he;){for(r(W,Q,he),Q++,he--;te(W[Q],Z)<0;)Q++;for(;te(W[he],Z)>0;)he--}te(W[X],Z)===0?r(W,X,he):r(W,++he,V),he<=$&&(X=he+1),$<=he&&(V=he-1)}})(k,A,C||0,N||k.length-1,D||i)}function r(k,A,C){var N=k[A];k[A]=k[C],k[C]=N}function i(k,A){return k<A?-1:k>A?1:0}var s=function(k){k===void 0&&(k=9),this._maxEntries=Math.max(4,k),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(k,A,C){if(!C)return A.indexOf(k);for(var N=0;N<A.length;N++)if(C(k,A[N]))return N;return-1}function l(k,A){c(k,0,k.children.length,A,k)}function c(k,A,C,N,D){D||(D=I(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var F=A;F<C;F++){var W=k.children[F];f(D,k.leaf?N(W):W)}return D}function f(k,A){return k.minX=Math.min(k.minX,A.minX),k.minY=Math.min(k.minY,A.minY),k.maxX=Math.max(k.maxX,A.maxX),k.maxY=Math.max(k.maxY,A.maxY),k}function p(k,A){return k.minX-A.minX}function m(k,A){return k.minY-A.minY}function g(k){return(k.maxX-k.minX)*(k.maxY-k.minY)}function y(k){return k.maxX-k.minX+(k.maxY-k.minY)}function w(k,A){return k.minX<=A.minX&&k.minY<=A.minY&&A.maxX<=k.maxX&&A.maxY<=k.maxY}function S(k,A){return A.minX<=k.maxX&&A.minY<=k.maxY&&A.maxX>=k.minX&&A.maxY>=k.minY}function I(k){return{children:k,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(k,A,C,N,D){for(var F=[A,C];F.length;)if(!((C=F.pop())-(A=F.pop())<=N)){var W=A+Math.ceil((C-A)/N/2)*N;n(k,W,A,C,D),F.push(A,W,W,C)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(k){var A=this.data,C=[];if(!S(k,A))return C;for(var N=this.toBBox,D=[];A;){for(var F=0;F<A.children.length;F++){var W=A.children[F],$=A.leaf?N(W):W;S(k,$)&&(A.leaf?C.push(W):w(k,$)?this._all(W,C):D.push(W))}A=D.pop()}return C},s.prototype.collides=function(k){var A=this.data;if(!S(k,A))return!1;for(var C=[];A;){for(var N=0;N<A.children.length;N++){var D=A.children[N],F=A.leaf?this.toBBox(D):D;if(S(k,F)){if(A.leaf||w(k,F))return!0;C.push(D)}}A=C.pop()}return!1},s.prototype.load=function(k){if(!k||!k.length)return this;if(k.length<this._minEntries){for(var A=0;A<k.length;A++)this.insert(k[A]);return this}var C=this._build(k.slice(),0,k.length-1,0);if(this.data.children.length)if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var N=this.data;this.data=C,C=N}this._insert(C,this.data.height-C.height-1,!0)}else this.data=C;return this},s.prototype.insert=function(k){return k&&this._insert(k,this.data.height-1),this},s.prototype.clear=function(){return this.data=I([]),this},s.prototype.remove=function(k,A){if(!k)return this;for(var C,N,D,F=this.data,W=this.toBBox(k),$=[],X=[];F||$.length;){if(F||(F=$.pop(),N=$[$.length-1],C=X.pop(),D=!0),F.leaf){var V=a(k,F.children,A);if(V!==-1)return F.children.splice(V,1),$.push(F),this._condense($),this}D||F.leaf||!w(F,W)?N?(C++,F=N.children[C],D=!1):F=null:($.push(F),X.push(C),C=0,N=F,F=F.children[0])}return this},s.prototype.toBBox=function(k){return k},s.prototype.compareMinX=function(k,A){return k.minX-A.minX},s.prototype.compareMinY=function(k,A){return k.minY-A.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(k){return this.data=k,this},s.prototype._all=function(k,A){for(var C=[];k;)k.leaf?A.push.apply(A,k.children):C.push.apply(C,k.children),k=C.pop();return A},s.prototype._build=function(k,A,C,N){var D,F=C-A+1,W=this._maxEntries;if(F<=W)return l(D=I(k.slice(A,C+1)),this.toBBox),D;N||(N=Math.ceil(Math.log(F)/Math.log(W)),W=Math.ceil(F/Math.pow(W,N-1))),(D=I([])).leaf=!1,D.height=N;var $=Math.ceil(F/W),X=$*Math.ceil(Math.sqrt(W));R(k,A,C,X,this.compareMinX);for(var V=A;V<=C;V+=X){var te=Math.min(V+X-1,C);R(k,V,te,$,this.compareMinY);for(var me=V;me<=te;me+=$){var ue=Math.min(me+$-1,te);D.children.push(this._build(k,me,ue,N-1))}}return l(D,this.toBBox),D},s.prototype._chooseSubtree=function(k,A,C,N){for(;N.push(A),!A.leaf&&N.length-1!==C;){for(var D=1/0,F=1/0,W=void 0,$=0;$<A.children.length;$++){var X=A.children[$],V=g(X),te=(me=k,ue=X,(Math.max(ue.maxX,me.maxX)-Math.min(ue.minX,me.minX))*(Math.max(ue.maxY,me.maxY)-Math.min(ue.minY,me.minY))-V);te<F?(F=te,D=V<D?V:D,W=X):te===F&&V<D&&(D=V,W=X)}A=W||A.children[0]}var me,ue;return A},s.prototype._insert=function(k,A,C){var N=C?k:this.toBBox(k),D=[],F=this._chooseSubtree(N,this.data,A,D);for(F.children.push(k),f(F,N);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(N,D,A)},s.prototype._split=function(k,A){var C=k[A],N=C.children.length,D=this._minEntries;this._chooseSplitAxis(C,D,N);var F=this._chooseSplitIndex(C,D,N),W=I(C.children.splice(F,C.children.length-F));W.height=C.height,W.leaf=C.leaf,l(C,this.toBBox),l(W,this.toBBox),A?k[A-1].children.push(W):this._splitRoot(C,W)},s.prototype._splitRoot=function(k,A){this.data=I([k,A]),this.data.height=k.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(k,A,C){for(var N,D,F,W,$,X,V,te=1/0,me=1/0,ue=A;ue<=C-A;ue++){var ie=c(k,0,ue,this.toBBox),ge=c(k,ue,C,this.toBBox),se=(D=ie,F=ge,W=void 0,$=void 0,X=void 0,V=void 0,W=Math.max(D.minX,F.minX),$=Math.max(D.minY,F.minY),X=Math.min(D.maxX,F.maxX),V=Math.min(D.maxY,F.maxY),Math.max(0,X-W)*Math.max(0,V-$)),fe=g(ie)+g(ge);se<te?(te=se,N=ue,me=fe<me?fe:me):se===te&&fe<me&&(me=fe,N=ue)}return N||C-A},s.prototype._chooseSplitAxis=function(k,A,C){var N=k.leaf?this.compareMinX:p,D=k.leaf?this.compareMinY:m;this._allDistMargin(k,A,C,N)<this._allDistMargin(k,A,C,D)&&k.children.sort(N)},s.prototype._allDistMargin=function(k,A,C,N){k.children.sort(N);for(var D=this.toBBox,F=c(k,0,A,D),W=c(k,C-A,C,D),$=y(F)+y(W),X=A;X<C-A;X++){var V=k.children[X];f(F,k.leaf?D(V):V),$+=y(F)}for(var te=C-A-1;te>=A;te--){var me=k.children[te];f(W,k.leaf?D(me):me),$+=y(W)}return $},s.prototype._adjustParentBBoxes=function(k,A,C){for(var N=C;N>=0;N--)f(A[N],k)},s.prototype._condense=function(k){for(var A=k.length-1,C=void 0;A>=0;A--)k[A].children.length===0?A>0?(C=k[A-1].children).splice(C.indexOf(k[A]),1):this.clear():l(k[A],this.toBBox)},s})})(wN);var dle=wN.exports;class ple{constructor(e=[],n=mle){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const s=e-1>>1,a=n[s];if(r(i,a)>=0)break;n[e]=a,e=s}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,s=n[e];for(;e<i;){let a=(e<<1)+1,l=n[a];const c=a+1;if(c<this.length&&r(n[c],l)<0&&(a=c,l=n[c]),r(l,s)>=0)break;n[e]=l,e=a}n[e]=s}}function mle(t,e){return t<e?-1:t>e?1:0}const gle=Object.freeze(Object.defineProperty({__proto__:null,default:ple},Symbol.toStringTag,{value:"Module"})),_le=xQ(gle);var U2={exports:{}},vle=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=(i-r)/2,f=0,p=c-1;f<c;p=f++){var m=n[r+f*2+0],g=n[r+f*2+1],y=n[r+p*2+0],w=n[r+p*2+1],S=g>a!=w>a&&s<(y-m)*(a-g)/(w-g)+m;S&&(l=!l)}return l},yle=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=i-r,f=0,p=c-1;f<c;p=f++){var m=n[f+r][0],g=n[f+r][1],y=n[p+r][0],w=n[p+r][1],S=g>a!=w>a&&s<(y-m)*(a-g)/(w-g)+m;S&&(l=!l)}return l},xN=vle,SN=yle;U2.exports=function(e,n,r,i){return n.length>0&&Array.isArray(n[0])?SN(e,n,r,i):xN(e,n,r,i)};U2.exports.nested=SN;U2.exports.flat=xN;var ble=U2.exports,e3={exports:{}};(function(t,e){(function(n,r){r(e)})(Rc,function(n){const i=33306690738754706e-32;function s(S,I,R,k,A){let C,N,D,F,W=I[0],$=k[0],X=0,V=0;$>W==$>-W?(C=W,W=I[++X]):(C=$,$=k[++V]);let te=0;if(X<S&&V<R)for($>W==$>-W?(D=C-((N=W+C)-W),W=I[++X]):(D=C-((N=$+C)-$),$=k[++V]),C=N,D!==0&&(A[te++]=D);X<S&&V<R;)$>W==$>-W?(D=C-((N=C+W)-(F=N-C))+(W-F),W=I[++X]):(D=C-((N=C+$)-(F=N-C))+($-F),$=k[++V]),C=N,D!==0&&(A[te++]=D);for(;X<S;)D=C-((N=C+W)-(F=N-C))+(W-F),W=I[++X],C=N,D!==0&&(A[te++]=D);for(;V<R;)D=C-((N=C+$)-(F=N-C))+($-F),$=k[++V],C=N,D!==0&&(A[te++]=D);return C===0&&te!==0||(A[te++]=C),te}function a(S){return new Float64Array(S)}const l=33306690738754716e-32,c=22204460492503146e-32,f=11093356479670487e-47,p=a(4),m=a(8),g=a(12),y=a(16),w=a(4);n.orient2d=function(S,I,R,k,A,C){const N=(I-C)*(R-A),D=(S-A)*(k-C),F=N-D;if(N===0||D===0||N>0!=D>0)return F;const W=Math.abs(N+D);return Math.abs(F)>=l*W?F:-function($,X,V,te,me,ue,ie){let ge,se,fe,oe,Z,Q,he,Ne,Ue,De,Pe,ke,Ee,pe,Ae,Le,be,Ke;const qe=$-me,ct=V-me,at=X-ue,tt=te-ue;Z=(Ae=(Ne=qe-(he=(Q=134217729*qe)-(Q-qe)))*(De=tt-(Ue=(Q=134217729*tt)-(Q-tt)))-((pe=qe*tt)-he*Ue-Ne*Ue-he*De))-(Pe=Ae-(be=(Ne=at-(he=(Q=134217729*at)-(Q-at)))*(De=ct-(Ue=(Q=134217729*ct)-(Q-ct)))-((Le=at*ct)-he*Ue-Ne*Ue-he*De))),p[0]=Ae-(Pe+Z)+(Z-be),Z=(Ee=pe-((ke=pe+Pe)-(Z=ke-pe))+(Pe-Z))-(Pe=Ee-Le),p[1]=Ee-(Pe+Z)+(Z-Le),Z=(Ke=ke+Pe)-ke,p[2]=ke-(Ke-Z)+(Pe-Z),p[3]=Ke;let kt=function(Gn,Bn){let $n=Bn[0];for(let ot=1;ot<Gn;ot++)$n+=Bn[ot];return $n}(4,p),nt=c*ie;if(kt>=nt||-kt>=nt||(ge=$-(qe+(Z=$-qe))+(Z-me),fe=V-(ct+(Z=V-ct))+(Z-me),se=X-(at+(Z=X-at))+(Z-ue),oe=te-(tt+(Z=te-tt))+(Z-ue),ge===0&&se===0&&fe===0&&oe===0)||(nt=f*ie+i*Math.abs(kt),(kt+=qe*oe+tt*ge-(at*fe+ct*se))>=nt||-kt>=nt))return kt;Z=(Ae=(Ne=ge-(he=(Q=134217729*ge)-(Q-ge)))*(De=tt-(Ue=(Q=134217729*tt)-(Q-tt)))-((pe=ge*tt)-he*Ue-Ne*Ue-he*De))-(Pe=Ae-(be=(Ne=se-(he=(Q=134217729*se)-(Q-se)))*(De=ct-(Ue=(Q=134217729*ct)-(Q-ct)))-((Le=se*ct)-he*Ue-Ne*Ue-he*De))),w[0]=Ae-(Pe+Z)+(Z-be),Z=(Ee=pe-((ke=pe+Pe)-(Z=ke-pe))+(Pe-Z))-(Pe=Ee-Le),w[1]=Ee-(Pe+Z)+(Z-Le),Z=(Ke=ke+Pe)-ke,w[2]=ke-(Ke-Z)+(Pe-Z),w[3]=Ke;const bn=s(4,p,4,w,m);Z=(Ae=(Ne=qe-(he=(Q=134217729*qe)-(Q-qe)))*(De=oe-(Ue=(Q=134217729*oe)-(Q-oe)))-((pe=qe*oe)-he*Ue-Ne*Ue-he*De))-(Pe=Ae-(be=(Ne=at-(he=(Q=134217729*at)-(Q-at)))*(De=fe-(Ue=(Q=134217729*fe)-(Q-fe)))-((Le=at*fe)-he*Ue-Ne*Ue-he*De))),w[0]=Ae-(Pe+Z)+(Z-be),Z=(Ee=pe-((ke=pe+Pe)-(Z=ke-pe))+(Pe-Z))-(Pe=Ee-Le),w[1]=Ee-(Pe+Z)+(Z-Le),Z=(Ke=ke+Pe)-ke,w[2]=ke-(Ke-Z)+(Pe-Z),w[3]=Ke;const Ft=s(bn,m,4,w,g);Z=(Ae=(Ne=ge-(he=(Q=134217729*ge)-(Q-ge)))*(De=oe-(Ue=(Q=134217729*oe)-(Q-oe)))-((pe=ge*oe)-he*Ue-Ne*Ue-he*De))-(Pe=Ae-(be=(Ne=se-(he=(Q=134217729*se)-(Q-se)))*(De=fe-(Ue=(Q=134217729*fe)-(Q-fe)))-((Le=se*fe)-he*Ue-Ne*Ue-he*De))),w[0]=Ae-(Pe+Z)+(Z-be),Z=(Ee=pe-((ke=pe+Pe)-(Z=ke-pe))+(Pe-Z))-(Pe=Ee-Le),w[1]=Ee-(Pe+Z)+(Z-Le),Z=(Ke=ke+Pe)-ke,w[2]=ke-(Ke-Z)+(Pe-Z),w[3]=Ke;const mn=s(Ft,g,4,w,y);return y[mn-1]}(S,I,R,k,A,C,W)},n.orient2dfast=function(S,I,R,k,A,C){return(I-C)*(R-A)-(S-A)*(k-C)},Object.defineProperty(n,"__esModule",{value:!0})})})(e3,e3.exports);var wle=e3.exports,oS=dle,tg=_le,xle=ble,Sle=wle.orient2d;tg.default&&(tg=tg.default);E6.exports=TN;E6.exports.default=TN;function TN(t,e,n){e=Math.max(0,e===void 0?2:e),n=n||0;var r=Cle(t),i=new oS(16);i.toBBox=function(k){return{minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]}},i.compareMinX=function(k,A){return k[0]-A[0]},i.compareMinY=function(k,A){return k[1]-A[1]},i.load(t);for(var s=[],a=0,l;a<r.length;a++){var c=r[a];i.remove(c),l=cS(c,l),s.push(l)}var f=new oS(16);for(a=0;a<s.length;a++)f.insert(ty(s[a]));for(var p=e*e,m=n*n;s.length;){var g=s.shift(),y=g.p,w=g.next.p,S=ny(y,w);if(!(S<m)){var I=S/p;c=Tle(i,g.prev.p,y,w,g.next.next.p,I,f),c&&Math.min(ny(c,y),ny(c,w))<=I&&(s.push(g),s.push(cS(c,g)),i.remove(c),f.remove(g),f.insert(ty(g)),f.insert(ty(g.next)))}}g=l;var R=[];do R.push(g.p),g=g.next;while(g!==l);return R.push(g.p),R}function Tle(t,e,n,r,i,s,a){for(var l=new tg([],kle),c=t.data;c;){for(var f=0;f<c.children.length;f++){var p=c.children[f],m=c.leaf?ry(p,n,r):Ele(n,r,p);m>s||l.push({node:p,dist:m})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),y=g.node,w=ry(y,e,n),S=ry(y,r,i);if(g.dist<w&&g.dist<S&&uS(n,y,a)&&uS(r,y,a))return y}c=l.pop(),c&&(c=c.node)}return null}function kle(t,e){return t.dist-e.dist}function Ele(t,e,n){if(lS(t,n)||lS(e,n))return 0;var r=Sm(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(r===0)return 0;var i=Sm(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(i===0)return 0;var s=Sm(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(s===0)return 0;var a=Sm(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return a===0?0:Math.min(r,i,s,a)}function lS(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function uS(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),s=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),l=n.search({minX:r,minY:i,maxX:s,maxY:a}),c=0;c<l.length;c++)if(Mle(l[c].p,l[c].next.p,t,e))return!1;return!0}function Gf(t,e,n){return Sle(t[0],t[1],e[0],e[1],n[0],n[1])}function Mle(t,e,n,r){return t!==r&&e!==n&&Gf(t,e,n)>0!=Gf(t,e,r)>0&&Gf(n,r,t)>0!=Gf(n,r,e)>0}function ty(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Cle(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var l=[e,n,r,i],c=l.slice();for(s=0;s<t.length;s++)xle(t[s],l)||c.push(t[s]);return Ile(c)}function cS(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function ny(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ry(t,e,n){var r=e[0],i=e[1],s=n[0]-r,a=n[1]-i;if(s!==0||a!==0){var l=((t[0]-r)*s+(t[1]-i)*a)/(s*s+a*a);l>1?(r=n[0],i=n[1]):l>0&&(r+=s*l,i+=a*l)}return s=t[0]-r,a=t[1]-i,s*s+a*a}function Sm(t,e,n,r,i,s,a,l){var c=n-t,f=r-e,p=a-i,m=l-s,g=t-i,y=e-s,w=c*c+f*f,S=c*p+f*m,I=p*p+m*m,R=c*g+f*y,k=p*g+m*y,A=w*I-S*S,C,N,D,F,W=A,$=A;A===0?(N=0,W=1,F=k,$=I):(N=S*k-I*R,F=w*k-S*R,N<0?(N=0,F=k,$=I):N>W&&(N=W,F=k+S,$=I)),F<0?(F=0,-R<0?N=0:-R>w?N=W:(N=-R,W=w)):F>$&&(F=$,-R+S<0?N=0:-R+S>w?N=W:(N=-R+S,W=w)),C=N===0?0:N/W,D=F===0?0:F/$;var X=(1-C)*t+C*n,V=(1-C)*e+C*r,te=(1-D)*i+D*a,me=(1-D)*s+D*l,ue=te-X,ie=me-V;return ue*ue+ie*ie}function Ale(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function Ile(t){t.sort(Ale);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Gf(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&Gf(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}var Rle=E6.exports;const Ple=BI(Rle);function kN(t,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(Vh(t,function(i){n.push([i[0],i[1]])}),!n.length)return null;var r=Ple(n,e.concavity);return r.length>3?Jb([r]):null}function Nle(t,e,n){n===void 0&&(n={});var r=Qa(t),i=Qa(e),s=Wl(i[1]-r[1]),a=Wl(i[0]-r[0]),l=Wl(r[1]),c=Wl(i[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(c);return _N(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}function EN(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return MN(t);case"FeatureCollection":return Lle(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return M6(t);default:throw new Error("unknown GeoJSON type")}}function MN(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=CN(t.properties),e.geometry=M6(t.geometry),e}function CN(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];typeof r=="object"?r===null?e[n]=null:Array.isArray(r)?e[n]=r.map(function(i){return i}):e[n]=CN(r):e[n]=r}),e}function Lle(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(n){return MN(n)}),e}function M6(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(function(n){return M6(n)}),e):(e.coordinates=AN(t.coordinates),e)}function AN(t){var e=t;return typeof e[0]!="object"?e.slice():e.map(function(n){return AN(n)})}function t3(t,e){e===void 0&&(e={});var n=0,r=0,i=0;return Vh(t,function(s){n+=s[0],r+=s[1],i++},!0),zp([n/i,r/i],e.properties)}function IN(t,e){switch(e===void 0&&(e={}),hle(t)){case"Point":return zp(Qa(t),e.properties);case"Polygon":var n=[];Vh(t,function(C){n.push(C)});var r=t3(t,{properties:e.properties}),i=r.geometry.coordinates,s=0,a=0,l=0,c,f,p,m,g,y,w,S,I=n.map(function(C){return[C[0]-i[0],C[1]-i[1]]});for(c=0;c<n.length-1;c++)f=I[c],m=f[0],y=f[1],p=I[c+1],g=p[0],w=p[1],S=m*w-g*y,l+=S,s+=(m+g)*S,a+=(y+w)*S;if(l===0)return r;var R=l*.5,k=1/(6*R);return zp([i[0]+k*s,i[1]+k*a],e.properties);default:var A=kN(t);return A?IN(A,{properties:e.properties}):t3(t,{properties:e.properties})}}function Ole(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return bN(t,function(n){var r,i,s,a;switch((a=n.geometry)===null||a===void 0?void 0:a.type){case"Point":e.MultiPoint.coordinates.push(n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"MultiPoint":(r=e.MultiPoint.coordinates).push.apply(r,n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"LineString":e.MultiLineString.coordinates.push(n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"MultiLineString":(i=e.MultiLineString.coordinates).push.apply(i,n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":(s=e.MultiPolygon.coordinates).push.apply(s,n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break}}),V0(Object.keys(e).filter(function(n){return e[n].coordinates.length}).sort().map(function(n){var r={type:n,coordinates:e[n].coordinates},i={collectedProperties:e[n].properties};return k6(r,i)}))}function Dle(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,i=0;return bN(e,function(s,a){var l=Nle(t,s);l<r&&(i=a,r=l)}),n=EN(e.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Ble(t,e,n){n===void 0&&(n={});var r=Qa(t),i=Qa(e);i[0]+=i[0]-r[0]>180?-360:r[0]-i[0]>180?360:0;var s=zle(r,i),a=vN(s,"meters",n.units);return a}function zle(t,e,n){n=n===void 0?As:Number(n);var r=n,i=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-i,l=Math.abs(e[0]-t[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.abs(c)>1e-11?a/c:Math.cos(i),p=Math.sqrt(a*a+f*f*l*l),m=p*r;return m}var fS=6378137;function Tm(t){return cle(t,function(e,n){return e+Fle(n)},0)}function Fle(t){var e=0,n;switch(t.type){case"Polygon":return hS(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=hS(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function hS(t){var e=0;if(t&&t.length>0){e+=Math.abs(dS(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(dS(t[n]))}return e}function dS(t){var e,n,r,i,s,a,l,c=0,f=t.length;if(f>2){for(l=0;l<f;l++)l===f-2?(i=f-2,s=f-1,a=0):l===f-1?(i=f-1,s=0,a=1):(i=l,s=l+1,a=l+2),e=t[i],n=t[s],r=t[a],c+=(iy(r[0])-iy(e[0]))*Math.sin(iy(n[1]));c=c*fS*fS/2}return c}function iy(t){return t*Math.PI/180}function Ule(t,e,n){n===void 0&&(n={});var r;n.final?r=pS(Qa(e),Qa(t)):r=pS(Qa(t),Qa(e));var i=r>180?-(360-r):r;return i}function pS(t,e){var n=Wl(t[1]),r=Wl(e[1]),i=Wl(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(i,s);return(lle(a)+360)%360}function n3(t,e,n,r){r===void 0&&(r={});var i=e<0,s=vN(Math.abs(e),r.units,"meters");i&&(s=-Math.abs(s));var a=Qa(t),l=qle(a,s,n);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,zp(l,r.properties)}function qle(t,e,n,r){r=r===void 0?As:Number(r);var i=e/r,s=t[0]*Math.PI/180,a=Wl(t[1]),l=Wl(n),c=i*Math.cos(l),f=a+c;Math.abs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f);var p=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),m=Math.abs(p)>1e-11?c/p:Math.cos(a),g=i*Math.sin(l)/m,y=s+g;return[(y*180/Math.PI+540)%360-180,f*180/Math.PI]}function Hle(t,e,n){if(n=n||{},!yN(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(e==null||isNaN(e))throw new Error("angle is required");return e===0||(r||(r=t3(t)),(i===!1||i===void 0)&&(t=EN(t)),Vh(t,function(s){var a=Ule(r,s),l=a+e,c=Ble(r,s),f=fle(n3(r,c,l));s[0]=f[0],s[1]=f[1]})),t}function Wle(t,e,n,r){r=r||{};var i=r.steps||64,s=r.units||"kilometers",a=r.angle||0,l=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!yN(r))throw new Error("options must be an object");if(!y_(i))throw new Error("steps must be a number");if(!y_(a))throw new Error("angle must be a number");var f=Qa(t);if(s==="degrees")var p=Wl(a);else e=n3(t,e,90,{units:s}),n=n3(t,n,0,{units:s}),e=Qa(e)[0]-f[0],n=Qa(n)[1]-f[1];for(var m=[],g=0;g<i;g+=1){var y=g*-360/i,w=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(mS(y),2)),S=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(mS(y),2));if(y<-90&&y>=-270&&(w=-w),y<-180&&y>=-360&&(S=-S),s==="degrees"){var I=w*Math.cos(p)+S*Math.sin(p),R=S*Math.cos(p)-w*Math.sin(p);w=I,S=R}m.push([w+f[0],S+f[1]])}return m.push(m[0]),s==="degrees"?Jb([m],c):Hle(Jb([m],c),a,{pivot:l})}function mS(t){var e=t*Math.PI/180;return Math.tan(e)}function Gle(t){let e,n,r=(t[0]==null?"...":t[0].length)+"",i,s,a,l,c,f=(t[1]==null?"...":t[1].type)+"",p,m,g,y;return{c(){e=Y("button"),n=Ce("gainloss : "),i=Ce(r),a=ve(),l=Y("button"),c=Ce("exclusionzone : "),p=Ce(f),H(e,"class",s="ui button small "+(t[0]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''"),H(l,"class",m="ui button small "+(t[1]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(w,S){vt(w,e,S),P(e,n),P(e,i),vt(w,a,S),vt(w,l,S),P(l,c),P(l,p),g||(y=[je(e,"click",t[7]),je(l,"click",t[8])],g=!0)},p(w,[S]){S&1&&r!==(r=(w[0]==null?"...":w[0].length)+"")&&bt(i,r),S&9&&s!==(s="ui button small "+(w[0]==null?"orange  ":"green")+" "+(w[3]!=null)+"?'loading':''")&&H(e,"class",s),S&2&&f!==(f=(w[1]==null?"...":w[1].type)+"")&&bt(p,f),S&10&&m!==(m="ui button small "+(w[1]==null?"orange  ":"green")+" "+(w[3]!=null)+"?'loading':''")&&H(l,"class",m)},i:Rn,o:Rn,d(w){w&&ht(e),w&&ht(a),w&&ht(l),g=!1,sl(y)}}}let gS="/fss/",$le=24;function Vle(t,e,n){let r;Fc(t,gf,C=>n(3,r=C));let{gainloss:i}=e,{exclusionzone:s}=e,{logger:a=null}=e;Zf(()=>{});let l={gainloss:{localpath:"/common/LossesPerElevation@1.csv",fspath:"/LossesPerElevation@1.csv",type:"csv"},exclusionzone:{localpath:"/common/emptyspaceschina.geojson",fspath:"/emptyspaceschina.geojson",type:"json"}};console.log("gainloss : FilePaths",l);let c,f=$le,p=[0,5,10,15,20,30,60,90],m=[32,28,24,24,20,18,17,17],g=[],y=gk().thresholds(p);function w(C){if(i==null)return;n(6,m=C),g=[];let N=i,D=y.value(F=>F.el)(N);console.log("updateEIRPmask: MASK BINS ",D),D.forEach((F,W)=>{let $=10*Math.log10(ip(F,X=>Math.pow(10,X.UrbanAg/10)));F.meanAg=$,F.EIRPmask=m[W],g.push(F.meanAg+f),F.forEach(X=>{X.UrbanOffset=m[W]-X.UrbanAg-f,X.SubUrbanOffset=m[W]-X.SubUrbanAg-f,X.MeanAg=F.meanAg,X.MaskOffset=F.EIRPmask-F.meanAg-f,X.EIRPMask=F.EIRPmask,X.MaskBINid=W,N[X.el]=X})}),n(0,i=N)}function S(C,N){if(i==null)return;c=c||C.clientWidth;const D=Xo({width:c,marks:[Pu(i,{y:$=>$.UrbanAg,x:"el",title:$=>`${$.UrbanAg.toFixed(1)}dB @ ${$.el}`,stroke:$=>"Urban"}),Pu(i,{y:$=>$.SubUrbanAg,x:"el",title:$=>`${$.SubUrbanAg.toFixed(1)}dB @ ${$.el}`,stroke:$=>"SubUrban"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:$=>Math.floor($)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"BS/sector Antenna Gain"}}),F=Xo({width:c,marks:[Pu(i,{y:$=>$.UrbanAg+f,x:"el",title:$=>`${($.UrbanAg+f).toFixed(1)}dB @ ${$.el}`,stroke:$=>"Urban"}),Pu(i,{y:$=>$.SubUrbanAg+f,x:"el",title:$=>`${($.SubUrbanAg+f).toFixed(1)}dB @ ${$.el}`,stroke:$=>"SubUrban"}),Pu(m,{x:p,y:m,marker:"circle",strokeWidth:2,title:($,X)=>`Max Avg EIRP ${$.toFixed(1)} (${($-g[X]).toFixed(1)}) dBm/MHz`,tip:!0,curve:"step-after"}),Pu(g,{x:p,y:g,marker:"circle",stroke:"grey",strokeWidth:2,tip:!0,strokeDasharray:[3,2],title:$=>"Max Avg EIRP "+$.toFixed(1)+"dBm/MHz",curve:"step-after"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:$=>Math.floor($)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"Avg EIRP@Angle (dBm/MHz)"}});let W=Fn(C).selectAll("figure");W.empty()||W.remove(),D.id="p4",C.append(D),C.append(F)}async function I(C){let N="Path Error "+C,D=l[C];{if(r!=null)N=await pN(gS+D.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",gS)}return N}async function R(C){return console.log("loadGainLoss..started ",C),I(C).then(N=>{switch(C){case"gainloss":var D=lE(N,vg);D.then(W=>{var $=W.map(V=>({el:+V["Elev angle"],UrbanAg:V.UrbanAg,SubUrbanAg:V.SubUrbanAg,GL:V["Gas loss"],CL:-V["Clutter gain"],PL:V["Propagation loss"]}));let X=y.value(V=>V.el)($);return console.log("My Bins for MASK is ",X),X.forEach((V,te)=>{let me=10*Math.log10(ip(V,ue=>Math.pow(10,ue.UrbanAg/10)));V.meanAg=me,V.EIRPmask=m[te],g.push(V.meanAg+f),V.forEach(ue=>{ue.UrbanOffset=m[te]-ue.UrbanAg-f,ue.SubUrbanOffset=m[te]-ue.SubUrbanAg-f,ue.MeanAg=V.meanAg,ue.MaskOffset=V.EIRPmask-V.meanAg-f,ue.EIRPMask=V.EIRPmask,ue.MaskBINid=te,$[ue.el]=ue})}),n(0,i=$),$}),a.showStatus("gainloss",D);break;case"exclusionzone":var F=Gm(N,vg);F.then(W=>(n(1,s=W),console.log("exclusion ZONES found",s),W)),a.showStatus("exclusionzone",F);break}}).catch(N=>{a!=null&&a.appendNode("gainloss",N.toString())}),console.log("loadGainLoss..done..."),""}const k=()=>{a.queueNode("gainloss",i)},A=()=>{a.queueNode("exclusionzone",s)};return t.$$set=C=>{"gainloss"in C&&n(0,i=C.gainloss),"exclusionzone"in C&&n(1,s=C.exclusionzone),"logger"in C&&n(2,a=C.logger)},t.$$.update=()=>{t.$$.dirty&8&&(r!=null?(console.log("must be running again gainloss",r),R("gainloss"),R("exclusionzone")):(console.log("DEVELMODE gainloss"),R("gainloss"),R("exclusionzone"))),t.$$.dirty&64&&console.log("Mask vals changed",m)},[i,s,a,r,w,S,m,k,A]}class Zle extends rc{constructor(e){super(),nc(this,e,Vle,Gle,eo,{gainloss:0,exclusionzone:1,logger:2,updateEIRPmask:4,showGainLoss:5})}get updateEIRPmask(){return this.$$.ctx[4]}get showGainLoss(){return this.$$.ctx[5]}}var b_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */b_.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,g=2,y=4,w=1,S=2,I=1,R=2,k=4,A=8,C=16,N=32,D=64,F=128,W=256,$=512,X=30,V="...",te=800,me=16,ue=1,ie=2,ge=3,se=1/0,fe=9007199254740991,oe=17976931348623157e292,Z=0/0,Q=4294967295,he=Q-1,Ne=Q>>>1,Ue=[["ary",F],["bind",I],["bindKey",R],["curry",A],["curryRight",C],["flip",$],["partial",N],["partialRight",D],["rearg",W]],De="[object Arguments]",Pe="[object Array]",ke="[object AsyncFunction]",Ee="[object Boolean]",pe="[object Date]",Ae="[object DOMException]",Le="[object Error]",be="[object Function]",Ke="[object GeneratorFunction]",qe="[object Map]",ct="[object Number]",at="[object Null]",tt="[object Object]",kt="[object Promise]",nt="[object Proxy]",bn="[object RegExp]",Ft="[object Set]",mn="[object String]",Gn="[object Symbol]",Bn="[object Undefined]",$n="[object WeakMap]",ot="[object WeakSet]",jt="[object ArrayBuffer]",Vn="[object DataView]",er="[object Float32Array]",di="[object Float64Array]",rr="[object Int8Array]",tr="[object Int16Array]",Or="[object Int32Array]",Xn="[object Uint8Array]",mt="[object Uint8ClampedArray]",an="[object Uint16Array]",Ir="[object Uint32Array]",ca=/\b__p \+= '';/g,Rr=/\b(__p \+=) '' \+/g,fa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pi=/&(?:amp|lt|gt|quot|#39);/g,An=/[&<>"']/g,es=RegExp(pi.source),Ut=RegExp(An.source),Ri=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,Sr=/<%=([\s\S]+?)%>/g,ps=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Os=/^\w*$/,ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ri=/[\\^$.*+?()[\]{}|]/g,mi=RegExp(ri.source),ms=/^\s+/,pr=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tr=/\{\n\/\* \[wrapped with (.+)\] \*/,gs=/,? & /,Pr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dr=/[()=,{}\[\]\/\s]/,kr=/\\(\\)?/g,Ds=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pn=/\w*$/,_s=/^[-+]0x[0-9a-f]+$/i,gi=/^0b[01]+$/i,ts=/^\[object .+?Constructor\]$/,ns=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,da=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,ii="\\ud800-\\udfff",Vr="\\u0300-\\u036f",ys="\\ufe20-\\ufe2f",Pi="\\u20d0-\\u20ff",Ni=Vr+ys+Pi,Br="\\u2700-\\u27bf",Ht="a-z\\xdf-\\xf6\\xf8-\\xff",wi="\\xac\\xb1\\xd7\\xf7",bs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_i="\\u2000-\\u206f",Kt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="A-Z\\xc0-\\xd6\\xd8-\\xde",gn="\\ufe0e\\ufe0f",Li=wi+bs+_i+Kt,zr="[']",ur="["+ii+"]",pt="["+Li+"]",on="["+Ni+"]",ir="\\d+",Oi="["+Br+"]",Sn="["+Ht+"]",ws="[^"+ii+Li+ir+Br+Ht+Qt+"]",nr="\\ud83c[\\udffb-\\udfff]",Er="(?:"+on+"|"+nr+")",Vt="[^"+ii+"]",Mr="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",si="["+Qt+"]",Fr="\\u200d",Ge="(?:"+Sn+"|"+ws+")",ut="(?:"+si+"|"+ws+")",cn="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",Xe="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",cr=Er+"?",No="["+gn+"]?",Lo="(?:"+Fr+"(?:"+[Vt,Mr,Yn].join("|")+")"+No+cr+")*",Bs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ul="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Oo=No+cr+Lo,Et="(?:"+[Oi,Mr,Yn].join("|")+")"+Oo,ai="(?:"+[Vt+on+"?",on,Mr,Yn,ur].join("|")+")",fn=RegExp(zr,"g"),cl=RegExp(on,"g"),io=RegExp(nr+"(?="+nr+")|"+ai+Oo,"g"),Zr=RegExp([si+"?"+Sn+"+"+cn+"(?="+[pt,si,"$"].join("|")+")",ut+"+"+Xe+"(?="+[pt,si+Ge,"$"].join("|")+")",si+"?"+Ge+"+"+cn,si+"+"+Xe,ul,Bs,ir,Et].join("|"),"g"),zs=RegExp("["+Fr+ii+Ni+gn+"]"),Fs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pa=-1,Bt={};Bt[er]=Bt[di]=Bt[rr]=Bt[tr]=Bt[Or]=Bt[Xn]=Bt[mt]=Bt[an]=Bt[Ir]=!0,Bt[De]=Bt[Pe]=Bt[jt]=Bt[Ee]=Bt[Vn]=Bt[pe]=Bt[Le]=Bt[be]=Bt[qe]=Bt[ct]=Bt[tt]=Bt[bn]=Bt[Ft]=Bt[mn]=Bt[$n]=!1;var en={};en[De]=en[Pe]=en[jt]=en[Vn]=en[Ee]=en[pe]=en[er]=en[di]=en[rr]=en[tr]=en[Or]=en[qe]=en[ct]=en[tt]=en[bn]=en[Ft]=en[mn]=en[Gn]=en[Xn]=en[mt]=en[an]=en[Ir]=!0,en[Le]=en[be]=en[$n]=!1;var ou={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},hl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},so=parseFloat,dl=parseInt,pl=typeof Rc=="object"&&Rc&&Rc.Object===Object&&Rc,Ct=typeof self=="object"&&self&&self.Object===Object&&self,gr=pl||Ct||Function("return this")(),Yr=e&&!e.nodeType&&e,Di=Yr&&!0&&t&&!t.nodeType&&t,ml=Di&&Di.exports===Yr,gl=ml&&pl.process,Cr=function(){try{var ce=Di&&Di.require&&Di.require("util").types;return ce||gl&&gl.binding&&gl.binding("util")}catch{}}(),re=Cr&&Cr.isArrayBuffer,Te=Cr&&Cr.isDate,ze=Cr&&Cr.isMap,$e=Cr&&Cr.isRegExp,xt=Cr&&Cr.isSet,yt=Cr&&Cr.isTypedArray;function St(ce,Se,xe){switch(xe.length){case 0:return ce.call(Se);case 1:return ce.call(Se,xe[0]);case 2:return ce.call(Se,xe[0],xe[1]);case 3:return ce.call(Se,xe[0],xe[1],xe[2])}return ce.apply(Se,xe)}function zn(ce,Se,xe,Ze){for(var Nt=-1,dn=ce==null?0:ce.length;++Nt<dn;){var Nr=ce[Nt];Se(Ze,Nr,xe(Nr),ce)}return Ze}function In(ce,Se){for(var xe=-1,Ze=ce==null?0:ce.length;++xe<Ze&&Se(ce[xe],xe,ce)!==!1;);return ce}function Tt(ce,Se){for(var xe=ce==null?0:ce.length;xe--&&Se(ce[xe],xe,ce)!==!1;);return ce}function Mn(ce,Se){for(var xe=-1,Ze=ce==null?0:ce.length;++xe<Ze;)if(!Se(ce[xe],xe,ce))return!1;return!0}function hn(ce,Se){for(var xe=-1,Ze=ce==null?0:ce.length,Nt=0,dn=[];++xe<Ze;){var Nr=ce[xe];Se(Nr,xe,ce)&&(dn[Nt++]=Nr)}return dn}function ln(ce,Se){var xe=ce==null?0:ce.length;return!!xe&&qa(ce,Se,0)>-1}function xs(ce,Se,xe){for(var Ze=-1,Nt=ce==null?0:ce.length;++Ze<Nt;)if(xe(Se,ce[Ze]))return!0;return!1}function Tn(ce,Se){for(var xe=-1,Ze=ce==null?0:ce.length,Nt=Array(Ze);++xe<Ze;)Nt[xe]=Se(ce[xe],xe,ce);return Nt}function Ss(ce,Se){for(var xe=-1,Ze=Se.length,Nt=ce.length;++xe<Ze;)ce[Nt+xe]=Se[xe];return ce}function _l(ce,Se,xe,Ze){var Nt=-1,dn=ce==null?0:ce.length;for(Ze&&dn&&(xe=ce[++Nt]);++Nt<dn;)xe=Se(xe,ce[Nt],Nt,ce);return xe}function ma(ce,Se,xe,Ze){var Nt=ce==null?0:ce.length;for(Ze&&Nt&&(xe=ce[--Nt]);Nt--;)xe=Se(xe,ce[Nt],Nt,ce);return xe}function vl(ce,Se){for(var xe=-1,Ze=ce==null?0:ce.length;++xe<Ze;)if(Se(ce[xe],xe,ce))return!0;return!1}var ga=Si("length");function f0(ce){return ce.split("")}function yl(ce){return ce.match(Pr)||[]}function bl(ce,Se,xe){var Ze;return xe(ce,function(Nt,dn,Nr){if(Se(Nt,dn,Nr))return Ze=dn,!1}),Ze}function oi(ce,Se,xe,Ze){for(var Nt=ce.length,dn=xe+(Ze?1:-1);Ze?dn--:++dn<Nt;)if(Se(ce[dn],dn,ce))return dn;return-1}function qa(ce,Se,xe){return Se===Se?Ti(ce,Se,xe):oi(ce,Bi,xe)}function wl(ce,Se,xe,Ze){for(var Nt=xe-1,dn=ce.length;++Nt<dn;)if(Ze(ce[Nt],Se))return Nt;return-1}function Bi(ce){return ce!==ce}function fc(ce,Se){var xe=ce==null?0:ce.length;return xe?hc(ce,Se)/xe:Z}function Si(ce){return function(Se){return Se==null?n:Se[ce]}}function _a(ce){return function(Se){return ce==null?n:ce[Se]}}function Ar(ce,Se,xe,Ze,Nt){return Nt(ce,function(dn,Nr,kn){xe=Ze?(Ze=!1,dn):Se(xe,dn,Nr,kn)}),xe}function ao(ce,Se){var xe=ce.length;for(ce.sort(Se);xe--;)ce[xe]=ce[xe].value;return ce}function hc(ce,Se){for(var xe,Ze=-1,Nt=ce.length;++Ze<Nt;){var dn=Se(ce[Ze]);dn!==n&&(xe=xe===n?dn:xe+dn)}return xe}function xl(ce,Se){for(var xe=-1,Ze=Array(ce);++xe<ce;)Ze[xe]=Se(xe);return Ze}function h0(ce,Se){return Tn(Se,function(xe){return[xe,ce[xe]]})}function oo(ce){return ce&&ce.slice(0,pc(ce)+1).replace(ms,"")}function Nn(ce){return function(Se){return ce(Se)}}function Ha(ce,Se){return Tn(Se,function(xe){return ce[xe]})}function lo(ce,Se){return ce.has(Se)}function rs(ce,Se){for(var xe=-1,Ze=ce.length;++xe<Ze&&qa(Se,ce[xe],0)>-1;);return xe}function d0(ce,Se){for(var xe=ce.length;xe--&&qa(Se,ce[xe],0)>-1;);return xe}function Us(ce,Se){for(var xe=ce.length,Ze=0;xe--;)ce[xe]===Se&&++Ze;return Ze}var dc=_a(ou),Sl=_a(hl);function uo(ce){return"\\"+xi[ce]}function lu(ce,Se){return ce==null?n:ce[Se]}function va(ce){return zs.test(ce)}function Wa(ce){return Fs.test(ce)}function uu(ce){for(var Se,xe=[];!(Se=ce.next()).done;)xe.push(Se.value);return xe}function co(ce){var Se=-1,xe=Array(ce.size);return ce.forEach(function(Ze,Nt){xe[++Se]=[Nt,Ze]}),xe}function Do(ce,Se){return function(xe){return ce(Se(xe))}}function Ga(ce,Se){for(var xe=-1,Ze=ce.length,Nt=0,dn=[];++xe<Ze;){var Nr=ce[xe];(Nr===Se||Nr===p)&&(ce[xe]=p,dn[Nt++]=xe)}return dn}function zi(ce){var Se=-1,xe=Array(ce.size);return ce.forEach(function(Ze){xe[++Se]=Ze}),xe}function vf(ce){var Se=-1,xe=Array(ce.size);return ce.forEach(function(Ze){xe[++Se]=[Ze,Ze]}),xe}function Ti(ce,Se,xe){for(var Ze=xe-1,Nt=ce.length;++Ze<Nt;)if(ce[Ze]===Se)return Ze;return-1}function yf(ce,Se,xe){for(var Ze=xe+1;Ze--;)if(ce[Ze]===Se)return Ze;return Ze}function Ur(ce){return va(ce)?fu(ce):ga(ce)}function li(ce){return va(ce)?Ts(ce):f0(ce)}function pc(ce){for(var Se=ce.length;Se--&&pr.test(ce.charAt(Se)););return Se}var cu=_a(cc);function fu(ce){for(var Se=io.lastIndex=0;io.test(ce);)++Se;return Se}function Ts(ce){return ce.match(io)||[]}function hu(ce){return ce.match(Zr)||[]}var qs=function ce(Se){Se=Se==null?gr:ks.defaults(gr.Object(),Se,ks.pick(gr,fl));var xe=Se.Array,Ze=Se.Date,Nt=Se.Error,dn=Se.Function,Nr=Se.Math,kn=Se.Object,mc=Se.RegExp,_r=Se.String,ui=Se.TypeError,Tl=xe.prototype,kl=dn.prototype,fo=kn.prototype,Bo=Se["__core-js_shared__"],du=kl.toString,_n=fo.hasOwnProperty,El=0,ya=function(){var u=/[^.]+$/.exec(Bo&&Bo.keys&&Bo.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ml=fo.toString,ba=du.call(kn),p0=gr._,Hs=mc("^"+du.call(_n).replace(ri,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cl=ml?Se.Buffer:n,Fi=Se.Symbol,Ws=Se.Uint8Array,m0=Cl?Cl.allocUnsafe:n,$a=Do(kn.getPrototypeOf,kn),zo=kn.create,Ui=fo.propertyIsEnumerable,ho=Tl.splice,g0=Fi?Fi.isConcatSpreadable:n,wa=Fi?Fi.iterator:n,Va=Fi?Fi.toStringTag:n,Es=function(){try{var u=x0(kn,"defineProperty");return u({},"",{}),u}catch{}}(),_0=Se.clearTimeout!==gr.clearTimeout&&Se.clearTimeout,pu=Ze&&Ze.now!==gr.Date.now&&Ze.now,v0=Se.setTimeout!==gr.setTimeout&&Se.setTimeout,po=Nr.ceil,Al=Nr.floor,is=kn.getOwnPropertySymbols,o=Cl?Cl.isBuffer:n,h=Se.isFinite,_=Tl.join,b=Do(kn.keys,kn),E=Nr.max,z=Nr.min,ee=Ze.now,_e=Se.parseInt,we=Nr.random,Me=Tl.reverse,Je=x0(Se,"DataView"),_t=x0(Se,"Map"),Wt=x0(Se,"Promise"),sr=x0(Se,"Set"),ft=x0(Se,"WeakMap"),jr=x0(kn,"create"),Kr=ft&&new ft,Gs={},jh=S0(Je),Kh=S0(_t),Xh=S0(Wt),bf=S0(sr),Jh=S0(ft),mu=Fi?Fi.prototype:n,ar=mu?mu.valueOf:n,gu=mu?mu.toString:n;function U(u){if(Jr(u)&&!Zt(u)&&!(u instanceof tn)){if(u instanceof qi)return u;if(_n.call(u,"__wrapped__"))return t8(u)}return new qi(u)}var Il=function(){function u(){}return function(d){if(!qr(d))return{};if(zo)return zo(d);u.prototype=d;var v=new u;return u.prototype=n,v}}();function gc(){}function qi(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}U.templateSettings={escape:Ri,evaluate:Ua,interpolate:Sr,variable:"",imports:{_:U}},U.prototype=gc.prototype,U.prototype.constructor=U,qi.prototype=Il(gc.prototype),qi.prototype.constructor=qi;function tn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Qh(){var u=new tn(this.__wrapped__);return u.__actions__=Sa(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Sa(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Sa(this.__views__),u}function K2(){if(this.__filtered__){var u=new tn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function ki(){var u=this.__wrapped__.value(),d=this.__dir__,v=Zt(u),T=d<0,O=v?u.length:0,G=OO(0,O,this.__views__),K=G.start,ae=G.end,de=ae-K,Ie=T?ae:K-1,Re=this.__iteratees__,Be=Re.length,Qe=0,gt=z(de,this.__takeCount__);if(!v||!T&&O==de&&gt==de)return T7(u,this.__actions__);var Rt=[];e:for(;de--&&Qe<gt;){Ie+=d;for(var un=-1,Pt=u[Ie];++un<Be;){var wn=Re[un],Cn=wn.iteratee,ja=wn.type,Ys=Cn(Pt);if(ja==ie)Pt=Ys;else if(!Ys){if(ja==ue)continue e;break e}}Rt[Qe++]=Pt}return Rt}tn.prototype=Il(gc.prototype),tn.prototype.constructor=tn;function Xr(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function Fo(){this.__data__=jr?jr(null):{},this.size=0}function ss(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function as(u){var d=this.__data__;if(jr){var v=d[u];return v===c?n:v}return _n.call(d,u)?d[u]:n}function X2(u){var d=this.__data__;return jr?d[u]!==n:_n.call(d,u)}function E1(u,d){var v=this.__data__;return this.size+=this.has(u)?0:1,v[u]=jr&&d===n?c:d,this}Xr.prototype.clear=Fo,Xr.prototype.delete=ss,Xr.prototype.get=as,Xr.prototype.has=X2,Xr.prototype.set=E1;function Uo(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function M1(){this.__data__=[],this.size=0}function Rl(u){var d=this.__data__,v=y0(d,u);if(v<0)return!1;var T=d.length-1;return v==T?d.pop():ho.call(d,v,1),--this.size,!0}function J2(u){var d=this.__data__,v=y0(d,u);return v<0?n:d[v][1]}function Q2(u){return y0(this.__data__,u)>-1}function ev(u,d){var v=this.__data__,T=y0(v,u);return T<0?(++this.size,v.push([u,d])):v[T][1]=d,this}Uo.prototype.clear=M1,Uo.prototype.delete=Rl,Uo.prototype.get=J2,Uo.prototype.has=Q2,Uo.prototype.set=ev;function qo(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function tv(){this.size=0,this.__data__={hash:new Xr,map:new(_t||Uo),string:new Xr}}function _c(u){var d=U1(this,u).delete(u);return this.size-=d?1:0,d}function nv(u){return U1(this,u).get(u)}function rv(u){return U1(this,u).has(u)}function ed(u,d){var v=U1(this,u),T=v.size;return v.set(u,d),this.size+=v.size==T?0:1,this}qo.prototype.clear=tv,qo.prototype.delete=_c,qo.prototype.get=nv,qo.prototype.has=rv,qo.prototype.set=ed;function _u(u){var d=-1,v=u==null?0:u.length;for(this.__data__=new qo;++d<v;)this.add(u[d])}function iv(u){return this.__data__.set(u,c),this}function sv(u){return this.__data__.has(u)}_u.prototype.add=_u.prototype.push=iv,_u.prototype.has=sv;function Ms(u){var d=this.__data__=new Uo(u);this.size=d.size}function av(){this.__data__=new Uo,this.size=0}function ov(u){var d=this.__data__,v=d.delete(u);return this.size=d.size,v}function lv(u){return this.__data__.get(u)}function wf(u){return this.__data__.has(u)}function uv(u,d){var v=this.__data__;if(v instanceof Uo){var T=v.__data__;if(!_t||T.length<i-1)return T.push([u,d]),this.size=++v.size,this;v=this.__data__=new qo(T)}return v.set(u,d),this.size=v.size,this}Ms.prototype.clear=av,Ms.prototype.delete=ov,Ms.prototype.get=lv,Ms.prototype.has=wf,Ms.prototype.set=uv;function C1(u,d){var v=Zt(u),T=!v&&T0(u),O=!v&&!T&&Sc(u),G=!v&&!T&&!O&&Mf(u),K=v||T||O||G,ae=K?xl(u.length,_r):[],de=ae.length;for(var Ie in u)(d||_n.call(u,Ie))&&!(K&&(Ie=="length"||O&&(Ie=="offset"||Ie=="parent")||G&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||bu(Ie,de)))&&ae.push(Ie);return ae}function xf(u){var d=u.length;return d?u[vv(0,d-1)]:n}function ne(u,d){return q1(Sa(u),vi(d,0,u.length))}function Oe(u){return q1(Sa(u))}function vr(u,d,v){(v!==n&&!Ho(u[d],v)||v===n&&!(d in u))&&xa(u,d,v)}function vc(u,d,v){var T=u[d];(!(_n.call(u,d)&&Ho(T,v))||v===n&&!(d in u))&&xa(u,d,v)}function y0(u,d){for(var v=u.length;v--;)if(Ho(u[v][0],d))return v;return-1}function Pl(u,d,v,T){return yc(u,function(O,G,K){d(T,O,v(O),K)}),T}function os(u,d){return u&&Ll(d,Hi(d),u)}function Sf(u,d){return u&&Ll(d,ka(d),u)}function xa(u,d,v){d=="__proto__"&&Es?Es(u,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):u[d]=v}function b0(u,d){for(var v=-1,T=d.length,O=xe(T),G=u==null;++v<T;)O[v]=G?n:Wv(u,d[v]);return O}function vi(u,d,v){return u===u&&(v!==n&&(u=u<=v?u:v),d!==n&&(u=u>=d?u:d)),u}function $s(u,d,v,T,O,G){var K,ae=d&m,de=d&g,Ie=d&y;if(v&&(K=O?v(u,T,O,G):v(u)),K!==n)return K;if(!qr(u))return u;var Re=Zt(u);if(Re){if(K=BO(u),!ae)return Sa(u,K)}else{var Be=Cs(u),Qe=Be==be||Be==Ke;if(Sc(u))return M7(u,ae);if(Be==tt||Be==De||Qe&&!O){if(K=de||Qe?{}:V7(u),!ae)return de?EO(u,Sf(K,u)):kO(u,os(K,u))}else{if(!en[Be])return O?u:{};K=zO(u,Be,ae)}}G||(G=new Ms);var gt=G.get(u);if(gt)return gt;G.set(u,K),w8(u)?u.forEach(function(Pt){K.add($s(Pt,d,v,Pt,u,G))}):y8(u)&&u.forEach(function(Pt,wn){K.set(wn,$s(Pt,d,v,wn,u,G))});var Rt=Ie?de?Av:Cv:de?ka:Hi,un=Re?n:Rt(u);return In(un||u,function(Pt,wn){un&&(wn=Pt,Pt=u[wn]),vc(K,wn,$s(Pt,d,v,wn,u,G))}),K}function KL(u){var d=Hi(u);return function(v){return i7(v,u,d)}}function i7(u,d,v){var T=v.length;if(u==null)return!T;for(u=kn(u);T--;){var O=v[T],G=d[O],K=u[O];if(K===n&&!(O in u)||!G(K))return!1}return!0}function s7(u,d,v){if(typeof u!="function")throw new ui(a);return od(function(){u.apply(n,v)},d)}function td(u,d,v,T){var O=-1,G=ln,K=!0,ae=u.length,de=[],Ie=d.length;if(!ae)return de;v&&(d=Tn(d,Nn(v))),T?(G=xs,K=!1):d.length>=i&&(G=lo,K=!1,d=new _u(d));e:for(;++O<ae;){var Re=u[O],Be=v==null?Re:v(Re);if(Re=T||Re!==0?Re:0,K&&Be===Be){for(var Qe=Ie;Qe--;)if(d[Qe]===Be)continue e;de.push(Re)}else G(d,Be,T)||de.push(Re)}return de}var yc=P7(Nl),a7=P7(fv,!0);function XL(u,d){var v=!0;return yc(u,function(T,O,G){return v=!!d(T,O,G),v}),v}function A1(u,d,v){for(var T=-1,O=u.length;++T<O;){var G=u[T],K=d(G);if(K!=null&&(ae===n?K===K&&!Ya(K):v(K,ae)))var ae=K,de=G}return de}function JL(u,d,v,T){var O=u.length;for(v=nn(v),v<0&&(v=-v>O?0:O+v),T=T===n||T>O?O:nn(T),T<0&&(T+=O),T=v>T?0:S8(T);v<T;)u[v++]=d;return u}function o7(u,d){var v=[];return yc(u,function(T,O,G){d(T,O,G)&&v.push(T)}),v}function ls(u,d,v,T,O){var G=-1,K=u.length;for(v||(v=UO),O||(O=[]);++G<K;){var ae=u[G];d>0&&v(ae)?d>1?ls(ae,d-1,v,T,O):Ss(O,ae):T||(O[O.length]=ae)}return O}var cv=N7(),l7=N7(!0);function Nl(u,d){return u&&cv(u,d,Hi)}function fv(u,d){return u&&l7(u,d,Hi)}function I1(u,d){return hn(d,function(v){return wu(u[v])})}function w0(u,d){d=wc(d,u);for(var v=0,T=d.length;u!=null&&v<T;)u=u[Ol(d[v++])];return v&&v==T?u:n}function u7(u,d,v){var T=d(u);return Zt(u)?T:Ss(T,v(u))}function Vs(u){return u==null?u===n?Bn:at:Va&&Va in kn(u)?LO(u):ZO(u)}function hv(u,d){return u>d}function QL(u,d){return u!=null&&_n.call(u,d)}function eO(u,d){return u!=null&&d in kn(u)}function tO(u,d,v){return u>=z(d,v)&&u<E(d,v)}function dv(u,d,v){for(var T=v?xs:ln,O=u[0].length,G=u.length,K=G,ae=xe(G),de=1/0,Ie=[];K--;){var Re=u[K];K&&d&&(Re=Tn(Re,Nn(d))),de=z(Re.length,de),ae[K]=!v&&(d||O>=120&&Re.length>=120)?new _u(K&&Re):n}Re=u[0];var Be=-1,Qe=ae[0];e:for(;++Be<O&&Ie.length<de;){var gt=Re[Be],Rt=d?d(gt):gt;if(gt=v||gt!==0?gt:0,!(Qe?lo(Qe,Rt):T(Ie,Rt,v))){for(K=G;--K;){var un=ae[K];if(!(un?lo(un,Rt):T(u[K],Rt,v)))continue e}Qe&&Qe.push(Rt),Ie.push(gt)}}return Ie}function nO(u,d,v,T){return Nl(u,function(O,G,K){d(T,v(O),G,K)}),T}function nd(u,d,v){d=wc(d,u),u=K7(u,d);var T=u==null?u:u[Ol(go(d))];return T==null?n:St(T,u,v)}function c7(u){return Jr(u)&&Vs(u)==De}function rO(u){return Jr(u)&&Vs(u)==jt}function iO(u){return Jr(u)&&Vs(u)==pe}function rd(u,d,v,T,O){return u===d?!0:u==null||d==null||!Jr(u)&&!Jr(d)?u!==u&&d!==d:sO(u,d,v,T,rd,O)}function sO(u,d,v,T,O,G){var K=Zt(u),ae=Zt(d),de=K?Pe:Cs(u),Ie=ae?Pe:Cs(d);de=de==De?tt:de,Ie=Ie==De?tt:Ie;var Re=de==tt,Be=Ie==tt,Qe=de==Ie;if(Qe&&Sc(u)){if(!Sc(d))return!1;K=!0,Re=!1}if(Qe&&!Re)return G||(G=new Ms),K||Mf(u)?W7(u,d,v,T,O,G):PO(u,d,de,v,T,O,G);if(!(v&w)){var gt=Re&&_n.call(u,"__wrapped__"),Rt=Be&&_n.call(d,"__wrapped__");if(gt||Rt){var un=gt?u.value():u,Pt=Rt?d.value():d;return G||(G=new Ms),O(un,Pt,v,T,G)}}return Qe?(G||(G=new Ms),NO(u,d,v,T,O,G)):!1}function aO(u){return Jr(u)&&Cs(u)==qe}function pv(u,d,v,T){var O=v.length,G=O,K=!T;if(u==null)return!G;for(u=kn(u);O--;){var ae=v[O];if(K&&ae[2]?ae[1]!==u[ae[0]]:!(ae[0]in u))return!1}for(;++O<G;){ae=v[O];var de=ae[0],Ie=u[de],Re=ae[1];if(K&&ae[2]){if(Ie===n&&!(de in u))return!1}else{var Be=new Ms;if(T)var Qe=T(Ie,Re,de,u,d,Be);if(!(Qe===n?rd(Re,Ie,w|S,T,Be):Qe))return!1}}return!0}function f7(u){if(!qr(u)||HO(u))return!1;var d=wu(u)?Hs:ts;return d.test(S0(u))}function oO(u){return Jr(u)&&Vs(u)==bn}function lO(u){return Jr(u)&&Cs(u)==Ft}function uO(u){return Jr(u)&&Z1(u.length)&&!!Bt[Vs(u)]}function h7(u){return typeof u=="function"?u:u==null?Ea:typeof u=="object"?Zt(u)?m7(u[0],u[1]):p7(u):L8(u)}function mv(u){if(!ad(u))return b(u);var d=[];for(var v in kn(u))_n.call(u,v)&&v!="constructor"&&d.push(v);return d}function cO(u){if(!qr(u))return VO(u);var d=ad(u),v=[];for(var T in u)T=="constructor"&&(d||!_n.call(u,T))||v.push(T);return v}function gv(u,d){return u<d}function d7(u,d){var v=-1,T=Ta(u)?xe(u.length):[];return yc(u,function(O,G,K){T[++v]=d(O,G,K)}),T}function p7(u){var d=Rv(u);return d.length==1&&d[0][2]?Y7(d[0][0],d[0][1]):function(v){return v===u||pv(v,u,d)}}function m7(u,d){return Nv(u)&&Z7(d)?Y7(Ol(u),d):function(v){var T=Wv(v,u);return T===n&&T===d?Gv(v,u):rd(d,T,w|S)}}function R1(u,d,v,T,O){u!==d&&cv(d,function(G,K){if(O||(O=new Ms),qr(G))fO(u,d,K,v,R1,T,O);else{var ae=T?T(Ov(u,K),G,K+"",u,d,O):n;ae===n&&(ae=G),vr(u,K,ae)}},ka)}function fO(u,d,v,T,O,G,K){var ae=Ov(u,v),de=Ov(d,v),Ie=K.get(de);if(Ie){vr(u,v,Ie);return}var Re=G?G(ae,de,v+"",u,d,K):n,Be=Re===n;if(Be){var Qe=Zt(de),gt=!Qe&&Sc(de),Rt=!Qe&&!gt&&Mf(de);Re=de,Qe||gt||Rt?Zt(ae)?Re=ae:ci(ae)?Re=Sa(ae):gt?(Be=!1,Re=M7(de,!0)):Rt?(Be=!1,Re=C7(de,!0)):Re=[]:ld(de)||T0(de)?(Re=ae,T0(ae)?Re=T8(ae):(!qr(ae)||wu(ae))&&(Re=V7(de))):Be=!1}Be&&(K.set(de,Re),O(Re,de,T,G,K),K.delete(de)),vr(u,v,Re)}function g7(u,d){var v=u.length;if(v)return d+=d<0?v:0,bu(d,v)?u[d]:n}function _7(u,d,v){d.length?d=Tn(d,function(G){return Zt(G)?function(K){return w0(K,G.length===1?G[0]:G)}:G}):d=[Ea];var T=-1;d=Tn(d,Nn(At()));var O=d7(u,function(G,K,ae){var de=Tn(d,function(Ie){return Ie(G)});return{criteria:de,index:++T,value:G}});return ao(O,function(G,K){return TO(G,K,v)})}function hO(u,d){return v7(u,d,function(v,T){return Gv(u,T)})}function v7(u,d,v){for(var T=-1,O=d.length,G={};++T<O;){var K=d[T],ae=w0(u,K);v(ae,K)&&id(G,wc(K,u),ae)}return G}function dO(u){return function(d){return w0(d,u)}}function _v(u,d,v,T){var O=T?wl:qa,G=-1,K=d.length,ae=u;for(u===d&&(d=Sa(d)),v&&(ae=Tn(u,Nn(v)));++G<K;)for(var de=0,Ie=d[G],Re=v?v(Ie):Ie;(de=O(ae,Re,de,T))>-1;)ae!==u&&ho.call(ae,de,1),ho.call(u,de,1);return u}function y7(u,d){for(var v=u?d.length:0,T=v-1;v--;){var O=d[v];if(v==T||O!==G){var G=O;bu(O)?ho.call(u,O,1):wv(u,O)}}return u}function vv(u,d){return u+Al(we()*(d-u+1))}function pO(u,d,v,T){for(var O=-1,G=E(po((d-u)/(v||1)),0),K=xe(G);G--;)K[T?G:++O]=u,u+=v;return K}function yv(u,d){var v="";if(!u||d<1||d>fe)return v;do d%2&&(v+=u),d=Al(d/2),d&&(u+=u);while(d);return v}function pn(u,d){return Dv(j7(u,d,Ea),u+"")}function mO(u){return xf(Cf(u))}function gO(u,d){var v=Cf(u);return q1(v,vi(d,0,v.length))}function id(u,d,v,T){if(!qr(u))return u;d=wc(d,u);for(var O=-1,G=d.length,K=G-1,ae=u;ae!=null&&++O<G;){var de=Ol(d[O]),Ie=v;if(de==="__proto__"||de==="constructor"||de==="prototype")return u;if(O!=K){var Re=ae[de];Ie=T?T(Re,de,ae):n,Ie===n&&(Ie=qr(Re)?Re:bu(d[O+1])?[]:{})}vc(ae,de,Ie),ae=ae[de]}return u}var b7=Kr?function(u,d){return Kr.set(u,d),u}:Ea,_O=Es?function(u,d){return Es(u,"toString",{configurable:!0,enumerable:!1,value:Vv(d),writable:!0})}:Ea;function vO(u){return q1(Cf(u))}function mo(u,d,v){var T=-1,O=u.length;d<0&&(d=-d>O?0:O+d),v=v>O?O:v,v<0&&(v+=O),O=d>v?0:v-d>>>0,d>>>=0;for(var G=xe(O);++T<O;)G[T]=u[T+d];return G}function yO(u,d){var v;return yc(u,function(T,O,G){return v=d(T,O,G),!v}),!!v}function P1(u,d,v){var T=0,O=u==null?T:u.length;if(typeof d=="number"&&d===d&&O<=Ne){for(;T<O;){var G=T+O>>>1,K=u[G];K!==null&&!Ya(K)&&(v?K<=d:K<d)?T=G+1:O=G}return O}return bv(u,d,Ea,v)}function bv(u,d,v,T){var O=0,G=u==null?0:u.length;if(G===0)return 0;d=v(d);for(var K=d!==d,ae=d===null,de=Ya(d),Ie=d===n;O<G;){var Re=Al((O+G)/2),Be=v(u[Re]),Qe=Be!==n,gt=Be===null,Rt=Be===Be,un=Ya(Be);if(K)var Pt=T||Rt;else Ie?Pt=Rt&&(T||Qe):ae?Pt=Rt&&Qe&&(T||!gt):de?Pt=Rt&&Qe&&!gt&&(T||!un):gt||un?Pt=!1:Pt=T?Be<=d:Be<d;Pt?O=Re+1:G=Re}return z(G,he)}function w7(u,d){for(var v=-1,T=u.length,O=0,G=[];++v<T;){var K=u[v],ae=d?d(K):K;if(!v||!Ho(ae,de)){var de=ae;G[O++]=K===0?0:K}}return G}function x7(u){return typeof u=="number"?u:Ya(u)?Z:+u}function Za(u){if(typeof u=="string")return u;if(Zt(u))return Tn(u,Za)+"";if(Ya(u))return gu?gu.call(u):"";var d=u+"";return d=="0"&&1/u==-se?"-0":d}function bc(u,d,v){var T=-1,O=ln,G=u.length,K=!0,ae=[],de=ae;if(v)K=!1,O=xs;else if(G>=i){var Ie=d?null:IO(u);if(Ie)return zi(Ie);K=!1,O=lo,de=new _u}else de=d?[]:ae;e:for(;++T<G;){var Re=u[T],Be=d?d(Re):Re;if(Re=v||Re!==0?Re:0,K&&Be===Be){for(var Qe=de.length;Qe--;)if(de[Qe]===Be)continue e;d&&de.push(Be),ae.push(Re)}else O(de,Be,v)||(de!==ae&&de.push(Be),ae.push(Re))}return ae}function wv(u,d){return d=wc(d,u),u=K7(u,d),u==null||delete u[Ol(go(d))]}function S7(u,d,v,T){return id(u,d,v(w0(u,d)),T)}function N1(u,d,v,T){for(var O=u.length,G=T?O:-1;(T?G--:++G<O)&&d(u[G],G,u););return v?mo(u,T?0:G,T?G+1:O):mo(u,T?G+1:0,T?O:G)}function T7(u,d){var v=u;return v instanceof tn&&(v=v.value()),_l(d,function(T,O){return O.func.apply(O.thisArg,Ss([T],O.args))},v)}function xv(u,d,v){var T=u.length;if(T<2)return T?bc(u[0]):[];for(var O=-1,G=xe(T);++O<T;)for(var K=u[O],ae=-1;++ae<T;)ae!=O&&(G[O]=td(G[O]||K,u[ae],d,v));return bc(ls(G,1),d,v)}function k7(u,d,v){for(var T=-1,O=u.length,G=d.length,K={};++T<O;){var ae=T<G?d[T]:n;v(K,u[T],ae)}return K}function Sv(u){return ci(u)?u:[]}function Tv(u){return typeof u=="function"?u:Ea}function wc(u,d){return Zt(u)?u:Nv(u,d)?[u]:e8(Jn(u))}var bO=pn;function xc(u,d,v){var T=u.length;return v=v===n?T:v,!d&&v>=T?u:mo(u,d,v)}var E7=_0||function(u){return gr.clearTimeout(u)};function M7(u,d){if(d)return u.slice();var v=u.length,T=m0?m0(v):new u.constructor(v);return u.copy(T),T}function kv(u){var d=new u.constructor(u.byteLength);return new Ws(d).set(new Ws(u)),d}function wO(u,d){var v=d?kv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.byteLength)}function xO(u){var d=new u.constructor(u.source,Pn.exec(u));return d.lastIndex=u.lastIndex,d}function SO(u){return ar?kn(ar.call(u)):{}}function C7(u,d){var v=d?kv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.length)}function A7(u,d){if(u!==d){var v=u!==n,T=u===null,O=u===u,G=Ya(u),K=d!==n,ae=d===null,de=d===d,Ie=Ya(d);if(!ae&&!Ie&&!G&&u>d||G&&K&&de&&!ae&&!Ie||T&&K&&de||!v&&de||!O)return 1;if(!T&&!G&&!Ie&&u<d||Ie&&v&&O&&!T&&!G||ae&&v&&O||!K&&O||!de)return-1}return 0}function TO(u,d,v){for(var T=-1,O=u.criteria,G=d.criteria,K=O.length,ae=v.length;++T<K;){var de=A7(O[T],G[T]);if(de){if(T>=ae)return de;var Ie=v[T];return de*(Ie=="desc"?-1:1)}}return u.index-d.index}function I7(u,d,v,T){for(var O=-1,G=u.length,K=v.length,ae=-1,de=d.length,Ie=E(G-K,0),Re=xe(de+Ie),Be=!T;++ae<de;)Re[ae]=d[ae];for(;++O<K;)(Be||O<G)&&(Re[v[O]]=u[O]);for(;Ie--;)Re[ae++]=u[O++];return Re}function R7(u,d,v,T){for(var O=-1,G=u.length,K=-1,ae=v.length,de=-1,Ie=d.length,Re=E(G-ae,0),Be=xe(Re+Ie),Qe=!T;++O<Re;)Be[O]=u[O];for(var gt=O;++de<Ie;)Be[gt+de]=d[de];for(;++K<ae;)(Qe||O<G)&&(Be[gt+v[K]]=u[O++]);return Be}function Sa(u,d){var v=-1,T=u.length;for(d||(d=xe(T));++v<T;)d[v]=u[v];return d}function Ll(u,d,v,T){var O=!v;v||(v={});for(var G=-1,K=d.length;++G<K;){var ae=d[G],de=T?T(v[ae],u[ae],ae,v,u):n;de===n&&(de=u[ae]),O?xa(v,ae,de):vc(v,ae,de)}return v}function kO(u,d){return Ll(u,Pv(u),d)}function EO(u,d){return Ll(u,G7(u),d)}function L1(u,d){return function(v,T){var O=Zt(v)?zn:Pl,G=d?d():{};return O(v,u,At(T,2),G)}}function Tf(u){return pn(function(d,v){var T=-1,O=v.length,G=O>1?v[O-1]:n,K=O>2?v[2]:n;for(G=u.length>3&&typeof G=="function"?(O--,G):n,K&&Zs(v[0],v[1],K)&&(G=O<3?n:G,O=1),d=kn(d);++T<O;){var ae=v[T];ae&&u(d,ae,T,G)}return d})}function P7(u,d){return function(v,T){if(v==null)return v;if(!Ta(v))return u(v,T);for(var O=v.length,G=d?O:-1,K=kn(v);(d?G--:++G<O)&&T(K[G],G,K)!==!1;);return v}}function N7(u){return function(d,v,T){for(var O=-1,G=kn(d),K=T(d),ae=K.length;ae--;){var de=K[u?ae:++O];if(v(G[de],de,G)===!1)break}return d}}function MO(u,d,v){var T=d&I,O=sd(u);function G(){var K=this&&this!==gr&&this instanceof G?O:u;return K.apply(T?v:this,arguments)}return G}function L7(u){return function(d){d=Jn(d);var v=va(d)?li(d):n,T=v?v[0]:d.charAt(0),O=v?xc(v,1).join(""):d.slice(1);return T[u]()+O}}function kf(u){return function(d){return _l(P8(R8(d).replace(fn,"")),u,"")}}function sd(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Il(u.prototype),T=u.apply(v,d);return qr(T)?T:v}}function CO(u,d,v){var T=sd(u);function O(){for(var G=arguments.length,K=xe(G),ae=G,de=Ef(O);ae--;)K[ae]=arguments[ae];var Ie=G<3&&K[0]!==de&&K[G-1]!==de?[]:Ga(K,de);if(G-=Ie.length,G<v)return F7(u,d,O1,O.placeholder,n,K,Ie,n,n,v-G);var Re=this&&this!==gr&&this instanceof O?T:u;return St(Re,this,K)}return O}function O7(u){return function(d,v,T){var O=kn(d);if(!Ta(d)){var G=At(v,3);d=Hi(d),v=function(ae){return G(O[ae],ae,O)}}var K=u(d,v,T);return K>-1?O[G?d[K]:K]:n}}function D7(u){return yu(function(d){var v=d.length,T=v,O=qi.prototype.thru;for(u&&d.reverse();T--;){var G=d[T];if(typeof G!="function")throw new ui(a);if(O&&!K&&F1(G)=="wrapper")var K=new qi([],!0)}for(T=K?T:v;++T<v;){G=d[T];var ae=F1(G),de=ae=="wrapper"?Iv(G):n;de&&Lv(de[0])&&de[1]==(F|A|N|W)&&!de[4].length&&de[9]==1?K=K[F1(de[0])].apply(K,de[3]):K=G.length==1&&Lv(G)?K[ae]():K.thru(G)}return function(){var Ie=arguments,Re=Ie[0];if(K&&Ie.length==1&&Zt(Re))return K.plant(Re).value();for(var Be=0,Qe=v?d[Be].apply(this,Ie):Re;++Be<v;)Qe=d[Be].call(this,Qe);return Qe}})}function O1(u,d,v,T,O,G,K,ae,de,Ie){var Re=d&F,Be=d&I,Qe=d&R,gt=d&(A|C),Rt=d&$,un=Qe?n:sd(u);function Pt(){for(var wn=arguments.length,Cn=xe(wn),ja=wn;ja--;)Cn[ja]=arguments[ja];if(gt)var Ys=Ef(Pt),Ka=Us(Cn,Ys);if(T&&(Cn=I7(Cn,T,O,gt)),G&&(Cn=R7(Cn,G,K,gt)),wn-=Ka,gt&&wn<Ie){var fi=Ga(Cn,Ys);return F7(u,d,O1,Pt.placeholder,v,Cn,fi,ae,de,Ie-wn)}var Wo=Be?v:this,Su=Qe?Wo[u]:u;return wn=Cn.length,ae?Cn=YO(Cn,ae):Rt&&wn>1&&Cn.reverse(),Re&&de<wn&&(Cn.length=de),this&&this!==gr&&this instanceof Pt&&(Su=un||sd(Su)),Su.apply(Wo,Cn)}return Pt}function B7(u,d){return function(v,T){return nO(v,u,d(T),{})}}function D1(u,d){return function(v,T){var O;if(v===n&&T===n)return d;if(v!==n&&(O=v),T!==n){if(O===n)return T;typeof v=="string"||typeof T=="string"?(v=Za(v),T=Za(T)):(v=x7(v),T=x7(T)),O=u(v,T)}return O}}function Ev(u){return yu(function(d){return d=Tn(d,Nn(At())),pn(function(v){var T=this;return u(d,function(O){return St(O,T,v)})})})}function B1(u,d){d=d===n?" ":Za(d);var v=d.length;if(v<2)return v?yv(d,u):d;var T=yv(d,po(u/Ur(d)));return va(d)?xc(li(T),0,u).join(""):T.slice(0,u)}function AO(u,d,v,T){var O=d&I,G=sd(u);function K(){for(var ae=-1,de=arguments.length,Ie=-1,Re=T.length,Be=xe(Re+de),Qe=this&&this!==gr&&this instanceof K?G:u;++Ie<Re;)Be[Ie]=T[Ie];for(;de--;)Be[Ie++]=arguments[++ae];return St(Qe,O?v:this,Be)}return K}function z7(u){return function(d,v,T){return T&&typeof T!="number"&&Zs(d,v,T)&&(v=T=n),d=xu(d),v===n?(v=d,d=0):v=xu(v),T=T===n?d<v?1:-1:xu(T),pO(d,v,T,u)}}function z1(u){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=_o(d),v=_o(v)),u(d,v)}}function F7(u,d,v,T,O,G,K,ae,de,Ie){var Re=d&A,Be=Re?K:n,Qe=Re?n:K,gt=Re?G:n,Rt=Re?n:G;d|=Re?N:D,d&=~(Re?D:N),d&k||(d&=~(I|R));var un=[u,d,O,gt,Be,Rt,Qe,ae,de,Ie],Pt=v.apply(n,un);return Lv(u)&&X7(Pt,un),Pt.placeholder=T,J7(Pt,u,d)}function Mv(u){var d=Nr[u];return function(v,T){if(v=_o(v),T=T==null?0:z(nn(T),292),T&&h(v)){var O=(Jn(v)+"e").split("e"),G=d(O[0]+"e"+(+O[1]+T));return O=(Jn(G)+"e").split("e"),+(O[0]+"e"+(+O[1]-T))}return d(v)}}var IO=sr&&1/zi(new sr([,-0]))[1]==se?function(u){return new sr(u)}:jv;function U7(u){return function(d){var v=Cs(d);return v==qe?co(d):v==Ft?vf(d):h0(d,u(d))}}function vu(u,d,v,T,O,G,K,ae){var de=d&R;if(!de&&typeof u!="function")throw new ui(a);var Ie=T?T.length:0;if(Ie||(d&=~(N|D),T=O=n),K=K===n?K:E(nn(K),0),ae=ae===n?ae:nn(ae),Ie-=O?O.length:0,d&D){var Re=T,Be=O;T=O=n}var Qe=de?n:Iv(u),gt=[u,d,v,T,O,Re,Be,G,K,ae];if(Qe&&$O(gt,Qe),u=gt[0],d=gt[1],v=gt[2],T=gt[3],O=gt[4],ae=gt[9]=gt[9]===n?de?0:u.length:E(gt[9]-Ie,0),!ae&&d&(A|C)&&(d&=~(A|C)),!d||d==I)var Rt=MO(u,d,v);else d==A||d==C?Rt=CO(u,d,ae):(d==N||d==(I|N))&&!O.length?Rt=AO(u,d,v,T):Rt=O1.apply(n,gt);var un=Qe?b7:X7;return J7(un(Rt,gt),u,d)}function q7(u,d,v,T){return u===n||Ho(u,fo[v])&&!_n.call(T,v)?d:u}function H7(u,d,v,T,O,G){return qr(u)&&qr(d)&&(G.set(d,u),R1(u,d,n,H7,G),G.delete(d)),u}function RO(u){return ld(u)?n:u}function W7(u,d,v,T,O,G){var K=v&w,ae=u.length,de=d.length;if(ae!=de&&!(K&&de>ae))return!1;var Ie=G.get(u),Re=G.get(d);if(Ie&&Re)return Ie==d&&Re==u;var Be=-1,Qe=!0,gt=v&S?new _u:n;for(G.set(u,d),G.set(d,u);++Be<ae;){var Rt=u[Be],un=d[Be];if(T)var Pt=K?T(un,Rt,Be,d,u,G):T(Rt,un,Be,u,d,G);if(Pt!==n){if(Pt)continue;Qe=!1;break}if(gt){if(!vl(d,function(wn,Cn){if(!lo(gt,Cn)&&(Rt===wn||O(Rt,wn,v,T,G)))return gt.push(Cn)})){Qe=!1;break}}else if(!(Rt===un||O(Rt,un,v,T,G))){Qe=!1;break}}return G.delete(u),G.delete(d),Qe}function PO(u,d,v,T,O,G,K){switch(v){case Vn:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case jt:return!(u.byteLength!=d.byteLength||!G(new Ws(u),new Ws(d)));case Ee:case pe:case ct:return Ho(+u,+d);case Le:return u.name==d.name&&u.message==d.message;case bn:case mn:return u==d+"";case qe:var ae=co;case Ft:var de=T&w;if(ae||(ae=zi),u.size!=d.size&&!de)return!1;var Ie=K.get(u);if(Ie)return Ie==d;T|=S,K.set(u,d);var Re=W7(ae(u),ae(d),T,O,G,K);return K.delete(u),Re;case Gn:if(ar)return ar.call(u)==ar.call(d)}return!1}function NO(u,d,v,T,O,G){var K=v&w,ae=Cv(u),de=ae.length,Ie=Cv(d),Re=Ie.length;if(de!=Re&&!K)return!1;for(var Be=de;Be--;){var Qe=ae[Be];if(!(K?Qe in d:_n.call(d,Qe)))return!1}var gt=G.get(u),Rt=G.get(d);if(gt&&Rt)return gt==d&&Rt==u;var un=!0;G.set(u,d),G.set(d,u);for(var Pt=K;++Be<de;){Qe=ae[Be];var wn=u[Qe],Cn=d[Qe];if(T)var ja=K?T(Cn,wn,Qe,d,u,G):T(wn,Cn,Qe,u,d,G);if(!(ja===n?wn===Cn||O(wn,Cn,v,T,G):ja)){un=!1;break}Pt||(Pt=Qe=="constructor")}if(un&&!Pt){var Ys=u.constructor,Ka=d.constructor;Ys!=Ka&&"constructor"in u&&"constructor"in d&&!(typeof Ys=="function"&&Ys instanceof Ys&&typeof Ka=="function"&&Ka instanceof Ka)&&(un=!1)}return G.delete(u),G.delete(d),un}function yu(u){return Dv(j7(u,n,i8),u+"")}function Cv(u){return u7(u,Hi,Pv)}function Av(u){return u7(u,ka,G7)}var Iv=Kr?function(u){return Kr.get(u)}:jv;function F1(u){for(var d=u.name+"",v=Gs[d],T=_n.call(Gs,d)?v.length:0;T--;){var O=v[T],G=O.func;if(G==null||G==u)return O.name}return d}function Ef(u){var d=_n.call(U,"placeholder")?U:u;return d.placeholder}function At(){var u=U.iteratee||Zv;return u=u===Zv?h7:u,arguments.length?u(arguments[0],arguments[1]):u}function U1(u,d){var v=u.__data__;return qO(d)?v[typeof d=="string"?"string":"hash"]:v.map}function Rv(u){for(var d=Hi(u),v=d.length;v--;){var T=d[v],O=u[T];d[v]=[T,O,Z7(O)]}return d}function x0(u,d){var v=lu(u,d);return f7(v)?v:n}function LO(u){var d=_n.call(u,Va),v=u[Va];try{u[Va]=n;var T=!0}catch{}var O=Ml.call(u);return T&&(d?u[Va]=v:delete u[Va]),O}var Pv=is?function(u){return u==null?[]:(u=kn(u),hn(is(u),function(d){return Ui.call(u,d)}))}:Kv,G7=is?function(u){for(var d=[];u;)Ss(d,Pv(u)),u=$a(u);return d}:Kv,Cs=Vs;(Je&&Cs(new Je(new ArrayBuffer(1)))!=Vn||_t&&Cs(new _t)!=qe||Wt&&Cs(Wt.resolve())!=kt||sr&&Cs(new sr)!=Ft||ft&&Cs(new ft)!=$n)&&(Cs=function(u){var d=Vs(u),v=d==tt?u.constructor:n,T=v?S0(v):"";if(T)switch(T){case jh:return Vn;case Kh:return qe;case Xh:return kt;case bf:return Ft;case Jh:return $n}return d});function OO(u,d,v){for(var T=-1,O=v.length;++T<O;){var G=v[T],K=G.size;switch(G.type){case"drop":u+=K;break;case"dropRight":d-=K;break;case"take":d=z(d,u+K);break;case"takeRight":u=E(u,d-K);break}}return{start:u,end:d}}function DO(u){var d=u.match(Tr);return d?d[1].split(gs):[]}function $7(u,d,v){d=wc(d,u);for(var T=-1,O=d.length,G=!1;++T<O;){var K=Ol(d[T]);if(!(G=u!=null&&v(u,K)))break;u=u[K]}return G||++T!=O?G:(O=u==null?0:u.length,!!O&&Z1(O)&&bu(K,O)&&(Zt(u)||T0(u)))}function BO(u){var d=u.length,v=new u.constructor(d);return d&&typeof u[0]=="string"&&_n.call(u,"index")&&(v.index=u.index,v.input=u.input),v}function V7(u){return typeof u.constructor=="function"&&!ad(u)?Il($a(u)):{}}function zO(u,d,v){var T=u.constructor;switch(d){case jt:return kv(u);case Ee:case pe:return new T(+u);case Vn:return wO(u,v);case er:case di:case rr:case tr:case Or:case Xn:case mt:case an:case Ir:return C7(u,v);case qe:return new T;case ct:case mn:return new T(u);case bn:return xO(u);case Ft:return new T;case Gn:return SO(u)}}function FO(u,d){var v=d.length;if(!v)return u;var T=v-1;return d[T]=(v>1?"& ":"")+d[T],d=d.join(v>2?", ":" "),u.replace(st,`{
/* [wrapped with `+d+`] */
`)}function UO(u){return Zt(u)||T0(u)||!!(g0&&u&&u[g0])}function bu(u,d){var v=typeof u;return d=d??fe,!!d&&(v=="number"||v!="symbol"&&vs.test(u))&&u>-1&&u%1==0&&u<d}function Zs(u,d,v){if(!qr(v))return!1;var T=typeof d;return(T=="number"?Ta(v)&&bu(d,v.length):T=="string"&&d in v)?Ho(v[d],u):!1}function Nv(u,d){if(Zt(u))return!1;var v=typeof u;return v=="number"||v=="symbol"||v=="boolean"||u==null||Ya(u)?!0:Os.test(u)||!ps.test(u)||d!=null&&u in kn(d)}function qO(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Lv(u){var d=F1(u),v=U[d];if(typeof v!="function"||!(d in tn.prototype))return!1;if(u===v)return!0;var T=Iv(v);return!!T&&u===T[0]}function HO(u){return!!ya&&ya in u}var WO=Bo?wu:Xv;function ad(u){var d=u&&u.constructor,v=typeof d=="function"&&d.prototype||fo;return u===v}function Z7(u){return u===u&&!qr(u)}function Y7(u,d){return function(v){return v==null?!1:v[u]===d&&(d!==n||u in kn(v))}}function GO(u){var d=$1(u,function(T){return v.size===f&&v.clear(),T}),v=d.cache;return d}function $O(u,d){var v=u[1],T=d[1],O=v|T,G=O<(I|R|F),K=T==F&&v==A||T==F&&v==W&&u[7].length<=d[8]||T==(F|W)&&d[7].length<=d[8]&&v==A;if(!(G||K))return u;T&I&&(u[2]=d[2],O|=v&I?0:k);var ae=d[3];if(ae){var de=u[3];u[3]=de?I7(de,ae,d[4]):ae,u[4]=de?Ga(u[3],p):d[4]}return ae=d[5],ae&&(de=u[5],u[5]=de?R7(de,ae,d[6]):ae,u[6]=de?Ga(u[5],p):d[6]),ae=d[7],ae&&(u[7]=ae),T&F&&(u[8]=u[8]==null?d[8]:z(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=O,u}function VO(u){var d=[];if(u!=null)for(var v in kn(u))d.push(v);return d}function ZO(u){return Ml.call(u)}function j7(u,d,v){return d=E(d===n?u.length-1:d,0),function(){for(var T=arguments,O=-1,G=E(T.length-d,0),K=xe(G);++O<G;)K[O]=T[d+O];O=-1;for(var ae=xe(d+1);++O<d;)ae[O]=T[O];return ae[d]=v(K),St(u,this,ae)}}function K7(u,d){return d.length<2?u:w0(u,mo(d,0,-1))}function YO(u,d){for(var v=u.length,T=z(d.length,v),O=Sa(u);T--;){var G=d[T];u[T]=bu(G,v)?O[G]:n}return u}function Ov(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var X7=Q7(b7),od=v0||function(u,d){return gr.setTimeout(u,d)},Dv=Q7(_O);function J7(u,d,v){var T=d+"";return Dv(u,FO(T,jO(DO(T),v)))}function Q7(u){var d=0,v=0;return function(){var T=ee(),O=me-(T-v);if(v=T,O>0){if(++d>=te)return arguments[0]}else d=0;return u.apply(n,arguments)}}function q1(u,d){var v=-1,T=u.length,O=T-1;for(d=d===n?T:d;++v<d;){var G=vv(v,O),K=u[G];u[G]=u[v],u[v]=K}return u.length=d,u}var e8=GO(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(ha,function(v,T,O,G){d.push(O?G.replace(kr,"$1"):T||v)}),d});function Ol(u){if(typeof u=="string"||Ya(u))return u;var d=u+"";return d=="0"&&1/u==-se?"-0":d}function S0(u){if(u!=null){try{return du.call(u)}catch{}try{return u+""}catch{}}return""}function jO(u,d){return In(Ue,function(v){var T="_."+v[0];d&v[1]&&!ln(u,T)&&u.push(T)}),u.sort()}function t8(u){if(u instanceof tn)return u.clone();var d=new qi(u.__wrapped__,u.__chain__);return d.__actions__=Sa(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function KO(u,d,v){(v?Zs(u,d,v):d===n)?d=1:d=E(nn(d),0);var T=u==null?0:u.length;if(!T||d<1)return[];for(var O=0,G=0,K=xe(po(T/d));O<T;)K[G++]=mo(u,O,O+=d);return K}function XO(u){for(var d=-1,v=u==null?0:u.length,T=0,O=[];++d<v;){var G=u[d];G&&(O[T++]=G)}return O}function JO(){var u=arguments.length;if(!u)return[];for(var d=xe(u-1),v=arguments[0],T=u;T--;)d[T-1]=arguments[T];return Ss(Zt(v)?Sa(v):[v],ls(d,1))}var QO=pn(function(u,d){return ci(u)?td(u,ls(d,1,ci,!0)):[]}),eD=pn(function(u,d){var v=go(d);return ci(v)&&(v=n),ci(u)?td(u,ls(d,1,ci,!0),At(v,2)):[]}),tD=pn(function(u,d){var v=go(d);return ci(v)&&(v=n),ci(u)?td(u,ls(d,1,ci,!0),n,v):[]});function nD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),mo(u,d<0?0:d,T)):[]}function rD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,mo(u,0,d<0?0:d)):[]}function iD(u,d){return u&&u.length?N1(u,At(d,3),!0,!0):[]}function sD(u,d){return u&&u.length?N1(u,At(d,3),!0):[]}function aD(u,d,v,T){var O=u==null?0:u.length;return O?(v&&typeof v!="number"&&Zs(u,d,v)&&(v=0,T=O),JL(u,d,v,T)):[]}function n8(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),oi(u,At(d,3),O)}function r8(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T-1;return v!==n&&(O=nn(v),O=v<0?E(T+O,0):z(O,T-1)),oi(u,At(d,3),O,!0)}function i8(u){var d=u==null?0:u.length;return d?ls(u,1):[]}function oD(u){var d=u==null?0:u.length;return d?ls(u,se):[]}function lD(u,d){var v=u==null?0:u.length;return v?(d=d===n?1:nn(d),ls(u,d)):[]}function uD(u){for(var d=-1,v=u==null?0:u.length,T={};++d<v;){var O=u[d];T[O[0]]=O[1]}return T}function s8(u){return u&&u.length?u[0]:n}function cD(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),qa(u,d,O)}function fD(u){var d=u==null?0:u.length;return d?mo(u,0,-1):[]}var hD=pn(function(u){var d=Tn(u,Sv);return d.length&&d[0]===u[0]?dv(d):[]}),dD=pn(function(u){var d=go(u),v=Tn(u,Sv);return d===go(v)?d=n:v.pop(),v.length&&v[0]===u[0]?dv(v,At(d,2)):[]}),pD=pn(function(u){var d=go(u),v=Tn(u,Sv);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===u[0]?dv(v,n,d):[]});function mD(u,d){return u==null?"":_.call(u,d)}function go(u){var d=u==null?0:u.length;return d?u[d-1]:n}function gD(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T;return v!==n&&(O=nn(v),O=O<0?E(T+O,0):z(O,T-1)),d===d?yf(u,d,O):oi(u,Bi,O,!0)}function _D(u,d){return u&&u.length?g7(u,nn(d)):n}var vD=pn(a8);function a8(u,d){return u&&u.length&&d&&d.length?_v(u,d):u}function yD(u,d,v){return u&&u.length&&d&&d.length?_v(u,d,At(v,2)):u}function bD(u,d,v){return u&&u.length&&d&&d.length?_v(u,d,n,v):u}var wD=yu(function(u,d){var v=u==null?0:u.length,T=b0(u,d);return y7(u,Tn(d,function(O){return bu(O,v)?+O:O}).sort(A7)),T});function xD(u,d){var v=[];if(!(u&&u.length))return v;var T=-1,O=[],G=u.length;for(d=At(d,3);++T<G;){var K=u[T];d(K,T,u)&&(v.push(K),O.push(T))}return y7(u,O),v}function Bv(u){return u==null?u:Me.call(u)}function SD(u,d,v){var T=u==null?0:u.length;return T?(v&&typeof v!="number"&&Zs(u,d,v)?(d=0,v=T):(d=d==null?0:nn(d),v=v===n?T:nn(v)),mo(u,d,v)):[]}function TD(u,d){return P1(u,d)}function kD(u,d,v){return bv(u,d,At(v,2))}function ED(u,d){var v=u==null?0:u.length;if(v){var T=P1(u,d);if(T<v&&Ho(u[T],d))return T}return-1}function MD(u,d){return P1(u,d,!0)}function CD(u,d,v){return bv(u,d,At(v,2),!0)}function AD(u,d){var v=u==null?0:u.length;if(v){var T=P1(u,d,!0)-1;if(Ho(u[T],d))return T}return-1}function ID(u){return u&&u.length?w7(u):[]}function RD(u,d){return u&&u.length?w7(u,At(d,2)):[]}function PD(u){var d=u==null?0:u.length;return d?mo(u,1,d):[]}function ND(u,d,v){return u&&u.length?(d=v||d===n?1:nn(d),mo(u,0,d<0?0:d)):[]}function LD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,mo(u,d<0?0:d,T)):[]}function OD(u,d){return u&&u.length?N1(u,At(d,3),!1,!0):[]}function DD(u,d){return u&&u.length?N1(u,At(d,3)):[]}var BD=pn(function(u){return bc(ls(u,1,ci,!0))}),zD=pn(function(u){var d=go(u);return ci(d)&&(d=n),bc(ls(u,1,ci,!0),At(d,2))}),FD=pn(function(u){var d=go(u);return d=typeof d=="function"?d:n,bc(ls(u,1,ci,!0),n,d)});function UD(u){return u&&u.length?bc(u):[]}function qD(u,d){return u&&u.length?bc(u,At(d,2)):[]}function HD(u,d){return d=typeof d=="function"?d:n,u&&u.length?bc(u,n,d):[]}function zv(u){if(!(u&&u.length))return[];var d=0;return u=hn(u,function(v){if(ci(v))return d=E(v.length,d),!0}),xl(d,function(v){return Tn(u,Si(v))})}function o8(u,d){if(!(u&&u.length))return[];var v=zv(u);return d==null?v:Tn(v,function(T){return St(d,n,T)})}var WD=pn(function(u,d){return ci(u)?td(u,d):[]}),GD=pn(function(u){return xv(hn(u,ci))}),$D=pn(function(u){var d=go(u);return ci(d)&&(d=n),xv(hn(u,ci),At(d,2))}),VD=pn(function(u){var d=go(u);return d=typeof d=="function"?d:n,xv(hn(u,ci),n,d)}),ZD=pn(zv);function YD(u,d){return k7(u||[],d||[],vc)}function jD(u,d){return k7(u||[],d||[],id)}var KD=pn(function(u){var d=u.length,v=d>1?u[d-1]:n;return v=typeof v=="function"?(u.pop(),v):n,o8(u,v)});function l8(u){var d=U(u);return d.__chain__=!0,d}function XD(u,d){return d(u),u}function H1(u,d){return d(u)}var JD=yu(function(u){var d=u.length,v=d?u[0]:0,T=this.__wrapped__,O=function(G){return b0(G,u)};return d>1||this.__actions__.length||!(T instanceof tn)||!bu(v)?this.thru(O):(T=T.slice(v,+v+(d?1:0)),T.__actions__.push({func:H1,args:[O],thisArg:n}),new qi(T,this.__chain__).thru(function(G){return d&&!G.length&&G.push(n),G}))});function QD(){return l8(this)}function eB(){return new qi(this.value(),this.__chain__)}function tB(){this.__values__===n&&(this.__values__=x8(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function nB(){return this}function rB(u){for(var d,v=this;v instanceof gc;){var T=t8(v);T.__index__=0,T.__values__=n,d?O.__wrapped__=T:d=T;var O=T;v=v.__wrapped__}return O.__wrapped__=u,d}function iB(){var u=this.__wrapped__;if(u instanceof tn){var d=u;return this.__actions__.length&&(d=new tn(this)),d=d.reverse(),d.__actions__.push({func:H1,args:[Bv],thisArg:n}),new qi(d,this.__chain__)}return this.thru(Bv)}function sB(){return T7(this.__wrapped__,this.__actions__)}var aB=L1(function(u,d,v){_n.call(u,v)?++u[v]:xa(u,v,1)});function oB(u,d,v){var T=Zt(u)?Mn:XL;return v&&Zs(u,d,v)&&(d=n),T(u,At(d,3))}function lB(u,d){var v=Zt(u)?hn:o7;return v(u,At(d,3))}var uB=O7(n8),cB=O7(r8);function fB(u,d){return ls(W1(u,d),1)}function hB(u,d){return ls(W1(u,d),se)}function dB(u,d,v){return v=v===n?1:nn(v),ls(W1(u,d),v)}function u8(u,d){var v=Zt(u)?In:yc;return v(u,At(d,3))}function c8(u,d){var v=Zt(u)?Tt:a7;return v(u,At(d,3))}var pB=L1(function(u,d,v){_n.call(u,v)?u[v].push(d):xa(u,v,[d])});function mB(u,d,v,T){u=Ta(u)?u:Cf(u),v=v&&!T?nn(v):0;var O=u.length;return v<0&&(v=E(O+v,0)),Y1(u)?v<=O&&u.indexOf(d,v)>-1:!!O&&qa(u,d,v)>-1}var gB=pn(function(u,d,v){var T=-1,O=typeof d=="function",G=Ta(u)?xe(u.length):[];return yc(u,function(K){G[++T]=O?St(d,K,v):nd(K,d,v)}),G}),_B=L1(function(u,d,v){xa(u,v,d)});function W1(u,d){var v=Zt(u)?Tn:d7;return v(u,At(d,3))}function vB(u,d,v,T){return u==null?[]:(Zt(d)||(d=d==null?[]:[d]),v=T?n:v,Zt(v)||(v=v==null?[]:[v]),_7(u,d,v))}var yB=L1(function(u,d,v){u[v?0:1].push(d)},function(){return[[],[]]});function bB(u,d,v){var T=Zt(u)?_l:Ar,O=arguments.length<3;return T(u,At(d,4),v,O,yc)}function wB(u,d,v){var T=Zt(u)?ma:Ar,O=arguments.length<3;return T(u,At(d,4),v,O,a7)}function xB(u,d){var v=Zt(u)?hn:o7;return v(u,V1(At(d,3)))}function SB(u){var d=Zt(u)?xf:mO;return d(u)}function TB(u,d,v){(v?Zs(u,d,v):d===n)?d=1:d=nn(d);var T=Zt(u)?ne:gO;return T(u,d)}function kB(u){var d=Zt(u)?Oe:vO;return d(u)}function EB(u){if(u==null)return 0;if(Ta(u))return Y1(u)?Ur(u):u.length;var d=Cs(u);return d==qe||d==Ft?u.size:mv(u).length}function MB(u,d,v){var T=Zt(u)?vl:yO;return v&&Zs(u,d,v)&&(d=n),T(u,At(d,3))}var CB=pn(function(u,d){if(u==null)return[];var v=d.length;return v>1&&Zs(u,d[0],d[1])?d=[]:v>2&&Zs(d[0],d[1],d[2])&&(d=[d[0]]),_7(u,ls(d,1),[])}),G1=pu||function(){return gr.Date.now()};function AB(u,d){if(typeof d!="function")throw new ui(a);return u=nn(u),function(){if(--u<1)return d.apply(this,arguments)}}function f8(u,d,v){return d=v?n:d,d=u&&d==null?u.length:d,vu(u,F,n,n,n,n,d)}function h8(u,d){var v;if(typeof d!="function")throw new ui(a);return u=nn(u),function(){return--u>0&&(v=d.apply(this,arguments)),u<=1&&(d=n),v}}var Fv=pn(function(u,d,v){var T=I;if(v.length){var O=Ga(v,Ef(Fv));T|=N}return vu(u,T,d,v,O)}),d8=pn(function(u,d,v){var T=I|R;if(v.length){var O=Ga(v,Ef(d8));T|=N}return vu(d,T,u,v,O)});function p8(u,d,v){d=v?n:d;var T=vu(u,A,n,n,n,n,n,d);return T.placeholder=p8.placeholder,T}function m8(u,d,v){d=v?n:d;var T=vu(u,C,n,n,n,n,n,d);return T.placeholder=m8.placeholder,T}function g8(u,d,v){var T,O,G,K,ae,de,Ie=0,Re=!1,Be=!1,Qe=!0;if(typeof u!="function")throw new ui(a);d=_o(d)||0,qr(v)&&(Re=!!v.leading,Be="maxWait"in v,G=Be?E(_o(v.maxWait)||0,d):G,Qe="trailing"in v?!!v.trailing:Qe);function gt(fi){var Wo=T,Su=O;return T=O=n,Ie=fi,K=u.apply(Su,Wo),K}function Rt(fi){return Ie=fi,ae=od(wn,d),Re?gt(fi):K}function un(fi){var Wo=fi-de,Su=fi-Ie,O8=d-Wo;return Be?z(O8,G-Su):O8}function Pt(fi){var Wo=fi-de,Su=fi-Ie;return de===n||Wo>=d||Wo<0||Be&&Su>=G}function wn(){var fi=G1();if(Pt(fi))return Cn(fi);ae=od(wn,un(fi))}function Cn(fi){return ae=n,Qe&&T?gt(fi):(T=O=n,K)}function ja(){ae!==n&&E7(ae),Ie=0,T=de=O=ae=n}function Ys(){return ae===n?K:Cn(G1())}function Ka(){var fi=G1(),Wo=Pt(fi);if(T=arguments,O=this,de=fi,Wo){if(ae===n)return Rt(de);if(Be)return E7(ae),ae=od(wn,d),gt(de)}return ae===n&&(ae=od(wn,d)),K}return Ka.cancel=ja,Ka.flush=Ys,Ka}var IB=pn(function(u,d){return s7(u,1,d)}),RB=pn(function(u,d,v){return s7(u,_o(d)||0,v)});function PB(u){return vu(u,$)}function $1(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ui(a);var v=function(){var T=arguments,O=d?d.apply(this,T):T[0],G=v.cache;if(G.has(O))return G.get(O);var K=u.apply(this,T);return v.cache=G.set(O,K)||G,K};return v.cache=new($1.Cache||qo),v}$1.Cache=qo;function V1(u){if(typeof u!="function")throw new ui(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function NB(u){return h8(2,u)}var LB=bO(function(u,d){d=d.length==1&&Zt(d[0])?Tn(d[0],Nn(At())):Tn(ls(d,1),Nn(At()));var v=d.length;return pn(function(T){for(var O=-1,G=z(T.length,v);++O<G;)T[O]=d[O].call(this,T[O]);return St(u,this,T)})}),Uv=pn(function(u,d){var v=Ga(d,Ef(Uv));return vu(u,N,n,d,v)}),_8=pn(function(u,d){var v=Ga(d,Ef(_8));return vu(u,D,n,d,v)}),OB=yu(function(u,d){return vu(u,W,n,n,n,d)});function DB(u,d){if(typeof u!="function")throw new ui(a);return d=d===n?d:nn(d),pn(u,d)}function BB(u,d){if(typeof u!="function")throw new ui(a);return d=d==null?0:E(nn(d),0),pn(function(v){var T=v[d],O=xc(v,0,d);return T&&Ss(O,T),St(u,this,O)})}function zB(u,d,v){var T=!0,O=!0;if(typeof u!="function")throw new ui(a);return qr(v)&&(T="leading"in v?!!v.leading:T,O="trailing"in v?!!v.trailing:O),g8(u,d,{leading:T,maxWait:d,trailing:O})}function FB(u){return f8(u,1)}function UB(u,d){return Uv(Tv(d),u)}function qB(){if(!arguments.length)return[];var u=arguments[0];return Zt(u)?u:[u]}function HB(u){return $s(u,y)}function WB(u,d){return d=typeof d=="function"?d:n,$s(u,y,d)}function GB(u){return $s(u,m|y)}function $B(u,d){return d=typeof d=="function"?d:n,$s(u,m|y,d)}function VB(u,d){return d==null||i7(u,d,Hi(d))}function Ho(u,d){return u===d||u!==u&&d!==d}var ZB=z1(hv),YB=z1(function(u,d){return u>=d}),T0=c7(function(){return arguments}())?c7:function(u){return Jr(u)&&_n.call(u,"callee")&&!Ui.call(u,"callee")},Zt=xe.isArray,jB=re?Nn(re):rO;function Ta(u){return u!=null&&Z1(u.length)&&!wu(u)}function ci(u){return Jr(u)&&Ta(u)}function KB(u){return u===!0||u===!1||Jr(u)&&Vs(u)==Ee}var Sc=o||Xv,XB=Te?Nn(Te):iO;function JB(u){return Jr(u)&&u.nodeType===1&&!ld(u)}function QB(u){if(u==null)return!0;if(Ta(u)&&(Zt(u)||typeof u=="string"||typeof u.splice=="function"||Sc(u)||Mf(u)||T0(u)))return!u.length;var d=Cs(u);if(d==qe||d==Ft)return!u.size;if(ad(u))return!mv(u).length;for(var v in u)if(_n.call(u,v))return!1;return!0}function ez(u,d){return rd(u,d)}function tz(u,d,v){v=typeof v=="function"?v:n;var T=v?v(u,d):n;return T===n?rd(u,d,n,v):!!T}function qv(u){if(!Jr(u))return!1;var d=Vs(u);return d==Le||d==Ae||typeof u.message=="string"&&typeof u.name=="string"&&!ld(u)}function nz(u){return typeof u=="number"&&h(u)}function wu(u){if(!qr(u))return!1;var d=Vs(u);return d==be||d==Ke||d==ke||d==nt}function v8(u){return typeof u=="number"&&u==nn(u)}function Z1(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=fe}function qr(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Jr(u){return u!=null&&typeof u=="object"}var y8=ze?Nn(ze):aO;function rz(u,d){return u===d||pv(u,d,Rv(d))}function iz(u,d,v){return v=typeof v=="function"?v:n,pv(u,d,Rv(d),v)}function sz(u){return b8(u)&&u!=+u}function az(u){if(WO(u))throw new Nt(s);return f7(u)}function oz(u){return u===null}function lz(u){return u==null}function b8(u){return typeof u=="number"||Jr(u)&&Vs(u)==ct}function ld(u){if(!Jr(u)||Vs(u)!=tt)return!1;var d=$a(u);if(d===null)return!0;var v=_n.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&du.call(v)==ba}var Hv=$e?Nn($e):oO;function uz(u){return v8(u)&&u>=-fe&&u<=fe}var w8=xt?Nn(xt):lO;function Y1(u){return typeof u=="string"||!Zt(u)&&Jr(u)&&Vs(u)==mn}function Ya(u){return typeof u=="symbol"||Jr(u)&&Vs(u)==Gn}var Mf=yt?Nn(yt):uO;function cz(u){return u===n}function fz(u){return Jr(u)&&Cs(u)==$n}function hz(u){return Jr(u)&&Vs(u)==ot}var dz=z1(gv),pz=z1(function(u,d){return u<=d});function x8(u){if(!u)return[];if(Ta(u))return Y1(u)?li(u):Sa(u);if(wa&&u[wa])return uu(u[wa]());var d=Cs(u),v=d==qe?co:d==Ft?zi:Cf;return v(u)}function xu(u){if(!u)return u===0?u:0;if(u=_o(u),u===se||u===-se){var d=u<0?-1:1;return d*oe}return u===u?u:0}function nn(u){var d=xu(u),v=d%1;return d===d?v?d-v:d:0}function S8(u){return u?vi(nn(u),0,Q):0}function _o(u){if(typeof u=="number")return u;if(Ya(u))return Z;if(qr(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=qr(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=oo(u);var v=gi.test(u);return v||ns.test(u)?dl(u.slice(2),v?2:8):_s.test(u)?Z:+u}function T8(u){return Ll(u,ka(u))}function mz(u){return u?vi(nn(u),-fe,fe):u===0?u:0}function Jn(u){return u==null?"":Za(u)}var gz=Tf(function(u,d){if(ad(d)||Ta(d)){Ll(d,Hi(d),u);return}for(var v in d)_n.call(d,v)&&vc(u,v,d[v])}),k8=Tf(function(u,d){Ll(d,ka(d),u)}),j1=Tf(function(u,d,v,T){Ll(d,ka(d),u,T)}),_z=Tf(function(u,d,v,T){Ll(d,Hi(d),u,T)}),vz=yu(b0);function yz(u,d){var v=Il(u);return d==null?v:os(v,d)}var bz=pn(function(u,d){u=kn(u);var v=-1,T=d.length,O=T>2?d[2]:n;for(O&&Zs(d[0],d[1],O)&&(T=1);++v<T;)for(var G=d[v],K=ka(G),ae=-1,de=K.length;++ae<de;){var Ie=K[ae],Re=u[Ie];(Re===n||Ho(Re,fo[Ie])&&!_n.call(u,Ie))&&(u[Ie]=G[Ie])}return u}),wz=pn(function(u){return u.push(n,H7),St(E8,n,u)});function xz(u,d){return bl(u,At(d,3),Nl)}function Sz(u,d){return bl(u,At(d,3),fv)}function Tz(u,d){return u==null?u:cv(u,At(d,3),ka)}function kz(u,d){return u==null?u:l7(u,At(d,3),ka)}function Ez(u,d){return u&&Nl(u,At(d,3))}function Mz(u,d){return u&&fv(u,At(d,3))}function Cz(u){return u==null?[]:I1(u,Hi(u))}function Az(u){return u==null?[]:I1(u,ka(u))}function Wv(u,d,v){var T=u==null?n:w0(u,d);return T===n?v:T}function Iz(u,d){return u!=null&&$7(u,d,QL)}function Gv(u,d){return u!=null&&$7(u,d,eO)}var Rz=B7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Ml.call(d)),u[d]=v},Vv(Ea)),Pz=B7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Ml.call(d)),_n.call(u,d)?u[d].push(v):u[d]=[v]},At),Nz=pn(nd);function Hi(u){return Ta(u)?C1(u):mv(u)}function ka(u){return Ta(u)?C1(u,!0):cO(u)}function Lz(u,d){var v={};return d=At(d,3),Nl(u,function(T,O,G){xa(v,d(T,O,G),T)}),v}function Oz(u,d){var v={};return d=At(d,3),Nl(u,function(T,O,G){xa(v,O,d(T,O,G))}),v}var Dz=Tf(function(u,d,v){R1(u,d,v)}),E8=Tf(function(u,d,v,T){R1(u,d,v,T)}),Bz=yu(function(u,d){var v={};if(u==null)return v;var T=!1;d=Tn(d,function(G){return G=wc(G,u),T||(T=G.length>1),G}),Ll(u,Av(u),v),T&&(v=$s(v,m|g|y,RO));for(var O=d.length;O--;)wv(v,d[O]);return v});function zz(u,d){return M8(u,V1(At(d)))}var Fz=yu(function(u,d){return u==null?{}:hO(u,d)});function M8(u,d){if(u==null)return{};var v=Tn(Av(u),function(T){return[T]});return d=At(d),v7(u,v,function(T,O){return d(T,O[0])})}function Uz(u,d,v){d=wc(d,u);var T=-1,O=d.length;for(O||(O=1,u=n);++T<O;){var G=u==null?n:u[Ol(d[T])];G===n&&(T=O,G=v),u=wu(G)?G.call(u):G}return u}function qz(u,d,v){return u==null?u:id(u,d,v)}function Hz(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:id(u,d,v,T)}var C8=U7(Hi),A8=U7(ka);function Wz(u,d,v){var T=Zt(u),O=T||Sc(u)||Mf(u);if(d=At(d,4),v==null){var G=u&&u.constructor;O?v=T?new G:[]:qr(u)?v=wu(G)?Il($a(u)):{}:v={}}return(O?In:Nl)(u,function(K,ae,de){return d(v,K,ae,de)}),v}function Gz(u,d){return u==null?!0:wv(u,d)}function $z(u,d,v){return u==null?u:S7(u,d,Tv(v))}function Vz(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:S7(u,d,Tv(v),T)}function Cf(u){return u==null?[]:Ha(u,Hi(u))}function Zz(u){return u==null?[]:Ha(u,ka(u))}function Yz(u,d,v){return v===n&&(v=d,d=n),v!==n&&(v=_o(v),v=v===v?v:0),d!==n&&(d=_o(d),d=d===d?d:0),vi(_o(u),d,v)}function jz(u,d,v){return d=xu(d),v===n?(v=d,d=0):v=xu(v),u=_o(u),tO(u,d,v)}function Kz(u,d,v){if(v&&typeof v!="boolean"&&Zs(u,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof u=="boolean"&&(v=u,u=n)),u===n&&d===n?(u=0,d=1):(u=xu(u),d===n?(d=u,u=0):d=xu(d)),u>d){var T=u;u=d,d=T}if(v||u%1||d%1){var O=we();return z(u+O*(d-u+so("1e-"+((O+"").length-1))),d)}return vv(u,d)}var Xz=kf(function(u,d,v){return d=d.toLowerCase(),u+(v?I8(d):d)});function I8(u){return $v(Jn(u).toLowerCase())}function R8(u){return u=Jn(u),u&&u.replace(Zn,dc).replace(cl,"")}function Jz(u,d,v){u=Jn(u),d=Za(d);var T=u.length;v=v===n?T:vi(nn(v),0,T);var O=v;return v-=d.length,v>=0&&u.slice(v,O)==d}function Qz(u){return u=Jn(u),u&&Ut.test(u)?u.replace(An,Sl):u}function eF(u){return u=Jn(u),u&&mi.test(u)?u.replace(ri,"\\$&"):u}var tF=kf(function(u,d,v){return u+(v?"-":"")+d.toLowerCase()}),nF=kf(function(u,d,v){return u+(v?" ":"")+d.toLowerCase()}),rF=L7("toLowerCase");function iF(u,d,v){u=Jn(u),d=nn(d);var T=d?Ur(u):0;if(!d||T>=d)return u;var O=(d-T)/2;return B1(Al(O),v)+u+B1(po(O),v)}function sF(u,d,v){u=Jn(u),d=nn(d);var T=d?Ur(u):0;return d&&T<d?u+B1(d-T,v):u}function aF(u,d,v){u=Jn(u),d=nn(d);var T=d?Ur(u):0;return d&&T<d?B1(d-T,v)+u:u}function oF(u,d,v){return v||d==null?d=0:d&&(d=+d),_e(Jn(u).replace(ms,""),d||0)}function lF(u,d,v){return(v?Zs(u,d,v):d===n)?d=1:d=nn(d),yv(Jn(u),d)}function uF(){var u=arguments,d=Jn(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var cF=kf(function(u,d,v){return u+(v?"_":"")+d.toLowerCase()});function fF(u,d,v){return v&&typeof v!="number"&&Zs(u,d,v)&&(d=v=n),v=v===n?Q:v>>>0,v?(u=Jn(u),u&&(typeof d=="string"||d!=null&&!Hv(d))&&(d=Za(d),!d&&va(u))?xc(li(u),0,v):u.split(d,v)):[]}var hF=kf(function(u,d,v){return u+(v?" ":"")+$v(d)});function dF(u,d,v){return u=Jn(u),v=v==null?0:vi(nn(v),0,u.length),d=Za(d),u.slice(v,v+d.length)==d}function pF(u,d,v){var T=U.templateSettings;v&&Zs(u,d,v)&&(d=n),u=Jn(u),d=j1({},d,T,q7);var O=j1({},d.imports,T.imports,q7),G=Hi(O),K=Ha(O,G),ae,de,Ie=0,Re=d.interpolate||da,Be="__p += '",Qe=mc((d.escape||da).source+"|"+Re.source+"|"+(Re===Sr?Ds:da).source+"|"+(d.evaluate||da).source+"|$","g"),gt="//# sourceURL="+(_n.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pa+"]")+`
`;u.replace(Qe,function(Pt,wn,Cn,ja,Ys,Ka){return Cn||(Cn=ja),Be+=u.slice(Ie,Ka).replace(mr,uo),wn&&(ae=!0,Be+=`' +
__e(`+wn+`) +
'`),Ys&&(de=!0,Be+=`';
`+Ys+`;
__p += '`),Cn&&(Be+=`' +
((__t = (`+Cn+`)) == null ? '' : __t) +
'`),Ie=Ka+Pt.length,Pt}),Be+=`';
`;var Rt=_n.call(d,"variable")&&d.variable;if(!Rt)Be=`with (obj) {
`+Be+`
}
`;else if(Dr.test(Rt))throw new Nt(l);Be=(de?Be.replace(ca,""):Be).replace(Rr,"$1").replace(fa,"$1;"),Be="function("+(Rt||"obj")+`) {
`+(Rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Be+`return __p
}`;var un=N8(function(){return dn(G,gt+"return "+Be).apply(n,K)});if(un.source=Be,qv(un))throw un;return un}function mF(u){return Jn(u).toLowerCase()}function gF(u){return Jn(u).toUpperCase()}function _F(u,d,v){if(u=Jn(u),u&&(v||d===n))return oo(u);if(!u||!(d=Za(d)))return u;var T=li(u),O=li(d),G=rs(T,O),K=d0(T,O)+1;return xc(T,G,K).join("")}function vF(u,d,v){if(u=Jn(u),u&&(v||d===n))return u.slice(0,pc(u)+1);if(!u||!(d=Za(d)))return u;var T=li(u),O=d0(T,li(d))+1;return xc(T,0,O).join("")}function yF(u,d,v){if(u=Jn(u),u&&(v||d===n))return u.replace(ms,"");if(!u||!(d=Za(d)))return u;var T=li(u),O=rs(T,li(d));return xc(T,O).join("")}function bF(u,d){var v=X,T=V;if(qr(d)){var O="separator"in d?d.separator:O;v="length"in d?nn(d.length):v,T="omission"in d?Za(d.omission):T}u=Jn(u);var G=u.length;if(va(u)){var K=li(u);G=K.length}if(v>=G)return u;var ae=v-Ur(T);if(ae<1)return T;var de=K?xc(K,0,ae).join(""):u.slice(0,ae);if(O===n)return de+T;if(K&&(ae+=de.length-ae),Hv(O)){if(u.slice(ae).search(O)){var Ie,Re=de;for(O.global||(O=mc(O.source,Jn(Pn.exec(O))+"g")),O.lastIndex=0;Ie=O.exec(Re);)var Be=Ie.index;de=de.slice(0,Be===n?ae:Be)}}else if(u.indexOf(Za(O),ae)!=ae){var Qe=de.lastIndexOf(O);Qe>-1&&(de=de.slice(0,Qe))}return de+T}function wF(u){return u=Jn(u),u&&es.test(u)?u.replace(pi,cu):u}var xF=kf(function(u,d,v){return u+(v?" ":"")+d.toUpperCase()}),$v=L7("toUpperCase");function P8(u,d,v){return u=Jn(u),d=v?n:d,d===n?Wa(u)?hu(u):yl(u):u.match(d)||[]}var N8=pn(function(u,d){try{return St(u,n,d)}catch(v){return qv(v)?v:new Nt(v)}}),SF=yu(function(u,d){return In(d,function(v){v=Ol(v),xa(u,v,Fv(u[v],u))}),u});function TF(u){var d=u==null?0:u.length,v=At();return u=d?Tn(u,function(T){if(typeof T[1]!="function")throw new ui(a);return[v(T[0]),T[1]]}):[],pn(function(T){for(var O=-1;++O<d;){var G=u[O];if(St(G[0],this,T))return St(G[1],this,T)}})}function kF(u){return KL($s(u,m))}function Vv(u){return function(){return u}}function EF(u,d){return u==null||u!==u?d:u}var MF=D7(),CF=D7(!0);function Ea(u){return u}function Zv(u){return h7(typeof u=="function"?u:$s(u,m))}function AF(u){return p7($s(u,m))}function IF(u,d){return m7(u,$s(d,m))}var RF=pn(function(u,d){return function(v){return nd(v,u,d)}}),PF=pn(function(u,d){return function(v){return nd(u,v,d)}});function Yv(u,d,v){var T=Hi(d),O=I1(d,T);v==null&&!(qr(d)&&(O.length||!T.length))&&(v=d,d=u,u=this,O=I1(d,Hi(d)));var G=!(qr(v)&&"chain"in v)||!!v.chain,K=wu(u);return In(O,function(ae){var de=d[ae];u[ae]=de,K&&(u.prototype[ae]=function(){var Ie=this.__chain__;if(G||Ie){var Re=u(this.__wrapped__),Be=Re.__actions__=Sa(this.__actions__);return Be.push({func:de,args:arguments,thisArg:u}),Re.__chain__=Ie,Re}return de.apply(u,Ss([this.value()],arguments))})}),u}function NF(){return gr._===this&&(gr._=p0),this}function jv(){}function LF(u){return u=nn(u),pn(function(d){return g7(d,u)})}var OF=Ev(Tn),DF=Ev(Mn),BF=Ev(vl);function L8(u){return Nv(u)?Si(Ol(u)):dO(u)}function zF(u){return function(d){return u==null?n:w0(u,d)}}var FF=z7(),UF=z7(!0);function Kv(){return[]}function Xv(){return!1}function qF(){return{}}function HF(){return""}function WF(){return!0}function GF(u,d){if(u=nn(u),u<1||u>fe)return[];var v=Q,T=z(u,Q);d=At(d),u-=Q;for(var O=xl(T,d);++v<u;)d(v);return O}function $F(u){return Zt(u)?Tn(u,Ol):Ya(u)?[u]:Sa(e8(Jn(u)))}function VF(u){var d=++El;return Jn(u)+d}var ZF=D1(function(u,d){return u+d},0),YF=Mv("ceil"),jF=D1(function(u,d){return u/d},1),KF=Mv("floor");function XF(u){return u&&u.length?A1(u,Ea,hv):n}function JF(u,d){return u&&u.length?A1(u,At(d,2),hv):n}function QF(u){return fc(u,Ea)}function eU(u,d){return fc(u,At(d,2))}function tU(u){return u&&u.length?A1(u,Ea,gv):n}function nU(u,d){return u&&u.length?A1(u,At(d,2),gv):n}var rU=D1(function(u,d){return u*d},1),iU=Mv("round"),sU=D1(function(u,d){return u-d},0);function aU(u){return u&&u.length?hc(u,Ea):0}function oU(u,d){return u&&u.length?hc(u,At(d,2)):0}return U.after=AB,U.ary=f8,U.assign=gz,U.assignIn=k8,U.assignInWith=j1,U.assignWith=_z,U.at=vz,U.before=h8,U.bind=Fv,U.bindAll=SF,U.bindKey=d8,U.castArray=qB,U.chain=l8,U.chunk=KO,U.compact=XO,U.concat=JO,U.cond=TF,U.conforms=kF,U.constant=Vv,U.countBy=aB,U.create=yz,U.curry=p8,U.curryRight=m8,U.debounce=g8,U.defaults=bz,U.defaultsDeep=wz,U.defer=IB,U.delay=RB,U.difference=QO,U.differenceBy=eD,U.differenceWith=tD,U.drop=nD,U.dropRight=rD,U.dropRightWhile=iD,U.dropWhile=sD,U.fill=aD,U.filter=lB,U.flatMap=fB,U.flatMapDeep=hB,U.flatMapDepth=dB,U.flatten=i8,U.flattenDeep=oD,U.flattenDepth=lD,U.flip=PB,U.flow=MF,U.flowRight=CF,U.fromPairs=uD,U.functions=Cz,U.functionsIn=Az,U.groupBy=pB,U.initial=fD,U.intersection=hD,U.intersectionBy=dD,U.intersectionWith=pD,U.invert=Rz,U.invertBy=Pz,U.invokeMap=gB,U.iteratee=Zv,U.keyBy=_B,U.keys=Hi,U.keysIn=ka,U.map=W1,U.mapKeys=Lz,U.mapValues=Oz,U.matches=AF,U.matchesProperty=IF,U.memoize=$1,U.merge=Dz,U.mergeWith=E8,U.method=RF,U.methodOf=PF,U.mixin=Yv,U.negate=V1,U.nthArg=LF,U.omit=Bz,U.omitBy=zz,U.once=NB,U.orderBy=vB,U.over=OF,U.overArgs=LB,U.overEvery=DF,U.overSome=BF,U.partial=Uv,U.partialRight=_8,U.partition=yB,U.pick=Fz,U.pickBy=M8,U.property=L8,U.propertyOf=zF,U.pull=vD,U.pullAll=a8,U.pullAllBy=yD,U.pullAllWith=bD,U.pullAt=wD,U.range=FF,U.rangeRight=UF,U.rearg=OB,U.reject=xB,U.remove=xD,U.rest=DB,U.reverse=Bv,U.sampleSize=TB,U.set=qz,U.setWith=Hz,U.shuffle=kB,U.slice=SD,U.sortBy=CB,U.sortedUniq=ID,U.sortedUniqBy=RD,U.split=fF,U.spread=BB,U.tail=PD,U.take=ND,U.takeRight=LD,U.takeRightWhile=OD,U.takeWhile=DD,U.tap=XD,U.throttle=zB,U.thru=H1,U.toArray=x8,U.toPairs=C8,U.toPairsIn=A8,U.toPath=$F,U.toPlainObject=T8,U.transform=Wz,U.unary=FB,U.union=BD,U.unionBy=zD,U.unionWith=FD,U.uniq=UD,U.uniqBy=qD,U.uniqWith=HD,U.unset=Gz,U.unzip=zv,U.unzipWith=o8,U.update=$z,U.updateWith=Vz,U.values=Cf,U.valuesIn=Zz,U.without=WD,U.words=P8,U.wrap=UB,U.xor=GD,U.xorBy=$D,U.xorWith=VD,U.zip=ZD,U.zipObject=YD,U.zipObjectDeep=jD,U.zipWith=KD,U.entries=C8,U.entriesIn=A8,U.extend=k8,U.extendWith=j1,Yv(U,U),U.add=ZF,U.attempt=N8,U.camelCase=Xz,U.capitalize=I8,U.ceil=YF,U.clamp=Yz,U.clone=HB,U.cloneDeep=GB,U.cloneDeepWith=$B,U.cloneWith=WB,U.conformsTo=VB,U.deburr=R8,U.defaultTo=EF,U.divide=jF,U.endsWith=Jz,U.eq=Ho,U.escape=Qz,U.escapeRegExp=eF,U.every=oB,U.find=uB,U.findIndex=n8,U.findKey=xz,U.findLast=cB,U.findLastIndex=r8,U.findLastKey=Sz,U.floor=KF,U.forEach=u8,U.forEachRight=c8,U.forIn=Tz,U.forInRight=kz,U.forOwn=Ez,U.forOwnRight=Mz,U.get=Wv,U.gt=ZB,U.gte=YB,U.has=Iz,U.hasIn=Gv,U.head=s8,U.identity=Ea,U.includes=mB,U.indexOf=cD,U.inRange=jz,U.invoke=Nz,U.isArguments=T0,U.isArray=Zt,U.isArrayBuffer=jB,U.isArrayLike=Ta,U.isArrayLikeObject=ci,U.isBoolean=KB,U.isBuffer=Sc,U.isDate=XB,U.isElement=JB,U.isEmpty=QB,U.isEqual=ez,U.isEqualWith=tz,U.isError=qv,U.isFinite=nz,U.isFunction=wu,U.isInteger=v8,U.isLength=Z1,U.isMap=y8,U.isMatch=rz,U.isMatchWith=iz,U.isNaN=sz,U.isNative=az,U.isNil=lz,U.isNull=oz,U.isNumber=b8,U.isObject=qr,U.isObjectLike=Jr,U.isPlainObject=ld,U.isRegExp=Hv,U.isSafeInteger=uz,U.isSet=w8,U.isString=Y1,U.isSymbol=Ya,U.isTypedArray=Mf,U.isUndefined=cz,U.isWeakMap=fz,U.isWeakSet=hz,U.join=mD,U.kebabCase=tF,U.last=go,U.lastIndexOf=gD,U.lowerCase=nF,U.lowerFirst=rF,U.lt=dz,U.lte=pz,U.max=XF,U.maxBy=JF,U.mean=QF,U.meanBy=eU,U.min=tU,U.minBy=nU,U.stubArray=Kv,U.stubFalse=Xv,U.stubObject=qF,U.stubString=HF,U.stubTrue=WF,U.multiply=rU,U.nth=_D,U.noConflict=NF,U.noop=jv,U.now=G1,U.pad=iF,U.padEnd=sF,U.padStart=aF,U.parseInt=oF,U.random=Kz,U.reduce=bB,U.reduceRight=wB,U.repeat=lF,U.replace=uF,U.result=Uz,U.round=iU,U.runInContext=ce,U.sample=SB,U.size=EB,U.snakeCase=cF,U.some=MB,U.sortedIndex=TD,U.sortedIndexBy=kD,U.sortedIndexOf=ED,U.sortedLastIndex=MD,U.sortedLastIndexBy=CD,U.sortedLastIndexOf=AD,U.startCase=hF,U.startsWith=dF,U.subtract=sU,U.sum=aU,U.sumBy=oU,U.template=pF,U.times=GF,U.toFinite=xu,U.toInteger=nn,U.toLength=S8,U.toLower=mF,U.toNumber=_o,U.toSafeInteger=mz,U.toString=Jn,U.toUpper=gF,U.trim=_F,U.trimEnd=vF,U.trimStart=yF,U.truncate=bF,U.unescape=wF,U.uniqueId=VF,U.upperCase=xF,U.upperFirst=$v,U.each=u8,U.eachRight=c8,U.first=s8,Yv(U,function(){var u={};return Nl(U,function(d,v){_n.call(U.prototype,v)||(u[v]=d)}),u}(),{chain:!1}),U.VERSION=r,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),In(["drop","take"],function(u,d){tn.prototype[u]=function(v){v=v===n?1:E(nn(v),0);var T=this.__filtered__&&!d?new tn(this):this.clone();return T.__filtered__?T.__takeCount__=z(v,T.__takeCount__):T.__views__.push({size:z(v,Q),type:u+(T.__dir__<0?"Right":"")}),T},tn.prototype[u+"Right"]=function(v){return this.reverse()[u](v).reverse()}}),In(["filter","map","takeWhile"],function(u,d){var v=d+1,T=v==ue||v==ge;tn.prototype[u]=function(O){var G=this.clone();return G.__iteratees__.push({iteratee:At(O,3),type:v}),G.__filtered__=G.__filtered__||T,G}}),In(["head","last"],function(u,d){var v="take"+(d?"Right":"");tn.prototype[u]=function(){return this[v](1).value()[0]}}),In(["initial","tail"],function(u,d){var v="drop"+(d?"":"Right");tn.prototype[u]=function(){return this.__filtered__?new tn(this):this[v](1)}}),tn.prototype.compact=function(){return this.filter(Ea)},tn.prototype.find=function(u){return this.filter(u).head()},tn.prototype.findLast=function(u){return this.reverse().find(u)},tn.prototype.invokeMap=pn(function(u,d){return typeof u=="function"?new tn(this):this.map(function(v){return nd(v,u,d)})}),tn.prototype.reject=function(u){return this.filter(V1(At(u)))},tn.prototype.slice=function(u,d){u=nn(u);var v=this;return v.__filtered__&&(u>0||d<0)?new tn(v):(u<0?v=v.takeRight(-u):u&&(v=v.drop(u)),d!==n&&(d=nn(d),v=d<0?v.dropRight(-d):v.take(d-u)),v)},tn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},tn.prototype.toArray=function(){return this.take(Q)},Nl(tn.prototype,function(u,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),T=/^(?:head|last)$/.test(d),O=U[T?"take"+(d=="last"?"Right":""):d],G=T||/^find/.test(d);O&&(U.prototype[d]=function(){var K=this.__wrapped__,ae=T?[1]:arguments,de=K instanceof tn,Ie=ae[0],Re=de||Zt(K),Be=function(wn){var Cn=O.apply(U,Ss([wn],ae));return T&&Qe?Cn[0]:Cn};Re&&v&&typeof Ie=="function"&&Ie.length!=1&&(de=Re=!1);var Qe=this.__chain__,gt=!!this.__actions__.length,Rt=G&&!Qe,un=de&&!gt;if(!G&&Re){K=un?K:new tn(this);var Pt=u.apply(K,ae);return Pt.__actions__.push({func:H1,args:[Be],thisArg:n}),new qi(Pt,Qe)}return Rt&&un?u.apply(this,ae):(Pt=this.thru(Be),Rt?T?Pt.value()[0]:Pt.value():Pt)})}),In(["pop","push","shift","sort","splice","unshift"],function(u){var d=Tl[u],v=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var O=arguments;if(T&&!this.__chain__){var G=this.value();return d.apply(Zt(G)?G:[],O)}return this[v](function(K){return d.apply(Zt(K)?K:[],O)})}}),Nl(tn.prototype,function(u,d){var v=U[d];if(v){var T=v.name+"";_n.call(Gs,T)||(Gs[T]=[]),Gs[T].push({name:d,func:v})}}),Gs[O1(n,R).name]=[{name:"wrapper",func:n}],tn.prototype.clone=Qh,tn.prototype.reverse=K2,tn.prototype.value=ki,U.prototype.at=JD,U.prototype.chain=QD,U.prototype.commit=eB,U.prototype.next=tB,U.prototype.plant=rB,U.prototype.reverse=iB,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=sB,U.prototype.first=U.prototype.head,wa&&(U.prototype[wa]=nB),U},ks=qs();Di?((Di.exports=ks)._=ks,Yr._=ks):gr._=ks}).call(Rc)})(b_,b_.exports);var Yle=b_.exports;function _S(t){let e,n,r=t[4]==null?"...":t[4].features.length+" Region/States",i,s,a,l;return{c(){e=Y("button"),n=Ce("FocusedCountry : "),i=Ce(r),H(e,"class",s="ui button small "+(t[4]==null?"orange  loading":"green"))},m(c,f){vt(c,e,f),P(e,n),P(e,i),a||(l=je(e,"click",t[14]),a=!0)},p(c,f){f&16&&r!==(r=c[4]==null?"...":c[4].features.length+" Region/States")&&bt(i,r),f&16&&s!==(s="ui button small "+(c[4]==null?"orange  loading":"green"))&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function vS(t){let e,n,r=t[2]==null?"...":t[2].id+" ("+t[2].features.length+")",i,s,a,l;return{c(){e=Y("button"),n=Ce("IMTgrid : "),i=Ce(r),H(e,"class",s="ui button small "+(t[2]==null?"orange ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(c,f){vt(c,e,f),P(e,n),P(e,i),a||(l=je(e,"click",t[15]),a=!0)},p(c,f){f&4&&r!==(r=c[2]==null?"...":c[2].id+" ("+c[2].features.length+")")&&bt(i,r),f&12&&s!==(s="ui button small "+(c[2]==null?"orange ":"green")+" "+(c[3]!=null)+"?'loading':''")&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function yS(t){let e,n,r=t[5]==null?"...":t[5].name+" ("+t[5].features.length+")",i,s,a,l;return{c(){e=Y("button"),n=Ce("SatAntenna : "),i=Ce(r),H(e,"class",s="ui button small "+(t[5]==null?"orange  loading":"green"))},m(c,f){vt(c,e,f),P(e,n),P(e,i),a||(l=je(e,"click",t[16]),a=!0)},p(c,f){f&32&&r!==(r=c[5]==null?"...":c[5].name+" ("+c[5].features.length+")")&&bt(i,r),f&32&&s!==(s="ui button small "+(c[5]==null?"orange  loading":"green"))&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function jle(t){let e,n,r,i,s=(t[1]==null?"...":t[1].length)+"",a,l,c,f,p,m,g,y,w=t[6].FocusCountry.disabled!=!0&&_S(t),S=t[6].IMTgrid.disabled!=!0&&vS(t),I=t[6].SatAntenna.disabled!=!0&&yS(t);return{c(){e=Y("div"),e.textContent="Loading",n=ve(),r=Y("button"),i=Ce("WorldMap : "),a=Ce(s),c=ve(),w&&w.c(),f=ve(),S&&S.c(),p=ve(),I&&I.c(),m=P_(),H(e,"class","ui"),H(e,"id","bar"),H(r,"class",l="ui button small "+(t[1]==null?"orange  loading":"green"))},m(R,k){vt(R,e,k),vt(R,n,k),vt(R,r,k),P(r,i),P(r,a),vt(R,c,k),w&&w.m(R,k),vt(R,f,k),S&&S.m(R,k),vt(R,p,k),I&&I.m(R,k),vt(R,m,k),g||(y=je(r,"click",t[13]),g=!0)},p(R,[k]){k&2&&s!==(s=(R[1]==null?"...":R[1].length)+"")&&bt(a,s),k&2&&l!==(l="ui button small "+(R[1]==null?"orange  loading":"green"))&&H(r,"class",l),R[6].FocusCountry.disabled!=!0?w?w.p(R,k):(w=_S(R),w.c(),w.m(f.parentNode,f)):w&&(w.d(1),w=null),R[6].IMTgrid.disabled!=!0?S?S.p(R,k):(S=vS(R),S.c(),S.m(p.parentNode,p)):S&&(S.d(1),S=null),R[6].SatAntenna.disabled!=!0?I?I.p(R,k):(I=yS(R),I.c(),I.m(m.parentNode,m)):I&&(I.d(1),I=null)},i:Rn,o:Rn,d(R){R&&ht(e),R&&ht(n),R&&ht(r),R&&ht(c),w&&w.d(R),R&&ht(f),S&&S.d(R),R&&ht(p),I&&I.d(R),R&&ht(m),g=!1,y()}}}let bS="/fss/";async function Kle(t,e){return new Promise((n,r)=>{let i=indexedDB.open("mapinformation",1);i.onsuccess=async()=>{let a=i.result.transaction("globalmap","readwrite").objectStore("globalmap").put(e,t);a.onsuccess=l=>{l.target.result!==void 0?(console.log("saveRecord() Success ",l.target.result),n(l.target.result)):n("saveRecord() EMPTY/Error")},a.onerror=l=>{console.log("saveRecord() WEB WORKER saveRecord Error"),r(l)}}})}function Xle(t,e,n){let r,i;Fc(t,gf,X=>n(3,r=X)),Fc(t,Bp,X=>n(12,i=X));let{mapData:s={GlobalMap:void 0,FocusCountry:{},IMTMap:{},FSSMap:void 0,SatelliteBeam:{},hasFSSPattern:!1,visibleRegion:[]}}=e,a,l,c,f,{logger:p=null}=e,m=["Asia","Oceania"],g={WorldMap:{localpath:"/common/mergedworlds.topojson.json",fspath:"/mergedworlds.topojson.json",type:"json"},FocusCountry:{localpath:"/focused/country/australia.json",fspath:"/australia/australia.json",type:"json"},IMTgrid:{localpath:"/focused/imt/australiaIMTgrid.json",fspath:"/australia/australiaIMTgrid.json",type:"json"},SatAntenna:{localpath:"/focused/fss/GSATgainsLarge.csv",fspath:"/india/GSATgainsLarge.csv",type:"csv"}},{SatelliteBeam:y}=e,w={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5,Name:"AsiaSat"};Zf(()=>{});let{countries:S=[]}=e;Zf(()=>{let X=Object.keys(g);console.log("Processing keys ",X),X.forEach(V=>{var te=g[V].fspath=="";n(6,g[V].disabled=g[V].disabled||te,g)})});async function I(X){let V="Path Error "+X,te=g[X];{if(r!=null)V=await pN(bS+te.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",bS)}return V}async function R(){let X=Object.keys(g);console.log("Processing keys ",X),n(7,s.visibleRegion=m,s),X.forEach(V=>{switch(n(6,g[V].disabled=g[V].disabled||!1,g),V){case"WorldMap":I("WorldMap").then(te=>{var me=Gm(te);me.then(ue=>{let ie=ue.filter(ge=>ge.properties.UNRegion!=null);return ie=ie.map((ge,se)=>(ge.properties.selected=!1,ge.properties.hasIMTgrid=!1,ge.properties.RaRbFactor=!0,ge.properties.indx=se,ge)),n(1,l=ie),n(7,s.GlobalMap=l,s),C(),Array.from(new Set(l.map(ge=>ge.properties.UNRegion))),n(9,S=lg(Array.from(new Set(l.map((ge,se)=>({Country:ge.properties.NAMEen,Region:ge.properties.UNRegion,selected:ge.selected||!1,mapGridIndx:se})))),ge=>ge.Region,ge=>ge.Country)),ie}),p.showStatus("WorldMap",me)}).catch(te=>{console.log("WorldMap",te.toString())});break;case"FocusCountry":if(g.FocusCountry.disabled==!0)break;I("FocusCountry").then(te=>{console.log("Solving ","FocusCountry",te);var me=Gm(te);me.then(ue=>(n(7,s.FocusCountry=ue,s),n(4,a=ue),ue)),p.showStatus("FocusCountry",me)}).catch(te=>{console.log("FocusCountry",te.toString()),p.appendNode("FocusCountry",te.toString())});break;case"IMTgrid":if(g.IMTgrid.disabled==!0)break;I("IMTgrid").then(te=>{console.log("Solving ","IMTgrid",te);var me=Gm(te);me.then(ue=>(n(2,c=ue),n(7,s.IMTMap=ue,s),ue)),p.showStatus("IMTgrid",me)}).catch(te=>{p.appendNode("IMTgrid",te.toString())});break;case"SatAntenna":if(n(7,s.hasFSSPattern=!1,s),g.SatAntenna.disabled==!0)break;I("SatAntenna").then(te=>{console.log("Solving ","SatAntenna",te);var me=lE(te,vg).then(ue=>(n(5,f=N(ue)),n(7,s.FSSMap=f,s),n(7,s.hasFSSPattern=!0,s),f));p.showStatus("SatAntenna",me)}).catch(te=>{console.log("SatAntenna",te.toString()),p.appendNode("SatAntenna",te.toString())});break}}),console.log("Loading files...")}let k;async function A(){console.log("indexdb load"),k=indexedDB.open("mapinformation",1),k.onsuccess=()=>{k.result,console.log("MapData IndexDB indexdb success")},k.onupgradeneeded=function(){let X=k.result;console.log("MapData IndexDB On upgrade needed"),X.objectStoreNames.contains("globalmap")?X.deleteObjectStore("globalmap"):(X.createObjectStore("globalmap"),console.log("MapData IndexDB Created objsect store globalmap"))}}Zf(A);async function C(){return new Promise((X,V)=>{let te=indexedDB.open("mapinformation",1);te.onsuccess=()=>{let ue=te.result.transaction("globalmap","readwrite").objectStore("globalmap");ue.clear(),s.GlobalMap.forEach(ie=>{let ge=ue.add(ie,ie.properties.NAMEen);ge.onsuccess=function(){},ge.onerror=function(){console.log("IndexDB Error adding features",ge.error)}}),X()}})}function N(X){let te=V0(X.map(ie=>zp([ie.Longitude,ie.Latitude],{FSSRxGain:ie.AntennaGain})));te.properties={OffsetGain:-2,EdgeOffsetGain:-3};let me=kN(te,{concavity:2});me.properties={beamtype:"points",hasPoints:!0,OffsetGain:0,EdgeOffsetGain:-3,name:"GSAT boundary"};let ue=V0([me,te]);return ue.bounds=Qb(te),ue.beamtype="pointgrid",ue.name="GSAT India Beam",console.log("Processing DONE ",ue),ue}const D=()=>{p.queueNode("WorldMap",l,{type:"json"})},F=()=>{p.queueNode("FocusCountry",a,{type:"json"})},W=()=>{p.queueNode("IMTgrid",c,{type:"json"})},$=()=>{console.log("loading ..",f.name),p.queueNode("SatAntenna",f,{type:"json"})};return t.$$set=X=>{"mapData"in X&&n(7,s=X.mapData),"logger"in X&&n(0,p=X.logger),"SatelliteBeam"in X&&n(8,y=X.SatelliteBeam),"countries"in X&&n(9,S=X.countries)},t.$$.update=()=>{if(t.$$.dirty&6&&c!=null&&l!=null){let X=c.id,V=l.findIndex(te=>te.properties.NAMEen==X);if(V!=-1){n(1,l[V].properties.hasIMTgrid=!0,l),n(1,l[V].properties.RaRbFactor=!1,l),n(1,l[V].properties.IMTgrid=c,l);let te=l[V];Kle(X,te)}}if(t.$$.dirty&4104&&(console.log("Calling RTDB"),r!=null)){let X=i;mN(X).then(V=>{console.log("getData() : FilePaths = ",X,V),n(6,g=V.MapData),n(11,m=V.visibleRegion||[]),console.log("Visiable path getData ",V.visibleRegion),R()}).catch(V=>console.log("Error : getData error",V))}t.$$.dirty&2050&&l!=null&&Um(l,X=>m.includes(X.properties.UNRegion))},n(8,y=w),n(7,s.SatelliteBeam=w,s),[p,l,c,r,a,f,g,s,y,S,R,m,i,D,F,W,$]}class Jle extends rc{constructor(e){super(),nc(this,e,Xle,jle,eo,{mapData:7,logger:0,SatelliteBeam:8,countries:9,loadFiles:10})}get loadFiles(){return this.$$.ctx[10]}}const Qle=t=>({}),wS=t=>({}),eue=t=>({}),xS=t=>({});function tue(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,R,k,A,C,N,D,F,W,$,X,V,te,me,ue,ie,ge,se,fe,oe,Z,Q,he,Ne,Ue,De,Pe,ke,Ee,pe,Ae,Le,be,Ke,qe,ct,at,tt,kt,nt,bn,Ft,mn,Gn,Bn,$n,ot,jt,Vn,er,di;const rr=t[13].header,tr=Sy(rr,t,t[12],xS),Or=t[13].meta,Xn=Sy(Or,t,t[12],wS);return{c(){e=Y("link"),n=ve(),r=Y("dialog"),tr&&tr.c(),i=ve(),s=Ce(t[1]),a=ve(),l=Y("div"),c=ve(),f=Y("div"),p=Y("div"),m=Y("div"),g=Y("div"),y=Y("div"),w=Y("div"),S=Y("label"),S.textContent="FSS Rx Gain (dBi)",I=ve(),R=Y("input"),k=ve(),A=Y("input"),C=ve(),N=Y("div"),D=Y("label"),D.textContent="Beam (Lng)",F=ve(),W=Y("input"),$=ve(),X=Y("input"),V=ve(),te=Y("div"),me=Y("label"),me.textContent="Beam (Lat)",ue=ve(),ie=Y("input"),ge=ve(),se=Y("input"),fe=ve(),oe=Y("div"),Z=Y("label"),Z.textContent="Footprint majorAxis (BMx)",Q=ve(),he=Y("input"),Ne=ve(),Ue=Y("input"),De=ve(),Pe=Y("div"),ke=Y("label"),ke.textContent="Footprint majorAxis (BMy)",Ee=ve(),pe=Y("input"),Ae=ve(),Le=Y("input"),be=ve(),Ke=Y("div"),qe=Y("label"),qe.textContent="Global Footprint Rotate",ct=ve(),at=Y("input"),tt=ve(),kt=Y("input"),nt=ve(),bn=Y("div"),Ft=Y("div"),mn=Y("div"),mn.textContent="Placeholder",Gn=ve(),Bn=Y("div"),$n=ve(),Xn&&Xn.c(),ot=ve(),jt=Y("button"),jt.textContent="close modal",document.title="IMT interference to FSS Analysis 2",H(e,"rel","stylesheet"),H(e,"href","../static/css/semantic.min.css"),H(l,"class","ui divider svelte-1imfldp"),H(R,"type","number"),H(R,"step","1"),H(R,"min","10"),H(R,"max","40"),H(A,"type","range"),H(A,"step","1"),H(A,"min","10"),H(A,"max","40"),H(w,"class","field"),H(W,"type","number"),H(W,"min","0,"),H(W,"max","150"),H(W,"step","0.5"),W.disabled=!0,H(W,"size","5"),$i(W,"width","50px"),H(X,"type","range"),H(X,"min","0,"),H(X,"max","150"),H(X,"step","0.5"),X.disabled=!0,H(N,"class","field"),H(ie,"type","number"),H(ie,"min","-90"),H(ie,"max","90"),H(ie,"step","0.5"),H(ie,"size","14"),H(se,"type","range"),H(se,"step","0.5"),H(se,"min","-90"),H(se,"max","90"),H(se,"size","14"),H(te,"class","field"),H(he,"type","number"),H(he,"step","0.5"),H(he,"min","10"),H(he,"max","90"),H(Ue,"type","range"),H(Ue,"step","0.5"),H(Ue,"min","10"),H(Ue,"max","90"),H(oe,"class","field"),H(pe,"type","number"),H(pe,"step","0.5"),H(pe,"min","1"),H(pe,"max","90"),H(Le,"type","range"),H(Le,"step","0.5"),H(Le,"min","1"),H(Le,"max","90"),H(Pe,"class","field"),H(at,"type","number"),H(at,"step","0.5"),H(at,"min","-90"),H(at,"max","90"),H(kt,"type","range"),H(kt,"step","0.5"),H(kt,"min","-90"),H(kt,"max","90"),H(Ke,"class","field"),H(y,"class","ui fields one column grid"),H(g,"class","ui basic segment teal inverted"),H(m,"class","six wide column"),H(mn,"id","plot"),H(Ft,"class","ui container segment teal"),H(bn,"class","ten wide column"),H(p,"class","ui two column divided grid"),H(Bn,"class","ui divider"),H(f,"class","ui basic segment svelte-1imfldp"),H(jt,"class","ui primary button floating"),jt.autofocus=!0,H(r,"class","svelte-1imfldp")},m(mt,an){P(document.head,e),vt(mt,n,an),vt(mt,r,an),tr&&tr.m(r,null),P(r,i),P(r,s),P(r,a),P(r,l),P(r,c),P(r,f),P(f,p),P(p,m),P(m,g),P(g,y),P(y,w),P(w,S),P(w,I),P(w,R),dt(R,t[0]),P(w,k),P(w,A),dt(A,t[0]),P(y,C),P(y,N),P(N,D),P(N,F),P(N,W),dt(W,t[3].BeamLng),P(N,$),P(N,X),dt(X,t[3].BeamLng),P(y,V),P(y,te),P(te,me),P(te,ue),P(te,ie),dt(ie,t[3].BeamLat),P(te,ge),P(te,se),dt(se,t[3].BeamLat),P(y,fe),P(y,oe),P(oe,Z),P(oe,Q),P(oe,he),dt(he,t[3].rx),P(oe,Ne),P(oe,Ue),dt(Ue,t[3].rx),P(y,De),P(y,Pe),P(Pe,ke),P(Pe,Ee),P(Pe,pe),dt(pe,t[3].ry),P(Pe,Ae),P(Pe,Le),dt(Le,t[3].ry),P(y,be),P(y,Ke),P(Ke,qe),P(Ke,ct),P(Ke,at),dt(at,t[3].theta),P(Ke,tt),P(Ke,kt),dt(kt,t[3].theta),P(p,nt),P(p,bn),P(bn,Ft),P(Ft,mn),t[26](mn),P(f,Gn),P(f,Bn),P(f,$n),Xn&&Xn.m(f,null),P(r,ot),P(r,jt),t[28](r),Vn=!0,jt.focus(),er||(di=[je(R,"input",t[14]),je(A,"change",t[15]),je(A,"input",t[15]),je(W,"input",t[16]),je(X,"change",t[17]),je(X,"input",t[17]),je(ie,"input",t[18]),je(se,"change",t[19]),je(se,"input",t[19]),je(he,"input",t[20]),je(Ue,"change",t[21]),je(Ue,"input",t[21]),je(pe,"input",t[22]),je(Le,"change",t[23]),je(Le,"input",t[23]),je(at,"input",t[24]),je(kt,"change",t[25]),je(kt,"input",t[25]),je(jt,"click",t[27]),je(r,"close",t[5]),je(r,"click",_U(t[5]))],er=!0)},p(mt,[an]){tr&&tr.p&&(!Vn||an&4096)&&ky(tr,rr,mt,mt[12],Vn?Ty(rr,mt[12],an,eue):Ey(mt[12]),xS),(!Vn||an&2)&&bt(s,mt[1]),an&1&&Yt(R.value)!==mt[0]&&dt(R,mt[0]),an&1&&dt(A,mt[0]),an&8&&Yt(W.value)!==mt[3].BeamLng&&dt(W,mt[3].BeamLng),an&8&&dt(X,mt[3].BeamLng),an&8&&Yt(ie.value)!==mt[3].BeamLat&&dt(ie,mt[3].BeamLat),an&8&&dt(se,mt[3].BeamLat),an&8&&Yt(he.value)!==mt[3].rx&&dt(he,mt[3].rx),an&8&&dt(Ue,mt[3].rx),an&8&&Yt(pe.value)!==mt[3].ry&&dt(pe,mt[3].ry),an&8&&dt(Le,mt[3].ry),an&8&&Yt(at.value)!==mt[3].theta&&dt(at,mt[3].theta),an&8&&dt(kt,mt[3].theta),Xn&&Xn.p&&(!Vn||an&4096)&&ky(Xn,Or,mt,mt[12],Vn?Ty(Or,mt[12],an,Qle):Ey(mt[12]),wS)},i(mt){Vn||(Js(tr,mt),Js(Xn,mt),Vn=!0)},o(mt){Ra(tr,mt),Ra(Xn,mt),Vn=!1},d(mt){ht(e),mt&&ht(n),mt&&ht(r),tr&&tr.d(mt),t[26](null),Xn&&Xn.d(mt),t[28](null),er=!1,sl(di)}}}function nue(t,e,n){let{$$slots:r={},$$scope:i}=e,{showModal:s}=e,a,{defaultFootprint:l=void 0}=e,{SatelliteBeam:c}=e,f={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5},{reference:p={}}=e,{SatRxGain:m=20}=e,g=null;Zf(()=>{n(7,l=w(c,m)),S(l),n(8,c=f)});function y(){console.log("update() Fn Called "),n(7,l=w(f,m))}function w(se,fe){let oe=Wle([se.BeamLng,se.BeamLat],se.rx,se.ry,{units:"degrees",steps:96,angle:se.theta,properties:{beamtype:"shapedbeams",FSSRxGain:fe,OffsetGain:0,EdgeOffsetGain:-50,beamCenter:[se.BeamLng,se.BeamLat],angle:se.theta,rx:se.rx,ry:se.ry}});Yle.reverse(oe.geometry.coordinates[0]);let Z;return Z=V0([oe]),Z.beamtype="shapedbeams",Z.name="Global Footprint",Z.properties={angle:se.theta,rx:se.rx,ry:se.ry,beamCenter:[se.BeamLng,se.BeamLat]},Z}async function S(se){if(g==null||f==null||s==!1){console.log("Skip rendering beam");return}console.log("drawPattern() : ");let fe=Xo({projection:{type:"orthographic",rotate:[-f.BeamLng,0]},color:{legend:!0,domain:[10,40],type:"linear",scheme:"BuRd",nice:!0,marginLeft:30,label:"FSS Rx Gain (dBi)",marginRight:30,width:300},marginLeft:0,marginTop:0,marks:[OI(),DI(),Zo(p,{stroke:"grey",fill:"white",fillOpacity:.1}),Zo(se,{fill:oe=>m,stroke:"orange",fillOpacity:.5})]});n(4,g.innerHTML="",g),g.append(fe)}let{satAngle:I}=e;function R(){n(6,s=!1),a.close(),n(8,c=f),n(7,l=w(f))}function k(){m=Yt(this.value),n(0,m)}function A(){m=Yt(this.value),n(0,m)}function C(){f.BeamLng=Yt(this.value),n(3,f)}function N(){f.BeamLng=Yt(this.value),n(3,f)}function D(){f.BeamLat=Yt(this.value),n(3,f)}function F(){f.BeamLat=Yt(this.value),n(3,f)}function W(){f.rx=Yt(this.value),n(3,f)}function $(){f.rx=Yt(this.value),n(3,f)}function X(){f.ry=Yt(this.value),n(3,f)}function V(){f.ry=Yt(this.value),n(3,f)}function te(){f.theta=Yt(this.value),n(3,f)}function me(){f.theta=Yt(this.value),n(3,f)}function ue(se){Lt[se?"unshift":"push"](()=>{g=se,n(4,g)})}const ie=()=>a.close();function ge(se){Lt[se?"unshift":"push"](()=>{a=se,n(2,a)})}return t.$$set=se=>{"showModal"in se&&n(6,s=se.showModal),"defaultFootprint"in se&&n(7,l=se.defaultFootprint),"SatelliteBeam"in se&&n(8,c=se.SatelliteBeam),"reference"in se&&n(9,p=se.reference),"SatRxGain"in se&&n(0,m=se.SatRxGain),"satAngle"in se&&n(1,I=se.satAngle),"$$scope"in se&&n(12,i=se.$$scope)},t.$$.update=()=>{t.$$.dirty&68&&a&&s&&a.showModal(),t.$$.dirty&603&&(g!=null&&s==!0?S(w(f,m)):n(7,l=w(f,m)))},[m,I,a,f,g,R,s,l,c,p,y,w,i,r,k,A,C,N,D,F,W,$,X,V,te,me,ue,ie,ge]}class rue extends rc{constructor(e){super(),nc(this,e,nue,tue,eo,{showModal:6,defaultFootprint:7,SatelliteBeam:8,reference:9,SatRxGain:0,update:10,createFootPrint:11,satAngle:1})}get update(){return this.$$.ctx[10]}get createFootPrint(){return this.$$.ctx[11]}}function iue(t){let e,n,r,i,s,a;return{c(){e=Y("button"),e.textContent="RePlot",n=ve(),r=Y("div"),H(e,"class","ui primary button"),H(r,"class",""),wo(()=>t[24].call(r))},m(l,c){vt(l,e,c),vt(l,n,c),vt(l,r,c),t[23](r),i=ag(r,t[24].bind(r)),s||(a=je(e,"click",t[2]),s=!0)},p:Rn,i:Rn,o:Rn,d(l){l&&ht(e),l&&ht(n),l&&ht(r),t[23](null),i(),s=!1,a()}}}function sue(t,e,n){let{showModal:r}=e,i,s,a=null,{N0:l}=e;function c(){n(18,i=[])}function f(){n(0,a.innerHTML="",a),a.append(W),a.append(i),a.append(s),a.append(ie),a.append($)}let{binnedData:p,stats:m,gainloss:g}=e,{satAngle:y,cr:w,factor:S,Raindx:I,Rbindx:R,SatGainScale:k}=e,{ApplyEIRPMask:A}=e,{MASKOffset:C}=e,N=1,{totalI:D}=e,F,W,$;function X(){if(p==null)return;N=S.UrbSurbRatio;let oe=fr(p,he=>he.totalareasqkm)*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+fr(p,he=>he.totalIMTBS*N),Z=fr(p,he=>he.totalareasqkm)*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+fr(p,he=>he.totalIMTBS*(1-N)),Q=oe+Z;n(20,W=Xo({width:F,marginLeft:0,marks:[Lf(p,{y:he=>he.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+he.totalIMTBS*N,title:he=>(he.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+he.totalIMTBS*N).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:he=>w(he.x)}),Lf(p,{y:he=>he.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+he.totalIMTBS*(1-N),title:he=>(he.totalIMTBS*(1-N)+he.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity).toFixed(1),rotate:-90,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:he=>w(he.x)}),I0(p,{y:he=>he.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+he.totalIMTBS*N,text:he=>{var Ne=he.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+he.totalIMTBS*N;return Ne>100?jn("2.2~s")(Ne):jn(".0f")(Math.floor(Ne))},rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:he=>k(he.maxRxGain)})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:he=>Math.floor(he)},y:{nice:!0,tickRotate:-40,label:"BS/SectorCount (Ra*Rb*Density)"},caption:`P3 Satellite${y} | Total ${jn("2.2~s")(Q)} -(${oe.toFixed(0)}+${Z.toFixed(0)} )Active :${jn("2.1~s")(Q*S.TDD*S.NW)} | Ra${I.val+1}(${S.Urban.Ra*100}%),Rb${R.val+1}
    (${S.Urban.Rb*100}%)`}))}function V(oe){var Z=g.find(Q=>Q.el==oe);return Z!=null?Z.CL+Z.GL+Z.PL:0}function te(oe){var Z=g.find(he=>he.el==oe);if(Z==null)return{UrbanAg:0,SubUrbanAg:0};var Q={UrbanAg:Z.UrbanAg,SubUrbanAg:Z.SubUrbanAg};return Q.UrbanAg+=A?Z.UrbanOffset:0,Q.SubUrbanAg+=A?Z.SubUrbanOffset:0,Q}function me(){if(m==null||g==null||p==null)return;let oe=ia(p,Z=>Z.x);n(21,$=Xo({width:F,marks:[Lf(m,{marker:"dot",y:Z=>Z.suburbandB+te(Z.x).SubUrbanAg-V(Z.x)-l,title:Z=>Z.suburbandB+te(Z.x).SubUrbanAg-V(Z.x)-l,x:"x",fill:Z=>w(Z.x)}),_m(m,{marker:"dot",y:Z=>Z.urbandB+te(Z.x).UrbanAg-V(Z.x)-l,title:Z=>Z.urbandB+te(Z.x).UrbanAg-V(Z.x)-l,stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),I0(m,{marker:"dot",y:Z=>Z.suburbandB+te(Z.x).SubUrbanAg-V(Z.x)-l,text:Z=>(Z.suburbandB+te(Z.x).SubUrbanAg-V(Z.x)-l).toFixed(0),dy:-5,x:"x"}),Pu(g,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",tip:!0}),Pu(g,{x:"el",y:"SubUrbanAg",tip:!0,marker:"dot",stroke:"grey"}),Sb(D,{y:Z=>Z.I-l,stroke:"Env",title:Z=>Z.I-l})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:ea(oe[0],oe[1]+1),tickFormat:Z=>Math.floor(Z)},color:{legend:!1},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`P6 : Satellite angle is ${y}`}))}function ue(){if(p==null)return;p.map(Z=>Z.x);let oe=jn("2.3~s")(fr(p,Z=>Z.totalareasqkm));n(18,i=Xo({width:F,marks:[Lf(p,{y:"count",x:"x",fill:Z=>w(Z.x),title:Z=>Z.x}),I0(p,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:Z=>Z.x})],grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:Z=>Math.floor(Z)},y:{label:"Number of 1degree grid",nice:!0},caption:`P1 grids vs Elev. angle @ Satellite ${y} `})),n(19,s=Xo({width:F,marks:[Lf(p,{title:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,y:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,x:"x",cumulative:!1,fill:Z=>w(Z.x)}),I0(p,{text:Z=>jn(".2~s")(Z.totalareasqkm+Z.totalIMTareasqkm),y:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},caption:`P2 Satellite angle is ${y} | Total Area: ${oe} sqkm`}))}let ie;function ge(){if(g==null||p==null)return;var oe=y;let Z=ia(p,Q=>Q.x);n(22,ie=Xo({width:F,marks:[Pu(g,{marker:"dot",y:Q=>-Q.CL-Q.GL-Q.PL,title:Q=>-Q.CL-Q.GL-Q.PL,x:Q=>+Q.el,strokeWidth:1,stroke:"green",tip:!0}),_m(m,{marker:"dot",y:Q=>Q.suburbandB,x:"x",stroke:"grey",fill:Q=>w(Q.x)}),_m(m,{marker:"dot",y:Q=>Q.urbandB,x:"x",strokeWidth:2,stroke:"red"}),I0(m,{marker:"dot",y:Q=>Q.suburbandB,x:"x",text:Q=>Q.suburbandB.toFixed(0),dy:-15}),Lf(m,{marker:"dot",y:Q=>Q.suburbandB+te(Q.x).SubUrbanAg-V(Q.x),title:Q=>Q.suburbandB+te(Q.x).SubUrbanAg-V(Q.x),x:"x",fill:Q=>w(Q.x)}),_m(m,{marker:"dot",y:Q=>Q.urbandB+te(Q.x).UrbanAg-V(Q.x),title:Q=>Q.urbandB+te(Q.x).UrbanAg-V(Q.x),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Sb(D,{stroke:Q=>Q.Env,y:Q=>Q.I,strokeWidth:3,strokeDasharray:[5,5],title:Q=>Q.I+Q.Env}),I0(D,{y:Q=>Q.I,x:Z[1],dy:-5,fontSize:12,textAnchor:"end",text:Q=>Q.Name+` ${Q.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:ea(Z[0],Z[1]+1),tickFormat:Q=>Math.floor(Q)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`P5: Satellite angle is ${oe}`}))}function se(oe){Lt[oe?"unshift":"push"](()=>{a=oe,n(0,a)})}function fe(){F=this.clientWidth,n(1,F)}return t.$$set=oe=>{"showModal"in oe&&n(3,r=oe.showModal),"N0"in oe&&n(4,l=oe.N0),"binnedData"in oe&&n(6,p=oe.binnedData),"stats"in oe&&n(7,m=oe.stats),"gainloss"in oe&&n(8,g=oe.gainloss),"satAngle"in oe&&n(9,y=oe.satAngle),"cr"in oe&&n(10,w=oe.cr),"factor"in oe&&n(11,S=oe.factor),"Raindx"in oe&&n(12,I=oe.Raindx),"Rbindx"in oe&&n(13,R=oe.Rbindx),"SatGainScale"in oe&&n(14,k=oe.SatGainScale),"ApplyEIRPMask"in oe&&n(15,A=oe.ApplyEIRPMask),"MASKOffset"in oe&&n(16,C=oe.MASKOffset),"totalI"in oe&&n(17,D=oe.totalI)},t.$$.update=()=>{t.$$.dirty[0]&8,t.$$.dirty[0]&64&&(X(),ue()),t.$$.dirty[0]&448&&(ge(),me()),t.$$.dirty[0]&8126465&&a!=null&&f()},[a,F,f,r,l,c,p,m,g,y,w,S,I,R,k,A,C,D,i,s,W,$,ie,se,fe]}class aue extends rc{constructor(e){super(),nc(this,e,sue,iue,eo,{showModal:3,N0:4,Reset:5,binnedData:6,stats:7,gainloss:8,satAngle:9,cr:10,factor:11,Raindx:12,Rbindx:13,SatGainScale:14,ApplyEIRPMask:15,MASKOffset:16,totalI:17},null,[-1,-1])}get Reset(){return this.$$.ctx[5]}}function SS(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function TS(t,e,n){const r=t.slice();return r[7]=e[n],r}function kS(t){let e=t[2].label+"",n,r,i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=ES(TS(t,l,f));return{c(){n=Ce(e),r=ve(),i=Y("select");for(let f=0;f<c.length;f+=1)c[f].c();H(i,"class","ui selection dropdown"),t[0]===void 0&&wo(()=>t[4].call(i))},m(f,p){vt(f,n,p),vt(f,r,p),vt(f,i,p);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);Dl(i,t[0],!0),s||(a=je(i,"change",t[4]),s=!0)},p(f,p){if(p&4&&e!==(e=f[2].label+"")&&bt(n,e),p&2){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=TS(f,l,m);c[m]?c[m].p(g,p):(c[m]=ES(g),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}p&3&&Dl(i,f[0])},d(f){f&&ht(n),f&&ht(r),f&&ht(i),Cc(c,f),s=!1,a()}}}function ES(t){let e,n=t[7]+"",r,i;return{c(){e=Y("option"),r=Ce(n),e.__value=i=t[7],e.value=e.__value},m(s,a){vt(s,e,a),P(e,r)},p(s,a){a&2&&n!==(n=s[7]+"")&&bt(r,n),a&2&&i!==(i=s[7])&&(e.__value=i,e.value=e.__value)},d(s){s&&ht(e)}}}function MS(t){let e,n,r=t[2].label+"",i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=CS(SS(t,l,f));return{c(){e=Y("div"),n=Y("label"),i=Ce(r),a=ve();for(let f=0;f<c.length;f+=1)c[f].c();H(n,"for",s=t[2].label),H(n,"class","ui label right pointing blue"),H(e,"class","ui container raised segment")},m(f,p){vt(f,e,p),P(e,n),P(n,i),P(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null)},p(f,p){if(p&4&&r!==(r=f[2].label+"")&&bt(i,r),p&4&&s!==(s=f[2].label)&&H(n,"for",s),p&3){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=SS(f,l,m);c[m]?c[m].p(g,p):(c[m]=CS(g),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(f){f&&ht(e),Cc(c,f)}}}function CS(t){let e,n,r=!1,i,s,a=t[7]+"",l,c,f,p,m;return f=yU(t[6][0]),{c(){e=Y("input"),i=ve(),s=Y("label"),l=Ce(a),c=ve(),H(e,"type","radio"),e.__value=n=t[7],e.value=e.__value,f.p(e)},m(g,y){vt(g,e,y),e.checked=e.__value===t[0],vt(g,i,y),vt(g,s,y),P(s,l),P(s,c),p||(m=je(e,"change",t[5]),p=!0)},p(g,y){y&2&&n!==(n=g[7])&&(e.__value=n,e.value=e.__value,r=!0),(r||y&3)&&(e.checked=e.__value===g[0]),y&2&&a!==(a=g[7]+"")&&bt(l,a)},d(g){g&&ht(e),g&&ht(i),g&&ht(s),f.r(),p=!1,m()}}}function oue(t){let e,n,r=t[3]=="select"&&kS(t),i=t[3]=="radio"&&MS(t);return{c(){r&&r.c(),e=ve(),i&&i.c(),n=P_()},m(s,a){r&&r.m(s,a),vt(s,e,a),i&&i.m(s,a),vt(s,n,a)},p(s,[a]){s[3]=="select"?r?r.p(s,a):(r=kS(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[3]=="radio"?i?i.p(s,a):(i=MS(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:Rn,o:Rn,d(s){r&&r.d(s),s&&ht(e),i&&i.d(s),s&&ht(n)}}}function lue(t,e,n){let{data:r}=e,{value:i}=e,{opts:s={label:""}}=e,{type:a}=e;const l=[[]];function c(){i=Ed(this),n(0,i),n(1,r)}function f(){i=this.__value,n(0,i),n(1,r)}return t.$$set=p=>{"data"in p&&n(1,r=p.data),"value"in p&&n(0,i=p.value),"opts"in p&&n(2,s=p.opts),"type"in p&&n(3,a=p.type)},[i,r,s,a,c,f,l]}class AS extends rc{constructor(e){super(),nc(this,e,lue,oue,eo,{data:1,value:0,opts:2,type:3})}}function $r(t,e,n){return{resolve(r=n){return`${t}@${e}/${r}`}}}const uue=$r("d3","7.8.5","dist/d3.min.js"),cue=$r("@observablehq/inputs","0.10.5","dist/inputs.min.js"),fue=$r("@observablehq/plot","0.6.9","dist/plot.umd.min.js"),hue=$r("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),sy=$r("@observablehq/highlight.js","2.0.0","highlight.min.js"),IS=$r("@observablehq/katex","0.11.1","dist/katex.min.js"),due=$r("lodash","4.17.21","lodash.min.js"),pue=$r("htl","0.3.1","dist/htl.min.js"),mue=$r("jszip","3.10.1","dist/jszip.min.js"),gue=$r("marked","0.3.12","marked.min.js"),RS=$r("sql.js","1.8.0","dist/sql-wasm.js"),_ue=$r("vega","5.22.1","build/vega.min.js"),vue=$r("vega-lite","5.6.0","build/vega-lite.min.js"),yue=$r("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),r3=$r("apache-arrow","4.0.1","Arrow.es2015.min.js"),bue=$r("apache-arrow","9.0.0","+esm"),RN=$r("apache-arrow","11.0.0","+esm"),wue=$r("arquero","4.8.8","dist/arquero.min.js"),xue=$r("topojson-client","3.1.0","dist/topojson-client.min.js"),Sue=$r("exceljs","4.3.0","dist/exceljs.min.js"),Tue=$r("mermaid","9.2.2","dist/mermaid.min.js"),PS=$r("leaflet","1.9.3","dist/leaflet.js"),Td=$r("@duckdb/duckdb-wasm","1.24.0","+esm"),km=new Map,b1=[],i3=b1.map,kue=b1.some,Eue=b1.hasOwnProperty,Mue=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,Cue=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,NS=/(?:\.[^/]*|\/)$/;class Ah extends Error{constructor(e){super(e)}}Ah.prototype.name=Ah.name;function LS(t){const e=Mue.exec(t);return e&&{name:e[1],version:e[2],path:e[3]}}function PN(t="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw new Error("origin lacks trailing slash");function n(i){for(const s of e){let a=i[s];if(typeof a=="string")return a.startsWith("./")&&(a=a.slice(2)),NS.test(a)?a:`${a}.js`}}function r(i){const s=`${t}${i.name}${i.version?`@${i.version}`:""}/package.json`;let a=km.get(s);return a||km.set(s,a=fetch(s).then(l=>{if(!l.ok)throw new Ah("unable to load package.json");return l.redirected&&!km.has(l.url)&&km.set(l.url,a),l.json()})),a}return async function(s,a){if(s.startsWith(t)&&(s=s.substring(t.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,a??location).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new Ah("illegal name");const l=LS(s);if(!l)return`${t}${s}`;if(!l.version&&a!=null&&a.startsWith(t)){const f=await r(LS(a.substring(t.length)));l.version=f.dependencies&&f.dependencies[l.name]||f.peerDependencies&&f.peerDependencies[l.name]}if(l.path&&!NS.test(l.path)&&(l.path+=".js"),l.path&&l.version&&Cue.test(l.version))return`${t}${l.name}@${l.version}/${l.path}`;const c=await r(l);return`${t}${c.name}@${c.version}/${l.path||n(c)||"index.js"}`}}var Aue=q2(PN());function q2(t){const e=new Map,n=i(null);function r(l){if(typeof l!="string")return l;let c=e.get(l);return c||e.set(l,c=new Promise((f,p)=>{const m=document.createElement("script");m.onload=()=>{try{f(b1.pop()(i(l)))}catch{p(new Ah("invalid module"))}m.remove()},m.onerror=()=>{p(new Ah("unable to load module")),m.remove()},m.async=!0,m.src=l,window.define=NN,document.head.appendChild(m)})),c}function i(l){return c=>Promise.resolve(t(c,l)).then(r)}function s(l){return q2((c,f)=>c in l&&(c=l[c],f=null,typeof c!="string")?c:t(c,f))}function a(l){return arguments.length>1?Promise.all(i3.call(arguments,n)).then(Iue):n(l)}return a.alias=s,a.resolve=t,a}function Iue(t){const e={};for(const n of t)for(const r in n)Eue.call(n,r)&&(n[r]==null?Object.defineProperty(e,r,{get:Rue(n,r)}):e[r]=n[r]);return e}function Rue(t,e){return()=>t[e]}function Pue(t){return t=t+"",t==="exports"||t==="module"}function NN(t,e,n){const r=arguments.length;r<2?(n=t,e=[]):r<3&&(n=e,e=typeof t=="string"?[]:t),b1.push(kue.call(e,Pue)?i=>{const s={},a={exports:s};return Promise.all(i3.call(e,l=>(l=l+"",l==="exports"?s:l==="module"?a:i(l)))).then(l=>(n.apply(null,l),a.exports))}:i=>Promise.all(i3.call(e,i)).then(s=>typeof n=="function"?n.apply(null,s):n))}NN.amd={};const Dc="https://cdn.observableusercontent.com/npm/";let Gc=Aue;function Nue(t){Gc=t}function Lue(t){return t==null?Gc:q2(t)}async function LN(t){const[e,n]=await Promise.all([t(RS.resolve()),t.resolve(RS.resolve("dist/"))]);return e({locateFile:r=>`${n}${r}`})}class w1{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[n,r]=await Promise.all([LN(Gc),Promise.resolve(e).then(s3)]);return new w1(new n.Database(r))}async query(e,n){return await Due(this._db,e,n)}async queryRow(e,n){return(await this.query(e,n))[0]||null}async explain(e,n){const r=await this.query(`EXPLAIN QUERY PLAN ${e}`,n);return kc("pre",{className:"observablehq--inspect"},[ay(r.map(i=>i.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,e==null?[]:[e])}async describeColumns({schema:e,table:n}={}){if(n==null)throw new Error("missing table");const r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[n]:[n,e]);if(!r.length)throw new Error(`table not found: ${n}`);return r.map(({name:i,type:s,notnull:a})=>({name:i,type:Oue(s),databaseType:s,nullable:!a}))}async describe(e){const n=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!n.length)throw new Error("Not found");const{columns:r}=n;return kc("table",{value:n},[kc("thead",[kc("tr",r.map(i=>kc("th",[ay(i)])))]),kc("tbody",n.map(i=>kc("tr",r.map(s=>kc("td",[ay(i[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...n){return[e.join("?"),n]}}Object.defineProperty(w1.prototype,"dialect",{value:"sqlite"});function Oue(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}function s3(t){return typeof t=="string"?fetch(t).then(s3):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(s3):t instanceof ArrayBuffer?new Uint8Array(t):t}async function Due(t,e,n){const[r]=await t.exec(e,n);if(!r)return[];const{columns:i,values:s}=r,a=s.map(l=>Object.fromEntries(l.map((c,f)=>[i[f],c])));return a.columns=i,a}function kc(t,e,n){arguments.length===2&&(n=e,e=void 0);const r=document.createElement(t);if(e!==void 0)for(const i in e)r[i]=e[i];if(n!==void 0)for(const i of n)r.appendChild(i);return r}function ay(t){return document.createTextNode(t)}function C6(t){return t&&typeof t.toArrowBuffer=="function"}function w_(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Bue(t){return t.schema.fields.map(zue)}function zue(t){return{name:t.name,type:Fue(t.type),nullable:t.nullable,databaseType:String(t.type)}}function Fue(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function A6(){return await xp(()=>import(`${Dc}${RN.resolve()}`),[])}let oy;class x1{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,n){const r=await this._db.connect();let i,s;try{if((n==null?void 0:n.length)>0?i=await(await r.prepare(e)).send(...n):i=await r.send(e),s=await i.next(),s.done)throw new Error("missing first batch")}catch(a){throw await r.close(),a}return{schema:Bue(s.value),async*readRows(){try{for(;!s.done;)yield s.value.toArray(),s=await i.next()}finally{await r.close()}}}}async query(e,n){const r=await this.queryStream(e,n),i=[];for await(const s of r.readRows())for(const a of s)i.push(a);return i.schema=r.schema,i}async queryRow(e,n){const i=(await this.queryStream(e,n)).readRows();try{const{done:s,value:a}=await i.next();return s||!a.length?null:a[0]}finally{await i.return()}}async sql(e,...n){return await this.query(e.join("?"),n)}queryTag(e,...n){return[e.join("?"),n]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:n})=>({name:n}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:r,column_type:i,null:s})=>({name:r,type:Gue(i),nullable:s!=="NO",databaseType:i}))}static async of(e={},n={}){var i,s;const r=await Wue();return((i=n.query)==null?void 0:i.castTimestampToDate)===void 0&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),((s=n.query)==null?void 0:s.castBigIntToDouble)===void 0&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await r.open(n),await Promise.all(Object.entries(e).map(async([a,l])=>{if(l instanceof Xs)await OS(r,a,l);else if(w_(l))await x_(r,a,l);else if(Array.isArray(l))await DS(r,a,l);else if(C6(l))await que(r,a,l);else if("data"in l){const{data:c,...f}=l;w_(c)?await x_(r,a,c,f):await DS(r,a,c,f)}else if("file"in l){const{file:c,...f}=l;await OS(r,a,c,f)}else throw new Error(`invalid source: ${l}`)})),new x1(r)}}Object.defineProperty(x1.prototype,"dialect",{value:"duckdb"});async function OS(t,e,n,r){const i=await n.url();if(i.startsWith("blob:")){const a=await n.arrayBuffer();await t.registerFileBuffer(n.name,new Uint8Array(a))}else await t.registerFileURL(n.name,i,4);const s=await t.connect();try{switch(n.mimeType){case"text/csv":case"text/tab-separated-values":return await s.insertCSVFromPath(n.name,{name:e,schema:"main",...r}).catch(async a=>{if(a.toString().includes("Could not convert"))return await Uue(s,n,e);throw a});case"application/json":return await s.insertJSONFromPath(n.name,{name:e,schema:"main",...r});default:if(/\.arrow$/i.test(n.name)){const a=new Uint8Array(await n.arrayBuffer());return await s.insertArrowFromIPCStream(a,{name:e,schema:"main",...r})}if(/\.parquet$/i.test(n.name))return await s.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${n.name}')`);throw new Error(`unknown file type: ${n.mimeType}`)}}finally{await s.close()}}async function Uue(t,e,n){return await(await t.prepare(`CREATE TABLE '${n}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`)).send(e.name)}async function x_(t,e,n,r){const i=await t.connect();try{await i.insertArrowTable(n,{name:e,schema:"main",...r})}finally{await i.close()}}async function que(t,e,n){const i=(await A6()).tableFromIPC(n.toArrowBuffer());return await x_(t,e,i)}async function DS(t,e,n,r){const s=(await A6()).tableFromJSON(n);return await x_(t,e,s,r)}async function Hue(){const t=await xp(()=>import(`${Dc}${Td.resolve()}`),[]),e=await t.selectBundle({mvp:{mainModule:`${Dc}${Td.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${Dc}${Td.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${Dc}${Td.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${Dc}${Td.resolve("dist/duckdb-browser-eh.worker.js")}`}}),n=new t.ConsoleLogger;return{module:t,bundle:e,logger:n}}async function Wue(){oy===void 0&&(oy=Hue());const{module:t,bundle:e,logger:n}=await oy,r=await t.createWorker(e.mainWorker),i=new t.AsyncDuckDB(n,r);return await i.instantiate(e.mainModule),i}function Gue(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(t)?"integer":"other"}}const I6=20;function $ue(t,e){return t&&(typeof t.sql=="function"||typeof t.queryTag=="function"&&(typeof t.query=="function"||typeof t.queryStream=="function"))&&(e!=="table"||typeof t.describeColumns=="function")&&t!==qN}function H2(t){return Array.isArray(t)&&(ON(t.schema)||DN(t.columns)||Vue(t)||zN(t)||FN(t))||UN(t)}function Vue(t){const e=Math.min(I6,t.length);for(let n=0;n<e;++n){const r=t[n];if(r===null||typeof r!="object")return!1}return e>0&&Zue(t[0])}function Zue(t){for(const e in t)return!0;return!1}function ON(t){return Array.isArray(t)&&t.every(Yue)}function DN(t){return Array.isArray(t)&&t.every(e=>typeof e=="string")}function Yue(t){return t&&typeof t.name=="string"&&typeof t.type=="string"}function BN(t){return UN(t)||zN(t)||FN(t)}function zN(t){const e=Math.min(I6,t.length);if(!(e>0))return!1;let n,r=!1;for(let i=0;i<e;++i){const s=t[i];if(s==null)continue;const a=typeof s;if(n===void 0)switch(a){case"number":case"boolean":case"string":case"bigint":n=a;break;default:return!1}else if(a!==n)return!1;r=!0}return r}function FN(t){const e=Math.min(I6,t.length);if(!(e>0))return!1;let n=!1;for(let r=0;r<e;++r){const i=t[r];if(i!=null){if(!(i instanceof Date))return!1;n=!0}}return n}function UN(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}const qN=Object.assign(async(t,e,n,r)=>{if(t=await jue(await t,r),$ue(t))return BS(t,ece(e,t),n);if(H2(t))return yce(t,e);throw t?new Error("invalid data source"):new Error("missing data source")},{sql(t,e,n){return async function(){return BS(await Kue(await t,n),arguments,e)}}});function HN(t){const e=new WeakMap;return(n,r)=>{if(!n||typeof n!="object")throw new Error("invalid data source");let i=e.get(n);return(!i||H2(n)&&n.length!==i._numRows)&&(i=t(n,r),i._numRows=n.length,e.set(n,i)),i}}const jue=HN(async(t,e)=>{if(t instanceof Xs){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return $f(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return w_(t)||C6(t)?$f(t,e):H2(t)&&BN(t)?Array.from(t,n=>({value:n})):t}),Kue=HN(async(t,e)=>{if(t instanceof Xs){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return $f(t,e);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return $f(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return H2(t)?$f(await Xue(t,e),e):w_(t)||C6(t)?$f(t,e):t});async function Xue(t,e){const n=await A6();return BN(t)?n.tableFromArrays({[e]:t}):n.tableFromJSON(t)}function $f(t,e=t instanceof Xs?Jue(t):"__table"){return x1.of({[e]:t})}function Jue(t){return t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function BS(t,e,n){if(!t)throw new Error("missing data source");if(typeof t.queryTag=="function"){const r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),typeof t.queryStream=="function")return Que(t.queryStream(...t.queryTag.apply(t,e),i));if(typeof t.query=="function")return t.query(...t.queryTag.apply(t,e),i)}if(typeof t.sql=="function")return t.sql.apply(t,e);throw new Error("source does not implement query, queryStream, or sql")}async function*Que(t){let e=performance.now();const n=await t,r=[];r.done=!1,r.error=null,r.schema=n.schema;try{for await(const i of n.readRows()){performance.now()-e>150&&r.length>0&&(yield r,e=performance.now());for(const s of i)r.push(s)}r.done=!0,yield r}catch(i){r.error=i,yield r}}function ece(t,e){var m;const n=typeof e.escape=="function"?e.escape:g=>g,{select:r,from:i,filter:s,sort:a,slice:l}=t;if(!i.table)throw new Error("missing from table");if(r.columns&&r.columns.length===0)throw new Error("at least one column must be selected");const c=new Map((m=t.names)==null?void 0:m.map(({column:g,name:y})=>[g,y])),p=[[`SELECT ${r.columns?r.columns.map(g=>{const y=c.get(g);return y?`${n(g)} AS ${n(y)}`:n(g)}).join(", "):"*"} FROM ${tce(i.table,n)}`]];for(let g=0;g<s.length;++g)Wr(g?`
AND `:`
WHERE `,p),nce(s[g],p,n);for(let g=0;g<a.length;++g)Wr(g?", ":`
ORDER BY `,p),zS(a[g],p,n);if(e.dialect==="mssql"||e.dialect==="oracle"){if(l.to!==null||l.from!==null){if(!a.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");Wr(`
ORDER BY `,p),zS({column:r.columns[0],direction:"ASC"},p,n)}Wr(`
OFFSET ${l.from||0} ROWS`,p),Wr(`
FETCH NEXT ${l.to!==null?l.to-(l.from||0):1e9} ROWS ONLY`,p)}}else(l.to!==null||l.from!==null)&&Wr(`
LIMIT ${l.to!==null?l.to-(l.from||0):1e9}`,p),l.from!==null&&Wr(` OFFSET ${l.from}`,p);return p}function tce(t,e){if(typeof t=="object"){let n="";return t.database!=null&&(n+=e(t.database)+"."),t.schema!=null&&(n+=e(t.schema)+"."),n+=e(t.table),n}else return e(t)}function Wr(t,e){const n=e[0];n[n.length-1]+=t}function zS({column:t,direction:e},n,r){Wr(`${r(t)} ${e.toUpperCase()}`,n)}function nce({type:t,operands:e},n,r){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1||t==="v"||t==="nv")switch(Bf(e[0],n,r),t){case"n":case"nv":Wr(" IS NULL",n);return;case"nn":case"v":Wr(" IS NOT NULL",n);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(t))if(["c","nc"].includes(t)){switch(Bf(e[0],n,r),t){case"c":Wr(" LIKE ",n);break;case"nc":Wr(" NOT LIKE ",n);break}Bf(ice(e[1]),n,r);return}else{switch(Bf(e[0],n,r),t){case"eq":Wr(" = ",n);break;case"ne":Wr(" <> ",n);break;case"gt":Wr(" > ",n);break;case"lt":Wr(" < ",n);break;case"gte":Wr(" >= ",n);break;case"lte":Wr(" <= ",n);break;default:throw new Error("Invalid filter operation")}Bf(e[1],n,r);return}switch(Bf(e[0],n,r),t){case"in":Wr(" IN (",n);break;case"nin":Wr(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}rce(e.slice(1),n),Wr(")",n)}function Bf(t,e,n){t.type==="column"?Wr(n(t.value),e):(e.push(t.value),e[0].push(""))}function rce(t,e){let n=!0;for(const r of t)n?n=!1:Wr(",",e),e.push(r.value),e[0].push("")}function ice(t){return{...t,value:`%${t.value}%`}}function WN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))}function sce(t,e){return WN(t,e)||(t<e?-1:t>e?1:0)}function ace(t,e){return WN(t,e)||(t>e?-1:t<e?1:0)}const oce=t=>typeof t=="number"&&!Number.isNaN(t),lce=t=>Number.isInteger(t)&&!Number.isNaN(t),uce=t=>typeof t=="string",cce=t=>typeof t=="boolean",fce=t=>typeof t=="bigint",hce=t=>t instanceof Date&&!isNaN(t),dce=t=>t instanceof ArrayBuffer,pce=t=>Array.isArray(t),mce=t=>typeof t=="object"&&t!==null,gce=t=>t!=null;function FS(t){switch(t){case"string":return uce;case"bigint":return fce;case"boolean":return cce;case"number":return oce;case"integer":return lce;case"date":return hce;case"buffer":return dce;case"array":return pce;case"object":return mce;case"other":default:return gce}}const GN=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function _ce(t,e){switch(e){case"string":return typeof t=="string"||t==null?t:String(t);case"boolean":if(typeof t=="string"){const n=t.trim().toLowerCase();return n==="true"?!0:n==="false"?!1:null}return typeof t=="boolean"||t==null?t:!!t;case"bigint":return typeof t=="bigint"||t==null?t:Number.isInteger(typeof t=="string"&&!t.trim()?NaN:+t)?BigInt(t):void 0;case"integer":case"number":return typeof t=="number"?t:t==null||typeof t=="string"&&!t.trim()?NaN:Number(t);case"date":{if(t instanceof Date||t==null)return t;if(typeof t=="number")return new Date(t);const n=String(t).trim();return typeof t=="string"&&!n?null:new Date(GN.test(n)?n:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw new Error(`Unable to coerce to type: ${e}`)}}function vce(t){const{columns:e}=t;let{schema:n}=t;return ON(n)?{schema:n,inferred:!1}:(n=$N(t,DN(e)?e:void 0),{schema:n,inferred:!0})}function US(t,e){const n=t;let{schema:r,inferred:i}=vce(t);const s=new Map(r.map(({name:a,type:l})=>[a,l]));if(e.types){for(const{name:a,type:l}of e.types){s.set(a,l),r===n.schema&&(r=r.slice());const c=r.findIndex(f=>f.name===a);c>-1&&(r[c]={...r[c],type:l})}t=t.map(a=>a3(a,s,r))}else i&&(t=t.map(a=>a3(a,s,r)));return{source:t,schema:r}}function qS(t,e){if(!e.names)return t;const n=new Map(e.names.map(r=>[r.column,r]));return t.map(r=>Object.fromEntries(Object.keys(r).map(i=>{const s=n.get(i);return[(s==null?void 0:s.name)??i,r[i]]})))}function yce(t,e){const n=new Map,r=t,i=US(t,e);t=i.source;let s=i.schema;if(e.derive){const f=[];e.derive.map(({name:m,value:g})=>{let y=[];qS(t,e).map((w,S)=>{let I;try{I=g(w)}catch(R){y.push({index:S,error:R}),I=void 0}f[S]?f[S]={...f[S],[m]:I}:f.push({[m]:I})}),y.length&&n.set(m,y)});const p=US(f,e);t=t.map((m,g)=>({...m,...p.source[g]})),s=[...s,...p.schema]}for(const{type:f,operands:p}of e.filter){const[{value:m}]=p,g=p.slice(1).map(({value:y})=>y);switch(f){case"v":{const[y]=g,w=FS(y);t=t.filter(S=>w(S[m]));break}case"nv":{const[y]=g,w=FS(y);t=t.filter(S=>!w(S[m]));break}case"eq":{const[y]=g;if(y instanceof Date){const w=+y;t=t.filter(S=>+S[m]===w)}else t=t.filter(w=>w[m]===y);break}case"ne":{const[y]=g;t=t.filter(w=>w[m]!==y);break}case"c":{const[y]=g;t=t.filter(w=>typeof w[m]=="string"&&w[m].includes(y));break}case"nc":{const[y]=g;t=t.filter(w=>typeof w[m]=="string"&&!w[m].includes(y));break}case"in":{const y=new Set(g);t=t.filter(w=>y.has(w[m]));break}case"nin":{const y=new Set(g);t=t.filter(w=>!y.has(w[m]));break}case"n":{t=t.filter(y=>y[m]==null);break}case"nn":{t=t.filter(y=>y[m]!=null);break}case"lt":{const[y]=g;t=t.filter(w=>w[m]<y);break}case"lte":{const[y]=g;t=t.filter(w=>w[m]<=y);break}case"gt":{const[y]=g;t=t.filter(w=>w[m]>y);break}case"gte":{const[y]=g;t=t.filter(w=>w[m]>=y);break}default:throw new Error(`unknown filter type: ${f}`)}}for(const{column:f,direction:p}of sp(e.sort)){const m=p==="desc"?ace:sce;t===r&&(t=t.slice()),t.sort((g,y)=>m(g[f],y[f]))}let{from:a,to:l}=e.slice;a=a==null?0:Math.max(0,a),l=l==null?1/0:Math.max(0,l),(a>0||l<1/0)&&(t=t.slice(Math.max(0,a),Math.max(0,l)));let c=s.slice();if(e.select.columns){if(s){const f=new Map(s.map(p=>[p.name,p]));s=e.select.columns.map(p=>f.get(p))}t=t.map(f=>Object.fromEntries(e.select.columns.map(p=>[p,f[p]])))}if(e.names){const f=new Map(e.names.map(p=>[p.column,p]));s&&(s=s.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),c&&(c=c.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),t=qS(t,e)}return t!==r&&s&&(t.schema=s),t.fullSchema=c,t.errors=n,t}function a3(t,e,n){const r={};for(const i of n){const s=e.get(i.name),a=t[i.name];r[i.name]=s==="raw"?a:_ce(a,s)}return r}function bce(){return{boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0}}const wce=["boolean","integer","number","date","bigint","array","object","buffer"];function xce(t){const e=new Set;for(const n of t)if(n)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.add(r);return Array.from(e)}function $N(t,e=xce(t)){const n=[],i=t.slice(0,100);for(const s of e){const a=bce();for(const f of i){let p=f[s];if(p==null)continue;const m=typeof p;if(m!=="string")++a.defined,Array.isArray(p)?++a.array:p instanceof Date?++a.date:p instanceof ArrayBuffer?++a.buffer:m==="number"?(++a.number,Number.isInteger(p)&&++a.integer):m in a&&++a[m];else{if(p=p.trim(),!p)continue;++a.defined,++a.string,/^(true|false)$/i.test(p)?++a.boolean:p&&!isNaN(p)?(++a.number,Number.isInteger(+p)&&++a.integer):GN.test(p)&&++a.date}}const l=Math.max(1,a.defined*.9),c=A3(wce,f=>a[f]>=l?a[f]:NaN)??(a.string>=l?"string":"other");n.push({name:s,type:c,inferred:c})}return n}class Sce{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(n=>n.name),enumerable:!0}})}sheet(e,n){const r=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(r==null)throw new Error(`Sheet not found: ${e}`);const i=this._.getWorksheet(r);return Tce(i,n)}}function Tce(t,{range:e,headers:n}={}){let[[r,i],[s,a]]=kce(e,t);const l=n?t._rows[i++]:null;let c=new Set(["#"]);for(let p=r;p<=s;p++){const m=l?HS(l.findCell(p+1)):null;let g=m&&m+""||Ece(p);for(;c.has(g);)g+="_";c.add(g)}c=new Array(r).concat(Array.from(c));const f=new Array(a-i+1);for(let p=i;p<=a;p++){const m=f[p-i]=Object.create(null,{"#":{value:p+1}}),g=t.getRow(p+1);if(g.hasValues)for(let y=r;y<=s;y++){const w=HS(g.findCell(y+1));w!=null&&(m[c[y+1]]=w)}}return f.columns=c.filter(()=>!0),f}function HS(t){if(!t)return;const{value:e}=t;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return WS(e);if(e.text){let{text:n}=e;return n.richText&&(n=WS(n)),e.hyperlink&&e.hyperlink!==n?`${e.hyperlink} ${n}`:n}return e}return e}function WS(t){return t.richText.map(e=>e.text).join("")}function kce(t=":",{columnCount:e,rowCount:n}){if(t+="",!t.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,i=0],[s=e-1,a=n-1]]=t.split(":").map(Mce);return[[r,i],[s,a]]}function Ece(t){let e="";t++;do e=String.fromCharCode(64+(t%26||26))+e;while(t=Math.floor((t-1)/26));return e}function Mce(t){const[,e,n]=t.match(/^([A-Z]*)(\d*)$/);let r=0;if(e)for(let i=0;i<e.length;i++)r+=Math.pow(26,e.length-i-1)*(e.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function Cu(t){const e=await fetch(await t.url());if(!e.ok)throw new Error(`Unable to load file: ${t.name}`);return e}function Cce(t,e){const n=new Map(e.map(({name:r,type:i})=>[r,i]));return Object.assign(t.map(r=>a3(r,n,e)),{schema:e})}async function GS(t,e,{array:n=!1,typed:r=!1}={}){const i=await t.text(),s=e==="	"?n?JG:XG:n?KG:aE;if(r==="auto"&&!n){const a=s(i);return Cce(a,$N(a,a.columns))}return s(i,r&&vg)}class R6{constructor(e,n){Object.defineProperty(this,"name",{value:e,enumerable:!0}),n!==void 0&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await Cu(this)).blob()}async arrayBuffer(){return(await Cu(this)).arrayBuffer()}async text(){return(await Cu(this)).text()}async json(){return(await Cu(this)).json()}async stream(){return(await Cu(this)).body}async csv(e){return GS(this,",",e)}async tsv(e){return GS(this,"	",e)}async image(e){const n=await this.url();return new Promise((r,i)=>{const s=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,e),s.onload=()=>r(s),s.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),s.src=n})}async arrow({version:e=4}={}){switch(e){case 4:{const[n,r]=await Promise.all([Gc(r3.resolve()),Cu(this)]);return n.Table.from(r)}case 9:{const[n,r]=await Promise.all([xp(()=>import(`${Dc}${bue.resolve()}`),[]),Cu(this)]);return n.tableFromIPC(r)}case 11:{const[n,r]=await Promise.all([xp(()=>import(`${Dc}${RN.resolve()}`),[]),Cu(this)]);return n.tableFromIPC(r)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return w1.open(Cu(this))}async zip(){const[e,n]=await Promise.all([Gc(mue.resolve()),this.arrayBuffer()]);return new Ice(await e.loadAsync(n))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,n]=await Promise.all([Gc(Sue.resolve()),this.arrayBuffer()]);return new Sce(await new e.Workbook().xlsx.load(n))}}class Xs extends R6{constructor(e,n,r){super(n,r),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function Ace(t){throw new Error(`File not found: ${t}`)}class Ice{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(n=>!e.files[n].dir)}file(e){const n=this._.file(e+="");if(!n||n.dir)throw new Error(`file not found: ${e}`);return new Rce(n)}}class Rce extends R6{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function Pce(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function Nce(t,e,n){n==null&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=t*n,r.height=e*n,r.style.width=t+"px";var i=r.getContext("2d");return i.scale(n,n),i}function Lce(t,e="untitled",n="Save"){const r=document.createElement("a"),i=r.appendChild(document.createElement("button"));i.textContent=n,r.download=e;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return r.onclick=async a=>{if(i.disabled=!0,r.href)return s();i.textContent="Saving";try{const l=await(typeof t=="function"?t():t);i.textContent="Download",r.href=URL.createObjectURL(l)}catch{i.textContent=n}if(a.eventPhase)return s();i.disabled=!1},r}var Em={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oce(t,e){var n=t+="",r=n.indexOf(":"),i;r>=0&&(n=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1));var s=Em.hasOwnProperty(n)?document.createElementNS(Em[n],t):document.createElement(t);if(e)for(var a in e)n=a,r=n.indexOf(":"),i=e[a],r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),Em.hasOwnProperty(n)?s.setAttributeNS(Em[n],a,i):s.setAttribute(a,i);return s}function Dce(t){var e=document.createElement("input");return t!=null&&(e.type=t),e}function Bce(t,e,n){arguments.length===1&&(e=t,t=null);var r=document.createElement("input");return r.min=t=t==null?0:+t,r.max=e=e==null?1:+e,r.step=n==null?"any":n=+n,r.type="range",r}function zce(t){var e=document.createElement("select");return Array.prototype.forEach.call(t,function(n){var r=document.createElement("option");r.value=r.textContent=n,e.appendChild(r)}),e}function Fce(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,t,e]),n.setAttribute("width",t),n.setAttribute("height",e),n}function Uce(t){return document.createTextNode(t)}var qce=0;function VN(t){return new ZN("O-"+(t==null?"":t+"-")+ ++qce)}function ZN(t){this.id=t,this.href=new URL(`#${t}`,location)+""}ZN.prototype.toString=function(){return"url("+this.href+")"};const Hce=Object.freeze(Object.defineProperty({__proto__:null,canvas:Pce,context2d:Nce,download:Lce,element:Oce,input:Dce,range:Bce,select:zce,svg:Fce,text:Uce,uid:VN},Symbol.toStringTag,{value:"Module"}));function Wce(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsArrayBuffer(t)})}function Gce(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t)})}function $ce(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})}const Vce=Object.freeze(Object.defineProperty({__proto__:null,buffer:Wce,text:Gce,url:$ce},Symbol.toStringTag,{value:"Module"}));function P6(){return this}function YN(t,e){let n=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:P6,next:()=>n?{done:!0}:(n=!0,{done:!1,value:t}),return:()=>(n=!0,e(t),{done:!0}),throw:()=>({done:n=!0})}}function*Zce(t,e){for(var n,r=-1;!(n=t.next()).done;)e(n.value,++r)&&(yield n.value)}function W2(t){let e=!1,n,r;const i=t(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(l){return r?(r(l),r=null):e=!0,n=l}function a(){return{done:!1,value:e?(e=!1,Promise.resolve(n)):new Promise(l=>r=l)}}return{[Symbol.iterator]:P6,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:a}}function Yce(t){return W2(function(e){var n=jce(t),r=$S(t);function i(){e($S(t))}return t.addEventListener(n,i),r!==void 0&&e(r),function(){t.removeEventListener(n,i)}})}function $S(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,e=>e.value);default:return t.value}}function jce(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*Kce(t,e){for(var n,r=-1;!(n=t.next()).done;)yield e(n.value,++r)}function Xce(t){let e;const n=[],r=t(i);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(a){return n.push(a),e&&(e(n.shift()),e=null),a}function s(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(a=>e=a)}}return{[Symbol.iterator]:P6,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*Jce(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0;++r<i;)yield t+r*n}function Qce(t,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var n,r=-1;!(n=t.next()).done;)if(++r===e)return n.value}}function e0e(t){const e=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),n=new Worker(e);return YN(n,()=>{n.terminate(),URL.revokeObjectURL(e)})}const t0e=Object.freeze(Object.defineProperty({__proto__:null,disposable:YN,filter:Zce,input:Yce,map:Kce,observe:W2,queue:Xce,range:Jce,valueAt:Qce,worker:e0e},Symbol.toStringTag,{value:"Module"}));function N6(t,e){return function(n){var r=n[0],i=[],s,a=null,l,c,f,p,m,g,y,w=-1;for(p=1,m=arguments.length;p<m;++p){if(s=arguments[p],s instanceof Node)i[++w]=s,r+="<!--o:"+w+"-->";else if(Array.isArray(s)){for(g=0,y=s.length;g<y;++g)l=s[g],l instanceof Node?(a===null&&(i[++w]=a=document.createDocumentFragment(),r+="<!--o:"+w+"-->"),a.appendChild(l)):(a=null,r+=l);a=null}else r+=s;r+=n[p]}if(a=t(r),++w>0){for(c=new Array(w),f=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null,!1);f.nextNode();)l=f.currentNode,/^o:/.test(l.nodeValue)&&(c[+l.nodeValue.slice(2)]=l);for(p=0;p<w;++p)(l=c[p])&&l.parentNode.replaceChild(i[p],l)}return a.childNodes.length===1?a.removeChild(a.firstChild):a.nodeType===11?((l=e()).appendChild(a),l):a}}const n0e=N6(function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function r0e(t){const e=await t(PS.resolve());if(!e._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await t.resolve(PS.resolve("dist/leaflet.css")),e._style=document.head.appendChild(n)}return e}function i0e(t){return t(gue.resolve()).then(function(e){return N6(function(n){var r=document.createElement("div");r.innerHTML=e(n,{langPrefix:""}).trim();var i=r.querySelectorAll("pre code[class]");return i.length>0&&t(sy.resolve()).then(function(s){i.forEach(function(a){function l(){s.highlightBlock(a),a.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(a.className)?l():t(sy.resolve("async-languages/index.js")).then(c=>{if(c.has(a.className))return t(sy.resolve("async-languages/"+c.get(a.className))).then(f=>{s.registerLanguage(a.className,f)})}).then(l,l)})}),r},function(){return document.createElement("div")})})}async function s0e(t){const e=await t(Tue.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){const r=document.createElement("div");return r.innerHTML=e.render(VN().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function a0e(t){let e;Object.defineProperties(this,{generator:{value:W2(n=>void(e=n))},value:{get:()=>t,set:n=>e(t=n)}}),t!==void 0&&e(t)}function*o0e(){for(;;)yield Date.now()}function l0e(t,e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}var o3=new Map;function u0e(t,e){var n=new Promise(function(r){o3.delete(e);var i=e-t;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(r,i)});return o3.set(e,n),n}function jN(t,e){var n;return(n=o3.get(t=+t))?n.then(()=>e):(n=Date.now())>=t?Promise.resolve(e):u0e(n,t).then(()=>e)}function c0e(t,e){return jN(Math.ceil((Date.now()+1)/t)*t,e)}const f0e=Object.freeze(Object.defineProperty({__proto__:null,delay:l0e,tick:c0e,when:jN},Symbol.toStringTag,{value:"Module"}));function h0e(t,e){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,e??location).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");return"https://unpkg.com/"+t}const d0e=N6(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var p0e=String.raw;function m0e(t){return new Promise(function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=n,r.onload=e,document.head.appendChild(r)})}function g0e(t){return Promise.all([t(IS.resolve()),t.resolve(IS.resolve("dist/katex.min.css")).then(m0e)]).then(function(e){var n=e[0],r=i();function i(s){return function(){var a=document.createElement("div");return n.render(p0e.apply(String,arguments),a,s),a.removeChild(a.firstChild)}}return r.options=i,r.block=i({displayMode:!0}),r})}async function _0e(t){const[e,n,r]=await Promise.all([_ue,vue,yue].map(i=>t(i.resolve())));return r.register(e,n)}function v0e(){return W2(function(t){var e=t(document.body.clientWidth);function n(){var r=document.body.clientWidth;r!==e&&t(e=r)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}const L6=Object.assign(Object.defineProperties(function(e){const n=Lue(e);Object.defineProperties(this,y0e({FileAttachment:()=>Ace,Mutable:()=>a0e,now:o0e,width:v0e,dot:()=>n(hue.resolve()),htl:()=>n(pue.resolve()),html:()=>n0e,md:()=>i0e(n),svg:()=>d0e,tex:()=>g0e(n),_:()=>n(due.resolve()),aq:()=>n.alias({"apache-arrow":r3.resolve()})(wue.resolve()),Arrow:()=>n(r3.resolve()),d3:()=>n(uue.resolve()),DuckDBClient:()=>x1,Inputs:()=>n(cue.resolve()).then(r=>({...r,file:r.fileOf(R6)})),L:()=>r0e(n),mermaid:()=>s0e(n),Plot:()=>n(fue.resolve()),__query:()=>qN,require:()=>n,resolve:()=>h0e,SQLite:()=>LN(n),SQLiteDatabaseClient:()=>w1,topojson:()=>n(xue.resolve()),vl:()=>_0e(n),aapl:()=>new Xs("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new Xs("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new Xs("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new Xs("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new Xs("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new Xs("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new Xs("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new Xs("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new Xs("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new Xs("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new Xs("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:Hce,Files:Vce,Generators:t0e,Promises:f0e}))},{resolve:{get:()=>Gc.resolve,enumerable:!0,configurable:!0},require:{get:()=>Gc,set:Nue,enumerable:!0,configurable:!0}}),{resolveFrom:PN,requireFrom:q2});function y0e(t){return Object.fromEntries(Object.entries(t).map(b0e))}function b0e([t,e]){return[t,{value:e,writable:!0,enumerable:!0}]}function O6(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let u0=O6();function KN(t){u0=t}const XN=/[&<>"']/,w0e=new RegExp(XN.source,"g"),JN=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,x0e=new RegExp(JN.source,"g"),S0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},VS=t=>S0e[t];function Is(t,e){if(e){if(XN.test(t))return t.replace(w0e,VS)}else if(JN.test(t))return t.replace(x0e,VS);return t}const T0e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function QN(t){return t.replace(T0e,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const k0e=/(^|[^\[])\^/g;function Qn(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(k0e,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const E0e=/[^\w:]/g,M0e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ZS(t,e,n){if(t){let r;try{r=decodeURIComponent(QN(n)).replace(E0e,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!M0e.test(n)&&(n=R0e(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Mm={},C0e=/^[^:]+:\/*[^/]*$/,A0e=/^([^:]+:)[\s\S]*$/,I0e=/^([^:]+:\/*[^/]*)[\s\S]*$/;function R0e(t,e){Mm[" "+t]||(C0e.test(t)?Mm[" "+t]=t+"/":Mm[" "+t]=ng(t,"/",!0)),t=Mm[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(A0e,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(I0e,"$1")+e:t+e}const S_={exec:function(){}};function YS(t,e){const n=t.replace(/\|/g,(s,a,l)=>{let c=!1,f=a;for(;--f>=0&&l[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function ng(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function P0e(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function N0e(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function jS(t,e,n,r){const i=e.href,s=e.title?Is(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:Is(a)}}function L0e(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class T_{constructor(e){this.options=e||u0}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ng(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=L0e(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=ng(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,a,l,c,f,p,m,g,y,w,S=n[1].trim();const I=S.length>1,R={type:"list",raw:"",ordered:I,start:I?+S.slice(0,-1):"",loose:!1,items:[]};S=I?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=I?S:"[*+-]");const k=new RegExp(`^( {0,3}${S})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(w=!1,!(!(n=k.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),p=n[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,y=p.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,y=p.slice(a),a+=n[1].length),c=!1,!p&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),w=!0),!w){const C=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),D=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),F=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],m=g,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(D.test(m)||F.test(m)||C.test(m)||N.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())y+=`
`+m.slice(a);else{if(c||p.search(/[^ ]/)>=4||D.test(p)||F.test(p)||N.test(p))break;y+=`
`+m}!c&&!m.trim()&&(c=!0),r+=g+`
`,e=e.substring(g.length+1),p=m.slice(a)}}R.loose||(f?R.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(y),i&&(s=i[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),R.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:y}),R.raw+=r}R.items[R.items.length-1].raw=r.trimRight(),R.items[R.items.length-1].text=y.trimRight(),R.raw=R.raw.trimRight();const A=R.items.length;for(l=0;l<A;l++)if(this.lexer.state.top=!1,R.items[l].tokens=this.lexer.blockTokens(R.items[l].text,[]),!R.loose){const C=R.items[l].tokens.filter(D=>D.type==="space"),N=C.length>0&&C.some(D=>/\n.*\n/.test(D.raw));R.loose=N}if(R.loose)for(l=0;l<A;l++)R.items[l].loose=!0;return R}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):Is(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:YS(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,a,l,c;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=YS(r.rows[s],r.header.length).map(f=>({text:f}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(c=r.rows[a],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Is(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Is(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=ng(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=P0e(n[2],"()");if(a>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),jS(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return jS(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=i[0].length-1;let l,c,f=a,p=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+a);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=l.length,i[3]||i[4]){f+=c;continue}else if((i[5]||i[6])&&a%3&&!((a+c)%3)){p+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+p);const g=e.slice(0,a+i.index+c+1);if(Math.min(a,c)%2){const w=g.slice(1,-1);return{type:"em",raw:g,text:w,tokens:this.lexer.inlineTokens(w)}}const y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Is(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=Is(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=Is(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=Is(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=Is(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Is(r[0]):r[0]:i=Is(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const wt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S_,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};wt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;wt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;wt.def=Qn(wt.def).replace("label",wt._label).replace("title",wt._title).getRegex();wt.bullet=/(?:[*+-]|\d{1,9}[.)])/;wt.listItemStart=Qn(/^( *)(bull) */).replace("bull",wt.bullet).getRegex();wt.list=Qn(wt.list).replace(/bull/g,wt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wt.def.source+")").getRegex();wt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";wt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;wt.html=Qn(wt.html,"i").replace("comment",wt._comment).replace("tag",wt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();wt.lheading=Qn(wt.lheading).replace(/bull/g,wt.bullet).getRegex();wt.paragraph=Qn(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.blockquote=Qn(wt.blockquote).replace("paragraph",wt.paragraph).getRegex();wt.normal={...wt};wt.gfm={...wt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};wt.gfm.table=Qn(wt.gfm.table).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.gfm.paragraph=Qn(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.pedantic={...wt.normal,html:Qn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Qn(wt.normal._paragraph).replace("hr",wt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};rt._punctuation="\\p{P}$+<=>`^|~";rt.punctuation=Qn(rt.punctuation,"u").replace(/punctuation/g,rt._punctuation).getRegex();rt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;rt.anyPunctuation=/\\[punct]/g;rt._escapes=/\\([punct])/g;rt._comment=Qn(wt._comment).replace("(?:-->|$)","-->").getRegex();rt.emStrong.lDelim=Qn(rt.emStrong.lDelim,"u").replace(/punct/g,rt._punctuation).getRegex();rt.emStrong.rDelimAst=Qn(rt.emStrong.rDelimAst,"gu").replace(/punct/g,rt._punctuation).getRegex();rt.emStrong.rDelimUnd=Qn(rt.emStrong.rDelimUnd,"gu").replace(/punct/g,rt._punctuation).getRegex();rt.anyPunctuation=Qn(rt.anyPunctuation,"gu").replace(/punct/g,rt._punctuation).getRegex();rt._escapes=Qn(rt._escapes,"gu").replace(/punct/g,rt._punctuation).getRegex();rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;rt.autolink=Qn(rt.autolink).replace("scheme",rt._scheme).replace("email",rt._email).getRegex();rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;rt.tag=Qn(rt.tag).replace("comment",rt._comment).replace("attribute",rt._attribute).getRegex();rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;rt.link=Qn(rt.link).replace("label",rt._label).replace("href",rt._href).replace("title",rt._title).getRegex();rt.reflink=Qn(rt.reflink).replace("label",rt._label).replace("ref",wt._label).getRegex();rt.nolink=Qn(rt.nolink).replace("ref",wt._label).getRegex();rt.reflinkSearch=Qn(rt.reflinkSearch,"g").replace("reflink",rt.reflink).replace("nolink",rt.nolink).getRegex();rt.normal={...rt};rt.pedantic={...rt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Qn(/^!?\[(label)\]\((.*?)\)/).replace("label",rt._label).getRegex(),reflink:Qn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rt._label).getRegex()};rt.gfm={...rt.normal,escape:Qn(rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};rt.gfm.url=Qn(rt.gfm.url,"i").replace("email",rt.gfm._extended_email).getRegex();rt.breaks={...rt.gfm,br:Qn(rt.br).replace("{2,}","*").getRegex(),text:Qn(rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function O0e(t){return t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function KS(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}let z0=class l3{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||u0,this.options.tokenizer=this.options.tokenizer||new T_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:wt.normal,inline:rt.normal};this.options.pedantic?(n.block=wt.pedantic,n.inline=rt.pedantic):this.options.gfm&&(n.block=wt.gfm,this.options.breaks?n.inline=rt.breaks:n.inline=rt.gfm),this.tokenizer.rules=n}static get rules(){return{block:wt,inline:rt}}static lex(e,n){return new l3(n).lex(e)}static lexInline(e,n){return new l3(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,f)=>c+"    ".repeat(f.length));let r,i,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},c),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a=e,l,c,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,KS)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,KS))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(function(y){g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s,O0e)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}};class k_{constructor(e){this.options=e||u0}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Is(i)+'">'+(r?e:Is(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Is(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=ZS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=ZS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class D6{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class B6{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}let F0=class u3{constructor(e){this.options=e||u0,this.options.renderer=this.options.renderer||new k_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new D6,this.slugger=new B6}static parse(e,n){return new u3(n).parse(e)}static parseInline(e,n){return new u3(n).parseInline(e)}parse(e,n=!0){let r="",i,s,a,l,c,f,p,m,g,y,w,S,I,R,k,A,C,N,D;const F=e.length;for(i=0;i<F;i++){if(y=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(D=this.options.extensions.renderers[y.type].call({parser:this},y),D!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type))){r+=D||"";continue}switch(y.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(y.tokens),y.depth,QN(this.parseInline(y.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(y.text,y.lang,y.escaped);continue}case"table":{for(m="",p="",l=y.header.length,s=0;s<l;s++)p+=this.renderer.tablecell(this.parseInline(y.header[s].tokens),{header:!0,align:y.align[s]});for(m+=this.renderer.tablerow(p),g="",l=y.rows.length,s=0;s<l;s++){for(f=y.rows[s],p="",c=f.length,a=0;a<c;a++)p+=this.renderer.tablecell(this.parseInline(f[a].tokens),{header:!1,align:y.align[a]});g+=this.renderer.tablerow(p)}r+=this.renderer.table(m,g);continue}case"blockquote":{g=this.parse(y.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(w=y.ordered,S=y.start,I=y.loose,l=y.items.length,g="",s=0;s<l;s++)k=y.items[s],A=k.checked,C=k.task,R="",k.task&&(N=this.renderer.checkbox(A),I?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=N+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=N+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:N}):R+=N),R+=this.parse(k.tokens,I),g+=this.renderer.listitem(R,C,A);r+=this.renderer.list(g,w,S);continue}case"html":{r+=this.renderer.html(y.text,y.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(y.tokens));continue}case"text":{for(g=y.tokens?this.parseInline(y.tokens):y.text;i+1<F&&e[i+1].type==="text";)y=e[++i],g+=`
`+(y.tokens?this.parseInline(y.tokens):y.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const W='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,a;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const c='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return r}};class Kd{constructor(e){this.options=e||u0}preprocess(e){return e}postprocess(e){return e}}js(Kd,"passThroughHooks",new Set(["preprocess","postprocess"]));var Hp,c3,R_,eL;class D0e{constructor(...e){Jv(this,Hp);Jv(this,R_);js(this,"defaults",O6());js(this,"options",this.setOptions);js(this,"parse",K1(this,Hp,c3).call(this,z0.lex,F0.parse));js(this,"parseInline",K1(this,Hp,c3).call(this,z0.lexInline,F0.parseInline));js(this,"Parser",F0);js(this,"parser",F0.parse);js(this,"Renderer",k_);js(this,"TextRenderer",D6);js(this,"Lexer",z0);js(this,"lexer",z0.lex);js(this,"Tokenizer",T_);js(this,"Slugger",B6);js(this,"Hooks",Kd);this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{for(const s of i.header)r=r.concat(this.walkTokens(s.tokens,n));for(const s of i.rows)for(const a of s)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{r=r.concat(this.walkTokens(i.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=n.renderers[s.name];a?n.renderers[s.name]=function(...l){let c=s.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:n.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[s.level]?n[s.level].unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new k_(this.defaults);for(const a in r.renderer){const l=s[a];s[a]=(...c)=>{let f=r.renderer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new T_(this.defaults);for(const a in r.tokenizer){const l=s[a];s[a]=(...c)=>{let f=r.tokenizer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Kd;for(const a in r.hooks){const l=s[a];Kd.passThroughHooks.has(a)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(r.hooks[a].call(s,c)).then(p=>l.call(s,p));const f=r.hooks[a].call(s,c);return l.call(s,f)}:s[a]=(...c)=>{let f=r.hooks[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let l=[];return l.push(r.walkTokens.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}Hp=new WeakSet,c3=function(e,n){return(r,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const l=K1(this,R_,eL).call(this,i.silent,i.async,s);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(N0e(i,s),i.hooks&&(i.hooks.options=i),s){const c=i.highlight;let f;try{i.hooks&&(r=i.hooks.preprocess(r)),f=e(r,i)}catch(g){return l(g)}const p=g=>{let y;if(!g)try{i.walkTokens&&this.walkTokens(f,i.walkTokens),y=n(f,i),i.hooks&&(y=i.hooks.postprocess(y))}catch(w){g=w}return i.highlight=c,g?l(g):s(null,y)};if(!c||c.length<3||(delete i.highlight,!f.length))return p();let m=0;this.walkTokens(f,g=>{g.type==="code"&&(m++,setTimeout(()=>{c(g.text,g.lang,(y,w)=>{if(y)return p(y);w!=null&&w!==g.text&&(g.text=w,g.escaped=!0),m--,m===0&&p()})},0))}),m===0&&p();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(c=>e(c,i)).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>n(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(l);try{i.hooks&&(r=i.hooks.preprocess(r));const c=e(r,i);i.walkTokens&&this.walkTokens(c,i.walkTokens);let f=n(c,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(c){return l(c)}}},R_=new WeakSet,eL=function(e,n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Is(i.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(r){r(null,s);return}return s}if(n)return Promise.reject(i);if(r){r(i);return}throw i}};const uf=new D0e(u0);function Kn(t,e,n){return uf.parse(t,e,n)}Kn.options=Kn.setOptions=function(t){return uf.setOptions(t),Kn.defaults=uf.defaults,KN(Kn.defaults),Kn};Kn.getDefaults=O6;Kn.defaults=u0;Kn.use=function(...t){return uf.use(...t),Kn.defaults=uf.defaults,KN(Kn.defaults),Kn};Kn.walkTokens=function(t,e){return uf.walkTokens(t,e)};Kn.parseInline=uf.parseInline;Kn.Parser=F0;Kn.parser=F0.parse;Kn.Renderer=k_;Kn.TextRenderer=D6;Kn.Lexer=z0;Kn.lexer=z0.lex;Kn.Tokenizer=T_;Kn.Slugger=B6;Kn.Hooks=Kd;Kn.parse=Kn;Kn.options;Kn.setOptions;Kn.use;Kn.walkTokens;Kn.parseInline;F0.parse;z0.lex;class Xa{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Xa(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class jl{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new jl(n,Xa.range(this,e))}}class We{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,s=a.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var c=l.slice(i,s).replace(/[^]/g,"$&"),f;i>15?f=""+l.slice(i-15,i):f=l.slice(0,i);var p;s+15<l.length?p=l.slice(s,s+15)+"":p=l.slice(s),r+=f+c+p}var m=new Error(r);return m.name="ParseError",m.__proto__=We.prototype,m.position=i,i!=null&&s!=null&&(m.length=s-i),m.rawMessage=e,m}}We.prototype.__proto__=Error.prototype;var B0e=function(e,n){return e.indexOf(n)!==-1},z0e=function(e,n){return e===void 0?n:e},F0e=/([A-Z])/g,U0e=function(e){return e.replace(F0e,"-$1").toLowerCase()},q0e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},H0e=/[&><"']/g;function W0e(t){return String(t).replace(H0e,e=>q0e[e])}var tL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},G0e=function(e){var n=tL(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},$0e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},V0e=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},zt={contains:B0e,deflt:z0e,escape:W0e,hyphenate:U0e,getBaseElem:tL,isCharacterBox:G0e,protocolFromUrl:V0e},rg={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Z0e(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class z6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in rg)if(rg.hasOwnProperty(n)){var r=rg[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:Z0e(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new We("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=zt.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Ec{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return zl[Y0e[this.id]]}sub(){return zl[j0e[this.id]]}fracNum(){return zl[K0e[this.id]]}fracDen(){return zl[X0e[this.id]]}cramp(){return zl[J0e[this.id]]}text(){return zl[Q0e[this.id]]}isTight(){return this.size>=2}}var F6=0,E_=1,rh=2,Vu=3,Fp=4,ko=5,Ih=6,ra=7,zl=[new Ec(F6,0,!1),new Ec(E_,0,!0),new Ec(rh,1,!1),new Ec(Vu,1,!0),new Ec(Fp,2,!1),new Ec(ko,2,!0),new Ec(Ih,3,!1),new Ec(ra,3,!0)],Y0e=[Fp,ko,Fp,ko,Ih,ra,Ih,ra],j0e=[ko,ko,ko,ko,ra,ra,ra,ra],K0e=[rh,Vu,Fp,ko,Ih,ra,Ih,ra],X0e=[Vu,Vu,ko,ko,ra,ra,ra,ra],J0e=[E_,E_,Vu,Vu,ko,ko,ra,ra],Q0e=[F6,E_,rh,Vu,rh,Vu,rh,Vu],Mt={DISPLAY:zl[F6],TEXT:zl[rh],SCRIPT:zl[Fp],SCRIPTSCRIPT:zl[Ih]},f3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function efe(t){for(var e=0;e<f3.length;e++)for(var n=f3[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var ig=[];f3.forEach(t=>t.blocks.forEach(e=>ig.push(...e)));function nL(t){for(var e=0;e<ig.length;e+=2)if(t>=ig[e]&&t<=ig[e+1])return!0;return!1}var zf=80,tfe=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},nfe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},rfe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ife=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},sfe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},afe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},ofe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},lfe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=tfe(n,zf);break;case"sqrtSize1":i=nfe(n,zf);break;case"sqrtSize2":i=rfe(n,zf);break;case"sqrtSize3":i=ife(n,zf);break;case"sqrtSize4":i=sfe(n,zf);break;case"sqrtTall":i=ofe(n,zf,r)}return i},ufe=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},XS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},cfe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class S1{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return zt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Gl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Cm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},JS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function ffe(t,e){Gl[t]=e}function U6(t,e,n){if(!Gl[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Gl[e][r];if(!i&&t[0]in JS&&(r=JS[t[0]].charCodeAt(0),i=Gl[e][r]),!i&&n==="text"&&nL(r)&&(i=Gl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var ly={};function hfe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!ly[e]){var n=ly[e]={cssEmPerMu:Cm.quad[e]/18};for(var r in Cm)Cm.hasOwnProperty(r)&&(n[r]=Cm[r][e])}return ly[e]}var dfe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],QS=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],eT=function(e,n){return n.size<2?e:dfe[e-1][n.size-1]};class Nu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Nu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=QS[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Nu(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:eT(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:QS[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=eT(Nu.BASESIZE,e);return this.size===n&&this.textSize===Nu.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Nu.BASESIZE?["sizing","reset-size"+this.size,"size"+Nu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=hfe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Nu.BASESIZE=6;var h3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},pfe={ex:!0,em:!0,mu:!0},rL=function(e){return typeof e!="string"&&(e=e.unit),e in h3||e in pfe||e==="ex"},Gr=function(e,n){var r;if(e.unit in h3)r=h3[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new We("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Ye=function(e){return+e.toFixed(4)+"em"},e0=function(e){return e.filter(n=>n).join(" ")},iL=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},sL=function(e){var n=document.createElement(e);n.className=e0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},aL=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+zt.escape(e0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=zt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+zt.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+zt.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class T1{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,iL.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return zt.contains(this.classes,e)}toNode(){return sL.call(this,"span")}toMarkup(){return aL.call(this,"span")}}class q6{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,iL.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return zt.contains(this.classes,e)}toNode(){return sL.call(this,"a")}toMarkup(){return aL.call(this,"a")}}class mfe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return zt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=zt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+zt.escape(n)+'"'),e+="'/>",e}}var gfe={:"",:"",:"",:""};class Io{constructor(e,n,r,i,s,a,l,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0;var f=efe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=gfe[this.text])}hasClass(e){return zt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Ye(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=e0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=zt.escape(e0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=zt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+zt.escape(r)+'"');var s=zt.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Qu{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class t0{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",XS[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+XS[this.pathName]+"'/>"}}class d3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function tT(t){if(t instanceof Io)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function _fe(t){if(t instanceof T1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var vfe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yfe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},xr={math:{},text:{}};function x(t,e,n,r,i,s){xr[t][i]={font:e,group:n,replace:r},s&&r&&(xr[t][r]=xr[t][i])}var M="math",Fe="text",B="main",j="ams",Lr="accent-token",lt="bin",ua="close",Zh="inner",It="mathord",bi="op-token",ro="open",G2="punct",J="rel",uc="spacing",le="textord";x(M,B,J,"","\\equiv",!0);x(M,B,J,"","\\prec",!0);x(M,B,J,"","\\succ",!0);x(M,B,J,"","\\sim",!0);x(M,B,J,"","\\perp");x(M,B,J,"","\\preceq",!0);x(M,B,J,"","\\succeq",!0);x(M,B,J,"","\\simeq",!0);x(M,B,J,"","\\mid",!0);x(M,B,J,"","\\ll",!0);x(M,B,J,"","\\gg",!0);x(M,B,J,"","\\asymp",!0);x(M,B,J,"","\\parallel");x(M,B,J,"","\\bowtie",!0);x(M,B,J,"","\\smile",!0);x(M,B,J,"","\\sqsubseteq",!0);x(M,B,J,"","\\sqsupseteq",!0);x(M,B,J,"","\\doteq",!0);x(M,B,J,"","\\frown",!0);x(M,B,J,"","\\ni",!0);x(M,B,J,"","\\propto",!0);x(M,B,J,"","\\vdash",!0);x(M,B,J,"","\\dashv",!0);x(M,B,J,"","\\owns");x(M,B,G2,".","\\ldotp");x(M,B,G2,"","\\cdotp");x(M,B,le,"#","\\#");x(Fe,B,le,"#","\\#");x(M,B,le,"&","\\&");x(Fe,B,le,"&","\\&");x(M,B,le,"","\\aleph",!0);x(M,B,le,"","\\forall",!0);x(M,B,le,"","\\hbar",!0);x(M,B,le,"","\\exists",!0);x(M,B,le,"","\\nabla",!0);x(M,B,le,"","\\flat",!0);x(M,B,le,"","\\ell",!0);x(M,B,le,"","\\natural",!0);x(M,B,le,"","\\clubsuit",!0);x(M,B,le,"","\\wp",!0);x(M,B,le,"","\\sharp",!0);x(M,B,le,"","\\diamondsuit",!0);x(M,B,le,"","\\Re",!0);x(M,B,le,"","\\heartsuit",!0);x(M,B,le,"","\\Im",!0);x(M,B,le,"","\\spadesuit",!0);x(M,B,le,"","\\S",!0);x(Fe,B,le,"","\\S");x(M,B,le,"","\\P",!0);x(Fe,B,le,"","\\P");x(M,B,le,"","\\dag");x(Fe,B,le,"","\\dag");x(Fe,B,le,"","\\textdagger");x(M,B,le,"","\\ddag");x(Fe,B,le,"","\\ddag");x(Fe,B,le,"","\\textdaggerdbl");x(M,B,ua,"","\\rmoustache",!0);x(M,B,ro,"","\\lmoustache",!0);x(M,B,ua,"","\\rgroup",!0);x(M,B,ro,"","\\lgroup",!0);x(M,B,lt,"","\\mp",!0);x(M,B,lt,"","\\ominus",!0);x(M,B,lt,"","\\uplus",!0);x(M,B,lt,"","\\sqcap",!0);x(M,B,lt,"","\\ast");x(M,B,lt,"","\\sqcup",!0);x(M,B,lt,"","\\bigcirc",!0);x(M,B,lt,"","\\bullet",!0);x(M,B,lt,"","\\ddagger");x(M,B,lt,"","\\wr",!0);x(M,B,lt,"","\\amalg");x(M,B,lt,"&","\\And");x(M,B,J,"","\\longleftarrow",!0);x(M,B,J,"","\\Leftarrow",!0);x(M,B,J,"","\\Longleftarrow",!0);x(M,B,J,"","\\longrightarrow",!0);x(M,B,J,"","\\Rightarrow",!0);x(M,B,J,"","\\Longrightarrow",!0);x(M,B,J,"","\\leftrightarrow",!0);x(M,B,J,"","\\longleftrightarrow",!0);x(M,B,J,"","\\Leftrightarrow",!0);x(M,B,J,"","\\Longleftrightarrow",!0);x(M,B,J,"","\\mapsto",!0);x(M,B,J,"","\\longmapsto",!0);x(M,B,J,"","\\nearrow",!0);x(M,B,J,"","\\hookleftarrow",!0);x(M,B,J,"","\\hookrightarrow",!0);x(M,B,J,"","\\searrow",!0);x(M,B,J,"","\\leftharpoonup",!0);x(M,B,J,"","\\rightharpoonup",!0);x(M,B,J,"","\\swarrow",!0);x(M,B,J,"","\\leftharpoondown",!0);x(M,B,J,"","\\rightharpoondown",!0);x(M,B,J,"","\\nwarrow",!0);x(M,B,J,"","\\rightleftharpoons",!0);x(M,j,J,"","\\nless",!0);x(M,j,J,"","\\@nleqslant");x(M,j,J,"","\\@nleqq");x(M,j,J,"","\\lneq",!0);x(M,j,J,"","\\lneqq",!0);x(M,j,J,"","\\@lvertneqq");x(M,j,J,"","\\lnsim",!0);x(M,j,J,"","\\lnapprox",!0);x(M,j,J,"","\\nprec",!0);x(M,j,J,"","\\npreceq",!0);x(M,j,J,"","\\precnsim",!0);x(M,j,J,"","\\precnapprox",!0);x(M,j,J,"","\\nsim",!0);x(M,j,J,"","\\@nshortmid");x(M,j,J,"","\\nmid",!0);x(M,j,J,"","\\nvdash",!0);x(M,j,J,"","\\nvDash",!0);x(M,j,J,"","\\ntriangleleft");x(M,j,J,"","\\ntrianglelefteq",!0);x(M,j,J,"","\\subsetneq",!0);x(M,j,J,"","\\@varsubsetneq");x(M,j,J,"","\\subsetneqq",!0);x(M,j,J,"","\\@varsubsetneqq");x(M,j,J,"","\\ngtr",!0);x(M,j,J,"","\\@ngeqslant");x(M,j,J,"","\\@ngeqq");x(M,j,J,"","\\gneq",!0);x(M,j,J,"","\\gneqq",!0);x(M,j,J,"","\\@gvertneqq");x(M,j,J,"","\\gnsim",!0);x(M,j,J,"","\\gnapprox",!0);x(M,j,J,"","\\nsucc",!0);x(M,j,J,"","\\nsucceq",!0);x(M,j,J,"","\\succnsim",!0);x(M,j,J,"","\\succnapprox",!0);x(M,j,J,"","\\ncong",!0);x(M,j,J,"","\\@nshortparallel");x(M,j,J,"","\\nparallel",!0);x(M,j,J,"","\\nVDash",!0);x(M,j,J,"","\\ntriangleright");x(M,j,J,"","\\ntrianglerighteq",!0);x(M,j,J,"","\\@nsupseteqq");x(M,j,J,"","\\supsetneq",!0);x(M,j,J,"","\\@varsupsetneq");x(M,j,J,"","\\supsetneqq",!0);x(M,j,J,"","\\@varsupsetneqq");x(M,j,J,"","\\nVdash",!0);x(M,j,J,"","\\precneqq",!0);x(M,j,J,"","\\succneqq",!0);x(M,j,J,"","\\@nsubseteqq");x(M,j,lt,"","\\unlhd");x(M,j,lt,"","\\unrhd");x(M,j,J,"","\\nleftarrow",!0);x(M,j,J,"","\\nrightarrow",!0);x(M,j,J,"","\\nLeftarrow",!0);x(M,j,J,"","\\nRightarrow",!0);x(M,j,J,"","\\nleftrightarrow",!0);x(M,j,J,"","\\nLeftrightarrow",!0);x(M,j,J,"","\\vartriangle");x(M,j,le,"","\\hslash");x(M,j,le,"","\\triangledown");x(M,j,le,"","\\lozenge");x(M,j,le,"","\\circledS");x(M,j,le,"","\\circledR");x(Fe,j,le,"","\\circledR");x(M,j,le,"","\\measuredangle",!0);x(M,j,le,"","\\nexists");x(M,j,le,"","\\mho");x(M,j,le,"","\\Finv",!0);x(M,j,le,"","\\Game",!0);x(M,j,le,"","\\backprime");x(M,j,le,"","\\blacktriangle");x(M,j,le,"","\\blacktriangledown");x(M,j,le,"","\\blacksquare");x(M,j,le,"","\\blacklozenge");x(M,j,le,"","\\bigstar");x(M,j,le,"","\\sphericalangle",!0);x(M,j,le,"","\\complement",!0);x(M,j,le,"","\\eth",!0);x(Fe,B,le,"","");x(M,j,le,"","\\diagup");x(M,j,le,"","\\diagdown");x(M,j,le,"","\\square");x(M,j,le,"","\\Box");x(M,j,le,"","\\Diamond");x(M,j,le,"","\\yen",!0);x(Fe,j,le,"","\\yen",!0);x(M,j,le,"","\\checkmark",!0);x(Fe,j,le,"","\\checkmark");x(M,j,le,"","\\beth",!0);x(M,j,le,"","\\daleth",!0);x(M,j,le,"","\\gimel",!0);x(M,j,le,"","\\digamma",!0);x(M,j,le,"","\\varkappa");x(M,j,ro,"","\\@ulcorner",!0);x(M,j,ua,"","\\@urcorner",!0);x(M,j,ro,"","\\@llcorner",!0);x(M,j,ua,"","\\@lrcorner",!0);x(M,j,J,"","\\leqq",!0);x(M,j,J,"","\\leqslant",!0);x(M,j,J,"","\\eqslantless",!0);x(M,j,J,"","\\lesssim",!0);x(M,j,J,"","\\lessapprox",!0);x(M,j,J,"","\\approxeq",!0);x(M,j,lt,"","\\lessdot");x(M,j,J,"","\\lll",!0);x(M,j,J,"","\\lessgtr",!0);x(M,j,J,"","\\lesseqgtr",!0);x(M,j,J,"","\\lesseqqgtr",!0);x(M,j,J,"","\\doteqdot");x(M,j,J,"","\\risingdotseq",!0);x(M,j,J,"","\\fallingdotseq",!0);x(M,j,J,"","\\backsim",!0);x(M,j,J,"","\\backsimeq",!0);x(M,j,J,"","\\subseteqq",!0);x(M,j,J,"","\\Subset",!0);x(M,j,J,"","\\sqsubset",!0);x(M,j,J,"","\\preccurlyeq",!0);x(M,j,J,"","\\curlyeqprec",!0);x(M,j,J,"","\\precsim",!0);x(M,j,J,"","\\precapprox",!0);x(M,j,J,"","\\vartriangleleft");x(M,j,J,"","\\trianglelefteq");x(M,j,J,"","\\vDash",!0);x(M,j,J,"","\\Vvdash",!0);x(M,j,J,"","\\smallsmile");x(M,j,J,"","\\smallfrown");x(M,j,J,"","\\bumpeq",!0);x(M,j,J,"","\\Bumpeq",!0);x(M,j,J,"","\\geqq",!0);x(M,j,J,"","\\geqslant",!0);x(M,j,J,"","\\eqslantgtr",!0);x(M,j,J,"","\\gtrsim",!0);x(M,j,J,"","\\gtrapprox",!0);x(M,j,lt,"","\\gtrdot");x(M,j,J,"","\\ggg",!0);x(M,j,J,"","\\gtrless",!0);x(M,j,J,"","\\gtreqless",!0);x(M,j,J,"","\\gtreqqless",!0);x(M,j,J,"","\\eqcirc",!0);x(M,j,J,"","\\circeq",!0);x(M,j,J,"","\\triangleq",!0);x(M,j,J,"","\\thicksim");x(M,j,J,"","\\thickapprox");x(M,j,J,"","\\supseteqq",!0);x(M,j,J,"","\\Supset",!0);x(M,j,J,"","\\sqsupset",!0);x(M,j,J,"","\\succcurlyeq",!0);x(M,j,J,"","\\curlyeqsucc",!0);x(M,j,J,"","\\succsim",!0);x(M,j,J,"","\\succapprox",!0);x(M,j,J,"","\\vartriangleright");x(M,j,J,"","\\trianglerighteq");x(M,j,J,"","\\Vdash",!0);x(M,j,J,"","\\shortmid");x(M,j,J,"","\\shortparallel");x(M,j,J,"","\\between",!0);x(M,j,J,"","\\pitchfork",!0);x(M,j,J,"","\\varpropto");x(M,j,J,"","\\blacktriangleleft");x(M,j,J,"","\\therefore",!0);x(M,j,J,"","\\backepsilon");x(M,j,J,"","\\blacktriangleright");x(M,j,J,"","\\because",!0);x(M,j,J,"","\\llless");x(M,j,J,"","\\gggtr");x(M,j,lt,"","\\lhd");x(M,j,lt,"","\\rhd");x(M,j,J,"","\\eqsim",!0);x(M,B,J,"","\\Join");x(M,j,J,"","\\Doteq",!0);x(M,j,lt,"","\\dotplus",!0);x(M,j,lt,"","\\smallsetminus");x(M,j,lt,"","\\Cap",!0);x(M,j,lt,"","\\Cup",!0);x(M,j,lt,"","\\doublebarwedge",!0);x(M,j,lt,"","\\boxminus",!0);x(M,j,lt,"","\\boxplus",!0);x(M,j,lt,"","\\divideontimes",!0);x(M,j,lt,"","\\ltimes",!0);x(M,j,lt,"","\\rtimes",!0);x(M,j,lt,"","\\leftthreetimes",!0);x(M,j,lt,"","\\rightthreetimes",!0);x(M,j,lt,"","\\curlywedge",!0);x(M,j,lt,"","\\curlyvee",!0);x(M,j,lt,"","\\circleddash",!0);x(M,j,lt,"","\\circledast",!0);x(M,j,lt,"","\\centerdot");x(M,j,lt,"","\\intercal",!0);x(M,j,lt,"","\\doublecap");x(M,j,lt,"","\\doublecup");x(M,j,lt,"","\\boxtimes",!0);x(M,j,J,"","\\dashrightarrow",!0);x(M,j,J,"","\\dashleftarrow",!0);x(M,j,J,"","\\leftleftarrows",!0);x(M,j,J,"","\\leftrightarrows",!0);x(M,j,J,"","\\Lleftarrow",!0);x(M,j,J,"","\\twoheadleftarrow",!0);x(M,j,J,"","\\leftarrowtail",!0);x(M,j,J,"","\\looparrowleft",!0);x(M,j,J,"","\\leftrightharpoons",!0);x(M,j,J,"","\\curvearrowleft",!0);x(M,j,J,"","\\circlearrowleft",!0);x(M,j,J,"","\\Lsh",!0);x(M,j,J,"","\\upuparrows",!0);x(M,j,J,"","\\upharpoonleft",!0);x(M,j,J,"","\\downharpoonleft",!0);x(M,B,J,"","\\origof",!0);x(M,B,J,"","\\imageof",!0);x(M,j,J,"","\\multimap",!0);x(M,j,J,"","\\leftrightsquigarrow",!0);x(M,j,J,"","\\rightrightarrows",!0);x(M,j,J,"","\\rightleftarrows",!0);x(M,j,J,"","\\twoheadrightarrow",!0);x(M,j,J,"","\\rightarrowtail",!0);x(M,j,J,"","\\looparrowright",!0);x(M,j,J,"","\\curvearrowright",!0);x(M,j,J,"","\\circlearrowright",!0);x(M,j,J,"","\\Rsh",!0);x(M,j,J,"","\\downdownarrows",!0);x(M,j,J,"","\\upharpoonright",!0);x(M,j,J,"","\\downharpoonright",!0);x(M,j,J,"","\\rightsquigarrow",!0);x(M,j,J,"","\\leadsto");x(M,j,J,"","\\Rrightarrow",!0);x(M,j,J,"","\\restriction");x(M,B,le,"","`");x(M,B,le,"$","\\$");x(Fe,B,le,"$","\\$");x(Fe,B,le,"$","\\textdollar");x(M,B,le,"%","\\%");x(Fe,B,le,"%","\\%");x(M,B,le,"_","\\_");x(Fe,B,le,"_","\\_");x(Fe,B,le,"_","\\textunderscore");x(M,B,le,"","\\angle",!0);x(M,B,le,"","\\infty",!0);x(M,B,le,"","\\prime");x(M,B,le,"","\\triangle");x(M,B,le,"","\\Gamma",!0);x(M,B,le,"","\\Delta",!0);x(M,B,le,"","\\Theta",!0);x(M,B,le,"","\\Lambda",!0);x(M,B,le,"","\\Xi",!0);x(M,B,le,"","\\Pi",!0);x(M,B,le,"","\\Sigma",!0);x(M,B,le,"","\\Upsilon",!0);x(M,B,le,"","\\Phi",!0);x(M,B,le,"","\\Psi",!0);x(M,B,le,"","\\Omega",!0);x(M,B,le,"A","");x(M,B,le,"B","");x(M,B,le,"E","");x(M,B,le,"Z","");x(M,B,le,"H","");x(M,B,le,"I","");x(M,B,le,"K","");x(M,B,le,"M","");x(M,B,le,"N","");x(M,B,le,"O","");x(M,B,le,"P","");x(M,B,le,"T","");x(M,B,le,"X","");x(M,B,le,"","\\neg",!0);x(M,B,le,"","\\lnot");x(M,B,le,"","\\top");x(M,B,le,"","\\bot");x(M,B,le,"","\\emptyset");x(M,j,le,"","\\varnothing");x(M,B,It,"","\\alpha",!0);x(M,B,It,"","\\beta",!0);x(M,B,It,"","\\gamma",!0);x(M,B,It,"","\\delta",!0);x(M,B,It,"","\\epsilon",!0);x(M,B,It,"","\\zeta",!0);x(M,B,It,"","\\eta",!0);x(M,B,It,"","\\theta",!0);x(M,B,It,"","\\iota",!0);x(M,B,It,"","\\kappa",!0);x(M,B,It,"","\\lambda",!0);x(M,B,It,"","\\mu",!0);x(M,B,It,"","\\nu",!0);x(M,B,It,"","\\xi",!0);x(M,B,It,"","\\omicron",!0);x(M,B,It,"","\\pi",!0);x(M,B,It,"","\\rho",!0);x(M,B,It,"","\\sigma",!0);x(M,B,It,"","\\tau",!0);x(M,B,It,"","\\upsilon",!0);x(M,B,It,"","\\phi",!0);x(M,B,It,"","\\chi",!0);x(M,B,It,"","\\psi",!0);x(M,B,It,"","\\omega",!0);x(M,B,It,"","\\varepsilon",!0);x(M,B,It,"","\\vartheta",!0);x(M,B,It,"","\\varpi",!0);x(M,B,It,"","\\varrho",!0);x(M,B,It,"","\\varsigma",!0);x(M,B,It,"","\\varphi",!0);x(M,B,lt,"","*",!0);x(M,B,lt,"+","+");x(M,B,lt,"","-",!0);x(M,B,lt,"","\\cdot",!0);x(M,B,lt,"","\\circ",!0);x(M,B,lt,"","\\div",!0);x(M,B,lt,"","\\pm",!0);x(M,B,lt,"","\\times",!0);x(M,B,lt,"","\\cap",!0);x(M,B,lt,"","\\cup",!0);x(M,B,lt,"","\\setminus",!0);x(M,B,lt,"","\\land");x(M,B,lt,"","\\lor");x(M,B,lt,"","\\wedge",!0);x(M,B,lt,"","\\vee",!0);x(M,B,le,"","\\surd");x(M,B,ro,"","\\langle",!0);x(M,B,ro,"","\\lvert");x(M,B,ro,"","\\lVert");x(M,B,ua,"?","?");x(M,B,ua,"!","!");x(M,B,ua,"","\\rangle",!0);x(M,B,ua,"","\\rvert");x(M,B,ua,"","\\rVert");x(M,B,J,"=","=");x(M,B,J,":",":");x(M,B,J,"","\\approx",!0);x(M,B,J,"","\\cong",!0);x(M,B,J,"","\\ge");x(M,B,J,"","\\geq",!0);x(M,B,J,"","\\gets");x(M,B,J,">","\\gt",!0);x(M,B,J,"","\\in",!0);x(M,B,J,"","\\@not");x(M,B,J,"","\\subset",!0);x(M,B,J,"","\\supset",!0);x(M,B,J,"","\\subseteq",!0);x(M,B,J,"","\\supseteq",!0);x(M,j,J,"","\\nsubseteq",!0);x(M,j,J,"","\\nsupseteq",!0);x(M,B,J,"","\\models");x(M,B,J,"","\\leftarrow",!0);x(M,B,J,"","\\le");x(M,B,J,"","\\leq",!0);x(M,B,J,"<","\\lt",!0);x(M,B,J,"","\\rightarrow",!0);x(M,B,J,"","\\to");x(M,j,J,"","\\ngeq",!0);x(M,j,J,"","\\nleq",!0);x(M,B,uc,"","\\ ");x(M,B,uc,"","\\space");x(M,B,uc,"","\\nobreakspace");x(Fe,B,uc,"","\\ ");x(Fe,B,uc,""," ");x(Fe,B,uc,"","\\space");x(Fe,B,uc,"","\\nobreakspace");x(M,B,uc,null,"\\nobreak");x(M,B,uc,null,"\\allowbreak");x(M,B,G2,",",",");x(M,B,G2,";",";");x(M,j,lt,"","\\barwedge",!0);x(M,j,lt,"","\\veebar",!0);x(M,B,lt,"","\\odot",!0);x(M,B,lt,"","\\oplus",!0);x(M,B,lt,"","\\otimes",!0);x(M,B,le,"","\\partial",!0);x(M,B,lt,"","\\oslash",!0);x(M,j,lt,"","\\circledcirc",!0);x(M,j,lt,"","\\boxdot",!0);x(M,B,lt,"","\\bigtriangleup");x(M,B,lt,"","\\bigtriangledown");x(M,B,lt,"","\\dagger");x(M,B,lt,"","\\diamond");x(M,B,lt,"","\\star");x(M,B,lt,"","\\triangleleft");x(M,B,lt,"","\\triangleright");x(M,B,ro,"{","\\{");x(Fe,B,le,"{","\\{");x(Fe,B,le,"{","\\textbraceleft");x(M,B,ua,"}","\\}");x(Fe,B,le,"}","\\}");x(Fe,B,le,"}","\\textbraceright");x(M,B,ro,"{","\\lbrace");x(M,B,ua,"}","\\rbrace");x(M,B,ro,"[","\\lbrack",!0);x(Fe,B,le,"[","\\lbrack",!0);x(M,B,ua,"]","\\rbrack",!0);x(Fe,B,le,"]","\\rbrack",!0);x(M,B,ro,"(","\\lparen",!0);x(M,B,ua,")","\\rparen",!0);x(Fe,B,le,"<","\\textless",!0);x(Fe,B,le,">","\\textgreater",!0);x(M,B,ro,"","\\lfloor",!0);x(M,B,ua,"","\\rfloor",!0);x(M,B,ro,"","\\lceil",!0);x(M,B,ua,"","\\rceil",!0);x(M,B,le,"\\","\\backslash");x(M,B,le,"","|");x(M,B,le,"","\\vert");x(Fe,B,le,"|","\\textbar",!0);x(M,B,le,"","\\|");x(M,B,le,"","\\Vert");x(Fe,B,le,"","\\textbardbl");x(Fe,B,le,"~","\\textasciitilde");x(Fe,B,le,"\\","\\textbackslash");x(Fe,B,le,"^","\\textasciicircum");x(M,B,J,"","\\uparrow",!0);x(M,B,J,"","\\Uparrow",!0);x(M,B,J,"","\\downarrow",!0);x(M,B,J,"","\\Downarrow",!0);x(M,B,J,"","\\updownarrow",!0);x(M,B,J,"","\\Updownarrow",!0);x(M,B,bi,"","\\coprod");x(M,B,bi,"","\\bigvee");x(M,B,bi,"","\\bigwedge");x(M,B,bi,"","\\biguplus");x(M,B,bi,"","\\bigcap");x(M,B,bi,"","\\bigcup");x(M,B,bi,"","\\int");x(M,B,bi,"","\\intop");x(M,B,bi,"","\\iint");x(M,B,bi,"","\\iiint");x(M,B,bi,"","\\prod");x(M,B,bi,"","\\sum");x(M,B,bi,"","\\bigotimes");x(M,B,bi,"","\\bigoplus");x(M,B,bi,"","\\bigodot");x(M,B,bi,"","\\oint");x(M,B,bi,"","\\oiint");x(M,B,bi,"","\\oiiint");x(M,B,bi,"","\\bigsqcup");x(M,B,bi,"","\\smallint");x(Fe,B,Zh,"","\\textellipsis");x(M,B,Zh,"","\\mathellipsis");x(Fe,B,Zh,"","\\ldots",!0);x(M,B,Zh,"","\\ldots",!0);x(M,B,Zh,"","\\@cdots",!0);x(M,B,Zh,"","\\ddots",!0);x(M,B,le,"","\\varvdots");x(M,B,Lr,"","\\acute");x(M,B,Lr,"","\\grave");x(M,B,Lr,"","\\ddot");x(M,B,Lr,"~","\\tilde");x(M,B,Lr,"","\\bar");x(M,B,Lr,"","\\breve");x(M,B,Lr,"","\\check");x(M,B,Lr,"^","\\hat");x(M,B,Lr,"","\\vec");x(M,B,Lr,"","\\dot");x(M,B,Lr,"","\\mathring");x(M,B,It,"","\\@imath");x(M,B,It,"","\\@jmath");x(M,B,le,"","");x(M,B,le,"","");x(Fe,B,le,"","\\i",!0);x(Fe,B,le,"","\\j",!0);x(Fe,B,le,"","\\ss",!0);x(Fe,B,le,"","\\ae",!0);x(Fe,B,le,"","\\oe",!0);x(Fe,B,le,"","\\o",!0);x(Fe,B,le,"","\\AE",!0);x(Fe,B,le,"","\\OE",!0);x(Fe,B,le,"","\\O",!0);x(Fe,B,Lr,"","\\'");x(Fe,B,Lr,"","\\`");x(Fe,B,Lr,"","\\^");x(Fe,B,Lr,"","\\~");x(Fe,B,Lr,"","\\=");x(Fe,B,Lr,"","\\u");x(Fe,B,Lr,"","\\.");x(Fe,B,Lr,"","\\c");x(Fe,B,Lr,"","\\r");x(Fe,B,Lr,"","\\v");x(Fe,B,Lr,"",'\\"');x(Fe,B,Lr,"","\\H");x(Fe,B,Lr,"","\\textcircled");var oL={"--":!0,"---":!0,"``":!0,"''":!0};x(Fe,B,le,"","--",!0);x(Fe,B,le,"","\\textendash");x(Fe,B,le,"","---",!0);x(Fe,B,le,"","\\textemdash");x(Fe,B,le,"","`",!0);x(Fe,B,le,"","\\textquoteleft");x(Fe,B,le,"","'",!0);x(Fe,B,le,"","\\textquoteright");x(Fe,B,le,"","``",!0);x(Fe,B,le,"","\\textquotedblleft");x(Fe,B,le,"","''",!0);x(Fe,B,le,"","\\textquotedblright");x(M,B,le,"","\\degree",!0);x(Fe,B,le,"","\\degree");x(Fe,B,le,"","\\textdegree",!0);x(M,B,le,"","\\pounds");x(M,B,le,"","\\mathsterling",!0);x(Fe,B,le,"","\\pounds");x(Fe,B,le,"","\\textsterling",!0);x(M,j,le,"","\\maltese");x(Fe,j,le,"","\\maltese");var nT='0123456789/@."';for(var uy=0;uy<nT.length;uy++){var rT=nT.charAt(uy);x(M,B,le,rT,rT)}var iT='0123456789!@*()-=+";:?/.,';for(var cy=0;cy<iT.length;cy++){var sT=iT.charAt(cy);x(Fe,B,le,sT,sT)}var M_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var fy=0;fy<M_.length;fy++){var Am=M_.charAt(fy);x(M,B,It,Am,Am),x(Fe,B,le,Am,Am)}x(M,j,le,"C","");x(Fe,j,le,"C","");x(M,j,le,"H","");x(Fe,j,le,"H","");x(M,j,le,"N","");x(Fe,j,le,"N","");x(M,j,le,"P","");x(Fe,j,le,"P","");x(M,j,le,"Q","");x(Fe,j,le,"Q","");x(M,j,le,"R","");x(Fe,j,le,"R","");x(M,j,le,"Z","");x(Fe,j,le,"Z","");x(M,B,It,"h","");x(Fe,B,It,"h","");var Gt="";for(var Ma=0;Ma<M_.length;Ma++){var yi=M_.charAt(Ma);Gt=String.fromCharCode(55349,56320+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56372+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56424+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56580+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56736+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56788+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56840+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56944+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Ma<26&&(Gt=String.fromCharCode(55349,56632+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt),Gt=String.fromCharCode(55349,56476+Ma),x(M,B,It,yi,Gt),x(Fe,B,le,yi,Gt))}Gt=String.fromCharCode(55349,56668);x(M,B,It,"k",Gt);x(Fe,B,le,"k",Gt);for(var M0=0;M0<10;M0++){var Mc=M0.toString();Gt=String.fromCharCode(55349,57294+M0),x(M,B,It,Mc,Gt),x(Fe,B,le,Mc,Gt),Gt=String.fromCharCode(55349,57314+M0),x(M,B,It,Mc,Gt),x(Fe,B,le,Mc,Gt),Gt=String.fromCharCode(55349,57324+M0),x(M,B,It,Mc,Gt),x(Fe,B,le,Mc,Gt),Gt=String.fromCharCode(55349,57334+M0),x(M,B,It,Mc,Gt),x(Fe,B,le,Mc,Gt)}var p3="";for(var hy=0;hy<p3.length;hy++){var Im=p3.charAt(hy);x(M,B,It,Im,Im),x(Fe,B,le,Im,Im)}var Rm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],aT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],bfe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[Rm[l][2],Rm[l][a]]}else if(120782<=s&&s<=120831){var c=Math.floor((s-120782)/10);return[aT[c][2],aT[c][a]]}else{if(s===120485||s===120486)return[Rm[0][2],Rm[0][a]];if(120486<s&&s<120782)return["",""];throw new We("Unsupported character: "+e)}},$2=function(e,n,r){return xr[r][e]&&xr[r][e].replace&&(e=xr[r][e].replace),{value:e,metrics:U6(e,n,r)}},Yo=function(e,n,r,i,s){var a=$2(e,n,r),l=a.metrics;e=a.value;var c;if(l){var f=l.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),c=new Io(e,l.height,l.depth,f,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),c=new Io(e,0,0,0,0,0,s);if(i){c.maxFontSize=i.sizeMultiplier,i.style.isTight()&&c.classes.push("mtight");var p=i.getColor();p&&(c.style.color=p)}return c},wfe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&$2(e,"Main-Bold",n).metrics?Yo(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||xr[n][e].font==="main"?Yo(e,"Main-Regular",n,r,i):Yo(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},xfe=function(e,n,r,i,s){return s!=="textord"&&$2(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Sfe=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],l=i==="math"||i==="text"&&n.font,c=l?n.font:n.fontFamily;if(s.charCodeAt(0)===55349){var[f,p]=bfe(s,i);return Yo(s,f,i,n,a.concat(p))}else if(c){var m,g;if(c==="boldsymbol"){var y=xfe(s,i,n,a,r);m=y.fontName,g=[y.fontClass]}else l?(m=cL[c].fontName,g=[c]):(m=Pm(c,n.fontWeight,n.fontShape),g=[c,n.fontWeight,n.fontShape]);if($2(s,m,i).metrics)return Yo(s,m,i,n,a.concat(g));if(oL.hasOwnProperty(s)&&m.slice(0,10)==="Typewriter"){for(var w=[],S=0;S<s.length;S++)w.push(Yo(s[S],m,i,n,a.concat(g)));return uL(w)}}if(r==="mathord")return Yo(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var I=xr[i][s]&&xr[i][s].font;if(I==="ams"){var R=Pm("amsrm",n.fontWeight,n.fontShape);return Yo(s,R,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(I==="main"||!I){var k=Pm("textrm",n.fontWeight,n.fontShape);return Yo(s,k,i,n,a.concat(n.fontWeight,n.fontShape))}else{var A=Pm(I,n.fontWeight,n.fontShape);return Yo(s,A,i,n,a.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Tfe=(t,e)=>{if(e0(t.classes)!==e0(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},kfe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Io&&r instanceof Io&&Tfe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},H6=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Ia=function(e,n,r,i){var s=new T1(e,n,r,i);return H6(s),s},lL=(t,e,n,r)=>new T1(t,e,n,r),Efe=function(e,n,r){var i=Ia([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Ye(i.height),i.maxFontSize=1,i},Mfe=function(e,n,r,i){var s=new q6(e,n,r,i);return H6(s),s},uL=function(e){var n=new S1(e);return H6(n),n},Cfe=function(e,n){return e instanceof S1?Ia([],[e],n):e},Afe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var l=-n[a].shift-s-n[a].elem.depth,c=l-(n[a-1].elem.height+n[a-1].elem.depth);s=s+l,r.push({type:"kern",size:c}),r.push(n[a])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var p=e.positionData,m=0;m<e.children.length;m++){var g=e.children[m];p-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}f=p}else if(e.positionType==="bottom")f=-e.positionData;else{var y=e.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-y.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-y.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Ife=function(e,n){for(var{children:r,depth:i}=Afe(e),s=0,a=0;a<r.length;a++){var l=r[a];if(l.type==="elem"){var c=l.elem;s=Math.max(s,c.maxFontSize,c.height)}}s+=2;var f=Ia(["pstrut"],[]);f.style.height=Ye(s);for(var p=[],m=i,g=i,y=i,w=0;w<r.length;w++){var S=r[w];if(S.type==="kern")y+=S.size;else{var I=S.elem,R=S.wrapperClasses||[],k=S.wrapperStyle||{},A=Ia(R,[f,I],void 0,k);A.style.top=Ye(-s-y-I.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),p.push(A),y+=I.height+I.depth}m=Math.min(m,y),g=Math.max(g,y)}var C=Ia(["vlist"],p);C.style.height=Ye(g);var N;if(m<0){var D=Ia([],[]),F=Ia(["vlist"],[D]);F.style.height=Ye(-m);var W=Ia(["vlist-s"],[new Io("")]);N=[Ia(["vlist-r"],[C,W]),Ia(["vlist-r"],[F])]}else N=[Ia(["vlist-r"],[C])];var $=Ia(["vlist-t"],N);return N.length===2&&$.classes.push("vlist-t2"),$.height=g,$.depth=-m,$},Rfe=(t,e)=>{var n=Ia(["mspace"],[],e),r=Gr(t,e);return n.style.marginRight=Ye(r),n},Pm=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},cL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},fL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Pfe=function(e,n){var[r,i,s]=fL[e],a=new t0(r),l=new Qu([a],{width:Ye(i),height:Ye(s),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),c=lL(["overlay"],[l],n);return c.height=s,c.style.height=Ye(s),c.style.width=Ye(i),c},ye={fontMap:cL,makeSymbol:Yo,mathsym:wfe,makeSpan:Ia,makeSvgSpan:lL,makeLineSpan:Efe,makeAnchor:Mfe,makeFragment:uL,wrapFragment:Cfe,makeVList:Ife,makeOrd:Sfe,makeGlue:Rfe,staticSvg:Pfe,svgData:fL,tryCombineChars:kfe},Hr={number:3,unit:"mu"},C0={number:4,unit:"mu"},Au={number:5,unit:"mu"},Nfe={mord:{mop:Hr,mbin:C0,mrel:Au,minner:Hr},mop:{mord:Hr,mop:Hr,mrel:Au,minner:Hr},mbin:{mord:C0,mop:C0,mopen:C0,minner:C0},mrel:{mord:Au,mop:Au,mopen:Au,minner:Au},mopen:{},mclose:{mop:Hr,mbin:C0,mrel:Au,minner:Hr},mpunct:{mord:Hr,mop:Hr,mrel:Au,mopen:Hr,mclose:Hr,mpunct:Hr,minner:Hr},minner:{mord:Hr,mop:Hr,mbin:C0,mrel:Au,mopen:Hr,mpunct:Hr,minner:Hr}},Lfe={mord:{mop:Hr},mop:{mord:Hr,mop:Hr},mbin:{},mrel:{},mopen:{},mclose:{mop:Hr},mpunct:{},minner:{mop:Hr}},hL={},C_={},A_={};function et(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},c=0;c<n.length;++c)hL[n[c]]=l;e&&(s&&(C_[e]=s),a&&(A_[e]=a))}function _f(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;et({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var I_=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},hi=function(e){return e.type==="ordgroup"?e.body:[e]},ec=ye.makeSpan,Ofe=["leftmost","mbin","mopen","mrel","mop","mpunct"],Dfe=["rightmost","mrel","mclose","mpunct"],Bfe={display:Mt.DISPLAY,text:Mt.TEXT,script:Mt.SCRIPT,scriptscript:Mt.SCRIPTSCRIPT},zfe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ci=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var l=Dn(e[a],n);if(l instanceof S1){var c=l.children;s.push(...c)}else s.push(l)}if(ye.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var p=e[0];p.type==="sizing"?f=n.havingSize(p.size):p.type==="styling"&&(f=n.havingStyle(Bfe[p.style]))}var m=ec([i[0]||"leftmost"],[],n),g=ec([i[1]||"rightmost"],[],n),y=r==="root";return oT(s,(w,S)=>{var I=S.classes[0],R=w.classes[0];I==="mbin"&&zt.contains(Dfe,R)?S.classes[0]="mord":R==="mbin"&&zt.contains(Ofe,I)&&(w.classes[0]="mord")},{node:m},g,y),oT(s,(w,S)=>{var I=m3(S),R=m3(w),k=I&&R?w.hasClass("mtight")?Lfe[I][R]:Nfe[I][R]:null;if(k)return ye.makeGlue(k,f)},{node:m},g,y),s},oT=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var l=e[a],c=dL(l);if(c){t(c.children,n,r,null,s);continue}var f=!l.hasClass("mspace");if(f){var p=n(l,r.node);p&&(r.insertAfter?r.insertAfter(p):(e.unshift(p),a++))}f?r.node=l:s&&l.hasClass("newline")&&(r.node=ec(["leftmost"])),r.insertAfter=(m=>g=>{e.splice(m+1,0,g),a++})(a)}i&&e.pop()},dL=function(e){return e instanceof S1||e instanceof q6||e instanceof T1&&e.hasClass("enclosing")?e:null},Ffe=function t(e,n){var r=dL(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},m3=function(e,n){return e?(n&&(e=Ffe(e,n)),zfe[e.classes[0]]||null):null},Up=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ec(n.concat(r))},Dn=function(e,n,r){if(!e)return ec();if(C_[e.type]){var i=C_[e.type](e,n);if(r&&n.size!==r.size){i=ec(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new We("Got group of unknown type: '"+e.type+"'")};function Nm(t,e){var n=ec(["base"],t,e),r=ec(["strut"]);return r.style.height=Ye(n.height+n.depth),n.depth&&(r.style.verticalAlign=Ye(-n.depth)),n.children.unshift(r),n}function g3(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Ci(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var c=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(c=!0);c||(s.push(Nm(a,e)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(Nm(a,e)),a=[]),s.push(r[l]));a.length>0&&s.push(Nm(a,e));var f;n?(f=Nm(Ci(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var p=ec(["katex-html"],s);if(p.setAttribute("aria-hidden","true"),f){var m=f.children[0];m.style.height=Ye(p.height+p.depth),p.depth&&(m.style.verticalAlign=Ye(-p.depth))}return p}function pL(t){return new S1(t)}class bo{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=e0(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=zt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+zt.escape(e0(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Xd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return zt.escape(this.toText())}toText(){return this.text}}class Ufe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ye(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ye(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var He={MathNode:bo,TextNode:Xd,SpaceNode:Ufe,newDocumentFragment:pL},Ro=function(e,n,r){return xr[n][e]&&xr[n][e].replace&&e.charCodeAt(0)!==55349&&!(oL.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=xr[n][e].replace),new He.TextNode(e)},W6=function(e){return e.length===1?e[0]:new He.MathNode("mrow",e)},G6=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(zt.contains(["\\imath","\\jmath"],s))return null;xr[i][s]&&xr[i][s].replace&&(s=xr[i][s].replace);var a=ye.fontMap[r].fontName;return U6(s,a,i)?ye.fontMap[r].variant:null},Fa=function(e,n,r){if(e.length===1){var i=hr(e[0],n);return r&&i instanceof bo&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,l=0;l<e.length;l++){var c=hr(e[l],n);if(c instanceof bo&&a instanceof bo){if(c.type==="mtext"&&a.type==="mtext"&&c.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...c.children);continue}else if(c.type==="mn"&&a.type==="mn"){a.children.push(...c.children);continue}else if(c.type==="mi"&&c.children.length===1&&a.type==="mn"){var f=c.children[0];if(f instanceof Xd&&f.text==="."){a.children.push(...c.children);continue}}else if(a.type==="mi"&&a.children.length===1){var p=a.children[0];if(p instanceof Xd&&p.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof Xd&&m.text.length>0&&(m.text=m.text.slice(0,1)+""+m.text.slice(1),s.pop())}}}s.push(c),a=c}return s},n0=function(e,n,r){return W6(Fa(e,n,r))},hr=function(e,n){if(!e)return new He.MathNode("mrow");if(A_[e.type]){var r=A_[e.type](e,n);return r}else throw new We("Got group of unknown type: '"+e.type+"'")};function lT(t,e,n,r,i){var s=Fa(t,n),a;s.length===1&&s[0]instanceof bo&&zt.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new He.MathNode("mrow",s);var l=new He.MathNode("annotation",[new He.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var c=new He.MathNode("semantics",[a,l]),f=new He.MathNode("math",[c]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var p=i?"katex":"katex-mathml";return ye.makeSpan([p],[f])}var mL=function(e){return new Nu({style:e.displayMode?Mt.DISPLAY:Mt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},gL=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ye.makeSpan(r,[e])}return e},qfe=function(e,n,r){var i=mL(r),s;if(r.output==="mathml")return lT(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=g3(e,i);s=ye.makeSpan(["katex"],[a])}else{var l=lT(e,n,i,r.displayMode,!1),c=g3(e,i);s=ye.makeSpan(["katex"],[l,c])}return gL(s,r)},Hfe=function(e,n,r){var i=mL(r),s=g3(e,i),a=ye.makeSpan(["katex"],[s]);return gL(a,r)},Wfe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Gfe=function(e){var n=new He.MathNode("mo",[new He.TextNode(Wfe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},$fe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Vfe=function(e){return e.type==="ordgroup"?e.body.length:1},Zfe=function(e,n){function r(){var l=4e5,c=e.label.slice(1);if(zt.contains(["widehat","widecheck","widetilde","utilde"],c)){var f=e,p=Vfe(f.base),m,g,y;if(p>5)c==="widehat"||c==="widecheck"?(m=420,l=2364,y=.42,g=c+"4"):(m=312,l=2340,y=.34,g="tilde4");else{var w=[1,1,2,2,3,3][p];c==="widehat"||c==="widecheck"?(l=[0,1062,2364,2364,2364][w],m=[0,239,300,360,420][w],y=[0,.24,.3,.3,.36,.42][w],g=c+w):(l=[0,600,1033,2339,2340][w],m=[0,260,286,306,312][w],y=[0,.26,.286,.3,.306,.34][w],g="tilde"+w)}var S=new t0(g),I=new Qu([S],{width:"100%",height:Ye(y),viewBox:"0 0 "+l+" "+m,preserveAspectRatio:"none"});return{span:ye.makeSvgSpan([],[I],n),minWidth:0,height:y}}else{var R=[],k=$fe[c],[A,C,N]=k,D=N/1e3,F=A.length,W,$;if(F===1){var X=k[3];W=["hide-tail"],$=[X]}else if(F===2)W=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(F===3)W=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+F+" children.");for(var V=0;V<F;V++){var te=new t0(A[V]),me=new Qu([te],{width:"400em",height:Ye(D),viewBox:"0 0 "+l+" "+N,preserveAspectRatio:$[V]+" slice"}),ue=ye.makeSvgSpan([W[V]],[me],n);if(F===1)return{span:ue,minWidth:C,height:D};ue.style.height=Ye(D),R.push(ue)}return{span:ye.makeSpan(["stretchy"],R,n),minWidth:C,height:D}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=Ye(a),s>0&&(i.style.minWidth=Ye(s)),i},Yfe=function(e,n,r,i,s){var a,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=ye.makeSpan(["stretchy",n],[],s),n==="fbox"){var c=s.color&&s.getColor();c&&(a.style.borderColor=c)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new d3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new d3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new Qu(f,{width:"100%",height:Ye(l)});a=ye.makeSvgSpan([],[p],s)}return a.height=l,a.style.height=Ye(l),a},tc={encloseSpan:Yfe,mathMLnode:Gfe,svgSpan:Zfe};function rn(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function $6(t){var e=V2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function V2(t){return t&&(t.type==="atom"||yfe.hasOwnProperty(t.type))?t:null}var V6=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=rn(t.base,"accent"),n=r.base,t.base=n,i=_fe(Dn(t,e)),t.base=r):(r=rn(t,"accent"),n=r.base);var s=Dn(n,e.havingCrampedStyle()),a=r.isShifty&&zt.isCharacterBox(n),l=0;if(a){var c=zt.getBaseElem(n),f=Dn(c,e.havingCrampedStyle());l=tT(f).skew}var p=r.label==="\\c",m=p?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=tc.svgSpan(r,e),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Ye(2*l)+")",marginLeft:Ye(2*l)}:void 0}]},e);else{var y,w;r.label==="\\vec"?(y=ye.staticSvg("vec",e),w=ye.svgData.vec[1]):(y=ye.makeOrd({mode:r.mode,text:r.label},e,"textord"),y=tT(y),y.italic=0,w=y.width,p&&(m+=y.depth)),g=ye.makeSpan(["accent-body"],[y]);var S=r.label==="\\textcircled";S&&(g.classes.push("accent-full"),m=s.height);var I=l;S||(I-=w/2),g.style.left=Ye(I),r.label==="\\textcircled"&&(g.style.top=".2em"),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-m},{type:"elem",elem:g}]},e)}var R=ye.makeSpan(["mord","accent"],[g],e);return i?(i.children[0]=R,i.height=Math.max(R.height,i.height),i.classes[0]="mord",i):R},_L=(t,e)=>{var n=t.isStretchy?tc.mathMLnode(t.label):new He.MathNode("mo",[Ro(t.label,t.mode)]),r=new He.MathNode("mover",[hr(t.base,e),n]);return r.setAttribute("accent","true"),r},jfe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));et({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=I_(e[0]),r=!jfe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:V6,mathmlBuilder:_L});et({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:V6,mathmlBuilder:_L});et({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Dn(t.base,e),r=tc.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=tc.mathMLnode(t.label),r=new He.MathNode("munder",[hr(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Lm=t=>{var e=new He.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};et({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=ye.wrapFragment(Dn(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=ye.wrapFragment(Dn(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var l=tc.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*l.height,f=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var p;if(a){var m=-e.fontMetrics().axisHeight+a.height+.5*l.height+.111;p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c},{type:"elem",elem:a,shift:m}]},e)}else p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),ye.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var n=tc.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Lm(hr(t.body,e));if(t.below){var s=Lm(hr(t.below,e));r=new He.MathNode("munderover",[n,s,i])}else r=new He.MathNode("mover",[n,i])}else if(t.below){var a=Lm(hr(t.below,e));r=new He.MathNode("munder",[n,a])}else r=Lm(),r=new He.MathNode("mover",[n,r]);return r}});var Kfe=ye.makeSpan;function vL(t,e){var n=Ci(t.body,e,!0);return Kfe([t.mclass],n,e)}function yL(t,e){var n,r=Fa(t.body,e);return t.mclass==="minner"?n=new He.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new He.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new He.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}et({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:hi(i),isCharacterBox:zt.isCharacterBox(i)}},htmlBuilder:vL,mathmlBuilder:yL});var Z2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};et({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Z2(e[0]),body:hi(e[1]),isCharacterBox:zt.isCharacterBox(e[1])}}});et({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=Z2(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:hi(i)},c={type:"supsub",mode:s.mode,base:l,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[c],isCharacterBox:zt.isCharacterBox(c)}},htmlBuilder:vL,mathmlBuilder:yL});et({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Z2(e[0]),body:hi(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!0),r=ye.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Fa(t.body,e),r=new He.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Xfe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},uT=()=>({type:"styling",body:[],mode:"math",style:"display"}),cT=t=>t.type==="textord"&&t.text==="@",Jfe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Qfe(t,e,n){var r=Xfe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[i,a,l]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ehe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new We("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],l=uT(),c=0;c<a.length;c++)if(!cT(a[c]))l.body.push(a[c]);else{r.push(l),c+=1;var f=$6(a[c]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var m=0;m<2;m++){for(var g=!0,y=c+1;y<a.length;y++){if(Jfe(a[y],f)){g=!1,c=y;break}if(cT(a[y]))throw new We("Missing a "+f+" character to complete a CD arrow.",a[y]);p[m].body.push(a[y])}if(g)throw new We("Missing a "+f+" character to complete a CD arrow.",a[c])}else throw new We('Expected one of "<>AV=|." after @',a[c]);var w=Qfe(f,p,t),S={type:"styling",body:[w],mode:"math",style:"display"};r.push(S),l=uT()}s%2===0?r.push(l):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var I=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:I,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}et({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ye.wrapFragment(Dn(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Ye(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new He.MathNode("mrow",[hr(t.label,e)]);return n=new He.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new He.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});et({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ye.wrapFragment(Dn(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new He.MathNode("mrow",[hr(t.fragment,e)])}});et({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=rn(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var l=rn(i[a],"textord");s+=l.text}var c=parseInt(s),f;if(isNaN(c))throw new We("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new We("\\@char with invalid code point "+s);return c<=65535?f=String.fromCharCode(c):(c-=65536,f=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var bL=(t,e)=>{var n=Ci(t.body,e.withColor(t.color),!1);return ye.makeFragment(n)},wL=(t,e)=>{var n=Fa(t.body,e.withColor(t.color)),r=new He.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};et({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=rn(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:hi(i)}},htmlBuilder:bL,mathmlBuilder:wL});et({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=rn(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:bL,mathmlBuilder:wL});et({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&rn(i,"size").value}},htmlBuilder(t,e){var n=ye.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Ye(Gr(t.size,e)))),n},mathmlBuilder(t,e){var n=new He.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Ye(Gr(t.size,e)))),n}});var _3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},xL=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new We("Expected a control sequence",t);return e},the=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},SL=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};et({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(_3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=_3[r.text]),rn(e.parseFunction(),"internal");throw new We("Invalid token after macro prefix",r)}});et({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new We("Expected a control sequence",r);for(var s=0,a,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new We('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new We('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if(r.text==="EOF")throw new We("Expected a macro definition");l[s].push(r.text)}var{tokens:c}=e.gullet.consumeArg();return a&&c.unshift(a),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(i,{tokens:c,numArgs:s,delimiters:l},n===_3[n]),{type:"internal",mode:e.mode}}});et({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=xL(e.gullet.popToken());e.gullet.consumeSpaces();var i=the(e);return SL(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});et({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=xL(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return SL(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Bd=function(e,n,r){var i=xr.math[e]&&xr.math[e].replace,s=U6(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},Z6=function(e,n,r,i){var s=r.havingBaseStyle(n),a=ye.makeSpan(i.concat(s.sizingClasses(r)),[e],r),l=s.sizeMultiplier/r.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=s.sizeMultiplier,a},TL=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ye(s),e.height-=s,e.depth+=s},nhe=function(e,n,r,i,s,a){var l=ye.makeSymbol(e,"Main-Regular",s,i),c=Z6(l,n,i,a);return r&&TL(c,i,n),c},rhe=function(e,n,r,i){return ye.makeSymbol(e,"Size"+n+"-Regular",r,i)},kL=function(e,n,r,i,s,a){var l=rhe(e,n,s,i),c=Z6(ye.makeSpan(["delimsizing","size"+n],[l],i),Mt.TEXT,i,a);return r&&TL(c,i,Mt.TEXT),c},dy=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ye.makeSpan(["delimsizinginner",i],[ye.makeSpan([],[ye.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},py=function(e,n,r){var i=Gl["Size4-Regular"][e.charCodeAt(0)]?Gl["Size4-Regular"][e.charCodeAt(0)][4]:Gl["Size1-Regular"][e.charCodeAt(0)][4],s=new t0("inner",ufe(e,Math.round(1e3*n))),a=new Qu([s],{width:Ye(i),height:Ye(n),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=ye.makeSvgSpan([],[a],r);return l.height=n,l.style.height=Ye(n),l.style.width=Ye(i),{type:"elem",elem:l}},v3=.008,Om={type:"kern",size:-1*v3},ihe=["|","\\lvert","\\rvert","\\vert"],she=["\\|","\\lVert","\\rVert","\\Vert"],EL=function(e,n,r,i,s,a){var l,c,f,p,m="",g=0;l=f=p=e,c=null;var y="Size1-Regular";e==="\\uparrow"?f=p="":e==="\\Uparrow"?f=p="":e==="\\downarrow"?l=f="":e==="\\Downarrow"?l=f="":e==="\\updownarrow"?(l="\\uparrow",f="",p="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",f="",p="\\Downarrow"):zt.contains(ihe,e)?(f="",m="vert",g=333):zt.contains(she,e)?(f="",m="doublevert",g=556):e==="["||e==="\\lbrack"?(l="",f="",p="",y="Size4-Regular",m="lbrack",g=667):e==="]"||e==="\\rbrack"?(l="",f="",p="",y="Size4-Regular",m="rbrack",g=667):e==="\\lfloor"||e===""?(f=l="",p="",y="Size4-Regular",m="lfloor",g=667):e==="\\lceil"||e===""?(l="",f=p="",y="Size4-Regular",m="lceil",g=667):e==="\\rfloor"||e===""?(f=l="",p="",y="Size4-Regular",m="rfloor",g=667):e==="\\rceil"||e===""?(l="",f=p="",y="Size4-Regular",m="rceil",g=667):e==="("||e==="\\lparen"?(l="",f="",p="",y="Size4-Regular",m="lparen",g=875):e===")"||e==="\\rparen"?(l="",f="",p="",y="Size4-Regular",m="rparen",g=875):e==="\\{"||e==="\\lbrace"?(l="",c="",p="",f="",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="",c="",p="",f="",y="Size4-Regular"):e==="\\lgroup"||e===""?(l="",p="",f="",y="Size4-Regular"):e==="\\rgroup"||e===""?(l="",p="",f="",y="Size4-Regular"):e==="\\lmoustache"||e===""?(l="",p="",f="",y="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(l="",p="",f="",y="Size4-Regular");var w=Bd(l,y,s),S=w.height+w.depth,I=Bd(f,y,s),R=I.height+I.depth,k=Bd(p,y,s),A=k.height+k.depth,C=0,N=1;if(c!==null){var D=Bd(c,y,s);C=D.height+D.depth,N=2}var F=S+A+C,W=Math.max(0,Math.ceil((n-F)/(N*R))),$=F+W*N*R,X=i.fontMetrics().axisHeight;r&&(X*=i.sizeMultiplier);var V=$/2-X,te=[];if(m.length>0){var me=$-S-A,ue=Math.round($*1e3),ie=cfe(m,Math.round(me*1e3)),ge=new t0(m,ie),se=(g/1e3).toFixed(3)+"em",fe=(ue/1e3).toFixed(3)+"em",oe=new Qu([ge],{width:se,height:fe,viewBox:"0 0 "+g+" "+ue}),Z=ye.makeSvgSpan([],[oe],i);Z.height=ue/1e3,Z.style.width=se,Z.style.height=fe,te.push({type:"elem",elem:Z})}else{if(te.push(dy(p,y,s)),te.push(Om),c===null){var Q=$-S-A+2*v3;te.push(py(f,Q,i))}else{var he=($-S-A-C)/2+2*v3;te.push(py(f,he,i)),te.push(Om),te.push(dy(c,y,s)),te.push(Om),te.push(py(f,he,i))}te.push(Om),te.push(dy(l,y,s))}var Ne=i.havingBaseStyle(Mt.TEXT),Ue=ye.makeVList({positionType:"bottom",positionData:V,children:te},Ne);return Z6(ye.makeSpan(["delimsizing","mult"],[Ue],Ne),Mt.TEXT,i,a)},my=80,gy=.08,_y=function(e,n,r,i,s){var a=lfe(e,i,r),l=new t0(e,a),c=new Qu([l],{width:"400em",height:Ye(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ye.makeSvgSpan(["hide-tail"],[c],s)},ahe=function(e,n){var r=n.havingBaseSizing(),i=IL("\\surd",e*r.sizeMultiplier,AL,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,c=0,f=0,p=0,m;return i.type==="small"?(p=1e3+1e3*a+my,e<1?s=1:e<1.4&&(s=.7),c=(1+a+gy)/s,f=(1+a)/s,l=_y("sqrtMain",c,p,a,n),l.style.minWidth="0.853em",m=.833/s):i.type==="large"?(p=(1e3+my)*Jd[i.size],f=(Jd[i.size]+a)/s,c=(Jd[i.size]+a+gy)/s,l=_y("sqrtSize"+i.size,c,p,a,n),l.style.minWidth="1.02em",m=1/s):(c=e+a+gy,f=e+a,p=Math.floor(1e3*e+a)+my,l=_y("sqrtTall",c,p,a,n),l.style.minWidth="0.742em",m=1.056),l.height=f,l.style.height=Ye(c),{span:l,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},ML=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],ohe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],CL=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Jd=[0,1.2,1.8,2.4,3],lhe=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),zt.contains(ML,e)||zt.contains(CL,e))return kL(e,n,!1,r,i,s);if(zt.contains(ohe,e))return EL(e,Jd[n],!1,r,i,s);throw new We("Illegal delimiter: '"+e+"'")},uhe=[{type:"small",style:Mt.SCRIPTSCRIPT},{type:"small",style:Mt.SCRIPT},{type:"small",style:Mt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],che=[{type:"small",style:Mt.SCRIPTSCRIPT},{type:"small",style:Mt.SCRIPT},{type:"small",style:Mt.TEXT},{type:"stack"}],AL=[{type:"small",style:Mt.SCRIPTSCRIPT},{type:"small",style:Mt.SCRIPT},{type:"small",style:Mt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],fhe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},IL=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var l=Bd(e,fhe(r[a]),"math"),c=l.height+l.depth;if(r[a].type==="small"){var f=i.havingBaseStyle(r[a].style);c*=f.sizeMultiplier}if(c>n)return r[a]}return r[r.length-1]},RL=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var l;zt.contains(CL,e)?l=uhe:zt.contains(ML,e)?l=AL:l=che;var c=IL(e,n,l,i);return c.type==="small"?nhe(e,c.style,r,i,s,a):c.type==="large"?kL(e,c.size,r,i,s,a):EL(e,n,r,i,s,a)},hhe=function(e,n,r,i,s,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,c=901,f=5/i.fontMetrics().ptPerEm,p=Math.max(n-l,r+l),m=Math.max(p/500*c,2*p-f);return RL(e,m,!0,i,s,a)},Zu={sqrtImage:ahe,sizedDelim:lhe,sizeToMaxHeight:Jd,customSizedDelim:RL,leftRightDelim:hhe},fT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dhe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Y2(t,e){var n=V2(t);if(n&&zt.contains(dhe,n.text))return n;throw n?new We("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new We("Invalid delimiter type '"+t.type+"'",t)}et({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Y2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:fT[t.funcName].size,mclass:fT[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ye.makeSpan([t.mclass]):Zu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ro(t.delim,t.mode));var n=new He.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Ye(Zu.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function hT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}et({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new We("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Y2(e[0],t).text,color:n}}});et({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Y2(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=rn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{hT(t);for(var n=Ci(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=Up(e,["mopen"]):l=Zu.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(l),s)for(var c=1;c<n.length;c++){var f=n[c],p=f.isMiddle;p&&(n[c]=Zu.leftRightDelim(p.delim,r,i,p.options,t.mode,[]))}var m;if(t.right===".")m=Up(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;m=Zu.leftRightDelim(t.right,r,i,g,t.mode,["mclose"])}return n.push(m),ye.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{hT(t);var n=Fa(t.body,e);if(t.left!=="."){var r=new He.MathNode("mo",[Ro(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new He.MathNode("mo",[Ro(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return W6(n)}});et({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Y2(e[0],t);if(!t.parser.leftrightDepth)throw new We("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Up(e,[]);else{n=Zu.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Ro("|","text"):Ro(t.delim,t.mode),r=new He.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Y6=(t,e)=>{var n=ye.wrapFragment(Dn(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,l=zt.isCharacterBox(t.body);if(r==="sout")s=ye.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var c=Gr({number:.6,unit:"pt"},e),f=Gr({number:.35,unit:"ex"},e),p=e.havingBaseSizing();i=i/p.sizeMultiplier;var m=n.height+n.depth+c+f;n.style.paddingLeft=Ye(m/2+c);var g=Math.floor(1e3*m*i),y=afe(g),w=new Qu([new t0("phase",y)],{width:"400em",height:Ye(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=ye.makeSvgSpan(["hide-tail"],[w],e),s.style.height=Ye(m),a=n.depth+c+f}else{/cancel/.test(r)?l||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,I=0,R=0;/box/.test(r)?(R=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:R),I=S):r==="angl"?(R=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*R,I=Math.max(0,.25-n.depth)):(S=l?.2:0,I=S),s=tc.encloseSpan(n,r,S,I,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Ye(R)):r==="angl"&&R!==.049&&(s.style.borderTopWidth=Ye(R),s.style.borderRightWidth=Ye(R)),a=n.depth+I,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!l?ye.makeSpan(["mord","cancel-lap"],[k],e):ye.makeSpan(["mord"],[k],e)},j6=(t,e)=>{var n=0,r=new He.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hr(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};et({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:Y6,mathmlBuilder:j6});et({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=rn(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:l}},htmlBuilder:Y6,mathmlBuilder:j6});et({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});et({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Y6,mathmlBuilder:j6});et({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var PL={};function iu(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},c=0;c<n.length;++c)PL[n[c]]=l;s&&(C_[e]=s),a&&(A_[e]=a)}var NL={};function q(t,e){NL[t]=e}function dT(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var j2=t=>{var e=t.parser.settings;if(!e.displayMode)throw new We("{"+t.envName+"} can be used only in display mode.")};function K6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function c0(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:l,autoTag:c,singleRow:f,emptySingleRow:p,maxNumCols:m,leqno:g}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var y=t.gullet.expandMacroAsText("\\arraystretch");if(y==null)a=1;else if(a=parseFloat(y),!a||a<0)throw new We("Invalid \\arraystretch: "+y)}t.gullet.beginGroup();var w=[],S=[w],I=[],R=[],k=c!=null?[]:void 0;function A(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function C(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new jl("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),R.push(dT(t));;){var N=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),N={type:"ordgroup",mode:t.mode,body:N},n&&(N={type:"styling",mode:t.mode,style:n,body:[N]}),w.push(N);var D=t.fetch().text;if(D==="&"){if(m&&w.length===m){if(f||l)throw new We("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(D==="\\end"){C(),w.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(S.length>1||!p)&&S.pop(),R.length<S.length+1&&R.push([]);break}else if(D==="\\\\"){t.consume();var F=void 0;t.gullet.future().text!==" "&&(F=t.parseSizeGroup(!0)),I.push(F?F.value:null),C(),R.push(dT(t)),w=[],S.push(w),A()}else throw new We("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:S,cols:s,rowGaps:I,hskipBeforeAndAfter:r,hLinesBeforeRow:R,colSeparationType:l,tags:k,leqno:g}}function X6(t){return t.slice(0,1)==="d"?"display":"text"}var su=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,l=0,c=new Array(s),f=[],p=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,g=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var y=n.havingStyle(Mt.SCRIPT).sizeMultiplier;g=.2778*(y/n.sizeMultiplier)}var w=e.colSeparationType==="CD"?Gr({number:3,unit:"ex"},n):12*m,S=3*m,I=e.arraystretch*w,R=.7*I,k=.3*I,A=0;function C(kt){for(var nt=0;nt<kt.length;++nt)nt>0&&(A+=.25),f.push({pos:A,isDashed:kt[nt]})}for(C(a[0]),r=0;r<e.body.length;++r){var N=e.body[r],D=R,F=k;l<N.length&&(l=N.length);var W=new Array(N.length);for(i=0;i<N.length;++i){var $=Dn(N[i],n);F<$.depth&&(F=$.depth),D<$.height&&(D=$.height),W[i]=$}var X=e.rowGaps[r],V=0;X&&(V=Gr(X,n),V>0&&(V+=k,F<V&&(F=V),V=0)),e.addJot&&(F+=S),W.height=D,W.depth=F,A+=D,W.pos=A,A+=F+V,c[r]=W,C(a[r+1])}var te=A/2+n.fontMetrics().axisHeight,me=e.cols||[],ue=[],ie,ge,se=[];if(e.tags&&e.tags.some(kt=>kt))for(r=0;r<s;++r){var fe=c[r],oe=fe.pos-te,Z=e.tags[r],Q=void 0;Z===!0?Q=ye.makeSpan(["eqn-num"],[],n):Z===!1?Q=ye.makeSpan([],[],n):Q=ye.makeSpan([],Ci(Z,n,!0),n),Q.depth=fe.depth,Q.height=fe.height,se.push({type:"elem",elem:Q,shift:oe})}for(i=0,ge=0;i<l||ge<me.length;++i,++ge){for(var he=me[ge]||{},Ne=!0;he.type==="separator";){if(Ne||(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(n.fontMetrics().doubleRuleSep),ue.push(ie)),he.separator==="|"||he.separator===":"){var Ue=he.separator==="|"?"solid":"dashed",De=ye.makeSpan(["vertical-separator"],[],n);De.style.height=Ye(A),De.style.borderRightWidth=Ye(p),De.style.borderRightStyle=Ue,De.style.margin="0 "+Ye(-p/2);var Pe=A-te;Pe&&(De.style.verticalAlign=Ye(-Pe)),ue.push(De)}else throw new We("Invalid separator type: "+he.separator);ge++,he=me[ge]||{},Ne=!1}if(!(i>=l)){var ke=void 0;(i>0||e.hskipBeforeAndAfter)&&(ke=zt.deflt(he.pregap,g),ke!==0&&(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(ke),ue.push(ie)));var Ee=[];for(r=0;r<s;++r){var pe=c[r],Ae=pe[i];if(Ae){var Le=pe.pos-te;Ae.depth=pe.depth,Ae.height=pe.height,Ee.push({type:"elem",elem:Ae,shift:Le})}}Ee=ye.makeVList({positionType:"individualShift",children:Ee},n),Ee=ye.makeSpan(["col-align-"+(he.align||"c")],[Ee]),ue.push(Ee),(i<l-1||e.hskipBeforeAndAfter)&&(ke=zt.deflt(he.postgap,g),ke!==0&&(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(ke),ue.push(ie)))}}if(c=ye.makeSpan(["mtable"],ue),f.length>0){for(var be=ye.makeLineSpan("hline",n,p),Ke=ye.makeLineSpan("hdashline",n,p),qe=[{type:"elem",elem:c,shift:0}];f.length>0;){var ct=f.pop(),at=ct.pos-te;ct.isDashed?qe.push({type:"elem",elem:Ke,shift:at}):qe.push({type:"elem",elem:be,shift:at})}c=ye.makeVList({positionType:"individualShift",children:qe},n)}if(se.length===0)return ye.makeSpan(["mord"],[c],n);var tt=ye.makeVList({positionType:"individualShift",children:se},n);return tt=ye.makeSpan(["tag"],[tt],n),ye.makeFragment([c,tt])},phe={c:"center ",l:"left ",r:"right "},au=function(e,n){for(var r=[],i=new He.MathNode("mtd",[],["mtr-glue"]),s=new He.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var l=e.body[a],c=[],f=0;f<l.length;f++)c.push(new He.MathNode("mtd",[hr(l[f],n)]));e.tags&&e.tags[a]&&(c.unshift(i),c.push(i),e.leqno?c.unshift(s):c.push(s)),r.push(new He.MathNode("mtr",c))}var p=new He.MathNode("mtable",r),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",Ye(m));var g="",y="";if(e.cols&&e.cols.length>0){var w=e.cols,S="",I=!1,R=0,k=w.length;w[0].type==="separator"&&(g+="top ",R=1),w[w.length-1].type==="separator"&&(g+="bottom ",k-=1);for(var A=R;A<k;A++)w[A].type==="align"?(y+=phe[w[A].align],I&&(S+="none "),I=!0):w[A].type==="separator"&&I&&(S+=w[A].separator==="|"?"solid ":"dashed ",I=!1);p.setAttribute("columnalign",y.trim()),/[sd]/.test(S)&&p.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var C=e.cols||[],N="",D=1;D<C.length;D++)N+=D%2?"0em ":"1em ";p.setAttribute("columnspacing",N.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var F="",W=e.hLinesBeforeRow;g+=W[0].length>0?"left ":"",g+=W[W.length-1].length>0?"right ":"";for(var $=1;$<W.length-1;$++)F+=W[$].length===0?"none ":W[$][0]?"dashed ":"solid ";return/[sd]/.test(F)&&p.setAttribute("rowlines",F.trim()),g!==""&&(p=new He.MathNode("menclose",[p]),p.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(p=new He.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},LL=function(e,n){e.envName.indexOf("ed")===-1&&j2(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=c0(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:K6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l,c=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var p="",m=0;m<n[0].body.length;m++){var g=rn(n[0].body[m],"textord");p+=g.text}l=Number(p),c=l*2}var y=!c;a.body.forEach(function(R){for(var k=1;k<R.length;k+=2){var A=rn(R[k],"styling"),C=rn(A.body[0],"ordgroup");C.body.unshift(f)}if(y)c<R.length&&(c=R.length);else{var N=R.length/2;if(l<N)throw new We("Too many math in a row: "+("expected "+l+", but got "+N),R[0])}});for(var w=0;w<c;++w){var S="r",I=0;w%2===1?S="l":w>0&&y&&(I=1),r[w]={type:"align",align:S,pregap:I,postgap:0}}return a.colSeparationType=y?"align":"alignat",a};iu({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=V2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=$6(a),c=l.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new We("Unknown column alignment: "+c,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return c0(t.parser,s,X6(t.envName))},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new We("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=c0(t.parser,r,X6(t.envName)),a=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=c0(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=V2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=$6(a),c=l.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new We("Unknown column alignment: "+c,a)});if(i.length>1)throw new We("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=c0(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new We("{subarray} can contain only one column");return s},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=c0(t.parser,e,X6(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:LL,htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){zt.contains(["gather","gather*"],t.envName)&&j2(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:K6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return c0(t.parser,e,"display")},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:LL,htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){j2(t);var e={autoTag:K6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return c0(t.parser,e,"display")},htmlBuilder:su,mathmlBuilder:au});iu({type:"array",names:["CD"],props:{numArgs:0},handler(t){return j2(t),ehe(t.parser)},htmlBuilder:su,mathmlBuilder:au});q("\\nonumber","\\gdef\\@eqnsw{0}");q("\\notag","\\nonumber");et({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new We(t.funcName+" valid only within array environment")}});var pT=PL;et({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new We("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=rn(i.body[a],"textord").text;if(r==="\\begin"){if(!pT.hasOwnProperty(s))throw new We("No such environment: "+s,i);var l=pT[s],{args:c,optArgs:f}=n.parseArguments("\\begin{"+s+"}",l),p={mode:n.mode,envName:s,parser:n},m=l.handler(p,c,f);n.expect("\\end",!1);var g=n.nextToken,y=rn(n.parseFunction(),"environment");if(y.name!==s)throw new We("Mismatch: \\begin{"+s+"} matched by \\end{"+y.name+"}",g);return m}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var OL=(t,e)=>{var n=t.font,r=e.withFont(n);return Dn(t.body,r)},DL=(t,e)=>{var n=t.font,r=e.withFont(n);return hr(t.body,r)},mT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};et({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=I_(e[0]),s=r;return s in mT&&(s=mT[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:OL,mathmlBuilder:DL});et({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=zt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Z2(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});et({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:OL,mathmlBuilder:DL});var BL=(t,e)=>{var n=e;return t==="display"?n=n.id>=Mt.SCRIPT.id?n.text():Mt.DISPLAY:t==="text"&&n.size===Mt.DISPLAY.size?n=Mt.TEXT:t==="script"?n=Mt.SCRIPT:t==="scriptscript"&&(n=Mt.SCRIPTSCRIPT),n},J6=(t,e)=>{var n=BL(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=Dn(t.numer,s,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<c?c:a.depth}s=e.havingStyle(i);var f=Dn(t.denom,s,e),p,m,g;t.hasBarLine?(t.barSize?(m=Gr(t.barSize,e),p=ye.makeLineSpan("frac-line",e,m)):p=ye.makeLineSpan("frac-line",e),m=p.height,g=p.height):(p=null,m=0,g=e.fontMetrics().defaultRuleThickness);var y,w,S;n.size===Mt.DISPLAY.size||t.size==="display"?(y=e.fontMetrics().num1,m>0?w=3*g:w=7*g,S=e.fontMetrics().denom1):(m>0?(y=e.fontMetrics().num2,w=g):(y=e.fontMetrics().num3,w=3*g),S=e.fontMetrics().denom2);var I;if(p){var k=e.fontMetrics().axisHeight;y-a.depth-(k+.5*m)<w&&(y+=w-(y-a.depth-(k+.5*m))),k-.5*m-(f.height-S)<w&&(S+=w-(k-.5*m-(f.height-S)));var A=-(k-.5*m);I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:p,shift:A},{type:"elem",elem:a,shift:-y}]},e)}else{var R=y-a.depth-(f.height-S);R<w&&(y+=.5*(w-R),S+=.5*(w-R)),I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:a,shift:-y}]},e)}s=e.havingStyle(n),I.height*=s.sizeMultiplier/e.sizeMultiplier,I.depth*=s.sizeMultiplier/e.sizeMultiplier;var C;n.size===Mt.DISPLAY.size?C=e.fontMetrics().delim1:n.size===Mt.SCRIPTSCRIPT.size?C=e.havingStyle(Mt.SCRIPT).fontMetrics().delim2:C=e.fontMetrics().delim2;var N,D;return t.leftDelim==null?N=Up(e,["mopen"]):N=Zu.customSizedDelim(t.leftDelim,C,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?D=ye.makeSpan([]):t.rightDelim==null?D=Up(e,["mclose"]):D=Zu.customSizedDelim(t.rightDelim,C,!0,e.havingStyle(n),t.mode,["mclose"]),ye.makeSpan(["mord"].concat(s.sizingClasses(e)),[N,ye.makeSpan(["mfrac"],[I]),D],e)},Q6=(t,e)=>{var n=new He.MathNode("mfrac",[hr(t.numer,e),hr(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Gr(t.barSize,e);n.setAttribute("linethickness",Ye(r))}var i=BL(t.size,e.style);if(i.size!==e.style.size){n=new He.MathNode("mstyle",[n]);var s=i.size===Mt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var l=new He.MathNode("mo",[new He.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(n),t.rightDelim!=null){var c=new He.MathNode("mo",[new He.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}return W6(a)}return n};et({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,l=null,c=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",c=")";break;case"\\\\bracefrac":a=!1,l="\\{",c="\\}";break;case"\\\\brackfrac":a=!1,l="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:l,rightDelim:c,size:f,barSize:null}},htmlBuilder:J6,mathmlBuilder:Q6});et({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});et({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var gT=["display","text","script","scriptscript"],_T=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};et({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=I_(e[0]),a=s.type==="atom"&&s.family==="open"?_T(s.text):null,l=I_(e[1]),c=l.type==="atom"&&l.family==="close"?_T(l.text):null,f=rn(e[2],"size"),p,m=null;f.isBlank?p=!0:(m=f.value,p=m.number>0);var g="auto",y=e[3];if(y.type==="ordgroup"){if(y.body.length>0){var w=rn(y.body[0],"textord");g=gT[Number(w.text)]}}else y=rn(y,"textord"),g=gT[Number(y.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:p,barSize:m,leftDelim:a,rightDelim:c,size:g}},htmlBuilder:J6,mathmlBuilder:Q6});et({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:rn(e[0],"size").value,token:i}}});et({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=$0e(rn(e[1],"infix").size),a=e[2],l=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:J6,mathmlBuilder:Q6});var zL=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Dn(t.sup,e.havingStyle(n.sup()),e):Dn(t.sub,e.havingStyle(n.sub()),e),i=rn(t.base,"horizBrace")):i=rn(t,"horizBrace");var s=Dn(i.base,e.havingBaseStyle(Mt.DISPLAY)),a=tc.svgSpan(i,e),l;if(i.isOver?(l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=ye.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var c=ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=ye.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},mhe=(t,e)=>{var n=tc.mathMLnode(t.label);return new He.MathNode(t.isOver?"mover":"munder",[hr(t.base,e),n])};et({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:zL,mathmlBuilder:mhe});et({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=rn(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:hi(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1);return ye.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=n0(t.body,e);return n instanceof bo||(n=new bo("mrow",[n])),n.setAttribute("href",t.href),n}});et({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=rn(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:hi(l)}}});et({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:hi(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!1);return ye.makeFragment(n)},mathmlBuilder(t,e){return new He.MathNode("mrow",Fa(t.body,e))}});et({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=rn(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,c={};switch(r){case"\\htmlClass":c.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":c.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":c.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length!==2)throw new We("Error parsing key-value for \\htmlData");c["data-"+m[0].trim()]=m[1].trim()}l={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:c,body:hi(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ye.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>n0(t.body,e)});et({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:hi(e[0]),mathml:hi(e[1])}},htmlBuilder:(t,e)=>{var n=Ci(t.html,e,!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>n0(t.mathml,e)});var vy=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new We("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!rL(r))throw new We("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};et({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=rn(n[0],"raw").string,f=c.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length===2){var g=m[1].trim();switch(m[0].trim()){case"alt":l=g;break;case"width":i=vy(g);break;case"height":s=vy(g);break;case"totalheight":a=vy(g);break;default:throw new We("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var y=rn(e[0],"url").url;return l===""&&(l=y,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:a,src:y}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Gr(t.height,e),r=0;t.totalheight.number>0&&(r=Gr(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Gr(t.width,e));var s={height:Ye(n+r)};i>0&&(s.width=Ye(i)),r>0&&(s.verticalAlign=Ye(-r));var a=new mfe(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Gr(t.height,e),i=0;if(t.totalheight.number>0&&(i=Gr(t.totalheight,e)-r,n.setAttribute("valign",Ye(-i))),n.setAttribute("height",Ye(r+i)),t.width.number>0){var s=Gr(t.width,e);n.setAttribute("width",Ye(s))}return n.setAttribute("src",t.src),n}});et({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=rn(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return ye.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Gr(t.dimension,e);return new He.SpaceNode(n)}});et({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ye.makeSpan([],[Dn(t.body,e)]),n=ye.makeSpan(["inner"],[n],e)):n=ye.makeSpan(["inner"],[Dn(t.body,e)]);var r=ye.makeSpan(["fix"],[]),i=ye.makeSpan([t.alignment],[n,r],e),s=ye.makeSpan(["strut"]);return s.style.height=Ye(i.height+i.depth),i.depth&&(s.style.verticalAlign=Ye(-i.depth)),i.children.unshift(s),i=ye.makeSpan(["thinbox"],[i],e),ye.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[hr(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});et({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});et({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new We("Mismatched "+t.funcName)}});var vT=(t,e)=>{switch(e.style.size){case Mt.DISPLAY.size:return t.display;case Mt.TEXT.size:return t.text;case Mt.SCRIPT.size:return t.script;case Mt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};et({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:hi(e[0]),text:hi(e[1]),script:hi(e[2]),scriptscript:hi(e[3])}},htmlBuilder:(t,e)=>{var n=vT(t,e),r=Ci(n,e,!1);return ye.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=vT(t,e);return n0(n,e)}});var FL=(t,e,n,r,i,s,a)=>{t=ye.makeSpan([],[t]);var l=n&&zt.isCharacterBox(n),c,f;if(e){var p=Dn(e,r.havingStyle(i.sup()),r);f={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-p.depth)}}if(n){var m=Dn(n,r.havingStyle(i.sub()),r);c={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-m.height)}}var g;if(f&&c){var y=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ye(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var w=t.height-a;g=ye.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ye(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var I=[g];if(c&&s!==0&&!l){var R=ye.makeSpan(["mspace"],[],r);R.style.marginRight=Ye(s),I.unshift(R)}return ye.makeSpan(["mop","op-limits"],I,r)},UL=["\\smallint"],Yh=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"op"),i=!0):s=rn(t,"op");var a=e.style,l=!1;a.size===Mt.DISPLAY.size&&s.symbol&&!zt.contains(UL,s.name)&&(l=!0);var c;if(s.symbol){var f=l?"Size2-Regular":"Size1-Regular",p="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(p=s.name.slice(1),s.name=p==="oiint"?"\\iint":"\\iiint"),c=ye.makeSymbol(s.name,f,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),p.length>0){var m=c.italic,g=ye.staticSvg(p+"Size"+(l?"2":"1"),e);c=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},e),s.name="\\"+p,c.classes.unshift("mop"),c.italic=m}}else if(s.body){var y=Ci(s.body,e,!0);y.length===1&&y[0]instanceof Io?(c=y[0],c.classes[0]="mop"):c=ye.makeSpan(["mop"],y,e)}else{for(var w=[],S=1;S<s.name.length;S++)w.push(ye.mathsym(s.name[S],s.mode,e));c=ye.makeSpan(["mop"],w,e)}var I=0,R=0;return(c instanceof Io||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(I=(c.height-c.depth)/2-e.fontMetrics().axisHeight,R=c.italic),i?FL(c,n,r,e,a,R,I):(I&&(c.style.position="relative",c.style.top=Ye(I)),c)},k1=(t,e)=>{var n;if(t.symbol)n=new bo("mo",[Ro(t.name,t.mode)]),zt.contains(UL,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new bo("mo",Fa(t.body,e));else{n=new bo("mi",[new Xd(t.name.slice(1))]);var r=new bo("mo",[Ro("","text")]);t.parentIsSupSub?n=new bo("mrow",[n,r]):n=pL([n,r])}return n},ghe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};et({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=ghe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Yh,mathmlBuilder:k1});et({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:hi(r)}},htmlBuilder:Yh,mathmlBuilder:k1});var _he={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};et({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yh,mathmlBuilder:k1});et({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yh,mathmlBuilder:k1});et({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=_he[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Yh,mathmlBuilder:k1});var qL=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"operatorname"),i=!0):s=rn(t,"operatorname");var a;if(s.body.length>0){for(var l=s.body.map(m=>{var g=m.text;return typeof g=="string"?{type:"textord",mode:m.mode,text:g}:m}),c=Ci(l,e.withFont("mathrm"),!0),f=0;f<c.length;f++){var p=c[f];p instanceof Io&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ye.makeSpan(["mop"],c,e)}else a=ye.makeSpan(["mop"],[],e);return i?FL(a,n,r,e,e.style,0,0):a},vhe=(t,e)=>{for(var n=Fa(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof He.SpaceNode))if(s instanceof He.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof He.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=n.map(p=>p.toText()).join("");n=[new He.TextNode(l)]}var c=new He.MathNode("mi",n);c.setAttribute("mathvariant","normal");var f=new He.MathNode("mo",[Ro("","text")]);return t.parentIsSupSub?new He.MathNode("mrow",[c,f]):He.newDocumentFragment([c,f])};et({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:hi(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:qL,mathmlBuilder:vhe});q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");_f({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ye.makeFragment(Ci(t.body,e,!1)):ye.makeSpan(["mord"],Ci(t.body,e,!0),e)},mathmlBuilder(t,e){return n0(t.body,e,!0)}});et({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Dn(t.body,e.havingCrampedStyle()),r=ye.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ye.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("")]);n.setAttribute("stretchy","true");var r=new He.MathNode("mover",[hr(t.body,e),n]);return r.setAttribute("accent","true"),r}});et({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:hi(r)}},htmlBuilder:(t,e)=>{var n=Ci(t.body,e.withPhantom(),!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Fa(t.body,e);return new He.MathNode("mphantom",n)}});et({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Dn(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ye.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Fa(hi(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});et({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan(["inner"],[Dn(t.body,e.withPhantom())]),r=ye.makeSpan(["fix"],[]);return ye.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Fa(hi(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});et({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=rn(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Dn(t.body,e),r=Gr(t.dy,e);return ye.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new He.MathNode("mpadded",[hr(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});et({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});et({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=rn(e[0],"size"),a=rn(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&rn(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=ye.makeSpan(["mord","rule"],[],e),r=Gr(t.width,e),i=Gr(t.height,e),s=t.shift?Gr(t.shift,e):0;return n.style.borderRightWidth=Ye(r),n.style.borderTopWidth=Ye(i),n.style.bottom=Ye(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Gr(t.width,e),r=Gr(t.height,e),i=t.shift?Gr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new He.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Ye(n)),a.setAttribute("height",Ye(r));var l=new He.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",Ye(i)):(l.setAttribute("height",Ye(i)),l.setAttribute("depth",Ye(-i))),l.setAttribute("voffset",Ye(i)),l}});function HL(t,e,n){for(var r=Ci(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return ye.makeFragment(r)}var yT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yhe=(t,e)=>{var n=e.havingSize(t.size);return HL(t.body,n,e)};et({type:"sizing",names:yT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:yT.indexOf(r)+1,body:s}},htmlBuilder:yhe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Fa(t.body,n),i=new He.MathNode("mstyle",r);return i.setAttribute("mathsize",Ye(n.sizeMultiplier)),i}});et({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&rn(n[0],"ordgroup");if(a)for(var l="",c=0;c<a.body.length;++c){var f=a.body[c];if(l=f.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var p=e[0];return{type:"smash",mode:r.mode,body:p,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Dn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ye.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[hr(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});et({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Dn(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ye.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<Mt.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,l=n.height+n.depth+a+i,{span:c,ruleWidth:f,advanceWidth:p}=Zu.sqrtImage(l,e),m=c.height-f;m>n.height+n.depth+a&&(a=(a+m-n.height-n.depth)/2);var g=c.height-n.height-a-f;n.style.paddingLeft=Ye(p);var y=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:c},{type:"kern",size:f}]},e);if(t.index){var w=e.havingStyle(Mt.SCRIPTSCRIPT),S=Dn(t.index,w,e),I=.6*(y.height-y.depth),R=ye.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:S}]},e),k=ye.makeSpan(["root"],[R]);return ye.makeSpan(["mord","sqrt"],[k,y],e)}else return ye.makeSpan(["mord","sqrt"],[y],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new He.MathNode("mroot",[hr(n,e),hr(r,e)]):new He.MathNode("msqrt",[hr(n,e)])}});var bT={display:Mt.DISPLAY,text:Mt.TEXT,script:Mt.SCRIPT,scriptscript:Mt.SCRIPTSCRIPT};et({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=bT[t.style],r=e.havingStyle(n).withFont("");return HL(t.body,r,e)},mathmlBuilder(t,e){var n=bT[t.style],r=e.havingStyle(n),i=Fa(t.body,r),s=new He.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[t.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var bhe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Mt.DISPLAY.size||r.alwaysHandleSupSub);return i?Yh:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Mt.DISPLAY.size||r.limits);return s?qL:null}else{if(r.type==="accent")return zt.isCharacterBox(r.base)?V6:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?zL:null}else return null}else return null};_f({type:"supsub",htmlBuilder(t,e){var n=bhe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=Dn(r,e),l,c,f=e.fontMetrics(),p=0,m=0,g=r&&zt.isCharacterBox(r);if(i){var y=e.havingStyle(e.style.sup());l=Dn(i,y,e),g||(p=a.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(s){var w=e.havingStyle(e.style.sub());c=Dn(s,w,e),g||(m=a.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var S;e.style===Mt.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var I=e.sizeMultiplier,R=Ye(.5/f.ptPerEm/I),k=null;if(c){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Io||A)&&(k=Ye(-a.italic))}var C;if(l&&c){p=Math.max(p,S,l.depth+.25*f.xHeight),m=Math.max(m,f.sub2);var N=f.defaultRuleThickness,D=4*N;if(p-l.depth-(c.height-m)<D){m=D-(p-l.depth)+c.height;var F=.8*f.xHeight-(p-l.depth);F>0&&(p+=F,m-=F)}var W=[{type:"elem",elem:c,shift:m,marginRight:R,marginLeft:k},{type:"elem",elem:l,shift:-p,marginRight:R}];C=ye.makeVList({positionType:"individualShift",children:W},e)}else if(c){m=Math.max(m,f.sub1,c.height-.8*f.xHeight);var $=[{type:"elem",elem:c,marginLeft:k,marginRight:R}];C=ye.makeVList({positionType:"shift",positionData:m,children:$},e)}else if(l)p=Math.max(p,S,l.depth+.25*f.xHeight),C=ye.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:l,marginRight:R}]},e);else throw new Error("supsub must have either sup or sub.");var X=m3(a,"right")||"mord";return ye.makeSpan([X],[a,ye.makeSpan(["msupsub"],[C])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[hr(t.base,e)];t.sub&&s.push(hr(t.sub,e)),t.sup&&s.push(hr(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===Mt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===Mt.DISPLAY||f.limits)?a="munderover":a="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Mt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Mt.DISPLAY)?a="munder":a="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Mt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Mt.DISPLAY)?a="mover":a="msup"}return new He.MathNode(a,s)}});_f({type:"atom",htmlBuilder(t,e){return ye.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new He.MathNode("mo",[Ro(t.text,t.mode)]);if(t.family==="bin"){var r=G6(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var WL={mi:"italic",mn:"normal",mtext:"normal"};_f({type:"mathord",htmlBuilder(t,e){return ye.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new He.MathNode("mi",[Ro(t.text,t.mode,e)]),r=G6(t,e)||"italic";return r!==WL[n.type]&&n.setAttribute("mathvariant",r),n}});_f({type:"textord",htmlBuilder(t,e){return ye.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Ro(t.text,t.mode,e),r=G6(t,e)||"normal",i;return t.mode==="text"?i=new He.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new He.MathNode("mn",[n]):t.text==="\\prime"?i=new He.MathNode("mo",[n]):i=new He.MathNode("mi",[n]),r!==WL[i.type]&&i.setAttribute("mathvariant",r),i}});var yy={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},by={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};_f({type:"spacing",htmlBuilder(t,e){if(by.hasOwnProperty(t.text)){var n=by[t.text].className||"";if(t.mode==="text"){var r=ye.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ye.makeSpan(["mspace",n],[ye.mathsym(t.text,t.mode,e)],e)}else{if(yy.hasOwnProperty(t.text))return ye.makeSpan(["mspace",yy[t.text]],[],e);throw new We('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(by.hasOwnProperty(t.text))n=new He.MathNode("mtext",[new He.TextNode("")]);else{if(yy.hasOwnProperty(t.text))return new He.MathNode("mspace");throw new We('Unknown type of space "'+t.text+'"')}return n}});var wT=()=>{var t=new He.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};_f({type:"tag",mathmlBuilder(t,e){var n=new He.MathNode("mtable",[new He.MathNode("mtr",[wT(),new He.MathNode("mtd",[n0(t.body,e)]),wT(),new He.MathNode("mtd",[n0(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var xT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ST={"\\textbf":"textbf","\\textmd":"textmd"},whe={"\\textit":"textit","\\textup":"textup"},TT=(t,e)=>{var n=t.font;return n?xT[n]?e.withTextFontFamily(xT[n]):ST[n]?e.withTextFontWeight(ST[n]):e.withTextFontShape(whe[n]):e};et({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:hi(i),font:r}},htmlBuilder(t,e){var n=TT(t,e),r=Ci(t.body,n,!0);return ye.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=TT(t,e);return n0(t.body,n)}});et({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Dn(t.body,e),r=ye.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("")]);n.setAttribute("stretchy","true");var r=new He.MathNode("munder",[hr(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});et({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Dn(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ye.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new He.MathNode("mpadded",[hr(t.body,e)],["vcenter"])}});et({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new We("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=kT(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(ye.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ye.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ye.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new He.TextNode(kT(t)),r=new He.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var kT=t=>t.body.replace(/ /g,t.star?"":""),zc=hL,GL=`[ \r
	]`,xhe="\\\\[a-zA-Z@]+",She="\\\\[^\uD800-\uDFFF]",The="("+xhe+")"+GL+"*",khe=`\\\\(
|[ \r	]+
?)[ \r	]*`,y3="[-]",Ehe=new RegExp(y3+"+$"),Mhe="("+GL+"+)|"+(khe+"|")+"([!-\\[\\]---]"+(y3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(y3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+The)+("|"+She+")");class ET{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Mhe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new jl("EOF",new Xa(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new We("Unexpected character: '"+e[n]+"'",new jl(e[n],new Xa(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new jl(i,new Xa(this,n,this.tokenRegex.lastIndex))}}class Che{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new We("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Ahe=NL;q("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});q("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});q("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});q("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});q("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");q("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var MT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new We("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=MT[e.text],r==null||r>=n)throw new We("Invalid base-"+n+" digit "+e.text);for(var i;(i=MT[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var e7=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new We("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new We("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new We("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new We("Invalid number of arguments: "+l);a=parseInt(l),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:a}),""};q("\\newcommand",t=>e7(t,!1,!0));q("\\renewcommand",t=>e7(t,!0,!1));q("\\providecommand",t=>e7(t,!0,!0));q("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});q("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});q("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),zc[n],xr.math[n],xr.text[n]),""});q("\\bgroup","{");q("\\egroup","}");q("~","\\nobreakspace");q("\\lq","`");q("\\rq","'");q("\\aa","\\r a");q("\\AA","\\r A");q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");q("","\\mathscr{B}");q("","\\mathscr{E}");q("","\\mathscr{F}");q("","\\mathscr{H}");q("","\\mathscr{I}");q("","\\mathscr{L}");q("","\\mathscr{M}");q("","\\mathscr{R}");q("","\\mathfrak{C}");q("","\\mathfrak{H}");q("","\\mathfrak{Z}");q("\\Bbbk","\\Bbb{k}");q("","\\cdotp");q("\\llap","\\mathllap{\\textrm{#1}}");q("\\rlap","\\mathrlap{\\textrm{#1}}");q("\\clap","\\mathclap{\\textrm{#1}}");q("\\mathstrut","\\vphantom{(}");q("\\underbar","\\underline{\\text{#1}}");q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");q("\\ne","\\neq");q("","\\neq");q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");q("","\\notin");q("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");q("","\\perp");q("","\\mathclose{!\\mkern-0.8mu!}");q("","\\notni");q("","\\ulcorner");q("","\\urcorner");q("","\\llcorner");q("","\\lrcorner");q("","\\copyright");q("","\\textregistered");q("","\\textregistered");q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');q("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");q("","\\vdots");q("\\varGamma","\\mathit{\\Gamma}");q("\\varDelta","\\mathit{\\Delta}");q("\\varTheta","\\mathit{\\Theta}");q("\\varLambda","\\mathit{\\Lambda}");q("\\varXi","\\mathit{\\Xi}");q("\\varPi","\\mathit{\\Pi}");q("\\varSigma","\\mathit{\\Sigma}");q("\\varUpsilon","\\mathit{\\Upsilon}");q("\\varPhi","\\mathit{\\Phi}");q("\\varPsi","\\mathit{\\Psi}");q("\\varOmega","\\mathit{\\Omega}");q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");q("\\boxed","\\fbox{$\\displaystyle{#1}$}");q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var CT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in CT?e=CT[n]:(n.slice(0,4)==="\\not"||n in xr.math&&zt.contains(["bin","rel"],xr.math[n].group))&&(e="\\dotsb"),e});var t7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(t){var e=t.future().text;return e in t7?"\\ldots\\,":"\\ldots"});q("\\dotsc",function(t){var e=t.future().text;return e in t7&&e!==","?"\\ldots\\,":"\\ldots"});q("\\cdots",function(t){var e=t.future().text;return e in t7?"\\@cdots\\,":"\\@cdots"});q("\\dotsb","\\cdots");q("\\dotsm","\\cdots");q("\\dotsi","\\!\\cdots");q("\\dotsx","\\ldots\\,");q("\\DOTSI","\\relax");q("\\DOTSB","\\relax");q("\\DOTSX","\\relax");q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");q("\\,","\\tmspace+{3mu}{.1667em}");q("\\thinspace","\\,");q("\\>","\\mskip{4mu}");q("\\:","\\tmspace+{4mu}{.2222em}");q("\\medspace","\\:");q("\\;","\\tmspace+{5mu}{.2777em}");q("\\thickspace","\\;");q("\\!","\\tmspace-{3mu}{.1667em}");q("\\negthinspace","\\!");q("\\negmedspace","\\tmspace-{4mu}{.2222em}");q("\\negthickspace","\\tmspace-{5mu}{.277em}");q("\\enspace","\\kern.5em ");q("\\enskip","\\hskip.5em\\relax");q("\\quad","\\hskip1em\\relax");q("\\qquad","\\hskip2em\\relax");q("\\tag","\\@ifstar\\tag@literal\\tag@paren");q("\\tag@paren","\\tag@literal{({#1})}");q("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new We("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");q("\\newline","\\\\\\relax");q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var $L=Ye(Gl["Main-Regular"]["T".charCodeAt(0)][1]-.7*Gl["Main-Regular"]["A".charCodeAt(0)][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+$L+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+$L+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");q("\\hspace","\\@ifstar\\@hspacer\\@hspace");q("\\@hspace","\\hskip #1\\relax");q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");q("\\ordinarycolon",":");q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');q("","\\dblcolon");q("","\\eqcolon");q("","\\coloneqq");q("","\\eqqcolon");q("","\\Coloneqq");q("\\ratio","\\vcentcolon");q("\\coloncolon","\\dblcolon");q("\\colonequals","\\coloneqq");q("\\coloncolonequals","\\Coloneqq");q("\\equalscolon","\\eqqcolon");q("\\equalscoloncolon","\\Eqqcolon");q("\\colonminus","\\coloneq");q("\\coloncolonminus","\\Coloneq");q("\\minuscolon","\\eqcolon");q("\\minuscoloncolon","\\Eqcolon");q("\\coloncolonapprox","\\Colonapprox");q("\\coloncolonsim","\\Colonsim");q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");q("\\ngeqq","\\html@mathml{\\@ngeqq}{}");q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");q("\\nleqq","\\html@mathml{\\@nleqq}{}");q("\\nleqslant","\\html@mathml{\\@nleqslant}{}");q("\\nshortmid","\\html@mathml{\\@nshortmid}{}");q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");q("\\imath","\\html@mathml{\\@imath}{}");q("\\jmath","\\html@mathml{\\@jmath}{}");q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");q("","\\llbracket");q("","\\rrbracket");q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");q("","\\lBrace");q("","\\rBrace");q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");q("","\\minuso");q("\\darr","\\downarrow");q("\\dArr","\\Downarrow");q("\\Darr","\\Downarrow");q("\\lang","\\langle");q("\\rang","\\rangle");q("\\uarr","\\uparrow");q("\\uArr","\\Uparrow");q("\\Uarr","\\Uparrow");q("\\N","\\mathbb{N}");q("\\R","\\mathbb{R}");q("\\Z","\\mathbb{Z}");q("\\alef","\\aleph");q("\\alefsym","\\aleph");q("\\Alpha","\\mathrm{A}");q("\\Beta","\\mathrm{B}");q("\\bull","\\bullet");q("\\Chi","\\mathrm{X}");q("\\clubs","\\clubsuit");q("\\cnums","\\mathbb{C}");q("\\Complex","\\mathbb{C}");q("\\Dagger","\\ddagger");q("\\diamonds","\\diamondsuit");q("\\empty","\\emptyset");q("\\Epsilon","\\mathrm{E}");q("\\Eta","\\mathrm{H}");q("\\exist","\\exists");q("\\harr","\\leftrightarrow");q("\\hArr","\\Leftrightarrow");q("\\Harr","\\Leftrightarrow");q("\\hearts","\\heartsuit");q("\\image","\\Im");q("\\infin","\\infty");q("\\Iota","\\mathrm{I}");q("\\isin","\\in");q("\\Kappa","\\mathrm{K}");q("\\larr","\\leftarrow");q("\\lArr","\\Leftarrow");q("\\Larr","\\Leftarrow");q("\\lrarr","\\leftrightarrow");q("\\lrArr","\\Leftrightarrow");q("\\Lrarr","\\Leftrightarrow");q("\\Mu","\\mathrm{M}");q("\\natnums","\\mathbb{N}");q("\\Nu","\\mathrm{N}");q("\\Omicron","\\mathrm{O}");q("\\plusmn","\\pm");q("\\rarr","\\rightarrow");q("\\rArr","\\Rightarrow");q("\\Rarr","\\Rightarrow");q("\\real","\\Re");q("\\reals","\\mathbb{R}");q("\\Reals","\\mathbb{R}");q("\\Rho","\\mathrm{P}");q("\\sdot","\\cdot");q("\\sect","\\S");q("\\spades","\\spadesuit");q("\\sub","\\subset");q("\\sube","\\subseteq");q("\\supe","\\supseteq");q("\\Tau","\\mathrm{T}");q("\\thetasym","\\vartheta");q("\\weierp","\\wp");q("\\Zeta","\\mathrm{Z}");q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");q("\\bra","\\mathinner{\\langle{#1}|}");q("\\ket","\\mathinner{|{#1}\\rangle}");q("\\braket","\\mathinner{\\langle{#1}\\rangle}");q("\\Bra","\\left\\langle#1\\right|");q("\\Ket","\\left|#1\\right\\rangle");var VL=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var c=m=>g=>{t&&(g.macros.set("|",a),i.length&&g.macros.set("\\|",l));var y=m;if(!m&&i.length){var w=g.future();w.text==="|"&&(g.popToken(),y=!0)}return{tokens:y?i:r,numArgs:0}};e.macros.set("|",c(!1)),i.length&&e.macros.set("\\|",c(!0));var f=e.consumeArg().tokens,p=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};q("\\bra@ket",VL(!1));q("\\bra@set",VL(!0));q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");q("\\angln","{\\angl n}");q("\\blue","\\textcolor{##6495ed}{#1}");q("\\orange","\\textcolor{##ffa500}{#1}");q("\\pink","\\textcolor{##ff00af}{#1}");q("\\red","\\textcolor{##df0030}{#1}");q("\\green","\\textcolor{##28ae7b}{#1}");q("\\gray","\\textcolor{gray}{#1}");q("\\purple","\\textcolor{##9d38bd}{#1}");q("\\blueA","\\textcolor{##ccfaff}{#1}");q("\\blueB","\\textcolor{##80f6ff}{#1}");q("\\blueC","\\textcolor{##63d9ea}{#1}");q("\\blueD","\\textcolor{##11accd}{#1}");q("\\blueE","\\textcolor{##0c7f99}{#1}");q("\\tealA","\\textcolor{##94fff5}{#1}");q("\\tealB","\\textcolor{##26edd5}{#1}");q("\\tealC","\\textcolor{##01d1c1}{#1}");q("\\tealD","\\textcolor{##01a995}{#1}");q("\\tealE","\\textcolor{##208170}{#1}");q("\\greenA","\\textcolor{##b6ffb0}{#1}");q("\\greenB","\\textcolor{##8af281}{#1}");q("\\greenC","\\textcolor{##74cf70}{#1}");q("\\greenD","\\textcolor{##1fab54}{#1}");q("\\greenE","\\textcolor{##0d923f}{#1}");q("\\goldA","\\textcolor{##ffd0a9}{#1}");q("\\goldB","\\textcolor{##ffbb71}{#1}");q("\\goldC","\\textcolor{##ff9c39}{#1}");q("\\goldD","\\textcolor{##e07d10}{#1}");q("\\goldE","\\textcolor{##a75a05}{#1}");q("\\redA","\\textcolor{##fca9a9}{#1}");q("\\redB","\\textcolor{##ff8482}{#1}");q("\\redC","\\textcolor{##f9685d}{#1}");q("\\redD","\\textcolor{##e84d39}{#1}");q("\\redE","\\textcolor{##bc2612}{#1}");q("\\maroonA","\\textcolor{##ffbde0}{#1}");q("\\maroonB","\\textcolor{##ff92c6}{#1}");q("\\maroonC","\\textcolor{##ed5fa6}{#1}");q("\\maroonD","\\textcolor{##ca337c}{#1}");q("\\maroonE","\\textcolor{##9e034e}{#1}");q("\\purpleA","\\textcolor{##ddd7ff}{#1}");q("\\purpleB","\\textcolor{##c6b9fc}{#1}");q("\\purpleC","\\textcolor{##aa87ff}{#1}");q("\\purpleD","\\textcolor{##7854ab}{#1}");q("\\purpleE","\\textcolor{##543b78}{#1}");q("\\mintA","\\textcolor{##f5f9e8}{#1}");q("\\mintB","\\textcolor{##edf2df}{#1}");q("\\mintC","\\textcolor{##e0e5cc}{#1}");q("\\grayA","\\textcolor{##f6f7f7}{#1}");q("\\grayB","\\textcolor{##f0f1f2}{#1}");q("\\grayC","\\textcolor{##e3e5e6}{#1}");q("\\grayD","\\textcolor{##d6d8da}{#1}");q("\\grayE","\\textcolor{##babec2}{#1}");q("\\grayF","\\textcolor{##888d93}{#1}");q("\\grayG","\\textcolor{##626569}{#1}");q("\\grayH","\\textcolor{##3b3e40}{#1}");q("\\grayI","\\textcolor{##21242c}{#1}");q("\\kaBlue","\\textcolor{##314453}{#1}");q("\\kaGreen","\\textcolor{##71B307}{#1}");var ZL={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ihe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new Che(Ahe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new ET(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new jl("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,l=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new We("Extra }",s)}else if(s.text==="EOF")throw new We("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[l]==="{")&&s.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new We("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new We("Use of the macro doesn't match its definition",s)}}for(var a=[],l=0;l<e;l++)a.push(this.consumeArg(n&&n[l+1]).tokens);return a}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new We("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new We("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var c=s[l];if(c.text==="#"){if(l===0)throw new We("Incomplete placeholder at end of macro body",c);if(c=s[--l],c.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(c.text))s.splice(l,2,...a[+c.text-1]);else throw new We("Not a valid argument number",c)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new jl(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var l=new ET(i,this.settings),c=[],f=l.lex();f.text!=="EOF";)c.push(f),f=l.lex();c.reverse();var p={tokens:c,numArgs:s};return p}return i}isDefined(e){return this.macros.has(e)||zc.hasOwnProperty(e)||xr.math.hasOwnProperty(e)||xr.text.hasOwnProperty(e)||ZL.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:zc.hasOwnProperty(e)&&!zc[e].primitive}}var AT=/^[]/,Dm=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),wy={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},IT={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class qp{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ihe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new We("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new jl("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(qp.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&zc[i.text]&&zc[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new We("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,l=e.slice(0,n),c=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],a],[]):f=this.callFunction(r,[s,a],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new We("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new We("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new We("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new We("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new We("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();this.fetch().text==="'";)c.push(l),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(Dm[s.text]){var f=Dm[s.text],p=AT.test(s.text);for(this.consume();;){var m=this.fetch().text;if(!Dm[m]||AT.test(m)!==p)break;this.consume(),f+=Dm[m]}var g=new qp(f,this.settings).parse();p?i={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=zc[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new We("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new We("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new We("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,a,l,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},l=zc[e];if(l&&l.handler)return l.handler(a,n,r);throw new We("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var l=n.argTypes&&n.argTypes[a],c=a<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(l="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",l,c);if(c)s.push(f);else if(f!=null)i.push(f);else throw new We("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new We("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new We("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new We("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new We("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new We("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new We("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!rL(s))throw new We("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Xa.range(r,c),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!ZL.hasOwnProperty(i)){if(this.settings.throwOnError)throw new We("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Xa.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Xa.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Xa.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new We(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}IT.hasOwnProperty(n[0])&&!xr[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=IT[n[0]]+n.slice(1));var s=Ehe.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var a;if(xr[this.mode][n]){this.settings.strict&&this.mode==="math"&&p3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=xr[this.mode][n].group,c=Xa.range(e),f;if(vfe.hasOwnProperty(l)){var p=l;f={type:"atom",mode:this.mode,family:p,loc:c,text:n}}else f={type:l,mode:this.mode,loc:c,text:n};a=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(nL(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Xa.range(e),text:n};else return null;if(this.consume(),s)for(var m=0;m<s[0].length;m++){var g=s[0][m];if(!wy[g])throw new We("Unknown accent ' "+g+"'",e);var y=wy[g][this.mode]||wy[g].text;if(!y)throw new We("Accent "+g+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Xa.range(e),label:y,isStretchy:!1,isShifty:!0,base:a}}return a}}qp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var n7=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new qp(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new We("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new jl("\\df@tag")])}]}return i},YL=function(e,n,r){n.textContent="";var i=r7(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),YL=function(){throw new We("KaTeX doesn't work in quirks mode.")});var Rhe=function(e,n){var r=r7(e,n).toMarkup();return r},Phe=function(e,n){var r=new z6(n);return n7(e,r)},jL=function(e,n,r){if(r.throwOnError||!(e instanceof We))throw e;var i=ye.makeSpan(["katex-error"],[new Io(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},r7=function(e,n){var r=new z6(n);try{var i=n7(e,r);return qfe(i,e,r)}catch(s){return jL(s,e,r)}},Nhe=function(e,n){var r=new z6(n);try{var i=n7(e,r);return Hfe(i,e,r)}catch(s){return jL(s,e,r)}},Lhe={version:"0.16.8",render:YL,renderToString:Rhe,ParseError:We,SETTINGS_SCHEMA:rg,__parse:Phe,__renderToDomTree:r7,__renderToHTMLTree:Nhe,__setFontMetrics:ffe,__defineSymbol:x,__defineFunction:et,__defineMacro:q,__domTree:{Span:T1,Anchor:q6,SymbolNode:Io,SvgNode:Qu,PathNode:t0,LineNode:d3}};const Ohe=new RegExp("(?<=\\s|^)\\${1,2}(?!\\$)"),RT=new RegExp("^(\\${1,2})(?!\\$)((?:\\\\.|[^\\\\\\n])+?)(?<!\\$)\\1(?=\\s|$)"),Dhe=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function Bhe(t={}){return{extensions:[zhe(t,PT(t,!1)),Fhe(t,PT(t,!0))]}}function PT(t,e){return n=>Lhe.renderToString(n.text,{...t,displayMode:n.displayMode})+(e?`
`:"")}function zhe(t,e){return{name:"inlineKatex",level:"inline",start(n){const r=n.match(Ohe);if(!r)return;if(n.substring(r.index).match(RT))return r.index},tokenizer(n,r){const i=n.match(RT);if(i)return{type:"inlineKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function Fhe(t,e){return{name:"blockKatex",level:"block",start(n){return n.indexOf(`
$`)},tokenizer(n,r){const i=n.match(Dhe);if(i)return{type:"blockKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function NT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Qd(s,i[a]);return{c(){e=Y("div"),sg(e,s)},m(a,l){vt(a,e,l),n||(r=S3(t[2].call(null,e)),n=!0)},p(a,l){sg(e,s=uk(i,[l&16&&a[4]]))},d(a){a&&ht(e),n=!1,r()}}}function LT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Qd(s,i[a]);return{c(){e=Y("div"),sg(e,s)},m(a,l){vt(a,e,l),n||(r=S3(t[3].call(null,e)),n=!0)},p(a,l){sg(e,s=uk(i,[l&16&&a[4]]))},d(a){a&&ht(e),n=!1,r()}}}function Uhe(t){let e,n,r=t[0],i,s=t[1],a,l=NT(t),c=LT(t);return{c(){e=Y("link"),n=ve(),l.c(),i=ve(),c.c(),a=P_(),H(e,"rel","stylesheet"),H(e,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),H(e,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),H(e,"crossorigin","anonymous")},m(f,p){P(document.head,e),vt(f,n,p),l.m(f,p),vt(f,i,p),c.m(f,p),vt(f,a,p)},p(f,[p]){p&1&&eo(r,r=f[0])?(l.d(1),l=NT(f),l.c(),l.m(i.parentNode,i)):l.p(f,p),p&2&&eo(s,s=f[1])?(c.d(1),c=LT(f),c.c(),c.m(a.parentNode,a)):c.p(f,p)},i:Rn,o:Rn,d(f){ht(e),f&&ht(n),l.d(f),f&&ht(i),f&&ht(a),c.d(f)}}}function qhe(t,e,n){const r=["options","mdtext"];let i=B8(e,r),{options:s={}}=e,{mdtext:a}=e;function l(f){s!=null&&f.appendChild(Xo(s))}function c(f){a!=null&&(Kn.use(Bhe({displayMode:!0,output:"html"}),{mangle:!1,headerIds:!1}),f.innerHTML=Kn.parse(a),Fn(f).select("table").attr("class","ui celled inverted grey table"))}return t.$$set=f=>{e=Qd(Qd({},e),pU(f)),n(4,i=B8(e,r)),"options"in f&&n(0,s=f.options),"mdtext"in f&&n(1,a=f.mdtext)},[s,a,l,c,i]}class OT extends rc{constructor(e){super(),nc(this,e,qhe,Uhe,eo,{options:0,mdtext:1})}}function DT(t,e,n){const r=t.slice();return r[81]=e[n],r[82]=e,r[83]=n,r}function BT(t,e,n){const r=t.slice();return r[84]=e[n],r}function zT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[88]=e[n][1],r}function FT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[91]=e[n][1],r}function UT(t,e,n){const r=t.slice();return r[94]=e[n],r}function Hhe(t){return{c:Rn,m:Rn,p:Rn,d:Rn}}function Whe(t){let e;function n(s,a){return s[25]==null?$he:Ghe}let r=n(t),i=r(t);return{c(){i.c(),e=P_()},m(s,a){i.m(s,a),vt(s,e,a)},p(s,a){r===(r=n(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&ht(e)}}}function Ghe(t){let e,n=t[25].user.email+"",r;return{c(){e=Y("div"),r=Ce(n),H(e,"class","ui green top left attached label")},m(i,s){vt(i,e,s),P(e,r)},p(i,s){s[0]&33554432&&n!==(n=i[25].user.email+"")&&bt(r,n)},d(i){i&&ht(e)}}}function $he(t){return{c:Rn,m:Rn,p:Rn,d:Rn}}function Vhe(t){let e;return{c(){e=Y("label"),e.innerHTML='Signing.. <i class="icon spinner"></i>',H(e,"class","ui orange label top left attached")},m(n,r){vt(n,e,r)},p:Rn,d(n){n&&ht(e)}}}function qT(t){let e,n,r,i,s,a;return{c(){e=Y("div"),n=Y("label"),n.textContent="MidBand to 6GHz Factor :",r=ve(),i=Y("input"),H(i,"type","number"),H(i,"min",".5"),H(i,"max","2"),H(i,"step","0.1"),H(e,"class","field")},m(l,c){vt(l,e,c),P(e,n),P(e,r),P(e,i),dt(i,t[5]),s||(a=je(i,"input",t[44]),s=!0)},p(l,c){c[0]&32&&Yt(i.value)!==l[5]&&dt(i,l[5])},d(l){l&&ht(e),s=!1,a()}}}function HT(t){let e,n=t[94].Name+"",r,i,s=t[94].Height+"",a,l,c=t[94].BSDensity+"",f,p;return{c(){e=Y("option"),r=Ce(n),i=Ce(" - ( "),a=Ce(s),l=Ce("m, BS:"),f=Ce(c),p=Ce(`/sqkm)
          `),e.__value=t[94],e.value=e.__value},m(m,g){vt(m,e,g),P(e,r),P(e,i),P(e,a),P(e,l),P(e,f),P(e,p)},p:Rn,d(m){m&&ht(e)}}}function WT(t){let e,n=t[87]+"",r,i,s=t[23].Ra[t[91].val]+"",a,l;return{c(){e=Y("option"),r=Ce(n),i=Ce(":"),a=Ce(s),l=Ce(`%
          `),e.__value=t[91],e.value=e.__value},m(c,f){vt(c,e,f),P(e,r),P(e,i),P(e,a),P(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Ra[c[91].val]+"")&&bt(a,s)},d(c){c&&ht(e)}}}function GT(t){let e,n=t[87]+"",r,i,s=t[23].Rb[t[88].val]+"",a,l;return{c(){e=Y("option"),r=Ce(n),i=Ce(":"),a=Ce(s),l=Ce(`%
          `),e.__value=t[88],e.value=e.__value},m(c,f){vt(c,e,f),P(e,r),P(e,i),P(e,a),P(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Rb[c[88].val]+"")&&bt(a,s)},d(c){c&&ht(e)}}}function $T(t){let e,n=t[84]+"",r,i,s;return{c(){e=Y("option"),r=Ce(n),i=ve(),e.__value=s=t[84],e.value=e.__value},m(a,l){vt(a,e,l),P(e,r),P(e,i)},p(a,l){l[0]&16777216&&n!==(n=a[84]+"")&&bt(r,n),l[0]&16777216&&s!==(s=a[84])&&(e.__value=s,e.value=e.__value)},d(a){a&&ht(e)}}}function VT(t){let e,n=jn("04.1f")(t[81])+"",r,i,s,a,l,c,f;function p(){t[55].call(s,t[83])}return{c(){e=Y("label"),r=Ce(n),i=ve(),s=Y("input"),a=ve(),l=Y("br"),H(s,"step","0.5"),H(s,"type","range"),H(s,"max","32"),$i(s,"width","120px")},m(m,g){vt(m,e,g),P(e,r),vt(m,i,g),vt(m,s,g),dt(s,t[2][t[83]]),vt(m,a,g),vt(m,l,g),c||(f=[je(s,"change",p),je(s,"input",p)],c=!0)},p(m,g){t=m,g[0]&4&&n!==(n=jn("04.1f")(t[81])+"")&&bt(r,n),g[0]&4&&dt(s,t[2][t[83]])},d(m){m&&ht(e),m&&ht(i),m&&ht(s),m&&ht(a),m&&ht(l),c=!1,sl(f)}}}function Zhe(t){let e,n,r,i,s,a=t[18]?"Un Pin":"Pin Me",l,c,f,p,m,g,y,w,S=t[25]==null?"Login":"Log Out",I,R,k,A,C,N,D,F,W,$,X,V,te,me,ue,ie,ge,se,fe,oe,Z,Q,he,Ne,Ue,De,Pe,ke,Ee,pe,Ae,Le,be,Ke,qe,ct,at,tt,kt,nt,bn,Ft,mn,Gn,Bn,$n,ot,jt,Vn,er,di,rr,tr,Or,Xn,mt,an,Ir,ca,Rr,fa,pi,An,es,Ut,Ri,Ua,Sr,ps,Os,ha,ri,mi,ms,pr,st,Tr,gs,Pr,Dr,kr,Ds,Pn,_s,gi,ts,ns,vs,Zn,da,mr,ii,Vr,ys,Pi,Ni,Br,Ht,wi,bs,_i,Kt,Qt,gn,Li,zr,ur={ctx:t,current:null,token:null,hasCatch:!1,pending:Vhe,then:Whe,catch:Hhe,value:97};F8(p=t[22],ur);let pt=t[13]==!0&&qT(t),on=t[28],ir=[];for(let Ge=0;Ge<on.length;Ge+=1)ir[Ge]=HT(UT(t,on,Ge));let Oi=[...t[29]],Sn=[];for(let Ge=0;Ge<Oi.length;Ge+=1)Sn[Ge]=WT(FT(t,Oi,Ge));let ws=[...t[30]],nr=[];for(let Ge=0;Ge<ws.length;Ge+=1)nr[Ge]=GT(zT(t,ws,Ge));let Er=t[24],Vt=[];for(let Ge=0;Ge<Er.length;Ge+=1)Vt[Ge]=$T(BT(t,Er,Ge));let Mr=t[2],Yn=[];for(let Ge=0;Ge<Mr.length;Ge+=1)Yn[Ge]=VT(DT(t,Mr,Ge));const si=t[35].default,Fr=Sy(si,t,t[34],null);return _i=new OT({props:{mdtext:`# Information
The deployment density values for large area ( $D_l$ )
$$D_l = Ds * Ra * Rb$$
**where**: 
- Ds = 	density value for coverage area, i.e. density of simultaneously transmitting UEs or number of BS per km2;
- Ra (%) = 	ratio of coverage areas to areas of cities/built areas/districts;
- Rb (%) = 	ratio of built areas to total area of region in study ()
`}}),Qt=new OT({props:{mdtext:`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[9].Urban.Ra*100}%,${t[9].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[9].Urban.Rb*100}%,${t[9].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`}}),{c(){e=Y("div"),n=Y("a"),r=Y("i"),s=ve(),l=Ce(a),f=ve(),ur.block.c(),m=ve(),g=Y("div"),y=Y("div"),w=Y("button"),I=Ce(S),R=ve(),k=Y("form"),A=Y("input"),N=ve(),D=Y("input"),W=ve(),$=Y("div"),X=Y("label"),X.textContent="Noise Temp.(K)",V=ve(),te=Y("input"),me=ve(),ue=Y("label"),ue.textContent="FSS Rx Gain (dBi)",ie=ve(),ge=Y("input"),se=ve(),fe=Y("div"),oe=Y("input"),Q=ve(),he=Y("label"),he.textContent="Shaped Footprint",Ue=ve(),De=Y("div"),Pe=Y("label"),ke=Ce("Satellite Angle : "),Ee=Ce(t[4]),pe=ve(),Ae=Y("input"),Ke=ve(),qe=Y("input"),tt=ve(),pt&&pt.c(),kt=ve(),nt=Y("div"),bn=Y("label"),bn.textContent="Environment",Ft=ve(),mn=Y("select");for(let Ge=0;Ge<ir.length;Ge+=1)ir[Ge].c();Gn=ve(),Bn=Y("div"),$n=Y("label"),$n.textContent="Ra Options",ot=ve(),jt=Y("select");for(let Ge=0;Ge<Sn.length;Ge+=1)Sn[Ge].c();Vn=ve(),er=Y("label"),er.textContent="Rb Options",di=ve(),rr=Y("select");for(let Ge=0;Ge<nr.length;Ge+=1)nr[Ge].c();tr=ve(),Or=Y("div"),Xn=Y("button"),Xn.textContent="Show Info",mt=ve(),an=Y("div"),Ir=Y("label"),Ir.textContent="Profiles",ca=ve(),Rr=Y("select");for(let Ge=0;Ge<Vt.length;Ge+=1)Vt[Ge].c();fa=ve(),pi=Y("div"),An=Y("div"),es=Y("input"),Ut=ve(),Ri=Y("label"),Ri.textContent="Show Variables",Ua=ve(),Sr=Y("div"),ps=Y("input"),Os=ve(),ha=Y("label"),ha.textContent="Grid Edge",ri=ve(),mi=Y("div"),ms=Y("hr"),pr=ve(),st=Y("div"),Tr=Y("input"),gs=ve(),Pr=Y("div"),Dr=Y("div"),kr=Y("input"),Ds=ve(),Pn=Y("label"),Pn.textContent="Apply EIRP MASK",_s=ve(),gi=Y("div"),ts=Y("input"),ns=ve(),vs=Y("label"),vs.textContent="Low Elv",Zn=ve(),da=Y("hr"),mr=ve(),ii=Y("div"),Vr=Y("div");for(let Ge=0;Ge<Yn.length;Ge+=1)Yn[Ge].c();Pi=ve(),Fr&&Fr.c(),Br=ve(),Ht=Y("dialog"),wi=Y("button"),wi.textContent="X",bs=ve(),Bl(_i.$$.fragment),Kt=ve(),Bl(Qt.$$.fragment),H(r,"class",i="icon "+(t[18],"thumbtack")),H(n,"class",c="ui "+(t[18]?"grey":"green")+" right ribbon label"),H(w,"class","ui fluid primary button"),H(A,"type","text"),A.disabled=C=t[25]!=null,H(A,"autocomplete","username"),$i(A,"display",t[25]!=null?"none":"block"),H(D,"type","password"),D.disabled=F=t[25]!=null,H(D,"autocomplete","current-password"),$i(D,"display",t[25]!=null?"none":"block"),H(y,"class","field"),H(te,"type","number"),H(te,"step","50"),H(ge,"type","number"),H(ge,"min","10"),H(ge,"max","40"),H(oe,"type","checkbox"),oe.disabled=Z=t[14]?"":"disabled",H(fe,"class",Ne="ui toggle checkbox "+(t[14]?"":"disabled")),H($,"class","field"),H(Ae,"type","number"),H(Ae,"min",Le=t[12][0]),H(Ae,"max",be=t[12][1]),H(Ae,"step","0.5"),H(qe,"type","range"),H(qe,"min",ct=t[12][0]),H(qe,"max",at=t[12][1]),H(qe,"step","0.5"),H(De,"class","field"),t[23]===void 0&&wo(()=>t[45].call(mn)),H(nt,"class","field"),H($n,"for",""),H(jt,"name",""),H(jt,"id",""),t[0]===void 0&&wo(()=>t[46].call(jt)),H(er,"for",""),H(rr,"name",""),H(rr,"id",""),t[1]===void 0&&wo(()=>t[47].call(rr)),H(Xn,"class","ui tiny button"),H(Or,"class","ui toggle checkbox"),H(Bn,"class","field"),H(Ir,"for",""),H(Rr,"name","profile"),H(Rr,"id",""),t[26]===void 0&&wo(()=>t[49].call(Rr)),H(an,"class","field"),H(es,"type","checkbox"),H(An,"class","ui toggle checkbox"),H(ps,"type","checkbox"),H(Sr,"class","ui toggle checkbox"),H(pi,"class","field"),H(Tr,"type","text"),H(Tr,"placeholder","0,0,0,0,0,0,0,0"),H(Tr,"size","30"),H(st,"class","ui input disabled"),H(mi,"class","field"),H(kr,"type","checkbox"),H(Dr,"class","ui toggle checkbox "),H(ts,"type","checkbox"),H(gi,"class","ui toggle checkbox"),$i(Vr,"transform","rotate(-90deg)"),$i(Vr,"height","120px"),$i(Vr,"width","108px"),H(ii,"class",ys="field "+(t[6]?"":"disabled")),H(Pr,"class","ui segment "),$i(Pr,"width","350px"),$i(Pr,"display","none"),H(g,"class","ui fields divided six column grid"),H(e,"class",Ni="ui form "+(t[18]?"toolbox":"segment")),H(wi,"class","ui label red top right attached"),H(Ht,"class","ui svelte-1ao14oj"),H(Ht,"style","border:red;}")},m(Ge,ut){vt(Ge,e,ut),P(e,n),P(n,r),P(n,s),P(n,l),P(e,f),ur.block.m(e,ur.anchor=null),ur.mount=()=>e,ur.anchor=m,P(e,m),P(e,g),P(g,y),P(y,w),P(w,I),P(y,R),P(y,k),P(k,A),dt(A,t[19]),P(k,N),P(k,D),dt(D,t[20]),P(g,W),P(g,$),P($,X),P($,V),P($,te),dt(te,t[3]),P($,me),P($,ue),P($,ie),P($,ge),dt(ge,t[11]),P($,se),P($,fe),P(fe,oe),oe.checked=t[10],P(fe,Q),P(fe,he),P(g,Ue),P(g,De),P(De,Pe),P(Pe,ke),P(Pe,Ee),P(De,pe),P(De,Ae),dt(Ae,t[4]),P(De,Ke),P(De,qe),dt(qe,t[4]),P(g,tt),pt&&pt.m(g,null),P(g,kt),P(g,nt),P(nt,bn),P(nt,Ft),P(nt,mn);for(let cn=0;cn<ir.length;cn+=1)ir[cn]&&ir[cn].m(mn,null);Dl(mn,t[23],!0),P(g,Gn),P(g,Bn),P(Bn,$n),P(Bn,ot),P(Bn,jt);for(let cn=0;cn<Sn.length;cn+=1)Sn[cn]&&Sn[cn].m(jt,null);Dl(jt,t[0],!0),P(Bn,Vn),P(Bn,er),P(Bn,di),P(Bn,rr);for(let cn=0;cn<nr.length;cn+=1)nr[cn]&&nr[cn].m(rr,null);Dl(rr,t[1],!0),P(Bn,tr),P(Bn,Or),P(Or,Xn),P(g,mt),P(g,an),P(an,Ir),P(an,ca),P(an,Rr);for(let cn=0;cn<Vt.length;cn+=1)Vt[cn]&&Vt[cn].m(Rr,null);Dl(Rr,t[26],!0),P(g,fa),P(g,pi),P(pi,An),P(An,es),es.checked=t[15],P(An,Ut),P(An,Ri),P(pi,Ua),P(pi,Sr),P(Sr,ps),ps.checked=t[8],P(Sr,Os),P(Sr,ha),P(g,ri),P(g,mi),P(mi,ms),P(mi,pr),P(mi,st),P(st,Tr),dt(Tr,t[21]),P(g,gs),P(g,Pr),P(Pr,Dr),P(Dr,kr),kr.checked=t[6],P(Dr,Ds),P(Dr,Pn),P(Pr,_s),P(Pr,gi),P(gi,ts),ts.checked=t[7],P(gi,ns),P(gi,vs),P(Pr,Zn),P(Pr,da),P(Pr,mr),P(Pr,ii),P(ii,Vr);for(let cn=0;cn<Yn.length;cn+=1)Yn[cn]&&Yn[cn].m(Vr,null);P(e,Pi),Fr&&Fr.m(e,null),vt(Ge,Br,ut),vt(Ge,Ht,ut),P(Ht,wi),P(Ht,bs),$o(_i,Ht,null),P(Ht,Kt),$o(Qt,Ht,null),t[57](Ht),gn=!0,Li||(zr=[je(n,"click",t[36]),je(w,"click",t[27]),je(A,"input",t[37]),je(D,"input",t[38]),je(te,"input",t[39]),je(ge,"input",t[40]),je(oe,"change",t[41]),je(Ae,"input",t[42]),je(qe,"change",t[43]),je(qe,"input",t[43]),je(mn,"change",t[45]),je(jt,"change",t[46]),je(rr,"change",t[47]),je(Xn,"click",t[48]),je(Rr,"change",t[49]),je(es,"change",t[50]),je(ps,"change",t[51]),je(Tr,"input",t[52]),je(kr,"change",t[53]),je(ts,"change",t[54]),je(wi,"click",t[56])],Li=!0)},p(Ge,ut){if(t=Ge,(!gn||ut[0]&262144&&i!==(i="icon "+(t[18],"thumbtack")))&&H(r,"class",i),(!gn||ut[0]&262144)&&a!==(a=t[18]?"Un Pin":"Pin Me")&&bt(l,a),(!gn||ut[0]&262144&&c!==(c="ui "+(t[18]?"grey":"green")+" right ribbon label"))&&H(n,"class",c),ur.ctx=t,ut[0]&4194304&&p!==(p=t[22])&&F8(p,ur)||CU(ur,t,ut),(!gn||ut[0]&33554432)&&S!==(S=t[25]==null?"Login":"Log Out")&&bt(I,S),(!gn||ut[0]&33554432&&C!==(C=t[25]!=null))&&(A.disabled=C),(!gn||ut[0]&33554432)&&$i(A,"display",t[25]!=null?"none":"block"),ut[0]&524288&&A.value!==t[19]&&dt(A,t[19]),(!gn||ut[0]&33554432&&F!==(F=t[25]!=null))&&(D.disabled=F),(!gn||ut[0]&33554432)&&$i(D,"display",t[25]!=null?"none":"block"),ut[0]&1048576&&D.value!==t[20]&&dt(D,t[20]),ut[0]&8&&Yt(te.value)!==t[3]&&dt(te,t[3]),ut[0]&2048&&Yt(ge.value)!==t[11]&&dt(ge,t[11]),(!gn||ut[0]&16384&&Z!==(Z=t[14]?"":"disabled"))&&(oe.disabled=Z),ut[0]&1024&&(oe.checked=t[10]),(!gn||ut[0]&16384&&Ne!==(Ne="ui toggle checkbox "+(t[14]?"":"disabled")))&&H(fe,"class",Ne),(!gn||ut[0]&16)&&bt(Ee,t[4]),(!gn||ut[0]&4096&&Le!==(Le=t[12][0]))&&H(Ae,"min",Le),(!gn||ut[0]&4096&&be!==(be=t[12][1]))&&H(Ae,"max",be),ut[0]&16&&Yt(Ae.value)!==t[4]&&dt(Ae,t[4]),(!gn||ut[0]&4096&&ct!==(ct=t[12][0]))&&H(qe,"min",ct),(!gn||ut[0]&4096&&at!==(at=t[12][1]))&&H(qe,"max",at),ut[0]&16&&dt(qe,t[4]),t[13]==!0?pt?pt.p(t,ut):(pt=qT(t),pt.c(),pt.m(g,kt)):pt&&(pt.d(1),pt=null),ut[0]&268435456){on=t[28];let Xe;for(Xe=0;Xe<on.length;Xe+=1){const cr=UT(t,on,Xe);ir[Xe]?ir[Xe].p(cr,ut):(ir[Xe]=HT(cr),ir[Xe].c(),ir[Xe].m(mn,null))}for(;Xe<ir.length;Xe+=1)ir[Xe].d(1);ir.length=on.length}if(ut[0]&276824064&&Dl(mn,t[23]),ut[0]&545259520){Oi=[...t[29]];let Xe;for(Xe=0;Xe<Oi.length;Xe+=1){const cr=FT(t,Oi,Xe);Sn[Xe]?Sn[Xe].p(cr,ut):(Sn[Xe]=WT(cr),Sn[Xe].c(),Sn[Xe].m(jt,null))}for(;Xe<Sn.length;Xe+=1)Sn[Xe].d(1);Sn.length=Oi.length}if(ut[0]&536870913&&Dl(jt,t[0]),ut[0]&1082130432){ws=[...t[30]];let Xe;for(Xe=0;Xe<ws.length;Xe+=1){const cr=zT(t,ws,Xe);nr[Xe]?nr[Xe].p(cr,ut):(nr[Xe]=GT(cr),nr[Xe].c(),nr[Xe].m(rr,null))}for(;Xe<nr.length;Xe+=1)nr[Xe].d(1);nr.length=ws.length}if(ut[0]&1073741826&&Dl(rr,t[1]),ut[0]&16777216){Er=t[24];let Xe;for(Xe=0;Xe<Er.length;Xe+=1){const cr=BT(t,Er,Xe);Vt[Xe]?Vt[Xe].p(cr,ut):(Vt[Xe]=$T(cr),Vt[Xe].c(),Vt[Xe].m(Rr,null))}for(;Xe<Vt.length;Xe+=1)Vt[Xe].d(1);Vt.length=Er.length}if(ut[0]&83886080&&Dl(Rr,t[26]),ut[0]&32768&&(es.checked=t[15]),ut[0]&256&&(ps.checked=t[8]),ut[0]&2097152&&Tr.value!==t[21]&&dt(Tr,t[21]),ut[0]&64&&(kr.checked=t[6]),ut[0]&128&&(ts.checked=t[7]),ut[0]&4){Mr=t[2];let Xe;for(Xe=0;Xe<Mr.length;Xe+=1){const cr=DT(t,Mr,Xe);Yn[Xe]?Yn[Xe].p(cr,ut):(Yn[Xe]=VT(cr),Yn[Xe].c(),Yn[Xe].m(Vr,null))}for(;Xe<Yn.length;Xe+=1)Yn[Xe].d(1);Yn.length=Mr.length}(!gn||ut[0]&64&&ys!==(ys="field "+(t[6]?"":"disabled")))&&H(ii,"class",ys),Fr&&Fr.p&&(!gn||ut[1]&8)&&ky(Fr,si,t,t[34],gn?Ty(si,t[34],ut,null):Ey(t[34]),null),(!gn||ut[0]&262144&&Ni!==(Ni="ui form "+(t[18]?"toolbox":"segment")))&&H(e,"class",Ni);const cn={};ut[0]&512&&(cn.mdtext=`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[9].Urban.Ra*100}%,${t[9].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[9].Urban.Rb*100}%,${t[9].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`),Qt.$set(cn)},i(Ge){gn||(Js(Fr,Ge),Js(_i.$$.fragment,Ge),Js(Qt.$$.fragment,Ge),gn=!0)},o(Ge){Ra(Fr,Ge),Ra(_i.$$.fragment,Ge),Ra(Qt.$$.fragment,Ge),gn=!1},d(Ge){Ge&&ht(e),ur.block.d(),ur.token=null,ur=null,pt&&pt.d(),Cc(ir,Ge),Cc(Sn,Ge),Cc(nr,Ge),Cc(Vt,Ge),Cc(Yn,Ge),Fr&&Fr.d(Ge),Ge&&ht(Br),Ge&&ht(Ht),Vo(_i),Vo(Qt),t[57](null),Li=!1,sl(zr)}}}let Bm=.2,zm=.75;function Yhe(t,e,n){let r,i,s,a;Fc(t,hN,ot=>n(33,i=ot)),Fc(t,gf,ot=>n(25,s=ot)),Fc(t,Bp,ot=>n(26,a=ot));let{$$slots:l={},$$scope:c}=e;new L6;let{orbitrange:f=[10,20]}=e,{Raindx:p,Rbindx:m}=e,{satAngle:g=83}=e,{MidBandTo6GHzFactor:y=1.5*.4}=e,{hasIMTgrid:w=!1}=e,S=!1,I,R,{ApplyEIRPMask:k=!1}=e,{EnableLowElevationThreshold:A=!0}=e,{MASKOffset:C}=e,N=C.join(","),D=!0,{HideAllInspector:F=!1}=e,{EdgeMode:W=!1}=e,$=!1,X,V;async function te(){return s==null?(n(22,V=ale(I,R)),V):(sle().then(jt=>console.log("After signout ",jt,s)),"Signed Out")}let me=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:2.4}],{factor:ue={Urban:{Ra:0,Rb:0,BSdensity:0},SubUrban:{Ra:0,Rb:0,BSdensity:0},NW:Bm,TDD:zm}}=e,ie=10/12.4,ge=me[0],se=new Map([["Ra1",{name:"Ratio of Coverage to cities/built/Areas",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage to cities/built/Areas",val:1,factor:.45}]]),fe=new Map([["Rb1",{name:"Ratio of built areas to total area",val:0,factor:.01}],["Rb2a",{name:"Ratio of built areas to total area",val:1,factor:.03}],["Rb2b",{name:"Ratio of built areas to total area",val:2,factor:.05}],["Rb3",{name:"Ratio of built areas to total area",val:3,factor:.02}]]),{UseFootprint:oe=!1}=e,{SatRxGain:Z=32}=e,{hasFSSPattern:Q=!1}=e,{FSSNoiseTemp:he=650}=e,Ne=null;const Ue=()=>n(18,S=!S);function De(){I=this.value,n(19,I)}function Pe(){R=this.value,n(20,R)}function ke(){he=Yt(this.value),n(3,he)}function Ee(){Z=Yt(this.value),n(11,Z)}function pe(){oe=this.checked,n(10,oe),n(14,Q)}function Ae(){g=Yt(this.value),n(4,g)}function Le(){g=Yt(this.value),n(4,g)}function be(){y=Yt(this.value),n(5,y)}function Ke(){ge=Ed(this),n(23,ge),n(28,me)}function qe(){p=Ed(this),n(0,p),n(29,se)}function ct(){m=Ed(this),n(1,m),n(30,fe)}const at=()=>n(16,$=!0);function tt(){a=Ed(this),Bp.set(a),n(24,r),n(33,i)}function kt(){D=this.checked,n(15,D)}function nt(){W=this.checked,n(8,W)}function bn(){N=this.value,n(21,N),n(2,C)}function Ft(){k=this.checked,n(6,k)}function mn(){A=this.checked,n(7,A)}function Gn(ot){C[ot]=Yt(this.value),n(2,C)}const Bn=()=>{n(16,$=!1)};function $n(ot){Lt[ot?"unshift":"push"](()=>{Ne=ot,n(17,Ne)})}return t.$$set=ot=>{"orbitrange"in ot&&n(12,f=ot.orbitrange),"Raindx"in ot&&n(0,p=ot.Raindx),"Rbindx"in ot&&n(1,m=ot.Rbindx),"satAngle"in ot&&n(4,g=ot.satAngle),"MidBandTo6GHzFactor"in ot&&n(5,y=ot.MidBandTo6GHzFactor),"hasIMTgrid"in ot&&n(13,w=ot.hasIMTgrid),"ApplyEIRPMask"in ot&&n(6,k=ot.ApplyEIRPMask),"EnableLowElevationThreshold"in ot&&n(7,A=ot.EnableLowElevationThreshold),"MASKOffset"in ot&&n(2,C=ot.MASKOffset),"HideAllInspector"in ot&&n(31,F=ot.HideAllInspector),"EdgeMode"in ot&&n(8,W=ot.EdgeMode),"factor"in ot&&n(9,ue=ot.factor),"UseFootprint"in ot&&n(10,oe=ot.UseFootprint),"SatRxGain"in ot&&n(11,Z=ot.SatRxGain),"hasFSSPattern"in ot&&n(14,Q=ot.hasFSSPattern),"FSSNoiseTemp"in ot&&n(3,he=ot.FSSNoiseTemp),"$$scope"in ot&&n(34,c=ot.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&32768&&n(31,F=!D),t.$$.dirty[0]&4&&n(21,N=C.join(",")),t.$$.dirty[1]&3,t.$$.dirty[1]&2,t.$$.dirty[0]&3&&p!=null&&n(9,ue={Urban:{Ra:me[0].Ra[p.val]/100,Rb:me[0].Rb[m.val]/100,BSdensity:me[0].BSDensity},SubUrban:{Ra:me[1].Ra[p.val]/100,Rb:me[1].Rb[m.val]/100,BSdensity:me[1].BSDensity},NW:Bm,TDD:zm,uScale:me[0].BSDensity*me[0].Ra[p.val]*me[0].Rb[m.val]/1e4*Bm*zm,suScale:me[1].BSDensity*me[1].Ra[p.val]*me[1].Rb[m.val]/1e4*Bm*zm,UrbSurbRatio:ie}),t.$$.dirty[1]&4&&n(24,r=i),t.$$.dirty[0]&16384&&(console.log("hasFSSPattern .. changed",Q),Q?n(10,oe=!0):n(10,oe=!1)),t.$$.dirty[0]&8,t.$$.dirty[0]&196608&&Ne!=null&&($?Ne.showModal():Ne.close())},[p,m,C,he,g,y,k,A,W,ue,oe,Z,f,w,Q,D,$,Ne,S,I,R,N,V,ge,r,s,a,te,me,se,fe,F,X,i,c,l,Ue,De,Pe,ke,Ee,pe,Ae,Le,be,Ke,qe,ct,at,tt,kt,nt,bn,Ft,mn,Gn,Bn,$n]}class jhe extends rc{constructor(e){super(),nc(this,e,Yhe,Zhe,eo,{orbitrange:12,Raindx:0,Rbindx:1,satAngle:4,MidBandTo6GHzFactor:5,hasIMTgrid:13,ApplyEIRPMask:6,EnableLowElevationThreshold:7,MASKOffset:2,HideAllInspector:31,EdgeMode:8,factor:9,UseFootprint:10,SatRxGain:11,hasFSSPattern:14,FSSNoiseTemp:3},null,[-1,-1,-1,-1])}}function Khe(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,R,k,A,C,N,D,F;return{c(){e=Y("div"),n=Y("div"),n.innerHTML='<i class="table icon"></i> Variables',r=ve(),i=Y("div"),a=ve(),l=Y("div"),c=Y("div"),f=Y("input"),p=ve(),m=Y("label"),m.textContent="Hide Inspector",g=ve(),y=Y("div"),y.innerHTML=`<div class="ui label left ribbon">Status</div> 
    <div class="ui inverted horizontal divider"></div>`,w=ve(),S=Y("br"),I=ve(),R=Y("br"),k=ve(),A=Y("div"),H(n,"class","ui blue ribbon label"),H(i,"class","ui two column stackable grid"),H(i,"id","logbox"),H(e,"class","ui segment"),wo(()=>t[10].call(e)),H(f,"type","checkbox"),H(c,"class","ui slider checkbox"),H(y,"class","ui stacked segment"),H(A,"class",C="ui two column stackable "+(t[0]?"hidden":"")+" grid"),H(A,"id","figure"),H(l,"class","ui segment"),wo(()=>t[14].call(l))},m(W,$){vt(W,e,$),P(e,n),P(e,r),P(e,i),t[9](i),s=ag(e,t[10].bind(e)),vt(W,a,$),vt(W,l,$),P(l,c),P(c,f),f.checked=t[0],P(c,p),P(c,m),P(l,g),P(l,y),t[12](y),P(l,w),P(l,S),P(l,I),P(l,R),P(l,k),P(l,A),t[13](A),N=ag(l,t[14].bind(l)),D||(F=je(f,"change",t[11]),D=!0)},p(W,[$]){$&1&&(f.checked=W[0]),$&1&&C!==(C="ui two column stackable "+(W[0]?"hidden":"")+" grid")&&H(A,"class",C)},i:Rn,o:Rn,d(W){W&&ht(e),t[9](null),s(),W&&ht(a),W&&ht(l),t[12](null),t[13](null),N(),D=!1,F()}}}function ZT(t){return t&&Object.prototype.toString.call(t)==="[object Promise]"}function Xhe(t,e,n){let{DOM:r}=new L6,i=800,s=null,a=null,{statusbox:l=null}=e,c=new Map,{HideAllInspector:f=!1}=e;function p(C){let N=c.get(C);console.log("Found ",N),N.rootcell.remove()}async function m(C,N,D){return D=D||!1,y(C,N,{alwaysshow:D})}async function g(C,N,D){if(D=D||{timeout:1e3,alwaysshow:!0},D.alwaysshow,l==null){console.log("showStatus : ",C,N);return}if(console.log("showStatus: RECEIVED OBJ Status ",C,N),ZT(N)){let F=Fn(l).select("button#STATUS-"+C);F.empty()&&(F=Fn(l).append("button").attr("id","STATUS-"+C).text(C+" : Waiting ")),F.attr("class","ui small button  orange");let W=0,$=setInterval(()=>{W++,F.text(C+" : ..."+(W/10).toFixed(1)+"s")},100);N.then(X=>{clearInterval($),F.attr("class","ui small button green"),F.text(C+" "+(W/10).toFixed(1)+"s")})}else console.log("NOT a Promise ",C," is already ready ",N)}async function y(C,N,D){D=D||{alwaysshow:!1,fullwidth:!1};var F=D.alwaysshow||!1,W=D.fullwidth||!1,$=D.type||"",X=a;F&&(X=s);let V=c.get(C);if(V==null){let ue=document.createElement("div"),ie=Fn(ue).attr("class",`${W?"sixteen wide":""} column cell`);ie.append("div").attr("class",`ui ${F?"tag teal":"pointing"} below label`).text(C).on("click",oe=>{oe.target.parentNode.classList.toggle("sixteen")?(oe.target.parentNode.classList.value="sixteen wide column",oe.target.innerText=C+" <- minimize"):(oe.target.parentNode.classList.value="two  column cell",oe.target.innerText=C+" -> zoom"),oe.target.parentNode.clientWidth});let se=ie.append("div").attr("class","plain segment").append("div").node();V={inspector:new Xb(se),alwaysshow:F,uid:r.uid(C),rootcell:ue,forcedType:$,render:X!=null},c.set(C,V),X!=null&&X.append(ue)}let te=V.inspector;if(ZT(N))te.fulfilled("Waiting for obj.. ",C),N.then(ue=>{var ie=C;let ge=!Array.isArray(N)||$=="JSON",se=r.download(()=>{let fe,oe;ge?(fe=JSON.stringify(N),oe="application/json",ie=C+".json"):(fe=aS(N),oe="application/csv",ie=C+".csv");var Z=new Blob([fe],{type:oe});let Q=document.createElement("a");Q.download=ie,Q.href=URL.createObjectURL(Z),Q.click(),URL.revokeObjectURL(Q.href)},ie,`save(${ge?"json":"csv"})`);H8("#"+V.uid.id).remove(),se.setAttribute("id",V.uid.id),se.firstChild.className="ui tiny positive button",V.rootcell.firstChild.insertAdjacentElement("afterend",se),te.fulfilled(ue)}).catch(ue=>{console.log(C,"Error ",ue),te.fulfilled("Err : "+ue)});else if(F)if(N==null){let ue=document.createElement("div"),ie=Fn(ue).attr("class","ui  active placeholder inverted orange segment ");ie.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),ie.append("img"),te.fulfilled(ue)}else te.fulfilled(N);else{var me=C;let ue=V.forcedType==""?!Array.isArray(N):V.forcedType=="json",ie=r.download(()=>{let ge,se;ue?(ge=JSON.stringify(N),se="application/json",me=C+".json"):(ge=aS(N),se="application/csv",me=C+".csv");var fe=new Blob([ge],{type:se});let oe=document.createElement("a");oe.download=me,oe.href=URL.createObjectURL(fe),oe.click(),URL.revokeObjectURL(oe.href)},me,`save(${ue?"json":"csv"})`);H8("#"+V.uid.id).remove(),ie.setAttribute("id",V.uid.id),ie.firstChild.className="ui tiny positive button",V.rootcell.firstChild.insertAdjacentElement("afterend",ie),te.fulfilled(N)}return C}function w(C){Lt[C?"unshift":"push"](()=>{s=C,n(4,s)})}function S(){i=this.clientWidth,n(2,i)}function I(){f=this.checked,n(0,f)}function R(C){Lt[C?"unshift":"push"](()=>{l=C,n(1,l)})}function k(C){Lt[C?"unshift":"push"](()=>{a=C,n(3,a),n(0,f)})}function A(){i=this.clientWidth,n(2,i)}return t.$$set=C=>{"statusbox"in C&&n(1,l=C.statusbox),"HideAllInspector"in C&&n(0,f=C.HideAllInspector)},t.$$.update=()=>{t.$$.dirty&4,t.$$.dirty&9&&a!=null&&n(3,a.style.display=f?"none":"block",a)},[f,l,i,a,s,p,m,g,y,w,S,I,R,k,A]}class Jhe extends rc{constructor(e){super(),nc(this,e,Xhe,Khe,eo,{statusbox:1,HideAllInspector:0,removeNode:5,appendNode:6,showStatus:7,queueNode:8})}get removeNode(){return this.$$.ctx[5]}get appendNode(){return this.$$.ctx[6]}get showStatus(){return this.$$.ctx[7]}get queueNode(){return this.$$.ctx[8]}}var b3={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Rc,function(n){var r="1.9.4";function i(o){var h,_,b,E;for(_=1,b=arguments.length;_<b;_++){E=arguments[_];for(h in E)o[h]=E[h]}return o}var s=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var b=_.call(arguments,2);return function(){return o.apply(h,b.length?b.concat(_.call(arguments)):arguments)}}var l=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function f(o,h,_){var b,E,z,ee;return ee=function(){b=!1,E&&(z.apply(_,E),E=!1)},z=function(){b?E=arguments:(o.apply(_,arguments),setTimeout(ee,h),b=!0)},z}function p(o,h,_){var b=h[1],E=h[0],z=b-E;return o===b&&_?o:((o-E)%z+z)%z+E}function m(){return!1}function g(o,h){if(h===!1)return o;var _=Math.pow(10,h===void 0?6:h);return Math.round(o*_)/_}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function w(o){return y(o).split(/\s+/)}function S(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var _ in h)o.options[_]=h[_];return o.options}function I(o,h,_){var b=[];for(var E in o)b.push(encodeURIComponent(_?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function k(o,h){return o.replace(R,function(_,b){var E=h[b];if(E===void 0)throw new Error("No value provided for variable "+_);return typeof E=="function"&&(E=E(h)),E})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function C(o,h){for(var _=0;_<o.length;_++)if(o[_]===h)return _;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function W(o){var h=+new Date,_=Math.max(0,16-(h-F));return F=h+_,window.setTimeout(o,_)}var $=window.requestAnimationFrame||D("RequestAnimationFrame")||W,X=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,h,_){if(_&&$===W)o.call(h);else return $.call(window,a(o,h))}function te(o){o&&X.call(window,o)}var me={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:m,formatNum:g,trim:y,splitWords:w,setOptions:S,getParamString:I,template:k,isArray:A,indexOf:C,emptyImageUrl:N,requestFn:$,cancelFn:X,requestAnimFrame:V,cancelAnimFrame:te};function ue(){}ue.extend=function(o){var h=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,b=s(_);b.constructor=h,h.prototype=b;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(h[E]=this[E]);return o.statics&&i(h,o.statics),o.includes&&(ie(o.includes),i.apply(null,[b].concat(o.includes))),i(b,o),delete b.statics,delete b.includes,b.options&&(b.options=_.options?s(_.options):{},i(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,ee=b._initHooks.length;z<ee;z++)b._initHooks[z].call(this)}},h},ue.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},ue.mergeOptions=function(o){return i(this.prototype.options,o),this},ue.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ie(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(o,h,_){if(typeof o=="object")for(var b in o)this._on(b,o[b],h);else{o=w(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_)}return this},off:function(o,h,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],h);else{o=w(o);for(var E=arguments.length===1,z=0,ee=o.length;z<ee;z++)E?this._off(o[z]):this._off(o[z],h,_)}return this},_on:function(o,h,_,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,_)===!1){_===this&&(_=void 0);var E={fn:h,ctx:_};b&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,h,_){var b,E,z;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(E=0,z=b.length;E<z;E++)b[E].fn=m;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var ee=this._listens(o,h,_);if(ee!==!1){var _e=b[ee];this._firingCount&&(_e.fn=m,this._events[o]=b=b.slice()),b.splice(ee,1)}}},fire:function(o,h,_){if(!this.listens(o,_))return this;var b=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var z=0,ee=E.length;z<ee;z++){var _e=E[z],we=_e.fn;_e.once&&this.off(o,we,_e.ctx),we.call(_e.ctx||this,b)}this._firingCount--}}return _&&this._propagateEvent(b),this},listens:function(o,h,_,b){typeof o!="string"&&console.warn('"string" type argument expected');var E=h;typeof h!="function"&&(b=!!h,E=void 0,_=void 0);var z=this._events&&this._events[o];if(z&&z.length&&this._listens(o,E,_)!==!1)return!0;if(b){for(var ee in this._eventParents)if(this._eventParents[ee].listens(o,h,_,b))return!0}return!1},_listens:function(o,h,_){if(!this._events)return!1;var b=this._events[o]||[];if(!h)return!!b.length;_===this&&(_=void 0);for(var E=0,z=b.length;E<z;E++)if(b[E].fn===h&&b[E].ctx===_)return E;return!1},once:function(o,h,_){if(typeof o=="object")for(var b in o)this._on(b,o[b],h,!0);else{o=w(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var se=ue.extend(ge);function fe(o,h,_){this.x=_?Math.round(o):o,this.y=_?Math.round(h):h}var oe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};fe.prototype={clone:function(){return new fe(this.x,this.y)},add:function(o){return this.clone()._add(Z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new fe(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new fe(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(o){o=Z(o);var h=o.x-this.x,_=o.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(o){return o=Z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Z(o,h,_){return o instanceof fe?o:A(o)?new fe(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new fe(o.x,o.y):new fe(o,h,_)}function Q(o,h){if(o)for(var _=h?[o,h]:o,b=0,E=_.length;b<E;b++)this.extend(_[b])}Q.prototype={extend:function(o){var h,_;if(!o)return this;if(o instanceof fe||typeof o[0]=="number"||"x"in o)h=_=Z(o);else if(o=he(o),h=o.min,_=o.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,_;return typeof o[0]=="number"||o instanceof fe?o=Z(o):o=he(o),o instanceof Q?(h=o.min,_=o.max):h=_=o,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=he(o);var h=this.min,_=this.max,b=o.min,E=o.max,z=E.x>=h.x&&b.x<=_.x,ee=E.y>=h.y&&b.y<=_.y;return z&&ee},overlaps:function(o){o=he(o);var h=this.min,_=this.max,b=o.min,E=o.max,z=E.x>h.x&&b.x<_.x,ee=E.y>h.y&&b.y<_.y;return z&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,_=this.max,b=Math.abs(h.x-_.x)*o,E=Math.abs(h.y-_.y)*o;return he(Z(h.x-b,h.y-E),Z(_.x+b,_.y+E))},equals:function(o){return o?(o=he(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function he(o,h){return!o||o instanceof Q?o:new Q(o,h)}function Ne(o,h){if(o)for(var _=h?[o,h]:o,b=0,E=_.length;b<E;b++)this.extend(_[b])}Ne.prototype={extend:function(o){var h=this._southWest,_=this._northEast,b,E;if(o instanceof De)b=o,E=o;else if(o instanceof Ne){if(b=o._southWest,E=o._northEast,!b||!E)return this}else return o?this.extend(Pe(o)||Ue(o)):this;return!h&&!_?(this._southWest=new De(b.lat,b.lng),this._northEast=new De(E.lat,E.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),_.lat=Math.max(E.lat,_.lat),_.lng=Math.max(E.lng,_.lng)),this},pad:function(o){var h=this._southWest,_=this._northEast,b=Math.abs(h.lat-_.lat)*o,E=Math.abs(h.lng-_.lng)*o;return new Ne(new De(h.lat-b,h.lng-E),new De(_.lat+b,_.lng+E))},getCenter:function(){return new De((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new De(this.getNorth(),this.getWest())},getSouthEast:function(){return new De(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof De||"lat"in o?o=Pe(o):o=Ue(o);var h=this._southWest,_=this._northEast,b,E;return o instanceof Ne?(b=o.getSouthWest(),E=o.getNorthEast()):b=E=o,b.lat>=h.lat&&E.lat<=_.lat&&b.lng>=h.lng&&E.lng<=_.lng},intersects:function(o){o=Ue(o);var h=this._southWest,_=this._northEast,b=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>=h.lat&&b.lat<=_.lat,ee=E.lng>=h.lng&&b.lng<=_.lng;return z&&ee},overlaps:function(o){o=Ue(o);var h=this._southWest,_=this._northEast,b=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>h.lat&&b.lat<_.lat,ee=E.lng>h.lng&&b.lng<_.lng;return z&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Ue(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ue(o,h){return o instanceof Ne?o:new Ne(o,h)}function De(o,h,_){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,_!==void 0&&(this.alt=+_)}De.prototype={equals:function(o,h){if(!o)return!1;o=Pe(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Ee.distance(this,Pe(o))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,_=h/Math.cos(Math.PI/180*this.lat);return Ue([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new De(this.lat,this.lng,this.alt)}};function Pe(o,h,_){return o instanceof De?o:A(o)&&typeof o[0]!="object"?o.length===3?new De(o[0],o[1],o[2]):o.length===2?new De(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new De(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new De(o,h,_)}var ke={latLngToPoint:function(o,h){var _=this.projection.project(o),b=this.scale(h);return this.transformation._transform(_,b)},pointToLatLng:function(o,h){var _=this.scale(h),b=this.transformation.untransform(o,_);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(o),b=this.transformation.transform(h.min,_),E=this.transformation.transform(h.max,_);return new Q(b,E)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new De(_,h,b)},wrapLatLngBounds:function(o){var h=o.getCenter(),_=this.wrapLatLng(h),b=h.lat-_.lat,E=h.lng-_.lng;if(b===0&&E===0)return o;var z=o.getSouthWest(),ee=o.getNorthEast(),_e=new De(z.lat-b,z.lng-E),we=new De(ee.lat-b,ee.lng-E);return new Ne(_e,we)}},Ee=i({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var _=Math.PI/180,b=o.lat*_,E=h.lat*_,z=Math.sin((h.lat-o.lat)*_/2),ee=Math.sin((h.lng-o.lng)*_/2),_e=z*z+Math.cos(b)*Math.cos(E)*ee*ee,we=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*we}}),pe=6378137,Ae={R:pe,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,_=this.MAX_LATITUDE,b=Math.max(Math.min(_,o.lat),-_),E=Math.sin(b*h);return new fe(this.R*o.lng*h,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var h=180/Math.PI;return new De((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=pe*Math.PI;return new Q([-o,-o],[o,o])}()};function Le(o,h,_,b){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=_,this._d=b}Le.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new fe((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function be(o,h,_,b){return new Le(o,h,_,b)}var Ke=i({},Ee,{code:"EPSG:3857",projection:Ae,transformation:function(){var o=.5/(Math.PI*Ae.R);return be(o,.5,-o,.5)}()}),qe=i({},Ke,{code:"EPSG:900913"});function ct(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function at(o,h){var _="",b,E,z,ee,_e,we;for(b=0,z=o.length;b<z;b++){for(_e=o[b],E=0,ee=_e.length;E<ee;E++)we=_e[E],_+=(E?"L":"M")+we.x+" "+we.y;_+=h?st.svg?"z":"x":""}return _||"M0 0"}var tt=document.documentElement.style,kt="ActiveXObject"in window,nt=kt&&!document.addEventListener,bn="msLaunchUri"in navigator&&!("documentMode"in document),Ft=pr("webkit"),mn=pr("android"),Gn=pr("android 2")||pr("android 3"),Bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$n=mn&&pr("Google")&&Bn<537&&!("AudioNode"in window),ot=!!window.opera,jt=!bn&&pr("chrome"),Vn=pr("gecko")&&!Ft&&!ot&&!kt,er=!jt&&pr("safari"),di=pr("phantom"),rr="OTransition"in tt,tr=navigator.platform.indexOf("Win")===0,Or=kt&&"transition"in tt,Xn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gn,mt="MozPerspective"in tt,an=!window.L_DISABLE_3D&&(Or||Xn||mt)&&!rr&&!di,Ir=typeof orientation<"u"||pr("mobile"),ca=Ir&&Ft,Rr=Ir&&Xn,fa=!window.PointerEvent&&window.MSPointerEvent,pi=!!(window.PointerEvent||fa),An="ontouchstart"in window||!!window.TouchEvent,es=!window.L_NO_TOUCH&&(An||pi),Ut=Ir&&ot,Ri=Ir&&Vn,Ua=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sr=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return o}(),ps=function(){return!!document.createElement("canvas").getContext}(),Os=!!(document.createElementNS&&ct("svg").createSVGRect),ha=!!Os&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ri=!Os&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),mi=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function pr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var st={ie:kt,ielt9:nt,edge:bn,webkit:Ft,android:mn,android23:Gn,androidStock:$n,opera:ot,chrome:jt,gecko:Vn,safari:er,phantom:di,opera12:rr,win:tr,ie3d:Or,webkit3d:Xn,gecko3d:mt,any3d:an,mobile:Ir,mobileWebkit:ca,mobileWebkit3d:Rr,msPointer:fa,pointer:pi,touch:es,touchNative:An,mobileOpera:Ut,mobileGecko:Ri,retina:Ua,passiveEvents:Sr,canvas:ps,svg:Os,vml:ri,inlineSvg:ha,mac:mi,linux:ms},Tr=st.msPointer?"MSPointerDown":"pointerdown",gs=st.msPointer?"MSPointerMove":"pointermove",Pr=st.msPointer?"MSPointerUp":"pointerup",Dr=st.msPointer?"MSPointerCancel":"pointercancel",kr={touchstart:Tr,touchmove:gs,touchend:Pr,touchcancel:Dr},Ds={touchstart:ii,touchmove:mr,touchend:mr,touchcancel:mr},Pn={},_s=!1;function gi(o,h,_){return h==="touchstart"&&da(),Ds[h]?(_=Ds[h].bind(this,_),o.addEventListener(kr[h],_,!1),_):(console.warn("wrong event specified:",h),m)}function ts(o,h,_){if(!kr[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(kr[h],_,!1)}function ns(o){Pn[o.pointerId]=o}function vs(o){Pn[o.pointerId]&&(Pn[o.pointerId]=o)}function Zn(o){delete Pn[o.pointerId]}function da(){_s||(document.addEventListener(Tr,ns,!0),document.addEventListener(gs,vs,!0),document.addEventListener(Pr,Zn,!0),document.addEventListener(Dr,Zn,!0),_s=!0)}function mr(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Pn)h.touches.push(Pn[_]);h.changedTouches=[h],o(h)}}function ii(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Bt(h),mr(o,h)}function Vr(o){var h={},_,b;for(b in o)_=o[b],h[b]=_&&_.bind?_.bind(o):_;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ys=200;function Pi(o,h){o.addEventListener("dblclick",h);var _=0,b;function E(z){if(z.detail!==1){b=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var ee=ou(z);if(!(ee.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!ee.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var _e=Date.now();_e-_<=ys?(b++,b===2&&h(Vr(z))):b=1,_=_e}}}return o.addEventListener("click",E),{dblclick:h,simDblclick:E}}function Ni(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Br=nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ht=nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wi=Ht==="webkitTransition"||Ht==="OTransition"?Ht+"End":"transitionend";function bs(o){return typeof o=="string"?document.getElementById(o):o}function _i(o,h){var _=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);_=b?b[h]:null}return _==="auto"?null:_}function Kt(o,h,_){var b=document.createElement(o);return b.className=h||"",_&&_.appendChild(b),b}function Qt(o){var h=o.parentNode;h&&h.removeChild(o)}function gn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Li(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function zr(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ur(o,h){if(o.classList!==void 0)return o.classList.contains(h);var _=Oi(o);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function pt(o,h){if(o.classList!==void 0)for(var _=w(h),b=0,E=_.length;b<E;b++)o.classList.add(_[b]);else if(!ur(o,h)){var z=Oi(o);ir(o,(z?z+" ":"")+h)}}function on(o,h){o.classList!==void 0?o.classList.remove(h):ir(o,y((" "+Oi(o)+" ").replace(" "+h+" "," ")))}function ir(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Oi(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Sn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&ws(o,h)}function ws(o,h){var _=!1,b="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):o.style.filter+=" progid:"+b+"(opacity="+h+")"}function nr(o){for(var h=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in h)return o[_];return!1}function Er(o,h,_){var b=h||new fe(0,0);o.style[Br]=(st.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(_?" scale("+_+")":"")}function Vt(o,h){o._leaflet_pos=h,st.any3d?Er(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Mr(o){return o._leaflet_pos||new fe(0,0)}var Yn,si,Fr;if("onselectstart"in document)Yn=function(){Et(window,"selectstart",Bt)},si=function(){fn(window,"selectstart",Bt)};else{var Ge=nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(Ge){var o=document.documentElement.style;Fr=o[Ge],o[Ge]="none"}},si=function(){Ge&&(document.documentElement.style[Ge]=Fr,Fr=void 0)}}function ut(){Et(window,"dragstart",Bt)}function cn(){fn(window,"dragstart",Bt)}var Xe,cr;function No(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Lo(),Xe=o,cr=o.style.outlineStyle,o.style.outlineStyle="none",Et(window,"keydown",Lo))}function Lo(){Xe&&(Xe.style.outlineStyle=cr,Xe=void 0,cr=void 0,fn(window,"keydown",Lo))}function Bs(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ul(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Oo={__proto__:null,TRANSFORM:Br,TRANSITION:Ht,TRANSITION_END:wi,get:bs,getStyle:_i,create:Kt,remove:Qt,empty:gn,toFront:Li,toBack:zr,hasClass:ur,addClass:pt,removeClass:on,setClass:ir,getClass:Oi,setOpacity:Sn,testProp:nr,setTransform:Er,setPosition:Vt,getPosition:Mr,get disableTextSelection(){return Yn},get enableTextSelection(){return si},disableImageDrag:ut,enableImageDrag:cn,preventOutline:No,restoreOutline:Lo,getSizedParentNode:Bs,getScale:ul};function Et(o,h,_,b){if(h&&typeof h=="object")for(var E in h)Zr(o,E,h[E],_);else{h=w(h);for(var z=0,ee=h.length;z<ee;z++)Zr(o,h[z],_,b)}return this}var ai="_leaflet_events";function fn(o,h,_,b){if(arguments.length===1)cl(o),delete o[ai];else if(h&&typeof h=="object")for(var E in h)zs(o,E,h[E],_);else if(h=w(h),arguments.length===2)cl(o,function(_e){return C(h,_e)!==-1});else for(var z=0,ee=h.length;z<ee;z++)zs(o,h[z],_,b);return this}function cl(o,h){for(var _ in o[ai]){var b=_.split(/\d/)[0];(!h||h(b))&&zs(o,b,null,null,_)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zr(o,h,_,b){var E=h+c(_)+(b?"_"+c(b):"");if(o[ai]&&o[ai][E])return this;var z=function(_e){return _.call(b||o,_e||window.event)},ee=z;!st.touchNative&&st.pointer&&h.indexOf("touch")===0?z=gi(o,h,z):st.touch&&h==="dblclick"?z=Pi(o,z):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(io[h]||h,z,st.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(z=function(_e){_e=_e||window.event,so(o,_e)&&ee(_e)},o.addEventListener(io[h],z,!1)):o.addEventListener(h,ee,!1):o.attachEvent("on"+h,z),o[ai]=o[ai]||{},o[ai][E]=z}function zs(o,h,_,b,E){E=E||h+c(_)+(b?"_"+c(b):"");var z=o[ai]&&o[ai][E];if(!z)return this;!st.touchNative&&st.pointer&&h.indexOf("touch")===0?ts(o,h,z):st.touch&&h==="dblclick"?Ni(o,z):"removeEventListener"in o?o.removeEventListener(io[h]||h,z,!1):o.detachEvent("on"+h,z),o[ai][E]=null}function Fs(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function fl(o){return Zr(o,"wheel",Fs),this}function pa(o){return Et(o,"mousedown touchstart dblclick contextmenu",Fs),o._leaflet_disable_click=!0,this}function Bt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function en(o){return Bt(o),Fs(o),this}function ou(o){if(o.composedPath)return o.composedPath();for(var h=[],_=o.target;_;)h.push(_),_=_.parentNode;return h}function hl(o,h){if(!h)return new fe(o.clientX,o.clientY);var _=ul(h),b=_.boundingClientRect;return new fe((o.clientX-b.left)/_.x-h.clientLeft,(o.clientY-b.top)/_.y-h.clientTop)}var cc=st.linux&&st.chrome?window.devicePixelRatio:st.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xi(o){return st.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/cc:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function so(o,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var dl={__proto__:null,on:Et,off:fn,stopPropagation:Fs,disableScrollPropagation:fl,disableClickPropagation:pa,preventDefault:Bt,stop:en,getPropagationPath:ou,getMousePosition:hl,getWheelDelta:xi,isExternalTarget:so,addListener:Et,removeListener:fn},pl=se.extend({run:function(o,h,_,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Mr(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var _=this._startPos.add(this._offset.multiplyBy(o));h&&_._round(),Vt(this._el,_),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ct=se.extend({options:{crs:Ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=S(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Pe(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ht&&st.any3d&&!st.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Pe(o),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,_.zoom):this._tryAnimatedPan(o,_.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,_){var b=this.getZoomScale(h),E=this.getSize().divideBy(2),z=o instanceof fe?o:this.latLngToContainerPoint(o),ee=z.subtract(E).multiplyBy(1-1/b),_e=this.containerPointToLatLng(E.add(ee));return this.setView(_e,h,{zoom:_})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Ue(o);var _=Z(h.paddingTopLeft||h.padding||[0,0]),b=Z(h.paddingBottomRight||h.padding||[0,0]),E=this.getBoundsZoom(o,!1,_.add(b));if(E=typeof h.maxZoom=="number"?Math.min(h.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var z=b.subtract(_).divideBy(2),ee=this.project(o.getSouthWest(),E),_e=this.project(o.getNorthEast(),E),we=this.unproject(ee.add(_e).divideBy(2).add(z),E);return{center:we,zoom:E}},fitBounds:function(o,h){if(o=Ue(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=Z(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,_){if(_=_||{},_.animate===!1||!st.any3d)return this.setView(o,h,_);this._stop();var b=this.project(this.getCenter()),E=this.project(o),z=this.getSize(),ee=this._zoom;o=Pe(o),h=h===void 0?ee:h;var _e=Math.max(z.x,z.y),we=_e*this.getZoomScale(ee,h),Me=E.distanceTo(b)||1,Je=1.42,_t=Je*Je;function Wt(ar){var gu=ar?-1:1,U=ar?we:_e,Il=we*we-_e*_e+gu*_t*_t*Me*Me,gc=2*U*_t*Me,qi=Il/gc,tn=Math.sqrt(qi*qi+1)-qi,Qh=tn<1e-9?-18:Math.log(tn);return Qh}function sr(ar){return(Math.exp(ar)-Math.exp(-ar))/2}function ft(ar){return(Math.exp(ar)+Math.exp(-ar))/2}function jr(ar){return sr(ar)/ft(ar)}var Kr=Wt(0);function Gs(ar){return _e*(ft(Kr)/ft(Kr+Je*ar))}function jh(ar){return _e*(ft(Kr)*jr(Kr+Je*ar)-sr(Kr))/_t}function Kh(ar){return 1-Math.pow(1-ar,1.5)}var Xh=Date.now(),bf=(Wt(1)-Kr)/Je,Jh=_.duration?1e3*_.duration:1e3*bf*.8;function mu(){var ar=(Date.now()-Xh)/Jh,gu=Kh(ar)*bf;ar<=1?(this._flyToFrame=V(mu,this),this._move(this.unproject(b.add(E.subtract(b).multiplyBy(jh(gu)/Me)),ee),this.getScaleZoom(_e/Gs(gu),ee),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),mu.call(this),this},flyToBounds:function(o,h){var _=this._getBoundsCenterZoom(o,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(o){return o=Ue(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var _=this.getCenter(),b=this._limitCenter(_,this._zoom,Ue(o));return _.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var _=Z(h.paddingTopLeft||h.padding||[0,0]),b=Z(h.paddingBottomRight||h.padding||[0,0]),E=this.project(this.getCenter()),z=this.project(o),ee=this.getPixelBounds(),_e=he([ee.min.add(_),ee.max.subtract(b)]),we=_e.getSize();if(!_e.contains(z)){this._enforcingBounds=!0;var Me=z.subtract(_e.getCenter()),Je=_e.extend(z).getSize().subtract(we);E.x+=Me.x<0?-Je.x:Je.x,E.y+=Me.y<0?-Je.y:Je.y,this.panTo(this.unproject(E),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),b=h.divideBy(2).round(),E=_.divideBy(2).round(),z=b.subtract(E);return!z.x&&!z.y?this:(o.animate&&o.pan?this.panBy(z):(o.pan&&this._rawPanBy(z),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),_=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,o):navigator.geolocation.getCurrentPosition(h,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,_=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,_=o.coords.longitude,b=new De(h,_),E=b.toBounds(o.coords.accuracy*2),z=this._locateOptions;if(z.setView){var ee=this.getBoundsZoom(E);this.setView(b,z.maxZoom?Math.min(ee,z.maxZoom):ee)}var _e={latlng:b,bounds:E,timestamp:o.timestamp};for(var we in o.coords)typeof o.coords[we]=="number"&&(_e[we]=o.coords[we]);this.fire("locationfound",_e)}},addHandler:function(o,h){if(!h)return this;var _=this[o]=new h(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Qt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=Kt("div",_,h||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Ne(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,_){o=Ue(o),_=Z(_||[0,0]);var b=this.getZoom()||0,E=this.getMinZoom(),z=this.getMaxZoom(),ee=o.getNorthWest(),_e=o.getSouthEast(),we=this.getSize().subtract(_),Me=he(this.project(_e,b),this.project(ee,b)).getSize(),Je=st.any3d?this.options.zoomSnap:1,_t=we.x/Me.x,Wt=we.y/Me.y,sr=h?Math.max(_t,Wt):Math.min(_t,Wt);return b=this.getScaleZoom(sr,b),Je&&(b=Math.round(b/(Je/100))*(Je/100),b=h?Math.ceil(b/Je)*Je:Math.floor(b/Je)*Je),Math.max(E,Math.min(z,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new fe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var _=this._getTopLeftPoint(o,h);return new Q(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(o)/_.scale(h)},getScaleZoom:function(o,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var b=_.zoom(o*_.scale(h));return isNaN(b)?1/0:b},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Pe(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(Z(o),h)},layerPointToLatLng:function(o){var h=Z(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Pe(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Pe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ue(o))},distance:function(o,h){return this.options.crs.distance(Pe(o),Pe(h))},containerPointToLayerPoint:function(o){return Z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(Z(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Pe(o)))},mouseEventToContainerPoint:function(o){return hl(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=bs(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(h,"scroll",this._onScroll,this),this._containerId=c(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&st.any3d,pt(o,"leaflet-container"+(st.touch?" leaflet-touch":"")+(st.retina?" leaflet-retina":"")+(st.ielt9?" leaflet-oldie":"")+(st.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=_i(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new fe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(o.markerPane,"leaflet-zoom-hide"),pt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,_){Vt(this._mapPane,new fe(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var E=this._zoom!==h;this._moveStart(E,_)._move(o,h)._moveEnd(E),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,_,b){h===void 0&&(h=this._zoom);var E=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?_&&_.pinch&&this.fire("zoom",_):((E||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Vt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var h=o?fn:Et;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),st.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var _=[],b,E=h==="mouseout"||h==="mouseover",z=o.target||o.srcElement,ee=!1;z;){if(b=this._targets[c(z)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){ee=!0;break}if(b&&b.listens(h,!0)&&(E&&!so(z,o)||(_.push(b),E))||z===this._container)break;z=z.parentNode}return!_.length&&!ee&&!E&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var _=o.type;_==="mousedown"&&No(h),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,_){if(o.type==="click"){var b=i({},o);b.type="preclick",this._fireDOMEvent(b,b.type,_)}var E=this._findEventTargets(o,h);if(_){for(var z=[],ee=0;ee<_.length;ee++)_[ee].listens(h,!0)&&z.push(_[ee]);E=z.concat(E)}if(E.length){h==="contextmenu"&&Bt(o);var _e=E[0],we={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Me=_e.getLatLng&&(!_e._radius||_e._radius<=10);we.containerPoint=Me?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(o),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Me?_e.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(ee=0;ee<E.length;ee++)if(E[ee].fire(h,we,!0),we.originalEvent._stopped||E[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Mr(this._mapPane)||new fe(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var _=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var _=this.getSize()._divideBy(2);return this.project(o,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,_){var b=this._getNewPixelOrigin(_,h);return this.project(o,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,h,_){var b=this._getNewPixelOrigin(_,h);return he([this.project(o.getSouthWest(),h)._subtract(b),this.project(o.getNorthWest(),h)._subtract(b),this.project(o.getSouthEast(),h)._subtract(b),this.project(o.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,_){if(!_)return o;var b=this.project(o,h),E=this.getSize().divideBy(2),z=new Q(b.subtract(E),b.add(E)),ee=this._getBoundsOffset(z,_,h);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?o:this.unproject(b.add(ee),h)},_limitOffset:function(o,h){if(!h)return o;var _=this.getPixelBounds(),b=new Q(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(o,h,_){var b=he(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),E=b.min.subtract(o.min),z=b.max.subtract(o.max),ee=this._rebound(E.x,-z.x),_e=this._rebound(E.y,-z.y);return new fe(ee,_e)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),_=this.getMaxZoom(),b=st.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(h,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var _=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var o=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var _=Br,b=this._proxy.style[_];Er(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Er(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),E=this._getCenterOffset(o)._divideBy(1-1/b);return _.animate!==!0&&!this.getSize().contains(E)?!1:(V(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,_,b){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gr(o,h){return new Ct(o,h)}var Yr=ue.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),_=this.getPosition(),b=o._controlCorners[_];return pt(h,"leaflet-control"),_.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Di=function(o){return new Yr(o)};Ct.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",_=this._controlContainer=Kt("div",h+"control-container",this._container);function b(E,z){var ee=h+E+" "+h+z;o[E+z]=Kt("div",ee,_)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Qt(this._controlCorners[o]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ml=Yr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,_,b){return _<b?-1:b<_?1:0}},initialize:function(o,h,_){S(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Yr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(c(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Kt("div",o),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),pa(h),fl(h);var b=this._section=Kt("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Et(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Kt("a",o+"-toggle",h);E.href="#",E.title="Layers",E.setAttribute("role","button"),Et(E,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){Bt(z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Kt("div",o+"-base",b),this._separator=Kt("div",o+"-separator",b),this._overlaysList=Kt("div",o+"-overlays",b),h.appendChild(b)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&c(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(a(function(b,E){return this.options.sortFunction(b.layer,E.layer,b.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var o,h,_,b,E=0;for(_=0;_<this._layers.length;_++)b=this._layers[_],this._addItem(b),h=h||b.overlay,o=o||!b.overlay,E+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(c(o.target)),_=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(o,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=_,b.firstChild},_addItem:function(o){var h=document.createElement("label"),_=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=_):b=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(b),b.layerId=c(o.layer),Et(b,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var z=document.createElement("span");h.appendChild(z),z.appendChild(b),z.appendChild(E);var ee=o.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,_,b=[],E=[];this._handlingClick=!0;for(var z=o.length-1;z>=0;z--)h=o[z],_=this._getLayer(h.layerId).layer,h.checked?b.push(_):h.checked||E.push(_);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])&&this._map.removeLayer(E[z]);for(z=0;z<b.length;z++)this._map.hasLayer(b[z])||this._map.addLayer(b[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,_,b=this._map.getZoom(),E=o.length-1;E>=0;E--)h=o[E],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&b<_.options.minZoom||_.options.maxZoom!==void 0&&b>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Et(o,"click",Bt),this.expand();var h=this;setTimeout(function(){fn(o,"click",Bt),h._preventClick=!1})}}),gl=function(o,h,_){return new ml(o,h,_)},Cr=Yr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",_=Kt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,_,b,E){var z=Kt("a",_,b);return z.innerHTML=o,z.href="#",z.title=h,z.setAttribute("role","button"),z.setAttribute("aria-label",h),pa(z),Et(z,"click",en),Et(z,"click",E,this),Et(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";on(this._zoomInButton,h),on(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(pt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(pt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cr,this.addControl(this.zoomControl))});var re=function(o){return new Cr(o)},Te=Yr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",_=Kt("div",h),b=this.options;return this._addScales(b,h+"-line",_),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,_){o.metric&&(this._mScale=Kt("div",h,_)),o.imperial&&(this._iScale=Kt("div",h,_))},_update:function(){var o=this._map,h=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/o)},_updateImperial:function(o){var h=o*3.2808399,_,b,E;h>5280?(_=h/5280,b=this._getRoundNum(_),this._updateScale(this._iScale,b+" mi",b/_)):(E=this._getRoundNum(h),this._updateScale(this._iScale,E+" ft",E/h))},_updateScale:function(o,h,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),_=o/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),ze=function(o){return new Te(o)},$e='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xt=Yr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(st.inlineSvg?$e+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),pa(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new xt().addTo(this)});var yt=function(o){return new xt(o)};Yr.Layers=ml,Yr.Zoom=Cr,Yr.Scale=Te,Yr.Attribution=xt,Di.layers=gl,Di.zoom=re,Di.scale=ze,Di.attribution=yt;var St=ue.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});St.addTo=function(o,h){return o.addHandler(h,this),this};var zn={Events:ge},In=st.touch?"touchstart mousedown":"mousedown",Tt=se.extend({options:{clickTolerance:3},initialize:function(o,h,_,b){S(this,b),this._element=o,this._dragStartTarget=h||o,this._preventOutline=_},enable:function(){this._enabled||(Et(this._dragStartTarget,In,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tt._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,In,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ur(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Tt._dragging===this&&this.finishDrag();return}if(!(Tt._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Tt._dragging=this,this._preventOutline&&No(this._element),ut(),Yn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,_=Bs(this._element);this._startPoint=new fe(h.clientX,h.clientY),this._startPos=Mr(this._element),this._parentScale=ul(_);var b=o.type==="mousedown";Et(document,b?"mousemove":"touchmove",this._onMove,this),Et(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,_=new fe(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Bt(o),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Vt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),cn(),si();var h=this._moved&&this._moving;this._moving=!1,Tt._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Mn(o,h,_){var b,E=[1,4,2,8],z,ee,_e,we,Me,Je,_t,Wt;for(z=0,Je=o.length;z<Je;z++)o[z]._code=oi(o[z],h);for(_e=0;_e<4;_e++){for(_t=E[_e],b=[],z=0,Je=o.length,ee=Je-1;z<Je;ee=z++)we=o[z],Me=o[ee],we._code&_t?Me._code&_t||(Wt=bl(Me,we,_t,h,_),Wt._code=oi(Wt,h),b.push(Wt)):(Me._code&_t&&(Wt=bl(Me,we,_t,h,_),Wt._code=oi(Wt,h),b.push(Wt)),b.push(we));o=b}return o}function hn(o,h){var _,b,E,z,ee,_e,we,Me,Je;if(!o||o.length===0)throw new Error("latlngs not passed");Bi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var _t=Pe([0,0]),Wt=Ue(o),sr=Wt.getNorthWest().distanceTo(Wt.getSouthWest())*Wt.getNorthEast().distanceTo(Wt.getNorthWest());sr<1700&&(_t=ln(o));var ft=o.length,jr=[];for(_=0;_<ft;_++){var Kr=Pe(o[_]);jr.push(h.project(Pe([Kr.lat-_t.lat,Kr.lng-_t.lng])))}for(_e=we=Me=0,_=0,b=ft-1;_<ft;b=_++)E=jr[_],z=jr[b],ee=E.y*z.x-z.y*E.x,we+=(E.x+z.x)*ee,Me+=(E.y+z.y)*ee,_e+=ee*3;_e===0?Je=jr[0]:Je=[we/_e,Me/_e];var Gs=h.unproject(Z(Je));return Pe([Gs.lat+_t.lat,Gs.lng+_t.lng])}function ln(o){for(var h=0,_=0,b=0,E=0;E<o.length;E++){var z=Pe(o[E]);h+=z.lat,_+=z.lng,b++}return Pe([h/b,_/b])}var xs={__proto__:null,clipPolygon:Mn,polygonCenter:hn,centroid:ln};function Tn(o,h){if(!h||!o.length)return o.slice();var _=h*h;return o=ga(o,_),o=ma(o,_),o}function Ss(o,h,_){return Math.sqrt(wl(o,h,_,!0))}function _l(o,h,_){return wl(o,h,_)}function ma(o,h){var _=o.length,b=typeof Uint8Array!=void 0+""?Uint8Array:Array,E=new b(_);E[0]=E[_-1]=1,vl(o,E,h,0,_-1);var z,ee=[];for(z=0;z<_;z++)E[z]&&ee.push(o[z]);return ee}function vl(o,h,_,b,E){var z=0,ee,_e,we;for(_e=b+1;_e<=E-1;_e++)we=wl(o[_e],o[b],o[E],!0),we>z&&(ee=_e,z=we);z>_&&(h[ee]=1,vl(o,h,_,b,ee),vl(o,h,_,ee,E))}function ga(o,h){for(var _=[o[0]],b=1,E=0,z=o.length;b<z;b++)qa(o[b],o[E])>h&&(_.push(o[b]),E=b);return E<z-1&&_.push(o[z-1]),_}var f0;function yl(o,h,_,b,E){var z=b?f0:oi(o,_),ee=oi(h,_),_e,we,Me;for(f0=ee;;){if(!(z|ee))return[o,h];if(z&ee)return!1;_e=z||ee,we=bl(o,h,_e,_,E),Me=oi(we,_),_e===z?(o=we,z=Me):(h=we,ee=Me)}}function bl(o,h,_,b,E){var z=h.x-o.x,ee=h.y-o.y,_e=b.min,we=b.max,Me,Je;return _&8?(Me=o.x+z*(we.y-o.y)/ee,Je=we.y):_&4?(Me=o.x+z*(_e.y-o.y)/ee,Je=_e.y):_&2?(Me=we.x,Je=o.y+ee*(we.x-o.x)/z):_&1&&(Me=_e.x,Je=o.y+ee*(_e.x-o.x)/z),new fe(Me,Je,E)}function oi(o,h){var _=0;return o.x<h.min.x?_|=1:o.x>h.max.x&&(_|=2),o.y<h.min.y?_|=4:o.y>h.max.y&&(_|=8),_}function qa(o,h){var _=h.x-o.x,b=h.y-o.y;return _*_+b*b}function wl(o,h,_,b){var E=h.x,z=h.y,ee=_.x-E,_e=_.y-z,we=ee*ee+_e*_e,Me;return we>0&&(Me=((o.x-E)*ee+(o.y-z)*_e)/we,Me>1?(E=_.x,z=_.y):Me>0&&(E+=ee*Me,z+=_e*Me)),ee=o.x-E,_e=o.y-z,b?ee*ee+_e*_e:new fe(E,z)}function Bi(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function fc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bi(o)}function Si(o,h){var _,b,E,z,ee,_e,we,Me;if(!o||o.length===0)throw new Error("latlngs not passed");Bi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Je=Pe([0,0]),_t=Ue(o),Wt=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Wt<1700&&(Je=ln(o));var sr=o.length,ft=[];for(_=0;_<sr;_++){var jr=Pe(o[_]);ft.push(h.project(Pe([jr.lat-Je.lat,jr.lng-Je.lng])))}for(_=0,b=0;_<sr-1;_++)b+=ft[_].distanceTo(ft[_+1])/2;if(b===0)Me=ft[0];else for(_=0,z=0;_<sr-1;_++)if(ee=ft[_],_e=ft[_+1],E=ee.distanceTo(_e),z+=E,z>b){we=(z-b)/E,Me=[_e.x-we*(_e.x-ee.x),_e.y-we*(_e.y-ee.y)];break}var Kr=h.unproject(Z(Me));return Pe([Kr.lat+Je.lat,Kr.lng+Je.lng])}var _a={__proto__:null,simplify:Tn,pointToSegmentDistance:Ss,closestPointOnSegment:_l,clipSegment:yl,_getEdgeIntersection:bl,_getBitCode:oi,_sqClosestPointOnSegment:wl,isFlat:Bi,_flat:fc,polylineCenter:Si},Ar={project:function(o){return new fe(o.lng,o.lat)},unproject:function(o){return new De(o.y,o.x)},bounds:new Q([-180,-90],[180,90])},ao={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,_=this.R,b=o.lat*h,E=this.R_MINOR/_,z=Math.sqrt(1-E*E),ee=z*Math.sin(b),_e=Math.tan(Math.PI/4-b/2)/Math.pow((1-ee)/(1+ee),z/2);return b=-_*Math.log(Math.max(_e,1e-10)),new fe(o.lng*h*_,b)},unproject:function(o){for(var h=180/Math.PI,_=this.R,b=this.R_MINOR/_,E=Math.sqrt(1-b*b),z=Math.exp(-o.y/_),ee=Math.PI/2-2*Math.atan(z),_e=0,we=.1,Me;_e<15&&Math.abs(we)>1e-7;_e++)Me=E*Math.sin(ee),Me=Math.pow((1-Me)/(1+Me),E/2),we=Math.PI/2-2*Math.atan(z*Me)-ee,ee+=we;return new De(ee*h,o.x*h/_)}},hc={__proto__:null,LonLat:Ar,Mercator:ao,SphericalMercator:Ae},xl=i({},Ee,{code:"EPSG:3395",projection:ao,transformation:function(){var o=.5/(Math.PI*ao.R);return be(o,.5,-o,.5)}()}),h0=i({},Ee,{code:"EPSG:4326",projection:Ar,transformation:be(1/180,1,-1/180,.5)}),oo=i({},ke,{projection:Ar,transformation:be(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var _=h.lng-o.lng,b=h.lat-o.lat;return Math.sqrt(_*_+b*b)},infinite:!0});ke.Earth=Ee,ke.EPSG3395=xl,ke.EPSG3857=Ke,ke.EPSG900913=qe,ke.EPSG4326=h0,ke.Simple=oo;var Nn=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=c(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=c(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var h=0,_=o.length;h<_;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=c(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,_=this._getZoomSpan();for(var b in this._zoomBoundLayers){var E=this._zoomBoundLayers[b].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),h=E.maxZoom===void 0?h:Math.max(h,E.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ha=Nn.extend({initialize:function(o,h){S(this,h),this._layers={};var _,b;if(o)for(_=0,b=o.length;_<b;_++)this.addLayer(o[_])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),_,b;for(_ in this._layers)b=this._layers[_],b[o]&&b[o].apply(b,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),lo=function(o,h){return new Ha(o,h)},rs=Ha.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ha.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ha.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ne;for(var h in this._layers){var _=this._layers[h];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),d0=function(o,h){return new rs(o,h)},Us=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,h){var _=this.options,b=_[h+"Size"];typeof b=="number"&&(b=[b,b]);var E=Z(b),z=Z(h==="shadow"&&_.shadowAnchor||_.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(_.className||""),z&&(o.style.marginLeft=-z.x+"px",o.style.marginTop=-z.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return st.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function dc(o){return new Us(o)}var Sl=Us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Sl.imagePath!="string"&&(Sl.imagePath=this._detectIconPath()),(this.options.imagePath||Sl.imagePath)+Us.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(_,b,E){var z=b.exec(_);return z&&z[E]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Kt("div","leaflet-default-icon-path",document.body),h=_i(o,"background-image")||_i(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),uo=St.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Tt(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,_=h._map,b=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,z=Mr(h._icon),ee=_.getPixelBounds(),_e=_.getPixelOrigin(),we=he(ee.min._subtract(_e).add(E),ee.max._subtract(_e).subtract(E));if(!we.contains(z)){var Me=Z((Math.max(we.max.x,z.x)-we.max.x)/(ee.max.x-we.max.x)-(Math.min(we.min.x,z.x)-we.min.x)/(ee.min.x-we.min.x),(Math.max(we.max.y,z.y)-we.max.y)/(ee.max.y-we.max.y)-(Math.min(we.min.y,z.y)-we.min.y)/(ee.min.y-we.min.y)).multiplyBy(b);_.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),Vt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,_=h._shadow,b=Mr(h._icon),E=h._map.layerPointToLatLng(b);_&&Vt(_,b),h._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),lu=Nn.extend({options:{icon:new Sl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){S(this,h),this._latlng=Pe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Pe(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),b=!1;_!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),pt(_,h),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(_,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),z=!1;E!==this._shadow&&(this._removeShadow(),z=!0),E&&(pt(E,h),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&z&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Vt(this._icon,o),this._shadow&&Vt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Sn(this._icon,o),this._shadow&&Sn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,_=h.iconSize?Z(h.iconSize):Z(0,0),b=h.iconAnchor?Z(h.iconAnchor):Z(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:_.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function va(o,h){return new lu(o,h)}var Wa=Nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uu=Wa.extend({options:{fill:!0,radius:10},initialize:function(o,h){S(this,h),this._latlng=Pe(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Pe(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Wa.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,_=this._clickTolerance(),b=[o+_,h+_];this._pxBounds=new Q(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function co(o,h){return new uu(o,h)}var Do=uu.extend({initialize:function(o,h,_){if(typeof h=="number"&&(h=i({},_,{radius:h})),S(this,h),this._latlng=Pe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Wa.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,_=this._map,b=_.options.crs;if(b.distance===Ee.distance){var E=Math.PI/180,z=this._mRadius/Ee.R/E,ee=_.project([h+z,o]),_e=_.project([h-z,o]),we=ee.add(_e).divideBy(2),Me=_.unproject(we).lat,Je=Math.acos((Math.cos(z*E)-Math.sin(h*E)*Math.sin(Me*E))/(Math.cos(h*E)*Math.cos(Me*E)))/E;(isNaN(Je)||Je===0)&&(Je=z/Math.cos(Math.PI/180*h)),this._point=we.subtract(_.getPixelOrigin()),this._radius=isNaN(Je)?0:we.x-_.project([Me,o-Je]).x,this._radiusY=we.y-ee.y}else{var _t=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(_t).x}this._updateBounds()}});function Ga(o,h,_){return new Do(o,h,_)}var zi=Wa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){S(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,_=null,b=wl,E,z,ee=0,_e=this._parts.length;ee<_e;ee++)for(var we=this._parts[ee],Me=1,Je=we.length;Me<Je;Me++){E=we[Me-1],z=we[Me];var _t=b(o,E,z,!0);_t<h&&(h=_t,_=b(o,E,z))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Si(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Pe(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ne,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],_=Bi(o),b=0,E=o.length;b<E;b++)_?(h[b]=Pe(o[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(o[b]);return h},_project:function(){var o=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new fe(o,o);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,_){var b=o[0]instanceof De,E=o.length,z,ee;if(b){for(ee=[],z=0;z<E;z++)ee[z]=this._map.latLngToLayerPoint(o[z]),_.extend(ee[z]);h.push(ee)}else for(z=0;z<E;z++)this._projectLatlngs(o[z],h,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,b,E,z,ee,_e,we;for(_=0,E=0,z=this._rings.length;_<z;_++)for(we=this._rings[_],b=0,ee=we.length;b<ee-1;b++)_e=yl(we[b],we[b+1],o,b,!0),_e&&(h[E]=h[E]||[],h[E].push(_e[0]),(_e[1]!==we[b+1]||b===ee-2)&&(h[E].push(_e[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,_=0,b=o.length;_<b;_++)o[_]=Tn(o[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var _,b,E,z,ee,_e,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,z=this._parts.length;_<z;_++)for(_e=this._parts[_],b=0,ee=_e.length,E=ee-1;b<ee;E=b++)if(!(!h&&b===0)&&Ss(o,_e[E],_e[b])<=we)return!0;return!1}});function vf(o,h){return new zi(o,h)}zi._flat=fc;var Ti=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=zi.prototype._convertLatLngs.call(this,o),_=h.length;return _>=2&&h[0]instanceof De&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(o){zi.prototype._setLatLngs.call(this,o),Bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,_=new fe(h,h);if(o=new Q(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,E=this._rings.length,z;b<E;b++)z=Mn(this._rings[b],o,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,_,b,E,z,ee,_e,we,Me;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(z=0,we=this._parts.length;z<we;z++)for(_=this._parts[z],ee=0,Me=_.length,_e=Me-1;ee<Me;_e=ee++)b=_[ee],E=_[_e],b.y>o.y!=E.y>o.y&&o.x<(E.x-b.x)*(o.y-b.y)/(E.y-b.y)+b.x&&(h=!h);return h||zi.prototype._containsPoint.call(this,o,!0)}});function yf(o,h){return new Ti(o,h)}var Ur=rs.extend({initialize:function(o,h){S(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=A(o)?o:o.features,_,b,E;if(h){for(_=0,b=h.length;_<b;_++)E=h[_],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var z=this.options;if(z.filter&&!z.filter(o))return this;var ee=li(o,z);return ee?(ee.feature=ks(o),ee.defaultOptions=ee.options,this.resetStyle(ee),z.onEachFeature&&z.onEachFeature(o,ee),this.addLayer(ee)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function li(o,h){var _=o.type==="Feature"?o.geometry:o,b=_?_.coordinates:null,E=[],z=h&&h.pointToLayer,ee=h&&h.coordsToLatLng||cu,_e,we,Me,Je;if(!b&&!_)return null;switch(_.type){case"Point":return _e=ee(b),pc(z,o,_e,h);case"MultiPoint":for(Me=0,Je=b.length;Me<Je;Me++)_e=ee(b[Me]),E.push(pc(z,o,_e,h));return new rs(E);case"LineString":case"MultiLineString":return we=fu(b,_.type==="LineString"?0:1,ee),new zi(we,h);case"Polygon":case"MultiPolygon":return we=fu(b,_.type==="Polygon"?1:2,ee),new Ti(we,h);case"GeometryCollection":for(Me=0,Je=_.geometries.length;Me<Je;Me++){var _t=li({geometry:_.geometries[Me],type:"Feature",properties:o.properties},h);_t&&E.push(_t)}return new rs(E);case"FeatureCollection":for(Me=0,Je=_.features.length;Me<Je;Me++){var Wt=li(_.features[Me],h);Wt&&E.push(Wt)}return new rs(E);default:throw new Error("Invalid GeoJSON object.")}}function pc(o,h,_,b){return o?o(h,_):new lu(_,b&&b.markersInheritOptions&&b)}function cu(o){return new De(o[1],o[0],o[2])}function fu(o,h,_){for(var b=[],E=0,z=o.length,ee;E<z;E++)ee=h?fu(o[E],h-1,_):(_||cu)(o[E]),b.push(ee);return b}function Ts(o,h){return o=Pe(o),o.alt!==void 0?[g(o.lng,h),g(o.lat,h),g(o.alt,h)]:[g(o.lng,h),g(o.lat,h)]}function hu(o,h,_,b){for(var E=[],z=0,ee=o.length;z<ee;z++)E.push(h?hu(o[z],Bi(o[z])?0:h-1,_,b):Ts(o[z],b));return!h&&_&&E.length>0&&E.push(E[0].slice()),E}function qs(o,h){return o.feature?i({},o.feature,{geometry:h}):ks(h)}function ks(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ce={toGeoJSON:function(o){return qs(this,{type:"Point",coordinates:Ts(this.getLatLng(),o)})}};lu.include(ce),Do.include(ce),uu.include(ce),zi.include({toGeoJSON:function(o){var h=!Bi(this._latlngs),_=hu(this._latlngs,h?1:0,!1,o);return qs(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ti.include({toGeoJSON:function(o){var h=!Bi(this._latlngs),_=h&&!Bi(this._latlngs[0]),b=hu(this._latlngs,_?2:h?1:0,!0,o);return h||(b=[b]),qs(this,{type:(_?"Multi":"")+"Polygon",coordinates:b})}}),Ha.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(o).geometry.coordinates)}),qs(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var _=h==="GeometryCollection",b=[];return this.eachLayer(function(E){if(E.toGeoJSON){var z=E.toGeoJSON(o);if(_)b.push(z.geometry);else{var ee=ks(z);ee.type==="FeatureCollection"?b.push.apply(b,ee.features):b.push(ee)}}}),_?qs(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Se(o,h){return new Ur(o,h)}var xe=Se,Ze=Nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,_){this._url=o,this._bounds=Ue(h),S(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&zr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ue(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Kt("img");if(pt(h,"leaflet-image-layer"),this._zoomAnimated&&pt(h,"leaflet-zoom-animated"),this.options.className&&pt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Er(this._image,_,h)},_reset:function(){var o=this._image,h=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();Vt(o,h.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){Sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Nt=function(o,h,_){return new Ze(o,h,_)},dn=Ze.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Kt("video");if(pt(h,"leaflet-image-layer"),this._zoomAnimated&&pt(h,"leaflet-zoom-animated"),this.options.className&&pt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=a(this.fire,this,"load"),o){for(var _=h.getElementsByTagName("source"),b=[],E=0;E<_.length;E++)b.push(_[E].src);this._url=_.length>0?b:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var ee=Kt("source");ee.src=this._url[z],h.appendChild(ee)}}});function Nr(o,h,_){return new dn(o,h,_)}var kn=Ze.extend({_initImage:function(){var o=this._image=this._url;pt(o,"leaflet-image-layer"),this._zoomAnimated&&pt(o,"leaflet-zoom-animated"),this.options.className&&pt(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function mc(o,h,_){return new kn(o,h,_)}var _r=Nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof De||A(o))?(this._latlng=Pe(o),S(this,h)):(S(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Sn(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Sn(this._container,0),this._removeTimeout=setTimeout(a(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Pe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&zr(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof rs){h=null;var _=this._source._layers;for(var b in _)if(_[b]._map){h=_[b];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=Z(this.options.offset),_=this._getAnchor();this._zoomAnimated?Vt(this._container,o.add(_)):h=h.add(o).add(_);var b=this._containerBottom=-h.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(o,h,_,b){var E=h;return E instanceof o||(E=new o(b).setContent(h)),_&&E.setLatLng(_),E}}),Nn.include({_initOverlay:function(o,h,_,b){var E=_;return E instanceof o?(S(E,b),E._source=this):(E=h&&!b?h:new o(b,this),E.setContent(_)),E}});var ui=_r.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,_r.prototype.openOn.call(this,o)},onAdd:function(o){_r.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wa||this._source.on("preclick",Fs))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wa||this._source.off("preclick",Fs))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Kt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Kt("div",o+"-content-wrapper",h);if(this._contentNode=Kt("div",o+"-content",_),pa(h),fl(this._contentNode),Et(h,"contextmenu",Fs),this._tipContainer=Kt("div",o+"-tip-container",h),this._tip=Kt("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Kt("a",o+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Et(b,"click",function(E){Bt(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var b=o.offsetHeight,E=this.options.maxHeight,z="leaflet-popup-scrolled";E&&b>E?(h.height=E+"px",pt(o,z)):on(o,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();Vt(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(_i(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,b=this._containerWidth,E=new fe(this._containerLeft,-_-this._containerBottom);E._add(Mr(this._container));var z=o.layerPointToContainerPoint(E),ee=Z(this.options.autoPanPadding),_e=Z(this.options.autoPanPaddingTopLeft||ee),we=Z(this.options.autoPanPaddingBottomRight||ee),Me=o.getSize(),Je=0,_t=0;z.x+b+we.x>Me.x&&(Je=z.x+b-Me.x+we.x),z.x-Je-_e.x<0&&(Je=z.x-_e.x),z.y+_+we.y>Me.y&&(_t=z.y+_-Me.y+we.y),z.y-_t-_e.y<0&&(_t=z.y-_e.y),(Je||_t)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Je,_t]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tl=function(o,h){return new ui(o,h)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(o,h,_){return this._initOverlay(ui,o,h,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Nn.include({bindPopup:function(o,h){return this._popup=this._initOverlay(ui,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof rs||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){en(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Wa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var kl=_r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){_r.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,_,b=this._map,E=this._container,z=b.latLngToContainerPoint(b.getCenter()),ee=b.layerPointToContainerPoint(o),_e=this.options.direction,we=E.offsetWidth,Me=E.offsetHeight,Je=Z(this.options.offset),_t=this._getAnchor();_e==="top"?(h=we/2,_=Me):_e==="bottom"?(h=we/2,_=0):_e==="center"?(h=we/2,_=Me/2):_e==="right"?(h=0,_=Me/2):_e==="left"?(h=we,_=Me/2):ee.x<z.x?(_e="right",h=0,_=Me/2):(_e="left",h=we+(Je.x+_t.x)*2,_=Me/2),o=o.subtract(Z(h,_,!0)).add(Je).add(_t),on(E,"leaflet-tooltip-right"),on(E,"leaflet-tooltip-left"),on(E,"leaflet-tooltip-top"),on(E,"leaflet-tooltip-bottom"),pt(E,"leaflet-tooltip-"+_e),Vt(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Sn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fo=function(o,h){return new kl(o,h)};Ct.include({openTooltip:function(o,h,_){return this._initOverlay(kl,o,h,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Nn.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kl,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof rs||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Et(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Et(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,_,b;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var Bo=Us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(gn(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var b=Z(_.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function du(o){return new Bo(o)}Us.Default=Sl;var _n=Nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:st.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Qt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof fe?o:new fe(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,_=-o(-1/0,1/0),b=0,E=h.length,z;b<E;b++)z=h[b].style.zIndex,h[b]!==this._container&&z&&(_=o(_,+z));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!st.ielt9){Sn(this._container,this.options.opacity);var o=+new Date,h=!1,_=!1;for(var b in this._tiles){var E=this._tiles[b];if(!(!E.current||!E.loaded)){var z=Math.min(1,(o-E.loaded)/200);Sn(E.el,z),z<1?h=!0:(E.active?_=!0:this._onOpaqueTile(E),E.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(te(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=h-Math.abs(o-_),this._onUpdateLevel(_)):(Qt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var b=this._levels[o],E=this._map;return b||(b=this._levels[o]={},b.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,E.getCenter(),E.getZoom()),m(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Qt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,_,b){var E=Math.floor(o/2),z=Math.floor(h/2),ee=_-1,_e=new fe(+E,+z);_e.z=+ee;var we=this._tileCoordsToKey(_e),Me=this._tiles[we];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),ee>b?this._retainParent(E,z,ee,b):!1)},_retainChildren:function(o,h,_,b){for(var E=2*o;E<2*o+2;E++)for(var z=2*h;z<2*h+2;z++){var ee=new fe(E,z);ee.z=_+1;var _e=this._tileCoordsToKey(ee),we=this._tiles[_e];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);_+1<b&&this._retainChildren(E,z,_+1,b)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,_,b){var E=Math.round(h);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var z=this.options.updateWhenZooming&&E!==this._tileZoom;(!b||z)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,h)},_setZoomTransform:function(o,h,_){var b=this._map.getZoomScale(_,o.zoom),E=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,_)).round();st.any3d?Er(o.el,E,b):Vt(o.el,E)},_resetGrid:function(){var o=this._map,h=o.options.crs,_=this._tileSize=this.getTileSize(),b=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],b).x/_.x),Math.ceil(o.project([0,h.wrapLng[1]],b).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],b).y/_.x),Math.ceil(o.project([h.wrapLat[1],0],b).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(_,this._tileZoom),E=h.project(o,this._tileZoom).floor(),z=h.getSize().divideBy(b*2);return new Q(E.subtract(z),E.add(z))},_update:function(o){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(b),z=E.getCenter(),ee=[],_e=this.options.keepBuffer,we=new Q(E.getBottomLeft().subtract([_e,-_e]),E.getTopRight().add([_e,-_e]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var Je=this._tiles[Me].coords;(Je.z!==this._tileZoom||!we.contains(new fe(Je.x,Je.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var _t=E.min.y;_t<=E.max.y;_t++)for(var Wt=E.min.x;Wt<=E.max.x;Wt++){var sr=new fe(Wt,_t);if(sr.z=this._tileZoom,!!this._isValidTile(sr)){var ft=this._tiles[this._tileCoordsToKey(sr)];ft?ft.current=!0:ee.push(sr)}}if(ee.sort(function(Kr,Gs){return Kr.distanceTo(z)-Gs.distanceTo(z)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jr=document.createDocumentFragment();for(Wt=0;Wt<ee.length;Wt++)this._addTile(ee[Wt],jr);this._level.el.appendChild(jr)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!h.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return Ue(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,_=this.getTileSize(),b=o.scaleBy(_),E=b.add(_),z=h.unproject(b,o.z),ee=h.unproject(E,o.z);return[z,ee]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),_=new Ne(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),_=new fe(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(o){var h=this._tiles[o];h&&(Qt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){pt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=m,o.onmousemove=m,st.ielt9&&this.options.opacity<1&&Sn(o,this.options.opacity)},_addTile:function(o,h){var _=this._getTilePos(o),b=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&V(a(this._tileReady,this,o,null,E)),Vt(E,_),this._tiles[b]={el:E,coords:o,current:!0},h.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:o});var b=this._tileCoordsToKey(o);_=this._tiles[b],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Sn(_.el,0),te(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(pt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),st.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new fe(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new Q(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function El(o){return new _n(o)}var ya=_n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=S(this,h),h.detectRetina&&st.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var _=document.createElement("img");return Et(_,"load",a(this._tileOnLoad,this,h,_)),Et(_,"error",a(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var h={r:st.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=_),h["-y"]=_}return k(this._url,i(h,this.options))},_tileOnLoad:function(o,h){st.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,_){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),o(_,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,b=this.options.zoomOffset;return _&&(o=h-o),o+b},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=m,h.onerror=m,!h.complete)){h.src=N;var _=this._tiles[o].coords;Qt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",N),_n.prototype._removeTile.call(this,o)},_tileReady:function(o,h,_){if(!(!this._map||_&&_.getAttribute("src")===N))return _n.prototype._tileReady.call(this,o,h,_)}});function Ml(o,h){return new ya(o,h)}var ba=ya.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var _=i({},this.defaultWmsParams);for(var b in h)b in this.options||(_[b]=h[b]);h=S(this,h);var E=h.detectRetina&&st.retina?2:1,z=this.getTileSize();_.width=z.x*E,_.height=z.y*E,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,ya.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),_=this._crs,b=he(_.project(h[0]),_.project(h[1])),E=b.min,z=b.max,ee=(this._wmsVersion>=1.3&&this._crs===h0?[E.y,E.x,z.y,z.x]:[E.x,E.y,z.x,z.y]).join(","),_e=ya.prototype.getTileUrl.call(this,o);return _e+I(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function p0(o,h){return new ba(o,h)}ya.WMS=ba,Ml.wms=p0;var Hs=Nn.extend({options:{padding:.1},initialize:function(o){S(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var _=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,h),z=b.multiplyBy(-_).add(E).subtract(this._map._getNewPixelOrigin(o,h));st.any3d?Er(this._container,z,_):Vt(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new Q(_,_.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cl=Hs.extend({options:{tolerance:0},getEvents:function(){var o=Hs.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Et(o,"mousemove",this._onMouseMove,this),Et(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Qt(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hs.prototype._update.call(this);var o=this._bounds,h=this._container,_=o.getSize(),b=st.retina?2:1;Vt(h,o.min),h.width=b*_.x,h.height=b*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",st.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Hs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,_=h.next,b=h.prev;_?_.prev=b:this._drawLast=b,b?b.next=_:this._drawFirst=_,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),_=[],b,E;for(E=0;E<h.length;E++){if(b=Number(h[E]),isNaN(b))return;_.push(b)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var _,b,E,z,ee=o._parts,_e=ee.length,we=this._ctx;if(_e){for(we.beginPath(),_=0;_<_e;_++){for(b=0,E=ee[_].length;b<E;b++)z=ee[_][b],we[b?"lineTo":"moveTo"](z.x,z.y);h&&we.closePath()}this._fillStroke(we,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,_=this._ctx,b=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||b)/b;E!==1&&(_.save(),_.scale(1,E)),_.beginPath(),_.arc(h.x,h.y/E,b,0,Math.PI*2,!1),E!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,h){var _=h.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),_,b,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(b=_);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(on(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var _,b,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(b=_);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(pt(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,_){this._map._fireDOMEvent(h,_||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var _=h.next,b=h.prev;if(_)_.prev=b;else return;b?b.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var _=h.next,b=h.prev;if(b)b.next=_;else return;_?_.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Fi(o){return st.canvas?new Cl(o):null}var Ws=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),m0={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hs.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Ws("shape");pt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Ws("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Qt(h),o.removeInteractiveTarget(h),delete this._layers[c(o)]},_updateStyle:function(o){var h=o._stroke,_=o._fill,b=o.options,E=o._container;E.stroked=!!b.stroke,E.filled=!!b.fill,b.stroke?(h||(h=o._stroke=Ws("stroke")),E.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=A(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(E.removeChild(h),o._stroke=null),b.fill?(_||(_=o._fill=Ws("fill")),E.appendChild(_),_.color=b.fillColor||b.color,_.opacity=b.fillOpacity):_&&(E.removeChild(_),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),_=Math.round(o._radius),b=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+b+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Li(o._container)},_bringToBack:function(o){zr(o._container)}},$a=st.vml?Ws:ct,zo=Hs.extend({_initContainer:function(){this._container=$a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hs.prototype._update.call(this);var o=this._bounds,h=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),Vt(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=$a("path");o.options.className&&pt(h,o.options.className),o.options.interactive&&pt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Qt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,_=o.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,at(o._parts,h))},_updateCircle:function(o){var h=o._point,_=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||_,E="a"+_+","+b+" 0 1,0 ",z=o._empty()?"M0 0":"M"+(h.x-_)+","+h.y+E+_*2+",0 "+E+-_*2+",0 ";this._setPath(o,z)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Li(o._path)},_bringToBack:function(o){zr(o._path)}});st.vml&&zo.include(m0);function Ui(o){return st.svg||st.vml?new zo(o):null}Ct.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Fi(o)||Ui(o)}});var ho=Ti.extend({initialize:function(o,h){Ti.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ue(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function g0(o,h){return new ho(o,h)}zo.create=$a,zo.pointsToPath=at,Ur.geometryToLayer=li,Ur.coordsToLatLng=cu,Ur.coordsToLatLngs=fu,Ur.latLngToCoords=Ts,Ur.latLngsToCoords=hu,Ur.getFeature=qs,Ur.asFeature=ks,Ct.mergeOptions({boxZoom:!0});var wa=St.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),ut(),this._startPoint=this._map.mouseEventToContainerPoint(o),Et(document,{contextmenu:en,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new Q(this._point,this._startPoint),_=h.getSize();Vt(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Qt(this._box),on(this._container,"leaflet-crosshair")),si(),cn(),fn(document,{contextmenu:en,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",wa),Ct.mergeOptions({doubleClickZoom:!0});var Va=St.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,_=h.getZoom(),b=h.options.zoomDelta,E=o.originalEvent.shiftKey?_-b:_+b;h.options.doubleClickZoom==="center"?h.setZoom(E):h.setZoomAround(o.containerPoint,E)}});Ct.addInitHook("addHandler","doubleClickZoom",Va),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Es=St.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Tt(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ue(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),_=this._initialWorldOffset,b=this._draggable._newPos.x,E=(b-h+_)%o+h-_,z=(b+h+_)%o-h-_,ee=Math.abs(E+_)<Math.abs(z+_)?E:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(o){var h=this._map,_=h.options,b=!_.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),b)h.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,ee=_.easeLinearity,_e=E.multiplyBy(ee/z),we=_e.distanceTo([0,0]),Me=Math.min(_.inertiaMaxSpeed,we),Je=_e.multiplyBy(Me/we),_t=Me/(_.inertiaDeceleration*ee),Wt=Je.multiplyBy(-_t/2).round();!Wt.x&&!Wt.y?h.fire("moveend"):(Wt=h._limitOffset(Wt,h.options.maxBounds),V(function(){h.panBy(Wt,{duration:_t,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Es),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _0=St.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Et(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,_=o.scrollTop||h.scrollTop,b=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},_=this.keyCodes,b,E;for(b=0,E=_.left.length;b<E;b++)h[_.left[b]]=[-1*o,0];for(b=0,E=_.right.length;b<E;b++)h[_.right[b]]=[o,0];for(b=0,E=_.down.length;b<E;b++)h[_.down[b]]=[0,o];for(b=0,E=_.up.length;b<E;b++)h[_.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},_=this.keyCodes,b,E;for(b=0,E=_.zoomIn.length;b<E;b++)h[_.zoomIn[b]]=o;for(b=0,E=_.zoomOut.length;b<E;b++)h[_.zoomOut[b]]=-o},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,_=this._map,b;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(b=this._panKeys[h],o.shiftKey&&(b=Z(b).multiplyBy(3)),_.options.maxBounds&&(b=_._limitOffset(Z(b),_.options.maxBounds)),_.options.worldCopyJump){var E=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(b)));_.panTo(E)}else _.panBy(b)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;en(o)}}});Ct.addInitHook("addHandler","keyboard",_0),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pu=St.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=xi(o),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),b),en(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,z=_?Math.ceil(E/_)*_:E,ee=o._limitZoom(h+(this._delta>0?z:-z))-h;this._delta=0,this._startTime=null,ee&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+ee):o.setZoomAround(this._lastMousePos,h+ee))}});Ct.addInitHook("addHandler","scrollWheelZoom",pu);var v0=600;Ct.mergeOptions({tapHold:st.touchNative&&st.safari&&st.mobile,tapTolerance:15});var po=St.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new fe(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",Bt),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),v0),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){fn(document,"touchend",Bt),fn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new fe(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});Ct.addInitHook("addHandler","tapHold",po),Ct.mergeOptions({touchZoom:st.touch,bounceAtZoomLimits:!0});var Al=St.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(b)._divideBy(2))),this._startDist=_.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),Bt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]),E=_.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(E,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&E<1||this._zoom>h.getMaxZoom()&&E>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var z=_._add(b)._divideBy(2)._subtract(this._centerPoint);if(E===1&&z.x===0&&z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var ee=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(ee,this,!0),Bt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Al),Ct.BoxZoom=wa,Ct.DoubleClickZoom=Va,Ct.Drag=Es,Ct.Keyboard=_0,Ct.ScrollWheelZoom=pu,Ct.TapHold=po,Ct.TouchZoom=Al,n.Bounds=Q,n.Browser=st,n.CRS=ke,n.Canvas=Cl,n.Circle=Do,n.CircleMarker=uu,n.Class=ue,n.Control=Yr,n.DivIcon=Bo,n.DivOverlay=_r,n.DomEvent=dl,n.DomUtil=Oo,n.Draggable=Tt,n.Evented=se,n.FeatureGroup=rs,n.GeoJSON=Ur,n.GridLayer=_n,n.Handler=St,n.Icon=Us,n.ImageOverlay=Ze,n.LatLng=De,n.LatLngBounds=Ne,n.Layer=Nn,n.LayerGroup=Ha,n.LineUtil=_a,n.Map=Ct,n.Marker=lu,n.Mixin=zn,n.Path=Wa,n.Point=fe,n.PolyUtil=xs,n.Polygon=Ti,n.Polyline=zi,n.Popup=ui,n.PosAnimation=pl,n.Projection=hc,n.Rectangle=ho,n.Renderer=Hs,n.SVG=zo,n.SVGOverlay=kn,n.TileLayer=ya,n.Tooltip=kl,n.Transformation=Le,n.Util=me,n.VideoOverlay=dn,n.bind=a,n.bounds=he,n.canvas=Fi,n.circle=Ga,n.circleMarker=co,n.control=Di,n.divIcon=du,n.extend=i,n.featureGroup=d0,n.geoJSON=Se,n.geoJson=xe,n.gridLayer=El,n.icon=dc,n.imageOverlay=Nt,n.latLng=Pe,n.latLngBounds=Ue,n.layerGroup=lo,n.map=gr,n.marker=va,n.point=Z,n.polygon=yf,n.polyline=vf,n.popup=Tl,n.rectangle=g0,n.setOptions=S,n.stamp=c,n.svg=Ui,n.svgOverlay=mc,n.tileLayer=Ml,n.tooltip=fo,n.transformation=be,n.version=r,n.videoOverlay=Nr;var is=window.L;n.noConflict=function(){return window.L=is,this},window.L=n})})(b3,b3.exports);var Qhe=b3.exports;const Ca=BI(Qhe);function YT(t,e,n){var r=(e-n)/57.29578,i=t/57.29578,s=1+35786/6378.16,a=s*Math.cos(i)*Math.cos(r)-1,l=s*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/l);return c}function ede(t,e,n){var r=(e-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(t/57.29578));return t<0&&(i=i-180),i<0&&(i=i+360),i}function kd(t,{title:e,tickSize:n=6,width:r=320,height:i=44+n,marginTop:s=18,marginRight:a=0,marginBottom:l=16+n,marginLeft:c=0,ticks:f=r/64,tickFormat:p,tickValues:m}={}){function g(I,R=256){const k=document.createElement("canvas");k.width=R,k.height=1;const A=k.getContext("2d");for(let C=0;C<R;++C)A.fillStyle=I(C/(R-1)),A.fillRect(C,0,1,1);return k}const y=jH("svg").attr("width",r).attr("height",i).attr("viewBox",[0,0,r,i]).style("overflow","visible").style("display","block");let w=I=>I.selectAll(".tick line").attr("y1",s+l-i),S;if(t.interpolate){const I=Math.min(t.domain().length,t.range().length);S=t.copy().rangeRound(Da(Zc(c,r-a),I)),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.copy().domain(Da(Zc(0,1),I))).toDataURL())}else if(t.interpolator){if(S=Object.assign(t.copy().interpolator(Zp(c,r-a)),{range(){return[c,r-a]}}),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.interpolator()).toDataURL()),!S.ticks){if(m===void 0){const I=Math.round(f+1);m=ea(I).map(R=>rp(t.domain(),R/(I-1)))}typeof p!="function"&&(p=jn(p===void 0?",f":p))}}else if(t.invertExtent){const I=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),R=p===void 0?k=>k:typeof p=="string"?jn(p):p;S=W_().domain([-1,t.range().length-1]).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.range()).join("rect").attr("x",(k,A)=>S(A-1)).attr("y",s).attr("width",(k,A)=>S(A)-S(A-1)).attr("height",i-s-l).attr("fill",k=>k),m=ea(I.length),p=k=>R(I[k],k)}else S=Kp().domain(t.domain()).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.domain()).join("rect").attr("x",S).attr("y",s).attr("width",Math.max(0,S.bandwidth()-1)).attr("height",i-s-l).attr("fill",t),w=()=>{};return y.append("g").attr("transform",`translate(0,${i-l})`).call(yk(S).ticks(f,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(n).tickValues(m)).call(w).call(I=>I.select(".domain").remove()).call(I=>I.append("text").attr("x",c).attr("y",s+l-i-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(e)),y.node()}const tde="/assets/2909667-1913dcd7.png";function jT(t){return Object.prototype.toString.call(t)==="[object Date]"}function w3(t,e,n,r){if(typeof n=="number"||jT(n)){const i=r-n,s=(n-e)/(t.dt||1/60),a=t.opts.stiffness*i,l=t.opts.damping*s,c=(a-l)*t.inv_mass,f=(s+c)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,jT(n)?new Date(n.getTime()+f):n+f)}else{if(Array.isArray(n))return n.map((i,s)=>w3(t,e[s],n[s],r[s]));if(typeof n=="object"){const i={};for(const s in n)i[s]=w3(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function nde(t,e={}){const n=w2(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e;let a,l,c,f=t,p=t,m=1,g=0,y=!1;function w(I,R={}){p=I;const k=c={};return t==null||R.hard||S.stiffness>=1&&S.damping>=1?(y=!0,a=z8(),f=I,n.set(t=p),Promise.resolve()):(R.soft&&(g=1/((R.soft===!0?.5:+R.soft)*60),m=0),l||(a=z8(),y=!1,l=mU(A=>{if(y)return y=!1,l=null,!1;m=Math.min(m+g,1);const C={inv_mass:m,opts:S,settled:!0,dt:(A-a)*60/1e3},N=w3(C,f,t,p);return a=A,f=t,n.set(t=N),C.settled&&(l=null),!C.settled})),new Promise(A=>{l.promise.then(()=>{k===c&&A()})}))}const S={set:w,update:(I,R)=>w(I(p,t),R),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return S}const{document:xy}=gU;function KT(t,e,n){const r=t.slice();return r[182]=e[n],r[183]=e,r[184]=n,r}function XT(t){let e,n,r=jn("4.2~s")(t[59]*t[21])+"",i,s,a,l,c,f,p,m=(t[59]*t[21]).toFixed(0)+"",g,y,w,S,I,R=t[59].toFixed(0)+"",k,A,C=(t[59]*t[21]).toFixed(0)+"",N,D,F,W;return{c(){e=Y("div"),n=Y("div"),i=Ce(r),s=ve(),a=Y("div"),l=Ce(t[53]),c=Ce(` Projected IMT BS (6GHz)
            `),f=Y("pre"),p=Ce("("),g=Ce(m),y=Ce(")"),w=ve(),S=Y("h5"),I=Ce("(MidBand:"),k=Ce(R),A=Ce(",6Hz:"),N=Ce(C),D=Ce(")-**(>"),F=Ce(t[19]),W=Ce(")"),H(n,"class","value"),H(S,"class","center aligned"),H(a,"class","label"),H(e,"class","blue statistic")},m($,X){vt($,e,X),P(e,n),P(n,i),P(e,s),P(e,a),P(a,l),P(a,c),P(a,f),P(f,p),P(f,g),P(f,y),P(a,w),P(a,S),P(S,I),P(S,k),P(S,A),P(S,N),P(S,D),P(S,F),P(S,W)},p($,X){X[0]&2097152|X[1]&268435456&&r!==(r=jn("4.2~s")($[59]*$[21])+"")&&bt(i,r),X[1]&4194304&&bt(l,$[53]),X[0]&2097152|X[1]&268435456&&m!==(m=($[59]*$[21]).toFixed(0)+"")&&bt(g,m),X[1]&268435456&&R!==(R=$[59].toFixed(0)+"")&&bt(k,R),X[0]&2097152|X[1]&268435456&&C!==(C=($[59]*$[21]).toFixed(0)+"")&&bt(N,C),X[0]&524288&&bt(F,$[19])},d($){$&&ht(e)}}}function JT(t){let e;return{c(){e=Y("p"),e.textContent="Empty"},m(n,r){vt(n,e,r)},p:Rn,d(n){n&&ht(e)}}}function QT(t){let e,n=t[182].Country+"",r,i,s=jn("3.2f")(t[182].Object.ActivityFactor)+"",a,l,c,f=jn("2.3s")(t[182].Object.area)+"",p,m,g,y,w,S=jn("2.3s")(t[182].stats.TotalBS)+"",I,R,k,A,C,N,D,F;function W(){t[98].call(k,t[184])}function $(){t[99].call(C,t[184])}return{c(){e=Y("div"),r=Ce(n),i=Ce(": RaRb Scale : ("),a=Ce(s),l=Ce(`) |
          `),c=Y("a"),p=Ce(f),m=Ce(" sqkm"),g=ve(),y=Y("a"),w=Ce("#BS "),I=Ce(S),R=ve(),k=Y("input"),A=ve(),C=Y("input"),N=ve(),H(c,"class","ui tag label"),H(y,"class","ui red tag label"),H(k,"type","range"),H(k,"step",".1"),H(k,"min","0"),H(k,"max","1"),H(C,"type","number"),H(C,"min","0"),H(C,"max","1"),H(C,"step",".1"),$i(C,"width","56px"),H(e,"class","column")},m(X,V){vt(X,e,V),P(e,r),P(e,i),P(e,a),P(e,l),P(e,c),P(c,p),P(c,m),P(e,g),P(e,y),P(y,w),P(y,I),P(e,R),P(e,k),dt(k,t[10][t[184]].Object.ActivityFactor),P(e,A),P(e,C),dt(C,t[10][t[184]].Object.ActivityFactor),P(e,N),D||(F=[je(k,"change",W),je(k,"input",W),je(C,"input",$)],D=!0)},p(X,V){t=X,V[0]&1024&&n!==(n=t[182].Country+"")&&bt(r,n),V[0]&1024&&s!==(s=jn("3.2f")(t[182].Object.ActivityFactor)+"")&&bt(a,s),V[0]&1024&&f!==(f=jn("2.3s")(t[182].Object.area)+"")&&bt(p,f),V[0]&1024&&S!==(S=jn("2.3s")(t[182].stats.TotalBS)+"")&&bt(I,S),V[0]&1024&&dt(k,t[10][t[184]].Object.ActivityFactor),V[0]&1024&&Yt(C.value)!==t[10][t[184]].Object.ActivityFactor&&dt(C,t[10][t[184]].Object.ActivityFactor)},d(X){X&&ht(e),D=!1,sl(F)}}}function ek(t){let e,n,r;return{c(){e=Y("div")},m(i,s){vt(i,e,s),n||(r=S3(t[68].call(null,e)),n=!0)},p:Rn,d(i){i&&ht(e),n=!1,r()}}}function rde(t){let e,n,r,i,s,a,l=(t[23]!=null?JSON.stringify(t[23].SatelliteBeam):"mapdata")+"",c;return{c(){e=Y("div"),n=Ce(t[53]),r=ve(),i=Y("small"),s=Y("em"),a=Ce("Reference : "),c=Ce(l),H(e,"slot","header")},m(f,p){vt(f,e,p),P(e,n),P(e,r),P(e,i),P(i,s),P(s,a),P(s,c)},p(f,p){p[1]&4194304&&bt(n,f[53]),p[0]&8388608&&l!==(l=(f[23]!=null?JSON.stringify(f[23].SatelliteBeam):"mapdata")+"")&&bt(c,l)},d(f){f&&ht(e)}}}function ide(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,R,k,A,C,N,D,F,W,$,X,V,te,me,ue,ie,ge,se=t[15].toFixed(0)+"",fe,oe,Z,Q,he,Ne=jn("4.2~s")(t[16])+"",Ue,De,Pe,ke,Ee,pe,Ae=t[16].toFixed(0)+"",Le,be,Ke,qe,ct=t[17].toFixed(0)+"",at,tt,kt=t[18].toFixed(0)+"",nt,bn,Ft,mn,Gn,Bn=jn("4.2~s")(t[47])+"",$n,ot,jt,Vn,er,di,rr=t[47].toFixed(0)+"",tr,Or,Xn,mt,an,Ir=t[14].toFixed(1)+"",ca,Rr,fa,pi,An,es,Ut=(t[14]-10.5).toFixed(1)+"",Ri,Ua,Sr,ps,Os,ha,ri,mi,ms=(t[34]==null?"???":t[34][2].toFixed(1))+"",pr,st,Tr,gs,Pr,Dr,kr,Ds,Pn=(t[34]!=null?t[34][0].toFixed(1):"???")+"",_s,gi,ts,ns,vs,Zn,da,mr=(t[34]!=null?t[34][1].toFixed(1):"???")+"",ii,Vr,ys,Pi,Ni,Br,Ht,wi,bs=(t[45]==null?"???":t[45].toFixed(1))+"",_i,Kt,Qt,gn,Li,zr,ur,pt,on=(t[33]!=null?t[33][0].I.toFixed(2):"???")+"",ir,Oi,Sn,ws,nr,Er,Vt,Mr=(t[33]!=null?t[33][1].I.toFixed(2):"???")+"",Yn,si,Fr,Ge,ut,cn,Xe=t[10].length+"",cr,No,Lo,Bs,ul,Oo,Et,ai,fn,cl,io,Zr,zs,Fs,fl,pa,Bt,en,ou,hl,cc,xi,so,dl,pl,Ct,gr,Yr,Di,ml,gl,Cr,re,Te,ze,$e,xt,yt,St,zn,In,Tt,Mn,hn,ln,xs,Tn,Ss,_l,ma,vl,ga,f0,yl,bl,oi,qa,wl,Bi,fc,Si,_a,Ar,ao,hc,xl,h0,oo,Nn,Ha,lo,rs,d0,Us,dc,Sl,uo,lu,va,Wa=t[58],uu,co,Do,Ga,zi,vf,Ti,yf,Ur,li,pc,cu,fu,Ts,hu,qs,ks,ce,Se,xe,Ze,Nt,dn,Nr,kn,mc,_r,ui,Tl,kl,fo,Bo,du,_n,El,ya,Ml,ba,p0,Hs,Cl,Fi,Ws,m0,$a,zo,Ui,ho,g0,wa,Va,Es,_0,pu=(t[26]==null?"...":t[22].length)+"",v0,po,Al,is,o,h,_,b,E,z,ee,_e,we,Me,Je,_t,Wt,sr,ft,jr,Kr;function Gs(ne){t[81](ne)}function jh(ne){t[82](ne)}function Kh(ne){t[83](ne)}function Xh(ne){t[84](ne)}function bf(ne){t[85](ne)}function Jh(ne){t[86](ne)}function mu(ne){t[87](ne)}function ar(ne){t[88](ne)}function gu(ne){t[89](ne)}function U(ne){t[90](ne)}function Il(ne){t[91](ne)}function gc(ne){t[92](ne)}function qi(ne){t[93](ne)}function tn(ne){t[94](ne)}function Qh(ne){t[95](ne)}function K2(ne){t[96](ne)}let ki={};t[4]!==void 0&&(ki.satAngle=t[4]),t[44]!==void 0&&(ki.HideAllInspector=t[44]),t[21]!==void 0&&(ki.MidBandTo6GHzFactor=t[21]),t[57]!==void 0&&(ki.hasFSSPattern=t[57]),t[30]!==void 0&&(ki.UseFootprint=t[30]),t[31]!==void 0&&(ki.factor=t[31]),t[48]!==void 0&&(ki.hasIMTgrid=t[48]),t[50]!==void 0&&(ki.Raindx=t[50]),t[51]!==void 0&&(ki.Rbindx=t[51]),t[3]!==void 0&&(ki.SatRxGain=t[3]),t[2]!==void 0&&(ki.FSSNoiseTemp=t[2]),t[42]!==void 0&&(ki.EdgeMode=t[42]),t[60]!==void 0&&(ki.orbitrange=t[60]),t[12]!==void 0&&(ki.ApplyEIRPMask=t[12]),t[11]!==void 0&&(ki.MASKOffset=t[11]),t[20]!==void 0&&(ki.EnableLowElevationThreshold=t[20]),s=new jhe({props:ki}),Lt.push(()=>On(s,"satAngle",Gs)),Lt.push(()=>On(s,"HideAllInspector",jh)),Lt.push(()=>On(s,"MidBandTo6GHzFactor",Kh)),Lt.push(()=>On(s,"hasFSSPattern",Xh)),Lt.push(()=>On(s,"UseFootprint",bf)),Lt.push(()=>On(s,"factor",Jh)),Lt.push(()=>On(s,"hasIMTgrid",mu)),Lt.push(()=>On(s,"Raindx",ar)),Lt.push(()=>On(s,"Rbindx",gu)),Lt.push(()=>On(s,"SatRxGain",U)),Lt.push(()=>On(s,"FSSNoiseTemp",Il)),Lt.push(()=>On(s,"EdgeMode",gc)),Lt.push(()=>On(s,"orbitrange",qi)),Lt.push(()=>On(s,"ApplyEIRPMask",tn)),Lt.push(()=>On(s,"MASKOffset",Qh)),Lt.push(()=>On(s,"EnableLowElevationThreshold",K2)),t[97](s);let Xr=t[54]&&XT(t),Fo=t[10],ss=[];for(let ne=0;ne<Fo.length;ne+=1)ss[ne]=QT(KT(t,Fo,ne));let as=null;Fo.length||(as=JT());function X2(ne){t[100](ne)}let E1={type:"radio",data:["None","Elevation","binID"],opts:{label:"Globe Color Layer"}};t[27]!==void 0&&(E1.value=t[27]),fn=new AS({props:E1}),Lt.push(()=>On(fn,"value",X2));function Uo(ne){t[104](ne)}let M1={type:"radio",data:["IMT Cell Grid","Elevation","FSSGain","IbyN","Country"],opts:{label:"Map Color Layer"}};t[39]!==void 0&&(M1.value=t[39]),ze=new AS({props:M1}),Lt.push(()=>On(ze,"value",Uo));let Rl=ek(t);function J2(ne){t[113](ne)}function Q2(ne){t[114](ne)}function ev(ne){t[115](ne)}function qo(ne){t[116](ne)}function tv(ne){t[117](ne)}let _c={reference:t[52],$$slots:{header:[rde]},$$scope:{ctx:t}};t[40]!==void 0&&(_c.showModal=t[40]),t[3]!==void 0&&(_c.SatRxGain=t[3]),t[4]!==void 0&&(_c.satAngle=t[4]),t[55]!==void 0&&(_c.SatelliteBeam=t[55]),t[29]!==void 0&&(_c.defaultFootprint=t[29]),_r=new rue({props:_c}),Lt.push(()=>On(_r,"showModal",J2)),Lt.push(()=>On(_r,"SatRxGain",Q2)),Lt.push(()=>On(_r,"satAngle",ev)),Lt.push(()=>On(_r,"SatelliteBeam",qo)),Lt.push(()=>On(_r,"defaultFootprint",tv)),t[118](_r);function nv(ne){t[121](ne)}function rv(ne){t[122](ne)}let ed={showModal:t[40],satAngle:t[4],cr:t[70],ApplyEIRPMask:t[12],stats:t[32],factor:t[31],Raindx:t[50],Rbindx:t[51],N0:t[14],totalI:t[33],SatGainScale:t[61],MASKOffset:t[11]};t[35]!==void 0&&(ed.binnedData=t[35]),t[0]!==void 0&&(ed.gainloss=t[0]),ba=new aue({props:ed}),Lt.push(()=>On(ba,"binnedData",nv)),Lt.push(()=>On(ba,"gainloss",rv));function _u(ne){t[126](ne)}function iv(ne){t[127](ne)}function sv(ne){t[129](ne)}let Ms={};t[0]!==void 0&&(Ms.gainloss=t[0]),t[41]!==void 0&&(Ms.exclusionzone=t[41]),t[38]!==void 0&&(Ms.logger=t[38]),is=new Zle({props:Ms}),Lt.push(()=>On(is,"gainloss",_u)),Lt.push(()=>On(is,"exclusionzone",iv)),t[128](is),Lt.push(()=>On(is,"logger",sv));function av(ne){t[130](ne)}function ov(ne){t[131](ne)}function lv(ne){t[132](ne)}let wf={};t[25]!==void 0&&(wf.countries=t[25]),t[23]!==void 0&&(wf.mapData=t[23]),t[38]!==void 0&&(wf.logger=t[38]),E=new Jle({props:wf}),Lt.push(()=>On(E,"countries",av)),Lt.push(()=>On(E,"mapData",ov)),Lt.push(()=>On(E,"logger",lv)),t[133](E);function uv(ne){t[135](ne)}function C1(ne){t[136](ne)}let xf={};return t[44]!==void 0&&(xf.HideAllInspector=t[44]),t[64]!==void 0&&(xf.statusbox=t[64]),Me=new Jhe({props:xf}),t[134](Me),Lt.push(()=>On(Me,"HideAllInspector",uv)),Lt.push(()=>On(Me,"statusbox",C1)),{c(){e=Y("link"),n=Y("link"),r=ve(),i=Y("main"),Bl(s.$$.fragment),D=ve(),F=Y("div"),W=Y("div"),$=Y("div"),X=Y("div"),V=Ce(t[46]),te=ve(),me=Y("div"),ue=Ce(`Total Area
          `),ie=Y("pre"),ge=Ce(" ("),fe=Ce(se),oe=Ce(") sqkm"),Z=ve(),Q=Y("div"),he=Y("div"),Ue=Ce(Ne),De=ve(),Pe=Y("div"),ke=Ce(`Total BS
          `),Ee=Y("pre"),pe=Ce("("),Le=Ce(Ae),be=Ce(")"),Ke=ve(),qe=Y("h5"),at=Ce(ct),tt=Ce(","),nt=Ce(kt),bn=ve(),Xr&&Xr.c(),Ft=ve(),mn=Y("div"),Gn=Y("div"),$n=Ce(Bn),ot=ve(),jt=Y("div"),Vn=Ce(`Active BS
          `),er=Y("pre"),di=Ce("("),tr=Ce(rr),Or=Ce(")"),Xn=ve(),mt=Y("div"),an=Y("div"),ca=Ce(Ir),Rr=ve(),fa=Y("div"),fa.innerHTML=`Noise
          <pre>dBm</pre>`,pi=ve(),An=Y("div"),es=Y("div"),Ri=Ce(Ut),Ua=ve(),Sr=Y("div"),Sr.innerHTML=`Allowed Interference
          <pre>dBm</pre>`,ps=ve(),Os=Y("hr"),ha=ve(),ri=Y("div"),mi=Y("div"),pr=Ce(ms),st=ve(),Tr=Y("div"),Tr.innerHTML=`I/N
          <pre>dB</pre>`,Pr=ve(),Dr=Y("div"),kr=Y("a"),Ds=Ce("Urban : "),_s=Ce(Pn),gi=Ce(" dBm"),ts=ve(),ns=Y("br"),vs=ve(),Zn=Y("a"),da=Ce("SubUrban : "),ii=Ce(mr),Vr=Ce(`
          dBm`),ys=ve(),Pi=Y("div"),Ni=Y("div"),Br=Y("i"),wi=ve(),_i=Ce(bs),Kt=ve(),Qt=Y("div"),Qt.innerHTML=`Aggr. Interference
          <pre>dBm</pre>`,Li=ve(),zr=Y("div"),ur=Y("a"),pt=Ce("Urban : "),ir=Ce(on),Oi=Ce(" dBm"),Sn=ve(),ws=Y("br"),nr=ve(),Er=Y("a"),Vt=Ce("SubUrban : "),Yn=Ce(Mr),si=Ce(" dBm"),Fr=ve(),Ge=Y("div"),ut=Y("h1"),cn=Ce("Country Stats ("),cr=Ce(Xe),No=Ce(")"),Lo=ve(),Bs=Y("div");for(let ne=0;ne<ss.length;ne+=1)ss[ne].c();as&&as.c(),ul=ve(),Oo=Y("div"),Et=Y("div"),ai=Y("div"),Bl(fn.$$.fragment),io=ve(),Zr=Y("div"),zs=Y("button"),Fs=Y("i"),fl=Ce(`
            Footprint`),Bt=ve(),en=Y("label"),ou=Ce("Satellite Long : "),hl=Ce(t[4]),cc=ve(),xi=Y("input"),pl=ve(),Ct=Y("input"),Di=ve(),ml=Y("br"),gl=ve(),Cr=Y("a"),Cr.textContent="ITU SNS Website",re=ve(),Te=Y("div"),Bl(ze.$$.fragment),xt=ve(),yt=Y("label"),St=Ce("IbN Min : "),zn=Ce(t[5]),In=ve(),Tt=Y("input"),Mn=ve(),hn=Y("input"),ln=ve(),xs=Y("label"),Tn=Ce("IbN Max : "),Ss=Ce(t[6]),_l=ve(),ma=Y("input"),vl=ve(),ga=Y("input"),f0=ve(),yl=Y("button"),yl.innerHTML=`<i class="redo icon"></i>
          Refresh`,bl=ve(),oi=Y("div"),qa=Y("div"),qa.innerHTML='<i class="map icon"></i> Map Views',wl=ve(),Bi=Y("hr"),fc=ve(),Si=Y("div"),_a=Y("div"),Ar=Y("div"),ao=Y("button"),hc=Ce("Evaluate"),h0=ve(),oo=Y("div"),Nn=Y("input"),Ha=ve(),lo=Y("label"),lo.textContent="Exclude Zone",d0=ve(),Us=Y("div"),dc=Y("p"),dc.textContent="..status..",Sl=ve(),uo=Y("progress"),lu=ve(),va=Y("div"),Rl.c(),uu=ve(),co=Y("div"),Do=Y("label"),Ga=Ce("Rotate View: "),zi=Ce(t[7]),vf=ve(),Ti=Y("input"),yf=ve(),Ur=Y("div"),li=Y("label"),pc=Ce("Tilt View: "),cu=Ce(t[8]),fu=ve(),Ts=Y("input"),hu=ve(),qs=Y("div"),ks=Y("label"),ce=Ce("Zoom Globe : "),Se=Ce(t[9]),xe=ve(),Ze=Y("input"),Nt=ve(),dn=Y("div"),Nr=ve(),kn=Y("div"),kn.innerHTML=`<div class="ui segment"><div id="legendbox"></div> 
          <svg id="svggrid"></svg></div>`,mc=ve(),Bl(_r.$$.fragment),_n=ve(),El=Y("div"),ya=Y("div"),ya.innerHTML='<i class="graph icon"></i> Plot Results',Ml=ve(),Bl(ba.$$.fragment),Cl=ve(),Fi=Y("div"),Ws=Y("div"),Ws.innerHTML='<i class="asterisk icon"></i> Antenna Gains',m0=ve(),$a=Y("div"),zo=ve(),Ui=Y("div"),ho=Y("div"),ho.innerHTML='<i class="file alternate icon"></i> Files',g0=ve(),wa=Y("button"),wa.textContent="Reload Files",Va=ve(),Es=Y("button"),_0=Ce("selectGrid : "),v0=Ce(pu),Al=ve(),Bl(is.$$.fragment),b=ve(),Bl(E.$$.fragment),we=ve(),Bl(Me.$$.fragment),Wt=ve(),sr=Y("div"),xy.title="IMT interference to FSS Analysis 2",H(e,"rel","stylesheet"),H(e,"href","../static/css/semantic.min.css"),H(n,"rel","stylesheet"),H(n,"href","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"),H(X,"class","value"),H(me,"class","label"),H($,"class","statistic"),H(he,"class","value"),H(qe,"class","center aligned"),H(Pe,"class","label"),H(Q,"class","statistic"),H(Gn,"class","value"),H(jt,"class","label"),H(mn,"class","statistic"),H(an,"class","value"),H(fa,"class","label"),H(mt,"class","grey inverted statistic"),H(es,"class","value"),H(Sr,"class","label"),H(An,"class","green statistic"),H(mi,"class","value"),H(Tr,"class","label"),H(ri,"class",gs=(t[45]-t[14]>=-10.5?"red":"green")+" statistic"),H(kr,"class","ui red label left tag small"),H(Zn,"class","ui grey label left tag small"),H(Br,"class",Ht="thumbs "+(t[45]==null?"":t[45]<t[14]-10.5?"circle up":"circle down")+" icon"),H(Ni,"class","value"),H(Qt,"class","label"),H(Pi,"class",gn=(t[45]-t[14]>=-10.5?"red":"green")+" statistic"),H(ur,"class","ui red label left tag small"),H(Er,"class","ui grey label left tag small"),H(W,"class","ui small statistics"),H(F,"class","ui segment"),H(ut,"class","ui h1"),H(Bs,"id","etc"),H(Bs,"class","ui stackable four column grid"),H(Ge,"class","ui segment blue"),H(Fs,"class","wrench icon"),H(zs,"class",pa="ui primary tiny button icon "+(t[30]?"disabled":"")),H(xi,"type","number"),H(xi,"min",so=t[60][0]),H(xi,"max",dl=t[60][1]),H(xi,"step","0.5"),H(Ct,"type","range"),H(Ct,"min",gr=t[60][0]),H(Ct,"max",Yr=t[60][1]),H(Ct,"step","0.5"),H(Cr,"target","_blank"),H(Cr,"href","https://www.itu.int/online/sns/beamlist.sh?ntc_id=99500259&ie=y&sat_type=G&categ=N&script=&select_list=B&sel_type=&sel_satname=ASIABSS&sat_name=ASIABSS&plan_id=&ntc_nbr="),H(Cr,"title","ITU SNS link"),H(Zr,"class","ui left aligned"),H(ai,"class","column"),H(Tt,"type","number"),H(Tt,"min",-200),H(Tt,"max",0),H(Tt,"step","0.5"),H(hn,"type","range"),H(hn,"min",-200),H(hn,"max",0),H(hn,"step","0.5"),H(ma,"type","number"),H(ma,"min",-200),H(ma,"max",0),H(ma,"step","0.5"),H(ga,"type","range"),H(ga,"min",-200),H(ga,"max",0),H(ga,"step","0.5"),H(yl,"class","ui primary tiny button icon"),H(Te,"class","column"),H(Et,"class","ui two column grid"),H(Oo,"class","ui segment red"),H(qa,"class","ui blue ribbon label"),H(ao,"class",xl="ui button primary "+(t[24]==null||t[24].length==0?"disabled":"")),H(Nn,"type","checkbox"),H(Nn,"id","excludezone"),H(lo,"for","excludezone"),H(oo,"class",rs="ui toggle checkbox "+(t[41]==null?"disabled":"")),H(dc,"id","status"),uo.value=t[65],H(uo,"max",t[49]),H(uo,"class","svelte-12pnrw1"),H(Us,"class","ui orange segment"),H(va,"id","globepts"),H(Ti,"type","range"),H(Ti,"min",-30),H(Ti,"max",130),H(Ti,"step","0.5"),H(co,"class","ui field"),H(Ts,"type","range"),H(Ts,"min",-30),H(Ts,"max",30),H(Ts,"step","0.5"),H(Ur,"class","ui field"),H(Ze,"type","range"),H(Ze,"min",10),H(Ze,"max",100),H(Ze,"step","1"),H(qs,"class","ui field"),H(dn,"id","infobox"),H(dn,"class","ui green inverted segment"),H(Ar,"class","ui segment"),H(_a,"id","Globe"),H(_a,"class","wide eight column"),$i(_a,"padding","0px"),$i(_a,"margin","0px"),$i(_a,"border","0px solid red"),H(kn,"id","GridMap"),H(kn,"class","wide eight column"),H(Si,"class","ui two columns stackable grid"),wo(()=>t[120].call(Si)),H(oi,"class","ui segment raised blue"),H(ya,"class","ui blue ribbon label"),H(El,"class","ui raised segment"),H(Ws,"class","ui blue ribbon label"),H(Fi,"class","ui stacked segment"),H(ho,"class","ui blue ribbon label"),H(wa,"class","ui button small"),H(Es,"class",po="ui label primary "+(t[26]==null?"orange placeholder loading":"green")),$i(Es,"display","inline"),H(Ui,"class","ui tall stacked segment"),H(sr,"id","testing"),$i(sr,"width","500px"),$i(sr,"height","500px"),H(i,"class","ui basic segment")},m(ne,Oe){P(xy.head,e),P(xy.head,n),vt(ne,r,Oe),vt(ne,i,Oe),$o(s,i,null),P(i,D),P(i,F),P(F,W),P(W,$),P($,X),P(X,V),P($,te),P($,me),P(me,ue),P(me,ie),P(ie,ge),P(ie,fe),P(ie,oe),P(W,Z),P(W,Q),P(Q,he),P(he,Ue),P(Q,De),P(Q,Pe),P(Pe,ke),P(Pe,Ee),P(Ee,pe),P(Ee,Le),P(Ee,be),P(Pe,Ke),P(Pe,qe),P(qe,at),P(qe,tt),P(qe,nt),P(W,bn),Xr&&Xr.m(W,null),P(W,Ft),P(W,mn),P(mn,Gn),P(Gn,$n),P(mn,ot),P(mn,jt),P(jt,Vn),P(jt,er),P(er,di),P(er,tr),P(er,Or),P(W,Xn),P(W,mt),P(mt,an),P(an,ca),P(mt,Rr),P(mt,fa),P(W,pi),P(W,An),P(An,es),P(es,Ri),P(An,Ua),P(An,Sr),P(W,ps),P(W,Os),P(W,ha),P(W,ri),P(ri,mi),P(mi,pr),P(ri,st),P(ri,Tr),P(W,Pr),P(W,Dr),P(Dr,kr),P(kr,Ds),P(kr,_s),P(kr,gi),P(Dr,ts),P(Dr,ns),P(Dr,vs),P(Dr,Zn),P(Zn,da),P(Zn,ii),P(Zn,Vr),P(W,ys),P(W,Pi),P(Pi,Ni),P(Ni,Br),P(Ni,wi),P(Ni,_i),P(Pi,Kt),P(Pi,Qt),P(W,Li),P(W,zr),P(zr,ur),P(ur,pt),P(ur,ir),P(ur,Oi),P(zr,Sn),P(zr,ws),P(zr,nr),P(zr,Er),P(Er,Vt),P(Er,Yn),P(Er,si),P(i,Fr),P(i,Ge),P(Ge,ut),P(ut,cn),P(ut,cr),P(ut,No),P(Ge,Lo),P(Ge,Bs);for(let vr=0;vr<ss.length;vr+=1)ss[vr]&&ss[vr].m(Bs,null);as&&as.m(Bs,null),P(i,ul),P(i,Oo),P(Oo,Et),P(Et,ai),$o(fn,ai,null),P(ai,io),P(ai,Zr),P(Zr,zs),P(zs,Fs),P(zs,fl),P(Zr,Bt),P(Zr,en),P(en,ou),P(en,hl),P(Zr,cc),P(Zr,xi),dt(xi,t[4]),P(Zr,pl),P(Zr,Ct),dt(Ct,t[4]),P(Zr,Di),P(Zr,ml),P(Zr,gl),P(Zr,Cr),P(Et,re),P(Et,Te),$o(ze,Te,null),P(Te,xt),P(Te,yt),P(yt,St),P(yt,zn),P(Te,In),P(Te,Tt),dt(Tt,t[5]),P(Te,Mn),P(Te,hn),dt(hn,t[5]),P(Te,ln),P(Te,xs),P(xs,Tn),P(xs,Ss),P(Te,_l),P(Te,ma),dt(ma,t[6]),P(Te,vl),P(Te,ga),dt(ga,t[6]),P(Te,f0),P(Te,yl),P(i,bl),P(i,oi),P(oi,qa),P(oi,wl),P(oi,Bi),P(oi,fc),P(oi,Si),P(Si,_a),P(_a,Ar),P(Ar,ao),P(ao,hc),P(Ar,h0),P(Ar,oo),P(oo,Nn),Nn.checked=t[1],P(oo,Ha),P(oo,lo),P(Ar,d0),P(Ar,Us),P(Us,dc),P(Us,Sl),P(Us,uo),P(Ar,lu),P(Ar,va),Rl.m(va,null),P(Ar,uu),P(Ar,co),P(co,Do),P(Do,Ga),P(Do,zi),P(co,vf),P(co,Ti),dt(Ti,t[7]),P(Ar,yf),P(Ar,Ur),P(Ur,li),P(li,pc),P(li,cu),P(Ur,fu),P(Ur,Ts),dt(Ts,t[8]),P(Ar,hu),P(Ar,qs),P(qs,ks),P(ks,ce),P(ks,Se),P(qs,xe),P(qs,Ze),dt(Ze,t[9]),P(Ar,Nt),P(Ar,dn),P(Si,Nr),P(Si,kn),P(Si,mc),$o(_r,Si,null),t[119](Si),du=ag(Si,t[120].bind(Si)),P(i,_n),P(i,El),P(El,ya),P(El,Ml),$o(ba,El,null),P(i,Cl),P(i,Fi),P(Fi,Ws),P(Fi,m0),P(Fi,$a),t[123]($a),P(i,zo),P(i,Ui),P(Ui,ho),P(Ui,g0),P(Ui,wa),P(Ui,Va),P(Ui,Es),P(Es,_0),P(Es,v0),P(Ui,Al),$o(is,Ui,null),P(Ui,b),$o(E,Ui,null),P(i,we),$o(Me,i,null),P(i,Wt),P(i,sr),ft=!0,jr||(Kr=[je(zs,"click",t[101]),je(xi,"input",t[102]),je(Ct,"change",t[103]),je(Ct,"input",t[103]),je(Tt,"input",t[105]),je(hn,"change",t[106]),je(hn,"input",t[106]),je(ma,"input",t[107]),je(ga,"change",t[108]),je(ga,"input",t[108]),je(yl,"click",t[67]),je(ao,"click",t[69]),je(Nn,"change",t[109]),je(Ti,"change",t[110]),je(Ti,"input",t[110]),je(Ts,"change",t[111]),je(Ts,"input",t[111]),je(Ze,"change",t[112]),je(Ze,"input",t[112]),je(wa,"click",t[124]),je(Es,"click",t[125])],jr=!0)},p(ne,Oe){const vr={};if(!a&&Oe[0]&16&&(a=!0,vr.satAngle=ne[4],Ln(()=>a=!1)),!l&&Oe[1]&8192&&(l=!0,vr.HideAllInspector=ne[44],Ln(()=>l=!1)),!c&&Oe[0]&2097152&&(c=!0,vr.MidBandTo6GHzFactor=ne[21],Ln(()=>c=!1)),!f&&Oe[1]&67108864&&(f=!0,vr.hasFSSPattern=ne[57],Ln(()=>f=!1)),!p&&Oe[0]&1073741824&&(p=!0,vr.UseFootprint=ne[30],Ln(()=>p=!1)),!m&&Oe[1]&1&&(m=!0,vr.factor=ne[31],Ln(()=>m=!1)),!g&&Oe[1]&131072&&(g=!0,vr.hasIMTgrid=ne[48],Ln(()=>g=!1)),!y&&Oe[1]&524288&&(y=!0,vr.Raindx=ne[50],Ln(()=>y=!1)),!w&&Oe[1]&1048576&&(w=!0,vr.Rbindx=ne[51],Ln(()=>w=!1)),!S&&Oe[0]&8&&(S=!0,vr.SatRxGain=ne[3],Ln(()=>S=!1)),!I&&Oe[0]&4&&(I=!0,vr.FSSNoiseTemp=ne[2],Ln(()=>I=!1)),!R&&Oe[1]&2048&&(R=!0,vr.EdgeMode=ne[42],Ln(()=>R=!1)),!k&&Oe[1]&536870912&&(k=!0,vr.orbitrange=ne[60],Ln(()=>k=!1)),!A&&Oe[0]&4096&&(A=!0,vr.ApplyEIRPMask=ne[12],Ln(()=>A=!1)),!C&&Oe[0]&2048&&(C=!0,vr.MASKOffset=ne[11],Ln(()=>C=!1)),!N&&Oe[0]&1048576&&(N=!0,vr.EnableLowElevationThreshold=ne[20],Ln(()=>N=!1)),s.$set(vr),(!ft||Oe[1]&32768)&&bt(V,ne[46]),(!ft||Oe[0]&32768)&&se!==(se=ne[15].toFixed(0)+"")&&bt(fe,se),(!ft||Oe[0]&65536)&&Ne!==(Ne=jn("4.2~s")(ne[16])+"")&&bt(Ue,Ne),(!ft||Oe[0]&65536)&&Ae!==(Ae=ne[16].toFixed(0)+"")&&bt(Le,Ae),(!ft||Oe[0]&131072)&&ct!==(ct=ne[17].toFixed(0)+"")&&bt(at,ct),(!ft||Oe[0]&262144)&&kt!==(kt=ne[18].toFixed(0)+"")&&bt(nt,kt),ne[54]?Xr?Xr.p(ne,Oe):(Xr=XT(ne),Xr.c(),Xr.m(W,Ft)):Xr&&(Xr.d(1),Xr=null),(!ft||Oe[1]&65536)&&Bn!==(Bn=jn("4.2~s")(ne[47])+"")&&bt($n,Bn),(!ft||Oe[1]&65536)&&rr!==(rr=ne[47].toFixed(0)+"")&&bt(tr,rr),(!ft||Oe[0]&16384)&&Ir!==(Ir=ne[14].toFixed(1)+"")&&bt(ca,Ir),(!ft||Oe[0]&16384)&&Ut!==(Ut=(ne[14]-10.5).toFixed(1)+"")&&bt(Ri,Ut),(!ft||Oe[1]&8)&&ms!==(ms=(ne[34]==null?"???":ne[34][2].toFixed(1))+"")&&bt(pr,ms),(!ft||Oe[0]&16384|Oe[1]&16384&&gs!==(gs=(ne[45]-ne[14]>=-10.5?"red":"green")+" statistic"))&&H(ri,"class",gs),(!ft||Oe[1]&8)&&Pn!==(Pn=(ne[34]!=null?ne[34][0].toFixed(1):"???")+"")&&bt(_s,Pn),(!ft||Oe[1]&8)&&mr!==(mr=(ne[34]!=null?ne[34][1].toFixed(1):"???")+"")&&bt(ii,mr),(!ft||Oe[0]&16384|Oe[1]&16384&&Ht!==(Ht="thumbs "+(ne[45]==null?"":ne[45]<ne[14]-10.5?"circle up":"circle down")+" icon"))&&H(Br,"class",Ht),(!ft||Oe[1]&16384)&&bs!==(bs=(ne[45]==null?"???":ne[45].toFixed(1))+"")&&bt(_i,bs),(!ft||Oe[0]&16384|Oe[1]&16384&&gn!==(gn=(ne[45]-ne[14]>=-10.5?"red":"green")+" statistic"))&&H(Pi,"class",gn),(!ft||Oe[1]&4)&&on!==(on=(ne[33]!=null?ne[33][0].I.toFixed(2):"???")+"")&&bt(ir,on),(!ft||Oe[1]&4)&&Mr!==(Mr=(ne[33]!=null?ne[33][1].I.toFixed(2):"???")+"")&&bt(Yn,Mr),(!ft||Oe[0]&1024)&&Xe!==(Xe=ne[10].length+"")&&bt(cr,Xe),Oe[0]&1024){Fo=ne[10];let vi;for(vi=0;vi<Fo.length;vi+=1){const $s=KT(ne,Fo,vi);ss[vi]?ss[vi].p($s,Oe):(ss[vi]=QT($s),ss[vi].c(),ss[vi].m(Bs,null))}for(;vi<ss.length;vi+=1)ss[vi].d(1);ss.length=Fo.length,!Fo.length&&as?as.p(ne,Oe):Fo.length?as&&(as.d(1),as=null):(as=JT(),as.c(),as.m(Bs,null))}const vc={};!cl&&Oe[0]&134217728&&(cl=!0,vc.value=ne[27],Ln(()=>cl=!1)),fn.$set(vc),(!ft||Oe[0]&1073741824&&pa!==(pa="ui primary tiny button icon "+(ne[30]?"disabled":"")))&&H(zs,"class",pa),(!ft||Oe[0]&16)&&bt(hl,ne[4]),(!ft||Oe[1]&536870912&&so!==(so=ne[60][0]))&&H(xi,"min",so),(!ft||Oe[1]&536870912&&dl!==(dl=ne[60][1]))&&H(xi,"max",dl),Oe[0]&16&&Yt(xi.value)!==ne[4]&&dt(xi,ne[4]),(!ft||Oe[1]&536870912&&gr!==(gr=ne[60][0]))&&H(Ct,"min",gr),(!ft||Oe[1]&536870912&&Yr!==(Yr=ne[60][1]))&&H(Ct,"max",Yr),Oe[0]&16&&dt(Ct,ne[4]);const y0={};!$e&&Oe[1]&256&&($e=!0,y0.value=ne[39],Ln(()=>$e=!1)),ze.$set(y0),(!ft||Oe[0]&32)&&bt(zn,ne[5]),Oe[0]&32&&Yt(Tt.value)!==ne[5]&&dt(Tt,ne[5]),Oe[0]&32&&dt(hn,ne[5]),(!ft||Oe[0]&64)&&bt(Ss,ne[6]),Oe[0]&64&&Yt(ma.value)!==ne[6]&&dt(ma,ne[6]),Oe[0]&64&&dt(ga,ne[6]),(!ft||Oe[0]&16777216&&xl!==(xl="ui button primary "+(ne[24]==null||ne[24].length==0?"disabled":"")))&&H(ao,"class",xl),Oe[0]&2&&(Nn.checked=ne[1]),(!ft||Oe[1]&1024&&rs!==(rs="ui toggle checkbox "+(ne[41]==null?"disabled":"")))&&H(oo,"class",rs),(!ft||Oe[2]&8)&&(uo.value=ne[65]),(!ft||Oe[1]&262144)&&H(uo,"max",ne[49]),Oe[1]&134217728&&eo(Wa,Wa=ne[58])?(Rl.d(1),Rl=ek(ne),Rl.c(),Rl.m(va,null)):Rl.p(ne,Oe),(!ft||Oe[0]&128)&&bt(zi,ne[7]),Oe[0]&128&&dt(Ti,ne[7]),(!ft||Oe[0]&256)&&bt(cu,ne[8]),Oe[0]&256&&dt(Ts,ne[8]),(!ft||Oe[0]&512)&&bt(Se,ne[9]),Oe[0]&512&&dt(Ze,ne[9]);const Pl={};Oe[1]&2097152&&(Pl.reference=ne[52]),Oe[0]&8388608|Oe[1]&4194304|Oe[5]&1073741824&&(Pl.$$scope={dirty:Oe,ctx:ne}),!ui&&Oe[1]&512&&(ui=!0,Pl.showModal=ne[40],Ln(()=>ui=!1)),!Tl&&Oe[0]&8&&(Tl=!0,Pl.SatRxGain=ne[3],Ln(()=>Tl=!1)),!kl&&Oe[0]&16&&(kl=!0,Pl.satAngle=ne[4],Ln(()=>kl=!1)),!fo&&Oe[1]&16777216&&(fo=!0,Pl.SatelliteBeam=ne[55],Ln(()=>fo=!1)),!Bo&&Oe[0]&536870912&&(Bo=!0,Pl.defaultFootprint=ne[29],Ln(()=>Bo=!1)),_r.$set(Pl);const os={};Oe[1]&512&&(os.showModal=ne[40]),Oe[0]&16&&(os.satAngle=ne[4]),Oe[0]&4096&&(os.ApplyEIRPMask=ne[12]),Oe[1]&2&&(os.stats=ne[32]),Oe[1]&1&&(os.factor=ne[31]),Oe[1]&524288&&(os.Raindx=ne[50]),Oe[1]&1048576&&(os.Rbindx=ne[51]),Oe[0]&16384&&(os.N0=ne[14]),Oe[1]&4&&(os.totalI=ne[33]),Oe[1]&1073741824&&(os.SatGainScale=ne[61]),Oe[0]&2048&&(os.MASKOffset=ne[11]),!p0&&Oe[1]&16&&(p0=!0,os.binnedData=ne[35],Ln(()=>p0=!1)),!Hs&&Oe[0]&1&&(Hs=!0,os.gainloss=ne[0],Ln(()=>Hs=!1)),ba.$set(os),(!ft||Oe[0]&71303168)&&pu!==(pu=(ne[26]==null?"...":ne[22].length)+"")&&bt(v0,pu),(!ft||Oe[0]&67108864&&po!==(po="ui label primary "+(ne[26]==null?"orange placeholder loading":"green")))&&H(Es,"class",po);const Sf={};!o&&Oe[0]&1&&(o=!0,Sf.gainloss=ne[0],Ln(()=>o=!1)),!h&&Oe[1]&1024&&(h=!0,Sf.exclusionzone=ne[41],Ln(()=>h=!1)),!_&&Oe[1]&128&&(_=!0,Sf.logger=ne[38],Ln(()=>_=!1)),is.$set(Sf);const xa={};!z&&Oe[0]&33554432&&(z=!0,xa.countries=ne[25],Ln(()=>z=!1)),!ee&&Oe[0]&8388608&&(ee=!0,xa.mapData=ne[23],Ln(()=>ee=!1)),!_e&&Oe[1]&128&&(_e=!0,xa.logger=ne[38],Ln(()=>_e=!1)),E.$set(xa);const b0={};!Je&&Oe[1]&8192&&(Je=!0,b0.HideAllInspector=ne[44],Ln(()=>Je=!1)),!_t&&Oe[2]&4&&(_t=!0,b0.statusbox=ne[64],Ln(()=>_t=!1)),Me.$set(b0)},i(ne){ft||(Js(s.$$.fragment,ne),Js(fn.$$.fragment,ne),Js(ze.$$.fragment,ne),Js(_r.$$.fragment,ne),Js(ba.$$.fragment,ne),Js(is.$$.fragment,ne),Js(E.$$.fragment,ne),Js(Me.$$.fragment,ne),ft=!0)},o(ne){Ra(s.$$.fragment,ne),Ra(fn.$$.fragment,ne),Ra(ze.$$.fragment,ne),Ra(_r.$$.fragment,ne),Ra(ba.$$.fragment,ne),Ra(is.$$.fragment,ne),Ra(E.$$.fragment,ne),Ra(Me.$$.fragment,ne),ft=!1},d(ne){ht(e),ht(n),ne&&ht(r),ne&&ht(i),t[97](null),Vo(s),Xr&&Xr.d(),Cc(ss,ne),as&&as.d(),Vo(fn),Vo(ze),Rl.d(ne),t[118](null),Vo(_r),t[119](null),du(),Vo(ba),t[123](null),t[128](null),Vo(is),t[133](null),Vo(E),t[134](null),Vo(Me),jr=!1,sl(Kr)}}}let sde=500;function tk(t){return Math.pow(10,t/10)}function ade(t){return 10*Math.log10(t)}function ode(t,e,n){let r,i;Fc(t,Bp,re=>n(80,r=re)),new L6;let s=!1,a,l,c=!1,f=650,p=20,m=129.5,g=-160,y=-30,w=50,S=0,I=100,R=new Map,k=[],A=!1,C=[32,28,24,24,20,18,17,17],N=!1,D=500,F,W,$,X,V="",te=0,me=0,ue=0,ie=0,ge=0,se=0,fe=!1,oe=!1,Z=.6,Q;const he=nde(0,{stiffness:.1,damping:.25});Fc(t,he,re=>n(65,i=re));let Ne=1,Ue,De,Pe=new Date;Zf(()=>{fa()});let ke,Ee=[],pe,Ae,Le;function be(re){var Te=p;if(nt==null)return alert("No Satellite Footprint selected"),0;var ze=nt.beamtype;switch(ze){case"pointgrid":let zn=Dle(re,nt.features[1]);var $e;return $e=zn.properties,k0(nt[0],re)?($e.distanceToFootprint=zn.properties.distanceToPoint,$e.Gain=zn.properties.FSSRxGain,$e.Mode="INSIDE",$e):($e.distanceToFootprint=zn.properties.distanceToPoint,$e.Gain=zn.properties.FSSRxGain,$e.distanceToFootprint<100?($e.Gain=$e.Gain,$e.Mode="OUTSIDE-EDGE"):$e.distanceToFootprint<500?($e.Gain=$e.Gain-3,$e.Mode="OUTSIDE-EDGE"):($e.Gain=Te-30,$e.Mode="OUTSIDE"),$e);case"shapedbeams":var xt=nt.features[0].properties;if(k0(nt.features[0],re))return{Gain:Te,Mode:"INSIDE"};if(nt.features.length>1){var xt=nt.features[1].properties,yt=k0(nt.features[1],re);if(yt)return{Gain:Te+xt.OffsetGain,Mode:"OUTSIDE-EDGE"};var St=xt.EdgeOffsetGain||0;return{Gain:Te+St,Mode:"OUTSIDE"}}else{var St=xt.EdgeOffsetGain||0;return{Gain:Te+St,Mode:"OUTSIDE"}}}return{Gain:0,Mode:"OUTSIDE"}}let Ke="",qe=[],ct=!1,at,tt,kt,nt,bn={BeamLng:m,BeamLat:8,rx:47,ry:30,theta:43.5},Ft="None",mn={type:"LineString",coordinates:[aq(ea(-180,180,1),Array(360).fill(0))][0]},Gn;function Bn(){console.log("Manual Called 1"),Br()}let $n=null,ot=null,jt,Vn=!1,er,di;function rr(re){return re.append(Xo(di)),Xn(),{destroy(){}}}async function tr(){console.log("PlotGlobe() called");let re=Fn("#Globe");re=re.node();function Te(){if(nt==null)return[];var yt=[];return yt.push(Zo(nt.features[0],{stroke:"blue",strokeOpacity:Ft!="FSSGain"?.5:1,fillOpacity:.1,strokeDasharray:[5,5],pointerEvents:"none",fill:"lightblue"})),yt}let ze=Ee.findIndex(yt=>yt.Country==Le.id)>=0,$e={color:{legend:!0,interpolate:gh,label:"Elevation"}};Ft=="None"&&($e=null),Ft=="Elevation"&&($e.color.type="linear",$e.color.scheme="rainbow",$e.color.domain=[10,90]);let xt=g$().center([w,S]).radius(I)();n(58,di={colorOptions:$e,color:{legend:Ft=="binID",marginLeft:30,label:Ft,nice:!0},padding:20,height:400,projection:{type:"orthographic",rotate:[-w,S],domain:xt},marks:[OI(),DI(),Zo(mn,{stroke:"grey",strokeDasharray:[3,5]}),pe==null?null:Zo(pe,{fill:(yt,St)=>Ft=="None"?yt.properties.selected?"yellow":"lightgrey":"none",fillOpacity:.3,stroke:yt=>qe.includes(yt.properties.UNRegion)?yt.properties.hasIMTgrid?"orange":"lightgreen":"lightgrey",ariaDescription:"worldmap",pointerEvents:"fill",title:yt=>{let St=yt.properties.NAMEen+" - "+yt.properties.UNRegion;return yt.properties.selected?"DeSELECT "+St:"Select "+St}}),l==null||!c?null:Zo(l,{stroke:"yellow",fillOpacity:.5,fill:"red"}),Ae==null?null:Zo(Ae,{stroke:"lightgrey"}),Q==null?null:Zo(Q,{stroke:"lightgrey",strokeOpacity:.1,pointerEvents:"none",fill:yt=>{if(Ft=="binID")return yt.properties.binID;var St=Ds(yt,Ft).color;return yt.properties.Active?St:"black"},fillOpacity:1}),...Te(),ze?Zo(Le,{stroke:"lightgrey",strokeOpacity:1,fillOpacity:1,pointerEvents:"none",fill:"none"}):null,!Vn&&bn!=null?fQ([0],{x:bn.BeamLng,y:bn.BeamLat,fill:"red"}):null,$g([m],{x:m,y:0,fontSize:"2em",fill:"red",textAnchor:"start",alignmentBaseline:"top",text:yt=>""}),$g([m],{x:m,y:0,dy:40,fontSize:"1em",fill:"red",textAnchor:"start",alignmentBaseline:"bottom",text:yt=>yt+"E"})]})}let Or=!1;async function Xn(){kt=Fn("#globepts>div>svg"),console.log("Found my plot ",kt.selectAll("g[aria-description='worldmap']").empty()),kt.selectAll("g[aria-description='worldmap']").attr("pointer-events","all").selectAll("path").datum(re=>({indx:re,selected:pe[re].properties.selected,Country:pe[re].properties.NAMEen,UNRegion:pe[re].properties.UNRegion})).attr("fill",re=>re.selected?"yellow":"white").on("click",async(re,Te)=>{if(Or){console.log("Need to abort.."),Fn("#infobox").text(),Fn("#infobox").attr("style","color:red").text("Wait till process to complete");let ze=Fn(re.target).attr("fill");console.log("Original color was ",ze),Fn(re.target).attr("fill","red").transition().duration(1e3).attr("fill",ze);return}if(!qe.includes(Te.UNRegion)){Fn("#status").text("Country Not allowed !! "+Te.Country,"in Region ",Te.UNRegion),console.log("Not allowed."+Te.NAMEen);return}Te.selected=!Te.selected,n(52,pe[Te.indx].properties.selected=Te.selected,pe),Fn(re.target).transition().duration(1e3).attr("fill",Te.selected?"yellow":"none"),an(Te.Country,Te.selected)})}async function mt(){let re=Ee.map(Te=>Te.Country);Or=!0,ca.postMessage({command:"updateGrid",data:{countries:re,EdgeMode:A}})}async function an(re,Te){R.clear(),n(10,k.length=0,k);let ze=pe.filter(xt=>xt.properties.NAMEen==re)[0];if(Te){var $e={Country:re,Region:"",selected:Te,mapGridIndx:-1};Ee.push($e),n(24,Ee),n(80,r),ze.properties.hasIMTgrid&&n(54,ct=!0)}else{if(n(24,Ee=Ee.filter(xt=>xt.Country!=re)),ze.properties.hasIMTgrid&&n(54,ct=!1),tt==null)return;if(n(26,tt.features=tt.features.filter(xt=>xt.properties.Country!=re&&xt.properties.Country!=""),tt),tt.features.length>0){let xt=0;tt.features.forEach(yt=>{yt.properties.id=xt,xt++}),n(24,Ee=Ee.filter(yt=>yt.Country!=re))}n(24,Ee=Ee.filter(xt=>xt.Country!=re)),Fn("#infobox").text("Removed "+re),Ir()}}async function Ir(){tt!=null&&tt.features.length>0?(n(22,Q=tt.features.filter(re=>{let Te=re.properties.inLand;return c&&(Te=Te&&!k0(l,re.properties.center)),Te})),n(24,Ee),n(80,r),n(59,ps=fr(Q,re=>re.properties.SectorCount)),n(76,pi=jn("2.3s")(fr(Q.map(re=>Tm(re)))/1e6)+" sqkm"),Fn("#infobox").attr("style","color:blue").html(Ee.map(re=>re.Country).join(" , ")+`  : ${pi} : ${nt.name||""}+ IbyN = ${(Tr||0).toFixed(1)} FootPrintArea : ${Gn} sqkm`)):(n(22,Q=[]),console.log(" must be empty",tt)),console.log("updateMyGrid() Completed.. Can render ..."),Br()}let ca,Rr="";async function fa(){ca=new Worker(new URL("/assets/webworker-14a0096f.js",self.location),{type:"module"}),console.log("syncWorker is ready"),ca.onmessage=re=>{var Te=re.data||{type:"general"};switch(Te.meta,Te.type){case"command":Rr=Te.command+" - "+Te.statusType,console.log("Received COMMAND response",Te),Te.command=="updateGrid"&&(Fn("#status").text(Rr).transition().duration(5e3).attr("style","background-color:white").text(Te.statusType),console.log("Status message for updateGrid",Rr,Te),n(26,tt=Te.result),Or=!1,Ir());break;case"status":Or=!0,Te.statusType=="progressbar"?(Rr=`Creating Grid -  ${Te.val} of ${Te.count} (${Te.meta})`,n(49,Ne=Te.count),he.set(Te.val),Fn("#status").attr("style","background-color:yellow").text(Rr)):(Rr=Te.command+" - "+Te.statusType,Fn("#status").attr("style","background-color:white").text(Te.command+" "+Te.meta||" "+Te.statusType));break;default:console.log("Some message from WORKER ",Te)}}}let pi,An;function es(){R.clear(),n(10,k=[]),An.forEach(re=>{let Te=R.get(re.Country)||{area:0,ActivityFactor:1},ze=Te.area+re.areasqkm;R.set(re.Country,{area:ze,ActivityFactor:Te.ActivityFactor})}),R.forEach((re,Te)=>{k.push({Country:Te,Object:re,stats:ms(re)})})}let Ut,Ri=10/12.4;async function Ua(re,Te,ze){Zn!=null?Zn.queueNode(re,Te,ze):console.log("Processing ",re,Te)}let Sr,ps=0,Os=[10,140],ha=Uf([10,90],gh);function ri(re){var Te=a.find(ze=>ze.el==re);return Te!=null?Te.CL+Te.GL+Te.PL:0}function mi(re){var Te=a.find($e=>$e.el==re);if(Te==null)return{UrbanAg:0,SubUrbanAg:0};var ze={UrbanAg:Te.UrbanAg,SubUrbanAg:Te.SubUrbanAg};return ze.UrbanAg+=N?Te.UrbanOffset:0,ze.SubUrbanAg+=N?Te.SubUrbanOffset:0,ze}function ms(re){let Te=re.area,ze=Math.round(Te*Ut.Urban.Ra*Ut.Urban.Rb*Ut.Urban.BSdensity*re.ActivityFactor),$e=Math.round(Te*Ut.SubUrban.Ra*Ut.SubUrban.Rb*Ut.SubUrban.BSdensity*re.ActivityFactor),xt=ze+$e;return Math.round(xt*Ut.NW*Ut.TDD),{UrbanBS:ze,SubUrbanBS:$e,TotalBS:xt,totalActiveBS:Math.round(xt*Ut.NW*Ut.TDD)}}let pr,st,Tr,gs=Uf([g,y],Dg),Pr,Dr=hp([!0,!1],["green","lightgreen"]),kr;function Ds(re,Te){let ze=Xl("lightblue"),$e=Te,xt,yt;switch($e){case"None":return ze.opacity=.5,yt=re.properties.inLand,{color:yt?ze:"white",val:yt};case"Elevation":xt=re.properties.center;let St=YT(xt[1],xt[0],m);return ze=ha(St),{color:ze,val:St};case"FSSGain":xt=re.properties.center;let zn=be(xt);return ze=kr(zn.Gain),zn.Mode=="OUTSIDE"&&(ze=Xl("grey")),ze=re.properties.Active?ze:"white",yt=re.properties.Active,{color:ze,val:zn.Gain};case"IbyN":let In=Sr[re.properties.binID],Tt=-200;return In!=null&&(Tt=In.suburbandB+mi(In.x).SubUrbanAg-ri(In.x)-X),{color:gs(Tt),val:Tt};case"Country":return{color:Pr(re.properties.Country),val:re.properties.Country}}}let Pn,_s=[],gi=400,ts,ns=null,vs=null,Zn=null;async function da(){ns.showGainLoss(vs,m)}let mr,ii,Vr,ys,Pi;async function Ni(){if(W==null)return;let re=Fn(W).select("div#TopoGridMap");if(re.empty()){re=Fn(W).append("div"),re.attr("id","TopoGridMap").attr("class","wide four column segment ").attr("style","border:1px solid orange ;width:100%;height:100%"),W.append(re.node()),console.log("maindiv",re.empty());let Mn=re.append("div").attr("style","width:500px;height:500px;fill:'red'");mr=Ca.map(Mn.node(),{});var Te=Ca.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"});Ca.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France"});var ze=Ca.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'});let hn=Ca.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}).addTo(mr);var $e={layers:"gpw-v4:gpw-v4-population-density-rev11_2020"},xt=Ca.tileLayer.wms("https://sedac.ciesin.columbia.edu/geoserver/wms",$e);Ca.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Ca.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}),ii=Ca.marker({lng:m,lat:0},{icon:Ca.icon({iconUrl:tde,iconSize:[32,32]})}),ii.addTo(mr);var yt={OpenStreetMap:Te,OpenStreetMapHOT:ze,GoogleMap:hn,wmsLayer:xt},St={SatelliteGrid:ii};Vr!=null&&(St.Analsysis=Vr),Pi=Ca.control.layers(yt).addTo(mr)}let zn=pe==null?[]:pe.filter(Mn=>Ee.some(hn=>hn.Country==Mn.properties.NAMEen));zn.length==0||V0(zn),zn.length>0||mr.setView([0,m],2);const Tt=fp({point:function(Mn,hn){const ln=mr.latLngToLayerPoint(new Ca.LatLng(hn,Mn));this.stream.point(ln.x,ln.y)}});dh().projection(Tt),ii.setLatLng({lng:m,lat:0}),ys!=null&&(mr.removeLayer(ys),Pi.removeLayer(ys)),c&&l!=null&&(ys=Ca.geoJson(l,{fillColor:"grey",fillOpacity:.6,weight:4,opacity:.7}).addTo(mr)),Q!=null&&(Vr!=null&&(mr.removeLayer(Vr),Pi.removeLayer(Vr)),Vr=Ca.geoJson(Q,{fillColor:"none",weight:4,opacity:.7,style:Mn=>{if(Ht=="IMT Cell Grid"){let hn=k0(nt.features[0],Mn.properties.center);return{color:Dr(hn)}}else return{color:Ds(Mn,Ht).color}}}).bindPopup(Mn=>Mn.feature.properties.Country).addTo(mr),Q!=null&&Q.length>0&&mr.fitBounds(Vr.getBounds()))}async function Br(){if(console.log("PlotMap() called"),Fn("#GridMap").empty()||Fn("#legendbox").empty())return;let re=Fn("#GridMap");gi=400;let Te=Math.max(D/2,400)-50,ze=re.select("svg#svggrid").attr("width",Te).attr("height",gi).attr("viewBox",[0,0,Te,gi].join(","));ze.text("");let $e=pe==null?[]:pe.filter(Tt=>Ee.some(Mn=>Mn.Country==Tt.properties.NAMEen)),xt=$e.length==0?void 0:V0($e),yt=Fn("#legendbox").node();if(yt.innerHTML="",yt.appendChild(document.createElement("div")),Ht=="IMT Cell Grid"&&xt!=null&&yt.appendChild(kd(Dr,{title:"Covered by Satellite Footprint",width:800})),Ht=="FSSGain"&&yt.appendChild(kd(kr,{title:"Satellite Rx Gain (dBi)",nice:!0,width:800,marginLeft:0})),Ht=="IbyN"&&yt.appendChild(kd(gs,{title:"IbyN of a Cell (dB)",nice:!0,width:800,marginLeft:0})),Ht=="Elevation"&&yt.appendChild(kd(ha,{title:"Elevation "+m+" E ",tickFormat:Tt=>Tt+"",width:800})),Ht=="Country"){let Tt=kd(Pr,{title:"Country "+m+" E ",width:800});yt.appendChild(Tt)}ze.append("g").append("rect").attr("x",10).attr("y",10).attr("stroke","lightgrey").attr("width",Te-10).attr("height",gi-10).attr("fill","none").attr("fillopacity",.5),pe==null&&ze.append("text").text("No Map loaded... yet").attr("transform","translate(50 50)");let St=UE(),zn;pe!=null&&(zn=V0(Um(pe,Tt=>qe.includes(Tt.properties.UNRegion))),St.fitExtent([[10,10],[Te-10,gi-10]],zn));let In=dh(St).pointRadius(1);if(xt==null?ze.append("text").text("No Country selected").attr("transform","translate(50 150)"):St.fitExtent([[50,50],[sde-50,gi-50]],Ole(xt)),isNaN(St([0,0])[0])){console.log("Testing path generator ",St([0,0]));return}ze.append("g").append("path").datum(bE()()).attr("d",In).attr("stroke","lightgrey"),zn!=null&&ze.append("g").selectAll("path").data([zn]).join("path").attr("pointer-events","none").attr("fill","lightgrey").attr("stroke","lightgreen").attr("stroke-opacity",1).attr("fill-opacity",.1).attr("d",In),xt==null?console.log("PlotMap skipping IMTcountriesFeatures ",xt==null):ze.append("path").datum(xt).attr("pointer-events","none").attr("stroke","grey").attr("stroke-width",1).attr("fill",Ht=="IMT Cell Grid"?"lightgreen":"none").attr("fill-opacity",.1).attr("d",In),Q!=null&&ze.append("g").attr("id","elevationgrid").selectAll("path").data(Q).join("path").attr("stroke","grey").attr("stroke-opacity",1).attr("fill-opacity",.6).attr("fill",Tt=>{if(Ht=="IMT Cell Grid"){let Mn=k0(nt.features[0],Tt.properties.center);return Dr(Mn)}else{let Mn=Ds(Tt,Ht);return Tt.properties.gain=Mn.val,Mn.color}}).attr("d",In).append("title").text(Tt=>{if(Ht=="IbyN"){var Mn=Sr[Tt.properties.binID],hn="";return Mn!=null&&(hn=Mn.suburbandB+mi(Mn.x).SubUrbanAg-ri(Mn.x)-X,hn=hn.toFixed(1)+"dB"),hn}if(Ht=="IMT Cell Grid")return k0(nt.features[0],Tt.properties.center)?"in Footprint":"outside Footprint";if(Ht=="Country")return Tt.properties.Country;var ln=Ds(Tt,Ht);return ln.val.toFixed(1)}),Ae!=null&&Ae.features!=null&&(ze.append("g").selectAll("path").data(Ae.features).join("path").attr("pointer-events","none").attr("stroke","orange").attr("stroke-width",1).attr("fill","orange").attr("fill-opacity",.05).attr("d",In).append("title").text(Tt=>Tt.properties.StateName),ze.append("g").selectAll("dot").data(Ae.features).join("circle").attr("pointer-events","auto").attr("fill","orange").attr("r",2).attr("transform",Tt=>{let Mn=IN(Tt).geometry.coordinates;return`translate(${St(Mn).join(" ")})`}).append("title").text(Tt=>Tt.properties.StateName)),nt!=null&&ze.append("g").selectAll("path").data([nt]).join("path").attr("pointer-events","none").attr("fill","none").attr("stroke","orange").attr("stroke-width",1).attr("stroke-dasharray","0").attr("d",In).transition().duration(1e3).attr("stroke-dasharray","5 5"),ze.append("g").append("text").attr("fill","red").text("").attr("transform",()=>{var Tt=St([m,0]).join(" ");return`translate(${Tt})`}),ze.append("g").append("text").attr("fill","red").text(`Elevation ${m}E`).attr("x",20).attr("y",20),ze.append("g").attr("id",nt.type).selectAll("path").data([nt.features[0]]).join("path").attr("pointer-events","none").attr("d",In).attr("fill","lightgrey").attr("fill-opacity",.1).attr("stroke-dasharray",[4,4]).attr("stroke","orange"),ze.append("g").attr("id","g-info").append("text").text(`IbyN : ${(Tr||0).toFixed(1)}dB`).attr("transform","translate(10 40)")}let Ht="IMT Cell Grid",wi,bs;function _i(re){m=re,n(4,m)}function Kt(re){F=re,n(44,F)}function Qt(re){Z=re,n(21,Z)}function gn(re){Vn=re,n(57,Vn),n(23,ke)}function Li(re){er=re,n(30,er)}function zr(re){Ut=re,n(31,Ut)}function ur(re){oe=re,n(48,oe),n(23,ke),n(72,Le),n(80,r)}function pt(re){Ue=re,n(50,Ue)}function on(re){De=re,n(51,De)}function ir(re){p=re,n(3,p)}function Oi(re){f=re,n(2,f)}function Sn(re){A=re,n(42,A)}function ws(re){Os=re,n(60,Os)}function nr(re){N=re,n(12,N)}function Er(re){C=re,n(11,C)}function Vt(re){fe=re,n(20,fe)}function Mr(re){Lt[re?"unshift":"push"](()=>{ot=re,n(56,ot)})}function Yn(re){k[re].Object.ActivityFactor=Yt(this.value),n(10,k)}function si(re){k[re].Object.ActivityFactor=Yt(this.value),n(10,k)}function Fr(re){Ft=re,n(27,Ft)}const Ge=()=>n(40,s=!0);function ut(){m=Yt(this.value),n(4,m)}function cn(){m=Yt(this.value),n(4,m)}function Xe(re){Ht=re,n(39,Ht)}function cr(){g=Yt(this.value),n(5,g)}function No(){g=Yt(this.value),n(5,g)}function Lo(){y=Yt(this.value),n(6,y)}function Bs(){y=Yt(this.value),n(6,y)}function ul(){c=this.checked,n(1,c)}function Oo(){w=Yt(this.value),n(7,w)}function Et(){S=Yt(this.value),n(8,S)}function ai(){I=Yt(this.value),n(9,I)}function fn(re){s=re,n(40,s)}function cl(re){p=re,n(3,p)}function io(re){m=re,n(4,m)}function Zr(re){bn=re,n(55,bn),n(23,ke),n(72,Le),n(30,er),n(28,$n),n(4,m)}function zs(re){jt=re,n(29,jt)}function Fs(re){Lt[re?"unshift":"push"](()=>{$n=re,n(28,$n)})}function fl(re){Lt[re?"unshift":"push"](()=>{W=re,n(13,W)})}function pa(){ts=this.clientHeight,D=this.clientWidth,n(62,ts),n(43,D)}function Bt(re){Pn=re,n(35,Pn),n(77,An),n(24,Ee),n(10,k),n(79,_s),n(12,N),n(156,R),n(26,tt),n(21,Z),n(15,te),n(22,Q),n(74,nt),n(3,p),n(4,m),n(19,se),n(80,r),n(30,er),n(23,ke),n(29,jt),n(20,fe)}function en(re){a=re,n(0,a)}function ou(re){Lt[re?"unshift":"push"](()=>{vs=re,n(37,vs)})}const hl=()=>{wi!=null&&wi.loadFiles()},cc=()=>{console.log("loading ..",Q),Zn.queueNode("selectGrid",Q,{type:"json"})};function xi(re){a=re,n(0,a)}function so(re){l=re,n(41,l)}function dl(re){Lt[re?"unshift":"push"](()=>{ns=re,n(36,ns)})}function pl(re){Zn=re,n(38,Zn)}function Ct(re){at=re,n(25,at)}function gr(re){ke=re,n(23,ke)}function Yr(re){Zn=re,n(38,Zn)}function Di(re){Lt[re?"unshift":"push"](()=>{wi=re,n(63,wi)})}function ml(re){Lt[re?"unshift":"push"](()=>{Zn=re,n(38,Zn)})}function gl(re){F=re,n(44,F)}function Cr(re){bs=re,n(64,bs)}t.$$.update=()=>{if(t.$$.dirty[0]&1048576&&n(19,se=fe?0:10),t.$$.dirty[0]&6145|t.$$.dirty[1]&32&&ns!=null&&N&&(console.log("It changed ",C,a),a!=null&&ns.updateEIRPmask(C)),t.$$.dirty[2]&512&&Pe.toLocaleString(void 0,{hour:"numeric",minute:"numeric",second:"numeric"}),t.$$.dirty[0]&8388608|t.$$.dirty[1]&128|t.$$.dirty[2]&2048&&ke!=null&&(n(73,qe=ke.visibleRegion),Zn!=null&&Zn.queueNode("visibleRegion",qe)),t.$$.dirty[0]&8388608|t.$$.dirty[2]&1024&&ke!=null&&(n(72,Le=ke.IMTMap),ke.footprintbeam!=null&&n(55,bn=ke.footprintbeam),Ae=ke.FocusCountry,Le.properties!=null?(n(48,oe=!0),n(53,Ke=Le.id)):n(48,oe=!1)),t.$$.dirty[0]&8388608&&ke!=null&&ke.GlobalMap!=null&&n(52,pe=ke.GlobalMap),t.$$.dirty[0]&1082130432&&er&&ke.FSSMap!=null&&(n(74,nt=ke.FSSMap),tr(),console.log("Auto Called 2"),Br()),t.$$.dirty[0]&1610612736&&(er||jt!=null&&(n(74,nt=jt),console.log("Auto Called 2a"),tr(),Br())),t.$$.dirty[1]&128|t.$$.dirty[2]&4096&&Zn!=null&&Zn.queueNode("SatelliteFootprints",nt),t.$$.dirty[0]&8388608&&ke!=null&&ke.FSSMap!=null&&n(57,Vn=!0),t.$$.dirty[2]&262144&&(console.log("current Profile changed ",r),n(26,tt=void 0),n(58,di=void 0),n(22,Q=void 0),n(24,Ee=[]),n(48,oe=!1),Ir()),t.$$.dirty[0]&1342177296&&!er&&$n!=null&&(n(55,bn.BeamLng=m,bn),$n.update()),t.$$.dirty[0]&6144|t.$$.dirty[1]&256&&Ht!=null&&Br(),t.$$.dirty[0]&134226842&&W!=null&&(console.log("Auto Called 3"),tr(),Br()),t.$$.dirty[0]&4718616|t.$$.dirty[2]&36864){e:if(Q!=null&&nt!=null){let re=[];if(Q.length==0){n(77,An=[]),n(77,An.AntennaName=nt.name,An);break e}re.AntennaName=nt.name;let Te=Q[0].geometry.type;Q.forEach(ze=>{let $e=[];Te!="point"?$e=ze.properties.center:$e=ze.geometry.coordinates;let xt=YT($e[1],$e[0],m);if(xt>=se){let yt=ede($e[1],$e[0],m),St=Tm(ze)/1e6,zn=be($e);re.push({az:yt,el:xt,areasqkm:St,SatGain:zn.Gain,Mode:zn.Mode,RaRb:ze.properties.RaRb,id:ze.properties.id,Country:ze.properties.Country,ActivityFactor:ze.properties.ActiveFactor})}}),n(77,An=re),Ua("gridElangles",An)}}if(t.$$.dirty[2]&32768&&An!=null){let re=ia(An,Te=>Te.el);n(79,_s=ea(Math.floor(re[0]),Math.ceil(re[1])))}if(t.$$.dirty[0]&86021120|t.$$.dirty[1]&16|t.$$.dirty[2]&163840&&An!=null&&Ee!=null&&Ee.length>=0){let Te=gk().thresholds(_s).value(ze=>ze.el)(An);n(35,Pn=oq(Te,(ze,$e)=>{ze.forEach(ln=>{n(26,tt.features[ln.id].properties.binID=$e,tt)});let xt=fr(ze,ln=>{let xs=R.get(ln.Country),Tn=xs==null?ln.ActivityFactor:xs.ActivityFactor,_l=ln.RaRb?1:0;return ln.areasqkm*_l*Tn}),yt=fr(ze,ln=>{let Tn=ln.RaRb?1:0;return ln.areasqkm*Tn}),St=fr(ze,ln=>{let Tn=ln.RaRb?0:1;return ln.areasqkm*Tn}),zn=fr(ze,ln=>{if(!ln.RaRb)return tt.features[ln.id].properties.SectorCount*Z}),In=ip(ze,ln=>ln.el),Tt=ia(ze,ln=>ln.az),Mn=tl(ze,ln=>ln.SatGain),hn=10*Math.log10(ip(ze,ln=>Math.pow(10,ln.SatGain/10)));return{x:Math.floor((ze.x0+ze.x1)/2),x0:ze.x0,x1:ze.x1,azExtents:Tt,count:ze.length,meanangle:In,totalIMTBS:zn,totalareasqkmTrue:yt,totalareasqkm:xt,totalIMTareasqkm:St,maxRxGain:Mn,meanRxGain:hn}})),Ua("binnedData",Pn,{type:"csv"}),n(15,te=fr(Pn,ze=>ze.totalareasqkmTrue+ze.totalIMTareasqkm)),n(46,V=jn("2.3~s")(te))}if(t.$$.dirty[0]&4096|t.$$.dirty[1]&17&&Pn!=null){let ze=24-3;n(32,Sr=Pn.map(($e,xt)=>({...$e,urbandB_BS:10*Math.log10($e.totalareasqkm*Ut.uScale+$e.totalIMTBS*Ut.NW*Ut.TDD*Ri),suburbandB_BS:10*Math.log10($e.totalareasqkm*Ut.suScale+$e.totalIMTBS*Ut.NW*Ut.TDD*(1-Ri)),urbandB:10*Math.log10($e.totalareasqkm*Ut.uScale+$e.totalIMTBS*Ut.NW*Ut.TDD*Ri)+ze+$e.meanRxGain,suburbandB:10*Math.log10($e.totalareasqkm*Ut.suScale+$e.totalIMTBS*Ut.NW*Ut.TDD*(1-Ri))+ze+$e.meanRxGain,Factor:ze})))}if(t.$$.dirty[1]&130&&Zn!=null&&Zn.queueNode("stats",Sr),t.$$.dirty[0]&1073741824|t.$$.dirty[2]&4096&&nt!=null&&n(75,Gn=jn("2.1s")(Tm(nt.features[0])/1e6)),t.$$.dirty[0]&4&&n(14,X=10*Math.log10(138e-25*f)+60+30),t.$$.dirty[0]&20499|t.$$.dirty[1]&14){e:if(a!=null){if(Sr==null){n(33,pr=[{Env:"red",I:-200,Name:"Urban"},{Env:"grey",I:-200,Name:"SubUrban"},{Env:"total",I:-200,Name:"Total"}]);break e}let re=10*Math.log10(fr(Um(Sr,$e=>isFinite($e.urbandB)),$e=>Math.pow(10,($e.urbandB+mi($e.x).UrbanAg-ri($e.x))/10))),Te=10*Math.log10(fr(Um(Sr,$e=>isFinite($e.suburbandB)),$e=>Math.pow(10,($e.suburbandB+mi($e.x).SubUrbanAg-ri($e.x))/10))),ze=10*Math.log10(fr([re,Te],$e=>Math.pow(10,$e/10)));n(33,pr=[{Env:"red",I:re,Name:"Urban"},{Env:"grey",I:Te,Name:"SubUrban"},{Env:"total",I:ze,Name:"Total"}]),n(34,st=pr.map($e=>$e.I-X)),n(78,Tr=st[2]),n(45,$=ade(tk(pr[0].I)+tk(pr[1].I)))}}if(t.$$.dirty[0]&16777216|t.$$.dirty[2]&126976&&An!=null){n(75,Gn=jn("2.1s")(Tm(nt.features[0])/1e6));let re=`${nt.name||""} + FootPrintArea : ${Gn} sqkm`;Ee.length>0&&(re=`Countries : (${Ee.length}) ${pi} : `+Ee.map(Te=>Te.Country).join(" , ")+`  <br>${nt.name||""} FootPrintArea : ${Gn} sqkm <br> IbyN = ${(Tr||0).toFixed(1)} dB `),Fn("#infobox").attr("style","color:blue").html(re)}if(t.$$.dirty[0]&2&&Ir(),t.$$.dirty[2]&32768&&An!=null&&es(),t.$$.dirty[0]&1024&&k.forEach(re=>{re.stats=ms(re.Object),R.set(re.Country,re.Object)}),t.$$.dirty[1]&1&&Ua("factor",Ut,{type:"json"}),t.$$.dirty[0]&458754|t.$$.dirty[1]&17&&Pn!=null&&(n(17,ue=fr(Pn,re=>re.totalareasqkm)*Ut.Urban.Ra*Ut.Urban.Rb*Ut.Urban.BSdensity+fr(Pn,re=>re.totalIMTBS)*Ri),n(18,ie=fr(Pn,re=>re.totalareasqkm)*Ut.SubUrban.Ra*Ut.SubUrban.Rb*Ut.SubUrban.BSdensity+fr(Pn,re=>re.totalIMTBS)*(1-Ri)),n(16,me=ue+ie),fr(Pn,re=>re.totalIMTBS),n(47,ge=me*Ut.NW*Ut.TDD)),t.$$.dirty[0]&96|t.$$.dirty[1]&256&&(gs=Uf([g,y],Dg),Ht=="IbyN"&&Br()),t.$$.dirty[0]&16777216){let re=Ee.map(Te=>Te.Country);Pr=hp(re,Da(X3,re.length))}if(t.$$.dirty[0]&8|t.$$.dirty[2]&4096&&nt!=null){if(nt.beamtype=="pointgrid"){let re=nt.features[1],Te=ia(re.features,ze=>ze.properties.FSSRxGain);Te[0]=Math.min(Te[0],p),n(61,kr=Uf(Te,Bg).nice().clamp(!0))}if(nt.beamtype=="shapedbeams"){let re=[nt.features[0].properties.FSSRxGain-5,nt.features[0].properties.FSSRxGain+3];n(61,kr=Uf(re,Bg).nice().clamp(!0))}}t.$$.dirty[0]&1|t.$$.dirty[1]&96&&ns!=null&&vs!=null&&a!=null&&da(),t.$$.dirty[0]&134217728&&tr(),t.$$.dirty[0]&4194322|t.$$.dirty[1]&256&&Ni()},setInterval(()=>{n(71,Pe=new Date)},1e3);{let re=100,Te=0;vQ([{x:0,y:1},{x:1,y:4},{x:2,y:2},{x:3,y:5},{x:4,y:6},{x:5,y:45}],{x:"x"})}return[a,c,f,p,m,g,y,w,S,I,k,C,N,W,X,te,me,ue,ie,se,fe,Z,Q,ke,Ee,at,tt,Ft,$n,jt,er,Ut,Sr,pr,st,Pn,ns,vs,Zn,Ht,s,l,A,D,F,$,V,ge,oe,Ne,Ue,De,pe,Ke,ct,bn,ot,Vn,di,ps,Os,kr,ts,wi,bs,i,he,Bn,rr,mt,ha,Pe,Le,qe,nt,Gn,pi,An,Tr,_s,r,_i,Kt,Qt,gn,Li,zr,ur,pt,on,ir,Oi,Sn,ws,nr,Er,Vt,Mr,Yn,si,Fr,Ge,ut,cn,Xe,cr,No,Lo,Bs,ul,Oo,Et,ai,fn,cl,io,Zr,zs,Fs,fl,pa,Bt,en,ou,hl,cc,xi,so,dl,pl,Ct,gr,Yr,Di,ml,gl,Cr]}class lde extends rc{constructor(e){super(),nc(this,e,ode,ide,eo,{},null,[-1,-1,-1,-1,-1,-1])}}function ude(t){return console.log("Rendering called",t),t==null?void 0:new lde({target:t})}ude(document.getElementById("app"));
