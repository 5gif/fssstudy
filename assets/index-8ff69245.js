var CU=Object.defineProperty;var AU=(t,e,n)=>e in t?CU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xs=(t,e,n)=>(AU(t,typeof e!="symbol"?e+"":e,n),n),IU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var i4=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var u1=(t,e,n)=>(IU(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rn(){}function sp(t,e){for(const n in e)t[n]=e[n];return t}function RU(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function pk(t){return t()}function W8(){return Object.create(null)}function al(t){t.forEach(pk)}function C3(t){return typeof t=="function"}function eo(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function PU(t){return Object.keys(t).length===0}function mk(t,...e){if(t==null)return Rn;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function NU(t){let e;return mk(t,n=>e=n)(),e}function qc(t,e,n){t.$$.on_destroy.push(mk(e,n))}function Iy(t,e,n,r){if(t){const i=gk(t,e,n,r);return t[0](i)}}function gk(t,e,n,r){return t[1]&&r?sp(n.ctx.slice(),t[1](r(e))):n.ctx}function Ry(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function Py(t,e,n,r,i,s){if(i){const a=gk(e,n,r,s);t.p(a,i)}}function Ny(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function LU(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function G8(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function A3(t){return t&&C3(t.destroy)?t.destroy:Rn}const _k=typeof window<"u";let $8=_k?()=>window.performance.now():()=>Date.now(),vk=_k?t=>requestAnimationFrame(t):Rn;const th=new Set;function yk(t){th.forEach(e=>{e.c(t)||(th.delete(e),e.f())}),th.size!==0&&vk(yk)}function OU(t){let e;return th.size===0&&vk(yk),{promise:new Promise(n=>{th.add(e={c:t,f:n})}),abort(){th.delete(e)}}}const DU=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function R(t,e){t.appendChild(e)}function vt(t,e,n){t.insertBefore(e,n||null)}function ht(t){t.parentNode&&t.parentNode.removeChild(t)}function Ic(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function K(t){return document.createElement(t)}function Ie(t){return document.createTextNode(t)}function ge(){return Ie(" ")}function W_(){return Ie("")}function je(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function BU(t){return function(e){e.target===this&&t.call(this,e)}}function H(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const zU=["width","height"];function _g(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&zU.indexOf(r)===-1?t[r]=e[r]:H(t,r,e[r])}function FU(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function Yt(t){return t===""?null:+t}function UU(t){return Array.from(t.childNodes)}function bt(t,e){e=""+e,t.data!==e&&(t.data=e)}function dt(t,e){t.value=e??""}function cs(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function zl(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Pd(t){const e=t.querySelector(":checked");return e&&e.__value}let c1;function qU(){if(c1===void 0){c1=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{c1=!0}}return c1}function vg(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=K("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=qU();let s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=je(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=je(r.contentWindow,"resize",e),e()}),R(t,r),()=>{(i||s&&r.contentWindow)&&s(),ht(r)}}let ap;function Bu(t){ap=t}function bk(){if(!ap)throw new Error("Function called outside component initialization");return ap}function nh(t){bk().$$.on_mount.push(t)}const Zf=[],Lt=[];let rh=[];const Ly=[],HU=Promise.resolve();let Oy=!1;function WU(){Oy||(Oy=!0,HU.then(I3))}function wo(t){rh.push(t)}function Ln(t){Ly.push(t)}const s4=new Set;let Df=0;function I3(){if(Df!==0)return;const t=ap;do{try{for(;Df<Zf.length;){const e=Zf[Df];Df++,Bu(e),GU(e.$$)}}catch(e){throw Zf.length=0,Df=0,e}for(Bu(null),Zf.length=0,Df=0;Lt.length;)Lt.pop()();for(let e=0;e<rh.length;e+=1){const n=rh[e];s4.has(n)||(s4.add(n),n())}rh.length=0}while(Zf.length);for(;Ly.length;)Ly.pop()();Oy=!1,s4.clear(),Bu(t)}function GU(t){if(t.fragment!==null){t.update(),al(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wo)}}function $U(t){const e=[],n=[];rh.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),rh=e}const J1=new Set;let L0;function VU(){L0={r:0,c:[],p:L0}}function ZU(){L0.r||al(L0.c),L0=L0.p}function ea(t,e){t&&t.i&&(J1.delete(t),t.i(e))}function Ra(t,e,n,r){if(t&&t.o){if(J1.has(t))return;J1.add(t),L0.c.push(()=>{J1.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function V8(t,e){const n=e.token={};function r(i,s,a,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;a!==void 0&&(c=c.slice(),c[a]=l);const f=i&&(e.current=i)(c);let p=!1;e.block&&(e.blocks?e.blocks.forEach((m,g)=>{g!==s&&m&&(VU(),Ra(m,1,1,()=>{e.blocks[g]===m&&(e.blocks[g]=null)}),ZU())}):e.block.d(1),f.c(),ea(f,1),f.m(e.mount(),e.anchor),p=!0),e.block=f,e.blocks&&(e.blocks[s]=f),p&&I3()}if(RU(t)){const i=bk();if(t.then(s=>{Bu(i),r(e.then,1,e.value,s),Bu(null)},s=>{if(Bu(i),r(e.catch,2,e.error,s),Bu(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function YU(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function wk(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],l=e[s];if(l){for(const c in a)c in l||(r[c]=1);for(const c in l)i[c]||(n[c]=l[c],i[c]=1);t[s]=l}else for(const c in a)i[c]=1}for(const a in r)a in n||(n[a]=void 0);return n}function On(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Fl(t){t&&t.c()}function Zo(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||wo(()=>{const a=t.$$.on_mount.map(pk).filter(C3);t.$$.on_destroy?t.$$.on_destroy.push(...a):al(a),t.$$.on_mount=[]}),s.forEach(wo)}function Yo(t,e){const n=t.$$;n.fragment!==null&&($U(n.after_update),al(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jU(t,e){t.$$.dirty[0]===-1&&(Zf.push(t),WU(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ic(t,e,n,r,i,s,a,l=[-1]){const c=ap;Bu(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Rn,not_equal:i,bound:W8(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:W8(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};a&&a(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(m,g,...y)=>{const w=y.length?y[0]:g;return f.ctx&&i(f.ctx[m],f.ctx[m]=w)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](w),p&&jU(t,m)),g}):[],f.update(),p=!0,al(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const m=UU(e.target);f.fragment&&f.fragment.l(m),m.forEach(ht)}else f.fragment&&f.fragment.c();e.intro&&ea(t.$$.fragment),Zo(t,e.target,e.anchor,e.customElement),I3()}Bu(c)}class sc{$destroy(){Yo(this,1),this.$destroy=Rn}$on(e,n){if(!C3(n))return Rn;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!PU(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zp(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G_(t){let e,n,r;t.length!==2?(e=Oa,n=(l,c)=>Oa(t(l),c),r=(l,c)=>t(l)-c):(e=t===Oa||t===Zp?t:KU,n=t,r=t);function i(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<0?f=m+1:p=m}while(f<p)}return f}function s(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<=0?f=m+1:p=m}while(f<p)}return f}function a(l,c,f=0,p=l.length){const m=i(l,c,f,p-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function KU(){return 0}function xk(t){return t===null?NaN:+t}function*XU(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const JU=G_(Oa),QU=JU.right;G_(xk).center;const $_=QU;function eq(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function tq(t){return t.length|0}function nq(t){return!(t>0)}function rq(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function iq(t){return e=>t(...e)}function sq(...t){const e=typeof t[t.length-1]=="function"&&iq(t.pop());t=t.map(rq);const n=t.map(tq),r=t.length-1,i=new Array(r+1).fill(0),s=[];if(r<0||n.some(nq))return s;for(;;){s.push(i.map((l,c)=>t[c][l]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?s.map(e):s;i[a--]=0}}}function aq(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Sk(t,e){let n=0,r,i=0,s=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let l of t)(l=e(l,++a,t))!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,s+=r*(l-i))}if(n>1)return s/(n-1)}function oq(t,e){const n=Sk(t,e);return n&&Math.sqrt(n)}function Os(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Yc{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=e+s,l=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);l&&(n[r++]=l),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class K0 extends Map{constructor(e,n=Ek){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Dy(this,e))}has(e){return super.has(Dy(this,e))}set(e,n){return super.set(Tk(this,e),n)}delete(e){return super.delete(kk(this,e))}}class V_ extends Set{constructor(e,n=Ek){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Dy(this,e))}add(e){return super.add(Tk(this,e))}delete(e){return super.delete(kk(this,e))}}function Dy({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Tk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kk({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ek(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yg(t){return t}function R3(t,...e){return P3(t,yg,yg,e)}function Gd(t,e,...n){return P3(t,yg,e,n)}function lq(t,e,...n){return P3(t,Array.from,e,n)}function P3(t,e,n,r){return function i(s,a){if(a>=r.length)return n(s);const l=new K0,c=r[a++];let f=-1;for(const p of s){const m=c(p,++f,s),g=l.get(m);g?g.push(p):l.set(m,[p])}for(const[p,m]of l)l.set(p,i(m,a));return e(l)}(t,0)}function uq(t,e){return Array.from(e,n=>t[n])}function bg(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,s)=>s);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,s)=>{for(const a of e){const l=wg(a[i],a[s]);if(l)return l}})):(n=t.map(n),r.sort((i,s)=>wg(n[i],n[s]))),uq(t,r)}return t.sort(Mk(n))}function Mk(t=Oa){if(t===Oa)return wg;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wg(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function N3(t,e,n){return(e.length!==2?bg(Gd(t,e,n),([r,i],[s,a])=>Oa(i,a)||Oa(r,s)):bg(R3(t,n),([r,i],[s,a])=>e(i,a)||Oa(r,s))).map(([r])=>r)}var cq=Array.prototype,fq=cq.slice;function a4(t){return()=>t}const hq=Math.sqrt(50),dq=Math.sqrt(10),pq=Math.sqrt(2);function xg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=hq?10:s>=dq?5:s>=pq?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?xg(t,e,n*2):[l,c,f]}function op(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?xg(e,t,n):xg(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(s-f)/-a;else for(let f=0;f<l;++f)c[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function dh(t,e,n){return e=+e,t=+t,n=+n,xg(t,e,n)[2]}function By(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dh(e,t,n):dh(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mq(t,e,n){let r;for(;;){const i=dh(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function gq(t){return Math.max(1,Math.ceil(Math.log(eq(t))/Math.LN2)+1)}function Ck(){var t=yg,e=Os,n=gq;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,l,c,f=new Array(a);for(s=0;s<a;++s)f[s]=t(i[s],s,i);var p=e(f),m=p[0],g=p[1],y=n(f,m,g);if(!Array.isArray(y)){const A=g,C=+y;if(e===Os&&([m,g]=mq(m,g,C)),y=op(m,g,C),y[0]<=m&&(c=dh(m,g,C)),y[y.length-1]>=g)if(A>=g&&e===Os){const N=dh(m,g,C);isFinite(N)&&(N>0?g=(Math.floor(g/N)+1)*N:N<0&&(g=(Math.ceil(g*-N)+1)/-N))}else y.pop()}for(var w=y.length,S=0,I=w;y[S]<=m;)++S;for(;y[I-1]>g;)--I;(S||I<w)&&(y=y.slice(S,I),w=I-S);var P=new Array(w+1),k;for(s=0;s<=w;++s)k=P[s]=[],k.x0=s>0?y[s-1]:m,k.x1=s<w?y[s]:g;if(isFinite(c)){if(c>0)for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&P[Math.min(w,Math.floor((l-m)/c))].push(i[s]);else if(c<0){for(s=0;s<a;++s)if((l=f[s])!=null&&m<=l&&l<=g){const A=Math.floor((m-l)*c);P[Math.min(w,A+(y[A]<=l))].push(i[s])}}}else for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&P[$_(y,l,0,w)].push(i[s]);return P}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:a4(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:a4([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:a4(Array.isArray(i)?fq.call(i):i),r):n},r}function Co(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function _q(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function eu(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function vq(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function Ak(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wg:Mk(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,p=Math.log(c),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+g)),w=Math.min(r,Math.floor(e+(c-f)*m/c+g));Ak(t,e,y,w,i)}const s=t[e];let a=n,l=r;for(gd(t,n,e),i(t[r],s)>0&&gd(t,n,r);a<l;){for(gd(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?gd(t,n,l):(++l,gd(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function gd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function L3(t,e=Oa){let n,r=!1;if(e.length===1){let i;for(const s of t){const a=e(s);(r?Oa(a,i)>0:Oa(a,a)===0)&&(n=s,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function lp(t,e,n){if(t=Float64Array.from(XU(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eu(t);if(e>=1)return Co(t);var r,i=(r-1)*e,s=Math.floor(i),a=Co(Ak(t,s).subarray(0,s+1)),l=eu(t.subarray(s+1));return a+(l-a)*(i-s)}}function yq(t,e,n=xk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function up(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function zy(t,e){return lp(t,.5,e)}function*bq(t){for(const e of t)yield*e}function Ik(t){return Array.from(bq(t))}function wq(t,e){const n=new K0;if(e===void 0)for(let s of t)s!=null&&s>=s&&n.set(s,(n.get(s)||0)+1);else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[s,a]of n)a>i&&(i=a,r=s);return r}function xq(t,e=Sq){const n=[];let r,i=!1;for(const s of t)i&&n.push(e(r,s)),r=s,i=!0;return n}function Sq(t,e){return[t,e]}function na(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function fr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Tq(t){if(!(s=t.length))return[];for(var e=-1,n=eu(t,kq),r=new Array(n);++e<n;)for(var i=-1,s,a=r[e]=new Array(s);++i<s;)a[i]=t[i][e];return r}function kq(t){return t.length}function Eq(){return Tq(arguments)}function Q1(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Mq(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function cp(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Cq(t){return t}var o4=1,l4=2,Fy=3,f1=4,Z8=1e-6;function Aq(t){return"translate("+t+",0)"}function Iq(t){return"translate(0,"+t+")"}function Rq(t){return e=>+t(e)}function Pq(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Nq(){return!this.__axis}function Lq(t,e){var n=[],r=null,i=null,s=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===o4||t===f1?-1:1,p=t===f1||t===l4?"x":"y",m=t===o4||t===Fy?Aq:Iq;function g(y){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),S=i??(e.tickFormat?e.tickFormat.apply(e,n):Cq),I=Math.max(s,0)+l,P=e.range(),k=+P[0]+c,A=+P[P.length-1]+c,C=(e.bandwidth?Pq:Rq)(e.copy(),c),N=y.selection?y.selection():y,D=N.selectAll(".domain").data([null]),F=N.selectAll(".tick").data(w,e).order(),W=F.exit(),G=F.enter().append("g").attr("class","tick"),Y=F.select("line"),V=F.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(G),Y=Y.merge(G.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),V=V.merge(G.append("text").attr("fill","currentColor").attr(p,f*I).attr("dy",t===o4?"0em":t===Fy?"0.71em":"0.32em")),y!==N&&(D=D.transition(y),F=F.transition(y),Y=Y.transition(y),V=V.transition(y),W=W.transition(y).attr("opacity",Z8).attr("transform",function(ee){return isFinite(ee=C(ee))?m(ee+c):this.getAttribute("transform")}),G.attr("opacity",Z8).attr("transform",function(ee){var fe=this.parentNode.__axis;return m((fe&&isFinite(fe=fe(ee))?fe:C(ee))+c)})),W.remove(),D.attr("d",t===f1||t===l4?a?"M"+f*a+","+k+"H"+c+"V"+A+"H"+f*a:"M"+c+","+k+"V"+A:a?"M"+k+","+f*a+"V"+c+"H"+A+"V"+f*a:"M"+k+","+c+"H"+A),F.attr("opacity",1).attr("transform",function(ee){return m(C(ee)+c)}),Y.attr(p+"2",f*s),V.attr(p,f*I).text(S),N.filter(Nq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===l4?"start":t===f1?"end":"middle"),N.each(function(){this.__axis=C})}return g.scale=function(y){return arguments.length?(e=y,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),g):n.slice()},g.tickValues=function(y){return arguments.length?(r=y==null?null:Array.from(y),g):r&&r.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(s=a=+y,g):s},g.tickSizeInner=function(y){return arguments.length?(s=+y,g):s},g.tickSizeOuter=function(y){return arguments.length?(a=+y,g):a},g.tickPadding=function(y){return arguments.length?(l=+y,g):l},g.offset=function(y){return arguments.length?(c=+y,g):c},g}function Rk(t){return Lq(Fy,t)}var Oq={value:()=>{}};function Pk(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new eg(n)}function eg(t){this._=t}function Dq(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}eg.prototype=Pk.prototype={constructor:eg,on:function(t,e){var n=this._,r=Dq(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Bq(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Y8(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Y8(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new eg(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Bq(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Y8(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Oq,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Uy="http://www.w3.org/1999/xhtml";const ph={svg:"http://www.w3.org/2000/svg",xhtml:Uy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z_(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ph.hasOwnProperty(e)?{space:ph[e],local:t}:t}function zq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Uy&&e.documentElement.namespaceURI===Uy?e.createElement(t):e.createElementNS(n,t)}}function Fq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yp(t){var e=Z_(t);return(e.local?Fq:zq)(e)}function Uq(){}function O3(t){return t==null?Uq:function(){return this.querySelector(t)}}function qq(t){typeof t!="function"&&(t=O3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),c,f,p=0;p<a;++p)(c=s[p])&&(f=t.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),l[p]=f);return new oa(r,this._parents)}function Nk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Hq(){return[]}function Lk(t){return t==null?Hq:function(){return this.querySelectorAll(t)}}function Wq(t){return function(){return Nk(t.apply(this,arguments))}}function Gq(t){typeof t=="function"?t=Wq(t):t=Lk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&(r.push(t.call(c,c.__data__,f,a)),i.push(c));return new oa(r,i)}function Ok(t){return function(){return this.matches(t)}}function Dk(t){return function(e){return e.matches(t)}}var $q=Array.prototype.find;function Vq(t){return function(){return $q.call(this.children,t)}}function Zq(){return this.firstElementChild}function Yq(t){return this.select(t==null?Zq:Vq(typeof t=="function"?t:Dk(t)))}var jq=Array.prototype.filter;function Kq(){return Array.from(this.children)}function Xq(t){return function(){return jq.call(this.children,t)}}function Jq(t){return this.selectAll(t==null?Kq:Xq(typeof t=="function"?t:Dk(t)))}function Qq(t){typeof t!="function"&&(t=Ok(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new oa(r,this._parents)}function Bk(t){return new Array(t.length)}function eH(){return new oa(this._enter||this._groups.map(Bk),this._parents)}function Sg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Sg.prototype={constructor:Sg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tH(t){return function(){return t}}function nH(t,e,n,r,i,s){for(var a=0,l,c=e.length,f=s.length;a<f;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new Sg(t,s[a]);for(;a<c;++a)(l=e[a])&&(i[a]=l)}function rH(t,e,n,r,i,s,a){var l,c,f=new Map,p=e.length,m=s.length,g=new Array(p),y;for(l=0;l<p;++l)(c=e[l])&&(g[l]=y=a.call(c,c.__data__,l,e)+"",f.has(y)?i[l]=c:f.set(y,c));for(l=0;l<m;++l)y=a.call(t,s[l],l,s)+"",(c=f.get(y))?(r[l]=c,c.__data__=s[l],f.delete(y)):n[l]=new Sg(t,s[l]);for(l=0;l<p;++l)(c=e[l])&&f.get(g[l])===c&&(i[l]=c)}function iH(t){return t.__data__}function sH(t,e){if(!arguments.length)return Array.from(this,iH);var n=e?rH:nH,r=this._parents,i=this._groups;typeof t!="function"&&(t=tH(t));for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],g=m.length,y=aH(t.call(p,p&&p.__data__,f,r)),w=y.length,S=l[f]=new Array(w),I=a[f]=new Array(w),P=c[f]=new Array(g);n(p,m,S,I,P,y,e);for(var k=0,A=0,C,N;k<w;++k)if(C=S[k]){for(k>=A&&(A=k+1);!(N=I[A])&&++A<w;);C._next=N||null}}return a=new oa(a,r),a._enter=l,a._exit=c,a}function aH(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oH(){return new oa(this._exit||this._groups.map(Bk),this._parents)}function lH(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function uH(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),c=0;c<a;++c)for(var f=n[c],p=r[c],m=f.length,g=l[c]=new Array(m),y,w=0;w<m;++w)(y=f[w]||p[w])&&(g[w]=y);for(;c<i;++c)l[c]=n[c];return new oa(l,this._parents)}function cH(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function fH(t){t||(t=hH);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,c=i[s]=new Array(l),f,p=0;p<l;++p)(f=a[p])&&(c[p]=f);c.sort(e)}return new oa(i,this._parents).order()}function hH(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dH(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pH(){return Array.from(this)}function mH(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function gH(){let t=0;for(const e of this)++t;return t}function _H(){return!this.node()}function vH(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function yH(t){return function(){this.removeAttribute(t)}}function bH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wH(t,e){return function(){this.setAttribute(t,e)}}function xH(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function SH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function TH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function kH(t,e){var n=Z_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?bH:yH:typeof e=="function"?n.local?TH:SH:n.local?xH:wH)(n,e))}function zk(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function EH(t){return function(){this.style.removeProperty(t)}}function MH(t,e,n){return function(){this.style.setProperty(t,e,n)}}function CH(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function AH(t,e,n){return arguments.length>1?this.each((e==null?EH:typeof e=="function"?CH:MH)(t,e,n??"")):mh(this.node(),t)}function mh(t,e){return t.style.getPropertyValue(e)||zk(t).getComputedStyle(t,null).getPropertyValue(e)}function IH(t){return function(){delete this[t]}}function RH(t,e){return function(){this[t]=e}}function PH(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function NH(t,e){return arguments.length>1?this.each((e==null?IH:typeof e=="function"?PH:RH)(t,e)):this.node()[t]}function Fk(t){return t.trim().split(/^|\s+/)}function D3(t){return t.classList||new Uk(t)}function Uk(t){this._node=t,this._names=Fk(t.getAttribute("class")||"")}Uk.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qk(t,e){for(var n=D3(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Hk(t,e){for(var n=D3(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function LH(t){return function(){qk(this,t)}}function OH(t){return function(){Hk(this,t)}}function DH(t,e){return function(){(e.apply(this,arguments)?qk:Hk)(this,t)}}function BH(t,e){var n=Fk(t+"");if(arguments.length<2){for(var r=D3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?DH:e?LH:OH)(n,e))}function zH(){this.textContent=""}function FH(t){return function(){this.textContent=t}}function UH(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qH(t){return arguments.length?this.each(t==null?zH:(typeof t=="function"?UH:FH)(t)):this.node().textContent}function HH(){this.innerHTML=""}function WH(t){return function(){this.innerHTML=t}}function GH(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function $H(t){return arguments.length?this.each(t==null?HH:(typeof t=="function"?GH:WH)(t)):this.node().innerHTML}function VH(){this.nextSibling&&this.parentNode.appendChild(this)}function ZH(){return this.each(VH)}function YH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jH(){return this.each(YH)}function KH(t){var e=typeof t=="function"?t:Yp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function XH(){return null}function JH(t,e){var n=typeof t=="function"?t:Yp(t),r=e==null?XH:typeof e=="function"?e:O3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function QH(){var t=this.parentNode;t&&t.removeChild(this)}function eW(){return this.each(QH)}function tW(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nW(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rW(t){return this.select(t?nW:tW)}function iW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function sW(t){return function(e){t.call(this,e,this.__data__)}}function aW(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function oW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function lW(t,e,n){return function(){var r=this.__on,i,s=sW(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function uW(t,e,n){var r=aW(t+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,f=l.length,p;c<f;++c)for(i=0,p=l[c];i<s;++i)if((a=r[i]).type===p.type&&a.name===p.name)return p.value}return}for(l=e?lW:oW,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Wk(t,e,n){var r=zk(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cW(t,e){return function(){return Wk(this,t,e)}}function fW(t,e){return function(){return Wk(this,t,e.apply(this,arguments))}}function hW(t,e){return this.each((typeof e=="function"?fW:cW)(t,e))}function*dW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var B3=[null];function oa(t,e){this._groups=t,this._parents=e}function jp(){return new oa([[document.documentElement]],B3)}function pW(){return this}oa.prototype=jp.prototype={constructor:oa,select:qq,selectAll:Gq,selectChild:Yq,selectChildren:Jq,filter:Qq,data:sH,enter:eH,exit:oH,join:lH,merge:uH,selection:pW,order:cH,sort:fH,call:dH,nodes:pH,node:mH,size:gH,empty:_H,each:vH,attr:kH,style:AH,property:NH,classed:BH,text:qH,html:$H,raise:ZH,lower:jH,append:KH,insert:JH,remove:eW,clone:rW,datum:iW,on:uW,dispatch:hW,[Symbol.iterator]:dW};function Fn(t){return typeof t=="string"?new oa([[document.querySelector(t)]],[document.documentElement]):new oa([[t]],B3)}function mW(t){return Fn(Yp(t).call(document.documentElement))}function gW(t){let e;for(;e=t.sourceEvent;)t=e;return t}function _W(t,e){if(t=gW(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function j8(t){return typeof t=="string"?new oa([document.querySelectorAll(t)],[document.documentElement]):new oa([Nk(t)],B3)}function Uh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function a0(){}var X0=.7,gh=1/X0,ih="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vW=/^#([0-9a-f]{3,8})$/,yW=new RegExp(`^rgb\\(${ih},${ih},${ih}\\)$`),bW=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),wW=new RegExp(`^rgba\\(${ih},${ih},${ih},${fp}\\)$`),xW=new RegExp(`^rgba\\(${jl},${jl},${jl},${fp}\\)$`),SW=new RegExp(`^hsl\\(${fp},${jl},${jl}\\)$`),TW=new RegExp(`^hsla\\(${fp},${jl},${jl},${fp}\\)$`),K8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uh(a0,ju,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:X8,formatHex:X8,formatHex8:kW,formatHsl:EW,formatRgb:J8,toString:J8});function X8(){return this.rgb().formatHex()}function kW(){return this.rgb().formatHex8()}function EW(){return Gk(this).formatHsl()}function J8(){return this.rgb().formatRgb()}function ju(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Q8(e):n===3?new Zi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?h1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?h1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yW.exec(t))?new Zi(e[1],e[2],e[3],1):(e=bW.exec(t))?new Zi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wW.exec(t))?h1(e[1],e[2],e[3],e[4]):(e=xW.exec(t))?h1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SW.exec(t))?nw(e[1],e[2]/100,e[3]/100,1):(e=TW.exec(t))?nw(e[1],e[2]/100,e[3]/100,e[4]):K8.hasOwnProperty(t)?Q8(K8[t]):t==="transparent"?new Zi(NaN,NaN,NaN,0):null}function Q8(t){return new Zi(t>>16&255,t>>8&255,t&255,1)}function h1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zi(t,e,n,r)}function z3(t){return t instanceof a0||(t=ju(t)),t?(t=t.rgb(),new Zi(t.r,t.g,t.b,t.opacity)):new Zi}function jc(t,e,n,r){return arguments.length===1?z3(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Uh(Zi,jc,Kp(a0,{brighter(t){return t=t==null?gh:Math.pow(gh,t),new Zi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?X0:Math.pow(X0,t),new Zi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zi(W0(this.r),W0(this.g),W0(this.b),Tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ew,formatHex:ew,formatHex8:MW,formatRgb:tw,toString:tw}));function ew(){return`#${O0(this.r)}${O0(this.g)}${O0(this.b)}`}function MW(){return`#${O0(this.r)}${O0(this.g)}${O0(this.b)}${O0((isNaN(this.opacity)?1:this.opacity)*255)}`}function tw(){const t=Tg(this.opacity);return`${t===1?"rgb(":"rgba("}${W0(this.r)}, ${W0(this.g)}, ${W0(this.b)}${t===1?")":`, ${t})`}`}function Tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function W0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function O0(t){return t=W0(t),(t<16?"0":"")+t.toString(16)}function nw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xo(t,e,n,r)}function Gk(t){if(t instanceof Xo)return new Xo(t.h,t.s,t.l,t.opacity);if(t instanceof a0||(t=ju(t)),!t)return new Xo;if(t instanceof Xo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Xo(a,l,c,t.opacity)}function qy(t,e,n,r){return arguments.length===1?Gk(t):new Xo(t,e,n,r??1)}function Xo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Uh(Xo,qy,Kp(a0,{brighter(t){return t=t==null?gh:Math.pow(gh,t),new Xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?X0:Math.pow(X0,t),new Xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zi(u4(t>=240?t-240:t+120,i,r),u4(t,i,r),u4(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xo(rw(this.h),d1(this.s),d1(this.l),Tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tg(this.opacity);return`${t===1?"hsl(":"hsla("}${rw(this.h)}, ${d1(this.s)*100}%, ${d1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rw(t){return t=(t||0)%360,t<0?t+360:t}function d1(t){return Math.max(0,Math.min(1,t||0))}function u4(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $k=Math.PI/180,Vk=180/Math.PI,kg=18,Zk=.96422,Yk=1,jk=.82521,Kk=4/29,sh=6/29,Xk=3*sh*sh,CW=sh*sh*sh;function Jk(t){if(t instanceof Kl)return new Kl(t.l,t.a,t.b,t.opacity);if(t instanceof zu)return Qk(t);t instanceof Zi||(t=z3(t));var e=d4(t.r),n=d4(t.g),r=d4(t.b),i=c4((.2225045*e+.7168786*n+.0606169*r)/Yk),s,a;return e===n&&n===r?s=a=i:(s=c4((.4360747*e+.3850649*n+.1430804*r)/Zk),a=c4((.0139322*e+.0971045*n+.7141733*r)/jk)),new Kl(116*i-16,500*(s-i),200*(i-a),t.opacity)}function Hy(t,e,n,r){return arguments.length===1?Jk(t):new Kl(t,e,n,r??1)}function Kl(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Uh(Kl,Hy,Kp(a0,{brighter(t){return new Kl(this.l+kg*(t??1),this.a,this.b,this.opacity)},darker(t){return new Kl(this.l-kg*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Zk*f4(e),t=Yk*f4(t),n=jk*f4(n),new Zi(h4(3.1338561*e-1.6168667*t-.4906146*n),h4(-.9787684*e+1.9161415*t+.033454*n),h4(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function c4(t){return t>CW?Math.pow(t,1/3):t/Xk+Kk}function f4(t){return t>sh?t*t*t:Xk*(t-Kk)}function h4(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function d4(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function AW(t){if(t instanceof zu)return new zu(t.h,t.c,t.l,t.opacity);if(t instanceof Kl||(t=Jk(t)),t.a===0&&t.b===0)return new zu(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vk;return new zu(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Wy(t,e,n,r){return arguments.length===1?AW(t):new zu(t,e,n,r??1)}function zu(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qk(t){if(isNaN(t.h))return new Kl(t.l,0,0,t.opacity);var e=t.h*$k;return new Kl(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Uh(zu,Wy,Kp(a0,{brighter(t){return new zu(this.h,this.c,this.l+kg*(t??1),this.opacity)},darker(t){return new zu(this.h,this.c,this.l-kg*(t??1),this.opacity)},rgb(){return Qk(this).rgb()}}));var eE=-.14861,F3=1.78277,U3=-.29227,Y_=-.90649,hp=1.97294,iw=hp*Y_,sw=hp*F3,aw=F3*U3-Y_*eE;function IW(t){if(t instanceof G0)return new G0(t.h,t.s,t.l,t.opacity);t instanceof Zi||(t=z3(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(aw*r+iw*e-sw*n)/(aw+iw-sw),s=r-i,a=(hp*(n-i)-U3*s)/Y_,l=Math.sqrt(a*a+s*s)/(hp*i*(1-i)),c=l?Math.atan2(a,s)*Vk-120:NaN;return new G0(c<0?c+360:c,l,i,t.opacity)}function tu(t,e,n,r){return arguments.length===1?IW(t):new G0(t,e,n,r??1)}function G0(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Uh(G0,tu,Kp(a0,{brighter(t){return t=t==null?gh:Math.pow(gh,t),new G0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?X0:Math.pow(X0,t),new G0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*$k,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Zi(255*(e+n*(eE*r+F3*i)),255*(e+n*(U3*r+Y_*i)),255*(e+n*(hp*r)),this.opacity)}}));function RW(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}function PW(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,l=r<e-1?t[r+2]:2*s-i;return RW((n-r/e)*e,a,i,s,l)}}const j_=t=>()=>t;function tE(t,e){return function(n){return t+n*e}}function NW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function q3(t,e){var n=e-t;return n?tE(t,n>180||n<-180?n-360*Math.round(n/360):n):j_(isNaN(t)?e:t)}function LW(t){return(t=+t)==1?Ns:function(e,n){return n-e?NW(e,n,t):j_(isNaN(e)?n:e)}}function Ns(t,e){var n=e-t;return n?tE(t,n):j_(isNaN(t)?e:t)}const J0=function t(e){var n=LW(e);function r(i,s){var a=n((i=jc(i)).r,(s=jc(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),f=Ns(i.opacity,s.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function OW(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),a,l;for(a=0;a<n;++a)l=jc(e[a]),r[a]=l.r||0,i[a]=l.g||0,s[a]=l.b||0;return r=t(r),i=t(i),s=t(s),l.opacity=1,function(c){return l.r=r(c),l.g=i(c),l.b=s(c),l+""}}}var DW=OW(PW);function BW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function zW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Kc(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function UW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ps(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p4=new RegExp(Gy.source,"g");function HW(t){return function(){return t}}function WW(t){return function(e){return t(e)+""}}function nE(t,e){var n=Gy.lastIndex=p4.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Gy.exec(t))&&(i=p4.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Ps(r,i)})),n=p4.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?WW(c[0].x):HW(e):(e=c.length,function(f){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(f);return l.join("")})}function Kc(t,e){var n=typeof e,r;return e==null||n==="boolean"?j_(e):(n==="number"?Ps:n==="string"?(r=ju(e))?(e=r,J0):nE:e instanceof ju?J0:e instanceof Date?UW:zW(e)?BW:Array.isArray(e)?FW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qW:Ps)(t,e)}function Xp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ow=180/Math.PI,$y={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rE(t,e,n,r,i,s){var a,l,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*ow,skewX:Math.atan(c)*ow,scaleX:a,scaleY:l}}var p1;function GW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$y:rE(e.a,e.b,e.c,e.d,e.e,e.f)}function $W(t){return t==null||(p1||(p1=document.createElementNS("http://www.w3.org/2000/svg","g")),p1.setAttribute("transform",t),!(t=p1.transform.baseVal.consolidate()))?$y:(t=t.matrix,rE(t.a,t.b,t.c,t.d,t.e,t.f))}function iE(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,g,y,w){if(f!==m||p!==g){var S=y.push("translate(",null,e,null,n);w.push({i:S-4,x:Ps(f,m)},{i:S-2,x:Ps(p,g)})}else(m||g)&&y.push("translate("+m+e+g+n)}function a(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Ps(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function l(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Ps(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function c(f,p,m,g,y,w){if(f!==m||p!==g){var S=y.push(i(y)+"scale(",null,",",null,")");w.push({i:S-4,x:Ps(f,m)},{i:S-2,x:Ps(p,g)})}else(m!==1||g!==1)&&y.push(i(y)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=t(f),p=t(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,g),a(f.rotate,p.rotate,m,g),l(f.skewX,p.skewX,m,g),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(y){for(var w=-1,S=g.length,I;++w<S;)m[(I=g[w]).i]=I.x(y);return m.join("")}}}var VW=iE(GW,"px, ","px)","deg)"),ZW=iE($W,", ",")",")");function YW(t){return function(e,n){var r=t((e=qy(e)).h,(n=qy(n)).h),i=Ns(e.s,n.s),s=Ns(e.l,n.l),a=Ns(e.opacity,n.opacity);return function(l){return e.h=r(l),e.s=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const jW=YW(q3);function KW(t,e){var n=Ns((t=Hy(t)).l,(e=Hy(e)).l),r=Ns(t.a,e.a),i=Ns(t.b,e.b),s=Ns(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=s(a),t+""}}function XW(t){return function(e,n){var r=t((e=Wy(e)).h,(n=Wy(n)).h),i=Ns(e.c,n.c),s=Ns(e.l,n.l),a=Ns(e.opacity,n.opacity);return function(l){return e.h=r(l),e.c=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const JW=XW(q3);function sE(t){return function e(n){n=+n;function r(i,s){var a=t((i=tu(i)).h,(s=tu(s)).h),l=Ns(i.s,s.s),c=Ns(i.l,s.l),f=Ns(i.opacity,s.opacity);return function(p){return i.h=a(p),i.s=l(p),i.l=c(Math.pow(p,n)),i.opacity=f(p),i+""}}return r.gamma=e,r}(1)}sE(q3);var H3=sE(Ns);function K_(t,e){e===void 0&&(e=t,t=Kc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Da(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var _h=0,Nd=0,_d=0,aE=1e3,Eg,Ld,Mg=0,Q0=0,X_=0,dp=typeof performance=="object"&&performance.now?performance:Date,oE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function W3(){return Q0||(oE(QW),Q0=dp.now()+X_)}function QW(){Q0=0}function Cg(){this._call=this._time=this._next=null}Cg.prototype=lE.prototype={constructor:Cg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?W3():+n)+(e==null?0:+e),!this._next&&Ld!==this&&(Ld?Ld._next=this:Eg=this,Ld=this),this._call=t,this._time=n,Vy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vy())}};function lE(t,e,n){var r=new Cg;return r.restart(t,e,n),r}function eG(){W3(),++_h;for(var t=Eg,e;t;)(e=Q0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_h}function lw(){Q0=(Mg=dp.now())+X_,_h=Nd=0;try{eG()}finally{_h=0,nG(),Q0=0}}function tG(){var t=dp.now(),e=t-Mg;e>aE&&(X_-=e,Mg=t)}function nG(){for(var t,e=Eg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Eg=n);Ld=t,Vy(r)}function Vy(t){if(!_h){Nd&&(Nd=clearTimeout(Nd));var e=t-Q0;e>24?(t<1/0&&(Nd=setTimeout(lw,t-dp.now()-X_)),_d&&(_d=clearInterval(_d))):(_d||(Mg=dp.now(),_d=setInterval(tG,aE)),_h=1,oE(lw))}}function uw(t,e,n){var r=new Cg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var rG=Pk("start","end","cancel","interrupt"),iG=[],uE=0,cw=1,Zy=2,tg=3,fw=4,Yy=5,ng=6;function J_(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;sG(t,n,{name:e,index:r,group:i,on:rG,tween:iG,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:uE})}function G3(t,e){var n=ol(t,e);if(n.state>uE)throw new Error("too late; already scheduled");return n}function iu(t,e){var n=ol(t,e);if(n.state>tg)throw new Error("too late; already running");return n}function ol(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sG(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=lE(s,0,n.time);function s(f){n.state=cw,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,m,g,y;if(n.state!==cw)return c();for(p in r)if(y=r[p],y.name===n.name){if(y.state===tg)return uw(a);y.state===fw?(y.state=ng,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[p]):+p<e&&(y.state=ng,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[p])}if(uw(function(){n.state===tg&&(n.state=fw,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Zy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zy){for(n.state=tg,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(y=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function l(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Yy,1),m=-1,g=i.length;++m<g;)i[m].call(t,p);n.state===Yy&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=ng,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function aG(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>Zy&&r.state<Yy,r.state=ng,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function oG(t){return this.each(function(){aG(this,t)})}function lG(t,e){var n,r;return function(){var i=iu(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function uG(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=iu(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===e){i[c]=l;break}c===f&&i.push(l)}s.tween=i}}function cG(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ol(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?lG:uG)(n,t,e))}function $3(t,e,n){var r=t._id;return t.each(function(){var i=iu(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ol(i,r).value[e]}}function cE(t,e){var n;return(typeof e=="number"?Ps:e instanceof ju?J0:(n=ju(e))?(e=n,J0):nE)(t,e)}function fG(t){return function(){this.removeAttribute(t)}}function hG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dG(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function pG(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function mG(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function gG(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function _G(t,e){var n=Z_(t),r=n==="transform"?ZW:cE;return this.attrTween(t,typeof e=="function"?(n.local?gG:mG)(n,r,$3(this,"attr."+t,e)):e==null?(n.local?hG:fG)(n):(n.local?pG:dG)(n,r,e))}function vG(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function yG(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function bG(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&yG(t,s)),n}return i._value=e,i}function wG(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&vG(t,s)),n}return i._value=e,i}function xG(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Z_(t);return this.tween(n,(r.local?bG:wG)(r,e))}function SG(t,e){return function(){G3(this,t).delay=+e.apply(this,arguments)}}function TG(t,e){return e=+e,function(){G3(this,t).delay=e}}function kG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?SG:TG)(e,t)):ol(this.node(),e).delay}function EG(t,e){return function(){iu(this,t).duration=+e.apply(this,arguments)}}function MG(t,e){return e=+e,function(){iu(this,t).duration=e}}function CG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?EG:MG)(e,t)):ol(this.node(),e).duration}function AG(t,e){if(typeof e!="function")throw new Error;return function(){iu(this,t).ease=e}}function IG(t){var e=this._id;return arguments.length?this.each(AG(e,t)):ol(this.node(),e).ease}function RG(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;iu(this,t).ease=n}}function PG(t){if(typeof t!="function")throw new Error;return this.each(RG(this._id,t))}function NG(t){typeof t!="function"&&(t=Ok(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new Ku(r,this._parents,this._name,this._id)}function LG(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c=e[l],f=n[l],p=c.length,m=a[l]=new Array(p),g,y=0;y<p;++y)(g=c[y]||f[y])&&(m[y]=g);for(;l<r;++l)a[l]=e[l];return new Ku(a,this._parents,this._name,this._id)}function OG(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function DG(t,e,n){var r,i,s=OG(e)?G3:iu;return function(){var a=s(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function BG(t,e){var n=this._id;return arguments.length<2?ol(this.node(),n).on.on(t):this.each(DG(n,t,e))}function zG(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function FG(){return this.on("end.remove",zG(this._id))}function UG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=O3(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],c=l.length,f=s[a]=new Array(c),p,m,g=0;g<c;++g)(p=l[g])&&(m=t.call(p,p.__data__,g,l))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,J_(f[g],e,n,g,f,ol(p,n)));return new Ku(s,this._parents,e,n)}function qG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Lk(t));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var c=r[l],f=c.length,p,m=0;m<f;++m)if(p=c[m]){for(var g=t.call(p,p.__data__,m,c),y,w=ol(p,n),S=0,I=g.length;S<I;++S)(y=g[S])&&J_(y,e,n,S,g,w);s.push(g),a.push(p)}return new Ku(s,a,e,n)}var HG=jp.prototype.constructor;function WG(){return new HG(this._groups,this._parents)}function GG(t,e){var n,r,i;return function(){var s=mh(this,t),a=(this.style.removeProperty(t),mh(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function fE(t){return function(){this.style.removeProperty(t)}}function $G(t,e,n){var r,i=n+"",s;return function(){var a=mh(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function VG(t,e,n){var r,i,s;return function(){var a=mh(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),mh(this,t))),a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l))}}function ZG(t,e){var n,r,i,s="style."+e,a="end."+s,l;return function(){var c=iu(this,t),f=c.on,p=c.value[s]==null?l||(l=fE(e)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(a,i=p),c.on=r}}function YG(t,e,n){var r=(t+="")=="transform"?VW:cE;return e==null?this.styleTween(t,GG(t,r)).on("end.style."+t,fE(t)):typeof e=="function"?this.styleTween(t,VG(t,r,$3(this,"style."+t,e))).each(ZG(this._id,t)):this.styleTween(t,$G(t,r,e),n).on("end.style."+t,null)}function jG(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function KG(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&jG(t,a,n)),r}return s._value=e,s}function XG(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,KG(t,e,n??""))}function JG(t){return function(){this.textContent=t}}function QG(t){return function(){var e=t(this);this.textContent=e??""}}function e$(t){return this.tween("text",typeof t=="function"?QG($3(this,"text",t)):JG(t==null?"":t+""))}function t$(t){return function(e){this.textContent=t.call(this,e)}}function n$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&t$(i)),e}return r._value=t,r}function r$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,n$(t))}function i$(){for(var t=this._name,e=this._id,n=hE(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)if(c=a[f]){var p=ol(c,e);J_(c,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ku(r,this._parents,t,n)}function s$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var f=iu(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),f.on=e}),i===0&&s()})}var a$=0;function Ku(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function hE(){return++a$}var Mu=jp.prototype;Ku.prototype={constructor:Ku,select:UG,selectAll:qG,selectChild:Mu.selectChild,selectChildren:Mu.selectChildren,filter:NG,merge:LG,selection:WG,transition:i$,call:Mu.call,nodes:Mu.nodes,node:Mu.node,size:Mu.size,empty:Mu.empty,each:Mu.each,on:BG,attr:_G,attrTween:xG,style:YG,styleTween:XG,text:e$,textTween:r$,remove:FG,tween:cG,delay:kG,duration:CG,ease:IG,easeVarying:PG,end:s$,[Symbol.iterator]:Mu[Symbol.iterator]};function o$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var l$={time:null,delay:0,duration:250,ease:o$};function u$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function c$(t){var e,n;t instanceof Ku?(e=t._id,t=t._name):(e=hE(),(n=l$).time=W3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&J_(c,t,e,f,a,n||u$(c,e));return new Ku(r,this._parents,t,e)}jp.prototype.interrupt=oG;jp.prototype.transition=c$;const jy=Math.PI,Ky=2*jy,I0=1e-6,f$=Ky-I0;function dE(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function h$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dE;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let pE=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dE:h$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,p=a-e,m=l-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>I0)if(!(Math.abs(m*c-f*p)>I0)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,w=i-l,S=c*c+f*f,I=y*y+w*w,P=Math.sqrt(S),k=Math.sqrt(g),A=s*Math.tan((jy-Math.acos((S+g-I)/(2*P*k)))/2),C=A/k,N=A/P;Math.abs(C-1)>I0&&this._append`L${e+C*p},${n+C*m}`,this._append`A${s},${s},0,0,${+(m*y>p*w)},${this._x1=e+N*c},${this._y1=n+N*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,p=n+c,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>I0||Math.abs(this._y1-p)>I0)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%Ky+Ky),g>f$?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>I0&&this._append`A${r},${r},0,${+(g>=jy)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function D0(t=3){return new pE(+t)}var hw={},m4={},g4=34,vd=10,_4=13;function mE(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function d$(t,e){var n=mE(t);return function(r,i){return e(n(r),i,t)}}function dw(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Aa(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function p$(t){return t<0?"-"+Aa(-t,6):t>9999?"+"+Aa(t,6):Aa(t,4)}function m$(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":p$(t.getUTCFullYear())+"-"+Aa(t.getUTCMonth()+1,2)+"-"+Aa(t.getUTCDate(),2)+(i?"T"+Aa(e,2)+":"+Aa(n,2)+":"+Aa(r,2)+"."+Aa(i,3)+"Z":r?"T"+Aa(e,2)+":"+Aa(n,2)+":"+Aa(r,2)+"Z":n||e?"T"+Aa(e,2)+":"+Aa(n,2)+"Z":"")}function gE(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(m,g){var y,w,S=i(m,function(I,P){if(y)return y(I,P-1);w=I,y=g?d$(I,g):mE(I)});return S.columns=w||[],S}function i(m,g){var y=[],w=m.length,S=0,I=0,P,k=w<=0,A=!1;m.charCodeAt(w-1)===vd&&--w,m.charCodeAt(w-1)===_4&&--w;function C(){if(k)return m4;if(A)return A=!1,hw;var D,F=S,W;if(m.charCodeAt(F)===g4){for(;S++<w&&m.charCodeAt(S)!==g4||m.charCodeAt(++S)===g4;);return(D=S)>=w?k=!0:(W=m.charCodeAt(S++))===vd?A=!0:W===_4&&(A=!0,m.charCodeAt(S)===vd&&++S),m.slice(F+1,D-1).replace(/""/g,'"')}for(;S<w;){if((W=m.charCodeAt(D=S++))===vd)A=!0;else if(W===_4)A=!0,m.charCodeAt(S)===vd&&++S;else if(W!==n)continue;return m.slice(F,D)}return k=!0,m.slice(F,w)}for(;(P=C())!==m4;){for(var N=[];P!==hw&&P!==m4;)N.push(P),P=C();g&&(N=g(N,I++))==null||y.push(N)}return y}function s(m,g){return m.map(function(y){return g.map(function(w){return p(y[w])}).join(t)})}function a(m,g){return g==null&&(g=dw(m)),[g.map(p).join(t)].concat(s(m,g)).join(`
`)}function l(m,g){return g==null&&(g=dw(m)),s(m,g).join(`
`)}function c(m){return m.map(f).join(`
`)}function f(m){return m.map(p).join(t)}function p(m){return m==null?"":m instanceof Date?m$(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:r,parseRows:i,format:a,formatBody:l,formatRows:c,formatRow:f,formatValue:p}}var _E=gE(","),vE=_E.parse,g$=_E.parseRows,yE=gE("	"),_$=yE.parse,v$=yE.parseRows;function Ag(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))y$&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const y$=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function b$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function w$(t,e){return fetch(t,e).then(b$)}function x$(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),w$(e,n).then(function(i){return t(i,r)})}}var bE=x$(vE);function S$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function rg(t,e){return fetch(t,e).then(S$)}function T$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ig(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vh(t){return t=Ig(Math.abs(t)),t?t[1]:NaN}function k$(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function E$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var M$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pp(t){if(!(e=M$.exec(t)))throw new Error("invalid format: "+t);var e;return new V3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pp.prototype=V3.prototype;function V3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wE;function A$(t,e){var n=Ig(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(wE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ig(t,Math.max(0,e+s-1))[0]}function pw(t,e){var n=Ig(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mw={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:T$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pw(t*100,e),r:pw,s:A$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gw(t){return t}var _w=Array.prototype.map,vw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function I$(t){var e=t.grouping===void 0||t.thousands===void 0?gw:k$(_w.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?gw:E$(_w.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=pp(m);var g=m.fill,y=m.align,w=m.sign,S=m.symbol,I=m.zero,P=m.width,k=m.comma,A=m.precision,C=m.trim,N=m.type;N==="n"?(k=!0,N="g"):mw[N]||(A===void 0&&(A=12),C=!0,N="g"),(I||g==="0"&&y==="=")&&(I=!0,g="0",y="=");var D=S==="$"?n:S==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",F=S==="$"?r:/[%p]/.test(N)?a:"",W=mw[N],G=/[defgprs%]/.test(N);A=A===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function Y(V){var ee=D,fe=F,le,ie,he;if(N==="c")fe=W(V)+fe,V="";else{V=+V;var me=V<0||1/V<0;if(V=isNaN(V)?c:W(Math.abs(V),A),C&&(V=C$(V)),me&&+V==0&&w!=="+"&&(me=!1),ee=(me?w==="("?w:l:w==="-"||w==="("?"":w)+ee,fe=(N==="s"?vw[8+wE/3]:"")+fe+(me&&w==="("?")":""),G){for(le=-1,ie=V.length;++le<ie;)if(he=V.charCodeAt(le),48>he||he>57){fe=(he===46?i+V.slice(le+1):V.slice(le))+fe,V=V.slice(0,le);break}}}k&&!I&&(V=e(V,1/0));var ve=ee.length+V.length+fe.length,pe=ve<P?new Array(P-ve+1).join(g):"";switch(k&&I&&(V=e(pe+V,pe.length?P-fe.length:1/0),pe=""),y){case"<":V=ee+V+fe+pe;break;case"=":V=ee+pe+V+fe;break;case"^":V=pe.slice(0,ve=pe.length>>1)+ee+V+fe+pe.slice(ve);break;default:V=pe+ee+V+fe;break}return s(V)}return Y.toString=function(){return m+""},Y}function p(m,g){var y=f((m=pp(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(vh(g)/3)))*3,S=Math.pow(10,-w),I=vw[8+w/3];return function(P){return y(S*P)+I}}return{format:f,formatPrefix:p}}var m1,qn,xE;R$({thousands:",",grouping:[3],currency:["$",""]});function R$(t){return m1=I$(t),qn=m1.format,xE=m1.formatPrefix,m1}function P$(t){return Math.max(0,-vh(Math.abs(t)))}function N$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vh(e)/3)))*3-vh(Math.abs(t)))}function L$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vh(e)-vh(t))+1}var Ot=1e-6,Z3=1e-12,_n=Math.PI,ei=_n/2,yw=_n/4,to=_n*2,us=180/_n,Un=_n/180,Wn=Math.abs,qh=Math.atan,nu=Math.atan2,Jt=Math.cos,g1=Math.ceil,SE=Math.exp,Rg=Math.log,v4=Math.pow,$t=Math.sin,xo=Math.sign||function(t){return t>0?1:t<0?-1:0},la=Math.sqrt,Y3=Math.tan;function TE(t){return t>1?0:t<-1?_n:Math.acos(t)}function Ao(t){return t>1?ei:t<-1?-ei:Math.asin(t)}function Vi(){}function Pg(t,e){t&&ww.hasOwnProperty(t.type)&&ww[t.type](t,e)}var bw={Feature:function(t,e){Pg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Pg(n[r].geometry,e)}},ww={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Xy(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Xy(n[r],e,0)},Polygon:function(t,e){xw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xw(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Pg(n[r],e)}};function Xy(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function xw(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Xy(t[n],e,1);e.polygonEnd()}function Rc(t,e){t&&bw.hasOwnProperty(t.type)?bw[t.type](t,e):Pg(t,e)}function Jy(t){return[nu(t[1],t[0]),Ao(t[2])]}function yh(t){var e=t[0],n=t[1],r=Jt(n);return[r*Jt(e),r*$t(e),$t(n)]}function _1(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ng(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function y4(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function v1(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Qy(t){var e=la(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Bf(t){return function(){return t}}function eb(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function tb(t,e){return Wn(t)>_n&&(t-=Math.round(t/to)*to),[t,e]}tb.invert=tb;function j3(t,e,n){return(t%=to)?e||n?eb(Tw(t),kw(e,n)):Tw(t):e||n?kw(e,n):tb}function Sw(t){return function(e,n){return e+=t,Wn(e)>_n&&(e-=Math.round(e/to)*to),[e,n]}}function Tw(t){var e=Sw(t);return e.invert=Sw(-t),e}function kw(t,e){var n=Jt(t),r=$t(t),i=Jt(e),s=$t(e);function a(l,c){var f=Jt(c),p=Jt(l)*f,m=$t(l)*f,g=$t(c),y=g*n+p*r;return[nu(m*i-y*s,p*n-g*r),Ao(y*i+m*s)]}return a.invert=function(l,c){var f=Jt(c),p=Jt(l)*f,m=$t(l)*f,g=$t(c),y=g*i-m*s;return[nu(m*i+g*s,p*n+y*r),Ao(y*n-p*r)]},a}function O$(t){t=j3(t[0]*Un,t[1]*Un,t.length>2?t[2]*Un:0);function e(n){return n=t(n[0]*Un,n[1]*Un),n[0]*=us,n[1]*=us,n}return e.invert=function(n){return n=t.invert(n[0]*Un,n[1]*Un),n[0]*=us,n[1]*=us,n},e}function kE(t,e,n,r,i,s){if(n){var a=Jt(e),l=$t(e),c=r*n;i==null?(i=e+r*to,s=e-c/2):(i=Ew(a,i),s=Ew(a,s),(r>0?i<s:i>s)&&(i+=r*to));for(var f,p=i;r>0?p>s:p<s;p-=c)f=Jy([a,-l*Jt(p),-l*$t(p)]),t.point(f[0],f[1])}}function Ew(t,e){e=yh(e),e[0]-=t,Qy(e);var n=TE(-e[1]);return((-e[2]<0?-n:n)+to-Ot)%to}function D$(){var t=Bf([0,0]),e=Bf(90),n=Bf(6),r,i,s={point:a};function a(c,f){r.push(c=i(c,f)),c[0]*=us,c[1]*=us}function l(){var c=t.apply(this,arguments),f=e.apply(this,arguments)*Un,p=n.apply(this,arguments)*Un;return r=[],i=j3(-c[0]*Un,-c[1]*Un,0).invert,kE(s,f,p,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return l.center=function(c){return arguments.length?(t=typeof c=="function"?c:Bf([+c[0],+c[1]]),l):t},l.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Bf(+c),l):e},l.precision=function(c){return arguments.length?(n=typeof c=="function"?c:Bf(+c),l):n},l}function EE(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Vi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ig(t,e){return Wn(t[0]-e[0])<Ot&&Wn(t[1]-e[1])<Ot}function y1(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ME(t,e,n,r,i){var s=[],a=[],l,c;if(t.forEach(function(w){if(!((S=w.length-1)<=0)){var S,I=w[0],P=w[S],k;if(ig(I,P)){if(!I[2]&&!P[2]){for(i.lineStart(),l=0;l<S;++l)i.point((I=w[l])[0],I[1]);i.lineEnd();return}P[0]+=2*Ot}s.push(k=new y1(I,w,null,!0)),a.push(k.o=new y1(I,null,k,!1)),s.push(k=new y1(P,w,null,!1)),a.push(k.o=new y1(P,null,k,!0))}}),!!s.length){for(a.sort(e),Mw(s),Mw(a),l=0,c=a.length;l<c;++l)a[l].e=n=!n;for(var f=s[0],p,m;;){for(var g=f,y=!0;g.v;)if((g=g.n)===f)return;p=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(y)for(l=0,c=p.length;l<c;++l)i.point((m=p[l])[0],m[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(y)for(p=g.p.z,l=p.length-1;l>=0;--l)i.point((m=p[l])[0],m[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,p=g.z,y=!y}while(!g.v);i.lineEnd()}}}function Mw(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function b4(t){return Wn(t[0])<=_n?t[0]:xo(t[0])*((Wn(t[0])+_n)%to-_n)}function CE(t,e){var n=b4(e),r=e[1],i=$t(r),s=[$t(n),-Jt(n),0],a=0,l=0,c=new Yc;i===1?r=ei+Ot:i===-1&&(r=-ei-Ot);for(var f=0,p=t.length;f<p;++f)if(g=(m=t[f]).length)for(var m,g,y=m[g-1],w=b4(y),S=y[1]/2+yw,I=$t(S),P=Jt(S),k=0;k<g;++k,w=C,I=D,P=F,y=A){var A=m[k],C=b4(A),N=A[1]/2+yw,D=$t(N),F=Jt(N),W=C-w,G=W>=0?1:-1,Y=G*W,V=Y>_n,ee=I*D;if(c.add(nu(ee*G*$t(Y),P*F+ee*Jt(Y))),a+=V?W+G*to:W,V^w>=n^C>=n){var fe=Ng(yh(y),yh(A));Qy(fe);var le=Ng(s,fe);Qy(le);var ie=(V^W>=0?-1:1)*Ao(le[2]);(r>ie||r===ie&&(fe[0]||fe[1]))&&(l+=V^W>=0?1:-1)}}return(a<-Ot||a<Ot&&c<-Z3)^l&1}function AE(t,e,n,r){return function(i){var s=e(i),a=EE(),l=e(a),c=!1,f,p,m,g={point:y,lineStart:S,lineEnd:I,polygonStart:function(){g.point=P,g.lineStart=k,g.lineEnd=A,p=[],f=[]},polygonEnd:function(){g.point=y,g.lineStart=S,g.lineEnd=I,p=Ik(p);var C=CE(f,r);p.length?(c||(i.polygonStart(),c=!0),ME(p,z$,C,n,i)):C&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),p=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(C,N){t(C,N)&&i.point(C,N)}function w(C,N){s.point(C,N)}function S(){g.point=w,s.lineStart()}function I(){g.point=y,s.lineEnd()}function P(C,N){m.push([C,N]),l.point(C,N)}function k(){l.lineStart(),m=[]}function A(){P(m[0][0],m[0][1]),l.lineEnd();var C=l.clean(),N=a.result(),D,F=N.length,W,G,Y;if(m.pop(),f.push(m),m=null,!!F){if(C&1){if(G=N[0],(W=G.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),D=0;D<W;++D)i.point((Y=G[D])[0],Y[1]);i.lineEnd()}return}F>1&&C&2&&N.push(N.pop().concat(N.shift())),p.push(N.filter(B$))}}return g}}function B$(t){return t.length>1}function z$(t,e){return((t=t.x)[0]<0?t[1]-ei-Ot:ei-t[1])-((e=e.x)[0]<0?e[1]-ei-Ot:ei-e[1])}const Cw=AE(function(){return!0},F$,q$,[-_n,-ei]);function F$(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,a){var l=s>0?_n:-_n,c=Wn(s-e);Wn(c-_n)<Ot?(t.point(e,n=(n+a)/2>0?ei:-ei),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(s,n),i=0):r!==l&&c>=_n&&(Wn(e-r)<Ot&&(e-=r*Ot),Wn(s-l)<Ot&&(s-=l*Ot),n=U$(e,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),i=0),t.point(e=s,n=a),r=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function U$(t,e,n,r){var i,s,a=$t(t-n);return Wn(a)>Ot?qh(($t(e)*(s=Jt(r))*$t(n)-$t(r)*(i=Jt(e))*$t(t))/(i*s*a)):(e+r)/2}function q$(t,e,n,r){var i;if(t==null)i=n*ei,r.point(-_n,i),r.point(0,i),r.point(_n,i),r.point(_n,0),r.point(_n,-i),r.point(0,-i),r.point(-_n,-i),r.point(-_n,0),r.point(-_n,i);else if(Wn(t[0]-e[0])>Ot){var s=t[0]<e[0]?_n:-_n;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function H$(t){var e=Jt(t),n=6*Un,r=e>0,i=Wn(e)>Ot;function s(p,m,g,y){kE(y,t,n,g,p,m)}function a(p,m){return Jt(p)*Jt(m)>e}function l(p){var m,g,y,w,S;return{lineStart:function(){w=y=!1,S=1},point:function(I,P){var k=[I,P],A,C=a(I,P),N=r?C?0:f(I,P):C?f(I+(I<0?_n:-_n),P):0;if(!m&&(w=y=C)&&p.lineStart(),C!==y&&(A=c(m,k),(!A||ig(m,A)||ig(k,A))&&(k[2]=1)),C!==y)S=0,C?(p.lineStart(),A=c(k,m),p.point(A[0],A[1])):(A=c(m,k),p.point(A[0],A[1],2),p.lineEnd()),m=A;else if(i&&m&&r^C){var D;!(N&g)&&(D=c(k,m,!0))&&(S=0,r?(p.lineStart(),p.point(D[0][0],D[0][1]),p.point(D[1][0],D[1][1]),p.lineEnd()):(p.point(D[1][0],D[1][1]),p.lineEnd(),p.lineStart(),p.point(D[0][0],D[0][1],3)))}C&&(!m||!ig(m,k))&&p.point(k[0],k[1]),m=k,y=C,g=N},lineEnd:function(){y&&p.lineEnd(),m=null},clean:function(){return S|(w&&y)<<1}}}function c(p,m,g){var y=yh(p),w=yh(m),S=[1,0,0],I=Ng(y,w),P=_1(I,I),k=I[0],A=P-k*k;if(!A)return!g&&p;var C=e*P/A,N=-e*k/A,D=Ng(S,I),F=v1(S,C),W=v1(I,N);y4(F,W);var G=D,Y=_1(F,G),V=_1(G,G),ee=Y*Y-V*(_1(F,F)-1);if(!(ee<0)){var fe=la(ee),le=v1(G,(-Y-fe)/V);if(y4(le,F),le=Jy(le),!g)return le;var ie=p[0],he=m[0],me=p[1],ve=m[1],pe;he<ie&&(pe=ie,ie=he,he=pe);var Z=he-ie,j=Wn(Z-_n)<Ot,ae=j||Z<Ot;if(!j&&ve<me&&(pe=me,me=ve,ve=pe),ae?j?me+ve>0^le[1]<(Wn(le[0]-ie)<Ot?me:ve):me<=le[1]&&le[1]<=ve:Z>_n^(ie<=le[0]&&le[0]<=he)){var Ee=v1(G,(-Y+fe)/V);return y4(Ee,F),[le,Jy(Ee)]}}}function f(p,m){var g=r?t:_n-t,y=0;return p<-g?y|=1:p>g&&(y|=2),m<-g?y|=4:m>g&&(y|=8),y}return AE(a,l,s,r?[0,-t]:[-_n,t-_n])}function W$(t,e,n,r,i,s){var a=t[0],l=t[1],c=e[0],f=e[1],p=0,m=1,g=c-a,y=f-l,w;if(w=n-a,!(!g&&w>0)){if(w/=g,g<0){if(w<p)return;w<m&&(m=w)}else if(g>0){if(w>m)return;w>p&&(p=w)}if(w=i-a,!(!g&&w<0)){if(w/=g,g<0){if(w>m)return;w>p&&(p=w)}else if(g>0){if(w<p)return;w<m&&(m=w)}if(w=r-l,!(!y&&w>0)){if(w/=y,y<0){if(w<p)return;w<m&&(m=w)}else if(y>0){if(w>m)return;w>p&&(p=w)}if(w=s-l,!(!y&&w<0)){if(w/=y,y<0){if(w>m)return;w>p&&(p=w)}else if(y>0){if(w<p)return;w<m&&(m=w)}return p>0&&(t[0]=a+p*g,t[1]=l+p*y),m<1&&(e[0]=a+m*g,e[1]=l+m*y),!0}}}}}var Od=1e9,b1=-Od;function IE(t,e,n,r){function i(f,p){return t<=f&&f<=n&&e<=p&&p<=r}function s(f,p,m,g){var y=0,w=0;if(f==null||(y=a(f,m))!==(w=a(p,m))||c(f,p)<0^m>0)do g.point(y===0||y===3?t:n,y>1?r:e);while((y=(y+m+4)%4)!==w);else g.point(p[0],p[1])}function a(f,p){return Wn(f[0]-t)<Ot?p>0?0:3:Wn(f[0]-n)<Ot?p>0?2:1:Wn(f[1]-e)<Ot?p>0?1:0:p>0?3:2}function l(f,p){return c(f.x,p.x)}function c(f,p){var m=a(f,1),g=a(p,1);return m!==g?m-g:m===0?p[1]-f[1]:m===1?f[0]-p[0]:m===2?f[1]-p[1]:p[0]-f[0]}return function(f){var p=f,m=EE(),g,y,w,S,I,P,k,A,C,N,D,F={point:W,lineStart:ee,lineEnd:fe,polygonStart:Y,polygonEnd:V};function W(ie,he){i(ie,he)&&p.point(ie,he)}function G(){for(var ie=0,he=0,me=y.length;he<me;++he)for(var ve=y[he],pe=1,Z=ve.length,j=ve[0],ae,Ee,Oe=j[0],Re=j[1];pe<Z;++pe)ae=Oe,Ee=Re,j=ve[pe],Oe=j[0],Re=j[1],Ee<=r?Re>r&&(Oe-ae)*(r-Ee)>(Re-Ee)*(t-ae)&&++ie:Re<=r&&(Oe-ae)*(r-Ee)<(Re-Ee)*(t-ae)&&--ie;return ie}function Y(){p=m,g=[],y=[],D=!0}function V(){var ie=G(),he=D&&ie,me=(g=Ik(g)).length;(he||me)&&(f.polygonStart(),he&&(f.lineStart(),s(null,null,1,f),f.lineEnd()),me&&ME(g,l,ie,s,f),f.polygonEnd()),p=f,g=y=w=null}function ee(){F.point=le,y&&y.push(w=[]),N=!0,C=!1,k=A=NaN}function fe(){g&&(le(S,I),P&&C&&m.rejoin(),g.push(m.result())),F.point=W,C&&p.lineEnd()}function le(ie,he){var me=i(ie,he);if(y&&w.push([ie,he]),N)S=ie,I=he,P=me,N=!1,me&&(p.lineStart(),p.point(ie,he));else if(me&&C)p.point(ie,he);else{var ve=[k=Math.max(b1,Math.min(Od,k)),A=Math.max(b1,Math.min(Od,A))],pe=[ie=Math.max(b1,Math.min(Od,ie)),he=Math.max(b1,Math.min(Od,he))];W$(ve,pe,t,e,n,r)?(C||(p.lineStart(),p.point(ve[0],ve[1])),p.point(pe[0],pe[1]),me||p.lineEnd(),D=!1):me&&(p.lineStart(),p.point(ie,he),D=!1)}k=ie,A=he,C=me}return F}}var nb,rb,sg,ag,bh={sphere:Vi,point:Vi,lineStart:G$,lineEnd:Vi,polygonStart:Vi,polygonEnd:Vi};function G$(){bh.point=V$,bh.lineEnd=$$}function $$(){bh.point=bh.lineEnd=Vi}function V$(t,e){t*=Un,e*=Un,rb=t,sg=$t(e),ag=Jt(e),bh.point=Z$}function Z$(t,e){t*=Un,e*=Un;var n=$t(e),r=Jt(e),i=Wn(t-rb),s=Jt(i),a=$t(i),l=r*a,c=ag*n-sg*r*s,f=sg*n+ag*r*s;nb.add(nu(la(l*l+c*c),f)),rb=t,sg=n,ag=r}function Y$(t){return nb=new Yc,Rc(t,bh),+nb}var ib=[null,null],j$={type:"LineString",coordinates:ib};function sb(t,e){return ib[0]=t,ib[1]=e,Y$(j$)}var Aw={Feature:function(t,e){return Lg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Lg(n[r].geometry,e))return!0;return!1}},Iw={Sphere:function(){return!0},Point:function(t,e){return Rw(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Rw(n[r],e))return!0;return!1},LineString:function(t,e){return Pw(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Pw(n[r],e))return!0;return!1},Polygon:function(t,e){return Nw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Nw(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Lg(n[r],e))return!0;return!1}};function Lg(t,e){return t&&Iw.hasOwnProperty(t.type)?Iw[t.type](t,e):!1}function Rw(t,e){return sb(t,e)===0}function Pw(t,e){for(var n,r,i,s=0,a=t.length;s<a;s++){if(r=sb(t[s],e),r===0||s>0&&(i=sb(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Z3*i))return!0;n=r}return!1}function Nw(t,e){return!!CE(t.map(K$),RE(e))}function K$(t){return t=t.map(RE),t.pop(),t}function RE(t){return[t[0]*Un,t[1]*Un]}function M0(t,e){return(t&&Aw.hasOwnProperty(t.type)?Aw[t.type]:Lg)(t,e)}function Lw(t,e,n){var r=na(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function Ow(t,e,n){var r=na(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function PE(){var t,e,n,r,i,s,a,l,c=10,f=c,p=90,m=360,g,y,w,S,I=2.5;function P(){return{type:"MultiLineString",coordinates:k()}}function k(){return na(g1(r/p)*p,n,p).map(w).concat(na(g1(l/m)*m,a,m).map(S)).concat(na(g1(e/c)*c,t,c).filter(function(A){return Wn(A%p)>Ot}).map(g)).concat(na(g1(s/f)*f,i,f).filter(function(A){return Wn(A%m)>Ot}).map(y))}return P.lines=function(){return k().map(function(A){return{type:"LineString",coordinates:A}})},P.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(S(a).slice(1),w(n).reverse().slice(1),S(l).reverse().slice(1))]}},P.extent=function(A){return arguments.length?P.extentMajor(A).extentMinor(A):P.extentMinor()},P.extentMajor=function(A){return arguments.length?(r=+A[0][0],n=+A[1][0],l=+A[0][1],a=+A[1][1],r>n&&(A=r,r=n,n=A),l>a&&(A=l,l=a,a=A),P.precision(I)):[[r,l],[n,a]]},P.extentMinor=function(A){return arguments.length?(e=+A[0][0],t=+A[1][0],s=+A[0][1],i=+A[1][1],e>t&&(A=e,e=t,t=A),s>i&&(A=s,s=i,i=A),P.precision(I)):[[e,s],[t,i]]},P.step=function(A){return arguments.length?P.stepMajor(A).stepMinor(A):P.stepMinor()},P.stepMajor=function(A){return arguments.length?(p=+A[0],m=+A[1],P):[p,m]},P.stepMinor=function(A){return arguments.length?(c=+A[0],f=+A[1],P):[c,f]},P.precision=function(A){return arguments.length?(I=+A,g=Lw(s,i,90),y=Ow(e,t,I),w=Lw(l,a,90),S=Ow(r,n,I),P):I},P.extentMajor([[-180,-90+Ot],[180,90-Ot]]).extentMinor([[-180,-80-Ot],[180,80+Ot]])}function X$(){return PE()()}const ab=t=>t;var w4=new Yc,ob=new Yc,NE,LE,lb,ub,Pc={point:Vi,lineStart:Vi,lineEnd:Vi,polygonStart:function(){Pc.lineStart=J$,Pc.lineEnd=eV},polygonEnd:function(){Pc.lineStart=Pc.lineEnd=Pc.point=Vi,w4.add(Wn(ob)),ob=new Yc},result:function(){var t=w4/2;return w4=new Yc,t}};function J$(){Pc.point=Q$}function Q$(t,e){Pc.point=OE,NE=lb=t,LE=ub=e}function OE(t,e){ob.add(ub*t-lb*e),lb=t,ub=e}function eV(){OE(NE,LE)}const Dw=Pc;var wh=1/0,Og=wh,mp=-wh,Dg=mp,tV={point:nV,lineStart:Vi,lineEnd:Vi,polygonStart:Vi,polygonEnd:Vi,result:function(){var t=[[wh,Og],[mp,Dg]];return mp=Dg=-(Og=wh=1/0),t}};function nV(t,e){t<wh&&(wh=t),t>mp&&(mp=t),e<Og&&(Og=e),e>Dg&&(Dg=e)}const Bg=tV;var cb=0,fb=0,Dd=0,zg=0,Fg=0,jf=0,hb=0,db=0,Bd=0,DE,BE,Hl,Wl,Jo={point:ef,lineStart:Bw,lineEnd:zw,polygonStart:function(){Jo.lineStart=sV,Jo.lineEnd=aV},polygonEnd:function(){Jo.point=ef,Jo.lineStart=Bw,Jo.lineEnd=zw},result:function(){var t=Bd?[hb/Bd,db/Bd]:jf?[zg/jf,Fg/jf]:Dd?[cb/Dd,fb/Dd]:[NaN,NaN];return cb=fb=Dd=zg=Fg=jf=hb=db=Bd=0,t}};function ef(t,e){cb+=t,fb+=e,++Dd}function Bw(){Jo.point=rV}function rV(t,e){Jo.point=iV,ef(Hl=t,Wl=e)}function iV(t,e){var n=t-Hl,r=e-Wl,i=la(n*n+r*r);zg+=i*(Hl+t)/2,Fg+=i*(Wl+e)/2,jf+=i,ef(Hl=t,Wl=e)}function zw(){Jo.point=ef}function sV(){Jo.point=oV}function aV(){zE(DE,BE)}function oV(t,e){Jo.point=zE,ef(DE=Hl=t,BE=Wl=e)}function zE(t,e){var n=t-Hl,r=e-Wl,i=la(n*n+r*r);zg+=i*(Hl+t)/2,Fg+=i*(Wl+e)/2,jf+=i,i=Wl*t-Hl*e,hb+=i*(Hl+t),db+=i*(Wl+e),Bd+=i*3,ef(Hl=t,Wl=e)}const Fw=Jo;function FE(t){this._context=t}FE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,to);break}}},result:Vi};var pb=new Yc,x4,UE,qE,zd,Fd,Ug={point:Vi,lineStart:function(){Ug.point=lV},lineEnd:function(){x4&&HE(UE,qE),Ug.point=Vi},polygonStart:function(){x4=!0},polygonEnd:function(){x4=null},result:function(){var t=+pb;return pb=new Yc,t}};function lV(t,e){Ug.point=HE,UE=zd=t,qE=Fd=e}function HE(t,e){zd-=t,Fd-=e,pb.add(la(zd*zd+Fd*Fd)),zd=t,Fd=e}const Uw=Ug;let qw,qg,Hw,Ww;class Gw{constructor(e){this._append=e==null?WE:uV(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Hw||this._append!==qg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Hw=r,qg=this._append,Ww=this._,this._=i}this._+=Ww;break}}}result(){const e=this._;return this._="",e.length?e:null}}function WE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uV(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return WE;if(e!==qw){const n=10**e;qw=e,qg=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return qg}function xh(t,e){let n=3,r=4.5,i,s;function a(l){return l&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Rc(l,i(s))),s.result()}return a.area=function(l){return Rc(l,i(Dw)),Dw.result()},a.measure=function(l){return Rc(l,i(Uw)),Uw.result()},a.bounds=function(l){return Rc(l,i(Bg)),Bg.result()},a.centroid=function(l){return Rc(l,i(Fw)),Fw.result()},a.projection=function(l){return arguments.length?(i=l==null?(t=null,ab):(t=l).stream,a):t},a.context=function(l){return arguments.length?(s=l==null?(e=null,new Gw(n)):new FE(e=l),typeof r!="function"&&s.pointRadius(r),a):e},a.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);n=c}return e===null&&(s=new Gw(n)),a},a.projection(t).digits(n).context(e)}function gp(t){return{stream:Q_(t)}}function Q_(t){return function(e){var n=new mb;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mb(){}mb.prototype={constructor:mb,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function K3(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Rc(n,t.stream(Bg)),e(Bg.result()),r!=null&&t.clipExtent(r),t}function X3(t,e,n){return K3(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(s-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([l,c])},n)}function GE(t,e,n){return X3(t,[[0,0],e],n)}function $E(t,e,n){return K3(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];t.scale(150*s).translate([a,l])},n)}function VE(t,e,n){return K3(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,l])},n)}var $w=16,cV=Jt(30*Un);function Vw(t,e){return+e?hV(t,e):fV(t)}function fV(t){return Q_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function hV(t,e){function n(r,i,s,a,l,c,f,p,m,g,y,w,S,I){var P=f-r,k=p-i,A=P*P+k*k;if(A>4*e&&S--){var C=a+g,N=l+y,D=c+w,F=la(C*C+N*N+D*D),W=Ao(D/=F),G=Wn(Wn(D)-1)<Ot||Wn(s-m)<Ot?(s+m)/2:nu(N,C),Y=t(G,W),V=Y[0],ee=Y[1],fe=V-r,le=ee-i,ie=k*fe-P*le;(ie*ie/A>e||Wn((P*fe+k*le)/A-.5)>.3||a*g+l*y+c*w<cV)&&(n(r,i,s,a,l,c,V,ee,G,C/=F,N/=F,D,S,I),I.point(V,ee),n(V,ee,G,C,N,D,f,p,m,g,y,w,S,I))}}return function(r){var i,s,a,l,c,f,p,m,g,y,w,S,I={point:P,lineStart:k,lineEnd:C,polygonStart:function(){r.polygonStart(),I.lineStart=N},polygonEnd:function(){r.polygonEnd(),I.lineStart=k}};function P(W,G){W=t(W,G),r.point(W[0],W[1])}function k(){m=NaN,I.point=A,r.lineStart()}function A(W,G){var Y=yh([W,G]),V=t(W,G);n(m,g,p,y,w,S,m=V[0],g=V[1],p=W,y=Y[0],w=Y[1],S=Y[2],$w,r),r.point(m,g)}function C(){I.point=P,r.lineEnd()}function N(){k(),I.point=D,I.lineEnd=F}function D(W,G){A(i=W,G),s=m,a=g,l=y,c=w,f=S,I.point=A}function F(){n(m,g,p,y,w,S,s,a,i,l,c,f,$w,r),I.lineEnd=C,C()}return I}}var dV=Q_({point:function(t,e){this.stream.point(t*Un,e*Un)}});function pV(t){return Q_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function mV(t,e,n,r,i){function s(a,l){return a*=r,l*=i,[e+t*a,n-t*l]}return s.invert=function(a,l){return[(a-e)/t*r,(n-l)/t*i]},s}function Zw(t,e,n,r,i,s){if(!s)return mV(t,e,n,r,i);var a=Jt(s),l=$t(s),c=a*t,f=l*t,p=a/t,m=l/t,g=(l*n-a*e)/t,y=(l*e+a*n)/t;function w(S,I){return S*=r,I*=i,[c*S-f*I+e,n-f*S-c*I]}return w.invert=function(S,I){return[r*(p*S-m*I+g),i*(y-m*S-p*I)]},w}function o0(t){return ZE(function(){return t})()}function ZE(t){var e,n=150,r=480,i=250,s=0,a=0,l=0,c=0,f=0,p,m=0,g=1,y=1,w=null,S=Cw,I=null,P,k,A,C=ab,N=.5,D,F,W,G,Y;function V(ie){return W(ie[0]*Un,ie[1]*Un)}function ee(ie){return ie=W.invert(ie[0],ie[1]),ie&&[ie[0]*us,ie[1]*us]}V.stream=function(ie){return G&&Y===ie?G:G=dV(pV(p)(S(D(C(Y=ie)))))},V.preclip=function(ie){return arguments.length?(S=ie,w=void 0,le()):S},V.postclip=function(ie){return arguments.length?(C=ie,I=P=k=A=null,le()):C},V.clipAngle=function(ie){return arguments.length?(S=+ie?H$(w=ie*Un):(w=null,Cw),le()):w*us},V.clipExtent=function(ie){return arguments.length?(C=ie==null?(I=P=k=A=null,ab):IE(I=+ie[0][0],P=+ie[0][1],k=+ie[1][0],A=+ie[1][1]),le()):I==null?null:[[I,P],[k,A]]},V.scale=function(ie){return arguments.length?(n=+ie,fe()):n},V.translate=function(ie){return arguments.length?(r=+ie[0],i=+ie[1],fe()):[r,i]},V.center=function(ie){return arguments.length?(s=ie[0]%360*Un,a=ie[1]%360*Un,fe()):[s*us,a*us]},V.rotate=function(ie){return arguments.length?(l=ie[0]%360*Un,c=ie[1]%360*Un,f=ie.length>2?ie[2]%360*Un:0,fe()):[l*us,c*us,f*us]},V.angle=function(ie){return arguments.length?(m=ie%360*Un,fe()):m*us},V.reflectX=function(ie){return arguments.length?(g=ie?-1:1,fe()):g<0},V.reflectY=function(ie){return arguments.length?(y=ie?-1:1,fe()):y<0},V.precision=function(ie){return arguments.length?(D=Vw(F,N=ie*ie),le()):la(N)},V.fitExtent=function(ie,he){return X3(V,ie,he)},V.fitSize=function(ie,he){return GE(V,ie,he)},V.fitWidth=function(ie,he){return $E(V,ie,he)},V.fitHeight=function(ie,he){return VE(V,ie,he)};function fe(){var ie=Zw(n,0,0,g,y,m).apply(null,e(s,a)),he=Zw(n,r-ie[0],i-ie[1],g,y,m);return p=j3(l,c,f),F=eb(e,he),W=eb(p,F),D=Vw(F,N),le()}function le(){return G=Y=null,V}return function(){return e=t.apply(this,arguments),V.invert=e.invert&&ee,fe()}}function J3(t){var e=0,n=_n/3,r=ZE(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*Un,n=s[1]*Un):[e*us,n*us]},i}function gV(t){var e=Jt(t);function n(r,i){return[r*e,$t(i)/e]}return n.invert=function(r,i){return[r/e,Ao(i*e)]},n}function _V(t,e){var n=$t(t),r=(n+$t(e))/2;if(Wn(r)<Ot)return gV(t);var i=1+n*(2*r-n),s=la(i)/r;function a(l,c){var f=la(i-2*r*$t(c))/r;return[f*$t(l*=r),s-f*Jt(l)]}return a.invert=function(l,c){var f=s-c,p=nu(l,Wn(f))*xo(f);return f*r<0&&(p-=_n*xo(l)*xo(f)),[p/r,Ao((i-(l*l+f*f)*r*r)/(2*r))]},a}function Hg(){return J3(_V).scale(155.424).center([0,33.6442])}function YE(){return Hg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function vV(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function yV(){var t,e,n=YE(),r,i=Hg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=Hg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,f={point:function(g,y){c=[g,y]}};function p(g){var y=g[0],w=g[1];return c=null,r.point(y,w),c||(s.point(y,w),c)||(l.point(y,w),c)}p.invert=function(g){var y=n.scale(),w=n.translate(),S=(g[0]-w[0])/y,I=(g[1]-w[1])/y;return(I>=.12&&I<.234&&S>=-.425&&S<-.214?i:I>=.166&&I<.234&&S>=-.214&&S<-.115?a:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=vV([n.stream(e=g),i.stream(g),a.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),a.precision(g),m()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),a.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var y=n.scale(),w=+g[0],S=+g[1];return r=n.translate(g).clipExtent([[w-.455*y,S-.238*y],[w+.455*y,S+.238*y]]).stream(f),s=i.translate([w-.307*y,S+.201*y]).clipExtent([[w-.425*y+Ot,S+.12*y+Ot],[w-.214*y-Ot,S+.234*y-Ot]]).stream(f),l=a.translate([w-.205*y,S+.212*y]).clipExtent([[w-.214*y+Ot,S+.166*y+Ot],[w-.115*y-Ot,S+.234*y-Ot]]).stream(f),m()},p.fitExtent=function(g,y){return X3(p,g,y)},p.fitSize=function(g,y){return GE(p,g,y)},p.fitWidth=function(g,y){return $E(p,g,y)},p.fitHeight=function(g,y){return VE(p,g,y)};function m(){return t=e=null,p}return p.scale(1070)}function jE(t){return function(e,n){var r=Jt(e),i=Jt(n),s=t(r*i);return s===1/0?[2,0]:[s*i*$t(e),s*$t(n)]}}function Jp(t){return function(e,n){var r=la(e*e+n*n),i=t(r),s=$t(i),a=Jt(i);return[nu(e*s,r*a),Ao(r&&n*s/r)]}}var KE=jE(function(t){return la(2/(1+t))});KE.invert=Jp(function(t){return 2*Ao(t/2)});function bV(){return o0(KE).scale(124.75).clipAngle(180-.001)}var XE=jE(function(t){return(t=TE(t))&&t/$t(t)});XE.invert=Jp(function(t){return t});function wV(){return o0(XE).scale(79.4188).clipAngle(180-.001)}function e2(t,e){return[t,Rg(Y3((ei+e)/2))]}e2.invert=function(t,e){return[t,2*qh(SE(e))-ei]};function JE(){return QE(e2).scale(961/to)}function QE(t){var e=o0(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,a=null,l,c,f;e.scale=function(m){return arguments.length?(r(m),p()):r()},e.translate=function(m){return arguments.length?(i(m),p()):i()},e.center=function(m){return arguments.length?(n(m),p()):n()},e.clipExtent=function(m){return arguments.length?(m==null?a=l=c=f=null:(a=+m[0][0],l=+m[0][1],c=+m[1][0],f=+m[1][1]),p()):a==null?null:[[a,l],[c,f]]};function p(){var m=_n*r(),g=e(O$(e.rotate()).invert([0,0]));return s(a==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===e2?[[Math.max(g[0]-m,a),l],[Math.min(g[0]+m,c),f]]:[[a,Math.max(g[1]-m,l)],[c,Math.min(g[1]+m,f)]])}return p()}function w1(t){return Y3((ei+t)/2)}function xV(t,e){var n=Jt(t),r=t===e?$t(t):Rg(n/Jt(e))/Rg(w1(e)/w1(t)),i=n*v4(w1(t),r)/r;if(!r)return e2;function s(a,l){i>0?l<-ei+Ot&&(l=-ei+Ot):l>ei-Ot&&(l=ei-Ot);var c=i/v4(w1(l),r);return[c*$t(r*a),i-c*Jt(r*a)]}return s.invert=function(a,l){var c=i-l,f=xo(r)*la(a*a+c*c),p=nu(a,Wn(c))*xo(c);return c*r<0&&(p-=_n*xo(a)*xo(c)),[p/r,2*qh(v4(i/f,1/r))-ei]},s}function SV(){return J3(xV).scale(109.5).parallels([30,30])}function Wg(t,e){return[t,e]}Wg.invert=Wg;function TV(){return o0(Wg).scale(152.63)}function kV(t,e){var n=Jt(t),r=t===e?$t(t):(n-Jt(e))/(e-t),i=n/r+t;if(Wn(r)<Ot)return Wg;function s(a,l){var c=i-l,f=r*a;return[c*$t(f),i-c*Jt(f)]}return s.invert=function(a,l){var c=i-l,f=nu(a,Wn(c))*xo(c);return c*r<0&&(f-=_n*xo(a)*xo(c)),[f/r,i-xo(r)*la(a*a+c*c)]},s}function EV(){return J3(kV).scale(131.154).center([0,13.9389])}var $d=1.340264,Vd=-.081106,Zd=893e-6,Yd=.003796,Gg=la(3)/2,MV=12;function eM(t,e){var n=Ao(Gg*$t(e)),r=n*n,i=r*r*r;return[t*Jt(n)/(Gg*($d+3*Vd*r+i*(7*Zd+9*Yd*r))),n*($d+Vd*r+i*(Zd+Yd*r))]}eM.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,a,l,c;s<MV&&(l=n*($d+Vd*r+i*(Zd+Yd*r))-e,c=$d+3*Vd*r+i*(7*Zd+9*Yd*r),n-=a=l/c,r=n*n,i=r*r*r,!(Wn(a)<Z3));++s);return[Gg*t*($d+3*Vd*r+i*(7*Zd+9*Yd*r))/Jt(n),Ao($t(n)/Gg)]};function CV(){return o0(eM).scale(177.158)}function tM(t,e){var n=Jt(e),r=Jt(t)*n;return[n*$t(t)/r,$t(e)/r]}tM.invert=Jp(qh);function AV(){return o0(tM).scale(144.049).clipAngle(60)}function nM(t,e){return[Jt(e)*$t(t),$t(e)]}nM.invert=Jp(Ao);function IV(){return o0(nM).scale(249.5).clipAngle(90+Ot)}function rM(t,e){var n=Jt(e),r=1+Jt(t)*n;return[n*$t(t)/r,$t(e)/r]}rM.invert=Jp(function(t){return 2*qh(t)});function RV(){return o0(rM).scale(250).clipAngle(142)}function iM(t,e){return[Rg(Y3((ei+e)/2)),-t]}iM.invert=function(t,e){return[-e,2*qh(SE(t))-ei]};function PV(){var t=QE(iM),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function su(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qp(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gb=Symbol("implicit");function _p(){var t=new K0,e=[],n=[],r=gb;function i(s){let a=t.get(s);if(a===void 0){if(r!==gb)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new K0;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _p(e,n).unknown(r)},su.apply(i,arguments),i}function em(){var t=_p().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,f=0,p=.5;delete t.unknown;function m(){var g=e().length,y=i<r,w=y?i:r,S=y?r:i;s=(S-w)/Math.max(1,g-c+f*2),l&&(s=Math.floor(s)),w+=(S-w-s*(g-c))*p,a=s*(1-c),l&&(w=Math.round(w),a=Math.round(a));var I=na(g).map(function(P){return w+s*P});return n(y?I.reverse():I)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return em(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(p)},su.apply(m(),arguments)}function sM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sM(e())},t}function NV(){return sM(em.apply(null,arguments).paddingInner(1))}function LV(t){return function(){return t}}function _b(t){return+t}var Yw=[0,1];function Na(t){return t}function vb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:LV(isNaN(e)?NaN:.5)}function OV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function DV(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=vb(i,r),s=n(a,s)):(r=vb(r,i),s=n(s,a)),function(l){return s(r(l))}}function BV(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=vb(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=$_(t,l,1,r)-1;return s[c](i[c](l))}}function tm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function t2(){var t=Yw,e=Yw,n=Kc,r,i,s,a=Na,l,c,f;function p(){var g=Math.min(t.length,e.length);return a!==Na&&(a=OV(t[0],t[g-1])),l=g>2?BV:DV,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((f||(f=l(e,t.map(r),Ps)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,_b),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Xp,p()},m.clamp=function(g){return arguments.length?(a=g?!0:Na,p()):a!==Na},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,y){return r=g,i=y,p()}}function aM(){return t2()(Na,Na)}function zV(t,e,n,r){var i=By(t,e,n),s;switch(r=pp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=N$(i,a))&&(r.precision=s),xE(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=L$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=P$(i))&&(r.precision=s-(r.type==="%")*2);break}}return qn(r)}function Hh(t){var e=t.domain;return t.ticks=function(n){var r=e();return op(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,f,p=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);p-- >0;){if(f=dh(a,l,n),f===c)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function n2(){var t=aM();return t.copy=function(){return tm(t,n2())},su.apply(t,arguments),Hh(t)}function oM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_b),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oM(t).unknown(e)},t=arguments.length?Array.from(t,_b):[0,1],Hh(n)}function lM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function jw(t){return Math.log(t)}function Kw(t){return Math.exp(t)}function FV(t){return-Math.log(-t)}function UV(t){return-Math.exp(-t)}function qV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HV(t){return t===10?qV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Xw(t){return(e,n)=>-t(-e,n)}function uM(t){const e=t(jw,Kw),n=e.domain;let r=10,i,s;function a(){return i=WV(r),s=HV(r),n()[0]<0?(i=Xw(i),s=Xw(s),t(FV,UV)):t(jw,Kw),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],p=c[c.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),y=i(p),w,S;const I=l==null?10:+l;let P=[];if(!(r%1)&&y-g<I){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(w=1;w<r;++w)if(S=g<0?w/s(-g):w*s(g),!(S<f)){if(S>p)break;P.push(S)}}else for(;g<=y;++g)for(w=r-1;w>=1;--w)if(S=g>0?w/s(-g):w*s(g),!(S<f)){if(S>p)break;P.push(S)}P.length*2<I&&(P=op(f,p,I))}else P=op(g,y,Math.min(y-g,I)).map(s);return m?P.reverse():P},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=pp(c)).precision==null&&(c.trim=!0),c=qn(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?c(p):""}},e.nice=()=>n(lM(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function cM(){const t=uM(t2()).domain([1,10]);return t.copy=()=>tm(t,cM()).base(t.base()),su.apply(t,arguments),t}function Jw(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fM(t){var e=1,n=t(Jw(e),Qw(e));return n.constant=function(r){return arguments.length?t(Jw(e=+r),Qw(e)):e},Hh(n)}function hM(){var t=fM(t2());return t.copy=function(){return tm(t,hM()).constant(t.constant())},su.apply(t,arguments)}function e9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $V(t){return t<0?-t*t:t*t}function dM(t){var e=t(Na,Na),n=1;function r(){return n===1?t(Na,Na):n===.5?t(GV,$V):t(e9(n),e9(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hh(e)}function pM(){var t=dM(t2());return t.copy=function(){return tm(t,pM()).exponent(t.exponent())},su.apply(t,arguments),t}function mM(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=yq(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[$_(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Oa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return mM().domain(t).range(e).unknown(r)},su.apply(s,arguments)}function gM(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[$_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return gM().domain(t).range(e).unknown(n)},su.apply(i,arguments)}const S4=new Date,T4=new Date;function Ai(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let f;do c.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return c},i.filter=s=>Ai(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(S4.setTime(+s),T4.setTime(+a),t(S4),t(T4),Math.floor(n(S4,T4))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const $g=Ai(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$g.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ai(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$g);$g.range;const Fu=1e3,So=Fu*60,Uu=So*60,Xu=Uu*24,Q3=Xu*7,t9=Xu*30,k4=Xu*365,Gl=Ai(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fu)},(t,e)=>(e-t)/Fu,t=>t.getUTCSeconds());Gl.range;const r2=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fu)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getMinutes());r2.range;const nm=Ai(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCMinutes());nm.range;const i2=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fu-t.getMinutes()*So)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getHours());i2.range;const rm=Ai(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getUTCHours());rm.range;const pf=Ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*So)/Xu,t=>t.getDate()-1);pf.range;const s2=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xu,t=>t.getUTCDate()-1);s2.range;const a2=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xu,t=>Math.floor(t/Xu));a2.range;function mf(t){return Ai(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*So)/Q3)}const Sh=mf(0),vp=mf(1),_M=mf(2),vM=mf(3),tf=mf(4),yM=mf(5),bM=mf(6);Sh.range;vp.range;_M.range;vM.range;tf.range;yM.range;bM.range;function gf(t){return Ai(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Q3)}const Th=gf(0),yp=gf(1),wM=gf(2),xM=gf(3),nf=gf(4),SM=gf(5),TM=gf(6);Th.range;yp.range;wM.range;xM.range;nf.range;SM.range;TM.range;const im=Ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());im.range;const sm=Ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sm.range;const rl=Ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rl.range;const il=Ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});il.range;function kM(t,e,n,r,i,s){const a=[[Gl,1,Fu],[Gl,5,5*Fu],[Gl,15,15*Fu],[Gl,30,30*Fu],[s,1,So],[s,5,5*So],[s,15,15*So],[s,30,30*So],[i,1,Uu],[i,3,3*Uu],[i,6,6*Uu],[i,12,12*Uu],[r,1,Xu],[r,2,2*Xu],[n,1,Q3],[e,1,t9],[e,3,3*t9],[t,1,k4]];function l(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:c(f,p,m),w=y?y.range(f,+p+1):[];return g?w.reverse():w}function c(f,p,m){const g=Math.abs(p-f)/m,y=G_(([,,I])=>I).right(a,g);if(y===a.length)return t.every(By(f/k4,p/k4,m));if(y===0)return $g.every(Math.max(By(f,p,m),1));const[w,S]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return w.every(S)}return[l,c]}const[VV,ZV]=kM(il,sm,Th,a2,rm,nm),[YV,jV]=kM(rl,im,Sh,pf,i2,r2);function E4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function M4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function KV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=bd(i),p=wd(i),m=bd(s),g=wd(s),y=bd(a),w=wd(a),S=bd(l),I=wd(l),P=bd(c),k=wd(c),A={a:me,A:ve,b:pe,B:Z,c:null,d:o9,e:o9,f:yZ,g:AZ,G:RZ,H:gZ,I:_Z,j:vZ,L:EM,m:bZ,M:wZ,p:j,q:ae,Q:c9,s:f9,S:xZ,u:SZ,U:TZ,V:kZ,w:EZ,W:MZ,x:null,X:null,y:CZ,Y:IZ,Z:PZ,"%":u9},C={a:Ee,A:Oe,b:Re,B:Se,c:null,d:l9,e:l9,f:DZ,g:VZ,G:YZ,H:NZ,I:LZ,j:OZ,L:CM,m:BZ,M:zZ,p:Te,q:Ce,Q:c9,s:f9,S:FZ,u:UZ,U:qZ,V:HZ,w:WZ,W:GZ,x:null,X:null,y:$Z,Y:ZZ,Z:jZ,"%":u9},N={a:Y,A:V,b:ee,B:fe,c:le,d:s9,e:s9,f:hZ,g:i9,G:r9,H:a9,I:a9,j:lZ,L:fZ,m:oZ,M:uZ,p:G,q:aZ,Q:pZ,s:mZ,S:cZ,u:tZ,U:nZ,V:rZ,w:eZ,W:iZ,x:ie,X:he,y:i9,Y:r9,Z:sZ,"%":dZ};A.x=D(n,A),A.X=D(r,A),A.c=D(e,A),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C);function D(_e,Ne){return function(Be){var we=[],st=-1,ze=0,lt=_e.length,ft,et,kt;for(Be instanceof Date||(Be=new Date(+Be));++st<lt;)_e.charCodeAt(st)===37&&(we.push(_e.slice(ze,st)),(et=n9[ft=_e.charAt(++st)])!=null?ft=_e.charAt(++st):et=ft==="e"?" ":"0",(kt=Ne[ft])&&(ft=kt(Be,et)),we.push(ft),ze=st+1);return we.push(_e.slice(ze,st)),we.join("")}}function F(_e,Ne){return function(Be){var we=yd(1900,void 0,1),st=W(we,_e,Be+="",0),ze,lt;if(st!=Be.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Ne&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(ze=M4(yd(we.y,0,1)),lt=ze.getUTCDay(),ze=lt>4||lt===0?yp.ceil(ze):yp(ze),ze=s2.offset(ze,(we.V-1)*7),we.y=ze.getUTCFullYear(),we.m=ze.getUTCMonth(),we.d=ze.getUTCDate()+(we.w+6)%7):(ze=E4(yd(we.y,0,1)),lt=ze.getDay(),ze=lt>4||lt===0?vp.ceil(ze):vp(ze),ze=pf.offset(ze,(we.V-1)*7),we.y=ze.getFullYear(),we.m=ze.getMonth(),we.d=ze.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),lt="Z"in we?M4(yd(we.y,0,1)).getUTCDay():E4(yd(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(lt+5)%7:we.w+we.U*7-(lt+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,M4(we)):E4(we)}}function W(_e,Ne,Be,we){for(var st=0,ze=Ne.length,lt=Be.length,ft,et;st<ze;){if(we>=lt)return-1;if(ft=Ne.charCodeAt(st++),ft===37){if(ft=Ne.charAt(st++),et=N[ft in n9?Ne.charAt(st++):ft],!et||(we=et(_e,Be,we))<0)return-1}else if(ft!=Be.charCodeAt(we++))return-1}return we}function G(_e,Ne,Be){var we=f.exec(Ne.slice(Be));return we?(_e.p=p.get(we[0].toLowerCase()),Be+we[0].length):-1}function Y(_e,Ne,Be){var we=y.exec(Ne.slice(Be));return we?(_e.w=w.get(we[0].toLowerCase()),Be+we[0].length):-1}function V(_e,Ne,Be){var we=m.exec(Ne.slice(Be));return we?(_e.w=g.get(we[0].toLowerCase()),Be+we[0].length):-1}function ee(_e,Ne,Be){var we=P.exec(Ne.slice(Be));return we?(_e.m=k.get(we[0].toLowerCase()),Be+we[0].length):-1}function fe(_e,Ne,Be){var we=S.exec(Ne.slice(Be));return we?(_e.m=I.get(we[0].toLowerCase()),Be+we[0].length):-1}function le(_e,Ne,Be){return W(_e,e,Ne,Be)}function ie(_e,Ne,Be){return W(_e,n,Ne,Be)}function he(_e,Ne,Be){return W(_e,r,Ne,Be)}function me(_e){return a[_e.getDay()]}function ve(_e){return s[_e.getDay()]}function pe(_e){return c[_e.getMonth()]}function Z(_e){return l[_e.getMonth()]}function j(_e){return i[+(_e.getHours()>=12)]}function ae(_e){return 1+~~(_e.getMonth()/3)}function Ee(_e){return a[_e.getUTCDay()]}function Oe(_e){return s[_e.getUTCDay()]}function Re(_e){return c[_e.getUTCMonth()]}function Se(_e){return l[_e.getUTCMonth()]}function Te(_e){return i[+(_e.getUTCHours()>=12)]}function Ce(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ne=D(_e+="",A);return Ne.toString=function(){return _e},Ne},parse:function(_e){var Ne=F(_e+="",!1);return Ne.toString=function(){return _e},Ne},utcFormat:function(_e){var Ne=D(_e+="",C);return Ne.toString=function(){return _e},Ne},utcParse:function(_e){var Ne=F(_e+="",!0);return Ne.toString=function(){return _e},Ne}}}var n9={"-":"",_:" ",0:"0"},Ki=/^\s*\d+/,XV=/^%/,JV=/[\\^$*+?|[\]().{}]/g;function Gn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function QV(t){return t.replace(JV,"\\$&")}function bd(t){return new RegExp("^(?:"+t.map(QV).join("|")+")","i")}function wd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eZ(t,e,n){var r=Ki.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tZ(t,e,n){var r=Ki.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function r9(t,e,n){var r=Ki.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function i9(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aZ(t,e,n){var r=Ki.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function s9(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=Ki.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function a9(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=Ki.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fZ(t,e,n){var r=Ki.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=Ki.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dZ(t,e,n){var r=XV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pZ(t,e,n){var r=Ki.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=Ki.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function o9(t,e){return Gn(t.getDate(),e,2)}function gZ(t,e){return Gn(t.getHours(),e,2)}function _Z(t,e){return Gn(t.getHours()%12||12,e,2)}function vZ(t,e){return Gn(1+pf.count(rl(t),t),e,3)}function EM(t,e){return Gn(t.getMilliseconds(),e,3)}function yZ(t,e){return EM(t,e)+"000"}function bZ(t,e){return Gn(t.getMonth()+1,e,2)}function wZ(t,e){return Gn(t.getMinutes(),e,2)}function xZ(t,e){return Gn(t.getSeconds(),e,2)}function SZ(t){var e=t.getDay();return e===0?7:e}function TZ(t,e){return Gn(Sh.count(rl(t)-1,t),e,2)}function MM(t){var e=t.getDay();return e>=4||e===0?tf(t):tf.ceil(t)}function kZ(t,e){return t=MM(t),Gn(tf.count(rl(t),t)+(rl(t).getDay()===4),e,2)}function EZ(t){return t.getDay()}function MZ(t,e){return Gn(vp.count(rl(t)-1,t),e,2)}function CZ(t,e){return Gn(t.getFullYear()%100,e,2)}function AZ(t,e){return t=MM(t),Gn(t.getFullYear()%100,e,2)}function IZ(t,e){return Gn(t.getFullYear()%1e4,e,4)}function RZ(t,e){var n=t.getDay();return t=n>=4||n===0?tf(t):tf.ceil(t),Gn(t.getFullYear()%1e4,e,4)}function PZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gn(e/60|0,"0",2)+Gn(e%60,"0",2)}function l9(t,e){return Gn(t.getUTCDate(),e,2)}function NZ(t,e){return Gn(t.getUTCHours(),e,2)}function LZ(t,e){return Gn(t.getUTCHours()%12||12,e,2)}function OZ(t,e){return Gn(1+s2.count(il(t),t),e,3)}function CM(t,e){return Gn(t.getUTCMilliseconds(),e,3)}function DZ(t,e){return CM(t,e)+"000"}function BZ(t,e){return Gn(t.getUTCMonth()+1,e,2)}function zZ(t,e){return Gn(t.getUTCMinutes(),e,2)}function FZ(t,e){return Gn(t.getUTCSeconds(),e,2)}function UZ(t){var e=t.getUTCDay();return e===0?7:e}function qZ(t,e){return Gn(Th.count(il(t)-1,t),e,2)}function AM(t){var e=t.getUTCDay();return e>=4||e===0?nf(t):nf.ceil(t)}function HZ(t,e){return t=AM(t),Gn(nf.count(il(t),t)+(il(t).getUTCDay()===4),e,2)}function WZ(t){return t.getUTCDay()}function GZ(t,e){return Gn(yp.count(il(t)-1,t),e,2)}function $Z(t,e){return Gn(t.getUTCFullYear()%100,e,2)}function VZ(t,e){return t=AM(t),Gn(t.getUTCFullYear()%100,e,2)}function ZZ(t,e){return Gn(t.getUTCFullYear()%1e4,e,4)}function YZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?nf(t):nf.ceil(t),Gn(t.getUTCFullYear()%1e4,e,4)}function jZ(){return"+0000"}function u9(){return"%"}function c9(t){return+t}function f9(t){return Math.floor(+t/1e3)}var zf,e5,am;KZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KZ(t){return zf=KV(t),e5=zf.format,zf.parse,am=zf.utcFormat,zf.utcParse,zf}function XZ(t){return new Date(t)}function JZ(t){return t instanceof Date?+t:+new Date(+t)}function t5(t,e,n,r,i,s,a,l,c,f){var p=aM(),m=p.invert,g=p.domain,y=f(".%L"),w=f(":%S"),S=f("%I:%M"),I=f("%I %p"),P=f("%a %d"),k=f("%b %d"),A=f("%B"),C=f("%Y");function N(D){return(c(D)<D?y:l(D)<D?w:a(D)<D?S:s(D)<D?I:r(D)<D?i(D)<D?P:k:n(D)<D?A:C)(D)}return p.invert=function(D){return new Date(m(D))},p.domain=function(D){return arguments.length?g(Array.from(D,JZ)):g().map(XZ)},p.ticks=function(D){var F=g();return t(F[0],F[F.length-1],D??10)},p.tickFormat=function(D,F){return F==null?N:f(F)},p.nice=function(D){var F=g();return(!D||typeof D.range!="function")&&(D=e(F[0],F[F.length-1],D??10)),D?g(lM(F,D)):p},p.copy=function(){return tm(p,t5(t,e,n,r,i,s,a,l,c,f))},p}function QZ(){return su.apply(t5(YV,jV,rl,im,Sh,pf,i2,r2,Gl,e5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eY(){return su.apply(t5(VV,ZV,il,sm,Th,s2,rm,nm,Gl,am).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tY(){var t=0,e=1,n,r,i,s,a=Na,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function p(m){return function(g){var y,w;return arguments.length?([y,w]=g,a=m(y,w),f):[a(0),a(1)]}}return f.range=p(Kc),f.rangeRound=p(Xp),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function om(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Yf(){var t=Hh(tY()(Na));return t.copy=function(){return om(t,Yf())},Qp.apply(t,arguments)}function o2(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,f=Na,p,m=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-s)*(r*S<r*s?l:c),f(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),a=p(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(f=S,y):f};function w(S){return function(I){var P,k,A;return arguments.length?([P,k,A]=I,f=K_(S,[P,k,A]),y):[f(0),f(.5),f(1)]}}return y.range=w(Kc),y.rangeRound=w(Xp),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return p=S,i=S(t),s=S(e),a=S(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function IM(){var t=Hh(o2()(Na));return t.copy=function(){return om(t,IM())},Qp.apply(t,arguments)}function RM(){var t=uM(o2()).domain([.1,1,10]);return t.copy=function(){return om(t,RM()).base(t.base())},Qp.apply(t,arguments)}function PM(){var t=fM(o2());return t.copy=function(){return om(t,PM()).constant(t.constant())},Qp.apply(t,arguments)}function NM(){var t=dM(o2());return t.copy=function(){return om(t,NM()).exponent(t.exponent())},Qp.apply(t,arguments)}function sn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const nY=sn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),rY=sn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),iY=sn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),sY=sn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),aY=sn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),oY=sn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),lY=sn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),uY=sn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),cY=sn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),fY=sn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),dr=t=>DW(t[t.length-1]);var LM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sn);const OM=dr(LM);var DM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sn);const BM=dr(DM);var zM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sn);const FM=dr(zM);var UM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sn);const qM=dr(UM);var yb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sn);const kh=dr(yb);var HM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sn);const WM=dr(HM);var bb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sn);const Vg=dr(bb);var GM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sn);const $M=dr(GM);var VM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sn);const Zg=dr(VM);var ZM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sn);const YM=dr(ZM);var jM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sn);const KM=dr(jM);var XM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sn);const JM=dr(XM);var QM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sn);const eC=dr(QM);var tC=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sn);const nC=dr(tC);var rC=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sn);const iC=dr(rC);var sC=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sn);const aC=dr(sC);var oC=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sn);const lC=dr(oC);var uC=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sn);const cC=dr(uC);var fC=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sn);const hC=dr(fC);var dC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sn);const pC=dr(dC);var mC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sn);const gC=dr(mC);var _C=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sn);const vC=dr(_C);var yC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sn);const bC=dr(yC);var wC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sn);const xC=dr(wC);var SC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sn);const TC=dr(SC);var kC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sn);const EC=dr(kC);var MC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sn);const CC=dr(MC);function AC(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const IC=H3(tu(300,.5,0),tu(-240,.5,1));var RC=H3(tu(-100,.75,.35),tu(80,1.5,.8)),PC=H3(tu(260,.75,.35),tu(80,1.5,.8)),x1=tu();function NC(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return x1.h=360*t-100,x1.s=1.5-1.5*e,x1.l=.8-.9*e,x1+""}var S1=jc(),hY=Math.PI/3,dY=Math.PI*2/3;function LC(t){var e;return t=(.5-t)*Math.PI,S1.r=255*(e=Math.sin(t))*e,S1.g=255*(e=Math.sin(t+hY))*e,S1.b=255*(e=Math.sin(t+dY))*e,S1+""}function Yg(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function l2(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const OC=l2(sn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var DC=l2(sn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),n5=l2(sn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),BC=l2(sn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ff(t){return function(){return t}}const zC=Math.cos,r5=Math.min,jg=Math.sin,Ii=Math.sqrt,h9=1e-12,Kg=Math.PI,u2=2*Kg;function pY(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new pE(e)}function mY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FC(t){this._context=t}FC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function c2(t){return new FC(t)}function gY(t){return t[0]}function _Y(t){return t[1]}function vY(t,e){var n=Ff(!0),r=null,i=c2,s=null,a=pY(l);t=typeof t=="function"?t:t===void 0?gY:Ff(t),e=typeof e=="function"?e:e===void 0?_Y:Ff(e);function l(c){var f,p=(c=mY(c)).length,m,g=!1,y;for(r==null&&(s=i(y=a())),f=0;f<=p;++f)!(f<p&&n(m=c[f],f,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,f,c),+e(m,f,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ff(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ff(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ff(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}class UC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yY(t){return new UC(t,!0)}function bY(t){return new UC(t,!1)}const wY=Ii(3),qC={draw(t,e){const n=Ii(e+r5(e/28,.75))*.59436,r=n/2,i=r*wY;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},bp={draw(t,e){const n=Ii(e/Kg);t.moveTo(n,0),t.arc(0,0,n,0,u2)}},HC={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},WC=Ii(1/3),xY=WC*2,GC={draw(t,e){const n=Ii(e/xY),r=n*WC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$C={draw(t,e){const n=Ii(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},VC={draw(t,e){const n=Ii(e-r5(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},ZC={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},YC={draw(t,e){const n=Ii(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},SY=.8908130915292852,jC=jg(Kg/10)/jg(7*Kg/10),TY=jg(u2/10)*jC,kY=-zC(u2/10)*jC,KC={draw(t,e){const n=Ii(e*SY),r=TY*n,i=kY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=u2*s/5,l=zC(a),c=jg(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},C4=Ii(3),XC={draw(t,e){const n=-Ii(e/(C4*3));t.moveTo(0,n*2),t.lineTo(-C4*n,-n),t.lineTo(C4*n,-n),t.closePath()}},EY=Ii(3),JC={draw(t,e){const n=Ii(e)*.6824,r=n/2,i=n*EY/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},vo=-.5,yo=Ii(3)/2,wb=1/Ii(12),MY=(wb/2+1)*3,QC={draw(t,e){const n=Ii(e/MY),r=n/2,i=n*wb,s=r,a=n*wb+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(vo*r-yo*i,yo*r+vo*i),t.lineTo(vo*s-yo*a,yo*s+vo*a),t.lineTo(vo*l-yo*c,yo*l+vo*c),t.lineTo(vo*r+yo*i,vo*i-yo*r),t.lineTo(vo*s+yo*a,vo*a-yo*s),t.lineTo(vo*l+yo*c,vo*c-yo*l),t.closePath()}},eA={draw(t,e){const n=Ii(e-r5(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},CY=[bp,HC,GC,ZC,KC,XC,QC],AY=[bp,VC,eA,JC,qC,YC,$C];function Xc(){}function Xg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function f2(t){this._context=t}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IY(t){return new f2(t)}function tA(t){this._context=t}tA.prototype={areaStart:Xc,areaEnd:Xc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RY(t){return new tA(t)}function nA(t){this._context=t}nA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PY(t){return new nA(t)}function rA(t,e){this._basis=new f2(t),this._beta=e}rA.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,l=-1,c;++l<=n;)c=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+c*s),this._beta*e[l]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const NY=function t(e){function n(r){return e===1?new f2(r):new rA(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Jg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i5(t,e){this._context=t,this._k=(1-e)/6}i5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Jg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LY=function t(e){function n(r){return new i5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function s5(t,e){this._context=t,this._k=(1-e)/6}s5.prototype={areaStart:Xc,areaEnd:Xc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Jg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const OY=function t(e){function n(r){return new s5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function a5(t,e){this._context=t,this._k=(1-e)/6}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const DY=function t(e){function n(r){return new a5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function o5(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>h9){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>h9){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*f+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*f+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function iA(t,e){this._context=t,this._alpha=e}iA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:o5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const BY=function t(e){function n(r){return e?new iA(r,e):new i5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function sA(t,e){this._context=t,this._alpha=e}sA.prototype={areaStart:Xc,areaEnd:Xc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:o5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zY=function t(e){function n(r){return e?new sA(r,e):new s5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function aA(t,e){this._context=t,this._alpha=e}aA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:o5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const FY=function t(e){function n(r){return e?new aA(r,e):new a5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function oA(t){this._context=t}oA.prototype={areaStart:Xc,areaEnd:Xc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function UY(t){return new oA(t)}function d9(t){return t<0?-1:1}function p9(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(d9(s)+d9(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function m9(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function A4(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Qg(t){this._context=t}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A4(this,this._t0,m9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,A4(this,m9(this,n=p9(this,t,e)),n);break;default:A4(this,this._t0,n=p9(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lA(t){this._context=new uA(t)}(lA.prototype=Object.create(Qg.prototype)).point=function(t,e){Qg.prototype.point.call(this,e,t)};function uA(t){this._context=t}uA.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function qY(t){return new Qg(t)}function HY(t){return new lA(t)}function cA(t){this._context=t}cA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=g9(t),i=g9(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function g9(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function WY(t){return new cA(t)}function h2(t,e){this._context=t,this._t=e}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GY(t){return new h2(t,.5)}function $Y(t){return new h2(t,0)}function VY(t){return new h2(t,1)}function Ud(t,e,n){this.k=t,this.x=e,this.y=n}Ud.prototype={constructor:Ud,scale:function(t){return t===1?this:new Ud(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ud(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ud.prototype;function Jc(t){return t!=null&&!Number.isNaN(t)}function ru(t,e){return+Jc(e)-+Jc(t)||Oa(t,e)}function e_(t,e){return+Jc(e)-+Jc(t)||Zp(t,e)}function l5(t){return t!=null&&`${t}`!=""}function fA(t){return isFinite(t)?t:NaN}function lm(t){return t>0&&isFinite(t)?t:NaN}function d2(t){return t<0&&isFinite(t)?t:NaN}function hA(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${ZY(t.getUTCFullYear())}-${Lu(t.getUTCMonth()+1,2)}-${Lu(t.getUTCDate(),2)}${n||r||i||s?`T${Lu(n,2)}:${Lu(r,2)}${i||s?`:${Lu(i,2)}${s?`.${Lu(s,3)}`:""}`:""}Z`:""}`}function ZY(t){return t<0?`-${Lu(-t,6)}`:t>9999?`+${Lu(t,6)}`:Lu(t,4)}function Lu(t,e){return`${t}`.padStart(e,"0")}const YY=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function dA(t,e){return YY.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const Kf=1e3,B0=Kf*60,z0=B0*60,Ju=z0*24,Ul=Ju*7,$0=Ju*30,Ac=Ju*365,I4=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Kf],["5 seconds",5*Kf],["15 seconds",15*Kf],["30 seconds",30*Kf],["minute",B0],["5 minutes",5*B0],["15 minutes",15*B0],["30 minutes",30*B0],["hour",z0],["3 hours",3*z0],["6 hours",6*z0],["12 hours",12*z0],["day",Ju],["2 days",2*Ju],["week",Ul],["2 weeks",2*Ul],["month",$0],["3 months",3*$0],["6 months",6*$0],["year",Ac],["2 years",2*Ac],["5 years",5*Ac],["10 years",10*Ac],["20 years",20*Ac],["50 years",50*Ac],["100 years",100*Ac]],u5=new Map([["second",Kf],["minute",B0],["hour",z0],["day",Ju],["monday",Ul],["tuesday",Ul],["wednesday",Ul],["thursday",Ul],["friday",Ul],["saturday",Ul],["sunday",Ul],["week",Ul],["month",$0],["year",Ac]]),pA=new Map([["second",Gl],["minute",r2],["hour",i2],["day",pf],["monday",vp],["tuesday",_M],["wednesday",vM],["thursday",tf],["friday",yM],["saturday",bM],["sunday",Sh],["week",Sh],["month",im],["year",rl]]),mA=new Map([["second",Gl],["minute",nm],["hour",rm],["day",a2],["monday",yp],["tuesday",wM],["wednesday",xM],["thursday",nf],["friday",SM],["saturday",TM],["sunday",Th],["week",Th],["month",sm],["year",il]]),um=Symbol("intervalDuration"),p2=Symbol("intervalType");for(const[t,e]of pA)e[um]=u5.get(t),e[p2]="time";for(const[t,e]of mA)e[um]=u5.get(t),e[p2]="utc";const jY=[["year",il,"utc"],["year",rl,"time"],["month",sm,"utc"],["month",im,"time"],["day",a2,"utc",6*$0],["day",pf,"time",6*$0],["hour",rm,"utc",3*Ju],["minute",nm,"utc",6*z0],["second",Gl,"utc",30*B0]];function gA(t,e,n){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const s=/^(?:(\d+)\s+)/.exec(r);switch(s&&(r=r.slice(s[0].length),i=+s[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=e.get(r);if(!a)throw new Error(`unknown interval: ${t}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[um]=u5.get(r)*i,a[p2]=n}return a}function _A(t){return gA(t,pA,"time")}function vA(t){return gA(t,mA,"utc")}function _9(t,e){if(!(e>1))return;const n=t[um];if(!I4.some(([,i])=>i===n)||n%Ju===0&&Ju<n&&n<$0)return;const[r]=I4[G_(([,i])=>Math.log(i)).center(I4,Math.log(n*e))];return(t[p2]==="time"?_A:vA)(r)}function v9(t,e,n){const r=e==="time"?e5:am;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=KY(n);switch(t){case"millisecond":return Uf(r(".%L"),r(":%M:%S"),i);case"second":return Uf(r(":%S"),r("%-I:%M"),i);case"minute":return Uf(r("%-I:%M"),r("%p"),i);case"hour":return Uf(r("%-I %p"),r("%b %-d"),i);case"day":return Uf(r("%-d"),r("%b"),i);case"month":return Uf(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function KY(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function XY(t,e){const n=Co(xq(t,(r,i)=>Math.abs(i-r)));if(n<1e3)return v9("millisecond","utc",e);for(const[r,i,s,a]of jY){if(n>a||r==="hour"&&!n)break;if(t.every(l=>i.floor(l)>=l))return v9(r,s,e)}}function Uf(t,e,n){return(r,i,s)=>{const a=t(r,i),l=e(r,i),c=i-Mh(s);return i!==c&&s[c]!==void 0&&l===e(s[c],c)?a:n(a,l)}}const wp=Object.getPrototypeOf(Uint8Array),JY=Object.prototype.toString,yA=Symbol("reindex");function Eo(t,e,n){const r=typeof e;return r==="string"?y9(t,bA(e),n):r==="function"?y9(t,e,n):r==="number"||e instanceof Date||r==="boolean"?Yi(t,cm(e),n):typeof(e==null?void 0:e.transform)=="function"?b9(e.transform(t),n):QY(b9(e,n),t==null?void 0:t[yA])}function QY(t,e){return e?f5(t,e):t}function y9(t,e,n){return Yi(t,(n==null?void 0:n.prototype)instanceof wp?ej(e):e,n)}function b9(t,e){return e===void 0?no(t):t instanceof e?t:e.prototype instanceof wp&&!(t instanceof wp)?e.from(t,c5):e.from(t)}function ej(t){return(e,n)=>c5(t(e,n))}const og=[null],bA=t=>e=>e[t],wA={transform:l0},ua={transform:t=>t},tj=()=>1,nj=()=>!0,ta=t=>t==null?t:`${t}`,wr=t=>t==null?t:+t,xA=t=>t?t[0]:void 0,rj=t=>t?t[1]:void 0,cm=t=>()=>t;function ij(t){const e=+`${t}`.slice(1)/100;return(n,r)=>lp(n,e,r)}function t_(t){return t instanceof wp?t:Yi(t,c5,Float64Array)}function c5(t){return t==null?NaN:Number(t)}function sj(t){return Yi(t,aj)}function aj(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?dA(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function rf(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:v2(t)?[void 0,t]:[t,void 0]}function Ls(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function SA(t,e,n){if(t!=null)return ll(t,e,n)}function ll(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function no(t){return t==null||t instanceof Array||t instanceof wp?t:Array.from(t)}function Yi(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function xp(t,e=Array){return t instanceof e?t.slice():e.from(t)}function oj({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function TA({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function lj(t){return oj(t)||TA(t)||t.interval!==void 0}function _f(t){return(t==null?void 0:t.toString)===JY}function xb(t){return _f(t)&&(t.type!==void 0||t.domain!==void 0)}function m2(t){return _f(t)&&typeof t.transform!="function"}function Eh(t){return m2(t)&&t.value===void 0&&t.channel===void 0}function uj(t,e,n,r=ua){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function g2(t,e){return t===void 0&&e===void 0?[xA,rj]:[t,e]}function kA({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=rf(e)),t===void 0&&([t]=rf(n)),t}function l0(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function f5(t,e){return Yi(e,n=>t[n],t.constructor)}function cj(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function F0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sb(t){let e;return[{transform:()=>e,label:fm(t)},n=>e=n]}function fj(t){return t==null?[t]:Sb(t)}function fm(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function hj(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Io(r)||Io(i)?Yi(r,(s,a)=>new Date((+r[a]+ +i[a])/2)):Yi(r,(s,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function dj(t,e){const n=EA(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Yi(t,n):t}function EA(t,e){const n=h5(t,e);return n&&(r=>Jc(r)?n.floor(r):r)}function h5(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>na(Math.ceil(r*n),i*n).map(s=>s/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>na(Math.ceil(r/n),i/n).map(s=>s*n)}}if(typeof t=="string")return(e==="time"?_A:vA)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function hm(t,e){if(t=h5(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function pj(t,e){if(t=hm(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function mj(t){return typeof(t==null?void 0:t.range)=="function"}function _2(t){return t===void 0||m2(t)?t:{value:t}}function gj(t){return t==null?null:{transform:e=>Eo(e,t,Float64Array),label:fm(t)}}function vf(t){return t&&typeof t[Symbol.iterator]=="function"}function MA(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function w9(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Io(t){for(const e of t)if(e!=null)return e instanceof Date}function _j(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&dA(e)}function vj(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function yj(t){for(const e of t)if(e!=null)return typeof e=="number"}function R4(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const bj=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function v2(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||bj.has(t))}function wj(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Pa(t){return t==null||Sp(t)}function Sp(t){return/^\s*none\s*$/i.test(t)}function xj(t){return/^\s*round\s*$/i.test(t)}function CA(t,e){return SA(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function y2(t="middle"){return CA(t,"frameAnchor")}function Mh(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Zp(e,n)}function Sj(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const s=r[i];n===t?n={...n,[i]:s}:n[i]=s}return n}function Tj(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function AA(t){return vf(t)?Tj(t):t}const $l=Symbol("position"),ac=Symbol("color"),dm=Symbol("radius"),pm=Symbol("length"),mm=Symbol("opacity"),b2=Symbol("symbol"),IA=Symbol("projection"),ni=new Map([["x",$l],["y",$l],["fx",$l],["fy",$l],["r",dm],["color",ac],["opacity",mm],["symbol",b2],["length",pm],["projection",IA]]);function kj(t){return t===$l||t===IA}function Ej(t){return t===$l||t===dm||t===pm||t===mm}const Mj=Math.sqrt(3),Cj=2/Mj,Aj={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Cj,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},d5=new Map([["asterisk",qC],["circle",bp],["cross",HC],["diamond",GC],["diamond2",$C],["hexagon",Aj],["plus",VC],["square",ZC],["square2",YC],["star",KC],["times",eA],["triangle",XC],["triangle2",JC],["wye",QC]]);function p5(t){return t&&typeof t.draw=="function"}function Ij(t){return p5(t)?!0:typeof t!="string"?!1:d5.has(t.toLowerCase())}function m5(t){if(t==null||p5(t))return t;const e=d5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Rj(t){if(t==null||p5(t))return[void 0,t];if(typeof t=="string"){const e=d5.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function g5({filter:t,sort:e,reverse:n,transform:r,initializer:i,...s}={},a){if(r===void 0&&(t!=null&&(r=RA(t)),e!=null&&!Eh(e)&&(r=P4(r,_5(e))),n&&(r=P4(r,PA))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(e===null||Eh(e))&&{sort:e},transform:P4(r,a)}}function Ch({filter:t,sort:e,reverse:n,initializer:r,...i}={},s){return r===void 0&&(t!=null&&(r=RA(t)),e!=null&&!Eh(e)&&(r=N4(r,_5(e))),n&&(r=N4(r,PA))),{...i,...(e===null||Eh(e))&&{sort:e},initializer:N4(r,s)}}function P4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,no(n),r,i)}}function N4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...s){let a,l,c,f,p,m;return{data:l=n,facets:c=r,channels:a}=t.call(this,n,r,i,...s),{data:p=l,facets:m=c,channels:f}=e.call(this,l,c,{...i,...a},...s),{data:p,facets:m,channels:{...a,...f}}}}function Pj(t,e){return(t.initializer!=null?Ch:g5)(t,e)}function RA(t){return(e,n)=>{const r=Eo(e,t);return{data:e,facets:n.map(i=>i.filter(s=>r[s]))}}}function PA(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Nj(t,{sort:e,...n}={}){return{...(m2(t)&&t.channel!==void 0?Ch:Pj)(n,_5(t)),sort:Eh(e)?e:null}}function _5(t){return(typeof t=="function"&&t.length!==1?Lj:Oj)(t)}function Lj(t){return(e,n)=>{const r=(i,s)=>t(e[i],e[s]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function Oj(t){let e,n;({channel:e,value:t,order:n}={..._2(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?e_:ru),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ru;break;case"descending":n=e_;break;default:throw new Error(`invalid order: ${n}`)}return(i,s,a)=>{let l;if(e===void 0)l=Eo(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(l=a[e],!l)return{};l=l.value}const c=(f,p)=>n(l[f],l[p]);return{data:i,facets:s.map(f=>f.slice().sort(c))}}}function Dj(t,e,n=Bj){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&_f(t))return zj(t);if(typeof t=="function")return Fj(t);if(/^p\d{2}$/i.test(t))return Nu(ij(t));switch(`${t}`.toLowerCase()){case"first":return qj;case"last":return Hj;case"identity":return Uj;case"count":return S9;case"distinct":return Wj;case"sum":return e==null?S9:Gj;case"proportion":return T9(e,"data");case"proportion-facet":return T9(e,"facet");case"deviation":return Nu(oq);case"min":return Nu(eu);case"min-index":return Nu(vq);case"max":return Nu(Co);case"max-index":return Nu(_q);case"mean":return x9(up);case"median":return x9(zy);case"variance":return Nu(Sk);case"mode":return Nu(wq)}return n(t)}function Bj(t){throw new Error(`invalid reduce: ${t}`)}function zj(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Fj(t){return{reduceIndex(e,n,r){return t(f5(n,e),r)}}}function Nu(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function x9(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Io(n)?new Date(r):r}}}const Uj={reduceIndex(t,e){return f5(e,t)}},qj={reduceIndex(t,e){return e[t[0]]}},Hj={reduceIndex(t,e){return e[t[t.length-1]]}},S9={label:"Frequency",reduceIndex(t){return t.length}},Wj={label:"Distinct",reduceIndex(t,e){const n=new V_;for(const r of t)n.add(e[r]);return n.size}},Gj=Nu(fr);function T9(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>fr(n,s=>r[s])/i}}function Tp(t,{scale:e,type:n,value:r,filter:i,hint:s,label:a=fm(r)},l){return s===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(s=r.hint),NA(l,{scale:e,type:n,value:Eo(t,r),label:a,filter:i,hint:s})}function $j(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Tp(e,r,n)]))}function Vj(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:s}])=>{const a=i==null?null:e[i];return[r,a==null?s:Yi(s,a)]}));return n.channels=t,n}function NA(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&R4(r,v2)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&R4(r,wj)?null:"opacity";break;case"symbol":n!==!0&&R4(r,Ij)?(e.scale=null,e.value=Yi(r,m5)):e.scale="symbol";break;default:e.scale=ni.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!ni.has(n))throw new Error(`unknown scale: ${n}`);return e}function Zj(t,e,n,r,i){const{order:s,reverse:a,reduce:l=!0,limit:c}=i;for(const f in i){if(!ni.has(f))continue;let{value:p,order:m=s,reverse:g=a,reduce:y=l,limit:w=c}=_2(i[f]);const S=p==null?void 0:p.startsWith("-");if(S&&(p=p.slice(1)),m=m===void 0?S!==(p==="width"||p==="height")?OA:LA:Kj(m),y==null||y===!1)continue;const I=f==="fx"||f==="fy"?jj(e,r[f]):Yj(n,f);if(!I)throw new Error(`missing channel for scale: ${f}`);const P=I.value,[k=0,A=1/0]=vf(w)?w:w<0?[w]:[0,w];if(p==null)I.domain=()=>{let C=Array.from(new V_(P));return g&&(C=C.reverse()),(k!==0||A!==1/0)&&(C=C.slice(k,A)),C};else{const C=p==="data"?t:p==="height"?k9(n,"y1","y2"):p==="width"?k9(n,"x1","x2"):Tb(n,p,p==="y"?"y2":p==="x"?"x2":void 0),N=Dj(y===!0?"max":y,C);I.domain=()=>{let D=lq(l0(P),F=>N.reduceIndex(F,C),F=>P[F]);return m&&D.sort(m),g&&D.reverse(),(k!==0||A!==1/0)&&(D=D.slice(k,A)),D.map(xA)}}}}function Yj(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function jj(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let s=0;s<n.length;++s){const a=r[n[s][0]];for(const l of t[s])i[l]=a}return e}function k9(t,e,n){const r=Tb(t,e),i=Tb(t,n);return Yi(i,(s,a)=>Math.abs(s-r[a]),Float64Array)}function Tb(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function Kj(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return LA;case"descending":return OA}throw new Error(`invalid order: ${t}`)}function LA([t,e],[n,r]){return ru(e,r)||ru(t,n)}function OA([t,e],[n,r]){return e_(e,r)||ru(t,n)}function E9(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function Xj(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,s)=>i!==r[s]))&&(n=r,e=t(...r)),e)}const Jj=Xj(t=>new Intl.NumberFormat(t));function Qj(t="en-US"){const e=Jj(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function eK(t){return hA(t,"Invalid Date")}function tK(t="en-US"){const e=Qj(t);return n=>(n instanceof Date?eK:typeof n=="number"?e:ta)(n)}const sf=tK();let kb=0,Eb;function nK(){const t=kb;return kb=0,Eb=void 0,t}function Hc(t){t!==Eb&&(Eb=t,console.warn(t),++kb)}const ra=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let rK=0;function M9(){return`plot-clip-${++rK}`}function iK(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:s,target:a,fill:l,fillOpacity:c,stroke:f,strokeWidth:p,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:y,strokeMiterlimit:w,strokeDasharray:S,strokeDashoffset:I,opacity:P,mixBlendMode:k,imageFilter:A,paintOrder:C,pointerEvents:N,shapeRendering:D,channels:F},{ariaLabel:W,fill:G="currentColor",fillOpacity:Y,stroke:V="none",strokeOpacity:ee,strokeWidth:fe,strokeLinecap:le,strokeLinejoin:ie,strokeMiterlimit:he,paintOrder:me}){G===null&&(l=null,c=null),V===null&&(f=null,m=null),Pa(G)?!Pa(V)&&(!Pa(l)||F!=null&&F.fill)&&(V="none"):Pa(V)&&(!Pa(f)||F!=null&&F.stroke)&&(G="none");const[ve,pe]=rf(l,G),[Z,j]=Ls(c,Y),[ae,Ee]=rf(f,V),[Oe,Re]=Ls(m,ee),[Se,Te]=Ls(P);Sp(Ee)||(p===void 0&&(p=fe),y===void 0&&(y=le),g===void 0&&(g=ie),w===void 0&&!xj(g)&&(w=he),!Sp(pe)&&C===void 0&&(C=me));const[Ce,_e]=Ls(p);return G!==null&&(t.fill=ls(pe,"currentColor"),t.fillOpacity=xd(j,1)),V!==null&&(t.stroke=ls(Ee,"none"),t.strokeWidth=xd(_e,1),t.strokeOpacity=xd(Re,1),t.strokeLinejoin=ls(g,"miter"),t.strokeLinecap=ls(y,"butt"),t.strokeMiterlimit=xd(w,4),t.strokeDasharray=ls(S,"none"),t.strokeDashoffset=ls(I,"0")),t.target=ta(a),t.ariaLabel=ta(W),t.ariaDescription=ta(i),t.ariaHidden=ta(s),t.opacity=xd(Te,1),t.mixBlendMode=ls(k,"normal"),t.imageFilter=ls(A,"none"),t.paintOrder=ls(C,"normal"),t.pointerEvents=ls(N,"auto"),t.shapeRendering=ls(D,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ve,scale:"auto",optional:!0},fillOpacity:{value:Z,scale:"auto",optional:!0},stroke:{value:ae,scale:"auto",optional:!0},strokeOpacity:{value:Oe,scale:"auto",optional:!0},strokeWidth:{value:Ce,optional:!0},opacity:{value:Se,scale:"auto",optional:!0}}}function sK(t,e){e&&t.filter(n=>l5(e[n])).append("title").call(oK,e)}function aK(t,e){e&&t.filter(([n])=>l5(e[n])).append("title").call(lK,e)}function oK(t,e){e&&t.text(n=>sf(e[n]))}function lK(t,e){e&&t.text(([n])=>sf(e[n]))}function oc(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Xt(t,"aria-label",g=>r[g]),s&&Xt(t,"fill",g=>s[g]),a&&Xt(t,"fill-opacity",g=>a[g]),l&&Xt(t,"stroke",g=>l[g]),c&&Xt(t,"stroke-opacity",g=>c[g]),f&&Xt(t,"stroke-width",g=>f[g]),p&&Xt(t,"opacity",g=>p[g]),m&&BA(t,g=>m[g],e),n||sK(t,i)}function uK(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Xt(t,"aria-label",([g])=>r[g]),s&&Xt(t,"fill",([g])=>s[g]),a&&Xt(t,"fill-opacity",([g])=>a[g]),l&&Xt(t,"stroke",([g])=>l[g]),c&&Xt(t,"stroke-opacity",([g])=>c[g]),f&&Xt(t,"stroke-width",([g])=>f[g]),p&&Xt(t,"opacity",([g])=>p[g]),m&&BA(t,([g])=>m[g],e),n||aK(t,i)}function cK({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:s,strokeWidth:a,opacity:l,href:c},{tip:f}){return[t,f?void 0:e,n,r,i,s,a,l,c].filter(p=>p!==void 0)}function fK(t,e,n){const r=R3(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&Hc("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*hK(t,e,n,r){const{z:i}=n,{z:s}=r,a=cK(r,n),l=[...e,...a];for(const c of s?fK(t,s,i):[t]){let f,p;e:for(const m of c){for(const g of l)if(!Jc(g[m])){p&&p.push(-1);continue e}if(f===void 0){p&&(yield p),f=a.map(g=>F0(g[m])),p=[m];continue}p.push(m);for(let g=0;g<a.length;++g)if(F0(a[g][m])!==f[g]){yield p,f=a.map(w=>F0(w[m])),p=[m];continue e}}p&&(yield p)}}function DA(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ll(t,"clip",["frame","sphere"])),t}function dK(t,e,n,r){let i;const{clip:s=r.clip}=e;switch(s){case"frame":{const{width:a,height:l,marginLeft:c,marginRight:f,marginTop:p,marginBottom:m}=n,g=M9();i=`url(#${g})`,t=Xi("svg:g",r).call(y=>y.append("svg:clipPath").attr("id",g).append("rect").attr("x",c).attr("y",p).attr("width",a-f-c).attr("height",l-p-m)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const l=M9();i=`url(#${l})`,t.append("clipPath").attr("id",l).append("path").attr("d",xh(a)({type:"Sphere"}));break}}Xt(t,"aria-label",e.ariaLabel),Xt(t,"aria-description",e.ariaDescription),Xt(t,"aria-hidden",e.ariaHidden),Xt(t,"clip-path",i)}function ul(t,e,n,r){dK(t,e,n,r),Xt(t,"fill",e.fill),Xt(t,"fill-opacity",e.fillOpacity),Xt(t,"stroke",e.stroke),Xt(t,"stroke-width",e.strokeWidth),Xt(t,"stroke-opacity",e.strokeOpacity),Xt(t,"stroke-linejoin",e.strokeLinejoin),Xt(t,"stroke-linecap",e.strokeLinecap),Xt(t,"stroke-miterlimit",e.strokeMiterlimit),Xt(t,"stroke-dasharray",e.strokeDasharray),Xt(t,"stroke-dashoffset",e.strokeDashoffset),Xt(t,"shape-rendering",e.shapeRendering),Xt(t,"filter",e.imageFilter),Xt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Xt(t,"pointer-events",i)}function cl(t,e){pK(t,"mix-blend-mode",e.mixBlendMode),Xt(t,"opacity",e.opacity)}function BA(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const s=this.ownerDocument.createElementNS(ph.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(ph.xlink,"href",i),n!=null&&s.setAttribute("target",n),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Xt(t,e,n){n!=null&&t.attr(e,n)}function pK(t,e,n){n!=null&&t.style(e,n)}function Lo(t,e,{x:n,y:r},i=ra,s=ra){i+=e.dx,s+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(s+=r.bandwidth()/2),(i||s)&&t.attr("transform",`translate(${i},${s})`)}function ls(t,e){if((t=ta(t))!==e)return t}function xd(t,e){if((t=wr(t))!==e)return t}const mK=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function v5(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!mK.test(t))throw new Error(`invalid class name: ${t}`);return t}function y5(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function gm({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:s,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-s:(r+n-s)/2]}function b5(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:DA(n)}}function Xi(t,{document:e}){return Fn(Yp(t).call(e.documentElement))}const zA=Math.PI,Cu=2*zA,C9=.618;function gK({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:s=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let l,c,f="frame";if(_f(t)){let N;if({type:t,domain:c,inset:N,insetTop:n=N!==void 0?N:n,insetRight:r=N!==void 0?N:r,insetBottom:i=N!==void 0?N:i,insetLeft:s=N!==void 0?N:s,clip:f=f,...l}=t,t==null)return}typeof t!="function"&&({type:t}=FA(t));const{width:p,height:m,marginLeft:g,marginRight:y,marginTop:w,marginBottom:S}=a,I=p-g-y-s-r,P=m-w-S-n-i;if(t=t==null?void 0:t({width:I,height:P,clip:f,...l}),t==null)return;f=_K(f,g,w,p-y,m-S);let k=g+s,A=w+n,C;if(c!=null){const[[N,D],[F,W]]=xh(t).bounds(c),G=Math.min(I/(F-N),P/(W-D));G>0?(k-=(G*(N+F)-I)/2,A-=(G*(D+W)-P)/2,C=gp({point(Y,V){this.stream.point(Y*G+k,V*G+A)}})):Hc("Warning: the projection could not be fit to the specified domain; using the default scale.")}return C??(C=k===0&&A===0?UA():gp({point(N,D){this.stream.point(N+k,D+A)}})),{stream:N=>t.stream(C.stream(f(N)))}}function FA(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Vo(yV,.7463,.4673);case"albers":return T1(YE,.7463,.4673);case"azimuthal-equal-area":return Vo(bV,4,4);case"azimuthal-equidistant":return Vo(wV,Cu,Cu);case"conic-conformal":return T1(SV,Cu,Cu);case"conic-equal-area":return T1(Hg,6.1702,2.9781);case"conic-equidistant":return T1(EV,7.312,3.6282);case"equal-earth":return Vo(CV,5.4133,2.6347);case"equirectangular":return Vo(TV,Cu,zA);case"gnomonic":return Vo(AV,3.4641,3.4641);case"identity":return{type:UA};case"reflect-y":return{type:vK};case"mercator":return Vo(JE,Cu,Cu);case"orthographic":return Vo(IV,2,2);case"stereographic":return Vo(RV,2,2);case"transverse-mercator":return Vo(PV,Cu,Cu);default:throw new Error(`unknown projection type: ${t}`)}}function _K(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return s=>s;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return IE(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Vo(t,e,n){return{type:({width:r,height:i,rotate:s,precision:a=.15,clip:l})=>{var f,p,m;const c=t();return a!=null&&((f=c.precision)==null||f.call(c,a)),s!=null&&((p=c.rotate)==null||p.call(c,s)),typeof l=="number"&&((m=c.clipAngle)==null||m.call(c,l)),c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/e}}function T1(t,e,n){const{type:r,aspectRatio:i}=Vo(t,e,n);return{type:s=>{const{parallels:a,domain:l,width:c,height:f}=s,p=r(s);return a!=null&&(p.parallels(a),l===void 0&&p.fitSize([c,f],{type:"Sphere"})),p},aspectRatio:i}}const UA=cm({stream:t=>t}),vK=cm(gp({point(t,e){this.stream.point(t,-e)}}));function yK(t,e,n,r){const i=n[t],s=n[e],a=i.length,l=n[t]=new Float64Array(a).fill(NaN),c=n[e]=new Float64Array(a).fill(NaN);let f;const p=r.stream({point(m,g){l[f]=m,c[f]=g}});for(f=0;f<a;++f)p.point(i[f],s[f])}function bK({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(_f(t)&&(t=t.type),t!=null)}function wK(t){if(typeof(t==null?void 0:t.stream)=="function")return C9;if(_f(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=FA(t);if(e)return e}return C9}}function xK(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},s={point(a,l){e.push(a),n.push(l)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Rc(a,s);return[r,i]}const qA=new Map([["accent",rY],["category10",nY],["dark2",iY],["paired",sY],["pastel1",aY],["pastel2",oY],["set1",lY],["set2",uY],["set3",cY],["tableau10",fY]]);function SK(t){return t!=null&&qA.has(`${t}`.toLowerCase())}const A9=new Map([...qA,["brbg",Au(LM,OM)],["prgn",Au(DM,BM)],["piyg",Au(zM,FM)],["puor",Au(UM,qM)],["rdbu",Au(yb,kh)],["rdgy",Au(HM,WM)],["rdylbu",Au(bb,Vg)],["rdylgn",Au(GM,$M)],["spectral",Au(VM,Zg)],["burd",I9(yb,kh)],["buylrd",I9(bb,Vg)],["blues",Wi(_C,vC)],["greens",Wi(yC,bC)],["greys",Wi(wC,xC)],["oranges",Wi(MC,CC)],["purples",Wi(SC,TC)],["reds",Wi(kC,EC)],["turbo",Iu(Yg)],["viridis",Iu(OC)],["magma",Iu(DC)],["inferno",Iu(n5)],["plasma",Iu(BC)],["cividis",Iu(AC)],["cubehelix",Iu(IC)],["warm",Iu(RC)],["cool",Iu(PC)],["bugn",Wi(ZM,YM)],["bupu",Wi(jM,KM)],["gnbu",Wi(XM,JM)],["orrd",Wi(QM,eC)],["pubu",Wi(rC,iC)],["pubugn",Wi(tC,nC)],["purd",Wi(sC,aC)],["rdpu",Wi(oC,lC)],["ylgn",Wi(fC,hC)],["ylgnbu",Wi(uC,cC)],["ylorbr",Wi(dC,pC)],["ylorrd",Wi(mC,gC)],["rainbow",R9(NC)],["sinebow",R9(LC)]]);function Wi(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Da(e,n):t[n])}function Au(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Da(e,n):t[n])}function I9(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Da(r=>e(1-r),n):t[n].slice().reverse())}function Iu(t){return({length:e})=>Da(t,Math.max(2,Math.floor(e)))}function R9(t){return({length:e})=>Da(t,Math.floor(e)+1).slice(0,-1)}function HA(t){const e=`${t}`.toLowerCase();if(!A9.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return A9.get(e)}function w2(t,e){const n=HA(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function TK(t,e="greys"){const n=new Set,[r,i]=w2(e,2);for(const s of t)if(s!=null)if(s===!0)n.add(i);else if(s===!1)n.add(r);else return;return[...n]}const P9=new Map([["brbg",OM],["prgn",BM],["piyg",FM],["puor",qM],["rdbu",kh],["rdgy",WM],["rdylbu",Vg],["rdylgn",$M],["spectral",Zg],["burd",t=>kh(1-t)],["buylrd",t=>Vg(1-t)],["blues",vC],["greens",bC],["greys",xC],["purples",TC],["reds",EC],["oranges",CC],["turbo",Yg],["viridis",OC],["magma",DC],["inferno",n5],["plasma",BC],["cividis",AC],["cubehelix",IC],["warm",RC],["cool",PC],["bugn",YM],["bupu",KM],["gnbu",JM],["orrd",eC],["pubugn",nC],["pubu",iC],["purd",aC],["rdpu",lC],["ylgnbu",cC],["ylgn",hC],["ylorbr",pC],["ylorrd",gC],["rainbow",NC],["sinebow",LC]]);function w5(t){const e=`${t}`.toLowerCase();if(!P9.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return P9.get(e)}const kK=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function EK(t){return t!=null&&kK.has(`${t}`.toLowerCase())}const WA=t=>e=>t(1-e),L4=[0,1],N9=new Map([["number",Ps],["rgb",J0],["hsl",jW],["hcl",JW],["lab",KW]]);function GA(t){const e=`${t}`.toLowerCase();if(!N9.has(e))throw new Error(`unknown interpolator: ${e}`);return N9.get(e)}function _m(t,e,n,{type:r,nice:i,clamp:s,zero:a,domain:l=VA(t,n),unknown:c,round:f,scheme:p,interval:m,range:g=ni.get(t)===dm?BK(n,l):ni.get(t)===pm?zK(n,l):ni.get(t)===mm?L4:void 0,interpolate:y=ni.get(t)===ac?p==null&&g!==void 0?J0:w5(p!==void 0?p:r==="cyclical"?"rainbow":"turbo"):f?Xp:Ps,reverse:w}){if(m=hm(m,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof y!="function"&&(y=GA(y)),w=!!w,g!==void 0){const S=(l=no(l)).length,I=(g=no(g)).length;if(S!==I){if(y.length===1)throw new Error("invalid piecewise interpolator");y=K_(y,g),g=void 0}}if(y.length===1?(w&&(y=WA(y),w=!1),g===void 0&&(g=Float64Array.from(l,(S,I)=>I/(l.length-1)),g.length===2&&(g=L4)),e.interpolate((g===L4?cm:S5)(y))):e.interpolate(y),a){const[S,I]=Os(l);(S>0||I<0)&&(l=xp(l),Mh(l)!==Math.sign(S)?l[l.length-1]=0:l[0]=0)}return w&&(l=cp(l)),e.domain(l).unknown(c),i&&(e.nice(MK(i,r)),l=e.domain()),g!==void 0&&e.range(g),s&&e.clamp(s),{type:r,domain:l,range:g,scale:e,interpolate:y,interval:m}}function MK(t,e){return t===!0?void 0:typeof t=="number"?t:pj(t,e)}function CK(t,e,n){return _m(t,n2(),e,n)}function AK(t,e,n){return $A(t,e,{...n,exponent:.5})}function $A(t,e,{exponent:n=1,...r}){return _m(t,pM().exponent(n),e,{...r,type:"pow"})}function IK(t,e,{base:n=10,domain:r=FK(e),...i}){return _m(t,cM().base(n),e,{...i,domain:r})}function RK(t,e,{constant:n=1,...r}){return _m(t,hM().constant(n),e,r)}function PK(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:s="rdylbu",domain:a=UK(e),unknown:l,interpolate:c,reverse:f}){return n===void 0&&(n=c!==void 0?Da(c,i):ni.get(t)===ac?w2(s,i):void 0),a.length>0&&(a=mM(a,n===void 0?{length:i}:n).quantiles()),x5(t,e,{domain:a,range:n,reverse:f,unknown:l})}function NK(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:s=VA(t,e),unknown:a,interpolate:l,reverse:c}){const[f,p]=Os(s);let m;return n===void 0?(m=op(f,p,r),m[0]<=f&&m.splice(0,1),m[m.length-1]>=p&&m.pop(),r=m.length+1,n=l!==void 0?Da(l,r):ni.get(t)===ac?w2(i,r):void 0):(m=Da(Ps(f,p),r+1).slice(1,-1),f instanceof Date&&(m=m.map(g=>new Date(g)))),Mh(no(s))<0&&m.reverse(),x5(t,e,{domain:m,range:n,reverse:c,unknown:a})}function x5(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:s,range:a=s!==void 0?Da(s,n.length+1):ni.get(t)===ac?w2(i,n.length+1):void 0,reverse:l}){n=no(n);const c=Mh(n);if(!isNaN(c)&&!LK(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return l&&(a=cp(a)),{type:"threshold",scale:gM(c<0?cp(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function LK(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const s=Zp(i,i=t[n]);if(s!==0&&s!==e)return!1}return!0}function OK(t){return{type:"identity",scale:Ej(ni.get(t))?oM():e=>e}}function kp(t,e=fA){return t.length?[eu(t,({value:n})=>n===void 0?n:eu(n,e)),Co(t,({value:n})=>n===void 0?n:Co(n,e))]:[0,1]}function VA(t,e){const n=ni.get(t);return(n===dm||n===mm||n===pm?DK:kp)(e)}function DK(t){return[0,t.length?Co(t,({value:e})=>e===void 0?e:Co(e,fA)):1]}function BK(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=lp(t,.5,({value:a})=>a===void 0?NaN:lp(a,.25,lm)),i=e.map(a=>3*Math.sqrt(a/r)),s=30/Co(i);return s<1?i.map(a=>a*s):i}function zK(t,e){const n=zy(t,({value:s})=>s===void 0?NaN:zy(s,Math.abs)),r=e.map(s=>12*s/n),i=60/Co(r);return i<1?r.map(s=>s*i):r}function FK(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return kp(t,lm);if(n<0)return kp(t,d2)}return[1,10]}function UK(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function S5(t){return(e,n)=>r=>t(e+r*(n-e))}function x2(t,e,n,r,{type:i,nice:s,clamp:a,domain:l=kp(r),unknown:c,pivot:f=0,scheme:p,range:m,symmetric:g=!0,interpolate:y=ni.get(t)===ac?p==null&&m!==void 0?J0:w5(p!==void 0?p:"rdbu"):Ps,reverse:w}){f=+f,l=no(l);let[S,I]=l;if(l.length>2&&Hc(`Warning: the diverging ${t} scale domain contains extra elements.`),Zp(S,I)<0&&([S,I]=[I,S],w=!w),S=Math.min(S,f),I=Math.max(I,f),typeof y!="function"&&(y=GA(y)),m!==void 0&&(y=y.length===1?S5(y)(...m):K_(y,m)),w&&(y=WA(y)),g){const P=n.apply(f),k=P-n.apply(S),A=n.apply(I)-P;k<A?S=n.invert(P-A):k>A&&(I=n.invert(P+k))}return e.domain([S,f,I]).unknown(c).interpolator(y),a&&e.clamp(a),s&&e.nice(s),{type:i,domain:[S,I],pivot:f,interpolate:y,scale:e}}function qK(t,e,n){return x2(t,IM(),$K,e,n)}function HK(t,e,n){return ZA(t,e,{...n,exponent:.5})}function ZA(t,e,{exponent:n=1,...r}){return x2(t,NM().exponent(n=+n),YK(n),e,{...r,type:"diverging-pow"})}function WK(t,e,{base:n=10,pivot:r=1,domain:i=kp(e,r<0?d2:lm),...s}){return x2(t,RM().base(n=+n),VK,e,{domain:i,pivot:r,...s})}function GK(t,e,{constant:n=1,...r}){return x2(t,PM().constant(n=+n),jK(n),e,r)}const $K={apply(t){return t},invert(t){return t}},VK={apply:Math.log,invert:Math.exp},ZK={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function YK(t){return t===.5?ZK:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function jK(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function YA(t,e,n,r){return _m(t,e,n,r)}function KK(t,e,n){return YA(t,QZ(),e,n)}function XK(t,e,n){return YA(t,eY(),e,n)}const vm=Symbol("ordinal");function jA(t,e,n,{type:r,interval:i,domain:s,range:a,reverse:l,hint:c}){return i=hm(i,r),s===void 0&&(s=XA(n,i,t)),(r==="categorical"||r===vm)&&(r="ordinal"),l&&(s=cp(s)),s=e.domain(s).domain(),a!==void 0&&(typeof a=="function"&&(a=a(s)),e.range(a)),{type:r,domain:s,range:a,scale:e,hint:c,interval:i}}function JK(t,e,{type:n,interval:r,domain:i,range:s,scheme:a,unknown:l,...c}){r=hm(r,n),i===void 0&&(i=XA(e,r,t));let f;if(ni.get(t)===b2)f=tX(e),s=s===void 0?nX(f):Yi(s,m5);else if(ni.get(t)===ac&&(s===void 0&&(n==="ordinal"||n===vm)&&(s=TK(i,a),s!==void 0&&(a=void 0)),a===void 0&&s===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(s!==void 0){const p=w5(a),m=s[0],g=s[1]-s[0];s=({length:y})=>Da(w=>p(m+g*w),y)}else s=HA(a);if(l===gb)throw new Error(`implicit unknown on ${t} scale is not supported`);return jA(t,_p().unknown(l),e,{...c,type:n,domain:i,range:s,hint:f})}function QK(t,e,{align:n=.5,padding:r=.5,...i}){return KA(NV().align(n).padding(r),e,i,t)}function eX(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:s=t==="fx"||t==="fy"?0:r,...a}){return KA(em().align(n).paddingInner(i).paddingOuter(s),e,a,t)}function KA(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=jA(r,t,e,n),t.round=i,t}function XA(t,e,n){const r=new V_;for(const{value:i,domain:s}of t){if(s!==void 0)return s();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,s]=Os(r).map(e.floor,e);return e.range(i,e.offset(s))}if(r.size>1e4&&ni.get(n)===$l)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return bg(r,ru)}function L9(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function tX(t){return{fill:L9(t,"fill"),stroke:L9(t,"stroke")}}function nX(t){return Pa(t.fill)?AY:CY}function Mb(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:s=n,insetLeft:a=n,round:l,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,facet:{label:w=e}={},...S}={}){const I={};for(const[P,k]of t){const A=S[P],C=aX(P,k,{round:ni.get(P)===$l?l:void 0,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,...A});if(C){let{label:N=P==="fx"||P==="fy"?w:e,percent:D,transform:F,inset:W,insetTop:G=W!==void 0?W:P==="y"?r:0,insetRight:Y=W!==void 0?W:P==="x"?i:0,insetBottom:V=W!==void 0?W:P==="y"?s:0,insetLeft:ee=W!==void 0?W:P==="x"?a:0}=A||{};if(F==null)F=void 0;else if(typeof F!="function")throw new Error("invalid scale transform; not a function");C.percent=!!D,C.label=N===void 0?iX(k,C):N,C.transform=F,P==="x"||P==="fx"?(C.insetLeft=+ee,C.insetRight=+Y):(P==="y"||P==="fy")&&(C.insetTop=+G,C.insetBottom=+V),I[P]=C}}return I}function O9(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:s,type:a,interval:l,label:c}=i;e[r]=fX(i),n[r]=s,s.type=a,l!=null&&(s.interval=l),c!=null&&(s.label=c)}return n}function rX(t,e){const{x:n,y:r,fx:i,fy:s}=t,a=i||s?T5(e):e;i&&D9(i,a),s&&B9(s,a);const l=i||s?JA(t,e):e;n&&D9(n,l),r&&B9(r,l)}function iX(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!yf(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function T5(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:s,height:a,facet:{marginTop:l,marginRight:c,marginBottom:f,marginLeft:p}}=t;return{marginTop:Math.max(e,l),marginRight:Math.max(n,c),marginBottom:Math.max(r,f),marginLeft:Math.max(i,p),width:s,height:a}}function JA({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=T5(n);return{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:t?t.scale.bandwidth()+a+i:l,height:e?e.scale.bandwidth()+r+s:c,facet:{width:l,height:c}}}function D9(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:s=0,marginRight:a=0}=e,l=s+n,c=i-a-r;t.range=[l,Math.max(l,c)],yf(t)||(t.range=eI(t)),t.scale.range(t.range)}QA(t)}function B9(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:s=0,marginBottom:a=0}=e,l=s+n,c=i-a-r;t.range=[Math.max(l,c),l],yf(t)?t.range.reverse():t.range=eI(t),t.scale.range(t.range)}QA(t)}function QA(t){t.round===void 0&&lX(t)&&sX(t)<=30&&t.scale.round(!0)}function sX({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,l=Math.abs(r-n)/Math.max(1,a+s*2);return(l-Math.floor(l))*a}function eI(t){const e=t.scale.domain().length+tI(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,s)=>n+s/(e-1)*(r-n))}function aX(t,e=[],n={}){const r=oX(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&yf({type:r})){const i=e.map(({value:s})=>s).filter(s=>s!==void 0);i.some(Io)?Hc(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${qf(r)}".`):i.some(_j)?Hc(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${qf(r)}".`):i.some(vj)&&Hc(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qf(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${qf(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=k1(e,n,t_);break;case"identity":switch(ni.get(t)){case $l:n=k1(e,n,t_);break;case b2:n=k1(e,n,uX);break}break;case"utc":case"time":n=k1(e,n,sj);break}switch(r){case"diverging":return qK(t,e,n);case"diverging-sqrt":return HK(t,e,n);case"diverging-pow":return ZA(t,e,n);case"diverging-log":return WK(t,e,n);case"diverging-symlog":return GK(t,e,n);case"categorical":case"ordinal":case vm:return JK(t,e,n);case"cyclical":case"sequential":case"linear":return CK(t,e,n);case"sqrt":return AK(t,e,n);case"threshold":return x5(t,e,n);case"quantile":return PK(t,e,n);case"quantize":return NK(t,e,n);case"pow":return $A(t,e,n);case"log":return IK(t,e,n);case"symlog":return RK(t,e,n);case"utc":return XK(t,e,n);case"time":return KK(t,e,n);case"point":return QK(t,e,n);case"band":return eX(t,e,n);case"identity":return OK(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qf(t){return typeof t=="symbol"?t.description:t}const z9={toString:()=>"projection"};function oX(t,e,{type:n,domain:r,range:i,scheme:s,pivot:a,projection:l}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&l!=null&&(n=z9);for(const{type:f}of e)if(f!==void 0){if(n===void 0)n=f;else if(n!==f)throw new Error(`scale incompatible with channel: ${n} !== ${f}`)}if(n===z9)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:f})=>f!==void 0))return;const c=ni.get(t);if(c===dm)return"sqrt";if(c===mm||c===pm)return"linear";if(c===b2)return"ordinal";if((r||i||[]).length>2)return O4(c);if(r!==void 0){if(w9(r))return O4(c);if(Io(r))return"utc"}else{const f=e.map(({value:p})=>p).filter(p=>p!==void 0);if(f.some(w9))return O4(c);if(f.some(Io))return"utc"}if(c===ac){if(a!=null||EK(s))return"diverging";if(SK(s))return"categorical"}return"linear"}function O4(t){switch(t){case $l:return"point";case ac:return vm;default:return"ordinal"}}function yf({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===vm}function tI({type:t}){return t==="threshold"}function lX({type:t}){return t==="point"||t==="band"}function Ah(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function k1(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function uX(t){return Yi(t,m5)}function cX(t){return e=>{if(!ni.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function fX({scale:t,type:e,domain:n,range:r,interpolate:i,interval:s,transform:a,percent:l,pivot:c}){if(e==="identity")return{type:"identity",apply:p=>p,invert:p=>p};const f=t.unknown?t.unknown():void 0;return{type:e,domain:xp(n),...r!==void 0&&{range:xp(r)},...a!==void 0&&{transform:a},...l&&{percent:l},...f!==void 0&&{unknown:f},...s!==void 0&&{interval:s},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:p=>t(p),...t.invert&&{invert:p=>t.invert(p)}}}function hX(t,e,n={}){let r=.5-ra,i=.5+ra,s=.5+ra,a=.5-ra;for(const{marginTop:S,marginRight:I,marginBottom:P,marginLeft:k}of e)S>r&&(r=S),I>i&&(i=I),P>s&&(s=P),k>a&&(a=k);let{margin:l,marginTop:c=l!==void 0?l:r,marginRight:f=l!==void 0?l:i,marginBottom:p=l!==void 0?l:s,marginLeft:m=l!==void 0?l:a}=n;c=+c,f=+f,p=+p,m=+m;let{width:g=640,height:y=dX(t,n,{width:g,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:s,marginLeftDefault:a})+Math.max(0,c-r+p-s)}=n;g=+g,y=+y;const w={width:g,height:y,marginTop:c,marginRight:f,marginBottom:p,marginLeft:m};if(t.fx||t.fy){let{margin:S,marginTop:I=S!==void 0?S:c,marginRight:P=S!==void 0?S:f,marginBottom:k=S!==void 0?S:p,marginLeft:A=S!==void 0?S:m}=n.facet??{};I=+I,P=+P,k=+k,A=+A,w.facet={marginTop:I,marginRight:P,marginBottom:k,marginLeft:A}}return w}function dX({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:s},{width:a,marginTopDefault:l,marginRightDefault:c,marginBottomDefault:f,marginLeftDefault:p}){const m=n?n.scale.domain().length:1,g=wK(i);if(g){const w=r?r.scale.domain().length:1,S=(1.1*m-.1)/(1.1*w-.1)*g,I=Math.max(.1,Math.min(10,S));return Math.round((a-p-c)*I+l+f)}const y=e?yf(e)?e.scale.domain().length:Math.max(7,17/m):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const w=F9("y",e)/(F9("x",t)*s),S=r?r.scale.bandwidth():1,I=n?n.scale.bandwidth():1,P=S*(a-p-c)-t.insetLeft-t.insetRight;return(w*P+e.insetTop+e.insetBottom)/I+l+f}return!!(e||n)*Math.max(1,Math.min(60,y*m))*20+!!r*30+60}function F9(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const l=e.scale.exponent();i=c=>Math.pow(c,l);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[s,a]=Os(r);return Math.abs(i(a)-i(s))}function pX(t,e){const{fx:n,fy:r}=Mb(t,e),i=n==null?void 0:n.scale.domain(),s=r==null?void 0:r.scale.domain();return i&&s?sq(i,s).map(([a,l],c)=>({x:a,y:l,i:c})):i?i.map((a,l)=>({x:a,i:l})):s?s.map((a,l)=>({y:a,i:l})):void 0}function mX(t,{x:e,y:n}){return e&&(e=Cb(e)),n&&(n=Cb(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function k5(t,{fx:e,fy:n}){const r=l0(t),i=e==null?void 0:e.value,s=n==null?void 0:n.value;return e&&n?Gd(r,a=>(a.fx=i[a[0]],a.fy=s[a[0]],a),a=>i[a],a=>s[a]):e?Gd(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Gd(r,a=>(a.fy=s[a[0]],a),a=>s[a])}function gX(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:s})=>`translate(${t(i)-r},${e(s)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function _X(t){const e=[],n=new Uint32Array(fr(t,r=>r.length));for(const r of t){let i=0;for(const s of t)r!==s&&(n.set(s,i),i+=s.length);e.push(n.slice(0,i))}return e}const vX=new Map([["top",D4],["right",F4],["bottom",B4],["left",z4],["top-left",E1(D4,z4)],["top-right",E1(D4,F4)],["bottom-left",E1(B4,z4)],["bottom-right",E1(B4,F4)],["top-empty",wX],["right-empty",TX],["bottom-empty",xX],["left-empty",SX],["empty",kX]]);function yX(t){if(t==null)return null;const e=vX.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const U9=new WeakMap;function Cb(t){let e=U9.get(t);return e||U9.set(t,e=new K0(Yi(t,(n,r)=>[n,r]))),e}function u0(t,e){return Cb(t).get(e)}function bX(t,e,n){return e=F0(e),n=F0(n),t.find(r=>Object.is(F0(r.x),e)&&Object.is(F0(r.y),n))}function S2(t,e,n){var r;return(r=bX(t,e,n))==null?void 0:r.empty}function D4(t,{y:e},{y:n}){return e?u0(e,n)===0:!0}function B4(t,{y:e},{y:n}){return e?u0(e,n)===e.length-1:!0}function z4(t,{x:e},{x:n}){return e?u0(e,n)===0:!0}function F4(t,{x:e},{x:n}){return e?u0(e,n)===e.length-1:!0}function wX(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=u0(e,r);if(s>0)return S2(t,n,e[s-1])}function xX(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=u0(e,r);if(s<e.length-1)return S2(t,n,e[s+1])}function SX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=u0(e,n);if(s>0)return S2(t,e[s-1],r)}function TX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=u0(e,n);if(s<e.length-1)return S2(t,e[s+1],r)}function kX(t,e,{empty:n}){return n}function E1(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function U4(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:s})=>{var a;return((a=r.get(i))==null?void 0:a.get(s))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class za{constructor(e,n={},r={},i){const{facet:s="auto",facetAnchor:a,fx:l,fy:c,sort:f,dx:p=0,dy:m=0,margin:g=0,marginTop:y=g,marginRight:w=g,marginBottom:S=g,marginLeft:I=g,clip:P=i==null?void 0:i.clip,channels:k,tip:A,render:C}=r;if(this.data=e,this.sort=Eh(f)?f:null,this.initializer=Ch(r).initializer,this.transform=this.initializer?r.transform:g5(r).transform,s===null||s===!1?this.facet=null:(this.facet=ll(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=e===og&&typeof l=="string"?[l]:l,this.fy=e===og&&typeof c=="string"?[c]:c),this.facetAnchor=yX(a),n=AA(n),k!==void 0&&(n={...EX(k),...n}),i!==void 0&&(n={...iK(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([N,D])=>{if(m2(D.value)){const{value:F,label:W=D.label,scale:G=D.scale}=D.value;D={...D,label:W,scale:G,value:F}}if(e===og&&typeof D.value=="string"){const{value:F}=D;D={...D,value:[F]}}return[N,D]}).filter(([N,{value:D,optional:F}])=>{if(D!=null)return!0;if(F)return!1;throw new Error(`missing channel value: ${N}`)})),this.dx=+p,this.dy=+m,this.marginTop=+y,this.marginRight=+w,this.marginBottom=+S,this.marginLeft=+I,this.clip=DA(P),this.tip=MX(A),this.facet==="super"){if(l||c)throw new Error("super-faceting cannot use fx or fy");for(const N in this.channels){const{scale:D}=n[N];if(!(D!=="x"&&D!=="y"))throw new Error("super-faceting cannot use x or y")}}C!=null&&(this.render=rI(C,this.render))}initialize(e,n,r){let i=no(this.data);e===void 0&&i!=null&&(e=[l0(i)]);const s=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=no(i)),e!==void 0&&(e.original=s);const a=$j(this.channels,i);return this.sort!=null&&Zj(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:s=Jc}=n[i];if(s!==null){const a=r[i];e=e.filter(l=>s(a[l]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const s=i.replace(/^x|x$/,"y");s in e&&e[s].scale==="y"&&yK(i,s,n,r.projection)}}scale(e,n,r){const i=Vj(e,n);return r.projection&&this.project(e,i,r),i}}function nI(...t){return t.plot=za.prototype.plot,t}function rI(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,s,a,l){return t.call(this,n,r,i,s,a,(c,f,p,m,g)=>e.call(this,c,f,p,m,g,l))}}function EX(t){return Object.fromEntries(Object.entries(AA(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:_2(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function MX(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ll(t,"tip",["x","y","xy"]):t}function E5(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:_f(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const q9=new WeakMap;function M5(t,e,{x:n,y:r,px:i,py:s,maxRadius:a=40,channels:l,render:c,...f}={}){return a=+a,i!=null&&(n??(n=null),l={...l,px:{value:i,scale:"x"}}),s!=null&&(r??(r=null),l={...l,py:{value:s,scale:"y"}}),{x:n,y:r,channels:l,...f,render:rI(function(p,m,g,y,w,S){w={...w,pointerSticky:!1};const I=w.ownerSVGElement,{data:P}=w.getMarkState(this);let k=q9.get(I);k||q9.set(I,k={sticky:!1,roots:[],renders:[]});let A=k.renders.push(Ee)-1;const{x:C,y:N,fx:D,fy:F}=m;let W=D?D(p.fx)-y.marginLeft:0,G=F?F(p.fy)-y.marginTop:0;C!=null&&C.bandwidth&&(W+=C.bandwidth()/2),N!=null&&N.bandwidth&&(G+=N.bandwidth()/2);const Y=p.fi!=null;let V;if(Y){let Te=k.facetStates;Te||(k.facetStates=Te=new Map),V=Te.get(this),V||Te.set(this,V=new Map)}const[ee,fe]=gm(this,y),{px:le,py:ie}=g,he=le?Te=>le[Te]:iI(g,ee),me=ie?Te=>ie[Te]:sI(g,fe);let ve,pe,Z,j;function ae(Te,Ce){if(Y)if(j&&(j=cancelAnimationFrame(j)),Te==null)V.delete(p.fi);else{V.set(p.fi,Ce),j=requestAnimationFrame(()=>{j=null;for(const[_e,Ne]of V)if(Ne<Ce||Ne===Ce&&_e<p.fi){Te=null;break}Ee(Te)});return}Ee(Te)}function Ee(Te){if(ve===Te&&Z===k.sticky)return;ve=Te,Z=w.pointerSticky=k.sticky;const Ce=ve==null?[]:[ve];Y&&(Ce.fx=p.fx,Ce.fy=p.fy,Ce.fi=p.fi);const _e=S(Ce,m,g,y,w);if(pe){if(Y){const Ne=pe.parentNode,Be=pe.getAttribute("transform"),we=_e.getAttribute("transform");Be?_e.setAttribute("transform",Be):_e.removeAttribute("transform"),we?Ne.setAttribute("transform",we):Ne.removeAttribute("transform"),_e.removeAttribute("aria-label"),_e.removeAttribute("aria-description"),_e.removeAttribute("aria-hidden")}pe.replaceWith(_e)}return k.roots[A]=pe=_e,ve==null&&(V==null?void 0:V.size)>1||w.dispatchValue(ve==null?null:P[ve]),_e}function Oe(Te){if(k.sticky||Te.pointerType==="mouse"&&Te.buttons===1)return;let[Ce,_e]=_W(Te);Ce-=W,_e-=G;const Ne=Ce<y.marginLeft||Ce>y.width-y.marginRight?1:t,Be=_e<y.marginTop||_e>y.height-y.marginBottom?1:e;let we=null,st=a*a;for(const ze of p){const lt=Ne*(he(ze)-Ce),ft=Be*(me(ze)-_e),et=lt*lt+ft*ft;et<=st&&(we=ze,st=et)}if(we!=null&&(t!==1||e!==1)){const ze=he(we)-Ce,lt=me(we)-_e;st=ze*ze+lt*lt}ae(we,st)}function Re(Te){Te.pointerType==="mouse"&&ve!=null&&(k.sticky&&k.roots.some(Ce=>Ce==null?void 0:Ce.contains(Te.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(Ce=>Ce(null))):(k.sticky=!0,Ee(ve)),Te.stopImmediatePropagation()))}function Se(Te){Te.pointerType==="mouse"&&(k.sticky||ae(null))}return I.addEventListener("pointerenter",Oe),I.addEventListener("pointermove",Oe),I.addEventListener("pointerdown",Re),I.addEventListener("pointerleave",Se),Ee(null)},c)}}function CX(t){return M5(1,1,t)}function AX(t){return M5(1,.01,t)}function IX(t){return M5(.01,1,t)}function iI({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function sI({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function aI(t){return yf(t)&&t.interval===void 0?void 0:"tabular-nums"}function RX(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:s=44+r,marginTop:a=18,marginRight:l=0,marginBottom:c=16+r,marginLeft:f=0,style:p,ticks:m=(i-f-l)/64,tickFormat:g,fontVariant:y=aI(t),round:w=!0,opacity:S,className:I}=e;const P=b5(e);I=v5(I),S=Ls(S)[1],g===null&&(g=()=>null);const k=Xi("svg",P).attr("class",`${I}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",s).attr("viewBox",`0 0 ${i} ${s}`).call(ee=>ee.append("style").text(`.${I}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${I}-ramp text {
  white-space: pre;
}`)).call(y5,p);let A=ee=>ee.selectAll(".tick line").attr("y1",a+c-s),C;const N=w?(ee,fe)=>ee.rangeRound(fe):(ee,fe)=>ee.range(fe),{type:D,domain:F,range:W,interpolate:G,scale:Y,pivot:V}=t;if(G){const ee=W===void 0?G:K_(G.length===1?S5(G):G,W);C=N(Y.copy(),Da(Ps(f,i-l),Math.min(F.length+(V!==void 0),W===void 0?1/0:W.length)));const fe=256,le=P.document.createElement("canvas");le.width=fe,le.height=1;const ie=le.getContext("2d");for(let he=0,me=fe-1;he<fe;++he)ie.fillStyle=ee(he/me),ie.fillRect(he,0,1,1);k.append("image").attr("opacity",S).attr("x",f).attr("y",a).attr("width",i-f-l).attr("height",s-a-c).attr("preserveAspectRatio","none").attr("xlink:href",le.toDataURL())}else if(D==="threshold"){const ee=F,fe=g===void 0?le=>le:typeof g=="string"?qn(g):g;C=N(n2().domain([-1,W.length-1]),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(W).enter().append("rect").attr("x",(le,ie)=>C(ie-1)).attr("y",a).attr("width",(le,ie)=>C(ie)-C(ie-1)).attr("height",s-a-c).attr("fill",le=>le),m=Yi(ee,(le,ie)=>ie),g=le=>fe(ee[le],le)}else C=N(em().domain(F),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(F).enter().append("rect").attr("x",C).attr("y",a).attr("width",Math.max(0,C.bandwidth()-1)).attr("height",s-a-c).attr("fill",Y),A=()=>{};return k.append("g").attr("transform",`translate(0,${s-c})`).call(Rk(C).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(r).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ls(y,"normal")).call(A).call(ee=>ee.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const oI=Math.PI/180;function T2(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=q4(n),t.markerMid=q4(r),t.markerEnd=q4(i)}function q4(t){if(t==null||t===!1)return null;if(t===!0)return W9;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return H9("auto");case"arrow-reverse":return H9("auto-start-reverse");case"dot":return PX;case"circle":case"circle-fill":return W9;case"circle-stroke":return NX}throw new Error(`invalid marker: ${t}`)}function H9(t){return(e,n)=>Xi("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function PX(t,e){return Xi("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function W9(t,e){return Xi("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function NX(t,e){return Xi("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let LX=0;function C5(t,e,{stroke:n},r){return lI(t,e,n&&(i=>n[i]),r)}function OX(t,e,{stroke:n},r){return lI(t,e,n&&(([i])=>n[i]),r)}function lI(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},s=()=>i,a){const l=new Map;function c(f){return function(p){const m=s(p);let g=l.get(f);g||l.set(f,g=new Map);let y=g.get(m);if(!y){const w=this.parentNode.insertBefore(f(m,a),this),S=`plot-marker-${++LX}`;w.setAttribute("id",S),g.set(m,y=`url(#${S})`)}return y}}e&&t.attr("marker-start",c(e)),n&&t.attr("marker-mid",c(n)),r&&t.attr("marker-end",c(r))}function uI({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=fI(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function cI({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=fI(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function fI(t,e,n){return t===void 0&&e===void 0&&n===void 0?ra?[1,0]:[.5,.5]:[e,n]}function hI(t,{interval:e}){return t={..._2(t)},t.interval=h5(t.interval===void 0?e:t.interval),t}function dI(t,e,n,r){const{[t]:i,[`${t}1`]:s,[`${t}2`]:a}=n,{value:l,interval:c}=hI(i,n);if(l==null||c==null&&!r)return n;const f=fm(i);if(c==null){let y;const w={transform:S=>y||(y=Eo(S,l)),label:f};return{...n,[t]:void 0,[`${t}1`]:s===void 0?w:s,[`${t}2`]:a===void 0?w:a}}let p,m;function g(y){return m!==void 0&&y===p?m:m=Yi(Eo(p=y,l),w=>c.floor(w))}return e({...n,[t]:void 0,[`${t}1`]:s===void 0?{transform:g,label:f}:s,[`${t}2`]:a===void 0?{transform:y=>g(y).map(w=>c.offset(w)),label:f}:a})}function pI(t,e,n){const{[t]:r}=n,{value:i,interval:s}=hI(r,n);return i==null||s==null?n:e({...n,[t]:{label:fm(r),transform:a=>{const l=Yi(Eo(a,i),f=>s.floor(f)),c=l.map(f=>s.offset(f));return l.map(Io(l)?(f,p)=>f==null||isNaN(f=+f)||(p=c[p],p==null)||isNaN(p=+p)?void 0:new Date((f+p)/2):(f,p)=>f==null||(p=c[p],p==null)?NaN:(+f+ +p)/2)}}})}function DX(t={}){return dI("x",uI,t)}function mI(t={}){return dI("y",cI,t)}function BX(t={}){return pI("x",uI,t)}function zX(t={}){return pI("y",cI,t)}const gI={ariaLabel:"rule",fill:null,stroke:"currentColor"};class FX extends za{constructor(e,n={}){const{x:r,y1:i,y2:s,inset:a=0,insetTop:l=a,insetBottom:c=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},E5(n,"x"),gI),this.insetTop=wr(l),this.insetBottom=wr(c),T2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y1:f,y2:p}=r,{width:m,height:g,marginTop:y,marginRight:w,marginLeft:S,marginBottom:I}=i,{insetTop:P,insetBottom:k}=this;return Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,{x:c&&a},ra,0).call(A=>A.selectAll().data(e).enter().append("line").call(cl,this).attr("x1",c?C=>c[C]:(S+m-w)/2).attr("x2",c?C=>c[C]:(S+m-w)/2).attr("y1",f&&!Ah(l)?C=>f[C]+P:y+P).attr("y2",p&&!Ah(l)?l.bandwidth?C=>p[C]+l.bandwidth()-k:C=>p[C]-k:g-I-k).call(oc,this,r).call(C5,this,r,s)).node()}}class UX extends za{constructor(e,n={}){const{x1:r,x2:i,y:s,inset:a=0,insetRight:l=a,insetLeft:c=a}=n;super(e,{y:{value:s,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},E5(n,"y"),gI),this.insetRight=wr(l),this.insetLeft=wr(c),T2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{y:c,x1:f,x2:p}=r,{width:m,height:g,marginTop:y,marginRight:w,marginLeft:S,marginBottom:I}=i,{insetLeft:P,insetRight:k}=this;return Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,{y:c&&l},0,ra).call(A=>A.selectAll().data(e).enter().append("line").call(cl,this).attr("x1",f&&!Ah(a)?C=>f[C]+P:S+P).attr("x2",p&&!Ah(a)?a.bandwidth?C=>p[C]+a.bandwidth()-k:C=>p[C]-k:m-w-k).attr("y1",c?C=>c[C]:(y+g-I)/2).attr("y2",c?C=>c[C]:(y+g-I)/2).call(oc,this,r).call(C5,this,r,s)).node()}}function qX(t,e){let{x:n=ua,y:r,y1:i,y2:s,...a}=mI(e);return[i,s]=_I(r,i,s),new FX(t,{...a,x:n,y1:i,y2:s})}function Ab(t,e){let{y:n=ua,x:r,x1:i,x2:s,...a}=DX(e);return[i,s]=_I(r,i,s),new UX(t,{...a,y:n,x1:i,x2:s})}function _I(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function A5(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let s=0;s<n;++s)i+=e[s](r)+t[s+1];return i}}const HX={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},vI="­";let I5=class extends za{constructor(e,n={}){const{x:r,y:i,text:s=vf(e)&&MA(e)?ua:wA,frameAnchor:a,textAnchor:l=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:f=1,lineWidth:p=1/0,textOverflow:m,monospace:g,fontFamily:y=g?"ui-monospace, monospace":void 0,fontSize:w,fontStyle:S,fontVariant:I,fontWeight:P,rotate:k}=n,[A,C]=Ls(k,0),[N,D]=ZX(w);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:N,optional:!0},rotate:{value:gj(A),optional:!0},text:{value:s,filter:l5,optional:!0}},n,HX),this.rotate=C,this.textAnchor=ls(l,"middle"),this.lineAnchor=ll(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+p,this.textOverflow=yI(m),this.monospace=!!g,this.fontFamily=ta(y),this.fontSize=D,this.fontStyle=ta(S),this.fontVariant=ta(I),this.fontWeight=ta(P),this.frameAnchor=y2(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${p}`);this.splitLines=wI(this),this.clipLine=xI(this)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,rotate:p,text:m,title:g,fontSize:y}=r,{rotate:w}=this,[S,I]=gm(this,i);return Xi("svg:g",s).call(ul,this,i,s).call(bI,this,m,i).call(Lo,this,{x:c&&a,y:f&&l}).call(P=>P.selectAll().data(e).enter().append("text").call(cl,this).call(WX,this,m,g).attr("transform",A5`translate(${c?k=>c[k]:S},${f?k=>f[k]:I})${p?k=>` rotate(${p[k]})`:w?` rotate(${w})`:""}`).call(Xt,"font-size",y&&(k=>y[k])).call(oc,this,r)).node()}};function yI(t){return t==null?null:ll(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function WX(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:s,textOverflow:a,splitLines:l,clipLine:c}=e;t.each(function(f){const p=l(sf(n[f])??"").map(c),m=p.length,g=i==="top"?.71:i==="bottom"?1-m:(164-m*100)/200;if(m>1){let y=0;for(let w=0;w<m;++w){if(++y,!p[w])continue;const S=this.ownerDocument.createElementNS(ph.svg,"tspan");S.setAttribute("x",0),w===y-1?S.setAttribute("y",`${(g+w)*s}em`):S.setAttribute("dy",`${y*s}em`),S.textContent=p[w],this.appendChild(S),y=0}}else g&&this.setAttribute("y",`${g*s}em`),this.textContent=p[0];if(a&&!r&&p[0]!==n[f]){const y=this.ownerDocument.createElementNS(ph.svg,"title");y.textContent=n[f],this.appendChild(y)}})}function n_(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=g2(e,n)),new I5(t,{...r,x:e,y:n})}function GX(t,{x:e=ua,...n}={}){return new I5(t,zX({...n,x:e}))}function R0(t,{y:e=ua,...n}={}){return new I5(t,BX({...n,y:e}))}function bI(t,e,n){Xt(t,"text-anchor",e.textAnchor),Xt(t,"font-family",e.fontFamily),Xt(t,"font-size",e.fontSize),Xt(t,"font-style",e.fontStyle),Xt(t,"font-variant",e.fontVariant===void 0?$X(n):e.fontVariant),Xt(t,"font-weight",e.fontWeight)}function $X(t){return t&&(yj(t)||Io(t))?"tabular-nums":void 0}const VX=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function ZX(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),VX.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function YX(t,e,n){const r=[];let i,s=0;for(const[a,l,c]of jX(t)){if(i===void 0&&(i=a),s>i&&n(t,i,l)>e&&(r.push(t.slice(i,s)+(t[s-1]===vI?"-":"")),i=a),c){r.push(t.slice(i,l)),i=void 0;continue}s=l}return r}function*jX(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case vI:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const G9={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function R5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Wh(t,i))r+=G9[t[i]]??(TI(t,i)?120:G9.e);return r}function P5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Wh(t,i))r+=TI(t,i)?200:100;return r}function wI({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return s=>s.split(/\r\n?|\n/g);const r=t?P5:R5,i=e*100;return s=>YX(s,i,r)}function xI({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return s=>s;const r=t?P5:R5,i=e*100;switch(n){case"clip-start":return s=>V9(s,i,r,"");case"clip-end":return s=>$9(s,i,r,"");case"ellipsis-start":return s=>V9(s,i,r,ah);case"ellipsis-middle":return s=>KX(s,i,r,ah);case"ellipsis-end":return s=>$9(s,i,r,ah)}}const ah="…";function Ih(t,e,n,r){const i=[];let s=0;for(let a=0,l=0,c=t.length;a<c;a=l){l=Wh(t,a);const f=n(t,a,l);if(s+f>e){for(s+=r;s>e&&a>0;)l=a,a=i.pop(),s-=n(t,a,l);return[a,e-s]}s+=f,i.push(a)}return[-1,0]}function $9(t,e,n,r){t=t.trim();const i=n(r),[s]=Ih(t,e,n,i);return s<0?t:t.slice(0,s).trimEnd()+r}function KX(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r)/2,[a,l]=Ih(t,e/2,n,s),[c]=Ih(t,i-e/2-l+s,n,-s);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Wh(t,c)).trimStart()}function V9(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r),[a]=Ih(t,i-e+s,n,-s);return a<0?r:r+t.slice(Wh(t,a)).trimStart()}const Ib=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Z9=/\p{Extended_Pictographic}/uy;function Wh(t,e){return e+=XX(t,e)?2:1,QX(t,e)&&(e=Ib.lastIndex),JX(t,e)?Wh(t,e+1):e}function SI(t,e){return t.charCodeAt(e)<128}function XX(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function JX(t,e){return t.charCodeAt(e)===8205}function QX(t,e){return SI(t,e)?!1:(Ib.lastIndex=e,Ib.test(t))}function TI(t,e){return SI(t,e)?!1:(Z9.lastIndex=e,Z9.test(t))}const eJ={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},kI=3.5,tJ=kI*5,EI={draw(t,e,n){const r=e*n/tJ;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},nJ={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},rJ=new Map([["arrow",EI],["spike",nJ]]);function iJ(t){return t&&typeof t.draw=="function"}function sJ(t){if(iJ(t))return t;const e=rJ.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class MI extends za{constructor(e,n={}){const{x:r,y:i,r:s=kI,length:a,rotate:l,shape:c=EI,anchor:f="middle",frameAnchor:p}=n,[m,g]=Ls(a,12),[y,w]=Ls(l,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:y,optional:!0}},n,eJ),this.r=+s,this.length=g,this.rotate=w,this.shape=sJ(c),this.anchor=ll(f,"anchor",["start","middle","end"]),this.frameAnchor=y2(p)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,length:p,rotate:m}=r,{length:g,rotate:y,anchor:w,shape:S,r:I}=this,[P,k]=gm(this,i);return Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,{x:c&&a,y:f&&l}).call(A=>A.selectAll().data(e).enter().append("path").call(cl,this).attr("transform",A5`translate(${c?C=>c[C]:P},${f?C=>f[C]:k})${m?C=>` rotate(${m[C]})`:y?` rotate(${y})`:""}${w==="start"?"":w==="end"?p?C=>` translate(0,${p[C]})`:` translate(0,${g})`:p?C=>` translate(0,${p[C]/2})`:` translate(0,${g/2})`}`).attr("d",p?C=>{const N=D0();return S.draw(N,p[C],I),N}:(()=>{const C=D0();return S.draw(C,g,I),C})()).call(oc,this,r)).node()}}function aJ(t,e={}){const{x:n=ua,...r}=e;return new MI(t,{...r,x:n})}function oJ(t,e={}){const{y:n=ua,...r}=e;return new MI(t,{...r,y:n})}function c0(t,e){return arguments.length<2&&!vf(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function k2({anchor:t}={},e){return t===void 0?e[0]:ll(t,"anchor",e)}function CI(t){return k2(t,["left","right"])}function AI(t){return k2(t,["right","left"])}function II(t){return k2(t,["bottom","top"])}function RI(t){return k2(t,["top","bottom"])}function PI(){const[t,e]=c0(...arguments);return LI("y",CI(e),t,e)}function lJ(){const[t,e]=c0(...arguments);return LI("fy",AI(e),t,e)}function NI(){const[t,e]=c0(...arguments);return OI("x",II(e),t,e)}function uJ(){const[t,e]=c0(...arguments);return OI("fx",RI(e),t,e)}function LI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:w=t==="y"?6:0,tickPadding:S,tickRotate:I,x:P,margin:k,marginTop:A=k===void 0?20:k,marginRight:C=k===void 0?e==="right"?40:0:k,marginBottom:N=k===void 0?20:k,marginLeft:D=k===void 0?e==="left"?40:0:k,label:F,labelAnchor:W,labelArrow:G,labelOffset:Y,...V}){return w=wr(w),S=wr(S),I=wr(I),W!==void 0&&(W=ll(W,"labelAnchor",["center","top","bottom"])),G=WI(G),nI(w&&!Pa(s)?cJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:w,tickPadding:S,tickRotate:I,x:P,...V}):null,Pa(c)?null:hJ(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:w,tickPadding:S,tickRotate:I,x:P,marginTop:A,marginRight:C,marginBottom:N,marginLeft:D,...V}),!Pa(c)&&F!==null?n_([],FI({fill:c,fillOpacity:f,...V},function(ee,fe,le,ie,he){const me=ie[t],{marginTop:ve,marginRight:pe,marginBottom:Z,marginLeft:j}=t==="y"&&he.inset||he,ae=W??(me.bandwidth?"center":"top"),Ee=Y??(e==="right"?pe:j)-3;return ae==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=ae,this.frameAnchor=`${ae}-${e}`,this.rotate=0),this.dy=ae==="top"?3-ve:ae==="bottom"?Z-3:0,this.dx=e==="right"?Ee:-Ee,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[HI(t,me,{anchor:e,label:F,labelAnchor:ae,labelArrow:G})]}}}})):null)}function OI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:w=t==="x"?6:0,tickPadding:S,tickRotate:I,y:P,margin:k,marginTop:A=k===void 0?e==="top"?30:0:k,marginRight:C=k===void 0?20:k,marginBottom:N=k===void 0?e==="bottom"?30:0:k,marginLeft:D=k===void 0?20:k,label:F,labelAnchor:W,labelArrow:G,labelOffset:Y,...V}){return w=wr(w),S=wr(S),I=wr(I),W!==void 0&&(W=ll(W,"labelAnchor",["center","left","right"])),G=WI(G),nI(w&&!Pa(s)?fJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:w,tickPadding:S,tickRotate:I,y:P,...V}):null,Pa(c)?null:dJ(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:w,tickPadding:S,tickRotate:I,y:P,marginTop:A,marginRight:C,marginBottom:N,marginLeft:D,...V}),!Pa(c)&&F!==null?n_([],FI({fill:c,fillOpacity:f,...V},function(ee,fe,le,ie,he){const me=ie[t],{marginTop:ve,marginRight:pe,marginBottom:Z,marginLeft:j}=t==="x"&&he.inset||he,ae=W??(me.bandwidth?"center":"right"),Ee=Y??(e==="top"?ve:Z)-3;return ae==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${ae}`,this.textAnchor=ae==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Ee:Ee,this.dx=ae==="right"?pe-3:ae==="left"?3-j:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[HI(t,me,{anchor:e,label:F,labelAnchor:ae,labelArrow:G})]}}}})):null)}function cJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetLeft:p=f,insetRight:m=f,dx:g=0,y=t==="y"?void 0:null,...w}){return Gh(oJ,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:s,facetAnchor:a,frameAnchor:l,y,...w,dx:e==="left"?+g-ra+ +p:+g+ra-m,anchor:"start",length:c,shape:e==="left"?wJ:xJ})}function fJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetTop:p=f,insetBottom:m=f,dy:g=0,x:y=t==="x"?void 0:null,...w}){return Gh(aJ,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:s,strokeLinecap:i,facetAnchor:a,frameAnchor:l,x:y,...w,dy:e==="bottom"?+g-ra-m:+g+ra+ +p,anchor:"start",length:c,shape:e==="bottom"?yJ:bJ})}function hJ(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>60?4*Math.cos(a*oI):0),text:c,textAnchor:f=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:p=a>60?"top":a<-60?"bottom":"middle",fontVariant:m,inset:g=0,insetLeft:y=g,insetRight:w=g,dx:S=0,y:I=t==="y"?void 0:null,...P}){return Gh(R0,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:f,lineAnchor:p,fontVariant:m,rotate:a,y:I,...P,dx:e==="left"?+S-s-l+ +y:+S+ +s+ +l-w},function(k,A,C,N,D){m===void 0&&(this.fontVariant=qI(k)),c===void 0&&(D.text=UI(k,A,C,N,e))})}function dJ(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>=10?4*Math.cos(a*oI):0),text:c,textAnchor:f=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:p=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:m,inset:g=0,insetTop:y=g,insetBottom:w=g,dy:S=0,x:I=t==="x"?void 0:null,...P}){return Gh(GX,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:f,lineAnchor:p,fontVariant:m,rotate:a,x:I,...P,dy:e==="bottom"?+S+ +s+ +l-w:+S-s-l+ +y},function(k,A,C,N,D){m===void 0&&(this.fontVariant=qI(k)),c===void 0&&(D.text=UI(k,A,C,N,e))})}function pJ(){const[t,e]=c0(...arguments);return DI("y",CI(e),t,e)}function mJ(){const[t,e]=c0(...arguments);return DI("fy",AI(e),t,e)}function gJ(){const[t,e]=c0(...arguments);return BI("x",II(e),t,e)}function _J(){const[t,e]=c0(...arguments);return BI("fx",RI(e),t,e)}function DI(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:s=e==="left"?i:null,x2:a=e==="right"?i:null,...l}){return Gh(Ab,t,e,`${t}-grid`,n,{y:r,x1:s,x2:a,...zI(l)})}function BI(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:s=e==="top"?i:null,y2:a=e==="bottom"?i:null,...l}){return Gh(qX,t,e,`${t}-grid`,n,{x:r,y1:s,y2:a,...zI(l)})}function zI({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...s}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...s}}function FI({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:s,fontWeight:a,monospace:l,pointerEvents:c,shapeRendering:f,clip:p=!1},m){return[,t]=rf(t),[,e]=Ls(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:s,fontWeight:a,monospace:l,pointerEvents:c,shapeRendering:f,clip:p,initializer:m}}function Gh(t,e,n,r,i,s,a){let l;function c(m,g,y,w,S,I){const P=m==null&&(e==="fx"||e==="fy"),{[e]:k}=w;if(!k)throw new Error(`missing scale: ${e}`);const A=k.domain();let{interval:C,ticks:N,tickFormat:D,tickSpacing:F=e==="x"?80:35}=s;if(typeof N=="string"&&GI(k)&&(C=N,N=void 0),N===void 0&&(N=hm(C,k.type)??vJ(k,F)),m==null){if(vf(N))m=no(N);else if(mj(N))m=H4(N,...Os(A));else if(k.interval){let G=k.interval;if(k.ticks){const[Y,V]=Os(A),ee=(V-Y)/G[um];G=_9(G,ee/N)??G,m=H4(G,Y,V)}else{m=A;const Y=m.length;G=_9(G,Y/N)??G,G!==k.interval&&(m=H4(G,...Os(m)))}if(G===k.interval){const Y=Math.round(m.length/N);Y>1&&(m=m.filter((V,ee)=>ee%Y===0))}}else k.ticks?m=k.ticks(N):m=A;if(!k.ticks&&m.length&&m!==A){const G=new V_(A);m=m.filter(Y=>G.has(Y)),m.length||Hc(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[l0(m)]:l[e]={scale:e,value:ua}}a==null||a.call(this,k,m,N,D,l);const W=Object.fromEntries(Object.entries(l).map(([G,Y])=>[G,{...Y,value:Eo(m,Y.value)}]));return P&&(g=I.filterFacets(m,W)),{data:m,facets:g,channels:W}}const f=Ch(s).initializer,p=t(i,Ch({...s,initializer:c},f));return i==null?(l=p.channels,p.channels={}):l={},p.ariaLabel=r,p.clip===void 0&&(p.clip=!1),p}function vJ(t,e){const[n,r]=Os(t.range());return(r-n)/e}function UI(t,e,n,r,i){return{value:N5(t,e,n,r,i)}}function N5(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&Io(e)?XY(e,i)??sf:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?sf:typeof r=="string"?(Io(t.domain())?am:qn)(r):cm(r)}function H4(t,e,n){return t.range(e,t.offset(t.floor(n)))}const yJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},bJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},wJ={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},xJ={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function qI(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function SJ(t){return Math.sign(Mh(t.domain()))*Math.sign(Mh(t.range()))}function HI(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:s}={}){if(!(r==null||r.inferred&&GI(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),s==="auto"&&(s=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!s)return r;if(s===!0){const a=SJ(e);a&&(s=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(s){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function WI(t="auto"){return Pa(t)?!1:typeof t=="boolean"?t:ll(t,"labelArrow",["auto","up","right","down","left"])}function GI(t){return Io(t.domain())}function Y9(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function TJ(t,{opacity:e,...n}={}){if(!yf(t)&&!tI(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return $I(t,n,(r,i,s,a)=>r.append("svg").attr("width",s).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ls(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function kJ(t,{fill:e=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(p=>(p=t.hint)==null?void 0:p.stroke)()!==void 0?t.hint.stroke:Pa(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:s=1.5,r:a=4.5,...l}={},c){const[m,g]=rf(e),[y,w]=rf(r),S=Y9(c,m),I=Y9(c,y),P=a*a*Math.PI;return n=Ls(n)[1],i=Ls(i)[1],s=Ls(s)[1],$I(t,l,(k,A,C,N)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",C).attr("height",N).attr("fill",m==="color"?D=>S.scale(D):g).attr("fill-opacity",n).attr("stroke",y==="color"?D=>I.scale(D):w).attr("stroke-opacity",i).attr("stroke-width",s).append("path").attr("d",D=>{const F=D0();return t.scale(D).draw(F,P),F}))}function $I(t,e={},n){let{columns:r,tickFormat:i,fontVariant:s=aI(t),swatchSize:a=15,swatchWidth:l=a,swatchHeight:c=a,marginLeft:f=0,className:p,style:m,width:g}=e;const y=b5(e);p=v5(p),i=N5(t.scale,t.domain,void 0,i);const w=Xi("div",y).attr("class",`${p}-swatches ${p}-swatches-${r!=null?"columns":"wrap"}`);let S;return r!=null?(S=`.${p}-swatches-columns .${p}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${p}-swatches-columns .${p}-swatch::before {
  flex-shrink: 0;
}
.${p}-swatches-columns .${p}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,w.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${p}-swatch`).call(n,t,l,c).call(I=>I.append("div").attr("class",`${p}-swatch-label`).attr("title",i).text(i))):(S=`.${p}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${p}-swatches-wrap .${p}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,w.selectAll().data(t.domain).enter().append("span").attr("class",`${p}-swatch`).call(n,t,l,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),w.call(I=>I.insert("style","*").text(`.${p}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${p}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${S}`)).style("margin-left",f?`${+f}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",ls(s,"normal")).call(y5,m).node()}const Rb=new Map([["symbol",kJ],["color",ZI],["opacity",MJ]]);function EJ(t,e,n={}){return(r,i)=>{if(!Rb.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Rb.get(r)(t[r],VI(e,n[r],i),s=>t[s])}}function VI({className:t,...e},{label:n,ticks:r,tickFormat:i}={},s){return Sj(s,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function ZI(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return TJ(t,n);case"ramp":return RX(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function MJ({type:t,interpolate:e,...n},{legend:r=!0,color:i=jc(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return ZI({type:t,...n,interpolate:CJ(i)},{legend:r,...s})}function CJ(t){const{r:e,g:n,b:r}=jc(t)||jc(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function AJ(t,e,n){const r=[];for(const[i,s]of Rb){const a=n[i];if(a!=null&&a.legend&&i in t){const l=s(t[i],VI(e,t[i],a),c=>t[c]);l!=null&&r.push(l)}}return r}const IJ={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},RJ={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class PJ extends za{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:s=r,insetBottom:a=r,insetLeft:l=r,rx:c,ry:f}=e;super(og,void 0,e,n==null?IJ:RJ),this.anchor=SA(n,"anchor",["top","right","bottom","left"]),this.insetTop=wr(i),this.insetRight=wr(s),this.insetBottom=wr(a),this.insetLeft=wr(l),this.rx=wr(c),this.ry=wr(f)}render(e,n,r,i,s){const{marginTop:a,marginRight:l,marginBottom:c,marginLeft:f,width:p,height:m}=i,{anchor:g,insetTop:y,insetRight:w,insetBottom:S,insetLeft:I,rx:P,ry:k}=this,A=f+I,C=p-l-w,N=a+y,D=m-c-S;return Xi(g?"svg:line":"svg:rect",s).datum(0).call(ul,this,i,s).call(cl,this).call(oc,this,r).call(Lo,this,{}).call(g==="left"?F=>F.attr("x1",A).attr("x2",A).attr("y1",N).attr("y2",D):g==="right"?F=>F.attr("x1",C).attr("x2",C).attr("y1",N).attr("y2",D):g==="top"?F=>F.attr("x1",A).attr("x2",C).attr("y1",N).attr("y2",N):g==="bottom"?F=>F.attr("x1",A).attr("x2",C).attr("y1",D).attr("y2",D):F=>F.attr("x",A).attr("y",N).attr("width",C-A).attr("height",D-N).attr("rx",P).attr("ry",k)).node()}}function NJ(t){return new PJ(t)}const W4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},LJ=new Set(["geometry","href","src","ariaLabel","scales"]);class OJ extends za{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&vf(e)&&MA(e)&&(n={...n,title:ua});const{x:r,y:i,x1:s,x2:a,y1:l,y2:c,anchor:f,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:w,fontWeight:S,lineHeight:I=1,lineWidth:P=20,frameAnchor:k,format:A,textAnchor:C="start",textOverflow:N,textPadding:D=8,title:F,pointerSize:W=12,pathFilter:G="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:s!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:l!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:a==null},y1:{value:l,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:s==null},y2:{value:c,scale:"y",optional:l==null},title:{value:F,optional:!0}},n,W4),this.anchor=CA(f,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=y2(k),this.textAnchor=ls(C,"middle"),this.textPadding=+D,this.pointerSize=+W,this.pathFilter=ta(G),this.lineHeight=+I,this.lineWidth=+P,this.textOverflow=yI(N),this.monospace=!!p,this.fontFamily=ta(m),this.fontSize=wr(g),this.fontStyle=ta(y),this.fontVariant=ta(w),this.fontWeight=ta(S);for(const Y in W4)Y in this.channels&&(this[Y]=W4[Y]);this.splitLines=wI(this),this.clipLine=xI(this),this.format={...A}}render(e,n,r,i,s){const a=this,{x:l,y:c,fx:f,fy:p}=n,{ownerSVGElement:m,document:g}=s,{anchor:y,monospace:w,lineHeight:S,lineWidth:I}=this,{textPadding:P,pointerSize:k,pathFilter:A}=this,{marginTop:C,marginLeft:N}=i,{x1:D,y1:F,x2:W,y2:G,x:Y=D??W,y:V=F??G}=r,ee=f?f(e.fx)-N:0,fe=p?p(e.fy)-C:0,[le,ie]=gm(this,i),he=iI(r,le),me=sI(r,ie),ve=w?P5:R5,pe=ve(ah);let Z,j;"title"in r?(Z=r.channels,j=qJ):(Z=UJ.call(this,r,n),j=HJ);const ae=Xi("svg:g",s).call(ul,this,i,s).call(bI,this).call(Lo,this,{x:Y&&l,y:V&&c}).call(Re=>Re.selectAll().data(e).enter().append("g").attr("transform",Se=>`translate(${Math.round(he(Se))},${Math.round(me(Se))})`).call(cl,this).call(Se=>Se.append("path").attr("filter",A)).call(Se=>Se.append("text").each(function(Te){const Ce=Fn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const _e=j.call(a,Te,e,Z,n,r);if(typeof _e=="string")for(const Ne of a.splitLines(_e))Ee(Ce,{value:a.clipLine(Ne)});else{const Ne=new Set;for(const Be of _e){const{label:we=""}=Be;we&&Ne.has(we)||(Ne.add(we),Ee(Ce,Be))}}})));function Ee(Re,{label:Se,value:Te,color:Ce,opacity:_e}){Se??(Se=""),Te??(Te="");const Ne=Ce!=null||_e!=null;let Be,we=I*100;const[st]=Ih(Se,we,ve,pe);if(st>=0)Se=Se.slice(0,st).trimEnd()+ah,Be=Te.trim(),Te="";else{(Se||!Te&&!Ne)&&(Te=" "+Te);const[lt]=Ih(Te,we-ve(Se),ve,pe);lt>=0&&(Te=Te.slice(0,lt).trimEnd()+ah,Be=Te.trim())}const ze=Re.append("tspan").attr("x",0).attr("dy",`${S}em`).text("​");Se&&ze.append("tspan").attr("font-weight","bold").text(Se),Te&&ze.append(()=>g.createTextNode(Te)),Ne&&ze.append("tspan").text(" ■").attr("fill",Ce).attr("fill-opacity",_e).style("user-select","none"),Be&&ze.append("title").text(Be)}function Oe(){const{width:Re,height:Se}=i.facet??i;ae.selectChildren().each(function(Te){let{x:Ce,width:_e,height:Ne}=this.getBBox();_e=Math.round(_e),Ne=Math.round(Ne);let Be=y;if(Be===void 0){Be=a.previousAnchor;const ze=he(Te)+ee,lt=me(Te)+fe,ft=ze+_e+P*2<Re,et=ze-_e-P*2>0,kt=lt+Ne+k+P*2+7<Se,tt=lt-Ne-k-P*2>0,wn=(/-left$/.test(Be)?ft||!et:ft&&!et)?"left":"right",Ht=(/^top-/.test(Be)?kt||!tt:kt&&!tt)?"top":"bottom";Be=a.previousAnchor=`${Ht}-${wn}`}const we=this.firstChild,st=this.lastChild;if(we.setAttribute("d",FJ(Be,k,P,_e,Ne)),Ce)for(const ze of st.childNodes)ze.setAttribute("x",-Ce);st.setAttribute("y",`${+BJ(Be,st.childNodes.length,S).toFixed(6)}em`),st.setAttribute("transform",`translate(${zJ(Be,k,P,_e,Ne)})`)}),ae.attr("visibility",null)}return e.length&&(ae.attr("visibility","hidden"),m.isConnected?Promise.resolve().then(Oe):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Oe)),ae.node()}}function DJ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=g2(e,n)),new OJ(t,{...r,x:e,y:n})}function BJ(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function zJ(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function FJ(t,e,n,r,i){const s=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-s/2},${-a/2}h${s}v${a}h${-s}z`;case"top-left":return`M0,0l${e},${e}h${s-e}v${a}h${-s}z`;case"top":return`M0,0l${e/2},${e/2}h${(s-e)/2}v${a}h${-s}v${-a}h${(s-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-s}v${a}h${s}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-s}v${a}h${s}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${s-e}v${-a}h${-s}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(s-e)/2}v${-a}h${-s}v${a}h${(s-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-s}v${-a}h${s}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${s}v${a}h${-s}v${e/2-a/2}z`}}function UJ({channels:t},e){var i,s;const n={};let r=this.format;r=j9(r,t,"x"),r=j9(r,t,"y"),this.format=r;for(const a in r){const l=r[a];if(!(l===null||l===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const c=E9(t,a);c&&(n[a]=c)}}for(const a in t){if(a in n||a in r||LJ.has(a))continue;const l=E9(t,a);l&&(n[a]=l)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const l=this.format[a];if(typeof l=="string"){const c=((i=n[a])==null?void 0:i.value)??((s=e[a])==null?void 0:s.domain())??[];this.format[a]=(Io(c)?am:qn)(l)}else if(l===void 0||l===!0){const c=e[a];this.format[a]=c!=null&&c.bandwidth?N5(c,c.domain()):sf}}return n}function j9(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const s=Object.entries(t),a=t[n];return s.splice(s.findIndex(([l])=>l===n)+1,0,[r,a],[i,a]),Object.fromEntries(s)}function qJ(t,e,{title:n}){return sf(n.value[t],t)}function*HJ(t,e,n,r,i){for(const s in n){if(s==="fx"||s==="fy"){yield{label:r_(r,n,s),value:this.format[s](e[s],t)};continue}if(s==="x1"&&"x2"in n||s==="y1"&&"y2"in n)continue;const a=n[s];if(s==="x2"&&"x1"in n)yield{label:X9(r,n,"x"),value:K9(this.format.x2,n.x1,a,t)};else if(s==="y2"&&"y1"in n)yield{label:X9(r,n,"y"),value:K9(this.format.y2,n.y1,a,t)};else{const l=a.value[t],c=a.scale;if(!Jc(l)&&c==null)continue;yield{label:r_(r,n,s),value:this.format[s](l,t),color:c==="color"?i[s][t]:null,opacity:c==="opacity"?i[s][t]:null}}}}function K9(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function X9(t,e,n){const r=r_(t,e,`${n}1`,n),i=r_(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function r_(t,e,n,r=n){const i=e[n],s=t[(i==null?void 0:i.scale)??n];return String((s==null?void 0:s.label)??(i==null?void 0:i.label)??r)}function Qo(t={}){var pe;const{facet:e,style:n,title:r,subtitle:i,caption:s,ariaLabel:a,ariaDescription:l}=t,c=v5(t.className),f=t.marks===void 0?[]:Q9(t.marks);f.push(...KJ(f));const p=YJ(e,t),m=new Map;for(const Z of f){const j=ex(Z,p,t);j&&m.set(Z,j)}const g=new Map;p&&Sd(g,[p],t),Sd(g,m,t);const y=Q9(XJ(f,g,t));for(const Z of y){const j=ex(Z,p,t);j&&m.set(Z,j)}f.unshift(...y);let w=pX(g,t);if(w!==void 0){const Z=p?U4(w,p):void 0;for(const ae of f){if(ae.facet===null||ae.facet==="super")continue;const Ee=m.get(ae);Ee!==void 0&&(Ee.facetsIndex=ae.fx!=null||ae.fy!=null?U4(w,Ee):Z)}const j=new Set;for(const{facetsIndex:ae}of m.values())ae==null||ae.forEach((Ee,Oe)=>{(Ee==null?void 0:Ee.length)>0&&j.add(Oe)});w.forEach(0<j.size&&j.size<w.length?(ae,Ee)=>ae.empty=!j.has(Ee):ae=>ae.empty=!1);for(const ae of f)if(ae.facet==="exclude"){const Ee=m.get(ae);Ee!==void 0&&(Ee.facetsIndex=_X(Ee.facetsIndex))}}for(const Z of ni.keys())xb(t[Z])&&Z!=="fx"&&Z!=="fy"&&g.set(Z,[]);const S=new Map;for(const Z of f){if(S.has(Z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:j,channels:ae}=m.get(Z)??{},{data:Ee,facets:Oe,channels:Re}=Z.initialize(j,ae,t);L5(Re,t),S.set(Z,{data:Ee,facets:Oe,channels:Re})}const I=Mb(Sd(g,S,t),t),P=hX(I,f,t);rX(I,P);const k=O9(I),{fx:A,fy:C}=k,N=A||C?JA(I,P):P,D=A||C?iQ(k,P):P,F=b5(t),W=F.document,G=Yp("svg").call(W.documentElement);let Y=G;F.ownerSVGElement=G,F.className=c,F.projection=gK(t,N),F.filterFacets=(Z,j)=>U4(w,{channels:j,groups:k5(Z,j)}),F.getMarkState=Z=>{const j=S.get(Z),ae=m.get(Z);return{...j,channels:{...j.channels,...ae==null?void 0:ae.channels}}},F.dispatchValue=Z=>{Y.value!==Z&&(Y.value=Z,Y.dispatchEvent(new Event("input",{bubbles:!0})))};const V=new Set;for(const[Z,j]of S)if(Z.initializer!=null){const ae=Z.facet==="super"?D:N,Ee=Z.initializer(j.data,j.facets,j.channels,k,ae,F);if(Ee.data!==void 0&&(j.data=Ee.data),Ee.facets!==void 0&&(j.facets=Ee.facets),Ee.channels!==void 0){const{fx:Oe,fy:Re,...Se}=Ee.channels;ZJ(Se),Object.assign(j.channels,Se);for(const Te of Object.values(Se)){const{scale:Ce}=Te;Ce!=null&&!kj(ni.get(Ce))&&(YI(Te,t),V.add(Ce))}(Oe!=null||Re!=null)&&m.set(Z,!0)}}if(V.size){const Z=new Map;Sd(Z,S,t,Oe=>V.has(Oe)),Sd(g,S,t,Oe=>V.has(Oe));const j=rQ(Mb(Z,t),I),{scales:ae,...Ee}=O9(j);Object.assign(I,j),Object.assign(k,Ee),Object.assign(k.scales,ae)}let ee,fe;w!==void 0&&(ee={x:A==null?void 0:A.domain(),y:C==null?void 0:C.domain()},w=mX(w,ee),fe=gX(A,C,P));for(const[Z,j]of S)j.values=Z.scale(j.channels,k,F);const{width:le,height:ie}=P;Fn(G).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",le).attr("height",ie).attr("viewBox",`0 0 ${le} ${ie}`).attr("aria-label",a).attr("aria-description",l).call(Z=>Z.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(y5,n);for(const Z of f){const{channels:j,values:ae,facets:Ee}=S.get(Z);if(w===void 0||Z.facet==="super"){let Oe=null;if(Ee&&(Oe=Ee[0],Oe=Z.filter(Oe,j,ae),Oe.length===0))continue;const Re=Z.render(Oe,k,ae,D,F);if(Re==null)continue;G.appendChild(Re)}else{let Oe;for(const Re of w){if(!(((pe=Z.facetAnchor)==null?void 0:pe.call(Z,w,ee,Re))??!Re.empty))continue;let Se=null;if(Ee){const Ce=m.has(Z);if(Se=Ee[Ce?Re.i:0],Se=Z.filter(Se,j,ae),Se.length===0)continue;!Ce&&Se===Ee[0]&&(Se=cj(Se)),Se.fx=Re.x,Se.fy=Re.y,Se.fi=Re.i}const Te=Z.render(Se,k,ae,N,F);if(Te!=null){(Oe??(Oe=Fn(G).append("g"))).append(()=>Te).datum(Re);for(const Ce of["aria-label","aria-description","aria-hidden","transform"])Te.hasAttribute(Ce)&&(Oe.attr(Ce,Te.getAttribute(Ce)),Te.removeAttribute(Ce))}}Oe==null||Oe.selectChildren().attr("transform",fe)}}const he=AJ(I,F,t),{figure:me=r!=null||i!=null||s!=null||he.length>0}=t;me&&(Y=W.createElement("figure"),Y.className=`${c}-figure`,Y.style.maxWidth="initial",r!=null&&Y.append(J9(W,r,"h2")),i!=null&&Y.append(J9(W,i,"h3")),Y.append(...he,G),s!=null&&Y.append(WJ(W,s))),Y.scale=cX(k.scales),Y.legend=EJ(I,F,t);const ve=nK();return ve>0&&Fn(G).append("text").attr("x",le).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${ve.toLocaleString("en-US")} warning${ve===1?"":"s"}. Please check the console.`),Y}function J9(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function WJ(t,e){const n=t.createElement("figcaption");return n.append(e),n}function GJ({marks:t=[],...e}={}){return Qo({...e,marks:[...t,this]})}za.prototype.plot=GJ;function Q9(t){return t.flat(1/0).filter(e=>e!=null).map($J)}function $J(t){return typeof t.render=="function"?t:new VJ(t)}class VJ extends za{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function L5(t,e){for(const n in t)YI(t[n],e);return t}function YI(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:s,interval:a,transform:l=s?c=>c*100:EA(a,i)}=e[n]??{};l!=null&&(t.value=Yi(t.value,l),t.transform=!1)}function ZJ(t){for(const e in t)NA(e,t[e])}function Sd(t,e,n,r=nj){var i,s;for(const{channels:a}of e.values())for(const l in a){const c=a[l],{scale:f}=c;if(f!=null&&r(f))if(f==="projection"){if(!bK(n)){const p=((i=n.x)==null?void 0:i.domain)===void 0,m=((s=n.y)==null?void 0:s.domain)===void 0;if(p||m){const[g,y]=xK(c);p&&G4(t,"x",g),m&&G4(t,"y",y)}}}else G4(t,f,c)}return t}function G4(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function YJ(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=no(t.data);if(i==null)throw new Error("missing facet data");const s={};n!=null&&(s.fx=Tp(i,{value:n,scale:"fx"})),r!=null&&(s.fy=Tp(i,{value:r,scale:"fy"})),L5(s,e);const a=k5(i,s);return{channels:s,groups:a,data:t.data}}function ex(t,e,n){var c;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=no(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const p={};return r!=null&&(p.fx=Tp(f,{value:r,scale:"fx"})),i!=null&&(p.fy=Tp(f,{value:i,scale:"fy"})),L5(p,n),{channels:p,groups:k5(f,p)}}if(e===void 0)return;const{channels:s,groups:a,data:l}=e;if(t.facet!=="auto"||t.data===l)return{channels:s,groups:a};l.length>0&&(a.size>1||a.size===1&&s.fx&&s.fy&&[...a][0][1].size>1)&&((c=no(t.data))==null?void 0:c.length)===l.length&&Hc(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function jJ(t,e={}){return Ch({...e,x:null,y:null},(n,r,i,s,a,l)=>l.getMarkState(t))}function KJ(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?AX:/^y$/i.test(i)?IX:CX,r=i(jJ(n,r)),r.title=null;const s=DJ(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,e.push(s)}}return e}function XJ(t,e,n){let{projection:r,x:i={},y:s={},fx:a={},fy:l={},axis:c,grid:f,facet:p={},facet:{axis:m=c,grid:g}=p,x:{axis:y=c,grid:w=y===null?null:f}=i,y:{axis:S=c,grid:I=S===null?null:f}=s,fx:{axis:P=m,grid:k=P===null?null:g}=a,fy:{axis:A=m,grid:C=A===null?null:g}=l}=n;(r||!xb(i)&&!tx("x",t))&&(y=w=null),(r||!xb(s)&&!tx("y",t))&&(S=I=null),e.has("fx")||(P=k=null),e.has("fy")||(A=C=null),y===void 0&&(y=!A1(t,"x")),S===void 0&&(S=!A1(t,"y")),P===void 0&&(P=!A1(t,"fx")),A===void 0&&(A=!A1(t,"fy")),y===!0&&(y="bottom"),S===!0&&(S="left"),P===!0&&(P=y==="top"||y===null?"bottom":"top"),A===!0&&(A=S==="right"||S===null?"left":"right");const N=[];return C1(N,C,mJ,l),M1(N,A,lJ,"right","left",p,l),C1(N,k,_J,a),M1(N,P,uJ,"top","bottom",p,a),C1(N,I,pJ,s),M1(N,S,PI,"left","right",n,s),C1(N,w,gJ,i),M1(N,y,NI,"bottom","top",n,i),N}function M1(t,e,n,r,i,s,a){if(!e)return;const l=JJ(e);a=QJ(l?r:e,s,a);const{line:c}=a;(n===PI||n===NI)&&c&&!Sp(c)&&t.push(NJ(eQ(a))),t.push(n(a)),l&&t.push(n({...a,anchor:i,label:null}))}function C1(t,e,n,r){!e||Sp(e)||t.push(n(tQ(e,r)))}function JJ(t){return/^\s*both\s*$/i.test(t)}function QJ(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g=e.label,labelAnchor:y,labelArrow:w=e.labelArrow,labelOffset:S}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g,labelAnchor:y,labelArrow:w,labelOffset:S}}function eQ(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function tQ(t,{stroke:e=v2(t)?t:void 0,ticks:n=nQ(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:s}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:s}}function nQ(t){switch(typeof t){case"number":return!0;case"string":return!v2(t)}return vf(t)||typeof(t==null?void 0:t.range)=="function"}function A1(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function tx(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function rQ(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function iQ({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=T5(n),f=t&&nx(t),p=e&&nx(e);return{marginTop:e?p[0]:r,marginRight:t?l-f[1]:i,marginBottom:e?c-p[1]:s,marginLeft:t?f[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:c}}function nx(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const sQ=new Map([["basis",IY],["basis-closed",RY],["basis-open",PY],["bundle",NY],["bump-x",yY],["bump-y",bY],["cardinal",LY],["cardinal-closed",OY],["cardinal-open",DY],["catmull-rom",BY],["catmull-rom-closed",zY],["catmull-rom-open",FY],["linear",c2],["linear-closed",UY],["monotone-x",qY],["monotone-y",HY],["natural",WY],["step",GY],["step-after",VY],["step-before",$Y]]);function aQ(t=c2,e){if(typeof t=="function")return t;const n=sQ.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function oQ(t=i_,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?i_:aQ(t,e)}function i_(t){return c2(t)}function lQ(t={}){return TA(t)?t:{...t,y:ua}}function uQ(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const l of e)for(const c of l)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:e};t=xp(t);const s=t[yA]=new Uint32Array(n+i);e=e.map(l=>xp(l,Uint32Array));let a=n;r.fill(0);for(const l of e)for(let c=0,f=l.length;c<f;++c){const p=l[c];r[p]?(l[c]=a,t[a]=t[p],s[a]=p,++a):s[p]=p,r[p]=1}return{data:t,facets:e}}function cQ(t={},e={}){arguments.length===1&&([t,e]=hQ(t));const{x1:n,x:r=n,y:i,...s}=e,[a,l,c,f]=pQ(r,i,"x","y",t,s);return{...a,x1:n,x:l,y1:c,y2:f,y:hj(c,f)}}function fQ({y:t,y1:e,y2:n,...r}={}){return r=E5(r,"x"),e===void 0&&n===void 0?cQ({y:t,...r}):([e,n]=uj(t,e,n),{...r,y1:e,y2:n})}function hQ(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const dQ={length:!0};function pQ(t,e=tj,n,r,{offset:i,order:s,reverse:a},l){if(e===null)throw new Error(`stack requires ${r}`);const c=kA(l),[f,p]=fj(t),[m,g]=Sb(e),[y,w]=Sb(e);return m.hint=y.hint=dQ,i=mQ(i),s=vQ(s,i,r),[g5(l,(S,I,P)=>{({data:S,facets:I}=uQ(S,I));const k=t==null?void 0:p(dj(Eo(S,t),P==null?void 0:P[n])),A=Eo(S,e,Float64Array),C=Eo(S,c),N=s&&s(S,k,A,C),D=S.length,F=g(new Float64Array(D)),W=w(new Float64Array(D)),G=[];for(const Y of I){const V=k?Array.from(R3(Y,ee=>k[ee]).values()):[Y];if(N)for(const ee of V)ee.sort(N);for(const ee of V){let fe=0,le=0;a&&ee.reverse();for(const ie of ee){const he=A[ie];he<0?fe=W[ie]=(F[ie]=fe)+he:he>0?le=W[ie]=(F[ie]=le)+he:W[ie]=F[ie]=le}}G.push(V)}return i&&i(G,F,W,C),{data:S,facets:I}}),f,m,y]}function mQ(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return gQ;case"center":case"silhouette":return _Q;case"wiggle":return KI}throw new Error(`unknown offset: ${t}`)}}function jI(t,e){let n=0,r=0;for(const i of t){const s=e[i];s<n&&(n=s),s>r&&(r=s)}return[n,r]}function gQ(t,e,n){for(const r of t)for(const i of r){const[s,a]=jI(i,n);for(const l of i){const c=1/(a-s||1);e[l]=c*(e[l]-s),n[l]=c*(n[l]-s)}}}function _Q(t,e,n){for(const r of t){for(const i of r){const[s,a]=jI(i,n);for(const l of i){const c=(a+s)/2;e[l]-=c,n[l]-=c}}XI(r,e,n)}JI(t,e,n)}function KI(t,e,n,r){for(const i of t){const s=new K0;let a=0;for(const l of i){let c=-1;const f=l.map(y=>Math.abs(n[y]-e[y])),p=l.map(y=>{c=r?r[y]:++c;const w=n[y]-e[y],S=s.has(c)?w-s.get(c):0;return s.set(c,w),S}),m=[0,...aq(p)];for(const y of l)e[y]+=a,n[y]+=a;const g=fr(f);g&&(a-=fr(f,(y,w)=>(p[w]/2+m[w])*y)/g)}XI(i,e,n)}JI(t,e,n)}function XI(t,e,n){const r=eu(t,i=>eu(i,s=>e[s]));for(const i of t)for(const s of i)e[s]-=r,n[s]-=r}function JI(t,e,n){const r=t.length;if(r===1)return;const i=t.map(l=>l.flat()),s=i.map(l=>(eu(l,c=>e[c])+Co(l,c=>n[c]))/2),a=eu(s);for(let l=0;l<r;l++){const c=a-s[l];for(const f of i[l])e[f]+=c,n[f]+=c}}function vQ(t,e,n){if(t===void 0&&e===KI)return rx(ru);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?e_:ru;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return yQ(i);case"z":return bQ(i);case"sum":return wQ(i);case"appearance":return xQ(i);case"inside-out":return rx(i)}return ix(bA(t))}if(typeof t=="function")return(t.length===1?ix:SQ)(t);if(Array.isArray(t))return TQ(t);throw new Error(`invalid order: ${t}`)}}function yQ(t){return(e,n,r)=>(i,s)=>t(r[i],r[s])}function bQ(t){return(e,n,r,i)=>(s,a)=>t(i[s],i[a])}function wQ(t){return E2(t,(e,n,r,i)=>N3(l0(e),s=>fr(s,a=>r[a]),s=>i[s]))}function xQ(t){return E2(t,(e,n,r,i)=>N3(l0(e),s=>n[L3(s,a=>r[a])],s=>i[s]))}function rx(t){return E2(t,(e,n,r,i)=>{const s=l0(e),a=N3(s,m=>n[L3(m,g=>r[g])],m=>i[m]),l=Gd(s,m=>fr(m,g=>r[g]),m=>i[m]),c=[],f=[];let p=0;for(const m of a)p<0?(p+=l.get(m),c.push(m)):(p-=l.get(m),f.push(m));return f.reverse().concat(c)})}function ix(t){return e=>{const n=Eo(e,t);return(r,i)=>ru(n[r],n[i])}}function SQ(t){return e=>(n,r)=>t(e[n],e[r])}function TQ(t){return E2(ru,()=>t)}function E2(t,e){return(n,r,i,s)=>{if(!s)throw new Error("missing channel: z");const a=new K0(e(n,r,i,s).map((l,c)=>[l,c]));return(l,c)=>t(a.get(s[l]),a.get(s[c]))}}class kQ extends za{constructor(e,n,r={},i){super(e,n,r,i);const{inset:s=0,insetTop:a=s,insetRight:l=s,insetBottom:c=s,insetLeft:f=s,rx:p,ry:m}=r;this.insetTop=wr(a),this.insetRight=wr(l),this.insetBottom=wr(c),this.insetLeft=wr(f),this.rx=ls(p,"auto"),this.ry=ls(m,"auto")}render(e,n,r,i,s){const{rx:a,ry:l}=this;return Xi("svg:g",s).call(ul,this,i,s).call(this._transform,this,n).call(c=>c.selectAll().data(e).enter().append("rect").call(cl,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Xt,"rx",a).call(Xt,"ry",l).call(oc,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?s=>n[s]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?s=>n[s]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:s}){const{insetLeft:a,insetRight:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:s}){const{insetTop:a,insetBottom:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}}const EQ={ariaLabel:"bar"};class MQ extends kQ{constructor(e,n={}){const{x:r,y1:i,y2:s}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:s,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,EQ)}_transform(e,n,{y:r}){e.call(Lo,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:s}=this;return Ah(e)?i+s:a=>Math.min(n[a],r[a])+s}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:s,height:a}){const{insetTop:l,insetBottom:c}=this;return Ah(e)?a-i-s-l-c:f=>Math.max(0,Math.abs(r[f]-n[f])-l-c)}}function Hf(t,e={}){return lj(e)||(e={...e,x:wA,y2:ua}),new MQ(t,fQ(mI(lQ(e))))}const CQ={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function QI(t){return t.sort===void 0&&t.reverse===void 0?Nj({channel:"-r"},t):t}class AQ extends za{constructor(e,n={}){const{x:r,y:i,r:s,rotate:a,symbol:l=bp,frameAnchor:c}=n,[f,p]=Ls(a,0),[m,g]=Rj(l),[y,w]=Ls(s,m==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:y,scale:"r",filter:lm,optional:!0},rotate:{value:f,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},QI(n),CQ),this.r=w,this.rotate=p,this.symbol=g,this.frameAnchor=y2(c);const{channels:S}=this,{symbol:I}=S;if(I){const{fill:P,stroke:k}=S;I.hint={fill:P?P.value===I.value?"color":"currentColor":this.fill??"currentColor",stroke:k?k.value===I.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,r:p,rotate:m,symbol:g}=r,{r:y,rotate:w,symbol:S}=this,[I,P]=gm(this,i),k=S===bp,A=p?void 0:y*y*Math.PI;return d2(y)&&(e=[]),Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,{x:c&&a,y:f&&l}).call(C=>C.selectAll().data(e).enter().append(k?"circle":"path").call(cl,this).call(k?N=>{N.attr("cx",c?D=>c[D]:I).attr("cy",f?D=>f[D]:P).attr("r",p?D=>p[D]:y)}:N=>{N.attr("transform",A5`translate(${c?D=>c[D]:I},${f?D=>f[D]:P})${m?D=>` rotate(${m[D]})`:w?` rotate(${w})`:""}`).attr("d",p&&g?D=>{const F=D0();return g[D].draw(F,p[D]*p[D]*Math.PI),F}:p?D=>{const F=D0();return S.draw(F,p[D]*p[D]*Math.PI),F}:g?D=>{const F=D0();return g[D].draw(F,A),F}:(()=>{const D=D0();return S.draw(D,A),D})())}).call(oc,this,r)).node()}}function IQ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=g2(e,n)),new AQ(t,{...r,x:e,y:n})}const RQ={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class PQ extends za{constructor(e,n={}){const{x:r,y:i,z:s,curve:a,tension:l}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:kA(n),optional:!0}},n,RQ),this.z=s,this.curve=oQ(a,l),T2(this,n)}filter(e){return e}project(e,n,r){this.curve!==i_&&super.project(e,n,r)}render(e,n,r,i,s){const{x:a,y:l}=r,{curve:c}=this;return Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,n).call(f=>f.selectAll().data(hK(e,[a,l],this,r)).enter().append("path").call(cl,this).call(uK,this,r).call(OX,this,r,s).attr("d",c===i_&&s.projection?NQ(s.projection,a,l):vY().curve(c).defined(p=>p>=0).x(p=>a[p]).y(p=>l[p]))).node()}}function NQ(t,e,n){const r=xh(t);return e=t_(e),n=t_(n),i=>{let s=[];const a=[s];for(const l of i)l===-1?(s=[],a.push(s)):s.push([e[l],n[l]]);return r({type:"MultiLineString",coordinates:a})}}function Ou(t,{x:e,y:n,...r}={}){return[e,n]=g2(e,n),new PQ(t,{...r,x:e,y:n})}const LQ={ariaLabel:"tick",fill:null,stroke:"currentColor"};class eR extends za{constructor(e,n,r){super(e,n,r,LQ),T2(this,r)}render(e,n,r,i,s){return Xi("svg:g",s).call(ul,this,i,s).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(cl,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(oc,this,r).call(C5,this,r,s)).node()}}class OQ extends eR{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetTop:a=s,insetBottom:l=s}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=wr(a),this.insetBottom=wr(l)}_transform(e,n,{x:r}){e.call(Lo,n,{x:r},ra,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?s=>n[s]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}}class DQ extends eR{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetRight:a=s,insetLeft:l=s}=n;super(e,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=wr(a),this.insetLeft=wr(l)}_transform(e,n,{y:r}){e.call(Lo,n,{y:r},0,ra)}_x1({x:e},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&e?s=>n[s]+i:r+i}_x2({x:e},{x:n},{width:r,marginRight:i}){const{insetRight:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}_y1(e,{y:n}){return r=>n[r]}_y2(e,{y:n}){return r=>n[r]}}function BQ(t,{x:e=ua,...n}={}){return new OQ(t,{...n,x:e})}function I1(t,{y:e=ua,...n}={}){return new DQ(t,{...n,y:e})}const zQ={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class FQ extends za{constructor(e,n={}){const[r,i]=Ls(n.r,3);super(e,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:lm,optional:!0}},QI(n),zQ),this.r=i}render(e,n,r,i,s){const{geometry:a,r:l}=r,c=xh(s.projection??UQ(n)),{r:f}=this;return d2(f)?e=[]:f!==void 0&&c.pointRadius(f),Xi("svg:g",s).call(ul,this,i,s).call(Lo,this,n).call(p=>{p.selectAll().data(e).enter().append("path").call(cl,this).attr("d",l?m=>c.pointRadius(l[m])(a[m]):m=>c(a[m])).call(oc,this,r)}).node()}}function UQ({x:t,y:e}){if(t||e)return t??(t=n=>n),e??(e=n=>n),gp({point(n,r){this.stream.point(t(n),e(r))}})}function jo(t,{geometry:e=ua,...n}={}){switch(t==null?void 0:t.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t];break}return new FQ(t,{geometry:e,...n})}function tR({strokeWidth:t=1.5,...e}={}){return jo({type:"Sphere"},{strokeWidth:t,...e})}function nR({strokeOpacity:t=.1,...e}={}){return jo(X$(),{strokeOpacity:t,...e})}var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const HQ="modulepreload",WQ=function(t){return"/"+t},sx={},Ep=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=WQ(s),s in sx)return;sx[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":HQ,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Wf=[];function M2(t,e=Rn){let n;const r=new Set;function i(l){if(eo(t,l)&&(t=l,n)){const c=!Wf.length;for(const f of r)f[1](),Wf.push(f,t);if(c){for(let f=0;f<Wf.length;f+=2)Wf[f][0](Wf[f+1]);Wf.length=0}}}function s(l){i(l(t))}function a(l,c=Rn){const f=[l,c];return r.add(f),r.size===1&&(n=e(i)||Rn),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(t,e){if(!t)throw $h(e)},$h=function(t){return new Error("Firebase Database ("+iR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},O5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,y=f&63;c||(y=64,a||(g=64)),r.push(n[p],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||m==null)throw new $Q;const g=s<<2|l>>4;if(r.push(g),f!==64){const y=l<<4&240|f>>2;if(r.push(y),m!==64){const w=f<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=sR(t);return O5.encodeByteArray(e,!0)},s_=function(t){return aR(t).replace(/\./g,"")},a_=function(t){try{return O5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){return oR(void 0,t)}function oR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZQ(n)||(t[n]=oR(t[n],e[n]));return t}function ZQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=()=>YQ().__FIREBASE_DEFAULTS__,KQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a_(t[1]);return e&&JSON.parse(e)},D5=()=>{try{return jQ()||KQ()||XQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lR=t=>{var e,n;return(n=(e=D5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uR=t=>{const e=lR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cR=()=>{var t;return(t=D5())===null||t===void 0?void 0:t.config},fR=t=>{var e;return(e=D5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[s_(JSON.stringify(n)),s_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ds())}function JQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QQ(){const t=Ds();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pR(){return iR.NODE_ADMIN===!0}function eee(){try{return typeof indexedDB=="object"}catch{return!1}}function tee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee="FirebaseError";class lc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nee,Object.setPrototypeOf(this,lc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bm.prototype.create)}}class bm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?ree(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new lc(i,l,r)}}function ree(t,e){return t.replace(iee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return JSON.parse(t)}function Mi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Mp(a_(s[0])||""),n=Mp(a_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},see=function(t){const e=mR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aee=function(t){const e=mR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function o_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function l_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(ax(s)&&ax(a)){if(!l_(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ax(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=l^s&(a^l),p=1518500249):(f=s^a^l,p=1859775393):m<60?(f=s&a|l&(s|a),p=2400959708):(f=s^a^l,p=3395469782);const g=(i<<5|i>>>27)+f+c+p+r[m]&4294967295;c=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function lee(t,e){const n=new uee(t,e);return n.subscribe.bind(n)}class uee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$4),i.error===void 0&&(i.error=$4),i.complete===void 0&&(i.complete=$4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $4(){}function C2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ve(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class Qc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ym;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pee(e))try{this.getOrInitializeService({instanceIdentifier:P0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=P0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=P0){return this.instances.has(e)}getOptions(e=P0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=P0){return this.component?this.component.multipleInstances?e:P0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dee(t){return t===P0?void 0:t}function pee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(or||(or={}));const gee={debug:or.DEBUG,verbose:or.VERBOSE,info:or.INFO,warn:or.WARN,error:or.ERROR,silent:or.SILENT},_ee=or.INFO,vee={[or.DEBUG]:"log",[or.VERBOSE]:"log",[or.INFO]:"info",[or.WARN]:"warn",[or.ERROR]:"error"},yee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z5{constructor(e){this.name=e,this._logLevel=_ee,this._logHandler=yee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,or.DEBUG,...e),this._logHandler(this,or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,or.VERBOSE,...e),this._logHandler(this,or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,or.INFO,...e),this._logHandler(this,or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,or.WARN,...e),this._logHandler(this,or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,or.ERROR,...e),this._logHandler(this,or.ERROR,...e)}}const bee=(t,e)=>e.some(n=>t instanceof n);let ox,lx;function wee(){return ox||(ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xee(){return lx||(lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gR=new WeakMap,Nb=new WeakMap,_R=new WeakMap,V4=new WeakMap,F5=new WeakMap;function See(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Wc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gR.set(n,t)}).catch(()=>{}),F5.set(e,t),e}function Tee(t){if(Nb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Nb.set(t,e)}let Lb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_R.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kee(t){Lb=t(Lb)}function Eee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Z4(this),e,...n);return _R.set(r,e.sort?e.sort():[e]),Wc(r)}:xee().includes(t)?function(...e){return t.apply(Z4(this),e),Wc(gR.get(this))}:function(...e){return Wc(t.apply(Z4(this),e))}}function Mee(t){return typeof t=="function"?Eee(t):(t instanceof IDBTransaction&&Tee(t),bee(t,wee())?new Proxy(t,Lb):t)}function Wc(t){if(t instanceof IDBRequest)return See(t);if(V4.has(t))return V4.get(t);const e=Mee(t);return e!==t&&(V4.set(t,e),F5.set(e,t)),e}const Z4=t=>F5.get(t);function Cee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Wc(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Wc(a.result),c.oldVersion,c.newVersion,Wc(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Aee=["get","getKey","getAll","getAllKeys","count"],Iee=["put","add","delete","clear"],Y4=new Map;function ux(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y4.get(e))return Y4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Iee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Aee.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Y4.set(e,s),s}kee(t=>({...t,get:(e,n,r)=>ux(e,n)||t.get(e,n,r),has:(e,n)=>!!ux(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ob="@firebase/app",cx="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new z5("@firebase/app"),Nee="@firebase/app-compat",Lee="@firebase/analytics-compat",Oee="@firebase/analytics",Dee="@firebase/app-check-compat",Bee="@firebase/app-check",zee="@firebase/auth",Fee="@firebase/auth-compat",Uee="@firebase/database",qee="@firebase/database-compat",Hee="@firebase/functions",Wee="@firebase/functions-compat",Gee="@firebase/installations",$ee="@firebase/installations-compat",Vee="@firebase/messaging",Zee="@firebase/messaging-compat",Yee="@firebase/performance",jee="@firebase/performance-compat",Kee="@firebase/remote-config",Xee="@firebase/remote-config-compat",Jee="@firebase/storage",Qee="@firebase/storage-compat",ete="@firebase/firestore",tte="@firebase/firestore-compat",nte="firebase",rte="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="[DEFAULT]",ite={[Ob]:"fire-core",[Nee]:"fire-core-compat",[Oee]:"fire-analytics",[Lee]:"fire-analytics-compat",[Bee]:"fire-app-check",[Dee]:"fire-app-check-compat",[zee]:"fire-auth",[Fee]:"fire-auth-compat",[Uee]:"fire-rtdb",[qee]:"fire-rtdb-compat",[Hee]:"fire-fn",[Wee]:"fire-fn-compat",[Gee]:"fire-iid",[$ee]:"fire-iid-compat",[Vee]:"fire-fcm",[Zee]:"fire-fcm-compat",[Yee]:"fire-perf",[jee]:"fire-perf-compat",[Kee]:"fire-rc",[Xee]:"fire-rc-compat",[Jee]:"fire-gcs",[Qee]:"fire-gcs-compat",[ete]:"fire-fst",[tte]:"fire-fst-compat","fire-js":"fire-js",[nte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map,Bb=new Map;function ste(t,e){try{t.container.addComponent(e)}catch(n){af.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function of(t){const e=t.name;if(Bb.has(e))return af.debug(`There were multiple attempts to register component ${e}.`),!1;Bb.set(e,t);for(const n of u_.values())ste(n,t);return!0}function I2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gc=new bm("app","Firebase",ate);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=rte;function vR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Db,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gc.create("bad-app-name",{appName:String(i)});if(n||(n=cR()),!n)throw Gc.create("no-options");const s=u_.get(i);if(s){if(l_(n,s.options)&&l_(r,s.config))return s;throw Gc.create("duplicate-app",{appName:i})}const a=new mee(i);for(const c of Bb.values())a.addComponent(c);const l=new ote(n,r,a);return u_.set(i,l),l}function R2(t=Db){const e=u_.get(t);if(!e&&t===Db&&cR())return vR();if(!e)throw Gc.create("no-app",{appName:t});return e}function Gu(t,e,n){var r;let i=(r=ite[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),af.warn(l.join(" "));return}of(new Qc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte="firebase-heartbeat-database",ute=1,Cp="firebase-heartbeat-store";let j4=null;function yR(){return j4||(j4=Cee(lte,ute,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cp)}}}).catch(t=>{throw Gc.create("idb-open",{originalErrorMessage:t.message})})),j4}async function cte(t){try{return await(await yR()).transaction(Cp).objectStore(Cp).get(bR(t))}catch(e){if(e instanceof lc)af.warn(e.message);else{const n=Gc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});af.warn(n.message)}}}async function fx(t,e){try{const r=(await yR()).transaction(Cp,"readwrite");await r.objectStore(Cp).put(e,bR(t)),await r.done}catch(n){if(n instanceof lc)af.warn(n.message);else{const r=Gc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});af.warn(r.message)}}}function bR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=1024,hte=30*24*60*60*1e3;class dte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=hte}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hx(),{heartbeatsToSend:r,unsentEntries:i}=pte(this._heartbeatsCache.heartbeats),s=s_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function hx(){return new Date().toISOString().substring(0,10)}function pte(t,e=fte){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),dx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eee()?tee().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cte(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dx(t){return s_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t){of(new Qc("platform-logger",e=>new Ree(e),"PRIVATE")),of(new Qc("heartbeat",e=>new dte(e),"PRIVATE")),Gu(Ob,cx,t),Gu(Ob,cx,"esm2017"),Gu("fire-js","")}gte("");function U5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _te=wR,xR=new bm("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new z5("@firebase/auth");function vte(t,...e){c_.logLevel<=or.WARN&&c_.warn(`Auth (${bf}): ${t}`,...e)}function lg(t,...e){c_.logLevel<=or.ERROR&&c_.error(`Auth (${bf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,...e){throw q5(t,...e)}function Xl(t,...e){return q5(t,...e)}function yte(t,e,n){const r=Object.assign(Object.assign({},_te()),{[e]:n});return new bm("auth","Firebase",r).create(e,{appName:t.name})}function q5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xR.create(t,...e)}function qt(t,e,...n){if(!t)throw q5(e,...n)}function qu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function Qu(t,e){t||qu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bte(){return px()==="http:"||px()==="https:"}function px(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bte()||JQ()||"connection"in navigator)?navigator.onLine:!0}function xte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qu(n>e,"Short delay should be less than long delay!"),this.isMobile=B5()||dR()}get(){return wte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){Qu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=new wm(3e4,6e4);function xm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zh(t,e,n,r,i={}){return TR(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Vh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),SR.fetch()(kR(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function TR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ste),e);try{const i=new kte(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw R1(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw R1(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw R1(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw R1(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yte(t,p,f);sl(t,p)}}catch(i){if(i instanceof lc)throw i;sl(t,"network-request-failed",{message:String(i)})}}async function P2(t,e,n,r,i={}){const s=await Zh(t,e,n,r,i);return"mfaPendingCredential"in s&&sl(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?H5(t.config,i):`${t.config.apiScheme}://${i}`}class kte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xl(this.auth,"network-request-failed")),Tte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function R1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xl(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ete(t,e){return Zh(t,"POST","/v1/accounts:delete",e)}async function Mte(t,e){return Zh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cte(t,e=!1){const n=ds(t),r=await n.getIdToken(e),i=W5(r);qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jd(K4(i.auth_time)),issuedAtTime:jd(K4(i.iat)),expirationTime:jd(K4(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function K4(t){return Number(t)*1e3}function W5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=a_(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ate(t){const e=W5(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lc&&Ite(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ite({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ap(t,Mte(n,{idToken:r}));qt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lte(s.providerUserInfo):[],l=Nte(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ER(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function Pte(t){const e=ds(t);await f_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lte(t){return t.map(e=>{var{providerId:n}=e,r=U5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ote(t,e){const n=await TR(t,{},async()=>{const r=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=kR(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",SR.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ate(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return qt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ote(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ip;return r&&(qt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(qt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(qt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ip,this.toJSON())}_performRefresh(){return qu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class V0{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=U5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ER(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ap(this,this.stsTokenManager.getToken(this.auth,e));return qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cte(this,e)}reload(){return Pte(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new V0(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await f_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ap(this,Ete(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:C,isAnonymous:N,providerData:D,stsTokenManager:F}=n;qt(A&&F,e,"internal-error");const W=Ip.fromJSON(this.name,F);qt(typeof A=="string",e,"internal-error"),kc(m,e.name),kc(g,e.name),qt(typeof C=="boolean",e,"internal-error"),qt(typeof N=="boolean",e,"internal-error"),kc(y,e.name),kc(w,e.name),kc(S,e.name),kc(I,e.name),kc(P,e.name),kc(k,e.name);const G=new V0({uid:A,auth:e,email:g,emailVerified:C,displayName:m,isAnonymous:N,photoURL:w,phoneNumber:y,tenantId:S,stsTokenManager:W,createdAt:P,lastLoginAt:k});return D&&Array.isArray(D)&&(G.providerData=D.map(Y=>Object.assign({},Y))),I&&(G._redirectEventId=I),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ip;i.updateFromServerResponse(n);const s=new V0({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await f_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Map;function Hu(t){Qu(t instanceof Function,"Expected a class definition");let e=mx.get(t);return e?(Qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MR.type="NONE";const gx=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class oh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,s),this.fullPersistenceKey=ug("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?V0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oh(Hu(gx),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Hu(gx);const a=ug(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const p=await f._get(a);if(p){const m=V0._fromJSON(e,p);f!==s&&(l=m),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new oh(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new oh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(NR(e))return"Webos";if(G5(e))return"Safari";if((e.includes("chrome/")||AR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CR(t=Ds()){return/firefox\//i.test(t)}function G5(t=Ds()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AR(t=Ds()){return/crios\//i.test(t)}function IR(t=Ds()){return/iemobile/i.test(t)}function RR(t=Ds()){return/android/i.test(t)}function PR(t=Ds()){return/blackberry/i.test(t)}function NR(t=Ds()){return/webos/i.test(t)}function N2(t=Ds()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dte(t=Ds()){var e;return N2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bte(){return QQ()&&document.documentMode===10}function LR(t=Ds()){return N2(t)||RR(t)||NR(t)||PR(t)||/windows phone/i.test(t)||IR(t)}function zte(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e=[]){let n;switch(t){case"Browser":n=_x(Ds());break;case"Worker":n=`${_x(Ds())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bf}/${r}`}async function DR(t,e){return Zh(t,"GET","/v2/recaptchaConfig",xm(t,e))}function vx(t){return t!==void 0&&t.enterprise!==void 0}class BR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Fte().appendChild(r)})}function Ute(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qte="https://www.google.com/recaptcha/enterprise.js?render=",Hte="recaptcha-enterprise",Wte="NO_RECAPTCHA";class FR{constructor(e){this.type=Hte,this.auth=Sm(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{DR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new BR(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;vx(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Wte)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&vx(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}zR(qte+l).then(()=>{i(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function yx(t,e,n,r=!1){const i=new FR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bx(this),this.idTokenSubscription=new bx(this),this.beforeStateQueue=new Gte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await f_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ds(e):null;return n&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hu(e))})}async initializeRecaptchaConfig(){const e=await DR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new BR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new FR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hu(e)||this._popupRedirectResolver;qt(n,this,"argument-error"),this.redirectPersistenceManager=await oh.create(this,[Hu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return qt(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vte(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sm(t){return ds(t)}class bx{constructor(e){this.auth=e,this.observer=null,this.addObserver=lee(n=>this.observer=n)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t,e){const n=I2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(l_(s,e??{}))return i;sl(i,"already-initialized")}return n.initialize({options:e})}function Zte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yte(t,e,n){const r=Sm(t);qt(r._canInitEmulator,r,"emulator-config-failed"),qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UR(e),{host:a,port:l}=jte(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Kte()}function UR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jte(t){const e=UR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wx(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:wx(a)}}}function wx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qu("not implemented")}_getIdTokenResponse(e){return qu("not implemented")}_linkToIdToken(e,n){return qu("not implemented")}_getReauthenticationResolver(e){return qu("not implemented")}}async function Xte(t,e){return Zh(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return P2(t,"POST","/v1/accounts:signInWithPassword",xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jte(t,e){return P2(t,"POST","/v1/accounts:signInWithEmailLink",xm(t,e))}async function Qte(t,e){return P2(t,"POST","/v1/accounts:signInWithEmailLink",xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends $5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await yx(e,r,"signInWithPassword");return X4(e,i)}else return X4(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await yx(e,r,"signInWithPassword");return X4(e,s)}else return Promise.reject(i)});case"emailLink":return Jte(e,{email:this._email,oobCode:this._password});default:sl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Xte(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qte(e,{idToken:n,email:this._email,oobCode:this._password});default:sl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(t,e){return P2(t,"POST","/v1/accounts:signInWithIdp",xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="http://localhost";class lf extends $5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=U5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new lf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return lh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lh(e,n)}buildRequest(){const e={requestUri:ene,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nne(t){const e=qd(Hd(t)).link,n=e?qd(Hd(e)).deep_link_id:null,r=qd(Hd(t)).deep_link_id;return(r?qd(Hd(r)).link:null)||r||n||e||t}class V5{constructor(e){var n,r,i,s,a,l;const c=qd(Hd(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=tne((i=c.mode)!==null&&i!==void 0?i:null);qt(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=nne(e);try{return new V5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this.providerId=Yh.PROVIDER_ID}static credential(e,n){return Rp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V5.parseLink(n);return qt(r,"argument-error"),Rp._fromEmailAndCode(e,r.code,r.tenantId)}}Yh.PROVIDER_ID="password";Yh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Tm{constructor(){super("facebook.com")}static credential(e){return lf._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lc.credential(e.oauthAccessToken)}catch{return null}}}Lc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lf._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oc.credential(n,r)}catch{return null}}}Oc.GOOGLE_SIGN_IN_METHOD="google.com";Oc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Tm{constructor(){super("github.com")}static credential(e){return lf._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dc.credential(e.oauthAccessToken)}catch{return null}}}Dc.GITHUB_SIGN_IN_METHOD="github.com";Dc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Tm{constructor(){super("twitter.com")}static credential(e,n){return lf._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bc.credential(n,r)}catch{return null}}}Bc.TWITTER_SIGN_IN_METHOD="twitter.com";Bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await V0._fromIdTokenResponse(e,r,i),a=xx(r);return new Ph({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xx(r);return new Ph({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends lc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,h_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new h_(e,n,r,i)}}function HR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?h_._fromErrorAndOperation(t,s,e,r):s})}async function rne(t,e,n=!1){const r=await Ap(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ph._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ine(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ap(t,HR(r,i,e,t),n);qt(s.idToken,r,"internal-error");const a=W5(s.idToken);qt(a,r,"internal-error");const{sub:l}=a;return qt(t.uid===l,r,"user-mismatch"),Ph._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&sl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e,n=!1){const r="signIn",i=await HR(t,r,e),s=await Ph._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sne(t,e){return WR(Sm(t),e)}function ane(t,e,n){return sne(ds(t),Yh.credential(e,n))}function one(t,e,n,r){return ds(t).onIdTokenChanged(e,n,r)}function lne(t,e,n){return ds(t).beforeAuthStateChanged(e,n)}function une(t){return ds(t).signOut()}const d_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(d_,"1"),this.storage.removeItem(d_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(){const t=Ds();return G5(t)||N2(t)}const fne=1e3,hne=10;class $R extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cne()&&zte(),this.fallbackToPolling=LR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Bte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hne):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$R.type="LOCAL";const VR=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZR.type="SESSION";const YR=ZR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new L2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),c=await dne(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}L2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const f=Z5("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){return window}function mne(t){Jl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof Jl().WorkerGlobalScope<"u"&&typeof Jl().importScripts=="function"}async function gne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _ne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vne(){return jR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",yne=1,p_="firebaseLocalStorage",XR="fbase_key";class km{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function O2(t,e){return t.transaction([p_],e?"readwrite":"readonly").objectStore(p_)}function bne(){const t=indexedDB.deleteDatabase(KR);return new km(t).toPromise()}function Fb(){const t=indexedDB.open(KR,yne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(p_,{keyPath:XR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(p_)?e(r):(r.close(),await bne(),e(await Fb()))})})}async function Sx(t,e,n){const r=O2(t,!0).put({[XR]:e,value:n});return new km(r).toPromise()}async function wne(t,e){const n=O2(t,!1).get(e),r=await new km(n).toPromise();return r===void 0?null:r.value}function Tx(t,e){const n=O2(t,!0).delete(e);return new km(n).toPromise()}const xne=800,Sne=3;class JR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Sne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L2._getInstance(vne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gne(),!this.activeServiceWorker)return;this.sender=new pne(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_ne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fb();return await Sx(e,d_,"1"),await Tx(e,d_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=O2(i,!1).getAll();return new km(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JR.type="LOCAL";const Tne=JR;new wm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t,e){return e?Hu(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5 extends $5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ene(t){return WR(t.auth,new Y5(t),t.bypassAuthState)}function Mne(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),ine(n,new Y5(t),t.bypassAuthState)}async function Cne(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),rne(n,new Y5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ene;case"linkViaPopup":case"linkViaRedirect":return Cne;case"reauthViaPopup":case"reauthViaRedirect":return Mne;default:sl(this.auth,"internal-error")}}resolve(e){Qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=new wm(2e3,1e4);class Xf extends QR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xf.currentPopupAction&&Xf.currentPopupAction.cancel(),Xf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){Qu(this.filter.length===1,"Popup operations only handle one event");const e=Z5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ane.get())};e()}}Xf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine="pendingRedirect",cg=new Map;class Rne extends QR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cg.get(this.auth._key());if(!e){try{const r=await Pne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cg.set(this.auth._key(),e)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pne(t,e){const n=One(e),r=Lne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Nne(t,e){cg.set(t._key(),e)}function Lne(t){return Hu(t._redirectPersistence)}function One(t){return ug(Ine,t.config.apiKey,t.name)}async function Dne(t,e,n=!1){const r=Sm(t),i=kne(r,e),a=await new Rne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=10*60*1e3;class zne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xl(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bne&&this.cachedEventUids.clear(),this.cachedEventUids.has(kx(e))}saveEventToCache(e){this.cachedEventUids.add(kx(e)),this.lastProcessedEventTime=Date.now()}}function kx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Une(t,e={}){return Zh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hne=/^https?/;async function Wne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Une(t);for(const n of e)try{if(Gne(n))return}catch{}sl(t,"unauthorized-domain")}function Gne(t){const e=zb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Hne.test(n))return!1;if(qne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=new wm(3e4,6e4);function Ex(){const t=Jl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vne(t){return new Promise((e,n)=>{var r,i,s;function a(){Ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ex(),n(Xl(t,"network-request-failed"))},timeout:$ne.get()})}if(!((i=(r=Jl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jl().gapi)===null||s===void 0)&&s.load)a();else{const l=Ute("iframefcb");return Jl()[l]=()=>{gapi.load?a():n(Xl(t,"network-request-failed"))},zR(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw fg=null,e})}let fg=null;function Zne(t){return fg=fg||Vne(t),fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne=new wm(5e3,15e3),jne="__/auth/iframe",Kne="emulator/auth/iframe",Xne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qne(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H5(e,Kne):`https://${t.config.authDomain}/${jne}`,r={apiKey:e.apiKey,appName:t.name,v:bf},i=Jne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vh(r).slice(1)}`}async function ere(t){const e=await Zne(t),n=Jl().gapi;return qt(n,t,"internal-error"),e.open({where:document.body,url:Qne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Xl(t,"network-request-failed"),l=Jl().setTimeout(()=>{s(a)},Yne.get());function c(){Jl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nre=500,rre=600,ire="_blank",sre="http://localhost";class Mx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function are(t,e,n,r=nre,i=rre){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},tre),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Ds().toLowerCase();n&&(l=AR(f)?ire:n),CR(f)&&(e=e||sre,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(Dte(f)&&l!=="_self")return ore(e||"",l),new Mx(null);const m=window.open(e||"",l,p);qt(m,t,"popup-blocked");try{m.focus()}catch{}return new Mx(m)}function ore(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre="__/auth/handler",ure="emulator/auth/handler",cre=encodeURIComponent("fac");async function Cx(t,e,n,r,i,s){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bf,eventId:i};if(e instanceof qR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Pb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof Tm){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),f=c?`#${cre}=${encodeURIComponent(c)}`:"";return`${fre(t)}?${Vh(l).slice(1)}${f}`}function fre({config:t}){return t.emulator?H5(t,ure):`https://${t.authDomain}/${lre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="webStorageSupport";class hre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YR,this._completeRedirectFn=Dne,this._overrideRedirectResult=Nne}async _openPopup(e,n,r,i){var s;Qu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Cx(e,n,r,zb(),i);return are(e,a,Z5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cx(e,n,r,zb(),i);return mne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ere(e),r=new zne(e);return n.register("authEvent",i=>(qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(J4,{type:J4},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[J4];a!==void 0&&n(!!a),sl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LR()||G5()||N2()}}const dre=hre;var Ax="@firebase/auth",Ix="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function gre(t){of(new Qc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;qt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(t)},f=new $te(r,i,s,c);return Zte(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),of(new Qc("auth-internal",e=>{const n=Sm(e.getProvider("auth").getImmediate());return(r=>new pre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gu(Ax,Ix,mre(t)),Gu(Ax,Ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=5*60,vre=fR("authIdTokenMaxAge")||_re;let Rx=null;const yre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vre)return;const i=n==null?void 0:n.token;Rx!==i&&(Rx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tP(t=R2()){const e=I2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vte(t,{popupRedirectResolver:dre,persistence:[Tne,VR,YR]}),r=fR("authTokenSyncURL");if(r){const s=yre(r);lne(n,s,()=>s(n.currentUser)),one(n,a=>s(a))}const i=lR("auth");return i&&Yte(n,`http://${i}`),n}gre("Browser");const Px="@firebase/database",Nx="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nP="";function bre(t){nP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return au(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wre(e)}}catch{}return new xre},U0=rP("localStorage"),Ub=rP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new z5("@firebase/database"),Sre=function(){let t=1;return function(){return t++}}(),iP=function(t){const e=fee(t),n=new oee;n.update(e);const r=n.digest();return O5.encodeByteArray(r)},Em=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Em.apply(null,r):typeof r=="object"?e+=Mi(r):e+=r,e+=" "}return e};let Z0=null,Lx=!0;const Tre=function(t,e){Ve(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(uh.logLevel=or.VERBOSE,Z0=uh.log.bind(uh),e&&Ub.set("logging_enabled",!0)):typeof t=="function"?Z0=t:(Z0=null,Ub.remove("logging_enabled"))},fs=function(...t){if(Lx===!0&&(Lx=!1,Z0===null&&Ub.get("logging_enabled")===!0&&Tre(!0)),Z0){const e=Em.apply(null,t);Z0(e)}},Mm=function(t){return function(...e){fs(t,...e)}},qb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Em(...t);uh.error(e)},ec=function(...t){const e=`FIREBASE FATAL ERROR: ${Em(...t)}`;throw uh.error(e),new Error(e)},aa=function(...t){const e="FIREBASE WARNING: "+Em(...t);uh.warn(e)},kre=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&aa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},j5=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ere=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Nh="[MIN_NAME]",uf="[MAX_NAME]",wf=function(t,e){if(t===e)return 0;if(t===Nh||e===uf)return-1;if(e===Nh||t===uf)return 1;{const n=Ox(t),r=Ox(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Mre=function(t,e){return t===e?0:t<e?-1:1},Td=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mi(e))},K5=function(t){if(typeof t!="object"||t===null)return Mi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mi(e[r]),n+=":",n+=K5(t[e[r]]);return n+="}",n},sP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function hs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const aP=function(t){Ve(!j5(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const p=f.join("");let m="";for(c=0;c<64;c+=8){let g=parseInt(p.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},Cre=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Are=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ire(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Rre=new RegExp("^-?(0*)\\d{1,10}$"),Pre=-2147483648,Nre=2147483647,Ox=function(t){if(Rre.test(t)){const e=Number(t);if(e>=Pre&&e<=Nre)return e}return null},jh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw aa("Exception was thrown by user callback.",n),e},Math.floor(0))}},Lre=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){aa(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',aa(e)}}class ch{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ch.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="5",oP="v",lP="s",uP="r",cP="f",fP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hP="ls",dP="p",Hb="ac",pP="websocket",mP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,i,s=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=U0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&U0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Bre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _P(t,e,n){Ve(typeof e=="string","typeof type must == string"),Ve(typeof n=="object","typeof params must == object");let r;if(e===pP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bre(t)&&(n.ns=t.namespace);const i=[];return hs(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(){this.counters_={}}incrementCounter(e,n=1){au(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={},ey={};function J5(t){const e=t.toString();return Q4[e]||(Q4[e]=new zre),Q4[e]}function Fre(t,e){const n=t.toString();return ey[n]||(ey[n]=e()),ey[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="start",qre="close",Hre="pLPCommand",Wre="pRTLPCB",vP="id",yP="pw",bP="ser",Gre="cb",$re="seg",Vre="ts",Zre="d",Yre="dframe",wP=1870,xP=30,jre=wP-xP,Kre=25e3,Xre=3e4;class Jf{constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mm(e),this.stats_=J5(n),this.urlFn=c=>(this.appCheckToken&&(c[Hb]=this.appCheckToken),_P(n,mP,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ure(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xre)),Ere(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Q5((...s)=>{const[a,l,c,f,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Dx)this.id=l,this.password=c;else if(a===qre)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Dx]="t",r[bP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Gre]=this.scriptTagHolder.uniqueCallbackIdentifier),r[oP]=X5,this.transportSessionId&&(r[lP]=this.transportSessionId),this.lastSessionId&&(r[hP]=this.lastSessionId),this.applicationId&&(r[dP]=this.applicationId),this.appCheckToken&&(r[Hb]=this.appCheckToken),typeof location<"u"&&location.hostname&&fP.test(location.hostname)&&(r[uP]=cP);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jf.forceAllow_=!0}static forceDisallow(){Jf.forceDisallow_=!0}static isAvailable(){return Jf.forceAllow_?!0:!Jf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Cre()&&!Are()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aR(n),i=sP(r,jre);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Yre]="t",r[vP]=e,r[yP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Q5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Sre(),window[Hre+this.uniqueCallbackIdentifier]=e,window[Wre+this.uniqueCallbackIdentifier]=n,this.myIFrame=Q5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){fs("frame writing exception"),l.stack&&fs(l.stack),fs(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fs("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vP]=this.myID,e[yP]=this.myPW,e[bP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xP+r.length<=wP;){const a=this.pendingSegs.shift();r=r+"&"+$re+i+"="+a.seg+"&"+Vre+i+"="+a.ts+"&"+Zre+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Kre)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=16384,Qre=45e3;let m_=null;typeof MozWebSocket<"u"?m_=MozWebSocket:typeof WebSocket<"u"&&(m_=WebSocket);class el{constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mm(this.connId),this.stats_=J5(n),this.connURL=el.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[oP]=X5,typeof location<"u"&&location.hostname&&fP.test(location.hostname)&&(a[uP]=cP),n&&(a[lP]=n),r&&(a[hP]=r),i&&(a[Hb]=i),s&&(a[dP]=s),_P(e,pP,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,U0.set("previous_websocket_failure",!0);try{let r;pR(),this.mySock=new m_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&m_!==null&&!el.forceDisallow_}static previouslyFailed(){return U0.isInMemoryStorage||U0.get("previous_websocket_failure")===!0}markConnectionHealthy(){U0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Mp(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sP(n,Jre);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Qre))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}el.responsesRequiredToBeHealthy=2;el.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jf,el]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=el&&el.isAvailable();let r=n&&!el.previouslyFailed();if(e.webSocketOnly&&(n||aa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[el];else{const i=this.transports_=[];for(const s of Pp.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Pp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=6e4,tie=5e3,nie=10*1024,rie=100*1024,ty="t",Bx="d",iie="s",zx="r",sie="e",Fx="o",Ux="a",qx="n",Hx="p",aie="h";class oie{constructor(e,n,r,i,s,a,l,c,f,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mm("c:"+this.id+":"),this.transportManager_=new Pp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rie?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nie?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ty in e){const n=e[ty];n===Ux?this.upgradeIfSecondaryHealthy_():n===zx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Td("t",e),r=Td("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ux,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Td("t",e),r=Td("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Td(ty,e);if(Bx in e){const r=e[Bx];if(n===aie){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iie?this.onConnectionShutdown_(r):n===zx?this.onReset_(r):n===sie?qb("Server Error: "+r):n===Fx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),X5!==r&&aa("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Kd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eie))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tie))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(U0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.allowedEvents_=e,this.listeners_={},Ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ve(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends TP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!B5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new g_}getInitialEvent(e){return Ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=32,Gx=768;class lr{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Hn(){return new lr("")}function En(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function e0(t){return t.pieces_.length-t.pieceNum_}function br(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new lr(t.pieces_,e)}function e6(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Np(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new lr(e,0)}function ti(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof lr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new lr(n,0)}function bn(t){return t.pieceNum_>=t.pieces_.length}function ia(t,e){const n=En(t),r=En(e);if(n===null)return e;if(n===r)return ia(br(t),br(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uie(t,e){const n=Np(t,0),r=Np(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=wf(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function EP(t,e){if(e0(t)!==e0(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function To(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(e0(t)>e0(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cie{constructor(e,n){this.errorPrefix_=n,this.parts_=Np(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=A2(this.parts_[r]);MP(this)}}function fie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=A2(e),MP(t)}function hie(t){const e=t.parts_.pop();t.byteLength_-=A2(e),t.parts_.length>0&&(t.byteLength_-=1)}function MP(t){if(t.byteLength_>Gx)throw new Error(t.errorPrefix_+"has a key path longer than "+Gx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wx+") or object contains a cycle "+N0(t))}function N0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6 extends TP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t6}getInitialEvent(e){return Ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=1e3,die=60*5*1e3,$x=30*1e3,pie=1.3,mie=3e4,gie="server_kill",Vx=3;class $u extends SP{constructor(e,n,r,i,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=$u.nextPersistentConnectionId_++,this.log_=Mm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kd,this.maxReconnectDelay_=die,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!pR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");t6.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&g_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Mi(s)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ym,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const c=l.d,f=l.s;$u.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&au(e,"w")){const r=Rh(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();aa(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$x)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=see(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qb("Unrecognized action received from server: "+Mi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mie&&(this.reconnectDelay_=kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pie)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+$u.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},f=function(m){Ve(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:c,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?fs("getToken() completed but was canceled"):(fs("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new oie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{aa(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(gie)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&aa(m),c())}}}interrupt(e){fs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pb(this.interruptReasons_)&&(this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>K5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new lr(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vx&&(this.reconnectDelay_=$x,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nP.replace(/\./g,"-")]=1,B5()?e["framework.cordova"]=1:dR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=g_.getInstance().currentlyOnline();return Pb(this.interruptReasons_)&&e}}$u.nextPersistentConnectionId_=0;$u.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new vn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new vn(Nh,e),i=new vn(Nh,n);return this.compare(r,i)!==0}minPost(){return vn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P1;class CP extends D2{static get __EMPTY_NODE(){return P1}static set __EMPTY_NODE(e){P1=e}compare(e,n){return wf(e.name,n.name)}isDefinedOn(e){throw $h("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return vn.MIN}maxPost(){return new vn(uf,P1)}makePost(e,n){return Ve(typeof e=="string","KeyIndex indexValue must always be a string."),new vn(e,P1)}toString(){return".key"}}const fh=new CP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $i{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$i.RED,this.left=i??La.EMPTY_NODE,this.right=s??La.EMPTY_NODE}copy(e,n,r,i,s){return new $i(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return La.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return La.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$i.RED=!0;$i.BLACK=!1;class _ie{copy(e,n,r,i,s){return this}insert(e,n,r){return new $i(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class La{constructor(e,n=La.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new La(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$i.BLACK,null,null))}remove(e){return new La(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$i.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new N1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new N1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new N1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new N1(this.root_,null,this.comparator_,!0,e)}}La.EMPTY_NODE=new _ie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vie(t,e){return wf(t.name,e.name)}function n6(t,e){return wf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb;function yie(t){Wb=t}const AP=function(t){return typeof t=="number"?"number:"+aP(t):"string:"+t},IP=function(t){if(t.isLeafNode()){const e=t.val();Ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&au(e,".sv"),"Priority must be a string or number.")}else Ve(t===Wb||t.isEmpty(),"priority of unexpected type.");Ve(t===Wb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zx;class Gi{constructor(e,n=Gi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),IP(this.priorityNode_)}static set __childrenNodeConstructor(e){Zx=e}static get __childrenNodeConstructor(){return Zx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bn(e)?this:En(e)===".priority"?this.priorityNode_:Gi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Gi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=En(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ve(r!==".priority"||e0(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gi.__childrenNodeConstructor.EMPTY_NODE.updateChild(br(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=aP(this.value_):e+=this.value_,this.lazyHash_=iP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gi.__childrenNodeConstructor?-1:(Ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Gi.VALUE_TYPE_ORDER.indexOf(n),s=Gi.VALUE_TYPE_ORDER.indexOf(r);return Ve(i>=0,"Unknown leaf type: "+n),Ve(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RP,PP;function bie(t){RP=t}function wie(t){PP=t}class xie extends D2{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?wf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(uf,new Gi("[PRIORITY-POST]",PP))}makePost(e,n){const r=RP(e);return new vn(n,new Gi("[PRIORITY-POST]",r))}toString(){return".priority"}}const ri=new xie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sie=Math.log(2);class Tie{constructor(e){const n=s=>parseInt(Math.log(s)/Sie,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const __=function(t,e,n,r){t.sort(e);const i=function(c,f){const p=f-c;let m,g;if(p===0)return null;if(p===1)return m=t[c],g=n?n(m):m,new $i(g,m.node,$i.BLACK,null,null);{const y=parseInt(p/2,10)+c,w=i(c,y),S=i(y+1,f);return m=t[y],g=n?n(m):m,new $i(g,m.node,$i.BLACK,w,S)}},s=function(c){let f=null,p=null,m=t.length;const g=function(w,S){const I=m-w,P=m;m-=w;const k=i(I+1,P),A=t[I],C=n?n(A):A;y(new $i(C,A.node,S,null,k))},y=function(w){f?(f.left=w,f=w):(p=w,f=w)};for(let w=0;w<c.count;++w){const S=c.nextBitIsOne(),I=Math.pow(2,c.count-(w+1));S?g(I,$i.BLACK):(g(I,$i.BLACK),g(I,$i.RED))}return p},a=new Tie(t.length),l=s(a);return new La(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny;const Gf={};class Wu{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ve(Gf&&ri,"ChildrenNode.ts has not been loaded"),ny=ny||new Wu({".priority":Gf},{".priority":ri}),ny}get(e){const n=Rh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof La?n:null}hasIndex(e){return au(this.indexSet_,e.toString())}addIndex(e,n){Ve(e!==fh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(vn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=__(r,e.getCompare()):l=Gf;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const p=Object.assign({},this.indexes_);return p[c]=l,new Wu(p,f)}addToIndexes(e,n){const r=o_(this.indexes_,(i,s)=>{const a=Rh(this.indexSet_,s);if(Ve(a,"Missing index implementation for "+s),i===Gf)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(vn.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&l.push(f),f=c.getNext();return l.push(e),__(l,a.getCompare())}else return Gf;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new vn(e.name,l))),c.insert(e,e.node)}});return new Wu(r,this.indexSet_)}removeFromIndexes(e,n){const r=o_(this.indexes_,i=>{if(i===Gf)return i;{const s=n.get(e.name);return s?i.remove(new vn(e.name,s)):i}});return new Wu(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;class Dt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&IP(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ed||(Ed=new Dt(new La(n6),null,Wu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ed}updatePriority(e){return this.children_.isEmpty()?this:new Dt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ed:n}}getChild(e){const n=En(e);return n===null?this:this.getImmediateChild(n).getChild(br(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ve(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new vn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Ed:this.priorityNode_;return new Dt(i,a,s)}}updateChild(e,n){const r=En(e);if(r===null)return n;{Ve(En(e)!==".priority"||e0(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(br(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ri,(a,l)=>{n[a]=l.val(e),r++,s&&Dt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AP(this.getPriority().val())+":"),this.forEachChild(ri,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":iP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new vn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new vn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new vn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,vn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,vn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cm?-1:0}withIndex(e){if(e===fh||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Dt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ri),i=n.getIterator(ri);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===fh?null:this.indexMap_.get(e.toString())}}Dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kie extends Dt{constructor(){super(new La(n6),Dt.EMPTY_NODE,Wu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dt.EMPTY_NODE}isEmpty(){return!1}}const Cm=new kie;Object.defineProperties(vn,{MIN:{value:new vn(Nh,Dt.EMPTY_NODE)},MAX:{value:new vn(uf,Cm)}});CP.__EMPTY_NODE=Dt.EMPTY_NODE;Gi.__childrenNodeConstructor=Dt;yie(Cm);wie(Cm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=!0;function Ei(t,e=null){if(t===null)return Dt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Gi(n,Ei(e))}if(!(t instanceof Array)&&Eie){const n=[];let r=!1;if(hs(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=Ei(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new vn(a,c)))}}),n.length===0)return Dt.EMPTY_NODE;const s=__(n,vie,a=>a.name,n6);if(r){const a=__(n,ri.getCompare());return new Dt(s,Ei(e),new Wu({".priority":a},{".priority":ri}))}else return new Dt(s,Ei(e),Wu.Default)}else{let n=Dt.EMPTY_NODE;return hs(t,(r,i)=>{if(au(t,r)&&r.substring(0,1)!=="."){const s=Ei(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ei(e))}}bie(Ei);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie extends D2{constructor(e){super(),this.indexPath_=e,Ve(!bn(e)&&En(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?wf(e.name,n.name):s}makePost(e,n){const r=Ei(e),i=Dt.EMPTY_NODE.updateChild(this.indexPath_,r);return new vn(n,i)}maxPost(){const e=Dt.EMPTY_NODE.updateChild(this.indexPath_,Cm);return new vn(uf,e)}toString(){return Np(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie extends D2{compare(e,n){const r=e.node.compareTo(n.node);return r===0?wf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(e,n){const r=Ei(e);return new vn(n,r)}toString(){return".value"}}const Aie=new Cie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){return{type:"value",snapshotNode:t}}function Lh(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Lp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Op(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Iie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){Ve(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Lp(n,l)):Ve(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Lh(n,r)):a.trackChildChange(Op(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ri,(i,s)=>{n.hasChild(i)||r.trackChildChange(Lp(i,s))}),n.isLeafNode()||n.forEachChild(ri,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Op(i,s,a))}else r.trackChildChange(Lh(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Dt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.indexedFilter_=new r6(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Dp.getStartPost_(e),this.endPost_=Dp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new vn(n,r))||(r=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Dt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Dt.EMPTY_NODE);const s=this;return n.forEachChild(ri,(a,l)=>{s.matches(new vn(a,l))||(i=i.updateImmediateChild(a,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Dp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new vn(n,r))||(r=Dt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Dt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Dt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Dt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const l=s.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(g,y)=>m(y,g)}else a=this.index_.getCompare();const l=e;Ve(l.numChildren()===this.limit_,"");const c=new vn(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(l.hasChild(n)){const m=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:a(g,c);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Op(n,r,m)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Lp(n,m));const S=l.updateImmediateChild(n,Dt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Lh(g.name,g.node)),S.updateImmediateChild(g.name,g.node)):S}}else return r.isEmpty()?e:p&&a(f,c)>=0?(s!=null&&(s.trackChildChange(Lp(f.name,f.node)),s.trackChildChange(Lh(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Dt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nh}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:uf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const e=new i6;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pie(t){return t.loadsAllData()?new r6(t.getIndex()):t.hasLimit()?new Rie(t):new Dp(t)}function Yx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ri?n="$priority":t.index_===Aie?n="$value":t.index_===fh?n="$key":(Ve(t.index_ instanceof Mie,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ri&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends SP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=v_.getListenId_(e,r),l={};this.listens_[a]=l;const c=Yx(e._queryParams);this.restRequest_(s+".json",c,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,r),Rh(this.listens_,a)===l){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",i(g,null)}})}unlisten(e,n){const r=v_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Yx(e._queryParams),r=e._path.toString(),i=new ym;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vh(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Mp(l.responseText)}catch{aa("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&aa("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(){return{value:null,children:new Map}}function LP(t,e,n){if(bn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=En(e);t.children.has(r)||t.children.set(r,y_());const i=t.children.get(r);e=br(e),LP(i,e,n)}}function Gb(t,e,n){t.value!==null?n(e,t.value):Lie(t,(r,i)=>{const s=new lr(e.toString()+"/"+r);Gb(i,s,n)})}function Lie(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=10*1e3,Die=30*1e3,Bie=5*60*1e3;class zie{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Oie(e);const r=Kx+(Die-Kx)*Math.random();Kd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hs(e,(i,s)=>{s>0&&au(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Kd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tl;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tl||(tl={}));function s6(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function a6(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o6(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tl.ACK_USER_WRITE,this.source=s6()}operationForChild(e){if(bn(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new lr(e));return new b_(Hn(),n,this.revert)}}else return Ve(En(this.path)===e,"operationForChild called for unrelated child."),new b_(br(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.source=e,this.path=n,this.type=tl.LISTEN_COMPLETE}operationForChild(e){return bn(this.path)?new Bp(this.source,Hn()):new Bp(this.source,br(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tl.OVERWRITE}operationForChild(e){return bn(this.path)?new cf(this.source,Hn(),this.snap.getImmediateChild(e)):new cf(this.source,br(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tl.MERGE}operationForChild(e){if(bn(this.path)){const n=this.children.subtree(new lr(e));return n.isEmpty()?null:n.value?new cf(this.source,Hn(),n.value):new Oh(this.source,Hn(),n)}else return Ve(En(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Oh(this.source,br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bn(e))return this.isFullyInitialized()&&!this.filtered_;const n=En(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Uie(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Iie(a.childName,a.snapshotNode))}),Md(t,i,"child_removed",e,r,n),Md(t,i,"child_added",e,r,n),Md(t,i,"child_moved",s,r,n),Md(t,i,"child_changed",e,r,n),Md(t,i,"value",e,r,n),i}function Md(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Hie(t,l,c)),a.forEach(l=>{const c=qie(t,l,s);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(c,t.query_))})})}function qie(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Hie(t,e,n){if(e.childName==null||n.childName==null)throw $h("Should only compare child_ events.");const r=new vn(e.childName,e.snapshotNode),i=new vn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e){return{eventCache:t,serverCache:e}}function Xd(t,e,n,r){return B2(new t0(e,n,r),t.serverCache)}function OP(t,e,n,r){return B2(t.eventCache,new t0(e,n,r))}function w_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ff(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;const Wie=()=>(ry||(ry=new La(Mre)),ry);class yr{constructor(e,n=Wie()){this.value=e,this.children=n}static fromObject(e){let n=new yr(null);return hs(e,(r,i)=>{n=n.set(new lr(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Hn(),value:this.value};if(bn(e))return null;{const r=En(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(br(e),n);return s!=null?{path:ti(new lr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bn(e))return this;{const n=En(e),r=this.children.get(n);return r!==null?r.subtree(br(e)):new yr(null)}}set(e,n){if(bn(e))return new yr(n,this.children);{const r=En(e),s=(this.children.get(r)||new yr(null)).set(br(e),n),a=this.children.insert(r,s);return new yr(this.value,a)}}remove(e){if(bn(e))return this.children.isEmpty()?new yr(null):new yr(null,this.children);{const n=En(e),r=this.children.get(n);if(r){const i=r.remove(br(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new yr(null):new yr(this.value,s)}else return this}}get(e){if(bn(e))return this.value;{const n=En(e),r=this.children.get(n);return r?r.get(br(e)):null}}setTree(e,n){if(bn(e))return n;{const r=En(e),s=(this.children.get(r)||new yr(null)).setTree(br(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new yr(this.value,a)}}fold(e){return this.fold_(Hn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ti(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Hn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(bn(e))return null;{const s=En(e),a=this.children.get(s);return a?a.findOnPath_(br(e),ti(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Hn(),n)}foreachOnPath_(e,n,r){if(bn(e))return this;{this.value&&r(n,this.value);const i=En(e),s=this.children.get(i);return s?s.foreachOnPath_(br(e),ti(n,i),r):new yr(null)}}foreach(e){this.foreach_(Hn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ti(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.writeTree_=e}static empty(){return new nl(new yr(null))}}function Jd(t,e,n){if(bn(e))return new nl(new yr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=ia(i,e);return s=s.updateChild(a,n),new nl(t.writeTree_.set(i,s))}else{const i=new yr(n),s=t.writeTree_.setTree(e,i);return new nl(s)}}}function $b(t,e,n){let r=t;return hs(n,(i,s)=>{r=Jd(r,ti(e,i),s)}),r}function Xx(t,e){if(bn(e))return nl.empty();{const n=t.writeTree_.setTree(e,new yr(null));return new nl(n)}}function Vb(t,e){return xf(t,e)!=null}function xf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ia(n.path,e)):null}function Jx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ri,(r,i)=>{e.push(new vn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new vn(r,i.value))}),e}function $c(t,e){if(bn(e))return t;{const n=xf(t,e);return n!=null?new nl(new yr(n)):new nl(t.writeTree_.subtree(e))}}function Zb(t){return t.writeTree_.isEmpty()}function Dh(t,e){return DP(Hn(),t.writeTree_,e)}function DP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ve(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=DP(ti(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ti(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e){return UP(e,t)}function Gie(t,e,n,r,i){Ve(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Jd(t.visibleWrites,e,n)),t.lastWriteId=r}function $ie(t,e,n,r){Ve(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=$b(t.visibleWrites,e,n),t.lastWriteId=r}function Vie(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Zie(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Ve(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Yie(l,r.path)?i=!1:To(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return jie(t),!0;if(r.snap)t.visibleWrites=Xx(t.visibleWrites,r.path);else{const l=r.children;hs(l,c=>{t.visibleWrites=Xx(t.visibleWrites,ti(r.path,c))})}return!0}else return!1}function Yie(t,e){if(t.snap)return To(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&To(ti(t.path,n),e))return!0;return!1}function jie(t){t.visibleWrites=BP(t.allWrites,Kie,Hn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Kie(t){return t.visible}function BP(t,e,n){let r=nl.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)To(n,a)?(l=ia(n,a),r=Jd(r,l,s.snap)):To(a,n)&&(l=ia(a,n),r=Jd(r,Hn(),s.snap.getChild(l)));else if(s.children){if(To(n,a))l=ia(n,a),r=$b(r,l,s.children);else if(To(a,n))if(l=ia(a,n),bn(l))r=$b(r,Hn(),s.children);else{const c=Rh(s.children,En(l));if(c){const f=c.getChild(br(l));r=Jd(r,Hn(),f)}}}else throw $h("WriteRecord should have .snap or .children")}}return r}function zP(t,e,n,r,i){if(!r&&!i){const s=xf(t.visibleWrites,e);if(s!=null)return s;{const a=$c(t.visibleWrites,e);if(Zb(a))return n;if(n==null&&!Vb(a,Hn()))return null;{const l=n||Dt.EMPTY_NODE;return Dh(a,l)}}}else{const s=$c(t.visibleWrites,e);if(!i&&Zb(s))return n;if(!i&&n==null&&!Vb(s,Hn()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(To(f.path,e)||To(e,f.path))},l=BP(t.allWrites,a,e),c=n||Dt.EMPTY_NODE;return Dh(l,c)}}}function Xie(t,e,n){let r=Dt.EMPTY_NODE;const i=xf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ri,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=$c(t.visibleWrites,e);return n.forEachChild(ri,(a,l)=>{const c=Dh($c(s,new lr(a)),l);r=r.updateImmediateChild(a,c)}),Jx(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=$c(t.visibleWrites,e);return Jx(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Jie(t,e,n,r,i){Ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ti(e,n);if(Vb(t.visibleWrites,s))return null;{const a=$c(t.visibleWrites,s);return Zb(a)?i.getChild(n):Dh(a,i.getChild(n))}}function Qie(t,e,n,r){const i=ti(e,n),s=xf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=$c(t.visibleWrites,i);return Dh(a,r.getNode().getImmediateChild(n))}else return null}function ese(t,e){return xf(t.visibleWrites,e)}function tse(t,e,n,r,i,s,a){let l;const c=$c(t.visibleWrites,e),f=xf(c,Hn());if(f!=null)l=f;else if(n!=null)l=Dh(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const p=[],m=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let y=g.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function nse(){return{visibleWrites:nl.empty(),allWrites:[],lastWriteId:-1}}function x_(t,e,n,r){return zP(t.writeTree,t.treePath,e,n,r)}function l6(t,e){return Xie(t.writeTree,t.treePath,e)}function Qx(t,e,n,r){return Jie(t.writeTree,t.treePath,e,n,r)}function S_(t,e){return ese(t.writeTree,ti(t.treePath,e))}function rse(t,e,n,r,i,s){return tse(t.writeTree,t.treePath,e,n,r,i,s)}function u6(t,e,n){return Qie(t.writeTree,t.treePath,e,n)}function FP(t,e){return UP(ti(t.treePath,e),t.writeTree)}function UP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ve(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ve(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Op(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Lp(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Lh(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Op(r,e.snapshotNode,i.oldSnap));else throw $h("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const qP=new sse;class c6{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new t0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return u6(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ff(this.viewCache_),s=rse(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){return{filter:t}}function ose(t,e){Ve(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ve(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lse(t,e,n,r,i){const s=new ise;let a,l;if(n.type===tl.OVERWRITE){const f=n;f.source.fromUser?a=Yb(t,e,f.path,f.snap,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!bn(f.path),a=T_(t,e,f.path,f.snap,r,i,l,s))}else if(n.type===tl.MERGE){const f=n;f.source.fromUser?a=cse(t,e,f.path,f.children,r,i,s):(Ve(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),a=jb(t,e,f.path,f.children,r,i,l,s))}else if(n.type===tl.ACK_USER_WRITE){const f=n;f.revert?a=dse(t,e,f.path,r,i,s):a=fse(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===tl.LISTEN_COMPLETE)a=hse(t,e,n.path,r,s);else throw $h("Unknown operation type: "+n.type);const c=s.getChanges();return use(e,a,c),{viewCache:a,changes:c}}function use(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=w_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(NP(w_(e)))}}function HP(t,e,n,r,i,s){const a=e.eventCache;if(S_(r,n)!=null)return e;{let l,c;if(bn(n))if(Ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=ff(e),p=f instanceof Dt?f:Dt.EMPTY_NODE,m=l6(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=x_(r,ff(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=En(n);if(f===".priority"){Ve(e0(n)===1,"Can't have a priority with additional path components");const p=a.getNode();c=e.serverCache.getNode();const m=Qx(r,n,p,c);m!=null?l=t.filter.updatePriority(p,m):l=a.getNode()}else{const p=br(n);let m;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();const g=Qx(r,n,a.getNode(),c);g!=null?m=a.getNode().getImmediateChild(f).updateChild(p,g):m=a.getNode().getImmediateChild(f)}else m=u6(r,f,e.serverCache);m!=null?l=t.filter.updateChild(a.getNode(),f,m,p,i,s):l=a.getNode()}}return Xd(e,l,a.isFullyInitialized()||bn(n),t.filter.filtersNodes())}}function T_(t,e,n,r,i,s,a,l){const c=e.serverCache;let f;const p=a?t.filter:t.filter.getIndexedFilter();if(bn(n))f=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(n,r);f=p.updateFullNode(c.getNode(),y,null)}else{const y=En(n);if(!c.isCompleteForPath(n)&&e0(n)>1)return e;const w=br(n),I=c.getNode().getImmediateChild(y).updateChild(w,r);y===".priority"?f=p.updatePriority(c.getNode(),I):f=p.updateChild(c.getNode(),y,I,w,qP,null)}const m=OP(e,f,c.isFullyInitialized()||bn(n),p.filtersNodes()),g=new c6(i,m,s);return HP(t,m,n,i,g,l)}function Yb(t,e,n,r,i,s,a){const l=e.eventCache;let c,f;const p=new c6(i,e,s);if(bn(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Xd(e,f,!0,t.filter.filtersNodes());else{const m=En(n);if(m===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=Xd(e,f,l.isFullyInitialized(),l.isFiltered());else{const g=br(n),y=l.getNode().getImmediateChild(m);let w;if(bn(g))w=r;else{const S=p.getCompleteChild(m);S!=null?e6(g)===".priority"&&S.getChild(kP(g)).isEmpty()?w=S:w=S.updateChild(g,r):w=Dt.EMPTY_NODE}if(y.equals(w))c=e;else{const S=t.filter.updateChild(l.getNode(),m,w,g,p,a);c=Xd(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function eS(t,e){return t.eventCache.isCompleteForChild(e)}function cse(t,e,n,r,i,s,a){let l=e;return r.foreach((c,f)=>{const p=ti(n,c);eS(e,En(p))&&(l=Yb(t,l,p,f,i,s,a))}),r.foreach((c,f)=>{const p=ti(n,c);eS(e,En(p))||(l=Yb(t,l,p,f,i,s,a))}),l}function tS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jb(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;bn(n)?f=r:f=new yr(null).setTree(n,r);const p=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),w=tS(t,y,g);c=T_(t,c,new lr(m),w,i,s,a,l)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!y){const w=e.serverCache.getNode().getImmediateChild(m),S=tS(t,w,g);c=T_(t,c,new lr(m),S,i,s,a,l)}}),c}function fse(t,e,n,r,i,s,a){if(S_(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(bn(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return T_(t,e,n,c.getNode().getChild(n),i,s,l,a);if(bn(n)){let f=new yr(null);return c.getNode().forEachChild(fh,(p,m)=>{f=f.set(new lr(p),m)}),jb(t,e,n,f,i,s,l,a)}else return e}else{let f=new yr(null);return r.foreach((p,m)=>{const g=ti(n,p);c.isCompleteForPath(g)&&(f=f.set(p,c.getNode().getChild(g)))}),jb(t,e,n,f,i,s,l,a)}}function hse(t,e,n,r,i){const s=e.serverCache,a=OP(e,s.getNode(),s.isFullyInitialized()||bn(n),s.isFiltered());return HP(t,a,n,r,qP,i)}function dse(t,e,n,r,i,s){let a;if(S_(r,n)!=null)return e;{const l=new c6(r,e,i),c=e.eventCache.getNode();let f;if(bn(n)||En(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=x_(r,ff(e));else{const m=e.serverCache.getNode();Ve(m instanceof Dt,"serverChildren would be complete if leaf node"),p=l6(r,m)}p=p,f=t.filter.updateFullNode(c,p,s)}else{const p=En(n);let m=u6(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=c.getImmediateChild(p)),m!=null?f=t.filter.updateChild(c,p,m,br(n),l,s):e.eventCache.getNode().hasChild(p)?f=t.filter.updateChild(c,p,Dt.EMPTY_NODE,br(n),l,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=x_(r,ff(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||S_(r,Hn())!=null,Xd(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new r6(r.getIndex()),s=Pie(r);this.processor_=ase(s);const a=n.serverCache,l=n.eventCache,c=i.updateFullNode(Dt.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Dt.EMPTY_NODE,l.getNode(),null),p=new t0(c,a.isFullyInitialized(),i.filtersNodes()),m=new t0(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=B2(m,p),this.eventGenerator_=new Fie(this.query_)}get query(){return this.query_}}function mse(t){return t.viewCache_.serverCache.getNode()}function gse(t){return w_(t.viewCache_)}function _se(t,e){const n=ff(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!bn(e)&&!n.getImmediateChild(En(e)).isEmpty())?n.getChild(e):null}function nS(t){return t.eventRegistrations_.length===0}function vse(t,e){t.eventRegistrations_.push(e)}function rS(t,e,n){const r=[];if(n){Ve(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function iS(t,e,n,r){e.type===tl.MERGE&&e.source.queryId!==null&&(Ve(ff(t.viewCache_),"We should always have a full cache before handling merges"),Ve(w_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=lse(t.processor_,i,e,n,r);return ose(t.processor_,s.viewCache),Ve(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,WP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function yse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ri,(s,a)=>{r.push(Lh(s,a))}),n.isFullyInitialized()&&r.push(NP(n.getNode())),WP(t,r,n.getNode(),e)}function WP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Uie(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_;class GP{constructor(){this.views=new Map}}function bse(t){Ve(!k_,"__referenceConstructor has already been defined"),k_=t}function wse(){return Ve(k_,"Reference.ts has not been loaded"),k_}function xse(t){return t.views.size===0}function f6(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ve(s!=null,"SyncTree gave us an op for an invalid query."),iS(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(iS(a,e,n,r));return s}}function $P(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let l=x_(n,i?r:null),c=!1;l?c=!0:r instanceof Dt?(l=l6(n,r),c=!1):(l=Dt.EMPTY_NODE,c=!1);const f=B2(new t0(l,c,!1),new t0(r,i,!1));return new pse(e,f)}return a}function Sse(t,e,n,r,i,s){const a=$P(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),vse(a,n),yse(a,n)}function Tse(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const l=n0(t);if(i==="default")for(const[c,f]of t.views.entries())a=a.concat(rS(f,n,r)),nS(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=t.views.get(i);c&&(a=a.concat(rS(c,n,r)),nS(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!n0(t)&&s.push(new(wse())(e._repo,e._path)),{removed:s,events:a}}function VP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vc(t,e){let n=null;for(const r of t.views.values())n=n||_se(r,e);return n}function ZP(t,e){if(e._queryParams.loadsAllData())return F2(t);{const r=e._queryIdentifier;return t.views.get(r)}}function YP(t,e){return ZP(t,e)!=null}function n0(t){return F2(t)!=null}function F2(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_;function kse(t){Ve(!E_,"__referenceConstructor has already been defined"),E_=t}function Ese(){return Ve(E_,"Reference.ts has not been loaded"),E_}let Mse=1;class sS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new yr(null),this.pendingWriteTree_=nse(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jP(t,e,n,r,i){return Gie(t.pendingWriteTree_,e,n,r,i),i?Kh(t,new cf(s6(),e,n)):[]}function Cse(t,e,n,r){$ie(t.pendingWriteTree_,e,n,r);const i=yr.fromObject(n);return Kh(t,new Oh(s6(),e,i))}function Fc(t,e,n=!1){const r=Vie(t.pendingWriteTree_,e);if(Zie(t.pendingWriteTree_,e)){let s=new yr(null);return r.snap!=null?s=s.set(Hn(),!0):hs(r.children,a=>{s=s.set(new lr(a),!0)}),Kh(t,new b_(r.path,s,n))}else return[]}function Am(t,e,n){return Kh(t,new cf(a6(),e,n))}function Ase(t,e,n){const r=yr.fromObject(n);return Kh(t,new Oh(a6(),e,r))}function Ise(t,e){return Kh(t,new Bp(a6(),e))}function Rse(t,e,n){const r=d6(t,n);if(r){const i=p6(r),s=i.path,a=i.queryId,l=ia(s,e),c=new Bp(o6(a),l);return m6(t,s,c)}else return[]}function KP(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let l=[];if(a&&(e._queryIdentifier==="default"||YP(a,e))){const c=Tse(a,e,n,r);xse(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=c.removed;if(l=c.events,!i){const p=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,y)=>n0(y));if(p&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=Ose(g);for(let w=0;w<y.length;++w){const S=y[w],I=S.query,P=eN(t,S);t.listenProvider_.startListening(Qd(I),zp(t,I),P.hashFn,P.onComplete)}}}!m&&f.length>0&&!r&&(p?t.listenProvider_.stopListening(Qd(e),null):f.forEach(g=>{const y=t.queryToTagMap.get(U2(g));t.listenProvider_.stopListening(Qd(g),y)}))}Dse(t,f)}return l}function XP(t,e,n,r){const i=d6(t,r);if(i!=null){const s=p6(i),a=s.path,l=s.queryId,c=ia(a,e),f=new cf(o6(l),c,n);return m6(t,a,f)}else return[]}function Pse(t,e,n,r){const i=d6(t,r);if(i){const s=p6(i),a=s.path,l=s.queryId,c=ia(a,e),f=yr.fromObject(n),p=new Oh(o6(l),c,f);return m6(t,a,p)}else return[]}function Nse(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{const w=ia(g,i);s=s||Vc(y,w),a=a||n0(y)});let l=t.syncPointTree_.get(i);l?(a=a||n0(l),s=s||Vc(l,Hn())):(l=new GP,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=Dt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,w)=>{const S=Vc(w,Hn());S&&(s=s.updateImmediateChild(y,S))}));const f=YP(l,e);if(!f&&!e._queryParams.loadsAllData()){const g=U2(e);Ve(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=Bse();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const p=z2(t.pendingWriteTree_,i);let m=Sse(l,e,n,p,s,c);if(!f&&!a&&!r){const g=ZP(l,e);m=m.concat(zse(t,e,g))}return m}function h6(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=ia(a,e),f=Vc(l,c);if(f)return f});return zP(i,e,s,n,!0)}function Lse(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,p)=>{const m=ia(f,n);r=r||Vc(p,m)});let i=t.syncPointTree_.get(n);i?r=r||Vc(i,Hn()):(i=new GP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new t0(r,!0,!1):null,l=z2(t.pendingWriteTree_,e._path),c=$P(i,e,l,s?a.getNode():Dt.EMPTY_NODE,s);return gse(c)}function Kh(t,e){return JP(e,t.syncPointTree_,null,z2(t.pendingWriteTree_,Hn()))}function JP(t,e,n,r){if(bn(t.path))return QP(t,e,n,r);{const i=e.get(Hn());n==null&&i!=null&&(n=Vc(i,Hn()));let s=[];const a=En(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const f=n?n.getImmediateChild(a):null,p=FP(r,a);s=s.concat(JP(l,c,f,p))}return i&&(s=s.concat(f6(i,t,r,n))),s}}function QP(t,e,n,r){const i=e.get(Hn());n==null&&i!=null&&(n=Vc(i,Hn()));let s=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,f=FP(r,a),p=t.operationForChild(a);p&&(s=s.concat(QP(p,l,c,f)))}),i&&(s=s.concat(f6(i,t,r,n))),s}function eN(t,e){const n=e.query,r=zp(t,n);return{hashFn:()=>(mse(e)||Dt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Rse(t,n._path,r):Ise(t,n._path);{const s=Ire(i,n);return KP(t,n,null,s)}}}}function zp(t,e){const n=U2(e);return t.queryToTagMap.get(n)}function U2(t){return t._path.toString()+"$"+t._queryIdentifier}function d6(t,e){return t.tagToQueryMap.get(e)}function p6(t){const e=t.indexOf("$");return Ve(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new lr(t.substr(0,e))}}function m6(t,e,n){const r=t.syncPointTree_.get(e);Ve(r,"Missing sync point for query tag that we're tracking");const i=z2(t.pendingWriteTree_,e);return f6(r,n,i,null)}function Ose(t){return t.fold((e,n,r)=>{if(n&&n0(n))return[F2(n)];{let i=[];return n&&(i=VP(n)),hs(r,(s,a)=>{i=i.concat(a)}),i}})}function Qd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ese())(t._repo,t._path):t}function Dse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=U2(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Bse(){return Mse++}function zse(t,e,n){const r=e._path,i=zp(t,e),s=eN(t,n),a=t.listenProvider_.startListening(Qd(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)Ve(!n0(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((f,p,m)=>{if(!bn(f)&&p&&n0(p))return[F2(p).query];{let g=[];return p&&(g=g.concat(VP(p).map(y=>y.query))),hs(m,(y,w)=>{g=g.concat(w)}),g}});for(let f=0;f<c.length;++f){const p=c[f];t.listenProvider_.stopListening(Qd(p),zp(t,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new g6(n)}node(){return this.node_}}class _6{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ti(this.path_,e);return new _6(this.syncTree_,n)}node(){return h6(this.syncTree_,this.path_)}}const Fse=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aS=function(t,e,n){if(!t||typeof t!="object")return t;if(Ve(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Use(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qse(t[".sv"],e);Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Use=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ve(!1,"Unexpected server value: "+t)}},qse=function(t,e,n){t.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ve(!1,"Unexpected increment value: "+r);const i=e.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},tN=function(t,e,n,r){return v6(e,new _6(n,t),r)},nN=function(t,e,n){return v6(t,new g6(e),n)};function v6(t,e,n){const r=t.getPriority().val(),i=aS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=aS(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Gi(l,Ei(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Gi(i))),a.forEachChild(ri,(l,c)=>{const f=v6(c,e.getImmediateChild(l),n);f!==c&&(s=s.updateImmediateChild(l,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function b6(t,e){let n=e instanceof lr?e:new lr(e),r=t,i=En(n);for(;i!==null;){const s=Rh(r.node.children,i)||{children:{},childCount:0};r=new y6(i,r,s),n=br(n),i=En(n)}return r}function Xh(t){return t.node.value}function rN(t,e){t.node.value=e,Kb(t)}function iN(t){return t.node.childCount>0}function Hse(t){return Xh(t)===void 0&&!iN(t)}function q2(t,e){hs(t.node.children,(n,r)=>{e(new y6(n,t,r))})}function sN(t,e,n,r){n&&!r&&e(t),q2(t,i=>{sN(i,e,!0,r)}),n&&r&&e(t)}function Wse(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Im(t){return new lr(t.parent===null?t.name:Im(t.parent)+"/"+t.name)}function Kb(t){t.parent!==null&&Gse(t.parent,t.name,t)}function Gse(t,e,n){const r=Hse(n),i=au(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Kb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Kb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se=/[\[\].#$\/\u0000-\u001F\u007F]/,Vse=/[\[\].#$\u0000-\u001F\u007F]/,iy=10*1024*1024,w6=function(t){return typeof t=="string"&&t.length!==0&&!$se.test(t)},aN=function(t){return typeof t=="string"&&t.length!==0&&!Vse.test(t)},Zse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aN(t)},Yse=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!j5(t)||t&&typeof t=="object"&&au(t,".sv")},jse=function(t,e,n,r){r&&e===void 0||H2(C2(t,"value"),e,n)},H2=function(t,e,n){const r=n instanceof lr?new cie(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+N0(r));if(typeof e=="function")throw new Error(t+"contains a function "+N0(r)+" with contents = "+e.toString());if(j5(e))throw new Error(t+"contains "+e.toString()+" "+N0(r));if(typeof e=="string"&&e.length>iy/3&&A2(e)>iy)throw new Error(t+"contains a string greater than "+iy+" utf8 bytes "+N0(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(hs(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!w6(a)))throw new Error(t+" contains an invalid key ("+a+") "+N0(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fie(r,a),H2(t,l,r),hie(r)}),i&&s)throw new Error(t+' contains ".value" child '+N0(r)+" in addition to actual children.")}},Kse=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Np(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!w6(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&To(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Xse=function(t,e,n,r){if(r&&e===void 0)return;const i=C2(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];hs(e,(a,l)=>{const c=new lr(a);if(H2(i,l,ti(n,c)),e6(c)===".priority"&&!Yse(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),Kse(i,s)},oN=function(t,e,n,r){if(!(r&&n===void 0)&&!aN(n))throw new Error(C2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Jse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oN(t,e,n,r)},Qse=function(t,e){if(En(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},eae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!w6(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Zse(n))throw new Error(C2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function x6(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!EP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ro(t,e,n){x6(t,n),nae(t,r=>To(r,e)||To(e,r))}function nae(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(rae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Z0&&fs("event: "+n.toString()),jh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae="repo_interrupt",sae=25;class aae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y_(),this.transactionQueueTree_=new y6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oae(t,e,n){if(t.stats_=J5(t.repoInfo_),t.forceRestClient_||Lre())t.server_=new v_(t.repoInfo_,(r,i,s,a)=>{oS(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $u(t.repoInfo_,e,(r,i,s,a)=>{oS(t,r,i,s,a)},r=>{lS(t,r)},r=>{uae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Fre(t.repoInfo_,()=>new zie(t.stats_,t.server_)),t.infoData_=new Nie,t.infoSyncTree_=new sS({startListening:(r,i,s,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Am(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),S6(t,"connected",!1),t.serverSyncTree_=new sS({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(l,c)=>{const f=a(l,c);Ro(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function lae(t){const n=t.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function W2(t){return Fse({timestamp:lae(t)})}function oS(t,e,n,r,i){t.dataUpdateCount++;const s=new lr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=o_(n,f=>Ei(f));a=Pse(t.serverSyncTree_,s,c,i)}else{const c=Ei(n);a=XP(t.serverSyncTree_,s,c,i)}else if(r){const c=o_(n,f=>Ei(f));a=Ase(t.serverSyncTree_,s,c)}else{const c=Ei(n);a=Am(t.serverSyncTree_,s,c)}let l=s;a.length>0&&(l=Bh(t,s)),Ro(t.eventQueue_,l,a)}function lS(t,e){S6(t,"connected",e),e===!1&&dae(t)}function uae(t,e){hs(e,(n,r)=>{S6(t,n,r)})}function S6(t,e,n){const r=new lr("/.info/"+e),i=Ei(n);t.infoData_.updateSnapshot(r,i);const s=Am(t.infoSyncTree_,r,i);Ro(t.eventQueue_,r,s)}function T6(t){return t.nextWriteId_++}function cae(t,e,n){const r=Lse(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ei(i).withIndex(e._queryParams.getIndex());Nse(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Am(t.serverSyncTree_,e._path,s);else{const l=zp(t.serverSyncTree_,e);a=XP(t.serverSyncTree_,e._path,s,l)}return Ro(t.eventQueue_,e._path,a),KP(t.serverSyncTree_,e,n,null,!0),s},i=>(Rm(t,"get for query "+Mi(e)+" failed: "+i),Promise.reject(new Error(i))))}function fae(t,e,n,r,i){Rm(t,"set",{path:e.toString(),value:n,priority:r});const s=W2(t),a=Ei(n,r),l=h6(t.serverSyncTree_,e),c=nN(a,l,s),f=T6(t),p=jP(t.serverSyncTree_,e,c,f,!0);x6(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),(g,y)=>{const w=g==="ok";w||aa("set at "+e+" failed: "+g);const S=Fc(t.serverSyncTree_,f,!w);Ro(t.eventQueue_,e,S),Xb(t,i,g,y)});const m=E6(t,e);Bh(t,m),Ro(t.eventQueue_,m,[])}function hae(t,e,n,r){Rm(t,"update",{path:e.toString(),value:n});let i=!0;const s=W2(t),a={};if(hs(n,(l,c)=>{i=!1,a[l]=tN(ti(e,l),Ei(c),t.serverSyncTree_,s)}),i)fs("update() called with empty data.  Don't do anything."),Xb(t,r,"ok",void 0);else{const l=T6(t),c=Cse(t.serverSyncTree_,e,a,l);x6(t.eventQueue_,c),t.server_.merge(e.toString(),n,(f,p)=>{const m=f==="ok";m||aa("update at "+e+" failed: "+f);const g=Fc(t.serverSyncTree_,l,!m),y=g.length>0?Bh(t,e):e;Ro(t.eventQueue_,y,g),Xb(t,r,f,p)}),hs(n,f=>{const p=E6(t,ti(e,f));Bh(t,p)}),Ro(t.eventQueue_,e,[])}}function dae(t){Rm(t,"onDisconnectEvents");const e=W2(t),n=y_();Gb(t.onDisconnect_,Hn(),(i,s)=>{const a=tN(i,s,t.serverSyncTree_,e);LP(n,i,a)});let r=[];Gb(n,Hn(),(i,s)=>{r=r.concat(Am(t.serverSyncTree_,i,s));const a=E6(t,i);Bh(t,a)}),t.onDisconnect_=y_(),Ro(t.eventQueue_,Hn(),r)}function pae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iae)}function Rm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fs(n,...e)}function Xb(t,e,n,r){e&&jh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function lN(t,e,n){return h6(t.serverSyncTree_,e,n)||Dt.EMPTY_NODE}function k6(t,e=t.transactionQueueTree_){if(e||G2(t,e),Xh(e)){const n=cN(t,e);Ve(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mae(t,Im(e),n)}else iN(e)&&q2(e,n=>{k6(t,n)})}function mae(t,e,n){const r=n.map(f=>f.currentWriteId),i=lN(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const p=n[f];Ve(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=ia(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,f=>{Rm(t,"transaction put response",{path:c.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(Fc(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();G2(t,b6(t.transactionQueueTree_,e)),k6(t,t.transactionQueueTree_),Ro(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)jh(m[g])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{aa("transaction at "+c.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}Bh(t,e)}},a)}function Bh(t,e){const n=uN(t,e),r=Im(n),i=cN(t,n);return gae(t,i,r),r}function gae(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],f=ia(n,c.path);let p=!1,m;if(Ve(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,m=c.abortReason,i=i.concat(Fc(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=sae)p=!0,m="maxretry",i=i.concat(Fc(t.serverSyncTree_,c.currentWriteId,!0));else{const g=lN(t,c.path,a);c.currentInputSnapshot=g;const y=e[l].update(g.val());if(y!==void 0){H2("transaction failed: Data returned ",y,c.path);let w=Ei(y);typeof y=="object"&&y!=null&&au(y,".priority")||(w=w.updatePriority(g.getPriority()));const I=c.currentWriteId,P=W2(t),k=nN(w,g,P);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=k,c.currentWriteId=T6(t),a.splice(a.indexOf(I),1),i=i.concat(jP(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Fc(t.serverSyncTree_,I,!0))}else p=!0,m="nodata",i=i.concat(Fc(t.serverSyncTree_,c.currentWriteId,!0))}Ro(t.eventQueue_,n,i),i=[],p&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(m),!1,null))))}G2(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)jh(r[l]);k6(t,t.transactionQueueTree_)}function uN(t,e){let n,r=t.transactionQueueTree_;for(n=En(e);n!==null&&Xh(r)===void 0;)r=b6(r,n),e=br(e),n=En(e);return r}function cN(t,e){const n=[];return fN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function fN(t,e,n){const r=Xh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);q2(e,i=>{fN(t,i,n)})}function G2(t,e){const n=Xh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,rN(e,n.length>0?n:void 0)}q2(e,r=>{G2(t,r)})}function E6(t,e){const n=Im(uN(t,e)),r=b6(t.transactionQueueTree_,e);return Wse(r,i=>{sy(t,i)}),sy(t,r),sN(r,i=>{sy(t,i)}),n}function sy(t,e){const n=Xh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ve(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Ve(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Fc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rN(e,void 0):n.length=s+1,Ro(t.eventQueue_,Im(e),i);for(let a=0;a<r.length;a++)jh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):aa(`Invalid query segment '${n}' in query '${t}'`)}return e}const uS=function(t,e){const n=yae(t),r=n.namespace;n.domain==="firebase.com"&&ec(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||kre();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new lr(n.pathString)}},yae=function(t){let e="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=_ae(t.substring(p,m)));const g=vae(t.substring(Math.min(t.length,m)));f=e.indexOf(":"),f>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mi(this.snapshot.exportVal())}}class wae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return bn(this._path)?null:e6(this._path)}get ref(){return new uc(this._repo,this._path)}get _queryIdentifier(){const e=jx(this._queryParams),n=K5(e);return n==="{}"?"default":n}get _queryObject(){return jx(this._queryParams)}isEqual(e){if(e=ds(e),!(e instanceof M6))return!1;const n=this._repo===e._repo,r=EP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lie(this._path)}}class uc extends M6{constructor(e,n){super(e,n,new i6,!1)}get parent(){const e=kP(this._path);return e===null?null:new uc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new lr(e),r=Qb(this.ref,e);return new Fp(this._node.getChild(n),r,ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fp(i,Qb(this.ref,r),ri)))}hasChild(e){const n=new lr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jb(t,e){return t=ds(t),t._checkNotDeleted("ref"),e!==void 0?Qb(t._root,e):t._root}function Qb(t,e){return t=ds(t),En(t._path)===null?Jse("child","path",e,!1):oN("child","path",e,!1),new uc(t._repo,ti(t._path,e))}function Sae(t,e){t=ds(t),Qse("set",t._path),jse("set",e,t._path,!1);const n=new ym;return fae(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Tae(t,e){Xse("update",e,t._path,!1);const n=new ym;return hae(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function kae(t){t=ds(t);const e=new xae(()=>{}),n=new C6(e);return cae(t._repo,t,n).then(r=>new Fp(r,new uc(t._repo,t._path),t._queryParams.getIndex()))}class C6{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new bae("value",this,new Fp(e.snapshotNode,new uc(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new wae(this,e,n):null}matches(e){return e instanceof C6?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}bse(uc);kse(uc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae="FIREBASE_DATABASE_EMULATOR_HOST",e3={};let Mae=!1;function Cae(t,e,n,r){t.repoInfo_=new gP(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Aae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ec("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fs("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=uS(s,i),l=a.repoInfo,c,f;typeof process<"u"&&process.env&&(f=process.env[Eae]),f?(c=!0,s=`http://${f}?ns=${l.namespace}`,a=uS(s,i),l=a.repoInfo):c=!a.repoInfo.secure;const p=i&&c?new ch(ch.OWNER):new Dre(t.name,t.options,e);eae("Invalid Firebase Database URL",a),bn(a.path)||ec("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Rae(l,t,p,new Ore(t.name,n));return new Pae(m,t)}function Iae(t,e){const n=e3[e];(!n||n[t.key]!==t)&&ec(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pae(t),delete n[t.key]}function Rae(t,e,n,r){let i=e3[e.name];i||(i={},e3[e.name]=i);let s=i[t.toURLString()];return s&&ec("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new aae(t,Mae,n,r),i[t.toURLString()]=s,s}class Pae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uc(this._repo,Hn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Iae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ec("Cannot call "+e+" on a deleted database.")}}function hN(t=R2(),e){const n=I2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uR("database");r&&Nae(n,...r)}return n}function Nae(t,e,n,r={}){t=ds(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ec("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ec('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ch(ch.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:hR(r.mockUserToken,t.app.options.projectId);s=new ch(a)}Cae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(t){bre(bf),of(new Qc("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Aae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Gu(Px,Nx,t),Gu(Px,Nx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae={".sv":"timestamp"};function Dae(){return Oae}$u.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};$u.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Lae();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebasestorage.googleapis.com",pN="storageBucket",Bae=2*60*1e3,zae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends lc{constructor(e,n,r=0){super(ay(e),`Firebase Storage: ${n} (${ay(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ay(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ji||(ji={}));function ay(t){return"storage/"+t}function mN(){const t="An unknown error occurred, please check the error payload for server response.";return new Ji(ji.UNKNOWN,t)}function Fae(t){return new Ji(ji.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Uae(t){return new Ji(ji.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ji(ji.UNAUTHENTICATED,t)}function Hae(){return new Ji(ji.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wae(t){return new Ji(ji.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Gae(){return new Ji(ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $ae(){return new Ji(ji.CANCELED,"User canceled the upload/download.")}function Vae(t){return new Ji(ji.INVALID_URL,"Invalid URL '"+t+"'.")}function Zae(t){return new Ji(ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yae(){return new Ji(ji.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pN+"' property when initializing the app?")}function jae(){return new Ji(ji.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t3(t){return new Ji(ji.INVALID_ARGUMENT,t)}function gN(){return new Ji(ji.APP_DELETED,"The Firebase app was deleted.")}function Kae(t){return new Ji(ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cd(t){throw new Ji(ji.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ja.makeFromUrl(e,n)}catch{return new Ja(e,"")}if(r.path==="")return r;throw Zae(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},S=n===dN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",P=new RegExp(`^https?://${S}/${i}/${I}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<A.length;C++){const N=A[C],D=N.regex.exec(e);if(D){const F=D[N.indices.bucket];let W=D[N.indices.path];W||(W=""),r=new Ja(F,W),N.postModify(r);break}}if(r==null)throw Vae(e);return r}}class Xae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let f=!1;function p(...I){f||(f=!0,e.apply(null,I))}function m(I){i=setTimeout(()=>{i=null,t(y,c())},I)}function g(){s&&clearTimeout(s)}function y(I,...P){if(f){g();return}if(I){g(),p.call(null,I,...P);return}if(c()||a){g(),p.call(null,I,...P);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let w=!1;function S(I){w||(w=!0,g(),!f&&(i!==null?(I||(l=2),clearTimeout(i),m(0)):I||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,S(!0)},n),S}function Qae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eoe(t){return t!==void 0}function toe(t){return typeof t=="object"&&!Array.isArray(t)}function _N(t){return typeof t=="string"||t instanceof String}function cS(t,e,n,r){if(r<e)throw t3(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw t3(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Y0||(Y0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n,r,i,s,a,l,c,f,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new L1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Y0.NO_ERROR,c=s.getStatus();if(!l||noe(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Y0.ABORT;r(!1,new L1(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new L1(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());eoe(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=mN();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?gN():$ae();a(c)}else{const c=Gae();a(c)}};this.canceled_?n(!1,new L1(!1,null,!0)):this.backoffId_=Jae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Qae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class L1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ioe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function soe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aoe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ooe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function loe(t,e,n,r,i,s,a=!0){const l=yN(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return aoe(f,e),ioe(f,n),soe(f,s),ooe(f,r),new roe(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){let e;try{e=JSON.parse(t)}catch{return null}return toe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uoe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function coe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function wN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function foe(t,e){return e}class Js{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||foe}}let O1=null;function hoe(t){return!_N(t)||t.length<2?t:wN(t)}function doe(){if(O1)return O1;const t=[];t.push(new Js("bucket")),t.push(new Js("generation")),t.push(new Js("metageneration")),t.push(new Js("name","fullPath",!0));function e(s,a){return hoe(a)}const n=new Js("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Js("size");return i.xform=r,t.push(i),t.push(new Js("timeCreated")),t.push(new Js("updated")),t.push(new Js("md5Hash",null,!0)),t.push(new Js("cacheControl",null,!0)),t.push(new Js("contentDisposition",null,!0)),t.push(new Js("contentEncoding",null,!0)),t.push(new Js("contentLanguage",null,!0)),t.push(new Js("contentType",null,!0)),t.push(new Js("metadata","customMetadata",!0)),O1=t,O1}function poe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ja(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function moe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return poe(r,t),r}function goe(t,e,n){const r=bN(e);return r===null?null:moe(t,r,n)}function _oe(t,e,n,r){const i=bN(e);if(i===null||!_N(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const p=t.bucket,m=t.fullPath,g="/b/"+a(p)+"/o/"+a(m),y=vN(g,n,r),w=yN({alt:"media",token:f});return y+w})[0]}class voe{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){if(!t)throw mN()}function boe(t,e){function n(r,i){const s=goe(t,i,e);return yoe(s!==null),_oe(s,i,t.host,t._protocol)}return n}function woe(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Hae():i=qae():n.getStatus()===402?i=Uae(t.bucket):n.getStatus()===403?i=Wae(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function xoe(t){const e=woe(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Fae(t.path)),s.serverResponse=i.serverResponse,s}return n}function Soe(t,e,n){const r=e.fullServerUrl(),i=vN(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new voe(i,s,boe(t,n),a);return l.errorHandler=xoe(e),l}class Toe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Y0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Y0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Y0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class koe extends Toe{initXhr(){this.xhr_.responseType="text"}}function Eoe(){return new koe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this._service=e,n instanceof Ja?this._location=n:this._location=Ja.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hf(e,n)}get root(){const e=new Ja(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wN(this._location.path)}get storage(){return this._service}get parent(){const e=uoe(this._location.path);if(e===null)return null;const n=new Ja(this._location.bucket,e);return new hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kae(e)}}function Moe(t){t._throwIfRoot("getDownloadURL");const e=Soe(t.storage,t._location,doe());return t.storage.makeRequestWithTokens(e,Eoe).then(n=>{if(n===null)throw jae();return n})}function Coe(t,e){const n=coe(t._location.path,e),r=new Ja(t._location.bucket,n);return new hf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(t){return/^[A-Za-z]+:\/\//.test(t)}function Ioe(t,e){return new hf(t,e)}function xN(t,e){if(t instanceof A6){const n=t;if(n._bucket==null)throw Yae();const r=new hf(n,n._bucket);return e!=null?xN(r,e):r}else return e!==void 0?Coe(t,e):t}function Roe(t,e){if(e&&Aoe(e)){if(t instanceof A6)return Ioe(t,e);throw t3("To use ref(service, url), the first argument must be a Storage instance.")}else return xN(t,e)}function fS(t,e){const n=e==null?void 0:e[pN];return n==null?null:Ja.makeFromBucketSpec(n,t)}function Poe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hR(i,t.app.options.projectId))}class A6{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=dN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bae,this._maxUploadRetryTime=zae,this._requests=new Set,i!=null?this._bucket=Ja.makeFromBucketSpec(i,this._host):this._bucket=fS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ja.makeFromBucketSpec(this._url,e):this._bucket=fS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Xae(gN());{const a=loe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const hS="@firebase/storage",dS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="storage";function Noe(t){return t=ds(t),Moe(t)}function Loe(t,e){return t=ds(t),Roe(t,e)}function Ooe(t=R2(),e){t=ds(t);const r=I2(t,SN).getImmediate({identifier:e}),i=uR("storage");return i&&Doe(r,...i),r}function Doe(t,e,n,r={}){Poe(t,e,n,r)}function Boe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new A6(n,r,i,e,bf)}function zoe(){of(new Qc(SN,Boe,"PUBLIC").setMultipleInstances(!0)),Gu(hS,dS,""),Gu(hS,dS,"esm2017")}zoe();function M_(t,e,n){n=n||{};var r=t.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(e,{detail:n}):(i=r.createEvent("Event"),i.initEvent(e,!1,!1),i.detail=n),t.dispatchEvent(i)}function TN(t){return Array.isArray(t)||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function kN(t){return t===(t|0)+""}function Vl(t){const e=document.createElement("span");return e.className="observablehq--cellname",e.textContent=`${t} = `,e}const Foe=Symbol.prototype.toString;function Jh(t){return Foe.call(t)}const{getOwnPropertySymbols:Uoe,prototype:{hasOwnProperty:qoe}}=Object,{toStringTag:Hoe}=Symbol,EN={},Pm=Uoe;function $2(t,e){return qoe.call(t,e)}function n3(t){return t[Hoe]||t.constructor&&t.constructor.name||"Object"}function Mo(t,e){try{const n=t[e];return n&&n.constructor,n}catch{return EN}}const Woe=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function MN(t){try{let e=Woe.filter(({symbol:a})=>t[a]===!0);if(!e.length)return;const n=e.find(a=>!a.modifier),r=n.name==="Map"&&e.find(a=>a.modifier&&a.prefix),i=e.some(a=>a.arrayish),s=e.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:e,arrayish:i&&!s,setish:s}}catch{return null}}const{getPrototypeOf:I6,getOwnPropertyDescriptors:Goe}=Object,CN=I6({});function AN(t,e,n,r){let i=TN(t),s,a,l,c;t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=$oe):(s="Map()",a=ep):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Voe):(s="Set()",a=ep):i?(s=`${t.constructor.name}(${t.length})`,a=Yoe):(c=MN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?joe:c.setish?Zoe:Xoe):r?(s=n3(t),a=Koe):(s=n3(t),a=ep);const f=document.createElement("span");f.className="observablehq--expanded",n&&f.appendChild(Vl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),p.addEventListener("mouseup",function(m){m.stopPropagation(),A_(f,R6(t,null,n,r))}),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)f.appendChild(l.value);if(!l.done){const m=f.appendChild(document.createElement("a"));m.className="observablehq--field",m.style.display="block",m.appendChild(document.createTextNode("  … more")),m.addEventListener("mouseup",function(g){g.stopPropagation(),f.insertBefore(l.value,f.lastChild.previousSibling);for(let y=0;!(l=a.next()).done&&y<19;++y)f.insertBefore(l.value,f.lastChild.previousSibling);l.done&&f.removeChild(f.lastChild.previousSibling),M_(f,"load")})}return f.appendChild(document.createTextNode(i?"]":"}")),f}function*$oe(t){for(const[e,n]of t)yield Joe(e,n);yield*ep(t)}function*Voe(t){for(const e of t)yield RN(e);yield*ep(t)}function*Zoe(t){for(const e of t)yield RN(e)}function*Yoe(t){for(let e=0,n=t.length;e<n;++e)e in t&&(yield Vu(e,Mo(t,e),"observablehq--index"));for(const e in t)!kN(e)&&$2(t,e)&&(yield Vu(e,Mo(t,e),"observablehq--key"));for(const e of Pm(t))yield Vu(Jh(e),Mo(t,e),"observablehq--symbol")}function*joe(t){let e=0;for(const n=t.size;e<n;++e)yield Vu(e,t.get(e),!0)}function*Koe(t){for(const n in Goe(t))yield Vu(n,Mo(t,n),"observablehq--key");for(const n of Pm(t))yield Vu(Jh(n),Mo(t,n),"observablehq--symbol");const e=I6(t);e&&e!==CN&&(yield IN(e))}function*ep(t){for(const n in t)$2(t,n)&&(yield Vu(n,Mo(t,n),"observablehq--key"));for(const n of Pm(t))yield Vu(Jh(n),Mo(t,n),"observablehq--symbol");const e=I6(t);e&&e!==CN&&(yield IN(e))}function*Xoe(t){for(const[e,n]of t)yield Vu(e,n,"observablehq--key")}function IN(t){const e=document.createElement("div"),n=e.appendChild(document.createElement("span"));return e.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",e.appendChild(document.createTextNode(": ")),e.appendChild(Ba(t,void 0,void 0,void 0,!0)),e}function Vu(t,e,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${t}`,r.appendChild(document.createTextNode(": ")),r.appendChild(Ba(e)),r}function Joe(t,e){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(Ba(t)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ba(e)),n}function RN(t){const e=document.createElement("div");return e.className="observablehq--field",e.appendChild(document.createTextNode("  ")),e.appendChild(Ba(t)),e}function pS(t){const e=window.getSelection();return e.type==="Range"&&(e.containsNode(t,!0)||e.anchorNode.isSelfOrDescendant(t)||e.focusNode.isSelfOrDescendant(t))}function R6(t,e,n,r){let i=TN(t),s,a,l,c;if(t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=Qoe):(s="Map()",a=tp):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=ele):(s="Set()",a=tp):i?(s=`${t.constructor.name}(${t.length})`,a=rle):(c=MN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?nle:c.setish?tle:ile):(s=n3(t),a=tp),e){const m=document.createElement("span");return m.className="observablehq--shallow",n&&m.appendChild(Vl(n)),m.appendChild(document.createTextNode(s)),m.addEventListener("mouseup",function(g){pS(m)||(g.stopPropagation(),A_(m,R6(t)))}),m}const f=document.createElement("span");f.className="observablehq--collapsed",n&&f.appendChild(Vl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),f.addEventListener("mouseup",function(m){pS(f)||(m.stopPropagation(),A_(f,AN(t,null,n,r)))},!0),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)m>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(l.value);return l.done||f.appendChild(document.createTextNode(", …")),f.appendChild(document.createTextNode(i?"]":"}")),f}function*Qoe(t){for(const[e,n]of t)yield sle(e,n);yield*tp(t)}function*ele(t){for(const e of t)yield Ba(e,!0);yield*tp(t)}function*tle(t){for(const e of t)yield Ba(e,!0)}function*nle(t){let e=-1,n=0;for(const r=t.size;n<r;++n)n>e+1&&(yield C_(n-e-1)),yield Ba(t.get(n),!0),e=n;n>e+1&&(yield C_(n-e-1))}function*rle(t){let e=-1,n=0;for(const r=t.length;n<r;++n)n in t&&(n>e+1&&(yield C_(n-e-1)),yield Ba(Mo(t,n),!0),e=n);n>e+1&&(yield C_(n-e-1));for(const r in t)!kN(r)&&$2(t,r)&&(yield Up(r,Mo(t,r),"observablehq--key"));for(const r of Pm(t))yield Up(Jh(r),Mo(t,r),"observablehq--symbol")}function*tp(t){for(const e in t)$2(t,e)&&(yield Up(e,Mo(t,e),"observablehq--key"));for(const e of Pm(t))yield Up(Jh(e),Mo(t,e),"observablehq--symbol")}function*ile(t){for(const[e,n]of t)yield Up(e,n,"observablehq--key")}function C_(t){const e=document.createElement("span");return e.className="observablehq--empty",e.textContent=t===1?"empty":`empty × ${t}`,e}function Up(t,e,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=t,r.appendChild(document.createTextNode(": ")),r.appendChild(Ba(e,!0)),r}function sle(t,e){const n=document.createDocumentFragment();return n.appendChild(Ba(t,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ba(e,!0)),n}function ale(t){return hA(t,"Invalid Date")}var ole=Error.prototype.toString;function lle(t){return t.stack||ole.call(t)}var ule=RegExp.prototype.toString;function cle(t){return ule.call(t)}const oy=20;function fle(t,e,n,r){if(e===!1){if(gS(t,/["\n]/g)<=gS(t,/`|\${/g)){const f=document.createElement("span");r&&f.appendChild(Vl(r));const p=f.appendChild(document.createElement("span"));return p.className="observablehq--string",p.textContent=JSON.stringify(t),f}const a=t.split(`
`);if(a.length>oy&&!n){const f=document.createElement("div");r&&f.appendChild(Vl(r));const p=f.appendChild(document.createElement("span"));p.className="observablehq--string",p.textContent="`"+mS(a.slice(0,oy).join(`
`));const m=f.appendChild(document.createElement("span")),g=a.length-oy;return m.textContent=`Show ${g} truncated line${g>1?"s":""}`,m.className="observablehq--string-expand",m.addEventListener("mouseup",function(y){y.stopPropagation(),A_(f,Ba(t,e,!0,r))}),f}const l=document.createElement("span");r&&l.appendChild(Vl(r));const c=l.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+mS(t)+"`",l}const i=document.createElement("span");r&&i.appendChild(Vl(r));const s=i.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(t.length>100?`${t.slice(0,50)}…${t.slice(-49)}`:t),i}function mS(t){return t.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,hle)}function hle(t){var e=t.charCodeAt(0);switch(e){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return e<16?"\\x0"+e.toString(16):e<32?"\\x"+e.toString(16):"\\"+t}function gS(t,e){for(var n=0;e.exec(t);)++n;return n}var dle=Function.prototype.toString,ple={prefix:"async ƒ"},mle={prefix:"async ƒ*"},_S={prefix:"class"},gle={prefix:"ƒ"},_le={prefix:"ƒ*"};function vle(t,e){var n,r,i=dle.call(t);switch(t.constructor&&t.constructor.name){case"AsyncFunction":n=ple;break;case"AsyncGeneratorFunction":n=mle;break;case"GeneratorFunction":n=_le;break;default:n=/^class\b/.test(i)?_S:gle;break}return n===_S?Ad(n,"",e):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?Ad(n,"("+r[1]+")",e):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ad(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?Ad(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):Ad(n,"(…)",e)}function Ad(t,e,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(Vl(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=t.prefix,r.appendChild(document.createTextNode(e)),r}const{prototype:{toString:yle}}=Object;function Ba(t,e,n,r,i){let s=typeof t;switch(s){case"boolean":case"undefined":{t+="";break}case"number":{t=t===0&&1/t<0?"-0":t+"";break}case"bigint":{t=t+"n";break}case"symbol":{t=Jh(t);break}case"function":return vle(t,r);case"string":return fle(t,e,n,r);default:{if(t===null){s=null,t="null";break}if(t instanceof Date){s="date",t=ale(t);break}if(t===EN){s="forbidden",t="[forbidden]";break}switch(yle.call(t)){case"[object RegExp]":{s="regexp",t=cle(t);break}case"[object Error]":case"[object DOMException]":{s="error",t=lle(t);break}default:return(n?AN:R6)(t,e,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(Vl(r));const l=a.appendChild(document.createElement("span"));return l.className=`observablehq--${s}`,l.textContent=t,a}function A_(t,e){t.classList.contains("observablehq--inspect")&&e.classList.add("observablehq--inspect"),t.parentNode.replaceChild(e,t),M_(e,"load")}const ble=/\s+\(\d+:\d+\)$/m;class r3{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,n){const{_node:r}=this;if((!wle(e)||e.parentNode&&e.parentNode!==r)&&(e=Ba(e,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),e.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==e)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(e,r.firstChild)}else r.appendChild(e);M_(r,"update")}rejected(e,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(Vl(n)),i.appendChild(document.createTextNode((e+"").replace(ble,""))),r.appendChild(i),M_(r,"error",{error:e})}}r3.into=function(t){if(typeof t=="string"&&(t=document.querySelector(t),t==null))throw new Error("container not found");return function(){return new r3(t.appendChild(document.createElement("div")))}};function wle(t){return(t instanceof Element||t instanceof Text)&&t instanceof t.constructor}const Sf=M2(null),PN=M2(["Login First!"]),qp=M2("default"),xle=!1;var hg,NN;const Sle=async()=>{console.log("Loading localkey module..1");const{firebaselocalConfig:t,defemail:e}=await Ep(()=>import("./localkey-58f3b663.js"),[]);console.log("Loading localkey module..2 done | ","production",t,e),hg=t,hg.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M",console.log("Setting PRODUCTION"),NN=vR(hg)};Sle();console.log("firebaseConfig",hg);async function Tle(){const t=R2();var e=une(tP(t));return e.then(()=>Sf.set(void 0)),e}async function kle(t,e){const n=tP();return n.setPersistence(VR).then(()=>ane(n,t,e).then(async r=>{Sf.set(r);const i=hN();return await Tae(Jb(i,"/users/"+r.user.uid+"/"),{lastlogged:Dae()}),await Sae(Jb(i,"/users/"+r.user.uid+"/email"),r.user.email),ON("/users/"+r.user.uid+"/profiles").then(s=>{console.log("userSetting ",s),PN.set(s),qp.set(s[0])}),r}))}async function LN(t){t=t||"fss/hello.json";var e=Ooe(NN);const n=Loe(e,t);return Noe(n)}async function ON(t){if(NU(Sf)==null&&!xle)throw console.log("not DEVELMODE not Logged In "),TypeError("unAuthorized");console.log("RTDB getData path = ",t);const n=Jb(hN(),t);return kae(n).then(r=>{if(r.exists()){let i=r.val();return console.log("RTDB",i),i}return null}).catch(r=>{console.error("RTDB",r)})}function vS(t){var e=Object.keys(t[0]),n=[e,...t.map(r=>{var i=[];for(let s of e)i.push(r[s]);return i})].map(r=>r.join(",")).join(`
`);return n}Sf.subscribe(t=>{console.log("User Changed...",t)});var As=63710088e-1,DN={centimeters:As*100,centimetres:As*100,degrees:As/111325,feet:As*3.28084,inches:As*39.37,kilometers:As/1e3,kilometres:As/1e3,meters:As,metres:As,miles:As/1609.344,millimeters:As*1e3,millimetres:As*1e3,nauticalmiles:As/1852,radians:1,yards:As*1.0936};function P6(t,e,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Hp(t,e,n){if(n===void 0&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!I_(t[0])||!I_(t[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:t};return P6(r,e,n)}function i3(t,e,n){n===void 0&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:t};return P6(l,e,n)}function j0(t,e){e===void 0&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function BN(t,e){e===void 0&&(e="kilometers");var n=DN[e];if(!n)throw new Error(e+" units is invalid");return t*n}function Ele(t,e){e===void 0&&(e="kilometers");var n=DN[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Mle(t){var e=t%(2*Math.PI);return e*180/Math.PI}function Zl(t){var e=t%360;return e*Math.PI/180}function zN(t,e,n){if(e===void 0&&(e="kilometers"),n===void 0&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return BN(Ele(t,e),n)}function I_(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function FN(t){return!!t&&t.constructor===Object}function Qh(t,e,n){if(t!==null)for(var r,i,s,a,l,c,f,p=0,m=0,g,y=t.type,w=y==="FeatureCollection",S=y==="Feature",I=w?t.features.length:1,P=0;P<I;P++){f=w?t.features[P].geometry:S?t.geometry:t,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var k=0;k<l;k++){var A=0,C=0;if(a=g?f.geometries[k]:f,a!==null){c=a.coordinates;var N=a.type;switch(p=n&&(N==="Polygon"||N==="MultiPolygon")?1:0,N){case null:break;case"Point":if(e(c,m,P,A,C)===!1)return!1;m++,A++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(e(c[r],m,P,A,C)===!1)return!1;m++,N==="MultiPoint"&&A++}N==="LineString"&&A++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-p;i++){if(e(c[r][i],m,P,A,C)===!1)return!1;m++}N==="MultiLineString"&&A++,N==="Polygon"&&C++}N==="Polygon"&&A++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(C=0,i=0;i<c[r].length;i++){for(s=0;s<c[r][i].length-p;s++){if(e(c[r][i][s],m,P,A,C)===!1)return!1;m++}C++}A++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(Qh(a.geometries[r],e,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function UN(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function Cle(t,e){var n,r,i,s,a,l,c,f,p,m,g=0,y=t.type==="FeatureCollection",w=t.type==="Feature",S=y?t.features.length:1;for(n=0;n<S;n++){for(l=y?t.features[n].geometry:w?t.geometry:t,f=y?t.features[n].properties:w?t.properties:{},p=y?t.features[n].bbox:w?t.bbox:void 0,m=y?t.features[n].id:w?t.id:void 0,c=l?l.type==="GeometryCollection":!1,a=c?l.geometries.length:1,i=0;i<a;i++){if(s=c?l.geometries[i]:l,s===null){if(e(null,g,f,p,m)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,g,f,p,m)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<s.geometries.length;r++)if(e(s.geometries[r],g,f,p,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Ale(t,e,n){var r=n;return Cle(t,function(i,s,a,l,c){s===0&&n===void 0?r=i:r=e(r,i,s,a,l,c)}),r}function s3(t){var e=[1/0,1/0,-1/0,-1/0];return Qh(t,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}s3.default=s3;function Qa(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ile(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Rle(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}var N6={exports:{}},qN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Nc,function(){function n(k,A,C,N,D){(function F(W,G,Y,V,ee){for(;V>Y;){if(V-Y>600){var fe=V-Y+1,le=G-Y+1,ie=Math.log(fe),he=.5*Math.exp(2*ie/3),me=.5*Math.sqrt(ie*he*(fe-he)/fe)*(le-fe/2<0?-1:1),ve=Math.max(Y,Math.floor(G-le*he/fe+me)),pe=Math.min(V,Math.floor(G+(fe-le)*he/fe+me));F(W,G,ve,pe,ee)}var Z=W[G],j=Y,ae=V;for(r(W,Y,G),ee(W[V],Z)>0&&r(W,Y,V);j<ae;){for(r(W,j,ae),j++,ae--;ee(W[j],Z)<0;)j++;for(;ee(W[ae],Z)>0;)ae--}ee(W[Y],Z)===0?r(W,Y,ae):r(W,++ae,V),ae<=G&&(Y=ae+1),G<=ae&&(V=ae-1)}})(k,A,C||0,N||k.length-1,D||i)}function r(k,A,C){var N=k[A];k[A]=k[C],k[C]=N}function i(k,A){return k<A?-1:k>A?1:0}var s=function(k){k===void 0&&(k=9),this._maxEntries=Math.max(4,k),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(k,A,C){if(!C)return A.indexOf(k);for(var N=0;N<A.length;N++)if(C(k,A[N]))return N;return-1}function l(k,A){c(k,0,k.children.length,A,k)}function c(k,A,C,N,D){D||(D=I(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var F=A;F<C;F++){var W=k.children[F];f(D,k.leaf?N(W):W)}return D}function f(k,A){return k.minX=Math.min(k.minX,A.minX),k.minY=Math.min(k.minY,A.minY),k.maxX=Math.max(k.maxX,A.maxX),k.maxY=Math.max(k.maxY,A.maxY),k}function p(k,A){return k.minX-A.minX}function m(k,A){return k.minY-A.minY}function g(k){return(k.maxX-k.minX)*(k.maxY-k.minY)}function y(k){return k.maxX-k.minX+(k.maxY-k.minY)}function w(k,A){return k.minX<=A.minX&&k.minY<=A.minY&&A.maxX<=k.maxX&&A.maxY<=k.maxY}function S(k,A){return A.minX<=k.maxX&&A.minY<=k.maxY&&A.maxX>=k.minX&&A.maxY>=k.minY}function I(k){return{children:k,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(k,A,C,N,D){for(var F=[A,C];F.length;)if(!((C=F.pop())-(A=F.pop())<=N)){var W=A+Math.ceil((C-A)/N/2)*N;n(k,W,A,C,D),F.push(A,W,W,C)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(k){var A=this.data,C=[];if(!S(k,A))return C;for(var N=this.toBBox,D=[];A;){for(var F=0;F<A.children.length;F++){var W=A.children[F],G=A.leaf?N(W):W;S(k,G)&&(A.leaf?C.push(W):w(k,G)?this._all(W,C):D.push(W))}A=D.pop()}return C},s.prototype.collides=function(k){var A=this.data;if(!S(k,A))return!1;for(var C=[];A;){for(var N=0;N<A.children.length;N++){var D=A.children[N],F=A.leaf?this.toBBox(D):D;if(S(k,F)){if(A.leaf||w(k,F))return!0;C.push(D)}}A=C.pop()}return!1},s.prototype.load=function(k){if(!k||!k.length)return this;if(k.length<this._minEntries){for(var A=0;A<k.length;A++)this.insert(k[A]);return this}var C=this._build(k.slice(),0,k.length-1,0);if(this.data.children.length)if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var N=this.data;this.data=C,C=N}this._insert(C,this.data.height-C.height-1,!0)}else this.data=C;return this},s.prototype.insert=function(k){return k&&this._insert(k,this.data.height-1),this},s.prototype.clear=function(){return this.data=I([]),this},s.prototype.remove=function(k,A){if(!k)return this;for(var C,N,D,F=this.data,W=this.toBBox(k),G=[],Y=[];F||G.length;){if(F||(F=G.pop(),N=G[G.length-1],C=Y.pop(),D=!0),F.leaf){var V=a(k,F.children,A);if(V!==-1)return F.children.splice(V,1),G.push(F),this._condense(G),this}D||F.leaf||!w(F,W)?N?(C++,F=N.children[C],D=!1):F=null:(G.push(F),Y.push(C),C=0,N=F,F=F.children[0])}return this},s.prototype.toBBox=function(k){return k},s.prototype.compareMinX=function(k,A){return k.minX-A.minX},s.prototype.compareMinY=function(k,A){return k.minY-A.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(k){return this.data=k,this},s.prototype._all=function(k,A){for(var C=[];k;)k.leaf?A.push.apply(A,k.children):C.push.apply(C,k.children),k=C.pop();return A},s.prototype._build=function(k,A,C,N){var D,F=C-A+1,W=this._maxEntries;if(F<=W)return l(D=I(k.slice(A,C+1)),this.toBBox),D;N||(N=Math.ceil(Math.log(F)/Math.log(W)),W=Math.ceil(F/Math.pow(W,N-1))),(D=I([])).leaf=!1,D.height=N;var G=Math.ceil(F/W),Y=G*Math.ceil(Math.sqrt(W));P(k,A,C,Y,this.compareMinX);for(var V=A;V<=C;V+=Y){var ee=Math.min(V+Y-1,C);P(k,V,ee,G,this.compareMinY);for(var fe=V;fe<=ee;fe+=G){var le=Math.min(fe+G-1,ee);D.children.push(this._build(k,fe,le,N-1))}}return l(D,this.toBBox),D},s.prototype._chooseSubtree=function(k,A,C,N){for(;N.push(A),!A.leaf&&N.length-1!==C;){for(var D=1/0,F=1/0,W=void 0,G=0;G<A.children.length;G++){var Y=A.children[G],V=g(Y),ee=(fe=k,le=Y,(Math.max(le.maxX,fe.maxX)-Math.min(le.minX,fe.minX))*(Math.max(le.maxY,fe.maxY)-Math.min(le.minY,fe.minY))-V);ee<F?(F=ee,D=V<D?V:D,W=Y):ee===F&&V<D&&(D=V,W=Y)}A=W||A.children[0]}var fe,le;return A},s.prototype._insert=function(k,A,C){var N=C?k:this.toBBox(k),D=[],F=this._chooseSubtree(N,this.data,A,D);for(F.children.push(k),f(F,N);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(N,D,A)},s.prototype._split=function(k,A){var C=k[A],N=C.children.length,D=this._minEntries;this._chooseSplitAxis(C,D,N);var F=this._chooseSplitIndex(C,D,N),W=I(C.children.splice(F,C.children.length-F));W.height=C.height,W.leaf=C.leaf,l(C,this.toBBox),l(W,this.toBBox),A?k[A-1].children.push(W):this._splitRoot(C,W)},s.prototype._splitRoot=function(k,A){this.data=I([k,A]),this.data.height=k.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(k,A,C){for(var N,D,F,W,G,Y,V,ee=1/0,fe=1/0,le=A;le<=C-A;le++){var ie=c(k,0,le,this.toBBox),he=c(k,le,C,this.toBBox),me=(D=ie,F=he,W=void 0,G=void 0,Y=void 0,V=void 0,W=Math.max(D.minX,F.minX),G=Math.max(D.minY,F.minY),Y=Math.min(D.maxX,F.maxX),V=Math.min(D.maxY,F.maxY),Math.max(0,Y-W)*Math.max(0,V-G)),ve=g(ie)+g(he);me<ee?(ee=me,N=le,fe=ve<fe?ve:fe):me===ee&&ve<fe&&(fe=ve,N=le)}return N||C-A},s.prototype._chooseSplitAxis=function(k,A,C){var N=k.leaf?this.compareMinX:p,D=k.leaf?this.compareMinY:m;this._allDistMargin(k,A,C,N)<this._allDistMargin(k,A,C,D)&&k.children.sort(N)},s.prototype._allDistMargin=function(k,A,C,N){k.children.sort(N);for(var D=this.toBBox,F=c(k,0,A,D),W=c(k,C-A,C,D),G=y(F)+y(W),Y=A;Y<C-A;Y++){var V=k.children[Y];f(F,k.leaf?D(V):V),G+=y(F)}for(var ee=C-A-1;ee>=A;ee--){var fe=k.children[ee];f(W,k.leaf?D(fe):fe),G+=y(W)}return G},s.prototype._adjustParentBBoxes=function(k,A,C){for(var N=C;N>=0;N--)f(A[N],k)},s.prototype._condense=function(k){for(var A=k.length-1,C=void 0;A>=0;A--)k[A].children.length===0?A>0?(C=k[A-1].children).splice(C.indexOf(k[A]),1):this.clear():l(k[A],this.toBBox)},s})})(qN);var Ple=qN.exports;class Nle{constructor(e=[],n=Lle){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const s=e-1>>1,a=n[s];if(r(i,a)>=0)break;n[e]=a,e=s}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,s=n[e];for(;e<i;){let a=(e<<1)+1,l=n[a];const c=a+1;if(c<this.length&&r(n[c],l)<0&&(a=c,l=n[c]),r(l,s)>=0)break;n[e]=l,e=a}n[e]=s}}function Lle(t,e){return t<e?-1:t>e?1:0}const Ole=Object.freeze(Object.defineProperty({__proto__:null,default:Nle},Symbol.toStringTag,{value:"Module"})),Dle=qQ(Ole);var V2={exports:{}},Ble=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=(i-r)/2,f=0,p=c-1;f<c;p=f++){var m=n[r+f*2+0],g=n[r+f*2+1],y=n[r+p*2+0],w=n[r+p*2+1],S=g>a!=w>a&&s<(y-m)*(a-g)/(w-g)+m;S&&(l=!l)}return l},zle=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=i-r,f=0,p=c-1;f<c;p=f++){var m=n[f+r][0],g=n[f+r][1],y=n[p+r][0],w=n[p+r][1],S=g>a!=w>a&&s<(y-m)*(a-g)/(w-g)+m;S&&(l=!l)}return l},HN=Ble,WN=zle;V2.exports=function(e,n,r,i){return n.length>0&&Array.isArray(n[0])?WN(e,n,r,i):HN(e,n,r,i)};V2.exports.nested=WN;V2.exports.flat=HN;var Fle=V2.exports,a3={exports:{}};(function(t,e){(function(n,r){r(e)})(Nc,function(n){const i=33306690738754706e-32;function s(S,I,P,k,A){let C,N,D,F,W=I[0],G=k[0],Y=0,V=0;G>W==G>-W?(C=W,W=I[++Y]):(C=G,G=k[++V]);let ee=0;if(Y<S&&V<P)for(G>W==G>-W?(D=C-((N=W+C)-W),W=I[++Y]):(D=C-((N=G+C)-G),G=k[++V]),C=N,D!==0&&(A[ee++]=D);Y<S&&V<P;)G>W==G>-W?(D=C-((N=C+W)-(F=N-C))+(W-F),W=I[++Y]):(D=C-((N=C+G)-(F=N-C))+(G-F),G=k[++V]),C=N,D!==0&&(A[ee++]=D);for(;Y<S;)D=C-((N=C+W)-(F=N-C))+(W-F),W=I[++Y],C=N,D!==0&&(A[ee++]=D);for(;V<P;)D=C-((N=C+G)-(F=N-C))+(G-F),G=k[++V],C=N,D!==0&&(A[ee++]=D);return C===0&&ee!==0||(A[ee++]=C),ee}function a(S){return new Float64Array(S)}const l=33306690738754716e-32,c=22204460492503146e-32,f=11093356479670487e-47,p=a(4),m=a(8),g=a(12),y=a(16),w=a(4);n.orient2d=function(S,I,P,k,A,C){const N=(I-C)*(P-A),D=(S-A)*(k-C),F=N-D;if(N===0||D===0||N>0!=D>0)return F;const W=Math.abs(N+D);return Math.abs(F)>=l*W?F:-function(G,Y,V,ee,fe,le,ie){let he,me,ve,pe,Z,j,ae,Ee,Oe,Re,Se,Te,Ce,_e,Ne,Be,we,st;const ze=G-fe,lt=V-fe,ft=Y-le,et=ee-le;Z=(Ne=(Ee=ze-(ae=(j=134217729*ze)-(j-ze)))*(Re=et-(Oe=(j=134217729*et)-(j-et)))-((_e=ze*et)-ae*Oe-Ee*Oe-ae*Re))-(Se=Ne-(we=(Ee=ft-(ae=(j=134217729*ft)-(j-ft)))*(Re=lt-(Oe=(j=134217729*lt)-(j-lt)))-((Be=ft*lt)-ae*Oe-Ee*Oe-ae*Re))),p[0]=Ne-(Se+Z)+(Z-we),Z=(Ce=_e-((Te=_e+Se)-(Z=Te-_e))+(Se-Z))-(Se=Ce-Be),p[1]=Ce-(Se+Z)+(Z-Be),Z=(st=Te+Se)-Te,p[2]=Te-(st-Z)+(Se-Z),p[3]=st;let kt=function(Qn,Bn){let $n=Bn[0];for(let at=1;at<Qn;at++)$n+=Bn[at];return $n}(4,p),tt=c*ie;if(kt>=tt||-kt>=tt||(he=G-(ze+(Z=G-ze))+(Z-fe),ve=V-(lt+(Z=V-lt))+(Z-fe),me=Y-(ft+(Z=Y-ft))+(Z-le),pe=ee-(et+(Z=ee-et))+(Z-le),he===0&&me===0&&ve===0&&pe===0)||(tt=f*ie+i*Math.abs(kt),(kt+=ze*pe+et*he-(ft*ve+lt*me))>=tt||-kt>=tt))return kt;Z=(Ne=(Ee=he-(ae=(j=134217729*he)-(j-he)))*(Re=et-(Oe=(j=134217729*et)-(j-et)))-((_e=he*et)-ae*Oe-Ee*Oe-ae*Re))-(Se=Ne-(we=(Ee=me-(ae=(j=134217729*me)-(j-me)))*(Re=lt-(Oe=(j=134217729*lt)-(j-lt)))-((Be=me*lt)-ae*Oe-Ee*Oe-ae*Re))),w[0]=Ne-(Se+Z)+(Z-we),Z=(Ce=_e-((Te=_e+Se)-(Z=Te-_e))+(Se-Z))-(Se=Ce-Be),w[1]=Ce-(Se+Z)+(Z-Be),Z=(st=Te+Se)-Te,w[2]=Te-(st-Z)+(Se-Z),w[3]=st;const wn=s(4,p,4,w,m);Z=(Ne=(Ee=ze-(ae=(j=134217729*ze)-(j-ze)))*(Re=pe-(Oe=(j=134217729*pe)-(j-pe)))-((_e=ze*pe)-ae*Oe-Ee*Oe-ae*Re))-(Se=Ne-(we=(Ee=ft-(ae=(j=134217729*ft)-(j-ft)))*(Re=ve-(Oe=(j=134217729*ve)-(j-ve)))-((Be=ft*ve)-ae*Oe-Ee*Oe-ae*Re))),w[0]=Ne-(Se+Z)+(Z-we),Z=(Ce=_e-((Te=_e+Se)-(Z=Te-_e))+(Se-Z))-(Se=Ce-Be),w[1]=Ce-(Se+Z)+(Z-Be),Z=(st=Te+Se)-Te,w[2]=Te-(st-Z)+(Se-Z),w[3]=st;const Ht=s(wn,m,4,w,g);Z=(Ne=(Ee=he-(ae=(j=134217729*he)-(j-he)))*(Re=pe-(Oe=(j=134217729*pe)-(j-pe)))-((_e=he*pe)-ae*Oe-Ee*Oe-ae*Re))-(Se=Ne-(we=(Ee=me-(ae=(j=134217729*me)-(j-me)))*(Re=ve-(Oe=(j=134217729*ve)-(j-ve)))-((Be=me*ve)-ae*Oe-Ee*Oe-ae*Re))),w[0]=Ne-(Se+Z)+(Z-we),Z=(Ce=_e-((Te=_e+Se)-(Z=Te-_e))+(Se-Z))-(Se=Ce-Be),w[1]=Ce-(Se+Z)+(Z-Be),Z=(st=Te+Se)-Te,w[2]=Te-(st-Z)+(Se-Z),w[3]=st;const xn=s(Ht,g,4,w,y);return y[xn-1]}(S,I,P,k,A,C,W)},n.orient2dfast=function(S,I,P,k,A,C){return(I-C)*(P-A)-(S-A)*(k-C)},Object.defineProperty(n,"__esModule",{value:!0})})})(a3,a3.exports);var Ule=a3.exports,yS=Ple,dg=Dle,qle=Fle,Hle=Ule.orient2d;dg.default&&(dg=dg.default);N6.exports=GN;N6.exports.default=GN;function GN(t,e,n){e=Math.max(0,e===void 0?2:e),n=n||0;var r=Zle(t),i=new yS(16);i.toBBox=function(k){return{minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]}},i.compareMinX=function(k,A){return k[0]-A[0]},i.compareMinY=function(k,A){return k[1]-A[1]},i.load(t);for(var s=[],a=0,l;a<r.length;a++){var c=r[a];i.remove(c),l=xS(c,l),s.push(l)}var f=new yS(16);for(a=0;a<s.length;a++)f.insert(ly(s[a]));for(var p=e*e,m=n*n;s.length;){var g=s.shift(),y=g.p,w=g.next.p,S=uy(y,w);if(!(S<m)){var I=S/p;c=Wle(i,g.prev.p,y,w,g.next.next.p,I,f),c&&Math.min(uy(c,y),uy(c,w))<=I&&(s.push(g),s.push(xS(c,g)),i.remove(c),f.remove(g),f.insert(ly(g)),f.insert(ly(g.next)))}}g=l;var P=[];do P.push(g.p),g=g.next;while(g!==l);return P.push(g.p),P}function Wle(t,e,n,r,i,s,a){for(var l=new dg([],Gle),c=t.data;c;){for(var f=0;f<c.children.length;f++){var p=c.children[f],m=c.leaf?cy(p,n,r):$le(n,r,p);m>s||l.push({node:p,dist:m})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),y=g.node,w=cy(y,e,n),S=cy(y,r,i);if(g.dist<w&&g.dist<S&&wS(n,y,a)&&wS(r,y,a))return y}c=l.pop(),c&&(c=c.node)}return null}function Gle(t,e){return t.dist-e.dist}function $le(t,e,n){if(bS(t,n)||bS(e,n))return 0;var r=D1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(r===0)return 0;var i=D1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(i===0)return 0;var s=D1(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(s===0)return 0;var a=D1(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return a===0?0:Math.min(r,i,s,a)}function bS(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function wS(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),s=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),l=n.search({minX:r,minY:i,maxX:s,maxY:a}),c=0;c<l.length;c++)if(Vle(l[c].p,l[c].next.p,t,e))return!1;return!0}function Qf(t,e,n){return Hle(t[0],t[1],e[0],e[1],n[0],n[1])}function Vle(t,e,n,r){return t!==r&&e!==n&&Qf(t,e,n)>0!=Qf(t,e,r)>0&&Qf(n,r,t)>0!=Qf(n,r,e)>0}function ly(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Zle(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var l=[e,n,r,i],c=l.slice();for(s=0;s<t.length;s++)qle(t[s],l)||c.push(t[s]);return jle(c)}function xS(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function uy(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function cy(t,e,n){var r=e[0],i=e[1],s=n[0]-r,a=n[1]-i;if(s!==0||a!==0){var l=((t[0]-r)*s+(t[1]-i)*a)/(s*s+a*a);l>1?(r=n[0],i=n[1]):l>0&&(r+=s*l,i+=a*l)}return s=t[0]-r,a=t[1]-i,s*s+a*a}function D1(t,e,n,r,i,s,a,l){var c=n-t,f=r-e,p=a-i,m=l-s,g=t-i,y=e-s,w=c*c+f*f,S=c*p+f*m,I=p*p+m*m,P=c*g+f*y,k=p*g+m*y,A=w*I-S*S,C,N,D,F,W=A,G=A;A===0?(N=0,W=1,F=k,G=I):(N=S*k-I*P,F=w*k-S*P,N<0?(N=0,F=k,G=I):N>W&&(N=W,F=k+S,G=I)),F<0?(F=0,-P<0?N=0:-P>w?N=W:(N=-P,W=w)):F>G&&(F=G,-P+S<0?N=0:-P+S>w?N=W:(N=-P+S,W=w)),C=N===0?0:N/W,D=F===0?0:F/G;var Y=(1-C)*t+C*n,V=(1-C)*e+C*r,ee=(1-D)*i+D*a,fe=(1-D)*s+D*l,le=ee-Y,ie=fe-V;return le*le+ie*ie}function Yle(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function jle(t){t.sort(Yle);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Qf(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&Qf(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}var Kle=N6.exports;const Xle=rR(Kle);function $N(t,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(Qh(t,function(i){n.push([i[0],i[1]])}),!n.length)return null;var r=Xle(n,e.concavity);return r.length>3?i3([r]):null}function Jle(t,e,n){n===void 0&&(n={});var r=Qa(t),i=Qa(e),s=Zl(i[1]-r[1]),a=Zl(i[0]-r[0]),l=Zl(r[1]),c=Zl(i[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(c);return BN(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}function VN(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return ZN(t);case"FeatureCollection":return Qle(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return L6(t);default:throw new Error("unknown GeoJSON type")}}function ZN(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=YN(t.properties),e.geometry=L6(t.geometry),e}function YN(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];typeof r=="object"?r===null?e[n]=null:Array.isArray(r)?e[n]=r.map(function(i){return i}):e[n]=YN(r):e[n]=r}),e}function Qle(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(n){return ZN(n)}),e}function L6(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(function(n){return L6(n)}),e):(e.coordinates=jN(t.coordinates),e)}function jN(t){var e=t;return typeof e[0]!="object"?e.slice():e.map(function(n){return jN(n)})}function o3(t,e){e===void 0&&(e={});var n=0,r=0,i=0;return Qh(t,function(s){n+=s[0],r+=s[1],i++},!0),Hp([n/i,r/i],e.properties)}function KN(t,e){switch(e===void 0&&(e={}),Rle(t)){case"Point":return Hp(Qa(t),e.properties);case"Polygon":var n=[];Qh(t,function(C){n.push(C)});var r=o3(t,{properties:e.properties}),i=r.geometry.coordinates,s=0,a=0,l=0,c,f,p,m,g,y,w,S,I=n.map(function(C){return[C[0]-i[0],C[1]-i[1]]});for(c=0;c<n.length-1;c++)f=I[c],m=f[0],y=f[1],p=I[c+1],g=p[0],w=p[1],S=m*w-g*y,l+=S,s+=(m+g)*S,a+=(y+w)*S;if(l===0)return r;var P=l*.5,k=1/(6*P);return Hp([i[0]+k*s,i[1]+k*a],e.properties);default:var A=$N(t);return A?KN(A,{properties:e.properties}):o3(t,{properties:e.properties})}}function eue(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return UN(t,function(n){var r,i,s,a;switch((a=n.geometry)===null||a===void 0?void 0:a.type){case"Point":e.MultiPoint.coordinates.push(n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"MultiPoint":(r=e.MultiPoint.coordinates).push.apply(r,n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"LineString":e.MultiLineString.coordinates.push(n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"MultiLineString":(i=e.MultiLineString.coordinates).push.apply(i,n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":(s=e.MultiPolygon.coordinates).push.apply(s,n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break}}),j0(Object.keys(e).filter(function(n){return e[n].coordinates.length}).sort().map(function(n){var r={type:n,coordinates:e[n].coordinates},i={collectedProperties:e[n].properties};return P6(r,i)}))}function tue(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,i=0;return UN(e,function(s,a){var l=Jle(t,s);l<r&&(i=a,r=l)}),n=VN(e.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function nue(t,e,n){n===void 0&&(n={});var r=Qa(t),i=Qa(e);i[0]+=i[0]-r[0]>180?-360:r[0]-i[0]>180?360:0;var s=rue(r,i),a=zN(s,"meters",n.units);return a}function rue(t,e,n){n=n===void 0?As:Number(n);var r=n,i=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-i,l=Math.abs(e[0]-t[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.abs(c)>1e-11?a/c:Math.cos(i),p=Math.sqrt(a*a+f*f*l*l),m=p*r;return m}var SS=6378137;function B1(t){return Ale(t,function(e,n){return e+iue(n)},0)}function iue(t){var e=0,n;switch(t.type){case"Polygon":return TS(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=TS(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function TS(t){var e=0;if(t&&t.length>0){e+=Math.abs(kS(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(kS(t[n]))}return e}function kS(t){var e,n,r,i,s,a,l,c=0,f=t.length;if(f>2){for(l=0;l<f;l++)l===f-2?(i=f-2,s=f-1,a=0):l===f-1?(i=f-1,s=0,a=1):(i=l,s=l+1,a=l+2),e=t[i],n=t[s],r=t[a],c+=(fy(r[0])-fy(e[0]))*Math.sin(fy(n[1]));c=c*SS*SS/2}return c}function fy(t){return t*Math.PI/180}function sue(t,e,n){n===void 0&&(n={});var r;n.final?r=ES(Qa(e),Qa(t)):r=ES(Qa(t),Qa(e));var i=r>180?-(360-r):r;return i}function ES(t,e){var n=Zl(t[1]),r=Zl(e[1]),i=Zl(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(i,s);return(Mle(a)+360)%360}function l3(t,e,n,r){r===void 0&&(r={});var i=e<0,s=zN(Math.abs(e),r.units,"meters");i&&(s=-Math.abs(s));var a=Qa(t),l=aue(a,s,n);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,Hp(l,r.properties)}function aue(t,e,n,r){r=r===void 0?As:Number(r);var i=e/r,s=t[0]*Math.PI/180,a=Zl(t[1]),l=Zl(n),c=i*Math.cos(l),f=a+c;Math.abs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f);var p=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),m=Math.abs(p)>1e-11?c/p:Math.cos(a),g=i*Math.sin(l)/m,y=s+g;return[(y*180/Math.PI+540)%360-180,f*180/Math.PI]}function oue(t,e,n){if(n=n||{},!FN(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(e==null||isNaN(e))throw new Error("angle is required");return e===0||(r||(r=o3(t)),(i===!1||i===void 0)&&(t=VN(t)),Qh(t,function(s){var a=sue(r,s),l=a+e,c=nue(r,s),f=Ile(l3(r,c,l));s[0]=f[0],s[1]=f[1]})),t}function lue(t,e,n,r){r=r||{};var i=r.steps||64,s=r.units||"kilometers",a=r.angle||0,l=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!FN(r))throw new Error("options must be an object");if(!I_(i))throw new Error("steps must be a number");if(!I_(a))throw new Error("angle must be a number");var f=Qa(t);if(s==="degrees")var p=Zl(a);else e=l3(t,e,90,{units:s}),n=l3(t,n,0,{units:s}),e=Qa(e)[0]-f[0],n=Qa(n)[1]-f[1];for(var m=[],g=0;g<i;g+=1){var y=g*-360/i,w=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(MS(y),2)),S=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(MS(y),2));if(y<-90&&y>=-270&&(w=-w),y<-180&&y>=-360&&(S=-S),s==="degrees"){var I=w*Math.cos(p)+S*Math.sin(p),P=S*Math.cos(p)-w*Math.sin(p);w=I,S=P}m.push([w+f[0],S+f[1]])}return m.push(m[0]),s==="degrees"?i3([m],c):oue(i3([m],c),a,{pivot:l})}function MS(t){var e=t*Math.PI/180;return Math.tan(e)}function uue(t){let e,n,r=(t[0]==null?"...":t[0].length)+"",i,s,a,l,c,f=(t[1]==null?"...":t[1].type)+"",p,m,g,y;return{c(){e=K("button"),n=Ie("gainloss : "),i=Ie(r),a=ge(),l=K("button"),c=Ie("exclusionzone : "),p=Ie(f),H(e,"class",s="ui button small "+(t[0]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''"),H(l,"class",m="ui button small "+(t[1]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(w,S){vt(w,e,S),R(e,n),R(e,i),vt(w,a,S),vt(w,l,S),R(l,c),R(l,p),g||(y=[je(e,"click",t[7]),je(l,"click",t[8])],g=!0)},p(w,[S]){S&1&&r!==(r=(w[0]==null?"...":w[0].length)+"")&&bt(i,r),S&9&&s!==(s="ui button small "+(w[0]==null?"orange  ":"green")+" "+(w[3]!=null)+"?'loading':''")&&H(e,"class",s),S&2&&f!==(f=(w[1]==null?"...":w[1].type)+"")&&bt(p,f),S&10&&m!==(m="ui button small "+(w[1]==null?"orange  ":"green")+" "+(w[3]!=null)+"?'loading':''")&&H(l,"class",m)},i:Rn,o:Rn,d(w){w&&ht(e),w&&ht(a),w&&ht(l),g=!1,al(y)}}}let CS="/fss/",cue=24;function fue(t,e,n){let r;qc(t,Sf,C=>n(3,r=C));let{gainloss:i}=e,{exclusionzone:s}=e,{logger:a=null}=e;nh(()=>{});let l={gainloss:{localpath:"/common/LossesPerElevation@1.csv",fspath:"/LossesPerElevation@1.csv",type:"csv"},exclusionzone:{localpath:"/common/emptyspaceschina.geojson",fspath:"/emptyspaceschina.geojson",type:"json"}};console.log("gainloss : FilePaths",l);let c,f=cue,p=[0,5,10,15,20,30,60,90],m=[32,28,24,24,20,18,17,17],g=[],y=Ck().thresholds(p);function w(C){if(i==null)return;n(6,m=C),g=[];let N=i,D=y.value(F=>F.el)(N);console.log("updateEIRPmask: MASK BINS ",D),D.forEach((F,W)=>{let G=10*Math.log10(up(F,Y=>Math.pow(10,Y.UrbanAg/10)));F.meanAg=G,F.EIRPmask=m[W],g.push(F.meanAg+f),F.forEach(Y=>{Y.UrbanOffset=m[W]-Y.UrbanAg-f,Y.SubUrbanOffset=m[W]-Y.SubUrbanAg-f,Y.MeanAg=F.meanAg,Y.MaskOffset=F.EIRPmask-F.meanAg-f,Y.EIRPMask=F.EIRPmask,Y.MaskBINid=W,N[Y.el]=Y})}),n(0,i=N)}function S(C,N){if(i==null)return;c=c||C.clientWidth;const D=Qo({width:c,marks:[Ou(i,{y:G=>G.UrbanAg,x:"el",title:G=>`${G.UrbanAg.toFixed(1)}dB @ ${G.el}`,stroke:G=>"Urban"}),Ou(i,{y:G=>G.SubUrbanAg,x:"el",title:G=>`${G.SubUrbanAg.toFixed(1)}dB @ ${G.el}`,stroke:G=>"SubUrban"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:G=>Math.floor(G)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"BS/sector Antenna Gain"}}),F=Qo({width:c,marks:[Ou(i,{y:G=>G.UrbanAg+f,x:"el",title:G=>`${(G.UrbanAg+f).toFixed(1)}dB @ ${G.el}`,stroke:G=>"Urban"}),Ou(i,{y:G=>G.SubUrbanAg+f,x:"el",title:G=>`${(G.SubUrbanAg+f).toFixed(1)}dB @ ${G.el}`,stroke:G=>"SubUrban"}),Ou(m,{x:p,y:m,marker:"circle",strokeWidth:2,title:(G,Y)=>`Max Avg EIRP ${G.toFixed(1)} (${(G-g[Y]).toFixed(1)}) dBm/MHz`,tip:!0,curve:"step-after"}),Ou(g,{x:p,y:g,marker:"circle",stroke:"grey",strokeWidth:2,tip:!0,strokeDasharray:[3,2],title:G=>"Max Avg EIRP "+G.toFixed(1)+"dBm/MHz",curve:"step-after"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:G=>Math.floor(G)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"Avg EIRP@Angle (dBm/MHz)"}});let W=Fn(C).selectAll("figure");W.empty()||W.remove(),D.id="p4",C.append(D),C.append(F)}async function I(C){let N="Path Error "+C,D=l[C];{if(r!=null)N=await LN(CS+D.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",CS)}return N}async function P(C){return console.log("loadGainLoss..started ",C),I(C).then(N=>{switch(C){case"gainloss":var D=bE(N,Ag);D.then(W=>{var G=W.map(V=>({el:+V["Elev angle"],UrbanAg:V.UrbanAg,SubUrbanAg:V.SubUrbanAg,GL:V["Gas loss"],CL:-V["Clutter gain"],PL:V["Propagation loss"]}));let Y=y.value(V=>V.el)(G);return console.log("My Bins for MASK is ",Y),Y.forEach((V,ee)=>{let fe=10*Math.log10(up(V,le=>Math.pow(10,le.UrbanAg/10)));V.meanAg=fe,V.EIRPmask=m[ee],g.push(V.meanAg+f),V.forEach(le=>{le.UrbanOffset=m[ee]-le.UrbanAg-f,le.SubUrbanOffset=m[ee]-le.SubUrbanAg-f,le.MeanAg=V.meanAg,le.MaskOffset=V.EIRPmask-V.meanAg-f,le.EIRPMask=V.EIRPmask,le.MaskBINid=ee,G[le.el]=le})}),n(0,i=G),G}),a.showStatus("gainloss",D);break;case"exclusionzone":var F=rg(N,Ag);F.then(W=>(n(1,s=W),console.log("exclusion ZONES found",s),W)),a.showStatus("exclusionzone",F);break}}).catch(N=>{a!=null&&a.appendNode("gainloss",N.toString())}),console.log("loadGainLoss..done..."),""}const k=()=>{a.queueNode("gainloss",i)},A=()=>{a.queueNode("exclusionzone",s)};return t.$$set=C=>{"gainloss"in C&&n(0,i=C.gainloss),"exclusionzone"in C&&n(1,s=C.exclusionzone),"logger"in C&&n(2,a=C.logger)},t.$$.update=()=>{t.$$.dirty&8&&(r!=null?(console.log("must be running again gainloss",r),P("gainloss"),P("exclusionzone")):(console.log("DEVELMODE gainloss"),P("gainloss"),P("exclusionzone"))),t.$$.dirty&64&&console.log("Mask vals changed",m)},[i,s,a,r,w,S,m,k,A]}class hue extends sc{constructor(e){super(),ic(this,e,fue,uue,eo,{gainloss:0,exclusionzone:1,logger:2,updateEIRPmask:4,showGainLoss:5})}get updateEIRPmask(){return this.$$.ctx[4]}get showGainLoss(){return this.$$.ctx[5]}}var R_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */R_.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,g=2,y=4,w=1,S=2,I=1,P=2,k=4,A=8,C=16,N=32,D=64,F=128,W=256,G=512,Y=30,V="...",ee=800,fe=16,le=1,ie=2,he=3,me=1/0,ve=9007199254740991,pe=17976931348623157e292,Z=0/0,j=4294967295,ae=j-1,Ee=j>>>1,Oe=[["ary",F],["bind",I],["bindKey",P],["curry",A],["curryRight",C],["flip",G],["partial",N],["partialRight",D],["rearg",W]],Re="[object Arguments]",Se="[object Array]",Te="[object AsyncFunction]",Ce="[object Boolean]",_e="[object Date]",Ne="[object DOMException]",Be="[object Error]",we="[object Function]",st="[object GeneratorFunction]",ze="[object Map]",lt="[object Number]",ft="[object Null]",et="[object Object]",kt="[object Promise]",tt="[object Proxy]",wn="[object RegExp]",Ht="[object Set]",xn="[object String]",Qn="[object Symbol]",Bn="[object Undefined]",$n="[object WeakMap]",at="[object WeakSet]",jt="[object ArrayBuffer]",Vn="[object DataView]",er="[object Float32Array]",pi="[object Float64Array]",rr="[object Int8Array]",tr="[object Int16Array]",Lr="[object Int32Array]",Kn="[object Uint8Array]",mt="[object Uint8ClampedArray]",an="[object Uint16Array]",Ir="[object Uint32Array]",fa=/\b__p \+= '';/g,Rr=/\b(__p \+=) '' \+/g,ha=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mi=/&(?:amp|lt|gt|quot|#39);/g,An=/[&<>"']/g,Qi=RegExp(mi.source),Ut=RegExp(An.source),Ri=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,Sr=/<%=([\s\S]+?)%>/g,ps=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bs=/^\w*$/,da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ii=/[\\^$.*+?()[\]{}|]/g,gi=RegExp(ii.source),ms=/^\s+/,pr=/\s/,rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tr=/\{\n\/\* \[wrapped with (.+)\] \*/,gs=/,? & /,Or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dr=/[()=,{}\[\]\/\s]/,kr=/\\(\\)?/g,zs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pn=/\w*$/,_s=/^[-+]0x[0-9a-f]+$/i,_i=/^0b[01]+$/i,es=/^\[object .+?Constructor\]$/,ts=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pa=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,si="\\ud800-\\udfff",Vr="\\u0300-\\u036f",ys="\\ufe20-\\ufe2f",Pi="\\u20d0-\\u20ff",Ni=Vr+ys+Pi,Br="\\u2700-\\u27bf",Wt="a-z\\xdf-\\xf6\\xf8-\\xff",wi="\\xac\\xb1\\xd7\\xf7",bs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vi="\\u2000-\\u206f",Kt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="A-Z\\xc0-\\xd6\\xd8-\\xde",mn="\\ufe0e\\ufe0f",Li=wi+bs+vi+Kt,zr="['’]",ur="["+si+"]",pt="["+Li+"]",on="["+Ni+"]",ir="\\d+",Oi="["+Br+"]",Sn="["+Wt+"]",ws="[^"+si+Li+ir+Br+Wt+Qt+"]",nr="\\ud83c[\\udffb-\\udfff]",Er="(?:"+on+"|"+nr+")",Vt="[^"+si+"]",Mr="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",ai="["+Qt+"]",Fr="\\u200d",Ge="(?:"+Sn+"|"+ws+")",ut="(?:"+ai+"|"+ws+")",cn="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",Ke="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",cr=Er+"?",Oo="["+mn+"]?",Do="(?:"+Fr+"(?:"+[Vt,Mr,Yn].join("|")+")"+Oo+cr+")*",Fs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bo=Oo+cr+Do,Et="(?:"+[Oi,Mr,Yn].join("|")+")"+Bo,oi="(?:"+[Vt+on+"?",on,Mr,Yn,ur].join("|")+")",fn=RegExp(zr,"g"),hl=RegExp(on,"g"),io=RegExp(nr+"(?="+nr+")|"+oi+Bo,"g"),Zr=RegExp([ai+"?"+Sn+"+"+cn+"(?="+[pt,ai,"$"].join("|")+")",ut+"+"+Ke+"(?="+[pt,ai+Ge,"$"].join("|")+")",ai+"?"+Ge+"+"+cn,ai+"+"+Ke,fl,Fs,ir,Et].join("|"),"g"),Us=RegExp("["+Fr+si+Ni+mn+"]"),qs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ma=-1,Bt={};Bt[er]=Bt[pi]=Bt[rr]=Bt[tr]=Bt[Lr]=Bt[Kn]=Bt[mt]=Bt[an]=Bt[Ir]=!0,Bt[Re]=Bt[Se]=Bt[jt]=Bt[Ce]=Bt[Vn]=Bt[_e]=Bt[Be]=Bt[we]=Bt[ze]=Bt[lt]=Bt[et]=Bt[wn]=Bt[Ht]=Bt[xn]=Bt[$n]=!1;var en={};en[Re]=en[Se]=en[jt]=en[Vn]=en[Ce]=en[_e]=en[er]=en[pi]=en[rr]=en[tr]=en[Lr]=en[ze]=en[lt]=en[et]=en[wn]=en[Ht]=en[xn]=en[Qn]=en[Kn]=en[mt]=en[an]=en[Ir]=!0,en[Be]=en[we]=en[$n]=!1;var cu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},so=parseFloat,ml=parseInt,gl=typeof Nc=="object"&&Nc&&Nc.Object===Object&&Nc,At=typeof self=="object"&&self&&self.Object===Object&&self,gr=gl||At||Function("return this")(),Yr=e&&!e.nodeType&&e,Di=Yr&&!0&&t&&!t.nodeType&&t,_l=Di&&Di.exports===Yr,vl=_l&&gl.process,Cr=function(){try{var ue=Di&&Di.require&&Di.require("util").types;return ue||vl&&vl.binding&&vl.binding("util")}catch{}}(),re=Cr&&Cr.isArrayBuffer,Me=Cr&&Cr.isDate,Ue=Cr&&Cr.isMap,$e=Cr&&Cr.isRegExp,xt=Cr&&Cr.isSet,yt=Cr&&Cr.isTypedArray;function St(ue,ke,xe){switch(xe.length){case 0:return ue.call(ke);case 1:return ue.call(ke,xe[0]);case 2:return ue.call(ke,xe[0],xe[1]);case 3:return ue.call(ke,xe[0],xe[1],xe[2])}return ue.apply(ke,xe)}function zn(ue,ke,xe,Ze){for(var Nt=-1,dn=ue==null?0:ue.length;++Nt<dn;){var Pr=ue[Nt];ke(Ze,Pr,xe(Pr),ue)}return Ze}function In(ue,ke){for(var xe=-1,Ze=ue==null?0:ue.length;++xe<Ze&&ke(ue[xe],xe,ue)!==!1;);return ue}function Tt(ue,ke){for(var xe=ue==null?0:ue.length;xe--&&ke(ue[xe],xe,ue)!==!1;);return ue}function Mn(ue,ke){for(var xe=-1,Ze=ue==null?0:ue.length;++xe<Ze;)if(!ke(ue[xe],xe,ue))return!1;return!0}function hn(ue,ke){for(var xe=-1,Ze=ue==null?0:ue.length,Nt=0,dn=[];++xe<Ze;){var Pr=ue[xe];ke(Pr,xe,ue)&&(dn[Nt++]=Pr)}return dn}function ln(ue,ke){var xe=ue==null?0:ue.length;return!!xe&&qa(ue,ke,0)>-1}function xs(ue,ke,xe){for(var Ze=-1,Nt=ue==null?0:ue.length;++Ze<Nt;)if(xe(ke,ue[Ze]))return!0;return!1}function Tn(ue,ke){for(var xe=-1,Ze=ue==null?0:ue.length,Nt=Array(Ze);++xe<Ze;)Nt[xe]=ke(ue[xe],xe,ue);return Nt}function Ss(ue,ke){for(var xe=-1,Ze=ke.length,Nt=ue.length;++xe<Ze;)ue[Nt+xe]=ke[xe];return ue}function yl(ue,ke,xe,Ze){var Nt=-1,dn=ue==null?0:ue.length;for(Ze&&dn&&(xe=ue[++Nt]);++Nt<dn;)xe=ke(xe,ue[Nt],Nt,ue);return xe}function ga(ue,ke,xe,Ze){var Nt=ue==null?0:ue.length;for(Ze&&Nt&&(xe=ue[--Nt]);Nt--;)xe=ke(xe,ue[Nt],Nt,ue);return xe}function bl(ue,ke){for(var xe=-1,Ze=ue==null?0:ue.length;++xe<Ze;)if(ke(ue[xe],xe,ue))return!0;return!1}var _a=Si("length");function d0(ue){return ue.split("")}function wl(ue){return ue.match(Or)||[]}function xl(ue,ke,xe){var Ze;return xe(ue,function(Nt,dn,Pr){if(ke(Nt,dn,Pr))return Ze=dn,!1}),Ze}function li(ue,ke,xe,Ze){for(var Nt=ue.length,dn=xe+(Ze?1:-1);Ze?dn--:++dn<Nt;)if(ke(ue[dn],dn,ue))return dn;return-1}function qa(ue,ke,xe){return ke===ke?Ti(ue,ke,xe):li(ue,Bi,xe)}function Sl(ue,ke,xe,Ze){for(var Nt=xe-1,dn=ue.length;++Nt<dn;)if(Ze(ue[Nt],ke))return Nt;return-1}function Bi(ue){return ue!==ue}function hc(ue,ke){var xe=ue==null?0:ue.length;return xe?dc(ue,ke)/xe:Z}function Si(ue){return function(ke){return ke==null?n:ke[ue]}}function va(ue){return function(ke){return ue==null?n:ue[ke]}}function Ar(ue,ke,xe,Ze,Nt){return Nt(ue,function(dn,Pr,kn){xe=Ze?(Ze=!1,dn):ke(xe,dn,Pr,kn)}),xe}function ao(ue,ke){var xe=ue.length;for(ue.sort(ke);xe--;)ue[xe]=ue[xe].value;return ue}function dc(ue,ke){for(var xe,Ze=-1,Nt=ue.length;++Ze<Nt;){var dn=ke(ue[Ze]);dn!==n&&(xe=xe===n?dn:xe+dn)}return xe}function Tl(ue,ke){for(var xe=-1,Ze=Array(ue);++xe<ue;)Ze[xe]=ke(xe);return Ze}function p0(ue,ke){return Tn(ke,function(xe){return[xe,ue[xe]]})}function oo(ue){return ue&&ue.slice(0,mc(ue)+1).replace(ms,"")}function Nn(ue){return function(ke){return ue(ke)}}function Ha(ue,ke){return Tn(ke,function(xe){return ue[xe]})}function lo(ue,ke){return ue.has(ke)}function ns(ue,ke){for(var xe=-1,Ze=ue.length;++xe<Ze&&qa(ke,ue[xe],0)>-1;);return xe}function m0(ue,ke){for(var xe=ue.length;xe--&&qa(ke,ue[xe],0)>-1;);return xe}function Hs(ue,ke){for(var xe=ue.length,Ze=0;xe--;)ue[xe]===ke&&++Ze;return Ze}var pc=va(cu),kl=va(pl);function uo(ue){return"\\"+xi[ue]}function fu(ue,ke){return ue==null?n:ue[ke]}function ya(ue){return Us.test(ue)}function Wa(ue){return qs.test(ue)}function hu(ue){for(var ke,xe=[];!(ke=ue.next()).done;)xe.push(ke.value);return xe}function co(ue){var ke=-1,xe=Array(ue.size);return ue.forEach(function(Ze,Nt){xe[++ke]=[Nt,Ze]}),xe}function zo(ue,ke){return function(xe){return ue(ke(xe))}}function Ga(ue,ke){for(var xe=-1,Ze=ue.length,Nt=0,dn=[];++xe<Ze;){var Pr=ue[xe];(Pr===ke||Pr===p)&&(ue[xe]=p,dn[Nt++]=xe)}return dn}function zi(ue){var ke=-1,xe=Array(ue.size);return ue.forEach(function(Ze){xe[++ke]=Ze}),xe}function kf(ue){var ke=-1,xe=Array(ue.size);return ue.forEach(function(Ze){xe[++ke]=[Ze,Ze]}),xe}function Ti(ue,ke,xe){for(var Ze=xe-1,Nt=ue.length;++Ze<Nt;)if(ue[Ze]===ke)return Ze;return-1}function Ef(ue,ke,xe){for(var Ze=xe+1;Ze--;)if(ue[Ze]===ke)return Ze;return Ze}function Ur(ue){return ya(ue)?pu(ue):_a(ue)}function ui(ue){return ya(ue)?Ts(ue):d0(ue)}function mc(ue){for(var ke=ue.length;ke--&&pr.test(ue.charAt(ke)););return ke}var du=va(fc);function pu(ue){for(var ke=io.lastIndex=0;io.test(ue);)++ke;return ke}function Ts(ue){return ue.match(io)||[]}function mu(ue){return ue.match(Zr)||[]}var Ws=function ue(ke){ke=ke==null?gr:ks.defaults(gr.Object(),ke,ks.pick(gr,dl));var xe=ke.Array,Ze=ke.Date,Nt=ke.Error,dn=ke.Function,Pr=ke.Math,kn=ke.Object,gc=ke.RegExp,_r=ke.String,ci=ke.TypeError,El=xe.prototype,Ml=dn.prototype,fo=kn.prototype,Fo=ke["__core-js_shared__"],gu=Ml.toString,gn=fo.hasOwnProperty,Cl=0,ba=function(){var u=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Al=fo.toString,wa=gu.call(kn),g0=gr._,Gs=gc("^"+gu.call(gn).replace(ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Il=_l?ke.Buffer:n,Fi=ke.Symbol,$s=ke.Uint8Array,_0=Il?Il.allocUnsafe:n,$a=zo(kn.getPrototypeOf,kn),Uo=kn.create,Ui=fo.propertyIsEnumerable,ho=El.splice,v0=Fi?Fi.isConcatSpreadable:n,xa=Fi?Fi.iterator:n,Va=Fi?Fi.toStringTag:n,Es=function(){try{var u=T0(kn,"defineProperty");return u({},"",{}),u}catch{}}(),y0=ke.clearTimeout!==gr.clearTimeout&&ke.clearTimeout,_u=Ze&&Ze.now!==gr.Date.now&&Ze.now,b0=ke.setTimeout!==gr.setTimeout&&ke.setTimeout,po=Pr.ceil,Rl=Pr.floor,rs=kn.getOwnPropertySymbols,o=Il?Il.isBuffer:n,h=ke.isFinite,_=El.join,b=zo(kn.keys,kn),E=Pr.max,z=Pr.min,te=Ze.now,de=ke.parseInt,be=Pr.random,Ae=El.reverse,Xe=T0(ke,"DataView"),_t=T0(ke,"Map"),Gt=T0(ke,"Promise"),sr=T0(ke,"Set"),ct=T0(ke,"WeakMap"),jr=T0(kn,"create"),Kr=ct&&new ct,Vs={},nd=k0(Xe),rd=k0(_t),id=k0(Gt),Mf=k0(sr),sd=k0(ct),vu=Fi?Fi.prototype:n,ar=vu?vu.valueOf:n,yu=vu?vu.toString:n;function U(u){if(Jr(u)&&!Zt(u)&&!(u instanceof tn)){if(u instanceof qi)return u;if(gn.call(u,"__wrapped__"))return l8(u)}return new qi(u)}var Pl=function(){function u(){}return function(d){if(!qr(d))return{};if(Uo)return Uo(d);u.prototype=d;var v=new u;return u.prototype=n,v}}();function _c(){}function qi(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}U.templateSettings={escape:Ri,evaluate:Ua,interpolate:Sr,variable:"",imports:{_:U}},U.prototype=_c.prototype,U.prototype.constructor=U,qi.prototype=Pl(_c.prototype),qi.prototype.constructor=qi;function tn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function ad(){var u=new tn(this.__wrapped__);return u.__actions__=Ta(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ta(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ta(this.__views__),u}function nv(){if(this.__filtered__){var u=new tn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function ki(){var u=this.__wrapped__.value(),d=this.__dir__,v=Zt(u),T=d<0,O=v?u.length:0,$=tD(0,O,this.__views__),J=$.start,se=$.end,ce=se-J,Pe=T?se:J-1,Le=this.__iteratees__,Fe=Le.length,Je=0,gt=z(ce,this.__takeCount__);if(!v||!T&&O==ce&&gt==ce)return R7(u,this.__actions__);var Rt=[];e:for(;ce--&&Je<gt;){Pe+=d;for(var un=-1,Pt=u[Pe];++un<Fe;){var yn=Le[un],Cn=yn.iteratee,ja=yn.type,Ks=Cn(Pt);if(ja==ie)Pt=Ks;else if(!Ks){if(ja==le)continue e;break e}}Rt[Je++]=Pt}return Rt}tn.prototype=Pl(_c.prototype),tn.prototype.constructor=tn;function Xr(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function qo(){this.__data__=jr?jr(null):{},this.size=0}function is(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function ss(u){var d=this.__data__;if(jr){var v=d[u];return v===c?n:v}return gn.call(d,u)?d[u]:n}function rv(u){var d=this.__data__;return jr?d[u]!==n:gn.call(d,u)}function Fm(u,d){var v=this.__data__;return this.size+=this.has(u)?0:1,v[u]=jr&&d===n?c:d,this}Xr.prototype.clear=qo,Xr.prototype.delete=is,Xr.prototype.get=ss,Xr.prototype.has=rv,Xr.prototype.set=Fm;function Ho(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function Um(){this.__data__=[],this.size=0}function Nl(u){var d=this.__data__,v=w0(d,u);if(v<0)return!1;var T=d.length-1;return v==T?d.pop():ho.call(d,v,1),--this.size,!0}function iv(u){var d=this.__data__,v=w0(d,u);return v<0?n:d[v][1]}function sv(u){return w0(this.__data__,u)>-1}function av(u,d){var v=this.__data__,T=w0(v,u);return T<0?(++this.size,v.push([u,d])):v[T][1]=d,this}Ho.prototype.clear=Um,Ho.prototype.delete=Nl,Ho.prototype.get=iv,Ho.prototype.has=sv,Ho.prototype.set=av;function Wo(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function ov(){this.size=0,this.__data__={hash:new Xr,map:new(_t||Ho),string:new Xr}}function vc(u){var d=Qm(this,u).delete(u);return this.size-=d?1:0,d}function lv(u){return Qm(this,u).get(u)}function uv(u){return Qm(this,u).has(u)}function od(u,d){var v=Qm(this,u),T=v.size;return v.set(u,d),this.size+=v.size==T?0:1,this}Wo.prototype.clear=ov,Wo.prototype.delete=vc,Wo.prototype.get=lv,Wo.prototype.has=uv,Wo.prototype.set=od;function bu(u){var d=-1,v=u==null?0:u.length;for(this.__data__=new Wo;++d<v;)this.add(u[d])}function cv(u){return this.__data__.set(u,c),this}function fv(u){return this.__data__.has(u)}bu.prototype.add=bu.prototype.push=cv,bu.prototype.has=fv;function Ms(u){var d=this.__data__=new Ho(u);this.size=d.size}function hv(){this.__data__=new Ho,this.size=0}function dv(u){var d=this.__data__,v=d.delete(u);return this.size=d.size,v}function pv(u){return this.__data__.get(u)}function Cf(u){return this.__data__.has(u)}function mv(u,d){var v=this.__data__;if(v instanceof Ho){var T=v.__data__;if(!_t||T.length<i-1)return T.push([u,d]),this.size=++v.size,this;v=this.__data__=new Wo(T)}return v.set(u,d),this.size=v.size,this}Ms.prototype.clear=hv,Ms.prototype.delete=dv,Ms.prototype.get=pv,Ms.prototype.has=Cf,Ms.prototype.set=mv;function qm(u,d){var v=Zt(u),T=!v&&E0(u),O=!v&&!T&&Tc(u),$=!v&&!T&&!O&&Lf(u),J=v||T||O||$,se=J?Tl(u.length,_r):[],ce=se.length;for(var Pe in u)(d||gn.call(u,Pe))&&!(J&&(Pe=="length"||O&&(Pe=="offset"||Pe=="parent")||$&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Su(Pe,ce)))&&se.push(Pe);return se}function Af(u){var d=u.length;return d?u[Tv(0,d-1)]:n}function ne(u,d){return e1(Ta(u),yi(d,0,u.length))}function De(u){return e1(Ta(u))}function vr(u,d,v){(v!==n&&!Go(u[d],v)||v===n&&!(d in u))&&Sa(u,d,v)}function yc(u,d,v){var T=u[d];(!(gn.call(u,d)&&Go(T,v))||v===n&&!(d in u))&&Sa(u,d,v)}function w0(u,d){for(var v=u.length;v--;)if(Go(u[v][0],d))return v;return-1}function Ll(u,d,v,T){return bc(u,function(O,$,J){d(T,O,v(O),J)}),T}function as(u,d){return u&&Dl(d,Hi(d),u)}function If(u,d){return u&&Dl(d,Ea(d),u)}function Sa(u,d,v){d=="__proto__"&&Es?Es(u,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):u[d]=v}function x0(u,d){for(var v=-1,T=d.length,O=xe(T),$=u==null;++v<T;)O[v]=$?n:jv(u,d[v]);return O}function yi(u,d,v){return u===u&&(v!==n&&(u=u<=v?u:v),d!==n&&(u=u>=d?u:d)),u}function Zs(u,d,v,T,O,$){var J,se=d&m,ce=d&g,Pe=d&y;if(v&&(J=O?v(u,T,O,$):v(u)),J!==n)return J;if(!qr(u))return u;var Le=Zt(u);if(Le){if(J=rD(u),!se)return Ta(u,J)}else{var Fe=Cs(u),Je=Fe==we||Fe==st;if(Tc(u))return L7(u,se);if(Fe==et||Fe==Re||Je&&!O){if(J=ce||Je?{}:Q7(u),!se)return ce?VO(u,If(J,u)):$O(u,as(J,u))}else{if(!en[Fe])return O?u:{};J=iD(u,Fe,se)}}$||($=new Ms);var gt=$.get(u);if(gt)return gt;$.set(u,J),C8(u)?u.forEach(function(Pt){J.add(Zs(Pt,d,v,Pt,u,$))}):E8(u)&&u.forEach(function(Pt,yn){J.set(yn,Zs(Pt,d,v,yn,u,$))});var Rt=Pe?ce?Ov:Lv:ce?Ea:Hi,un=Le?n:Rt(u);return In(un||u,function(Pt,yn){un&&(yn=Pt,Pt=u[yn]),yc(J,yn,Zs(Pt,d,v,yn,u,$))}),J}function gO(u){var d=Hi(u);return function(v){return f7(v,u,d)}}function f7(u,d,v){var T=v.length;if(u==null)return!T;for(u=kn(u);T--;){var O=v[T],$=d[O],J=u[O];if(J===n&&!(O in u)||!$(J))return!1}return!0}function h7(u,d,v){if(typeof u!="function")throw new ci(a);return pd(function(){u.apply(n,v)},d)}function ld(u,d,v,T){var O=-1,$=ln,J=!0,se=u.length,ce=[],Pe=d.length;if(!se)return ce;v&&(d=Tn(d,Nn(v))),T?($=xs,J=!1):d.length>=i&&($=lo,J=!1,d=new bu(d));e:for(;++O<se;){var Le=u[O],Fe=v==null?Le:v(Le);if(Le=T||Le!==0?Le:0,J&&Fe===Fe){for(var Je=Pe;Je--;)if(d[Je]===Fe)continue e;ce.push(Le)}else $(d,Fe,T)||ce.push(Le)}return ce}var bc=F7(Ol),d7=F7(_v,!0);function _O(u,d){var v=!0;return bc(u,function(T,O,$){return v=!!d(T,O,$),v}),v}function Hm(u,d,v){for(var T=-1,O=u.length;++T<O;){var $=u[T],J=d($);if(J!=null&&(se===n?J===J&&!Ya(J):v(J,se)))var se=J,ce=$}return ce}function vO(u,d,v,T){var O=u.length;for(v=nn(v),v<0&&(v=-v>O?0:O+v),T=T===n||T>O?O:nn(T),T<0&&(T+=O),T=v>T?0:I8(T);v<T;)u[v++]=d;return u}function p7(u,d){var v=[];return bc(u,function(T,O,$){d(T,O,$)&&v.push(T)}),v}function os(u,d,v,T,O){var $=-1,J=u.length;for(v||(v=aD),O||(O=[]);++$<J;){var se=u[$];d>0&&v(se)?d>1?os(se,d-1,v,T,O):Ss(O,se):T||(O[O.length]=se)}return O}var gv=U7(),m7=U7(!0);function Ol(u,d){return u&&gv(u,d,Hi)}function _v(u,d){return u&&m7(u,d,Hi)}function Wm(u,d){return hn(d,function(v){return Tu(u[v])})}function S0(u,d){d=xc(d,u);for(var v=0,T=d.length;u!=null&&v<T;)u=u[Bl(d[v++])];return v&&v==T?u:n}function g7(u,d,v){var T=d(u);return Zt(u)?T:Ss(T,v(u))}function Ys(u){return u==null?u===n?Bn:ft:Va&&Va in kn(u)?eD(u):dD(u)}function vv(u,d){return u>d}function yO(u,d){return u!=null&&gn.call(u,d)}function bO(u,d){return u!=null&&d in kn(u)}function wO(u,d,v){return u>=z(d,v)&&u<E(d,v)}function yv(u,d,v){for(var T=v?xs:ln,O=u[0].length,$=u.length,J=$,se=xe($),ce=1/0,Pe=[];J--;){var Le=u[J];J&&d&&(Le=Tn(Le,Nn(d))),ce=z(Le.length,ce),se[J]=!v&&(d||O>=120&&Le.length>=120)?new bu(J&&Le):n}Le=u[0];var Fe=-1,Je=se[0];e:for(;++Fe<O&&Pe.length<ce;){var gt=Le[Fe],Rt=d?d(gt):gt;if(gt=v||gt!==0?gt:0,!(Je?lo(Je,Rt):T(Pe,Rt,v))){for(J=$;--J;){var un=se[J];if(!(un?lo(un,Rt):T(u[J],Rt,v)))continue e}Je&&Je.push(Rt),Pe.push(gt)}}return Pe}function xO(u,d,v,T){return Ol(u,function(O,$,J){d(T,v(O),$,J)}),T}function ud(u,d,v){d=xc(d,u),u=r8(u,d);var T=u==null?u:u[Bl(go(d))];return T==null?n:St(T,u,v)}function _7(u){return Jr(u)&&Ys(u)==Re}function SO(u){return Jr(u)&&Ys(u)==jt}function TO(u){return Jr(u)&&Ys(u)==_e}function cd(u,d,v,T,O){return u===d?!0:u==null||d==null||!Jr(u)&&!Jr(d)?u!==u&&d!==d:kO(u,d,v,T,cd,O)}function kO(u,d,v,T,O,$){var J=Zt(u),se=Zt(d),ce=J?Se:Cs(u),Pe=se?Se:Cs(d);ce=ce==Re?et:ce,Pe=Pe==Re?et:Pe;var Le=ce==et,Fe=Pe==et,Je=ce==Pe;if(Je&&Tc(u)){if(!Tc(d))return!1;J=!0,Le=!1}if(Je&&!Le)return $||($=new Ms),J||Lf(u)?K7(u,d,v,T,O,$):JO(u,d,ce,v,T,O,$);if(!(v&w)){var gt=Le&&gn.call(u,"__wrapped__"),Rt=Fe&&gn.call(d,"__wrapped__");if(gt||Rt){var un=gt?u.value():u,Pt=Rt?d.value():d;return $||($=new Ms),O(un,Pt,v,T,$)}}return Je?($||($=new Ms),QO(u,d,v,T,O,$)):!1}function EO(u){return Jr(u)&&Cs(u)==ze}function bv(u,d,v,T){var O=v.length,$=O,J=!T;if(u==null)return!$;for(u=kn(u);O--;){var se=v[O];if(J&&se[2]?se[1]!==u[se[0]]:!(se[0]in u))return!1}for(;++O<$;){se=v[O];var ce=se[0],Pe=u[ce],Le=se[1];if(J&&se[2]){if(Pe===n&&!(ce in u))return!1}else{var Fe=new Ms;if(T)var Je=T(Pe,Le,ce,u,d,Fe);if(!(Je===n?cd(Le,Pe,w|S,T,Fe):Je))return!1}}return!0}function v7(u){if(!qr(u)||lD(u))return!1;var d=Tu(u)?Gs:es;return d.test(k0(u))}function MO(u){return Jr(u)&&Ys(u)==wn}function CO(u){return Jr(u)&&Cs(u)==Ht}function AO(u){return Jr(u)&&a1(u.length)&&!!Bt[Ys(u)]}function y7(u){return typeof u=="function"?u:u==null?Ma:typeof u=="object"?Zt(u)?x7(u[0],u[1]):w7(u):q8(u)}function wv(u){if(!dd(u))return b(u);var d=[];for(var v in kn(u))gn.call(u,v)&&v!="constructor"&&d.push(v);return d}function IO(u){if(!qr(u))return hD(u);var d=dd(u),v=[];for(var T in u)T=="constructor"&&(d||!gn.call(u,T))||v.push(T);return v}function xv(u,d){return u<d}function b7(u,d){var v=-1,T=ka(u)?xe(u.length):[];return bc(u,function(O,$,J){T[++v]=d(O,$,J)}),T}function w7(u){var d=Bv(u);return d.length==1&&d[0][2]?t8(d[0][0],d[0][1]):function(v){return v===u||bv(v,u,d)}}function x7(u,d){return Fv(u)&&e8(d)?t8(Bl(u),d):function(v){var T=jv(v,u);return T===n&&T===d?Kv(v,u):cd(d,T,w|S)}}function Gm(u,d,v,T,O){u!==d&&gv(d,function($,J){if(O||(O=new Ms),qr($))RO(u,d,J,v,Gm,T,O);else{var se=T?T(qv(u,J),$,J+"",u,d,O):n;se===n&&(se=$),vr(u,J,se)}},Ea)}function RO(u,d,v,T,O,$,J){var se=qv(u,v),ce=qv(d,v),Pe=J.get(ce);if(Pe){vr(u,v,Pe);return}var Le=$?$(se,ce,v+"",u,d,J):n,Fe=Le===n;if(Fe){var Je=Zt(ce),gt=!Je&&Tc(ce),Rt=!Je&&!gt&&Lf(ce);Le=ce,Je||gt||Rt?Zt(se)?Le=se:fi(se)?Le=Ta(se):gt?(Fe=!1,Le=L7(ce,!0)):Rt?(Fe=!1,Le=O7(ce,!0)):Le=[]:md(ce)||E0(ce)?(Le=se,E0(se)?Le=R8(se):(!qr(se)||Tu(se))&&(Le=Q7(ce))):Fe=!1}Fe&&(J.set(ce,Le),O(Le,ce,T,$,J),J.delete(ce)),vr(u,v,Le)}function S7(u,d){var v=u.length;if(v)return d+=d<0?v:0,Su(d,v)?u[d]:n}function T7(u,d,v){d.length?d=Tn(d,function($){return Zt($)?function(J){return S0(J,$.length===1?$[0]:$)}:$}):d=[Ma];var T=-1;d=Tn(d,Nn(It()));var O=b7(u,function($,J,se){var ce=Tn(d,function(Pe){return Pe($)});return{criteria:ce,index:++T,value:$}});return ao(O,function($,J){return GO($,J,v)})}function PO(u,d){return k7(u,d,function(v,T){return Kv(u,T)})}function k7(u,d,v){for(var T=-1,O=d.length,$={};++T<O;){var J=d[T],se=S0(u,J);v(se,J)&&fd($,xc(J,u),se)}return $}function NO(u){return function(d){return S0(d,u)}}function Sv(u,d,v,T){var O=T?Sl:qa,$=-1,J=d.length,se=u;for(u===d&&(d=Ta(d)),v&&(se=Tn(u,Nn(v)));++$<J;)for(var ce=0,Pe=d[$],Le=v?v(Pe):Pe;(ce=O(se,Le,ce,T))>-1;)se!==u&&ho.call(se,ce,1),ho.call(u,ce,1);return u}function E7(u,d){for(var v=u?d.length:0,T=v-1;v--;){var O=d[v];if(v==T||O!==$){var $=O;Su(O)?ho.call(u,O,1):Mv(u,O)}}return u}function Tv(u,d){return u+Rl(be()*(d-u+1))}function LO(u,d,v,T){for(var O=-1,$=E(po((d-u)/(v||1)),0),J=xe($);$--;)J[T?$:++O]=u,u+=v;return J}function kv(u,d){var v="";if(!u||d<1||d>ve)return v;do d%2&&(v+=u),d=Rl(d/2),d&&(u+=u);while(d);return v}function pn(u,d){return Hv(n8(u,d,Ma),u+"")}function OO(u){return Af(Of(u))}function DO(u,d){var v=Of(u);return e1(v,yi(d,0,v.length))}function fd(u,d,v,T){if(!qr(u))return u;d=xc(d,u);for(var O=-1,$=d.length,J=$-1,se=u;se!=null&&++O<$;){var ce=Bl(d[O]),Pe=v;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return u;if(O!=J){var Le=se[ce];Pe=T?T(Le,ce,se):n,Pe===n&&(Pe=qr(Le)?Le:Su(d[O+1])?[]:{})}yc(se,ce,Pe),se=se[ce]}return u}var M7=Kr?function(u,d){return Kr.set(u,d),u}:Ma,BO=Es?function(u,d){return Es(u,"toString",{configurable:!0,enumerable:!1,value:Jv(d),writable:!0})}:Ma;function zO(u){return e1(Of(u))}function mo(u,d,v){var T=-1,O=u.length;d<0&&(d=-d>O?0:O+d),v=v>O?O:v,v<0&&(v+=O),O=d>v?0:v-d>>>0,d>>>=0;for(var $=xe(O);++T<O;)$[T]=u[T+d];return $}function FO(u,d){var v;return bc(u,function(T,O,$){return v=d(T,O,$),!v}),!!v}function $m(u,d,v){var T=0,O=u==null?T:u.length;if(typeof d=="number"&&d===d&&O<=Ee){for(;T<O;){var $=T+O>>>1,J=u[$];J!==null&&!Ya(J)&&(v?J<=d:J<d)?T=$+1:O=$}return O}return Ev(u,d,Ma,v)}function Ev(u,d,v,T){var O=0,$=u==null?0:u.length;if($===0)return 0;d=v(d);for(var J=d!==d,se=d===null,ce=Ya(d),Pe=d===n;O<$;){var Le=Rl((O+$)/2),Fe=v(u[Le]),Je=Fe!==n,gt=Fe===null,Rt=Fe===Fe,un=Ya(Fe);if(J)var Pt=T||Rt;else Pe?Pt=Rt&&(T||Je):se?Pt=Rt&&Je&&(T||!gt):ce?Pt=Rt&&Je&&!gt&&(T||!un):gt||un?Pt=!1:Pt=T?Fe<=d:Fe<d;Pt?O=Le+1:$=Le}return z($,ae)}function C7(u,d){for(var v=-1,T=u.length,O=0,$=[];++v<T;){var J=u[v],se=d?d(J):J;if(!v||!Go(se,ce)){var ce=se;$[O++]=J===0?0:J}}return $}function A7(u){return typeof u=="number"?u:Ya(u)?Z:+u}function Za(u){if(typeof u=="string")return u;if(Zt(u))return Tn(u,Za)+"";if(Ya(u))return yu?yu.call(u):"";var d=u+"";return d=="0"&&1/u==-me?"-0":d}function wc(u,d,v){var T=-1,O=ln,$=u.length,J=!0,se=[],ce=se;if(v)J=!1,O=xs;else if($>=i){var Pe=d?null:KO(u);if(Pe)return zi(Pe);J=!1,O=lo,ce=new bu}else ce=d?[]:se;e:for(;++T<$;){var Le=u[T],Fe=d?d(Le):Le;if(Le=v||Le!==0?Le:0,J&&Fe===Fe){for(var Je=ce.length;Je--;)if(ce[Je]===Fe)continue e;d&&ce.push(Fe),se.push(Le)}else O(ce,Fe,v)||(ce!==se&&ce.push(Fe),se.push(Le))}return se}function Mv(u,d){return d=xc(d,u),u=r8(u,d),u==null||delete u[Bl(go(d))]}function I7(u,d,v,T){return fd(u,d,v(S0(u,d)),T)}function Vm(u,d,v,T){for(var O=u.length,$=T?O:-1;(T?$--:++$<O)&&d(u[$],$,u););return v?mo(u,T?0:$,T?$+1:O):mo(u,T?$+1:0,T?O:$)}function R7(u,d){var v=u;return v instanceof tn&&(v=v.value()),yl(d,function(T,O){return O.func.apply(O.thisArg,Ss([T],O.args))},v)}function Cv(u,d,v){var T=u.length;if(T<2)return T?wc(u[0]):[];for(var O=-1,$=xe(T);++O<T;)for(var J=u[O],se=-1;++se<T;)se!=O&&($[O]=ld($[O]||J,u[se],d,v));return wc(os($,1),d,v)}function P7(u,d,v){for(var T=-1,O=u.length,$=d.length,J={};++T<O;){var se=T<$?d[T]:n;v(J,u[T],se)}return J}function Av(u){return fi(u)?u:[]}function Iv(u){return typeof u=="function"?u:Ma}function xc(u,d){return Zt(u)?u:Fv(u,d)?[u]:o8(Xn(u))}var UO=pn;function Sc(u,d,v){var T=u.length;return v=v===n?T:v,!d&&v>=T?u:mo(u,d,v)}var N7=y0||function(u){return gr.clearTimeout(u)};function L7(u,d){if(d)return u.slice();var v=u.length,T=_0?_0(v):new u.constructor(v);return u.copy(T),T}function Rv(u){var d=new u.constructor(u.byteLength);return new $s(d).set(new $s(u)),d}function qO(u,d){var v=d?Rv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.byteLength)}function HO(u){var d=new u.constructor(u.source,Pn.exec(u));return d.lastIndex=u.lastIndex,d}function WO(u){return ar?kn(ar.call(u)):{}}function O7(u,d){var v=d?Rv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.length)}function D7(u,d){if(u!==d){var v=u!==n,T=u===null,O=u===u,$=Ya(u),J=d!==n,se=d===null,ce=d===d,Pe=Ya(d);if(!se&&!Pe&&!$&&u>d||$&&J&&ce&&!se&&!Pe||T&&J&&ce||!v&&ce||!O)return 1;if(!T&&!$&&!Pe&&u<d||Pe&&v&&O&&!T&&!$||se&&v&&O||!J&&O||!ce)return-1}return 0}function GO(u,d,v){for(var T=-1,O=u.criteria,$=d.criteria,J=O.length,se=v.length;++T<J;){var ce=D7(O[T],$[T]);if(ce){if(T>=se)return ce;var Pe=v[T];return ce*(Pe=="desc"?-1:1)}}return u.index-d.index}function B7(u,d,v,T){for(var O=-1,$=u.length,J=v.length,se=-1,ce=d.length,Pe=E($-J,0),Le=xe(ce+Pe),Fe=!T;++se<ce;)Le[se]=d[se];for(;++O<J;)(Fe||O<$)&&(Le[v[O]]=u[O]);for(;Pe--;)Le[se++]=u[O++];return Le}function z7(u,d,v,T){for(var O=-1,$=u.length,J=-1,se=v.length,ce=-1,Pe=d.length,Le=E($-se,0),Fe=xe(Le+Pe),Je=!T;++O<Le;)Fe[O]=u[O];for(var gt=O;++ce<Pe;)Fe[gt+ce]=d[ce];for(;++J<se;)(Je||O<$)&&(Fe[gt+v[J]]=u[O++]);return Fe}function Ta(u,d){var v=-1,T=u.length;for(d||(d=xe(T));++v<T;)d[v]=u[v];return d}function Dl(u,d,v,T){var O=!v;v||(v={});for(var $=-1,J=d.length;++$<J;){var se=d[$],ce=T?T(v[se],u[se],se,v,u):n;ce===n&&(ce=u[se]),O?Sa(v,se,ce):yc(v,se,ce)}return v}function $O(u,d){return Dl(u,zv(u),d)}function VO(u,d){return Dl(u,X7(u),d)}function Zm(u,d){return function(v,T){var O=Zt(v)?zn:Ll,$=d?d():{};return O(v,u,It(T,2),$)}}function Rf(u){return pn(function(d,v){var T=-1,O=v.length,$=O>1?v[O-1]:n,J=O>2?v[2]:n;for($=u.length>3&&typeof $=="function"?(O--,$):n,J&&js(v[0],v[1],J)&&($=O<3?n:$,O=1),d=kn(d);++T<O;){var se=v[T];se&&u(d,se,T,$)}return d})}function F7(u,d){return function(v,T){if(v==null)return v;if(!ka(v))return u(v,T);for(var O=v.length,$=d?O:-1,J=kn(v);(d?$--:++$<O)&&T(J[$],$,J)!==!1;);return v}}function U7(u){return function(d,v,T){for(var O=-1,$=kn(d),J=T(d),se=J.length;se--;){var ce=J[u?se:++O];if(v($[ce],ce,$)===!1)break}return d}}function ZO(u,d,v){var T=d&I,O=hd(u);function $(){var J=this&&this!==gr&&this instanceof $?O:u;return J.apply(T?v:this,arguments)}return $}function q7(u){return function(d){d=Xn(d);var v=ya(d)?ui(d):n,T=v?v[0]:d.charAt(0),O=v?Sc(v,1).join(""):d.slice(1);return T[u]()+O}}function Pf(u){return function(d){return yl(F8(z8(d).replace(fn,"")),u,"")}}function hd(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Pl(u.prototype),T=u.apply(v,d);return qr(T)?T:v}}function YO(u,d,v){var T=hd(u);function O(){for(var $=arguments.length,J=xe($),se=$,ce=Nf(O);se--;)J[se]=arguments[se];var Pe=$<3&&J[0]!==ce&&J[$-1]!==ce?[]:Ga(J,ce);if($-=Pe.length,$<v)return V7(u,d,Ym,O.placeholder,n,J,Pe,n,n,v-$);var Le=this&&this!==gr&&this instanceof O?T:u;return St(Le,this,J)}return O}function H7(u){return function(d,v,T){var O=kn(d);if(!ka(d)){var $=It(v,3);d=Hi(d),v=function(se){return $(O[se],se,O)}}var J=u(d,v,T);return J>-1?O[$?d[J]:J]:n}}function W7(u){return xu(function(d){var v=d.length,T=v,O=qi.prototype.thru;for(u&&d.reverse();T--;){var $=d[T];if(typeof $!="function")throw new ci(a);if(O&&!J&&Jm($)=="wrapper")var J=new qi([],!0)}for(T=J?T:v;++T<v;){$=d[T];var se=Jm($),ce=se=="wrapper"?Dv($):n;ce&&Uv(ce[0])&&ce[1]==(F|A|N|W)&&!ce[4].length&&ce[9]==1?J=J[Jm(ce[0])].apply(J,ce[3]):J=$.length==1&&Uv($)?J[se]():J.thru($)}return function(){var Pe=arguments,Le=Pe[0];if(J&&Pe.length==1&&Zt(Le))return J.plant(Le).value();for(var Fe=0,Je=v?d[Fe].apply(this,Pe):Le;++Fe<v;)Je=d[Fe].call(this,Je);return Je}})}function Ym(u,d,v,T,O,$,J,se,ce,Pe){var Le=d&F,Fe=d&I,Je=d&P,gt=d&(A|C),Rt=d&G,un=Je?n:hd(u);function Pt(){for(var yn=arguments.length,Cn=xe(yn),ja=yn;ja--;)Cn[ja]=arguments[ja];if(gt)var Ks=Nf(Pt),Ka=Hs(Cn,Ks);if(T&&(Cn=B7(Cn,T,O,gt)),$&&(Cn=z7(Cn,$,J,gt)),yn-=Ka,gt&&yn<Pe){var hi=Ga(Cn,Ks);return V7(u,d,Ym,Pt.placeholder,v,Cn,hi,se,ce,Pe-yn)}var $o=Fe?v:this,Eu=Je?$o[u]:u;return yn=Cn.length,se?Cn=pD(Cn,se):Rt&&yn>1&&Cn.reverse(),Le&&ce<yn&&(Cn.length=ce),this&&this!==gr&&this instanceof Pt&&(Eu=un||hd(Eu)),Eu.apply($o,Cn)}return Pt}function G7(u,d){return function(v,T){return xO(v,u,d(T),{})}}function jm(u,d){return function(v,T){var O;if(v===n&&T===n)return d;if(v!==n&&(O=v),T!==n){if(O===n)return T;typeof v=="string"||typeof T=="string"?(v=Za(v),T=Za(T)):(v=A7(v),T=A7(T)),O=u(v,T)}return O}}function Pv(u){return xu(function(d){return d=Tn(d,Nn(It())),pn(function(v){var T=this;return u(d,function(O){return St(O,T,v)})})})}function Km(u,d){d=d===n?" ":Za(d);var v=d.length;if(v<2)return v?kv(d,u):d;var T=kv(d,po(u/Ur(d)));return ya(d)?Sc(ui(T),0,u).join(""):T.slice(0,u)}function jO(u,d,v,T){var O=d&I,$=hd(u);function J(){for(var se=-1,ce=arguments.length,Pe=-1,Le=T.length,Fe=xe(Le+ce),Je=this&&this!==gr&&this instanceof J?$:u;++Pe<Le;)Fe[Pe]=T[Pe];for(;ce--;)Fe[Pe++]=arguments[++se];return St(Je,O?v:this,Fe)}return J}function $7(u){return function(d,v,T){return T&&typeof T!="number"&&js(d,v,T)&&(v=T=n),d=ku(d),v===n?(v=d,d=0):v=ku(v),T=T===n?d<v?1:-1:ku(T),LO(d,v,T,u)}}function Xm(u){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=_o(d),v=_o(v)),u(d,v)}}function V7(u,d,v,T,O,$,J,se,ce,Pe){var Le=d&A,Fe=Le?J:n,Je=Le?n:J,gt=Le?$:n,Rt=Le?n:$;d|=Le?N:D,d&=~(Le?D:N),d&k||(d&=~(I|P));var un=[u,d,O,gt,Fe,Rt,Je,se,ce,Pe],Pt=v.apply(n,un);return Uv(u)&&i8(Pt,un),Pt.placeholder=T,s8(Pt,u,d)}function Nv(u){var d=Pr[u];return function(v,T){if(v=_o(v),T=T==null?0:z(nn(T),292),T&&h(v)){var O=(Xn(v)+"e").split("e"),$=d(O[0]+"e"+(+O[1]+T));return O=(Xn($)+"e").split("e"),+(O[0]+"e"+(+O[1]-T))}return d(v)}}var KO=sr&&1/zi(new sr([,-0]))[1]==me?function(u){return new sr(u)}:t4;function Z7(u){return function(d){var v=Cs(d);return v==ze?co(d):v==Ht?kf(d):p0(d,u(d))}}function wu(u,d,v,T,O,$,J,se){var ce=d&P;if(!ce&&typeof u!="function")throw new ci(a);var Pe=T?T.length:0;if(Pe||(d&=~(N|D),T=O=n),J=J===n?J:E(nn(J),0),se=se===n?se:nn(se),Pe-=O?O.length:0,d&D){var Le=T,Fe=O;T=O=n}var Je=ce?n:Dv(u),gt=[u,d,v,T,O,Le,Fe,$,J,se];if(Je&&fD(gt,Je),u=gt[0],d=gt[1],v=gt[2],T=gt[3],O=gt[4],se=gt[9]=gt[9]===n?ce?0:u.length:E(gt[9]-Pe,0),!se&&d&(A|C)&&(d&=~(A|C)),!d||d==I)var Rt=ZO(u,d,v);else d==A||d==C?Rt=YO(u,d,se):(d==N||d==(I|N))&&!O.length?Rt=jO(u,d,v,T):Rt=Ym.apply(n,gt);var un=Je?M7:i8;return s8(un(Rt,gt),u,d)}function Y7(u,d,v,T){return u===n||Go(u,fo[v])&&!gn.call(T,v)?d:u}function j7(u,d,v,T,O,$){return qr(u)&&qr(d)&&($.set(d,u),Gm(u,d,n,j7,$),$.delete(d)),u}function XO(u){return md(u)?n:u}function K7(u,d,v,T,O,$){var J=v&w,se=u.length,ce=d.length;if(se!=ce&&!(J&&ce>se))return!1;var Pe=$.get(u),Le=$.get(d);if(Pe&&Le)return Pe==d&&Le==u;var Fe=-1,Je=!0,gt=v&S?new bu:n;for($.set(u,d),$.set(d,u);++Fe<se;){var Rt=u[Fe],un=d[Fe];if(T)var Pt=J?T(un,Rt,Fe,d,u,$):T(Rt,un,Fe,u,d,$);if(Pt!==n){if(Pt)continue;Je=!1;break}if(gt){if(!bl(d,function(yn,Cn){if(!lo(gt,Cn)&&(Rt===yn||O(Rt,yn,v,T,$)))return gt.push(Cn)})){Je=!1;break}}else if(!(Rt===un||O(Rt,un,v,T,$))){Je=!1;break}}return $.delete(u),$.delete(d),Je}function JO(u,d,v,T,O,$,J){switch(v){case Vn:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case jt:return!(u.byteLength!=d.byteLength||!$(new $s(u),new $s(d)));case Ce:case _e:case lt:return Go(+u,+d);case Be:return u.name==d.name&&u.message==d.message;case wn:case xn:return u==d+"";case ze:var se=co;case Ht:var ce=T&w;if(se||(se=zi),u.size!=d.size&&!ce)return!1;var Pe=J.get(u);if(Pe)return Pe==d;T|=S,J.set(u,d);var Le=K7(se(u),se(d),T,O,$,J);return J.delete(u),Le;case Qn:if(ar)return ar.call(u)==ar.call(d)}return!1}function QO(u,d,v,T,O,$){var J=v&w,se=Lv(u),ce=se.length,Pe=Lv(d),Le=Pe.length;if(ce!=Le&&!J)return!1;for(var Fe=ce;Fe--;){var Je=se[Fe];if(!(J?Je in d:gn.call(d,Je)))return!1}var gt=$.get(u),Rt=$.get(d);if(gt&&Rt)return gt==d&&Rt==u;var un=!0;$.set(u,d),$.set(d,u);for(var Pt=J;++Fe<ce;){Je=se[Fe];var yn=u[Je],Cn=d[Je];if(T)var ja=J?T(Cn,yn,Je,d,u,$):T(yn,Cn,Je,u,d,$);if(!(ja===n?yn===Cn||O(yn,Cn,v,T,$):ja)){un=!1;break}Pt||(Pt=Je=="constructor")}if(un&&!Pt){var Ks=u.constructor,Ka=d.constructor;Ks!=Ka&&"constructor"in u&&"constructor"in d&&!(typeof Ks=="function"&&Ks instanceof Ks&&typeof Ka=="function"&&Ka instanceof Ka)&&(un=!1)}return $.delete(u),$.delete(d),un}function xu(u){return Hv(n8(u,n,f8),u+"")}function Lv(u){return g7(u,Hi,zv)}function Ov(u){return g7(u,Ea,X7)}var Dv=Kr?function(u){return Kr.get(u)}:t4;function Jm(u){for(var d=u.name+"",v=Vs[d],T=gn.call(Vs,d)?v.length:0;T--;){var O=v[T],$=O.func;if($==null||$==u)return O.name}return d}function Nf(u){var d=gn.call(U,"placeholder")?U:u;return d.placeholder}function It(){var u=U.iteratee||Qv;return u=u===Qv?y7:u,arguments.length?u(arguments[0],arguments[1]):u}function Qm(u,d){var v=u.__data__;return oD(d)?v[typeof d=="string"?"string":"hash"]:v.map}function Bv(u){for(var d=Hi(u),v=d.length;v--;){var T=d[v],O=u[T];d[v]=[T,O,e8(O)]}return d}function T0(u,d){var v=fu(u,d);return v7(v)?v:n}function eD(u){var d=gn.call(u,Va),v=u[Va];try{u[Va]=n;var T=!0}catch{}var O=Al.call(u);return T&&(d?u[Va]=v:delete u[Va]),O}var zv=rs?function(u){return u==null?[]:(u=kn(u),hn(rs(u),function(d){return Ui.call(u,d)}))}:n4,X7=rs?function(u){for(var d=[];u;)Ss(d,zv(u)),u=$a(u);return d}:n4,Cs=Ys;(Xe&&Cs(new Xe(new ArrayBuffer(1)))!=Vn||_t&&Cs(new _t)!=ze||Gt&&Cs(Gt.resolve())!=kt||sr&&Cs(new sr)!=Ht||ct&&Cs(new ct)!=$n)&&(Cs=function(u){var d=Ys(u),v=d==et?u.constructor:n,T=v?k0(v):"";if(T)switch(T){case nd:return Vn;case rd:return ze;case id:return kt;case Mf:return Ht;case sd:return $n}return d});function tD(u,d,v){for(var T=-1,O=v.length;++T<O;){var $=v[T],J=$.size;switch($.type){case"drop":u+=J;break;case"dropRight":d-=J;break;case"take":d=z(d,u+J);break;case"takeRight":u=E(u,d-J);break}}return{start:u,end:d}}function nD(u){var d=u.match(Tr);return d?d[1].split(gs):[]}function J7(u,d,v){d=xc(d,u);for(var T=-1,O=d.length,$=!1;++T<O;){var J=Bl(d[T]);if(!($=u!=null&&v(u,J)))break;u=u[J]}return $||++T!=O?$:(O=u==null?0:u.length,!!O&&a1(O)&&Su(J,O)&&(Zt(u)||E0(u)))}function rD(u){var d=u.length,v=new u.constructor(d);return d&&typeof u[0]=="string"&&gn.call(u,"index")&&(v.index=u.index,v.input=u.input),v}function Q7(u){return typeof u.constructor=="function"&&!dd(u)?Pl($a(u)):{}}function iD(u,d,v){var T=u.constructor;switch(d){case jt:return Rv(u);case Ce:case _e:return new T(+u);case Vn:return qO(u,v);case er:case pi:case rr:case tr:case Lr:case Kn:case mt:case an:case Ir:return O7(u,v);case ze:return new T;case lt:case xn:return new T(u);case wn:return HO(u);case Ht:return new T;case Qn:return WO(u)}}function sD(u,d){var v=d.length;if(!v)return u;var T=v-1;return d[T]=(v>1?"& ":"")+d[T],d=d.join(v>2?", ":" "),u.replace(rt,`{
/* [wrapped with `+d+`] */
`)}function aD(u){return Zt(u)||E0(u)||!!(v0&&u&&u[v0])}function Su(u,d){var v=typeof u;return d=d??ve,!!d&&(v=="number"||v!="symbol"&&vs.test(u))&&u>-1&&u%1==0&&u<d}function js(u,d,v){if(!qr(v))return!1;var T=typeof d;return(T=="number"?ka(v)&&Su(d,v.length):T=="string"&&d in v)?Go(v[d],u):!1}function Fv(u,d){if(Zt(u))return!1;var v=typeof u;return v=="number"||v=="symbol"||v=="boolean"||u==null||Ya(u)?!0:Bs.test(u)||!ps.test(u)||d!=null&&u in kn(d)}function oD(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Uv(u){var d=Jm(u),v=U[d];if(typeof v!="function"||!(d in tn.prototype))return!1;if(u===v)return!0;var T=Dv(v);return!!T&&u===T[0]}function lD(u){return!!ba&&ba in u}var uD=Fo?Tu:r4;function dd(u){var d=u&&u.constructor,v=typeof d=="function"&&d.prototype||fo;return u===v}function e8(u){return u===u&&!qr(u)}function t8(u,d){return function(v){return v==null?!1:v[u]===d&&(d!==n||u in kn(v))}}function cD(u){var d=i1(u,function(T){return v.size===f&&v.clear(),T}),v=d.cache;return d}function fD(u,d){var v=u[1],T=d[1],O=v|T,$=O<(I|P|F),J=T==F&&v==A||T==F&&v==W&&u[7].length<=d[8]||T==(F|W)&&d[7].length<=d[8]&&v==A;if(!($||J))return u;T&I&&(u[2]=d[2],O|=v&I?0:k);var se=d[3];if(se){var ce=u[3];u[3]=ce?B7(ce,se,d[4]):se,u[4]=ce?Ga(u[3],p):d[4]}return se=d[5],se&&(ce=u[5],u[5]=ce?z7(ce,se,d[6]):se,u[6]=ce?Ga(u[5],p):d[6]),se=d[7],se&&(u[7]=se),T&F&&(u[8]=u[8]==null?d[8]:z(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=O,u}function hD(u){var d=[];if(u!=null)for(var v in kn(u))d.push(v);return d}function dD(u){return Al.call(u)}function n8(u,d,v){return d=E(d===n?u.length-1:d,0),function(){for(var T=arguments,O=-1,$=E(T.length-d,0),J=xe($);++O<$;)J[O]=T[d+O];O=-1;for(var se=xe(d+1);++O<d;)se[O]=T[O];return se[d]=v(J),St(u,this,se)}}function r8(u,d){return d.length<2?u:S0(u,mo(d,0,-1))}function pD(u,d){for(var v=u.length,T=z(d.length,v),O=Ta(u);T--;){var $=d[T];u[T]=Su($,v)?O[$]:n}return u}function qv(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var i8=a8(M7),pd=b0||function(u,d){return gr.setTimeout(u,d)},Hv=a8(BO);function s8(u,d,v){var T=d+"";return Hv(u,sD(T,mD(nD(T),v)))}function a8(u){var d=0,v=0;return function(){var T=te(),O=fe-(T-v);if(v=T,O>0){if(++d>=ee)return arguments[0]}else d=0;return u.apply(n,arguments)}}function e1(u,d){var v=-1,T=u.length,O=T-1;for(d=d===n?T:d;++v<d;){var $=Tv(v,O),J=u[$];u[$]=u[v],u[v]=J}return u.length=d,u}var o8=cD(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(da,function(v,T,O,$){d.push(O?$.replace(kr,"$1"):T||v)}),d});function Bl(u){if(typeof u=="string"||Ya(u))return u;var d=u+"";return d=="0"&&1/u==-me?"-0":d}function k0(u){if(u!=null){try{return gu.call(u)}catch{}try{return u+""}catch{}}return""}function mD(u,d){return In(Oe,function(v){var T="_."+v[0];d&v[1]&&!ln(u,T)&&u.push(T)}),u.sort()}function l8(u){if(u instanceof tn)return u.clone();var d=new qi(u.__wrapped__,u.__chain__);return d.__actions__=Ta(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function gD(u,d,v){(v?js(u,d,v):d===n)?d=1:d=E(nn(d),0);var T=u==null?0:u.length;if(!T||d<1)return[];for(var O=0,$=0,J=xe(po(T/d));O<T;)J[$++]=mo(u,O,O+=d);return J}function _D(u){for(var d=-1,v=u==null?0:u.length,T=0,O=[];++d<v;){var $=u[d];$&&(O[T++]=$)}return O}function vD(){var u=arguments.length;if(!u)return[];for(var d=xe(u-1),v=arguments[0],T=u;T--;)d[T-1]=arguments[T];return Ss(Zt(v)?Ta(v):[v],os(d,1))}var yD=pn(function(u,d){return fi(u)?ld(u,os(d,1,fi,!0)):[]}),bD=pn(function(u,d){var v=go(d);return fi(v)&&(v=n),fi(u)?ld(u,os(d,1,fi,!0),It(v,2)):[]}),wD=pn(function(u,d){var v=go(d);return fi(v)&&(v=n),fi(u)?ld(u,os(d,1,fi,!0),n,v):[]});function xD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),mo(u,d<0?0:d,T)):[]}function SD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,mo(u,0,d<0?0:d)):[]}function TD(u,d){return u&&u.length?Vm(u,It(d,3),!0,!0):[]}function kD(u,d){return u&&u.length?Vm(u,It(d,3),!0):[]}function ED(u,d,v,T){var O=u==null?0:u.length;return O?(v&&typeof v!="number"&&js(u,d,v)&&(v=0,T=O),vO(u,d,v,T)):[]}function u8(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),li(u,It(d,3),O)}function c8(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T-1;return v!==n&&(O=nn(v),O=v<0?E(T+O,0):z(O,T-1)),li(u,It(d,3),O,!0)}function f8(u){var d=u==null?0:u.length;return d?os(u,1):[]}function MD(u){var d=u==null?0:u.length;return d?os(u,me):[]}function CD(u,d){var v=u==null?0:u.length;return v?(d=d===n?1:nn(d),os(u,d)):[]}function AD(u){for(var d=-1,v=u==null?0:u.length,T={};++d<v;){var O=u[d];T[O[0]]=O[1]}return T}function h8(u){return u&&u.length?u[0]:n}function ID(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),qa(u,d,O)}function RD(u){var d=u==null?0:u.length;return d?mo(u,0,-1):[]}var PD=pn(function(u){var d=Tn(u,Av);return d.length&&d[0]===u[0]?yv(d):[]}),ND=pn(function(u){var d=go(u),v=Tn(u,Av);return d===go(v)?d=n:v.pop(),v.length&&v[0]===u[0]?yv(v,It(d,2)):[]}),LD=pn(function(u){var d=go(u),v=Tn(u,Av);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===u[0]?yv(v,n,d):[]});function OD(u,d){return u==null?"":_.call(u,d)}function go(u){var d=u==null?0:u.length;return d?u[d-1]:n}function DD(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T;return v!==n&&(O=nn(v),O=O<0?E(T+O,0):z(O,T-1)),d===d?Ef(u,d,O):li(u,Bi,O,!0)}function BD(u,d){return u&&u.length?S7(u,nn(d)):n}var zD=pn(d8);function d8(u,d){return u&&u.length&&d&&d.length?Sv(u,d):u}function FD(u,d,v){return u&&u.length&&d&&d.length?Sv(u,d,It(v,2)):u}function UD(u,d,v){return u&&u.length&&d&&d.length?Sv(u,d,n,v):u}var qD=xu(function(u,d){var v=u==null?0:u.length,T=x0(u,d);return E7(u,Tn(d,function(O){return Su(O,v)?+O:O}).sort(D7)),T});function HD(u,d){var v=[];if(!(u&&u.length))return v;var T=-1,O=[],$=u.length;for(d=It(d,3);++T<$;){var J=u[T];d(J,T,u)&&(v.push(J),O.push(T))}return E7(u,O),v}function Wv(u){return u==null?u:Ae.call(u)}function WD(u,d,v){var T=u==null?0:u.length;return T?(v&&typeof v!="number"&&js(u,d,v)?(d=0,v=T):(d=d==null?0:nn(d),v=v===n?T:nn(v)),mo(u,d,v)):[]}function GD(u,d){return $m(u,d)}function $D(u,d,v){return Ev(u,d,It(v,2))}function VD(u,d){var v=u==null?0:u.length;if(v){var T=$m(u,d);if(T<v&&Go(u[T],d))return T}return-1}function ZD(u,d){return $m(u,d,!0)}function YD(u,d,v){return Ev(u,d,It(v,2),!0)}function jD(u,d){var v=u==null?0:u.length;if(v){var T=$m(u,d,!0)-1;if(Go(u[T],d))return T}return-1}function KD(u){return u&&u.length?C7(u):[]}function XD(u,d){return u&&u.length?C7(u,It(d,2)):[]}function JD(u){var d=u==null?0:u.length;return d?mo(u,1,d):[]}function QD(u,d,v){return u&&u.length?(d=v||d===n?1:nn(d),mo(u,0,d<0?0:d)):[]}function eB(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,mo(u,d<0?0:d,T)):[]}function tB(u,d){return u&&u.length?Vm(u,It(d,3),!1,!0):[]}function nB(u,d){return u&&u.length?Vm(u,It(d,3)):[]}var rB=pn(function(u){return wc(os(u,1,fi,!0))}),iB=pn(function(u){var d=go(u);return fi(d)&&(d=n),wc(os(u,1,fi,!0),It(d,2))}),sB=pn(function(u){var d=go(u);return d=typeof d=="function"?d:n,wc(os(u,1,fi,!0),n,d)});function aB(u){return u&&u.length?wc(u):[]}function oB(u,d){return u&&u.length?wc(u,It(d,2)):[]}function lB(u,d){return d=typeof d=="function"?d:n,u&&u.length?wc(u,n,d):[]}function Gv(u){if(!(u&&u.length))return[];var d=0;return u=hn(u,function(v){if(fi(v))return d=E(v.length,d),!0}),Tl(d,function(v){return Tn(u,Si(v))})}function p8(u,d){if(!(u&&u.length))return[];var v=Gv(u);return d==null?v:Tn(v,function(T){return St(d,n,T)})}var uB=pn(function(u,d){return fi(u)?ld(u,d):[]}),cB=pn(function(u){return Cv(hn(u,fi))}),fB=pn(function(u){var d=go(u);return fi(d)&&(d=n),Cv(hn(u,fi),It(d,2))}),hB=pn(function(u){var d=go(u);return d=typeof d=="function"?d:n,Cv(hn(u,fi),n,d)}),dB=pn(Gv);function pB(u,d){return P7(u||[],d||[],yc)}function mB(u,d){return P7(u||[],d||[],fd)}var gB=pn(function(u){var d=u.length,v=d>1?u[d-1]:n;return v=typeof v=="function"?(u.pop(),v):n,p8(u,v)});function m8(u){var d=U(u);return d.__chain__=!0,d}function _B(u,d){return d(u),u}function t1(u,d){return d(u)}var vB=xu(function(u){var d=u.length,v=d?u[0]:0,T=this.__wrapped__,O=function($){return x0($,u)};return d>1||this.__actions__.length||!(T instanceof tn)||!Su(v)?this.thru(O):(T=T.slice(v,+v+(d?1:0)),T.__actions__.push({func:t1,args:[O],thisArg:n}),new qi(T,this.__chain__).thru(function($){return d&&!$.length&&$.push(n),$}))});function yB(){return m8(this)}function bB(){return new qi(this.value(),this.__chain__)}function wB(){this.__values__===n&&(this.__values__=A8(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function xB(){return this}function SB(u){for(var d,v=this;v instanceof _c;){var T=l8(v);T.__index__=0,T.__values__=n,d?O.__wrapped__=T:d=T;var O=T;v=v.__wrapped__}return O.__wrapped__=u,d}function TB(){var u=this.__wrapped__;if(u instanceof tn){var d=u;return this.__actions__.length&&(d=new tn(this)),d=d.reverse(),d.__actions__.push({func:t1,args:[Wv],thisArg:n}),new qi(d,this.__chain__)}return this.thru(Wv)}function kB(){return R7(this.__wrapped__,this.__actions__)}var EB=Zm(function(u,d,v){gn.call(u,v)?++u[v]:Sa(u,v,1)});function MB(u,d,v){var T=Zt(u)?Mn:_O;return v&&js(u,d,v)&&(d=n),T(u,It(d,3))}function CB(u,d){var v=Zt(u)?hn:p7;return v(u,It(d,3))}var AB=H7(u8),IB=H7(c8);function RB(u,d){return os(n1(u,d),1)}function PB(u,d){return os(n1(u,d),me)}function NB(u,d,v){return v=v===n?1:nn(v),os(n1(u,d),v)}function g8(u,d){var v=Zt(u)?In:bc;return v(u,It(d,3))}function _8(u,d){var v=Zt(u)?Tt:d7;return v(u,It(d,3))}var LB=Zm(function(u,d,v){gn.call(u,v)?u[v].push(d):Sa(u,v,[d])});function OB(u,d,v,T){u=ka(u)?u:Of(u),v=v&&!T?nn(v):0;var O=u.length;return v<0&&(v=E(O+v,0)),o1(u)?v<=O&&u.indexOf(d,v)>-1:!!O&&qa(u,d,v)>-1}var DB=pn(function(u,d,v){var T=-1,O=typeof d=="function",$=ka(u)?xe(u.length):[];return bc(u,function(J){$[++T]=O?St(d,J,v):ud(J,d,v)}),$}),BB=Zm(function(u,d,v){Sa(u,v,d)});function n1(u,d){var v=Zt(u)?Tn:b7;return v(u,It(d,3))}function zB(u,d,v,T){return u==null?[]:(Zt(d)||(d=d==null?[]:[d]),v=T?n:v,Zt(v)||(v=v==null?[]:[v]),T7(u,d,v))}var FB=Zm(function(u,d,v){u[v?0:1].push(d)},function(){return[[],[]]});function UB(u,d,v){var T=Zt(u)?yl:Ar,O=arguments.length<3;return T(u,It(d,4),v,O,bc)}function qB(u,d,v){var T=Zt(u)?ga:Ar,O=arguments.length<3;return T(u,It(d,4),v,O,d7)}function HB(u,d){var v=Zt(u)?hn:p7;return v(u,s1(It(d,3)))}function WB(u){var d=Zt(u)?Af:OO;return d(u)}function GB(u,d,v){(v?js(u,d,v):d===n)?d=1:d=nn(d);var T=Zt(u)?ne:DO;return T(u,d)}function $B(u){var d=Zt(u)?De:zO;return d(u)}function VB(u){if(u==null)return 0;if(ka(u))return o1(u)?Ur(u):u.length;var d=Cs(u);return d==ze||d==Ht?u.size:wv(u).length}function ZB(u,d,v){var T=Zt(u)?bl:FO;return v&&js(u,d,v)&&(d=n),T(u,It(d,3))}var YB=pn(function(u,d){if(u==null)return[];var v=d.length;return v>1&&js(u,d[0],d[1])?d=[]:v>2&&js(d[0],d[1],d[2])&&(d=[d[0]]),T7(u,os(d,1),[])}),r1=_u||function(){return gr.Date.now()};function jB(u,d){if(typeof d!="function")throw new ci(a);return u=nn(u),function(){if(--u<1)return d.apply(this,arguments)}}function v8(u,d,v){return d=v?n:d,d=u&&d==null?u.length:d,wu(u,F,n,n,n,n,d)}function y8(u,d){var v;if(typeof d!="function")throw new ci(a);return u=nn(u),function(){return--u>0&&(v=d.apply(this,arguments)),u<=1&&(d=n),v}}var $v=pn(function(u,d,v){var T=I;if(v.length){var O=Ga(v,Nf($v));T|=N}return wu(u,T,d,v,O)}),b8=pn(function(u,d,v){var T=I|P;if(v.length){var O=Ga(v,Nf(b8));T|=N}return wu(d,T,u,v,O)});function w8(u,d,v){d=v?n:d;var T=wu(u,A,n,n,n,n,n,d);return T.placeholder=w8.placeholder,T}function x8(u,d,v){d=v?n:d;var T=wu(u,C,n,n,n,n,n,d);return T.placeholder=x8.placeholder,T}function S8(u,d,v){var T,O,$,J,se,ce,Pe=0,Le=!1,Fe=!1,Je=!0;if(typeof u!="function")throw new ci(a);d=_o(d)||0,qr(v)&&(Le=!!v.leading,Fe="maxWait"in v,$=Fe?E(_o(v.maxWait)||0,d):$,Je="trailing"in v?!!v.trailing:Je);function gt(hi){var $o=T,Eu=O;return T=O=n,Pe=hi,J=u.apply(Eu,$o),J}function Rt(hi){return Pe=hi,se=pd(yn,d),Le?gt(hi):J}function un(hi){var $o=hi-ce,Eu=hi-Pe,H8=d-$o;return Fe?z(H8,$-Eu):H8}function Pt(hi){var $o=hi-ce,Eu=hi-Pe;return ce===n||$o>=d||$o<0||Fe&&Eu>=$}function yn(){var hi=r1();if(Pt(hi))return Cn(hi);se=pd(yn,un(hi))}function Cn(hi){return se=n,Je&&T?gt(hi):(T=O=n,J)}function ja(){se!==n&&N7(se),Pe=0,T=ce=O=se=n}function Ks(){return se===n?J:Cn(r1())}function Ka(){var hi=r1(),$o=Pt(hi);if(T=arguments,O=this,ce=hi,$o){if(se===n)return Rt(ce);if(Fe)return N7(se),se=pd(yn,d),gt(ce)}return se===n&&(se=pd(yn,d)),J}return Ka.cancel=ja,Ka.flush=Ks,Ka}var KB=pn(function(u,d){return h7(u,1,d)}),XB=pn(function(u,d,v){return h7(u,_o(d)||0,v)});function JB(u){return wu(u,G)}function i1(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ci(a);var v=function(){var T=arguments,O=d?d.apply(this,T):T[0],$=v.cache;if($.has(O))return $.get(O);var J=u.apply(this,T);return v.cache=$.set(O,J)||$,J};return v.cache=new(i1.Cache||Wo),v}i1.Cache=Wo;function s1(u){if(typeof u!="function")throw new ci(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function QB(u){return y8(2,u)}var ez=UO(function(u,d){d=d.length==1&&Zt(d[0])?Tn(d[0],Nn(It())):Tn(os(d,1),Nn(It()));var v=d.length;return pn(function(T){for(var O=-1,$=z(T.length,v);++O<$;)T[O]=d[O].call(this,T[O]);return St(u,this,T)})}),Vv=pn(function(u,d){var v=Ga(d,Nf(Vv));return wu(u,N,n,d,v)}),T8=pn(function(u,d){var v=Ga(d,Nf(T8));return wu(u,D,n,d,v)}),tz=xu(function(u,d){return wu(u,W,n,n,n,d)});function nz(u,d){if(typeof u!="function")throw new ci(a);return d=d===n?d:nn(d),pn(u,d)}function rz(u,d){if(typeof u!="function")throw new ci(a);return d=d==null?0:E(nn(d),0),pn(function(v){var T=v[d],O=Sc(v,0,d);return T&&Ss(O,T),St(u,this,O)})}function iz(u,d,v){var T=!0,O=!0;if(typeof u!="function")throw new ci(a);return qr(v)&&(T="leading"in v?!!v.leading:T,O="trailing"in v?!!v.trailing:O),S8(u,d,{leading:T,maxWait:d,trailing:O})}function sz(u){return v8(u,1)}function az(u,d){return Vv(Iv(d),u)}function oz(){if(!arguments.length)return[];var u=arguments[0];return Zt(u)?u:[u]}function lz(u){return Zs(u,y)}function uz(u,d){return d=typeof d=="function"?d:n,Zs(u,y,d)}function cz(u){return Zs(u,m|y)}function fz(u,d){return d=typeof d=="function"?d:n,Zs(u,m|y,d)}function hz(u,d){return d==null||f7(u,d,Hi(d))}function Go(u,d){return u===d||u!==u&&d!==d}var dz=Xm(vv),pz=Xm(function(u,d){return u>=d}),E0=_7(function(){return arguments}())?_7:function(u){return Jr(u)&&gn.call(u,"callee")&&!Ui.call(u,"callee")},Zt=xe.isArray,mz=re?Nn(re):SO;function ka(u){return u!=null&&a1(u.length)&&!Tu(u)}function fi(u){return Jr(u)&&ka(u)}function gz(u){return u===!0||u===!1||Jr(u)&&Ys(u)==Ce}var Tc=o||r4,_z=Me?Nn(Me):TO;function vz(u){return Jr(u)&&u.nodeType===1&&!md(u)}function yz(u){if(u==null)return!0;if(ka(u)&&(Zt(u)||typeof u=="string"||typeof u.splice=="function"||Tc(u)||Lf(u)||E0(u)))return!u.length;var d=Cs(u);if(d==ze||d==Ht)return!u.size;if(dd(u))return!wv(u).length;for(var v in u)if(gn.call(u,v))return!1;return!0}function bz(u,d){return cd(u,d)}function wz(u,d,v){v=typeof v=="function"?v:n;var T=v?v(u,d):n;return T===n?cd(u,d,n,v):!!T}function Zv(u){if(!Jr(u))return!1;var d=Ys(u);return d==Be||d==Ne||typeof u.message=="string"&&typeof u.name=="string"&&!md(u)}function xz(u){return typeof u=="number"&&h(u)}function Tu(u){if(!qr(u))return!1;var d=Ys(u);return d==we||d==st||d==Te||d==tt}function k8(u){return typeof u=="number"&&u==nn(u)}function a1(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ve}function qr(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Jr(u){return u!=null&&typeof u=="object"}var E8=Ue?Nn(Ue):EO;function Sz(u,d){return u===d||bv(u,d,Bv(d))}function Tz(u,d,v){return v=typeof v=="function"?v:n,bv(u,d,Bv(d),v)}function kz(u){return M8(u)&&u!=+u}function Ez(u){if(uD(u))throw new Nt(s);return v7(u)}function Mz(u){return u===null}function Cz(u){return u==null}function M8(u){return typeof u=="number"||Jr(u)&&Ys(u)==lt}function md(u){if(!Jr(u)||Ys(u)!=et)return!1;var d=$a(u);if(d===null)return!0;var v=gn.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&gu.call(v)==wa}var Yv=$e?Nn($e):MO;function Az(u){return k8(u)&&u>=-ve&&u<=ve}var C8=xt?Nn(xt):CO;function o1(u){return typeof u=="string"||!Zt(u)&&Jr(u)&&Ys(u)==xn}function Ya(u){return typeof u=="symbol"||Jr(u)&&Ys(u)==Qn}var Lf=yt?Nn(yt):AO;function Iz(u){return u===n}function Rz(u){return Jr(u)&&Cs(u)==$n}function Pz(u){return Jr(u)&&Ys(u)==at}var Nz=Xm(xv),Lz=Xm(function(u,d){return u<=d});function A8(u){if(!u)return[];if(ka(u))return o1(u)?ui(u):Ta(u);if(xa&&u[xa])return hu(u[xa]());var d=Cs(u),v=d==ze?co:d==Ht?zi:Of;return v(u)}function ku(u){if(!u)return u===0?u:0;if(u=_o(u),u===me||u===-me){var d=u<0?-1:1;return d*pe}return u===u?u:0}function nn(u){var d=ku(u),v=d%1;return d===d?v?d-v:d:0}function I8(u){return u?yi(nn(u),0,j):0}function _o(u){if(typeof u=="number")return u;if(Ya(u))return Z;if(qr(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=qr(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=oo(u);var v=_i.test(u);return v||ts.test(u)?ml(u.slice(2),v?2:8):_s.test(u)?Z:+u}function R8(u){return Dl(u,Ea(u))}function Oz(u){return u?yi(nn(u),-ve,ve):u===0?u:0}function Xn(u){return u==null?"":Za(u)}var Dz=Rf(function(u,d){if(dd(d)||ka(d)){Dl(d,Hi(d),u);return}for(var v in d)gn.call(d,v)&&yc(u,v,d[v])}),P8=Rf(function(u,d){Dl(d,Ea(d),u)}),l1=Rf(function(u,d,v,T){Dl(d,Ea(d),u,T)}),Bz=Rf(function(u,d,v,T){Dl(d,Hi(d),u,T)}),zz=xu(x0);function Fz(u,d){var v=Pl(u);return d==null?v:as(v,d)}var Uz=pn(function(u,d){u=kn(u);var v=-1,T=d.length,O=T>2?d[2]:n;for(O&&js(d[0],d[1],O)&&(T=1);++v<T;)for(var $=d[v],J=Ea($),se=-1,ce=J.length;++se<ce;){var Pe=J[se],Le=u[Pe];(Le===n||Go(Le,fo[Pe])&&!gn.call(u,Pe))&&(u[Pe]=$[Pe])}return u}),qz=pn(function(u){return u.push(n,j7),St(N8,n,u)});function Hz(u,d){return xl(u,It(d,3),Ol)}function Wz(u,d){return xl(u,It(d,3),_v)}function Gz(u,d){return u==null?u:gv(u,It(d,3),Ea)}function $z(u,d){return u==null?u:m7(u,It(d,3),Ea)}function Vz(u,d){return u&&Ol(u,It(d,3))}function Zz(u,d){return u&&_v(u,It(d,3))}function Yz(u){return u==null?[]:Wm(u,Hi(u))}function jz(u){return u==null?[]:Wm(u,Ea(u))}function jv(u,d,v){var T=u==null?n:S0(u,d);return T===n?v:T}function Kz(u,d){return u!=null&&J7(u,d,yO)}function Kv(u,d){return u!=null&&J7(u,d,bO)}var Xz=G7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Al.call(d)),u[d]=v},Jv(Ma)),Jz=G7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Al.call(d)),gn.call(u,d)?u[d].push(v):u[d]=[v]},It),Qz=pn(ud);function Hi(u){return ka(u)?qm(u):wv(u)}function Ea(u){return ka(u)?qm(u,!0):IO(u)}function eF(u,d){var v={};return d=It(d,3),Ol(u,function(T,O,$){Sa(v,d(T,O,$),T)}),v}function tF(u,d){var v={};return d=It(d,3),Ol(u,function(T,O,$){Sa(v,O,d(T,O,$))}),v}var nF=Rf(function(u,d,v){Gm(u,d,v)}),N8=Rf(function(u,d,v,T){Gm(u,d,v,T)}),rF=xu(function(u,d){var v={};if(u==null)return v;var T=!1;d=Tn(d,function($){return $=xc($,u),T||(T=$.length>1),$}),Dl(u,Ov(u),v),T&&(v=Zs(v,m|g|y,XO));for(var O=d.length;O--;)Mv(v,d[O]);return v});function iF(u,d){return L8(u,s1(It(d)))}var sF=xu(function(u,d){return u==null?{}:PO(u,d)});function L8(u,d){if(u==null)return{};var v=Tn(Ov(u),function(T){return[T]});return d=It(d),k7(u,v,function(T,O){return d(T,O[0])})}function aF(u,d,v){d=xc(d,u);var T=-1,O=d.length;for(O||(O=1,u=n);++T<O;){var $=u==null?n:u[Bl(d[T])];$===n&&(T=O,$=v),u=Tu($)?$.call(u):$}return u}function oF(u,d,v){return u==null?u:fd(u,d,v)}function lF(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:fd(u,d,v,T)}var O8=Z7(Hi),D8=Z7(Ea);function uF(u,d,v){var T=Zt(u),O=T||Tc(u)||Lf(u);if(d=It(d,4),v==null){var $=u&&u.constructor;O?v=T?new $:[]:qr(u)?v=Tu($)?Pl($a(u)):{}:v={}}return(O?In:Ol)(u,function(J,se,ce){return d(v,J,se,ce)}),v}function cF(u,d){return u==null?!0:Mv(u,d)}function fF(u,d,v){return u==null?u:I7(u,d,Iv(v))}function hF(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:I7(u,d,Iv(v),T)}function Of(u){return u==null?[]:Ha(u,Hi(u))}function dF(u){return u==null?[]:Ha(u,Ea(u))}function pF(u,d,v){return v===n&&(v=d,d=n),v!==n&&(v=_o(v),v=v===v?v:0),d!==n&&(d=_o(d),d=d===d?d:0),yi(_o(u),d,v)}function mF(u,d,v){return d=ku(d),v===n?(v=d,d=0):v=ku(v),u=_o(u),wO(u,d,v)}function gF(u,d,v){if(v&&typeof v!="boolean"&&js(u,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof u=="boolean"&&(v=u,u=n)),u===n&&d===n?(u=0,d=1):(u=ku(u),d===n?(d=u,u=0):d=ku(d)),u>d){var T=u;u=d,d=T}if(v||u%1||d%1){var O=be();return z(u+O*(d-u+so("1e-"+((O+"").length-1))),d)}return Tv(u,d)}var _F=Pf(function(u,d,v){return d=d.toLowerCase(),u+(v?B8(d):d)});function B8(u){return Xv(Xn(u).toLowerCase())}function z8(u){return u=Xn(u),u&&u.replace(Zn,pc).replace(hl,"")}function vF(u,d,v){u=Xn(u),d=Za(d);var T=u.length;v=v===n?T:yi(nn(v),0,T);var O=v;return v-=d.length,v>=0&&u.slice(v,O)==d}function yF(u){return u=Xn(u),u&&Ut.test(u)?u.replace(An,kl):u}function bF(u){return u=Xn(u),u&&gi.test(u)?u.replace(ii,"\\$&"):u}var wF=Pf(function(u,d,v){return u+(v?"-":"")+d.toLowerCase()}),xF=Pf(function(u,d,v){return u+(v?" ":"")+d.toLowerCase()}),SF=q7("toLowerCase");function TF(u,d,v){u=Xn(u),d=nn(d);var T=d?Ur(u):0;if(!d||T>=d)return u;var O=(d-T)/2;return Km(Rl(O),v)+u+Km(po(O),v)}function kF(u,d,v){u=Xn(u),d=nn(d);var T=d?Ur(u):0;return d&&T<d?u+Km(d-T,v):u}function EF(u,d,v){u=Xn(u),d=nn(d);var T=d?Ur(u):0;return d&&T<d?Km(d-T,v)+u:u}function MF(u,d,v){return v||d==null?d=0:d&&(d=+d),de(Xn(u).replace(ms,""),d||0)}function CF(u,d,v){return(v?js(u,d,v):d===n)?d=1:d=nn(d),kv(Xn(u),d)}function AF(){var u=arguments,d=Xn(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var IF=Pf(function(u,d,v){return u+(v?"_":"")+d.toLowerCase()});function RF(u,d,v){return v&&typeof v!="number"&&js(u,d,v)&&(d=v=n),v=v===n?j:v>>>0,v?(u=Xn(u),u&&(typeof d=="string"||d!=null&&!Yv(d))&&(d=Za(d),!d&&ya(u))?Sc(ui(u),0,v):u.split(d,v)):[]}var PF=Pf(function(u,d,v){return u+(v?" ":"")+Xv(d)});function NF(u,d,v){return u=Xn(u),v=v==null?0:yi(nn(v),0,u.length),d=Za(d),u.slice(v,v+d.length)==d}function LF(u,d,v){var T=U.templateSettings;v&&js(u,d,v)&&(d=n),u=Xn(u),d=l1({},d,T,Y7);var O=l1({},d.imports,T.imports,Y7),$=Hi(O),J=Ha(O,$),se,ce,Pe=0,Le=d.interpolate||pa,Fe="__p += '",Je=gc((d.escape||pa).source+"|"+Le.source+"|"+(Le===Sr?zs:pa).source+"|"+(d.evaluate||pa).source+"|$","g"),gt="//# sourceURL="+(gn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ma+"]")+`
`;u.replace(Je,function(Pt,yn,Cn,ja,Ks,Ka){return Cn||(Cn=ja),Fe+=u.slice(Pe,Ka).replace(mr,uo),yn&&(se=!0,Fe+=`' +
__e(`+yn+`) +
'`),Ks&&(ce=!0,Fe+=`';
`+Ks+`;
__p += '`),Cn&&(Fe+=`' +
((__t = (`+Cn+`)) == null ? '' : __t) +
'`),Pe=Ka+Pt.length,Pt}),Fe+=`';
`;var Rt=gn.call(d,"variable")&&d.variable;if(!Rt)Fe=`with (obj) {
`+Fe+`
}
`;else if(Dr.test(Rt))throw new Nt(l);Fe=(ce?Fe.replace(fa,""):Fe).replace(Rr,"$1").replace(ha,"$1;"),Fe="function("+(Rt||"obj")+`) {
`+(Rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var un=U8(function(){return dn($,gt+"return "+Fe).apply(n,J)});if(un.source=Fe,Zv(un))throw un;return un}function OF(u){return Xn(u).toLowerCase()}function DF(u){return Xn(u).toUpperCase()}function BF(u,d,v){if(u=Xn(u),u&&(v||d===n))return oo(u);if(!u||!(d=Za(d)))return u;var T=ui(u),O=ui(d),$=ns(T,O),J=m0(T,O)+1;return Sc(T,$,J).join("")}function zF(u,d,v){if(u=Xn(u),u&&(v||d===n))return u.slice(0,mc(u)+1);if(!u||!(d=Za(d)))return u;var T=ui(u),O=m0(T,ui(d))+1;return Sc(T,0,O).join("")}function FF(u,d,v){if(u=Xn(u),u&&(v||d===n))return u.replace(ms,"");if(!u||!(d=Za(d)))return u;var T=ui(u),O=ns(T,ui(d));return Sc(T,O).join("")}function UF(u,d){var v=Y,T=V;if(qr(d)){var O="separator"in d?d.separator:O;v="length"in d?nn(d.length):v,T="omission"in d?Za(d.omission):T}u=Xn(u);var $=u.length;if(ya(u)){var J=ui(u);$=J.length}if(v>=$)return u;var se=v-Ur(T);if(se<1)return T;var ce=J?Sc(J,0,se).join(""):u.slice(0,se);if(O===n)return ce+T;if(J&&(se+=ce.length-se),Yv(O)){if(u.slice(se).search(O)){var Pe,Le=ce;for(O.global||(O=gc(O.source,Xn(Pn.exec(O))+"g")),O.lastIndex=0;Pe=O.exec(Le);)var Fe=Pe.index;ce=ce.slice(0,Fe===n?se:Fe)}}else if(u.indexOf(Za(O),se)!=se){var Je=ce.lastIndexOf(O);Je>-1&&(ce=ce.slice(0,Je))}return ce+T}function qF(u){return u=Xn(u),u&&Qi.test(u)?u.replace(mi,du):u}var HF=Pf(function(u,d,v){return u+(v?" ":"")+d.toUpperCase()}),Xv=q7("toUpperCase");function F8(u,d,v){return u=Xn(u),d=v?n:d,d===n?Wa(u)?mu(u):wl(u):u.match(d)||[]}var U8=pn(function(u,d){try{return St(u,n,d)}catch(v){return Zv(v)?v:new Nt(v)}}),WF=xu(function(u,d){return In(d,function(v){v=Bl(v),Sa(u,v,$v(u[v],u))}),u});function GF(u){var d=u==null?0:u.length,v=It();return u=d?Tn(u,function(T){if(typeof T[1]!="function")throw new ci(a);return[v(T[0]),T[1]]}):[],pn(function(T){for(var O=-1;++O<d;){var $=u[O];if(St($[0],this,T))return St($[1],this,T)}})}function $F(u){return gO(Zs(u,m))}function Jv(u){return function(){return u}}function VF(u,d){return u==null||u!==u?d:u}var ZF=W7(),YF=W7(!0);function Ma(u){return u}function Qv(u){return y7(typeof u=="function"?u:Zs(u,m))}function jF(u){return w7(Zs(u,m))}function KF(u,d){return x7(u,Zs(d,m))}var XF=pn(function(u,d){return function(v){return ud(v,u,d)}}),JF=pn(function(u,d){return function(v){return ud(u,v,d)}});function e4(u,d,v){var T=Hi(d),O=Wm(d,T);v==null&&!(qr(d)&&(O.length||!T.length))&&(v=d,d=u,u=this,O=Wm(d,Hi(d)));var $=!(qr(v)&&"chain"in v)||!!v.chain,J=Tu(u);return In(O,function(se){var ce=d[se];u[se]=ce,J&&(u.prototype[se]=function(){var Pe=this.__chain__;if($||Pe){var Le=u(this.__wrapped__),Fe=Le.__actions__=Ta(this.__actions__);return Fe.push({func:ce,args:arguments,thisArg:u}),Le.__chain__=Pe,Le}return ce.apply(u,Ss([this.value()],arguments))})}),u}function QF(){return gr._===this&&(gr._=g0),this}function t4(){}function eU(u){return u=nn(u),pn(function(d){return S7(d,u)})}var tU=Pv(Tn),nU=Pv(Mn),rU=Pv(bl);function q8(u){return Fv(u)?Si(Bl(u)):NO(u)}function iU(u){return function(d){return u==null?n:S0(u,d)}}var sU=$7(),aU=$7(!0);function n4(){return[]}function r4(){return!1}function oU(){return{}}function lU(){return""}function uU(){return!0}function cU(u,d){if(u=nn(u),u<1||u>ve)return[];var v=j,T=z(u,j);d=It(d),u-=j;for(var O=Tl(T,d);++v<u;)d(v);return O}function fU(u){return Zt(u)?Tn(u,Bl):Ya(u)?[u]:Ta(o8(Xn(u)))}function hU(u){var d=++Cl;return Xn(u)+d}var dU=jm(function(u,d){return u+d},0),pU=Nv("ceil"),mU=jm(function(u,d){return u/d},1),gU=Nv("floor");function _U(u){return u&&u.length?Hm(u,Ma,vv):n}function vU(u,d){return u&&u.length?Hm(u,It(d,2),vv):n}function yU(u){return hc(u,Ma)}function bU(u,d){return hc(u,It(d,2))}function wU(u){return u&&u.length?Hm(u,Ma,xv):n}function xU(u,d){return u&&u.length?Hm(u,It(d,2),xv):n}var SU=jm(function(u,d){return u*d},1),TU=Nv("round"),kU=jm(function(u,d){return u-d},0);function EU(u){return u&&u.length?dc(u,Ma):0}function MU(u,d){return u&&u.length?dc(u,It(d,2)):0}return U.after=jB,U.ary=v8,U.assign=Dz,U.assignIn=P8,U.assignInWith=l1,U.assignWith=Bz,U.at=zz,U.before=y8,U.bind=$v,U.bindAll=WF,U.bindKey=b8,U.castArray=oz,U.chain=m8,U.chunk=gD,U.compact=_D,U.concat=vD,U.cond=GF,U.conforms=$F,U.constant=Jv,U.countBy=EB,U.create=Fz,U.curry=w8,U.curryRight=x8,U.debounce=S8,U.defaults=Uz,U.defaultsDeep=qz,U.defer=KB,U.delay=XB,U.difference=yD,U.differenceBy=bD,U.differenceWith=wD,U.drop=xD,U.dropRight=SD,U.dropRightWhile=TD,U.dropWhile=kD,U.fill=ED,U.filter=CB,U.flatMap=RB,U.flatMapDeep=PB,U.flatMapDepth=NB,U.flatten=f8,U.flattenDeep=MD,U.flattenDepth=CD,U.flip=JB,U.flow=ZF,U.flowRight=YF,U.fromPairs=AD,U.functions=Yz,U.functionsIn=jz,U.groupBy=LB,U.initial=RD,U.intersection=PD,U.intersectionBy=ND,U.intersectionWith=LD,U.invert=Xz,U.invertBy=Jz,U.invokeMap=DB,U.iteratee=Qv,U.keyBy=BB,U.keys=Hi,U.keysIn=Ea,U.map=n1,U.mapKeys=eF,U.mapValues=tF,U.matches=jF,U.matchesProperty=KF,U.memoize=i1,U.merge=nF,U.mergeWith=N8,U.method=XF,U.methodOf=JF,U.mixin=e4,U.negate=s1,U.nthArg=eU,U.omit=rF,U.omitBy=iF,U.once=QB,U.orderBy=zB,U.over=tU,U.overArgs=ez,U.overEvery=nU,U.overSome=rU,U.partial=Vv,U.partialRight=T8,U.partition=FB,U.pick=sF,U.pickBy=L8,U.property=q8,U.propertyOf=iU,U.pull=zD,U.pullAll=d8,U.pullAllBy=FD,U.pullAllWith=UD,U.pullAt=qD,U.range=sU,U.rangeRight=aU,U.rearg=tz,U.reject=HB,U.remove=HD,U.rest=nz,U.reverse=Wv,U.sampleSize=GB,U.set=oF,U.setWith=lF,U.shuffle=$B,U.slice=WD,U.sortBy=YB,U.sortedUniq=KD,U.sortedUniqBy=XD,U.split=RF,U.spread=rz,U.tail=JD,U.take=QD,U.takeRight=eB,U.takeRightWhile=tB,U.takeWhile=nB,U.tap=_B,U.throttle=iz,U.thru=t1,U.toArray=A8,U.toPairs=O8,U.toPairsIn=D8,U.toPath=fU,U.toPlainObject=R8,U.transform=uF,U.unary=sz,U.union=rB,U.unionBy=iB,U.unionWith=sB,U.uniq=aB,U.uniqBy=oB,U.uniqWith=lB,U.unset=cF,U.unzip=Gv,U.unzipWith=p8,U.update=fF,U.updateWith=hF,U.values=Of,U.valuesIn=dF,U.without=uB,U.words=F8,U.wrap=az,U.xor=cB,U.xorBy=fB,U.xorWith=hB,U.zip=dB,U.zipObject=pB,U.zipObjectDeep=mB,U.zipWith=gB,U.entries=O8,U.entriesIn=D8,U.extend=P8,U.extendWith=l1,e4(U,U),U.add=dU,U.attempt=U8,U.camelCase=_F,U.capitalize=B8,U.ceil=pU,U.clamp=pF,U.clone=lz,U.cloneDeep=cz,U.cloneDeepWith=fz,U.cloneWith=uz,U.conformsTo=hz,U.deburr=z8,U.defaultTo=VF,U.divide=mU,U.endsWith=vF,U.eq=Go,U.escape=yF,U.escapeRegExp=bF,U.every=MB,U.find=AB,U.findIndex=u8,U.findKey=Hz,U.findLast=IB,U.findLastIndex=c8,U.findLastKey=Wz,U.floor=gU,U.forEach=g8,U.forEachRight=_8,U.forIn=Gz,U.forInRight=$z,U.forOwn=Vz,U.forOwnRight=Zz,U.get=jv,U.gt=dz,U.gte=pz,U.has=Kz,U.hasIn=Kv,U.head=h8,U.identity=Ma,U.includes=OB,U.indexOf=ID,U.inRange=mF,U.invoke=Qz,U.isArguments=E0,U.isArray=Zt,U.isArrayBuffer=mz,U.isArrayLike=ka,U.isArrayLikeObject=fi,U.isBoolean=gz,U.isBuffer=Tc,U.isDate=_z,U.isElement=vz,U.isEmpty=yz,U.isEqual=bz,U.isEqualWith=wz,U.isError=Zv,U.isFinite=xz,U.isFunction=Tu,U.isInteger=k8,U.isLength=a1,U.isMap=E8,U.isMatch=Sz,U.isMatchWith=Tz,U.isNaN=kz,U.isNative=Ez,U.isNil=Cz,U.isNull=Mz,U.isNumber=M8,U.isObject=qr,U.isObjectLike=Jr,U.isPlainObject=md,U.isRegExp=Yv,U.isSafeInteger=Az,U.isSet=C8,U.isString=o1,U.isSymbol=Ya,U.isTypedArray=Lf,U.isUndefined=Iz,U.isWeakMap=Rz,U.isWeakSet=Pz,U.join=OD,U.kebabCase=wF,U.last=go,U.lastIndexOf=DD,U.lowerCase=xF,U.lowerFirst=SF,U.lt=Nz,U.lte=Lz,U.max=_U,U.maxBy=vU,U.mean=yU,U.meanBy=bU,U.min=wU,U.minBy=xU,U.stubArray=n4,U.stubFalse=r4,U.stubObject=oU,U.stubString=lU,U.stubTrue=uU,U.multiply=SU,U.nth=BD,U.noConflict=QF,U.noop=t4,U.now=r1,U.pad=TF,U.padEnd=kF,U.padStart=EF,U.parseInt=MF,U.random=gF,U.reduce=UB,U.reduceRight=qB,U.repeat=CF,U.replace=AF,U.result=aF,U.round=TU,U.runInContext=ue,U.sample=WB,U.size=VB,U.snakeCase=IF,U.some=ZB,U.sortedIndex=GD,U.sortedIndexBy=$D,U.sortedIndexOf=VD,U.sortedLastIndex=ZD,U.sortedLastIndexBy=YD,U.sortedLastIndexOf=jD,U.startCase=PF,U.startsWith=NF,U.subtract=kU,U.sum=EU,U.sumBy=MU,U.template=LF,U.times=cU,U.toFinite=ku,U.toInteger=nn,U.toLength=I8,U.toLower=OF,U.toNumber=_o,U.toSafeInteger=Oz,U.toString=Xn,U.toUpper=DF,U.trim=BF,U.trimEnd=zF,U.trimStart=FF,U.truncate=UF,U.unescape=qF,U.uniqueId=hU,U.upperCase=HF,U.upperFirst=Xv,U.each=g8,U.eachRight=_8,U.first=h8,e4(U,function(){var u={};return Ol(U,function(d,v){gn.call(U.prototype,v)||(u[v]=d)}),u}(),{chain:!1}),U.VERSION=r,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),In(["drop","take"],function(u,d){tn.prototype[u]=function(v){v=v===n?1:E(nn(v),0);var T=this.__filtered__&&!d?new tn(this):this.clone();return T.__filtered__?T.__takeCount__=z(v,T.__takeCount__):T.__views__.push({size:z(v,j),type:u+(T.__dir__<0?"Right":"")}),T},tn.prototype[u+"Right"]=function(v){return this.reverse()[u](v).reverse()}}),In(["filter","map","takeWhile"],function(u,d){var v=d+1,T=v==le||v==he;tn.prototype[u]=function(O){var $=this.clone();return $.__iteratees__.push({iteratee:It(O,3),type:v}),$.__filtered__=$.__filtered__||T,$}}),In(["head","last"],function(u,d){var v="take"+(d?"Right":"");tn.prototype[u]=function(){return this[v](1).value()[0]}}),In(["initial","tail"],function(u,d){var v="drop"+(d?"":"Right");tn.prototype[u]=function(){return this.__filtered__?new tn(this):this[v](1)}}),tn.prototype.compact=function(){return this.filter(Ma)},tn.prototype.find=function(u){return this.filter(u).head()},tn.prototype.findLast=function(u){return this.reverse().find(u)},tn.prototype.invokeMap=pn(function(u,d){return typeof u=="function"?new tn(this):this.map(function(v){return ud(v,u,d)})}),tn.prototype.reject=function(u){return this.filter(s1(It(u)))},tn.prototype.slice=function(u,d){u=nn(u);var v=this;return v.__filtered__&&(u>0||d<0)?new tn(v):(u<0?v=v.takeRight(-u):u&&(v=v.drop(u)),d!==n&&(d=nn(d),v=d<0?v.dropRight(-d):v.take(d-u)),v)},tn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},tn.prototype.toArray=function(){return this.take(j)},Ol(tn.prototype,function(u,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),T=/^(?:head|last)$/.test(d),O=U[T?"take"+(d=="last"?"Right":""):d],$=T||/^find/.test(d);O&&(U.prototype[d]=function(){var J=this.__wrapped__,se=T?[1]:arguments,ce=J instanceof tn,Pe=se[0],Le=ce||Zt(J),Fe=function(yn){var Cn=O.apply(U,Ss([yn],se));return T&&Je?Cn[0]:Cn};Le&&v&&typeof Pe=="function"&&Pe.length!=1&&(ce=Le=!1);var Je=this.__chain__,gt=!!this.__actions__.length,Rt=$&&!Je,un=ce&&!gt;if(!$&&Le){J=un?J:new tn(this);var Pt=u.apply(J,se);return Pt.__actions__.push({func:t1,args:[Fe],thisArg:n}),new qi(Pt,Je)}return Rt&&un?u.apply(this,se):(Pt=this.thru(Fe),Rt?T?Pt.value()[0]:Pt.value():Pt)})}),In(["pop","push","shift","sort","splice","unshift"],function(u){var d=El[u],v=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var O=arguments;if(T&&!this.__chain__){var $=this.value();return d.apply(Zt($)?$:[],O)}return this[v](function(J){return d.apply(Zt(J)?J:[],O)})}}),Ol(tn.prototype,function(u,d){var v=U[d];if(v){var T=v.name+"";gn.call(Vs,T)||(Vs[T]=[]),Vs[T].push({name:d,func:v})}}),Vs[Ym(n,P).name]=[{name:"wrapper",func:n}],tn.prototype.clone=ad,tn.prototype.reverse=nv,tn.prototype.value=ki,U.prototype.at=vB,U.prototype.chain=yB,U.prototype.commit=bB,U.prototype.next=wB,U.prototype.plant=SB,U.prototype.reverse=TB,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=kB,U.prototype.first=U.prototype.head,xa&&(U.prototype[xa]=xB),U},ks=Ws();Di?((Di.exports=ks)._=ks,Yr._=ks):gr._=ks}).call(Nc)})(R_,R_.exports);var due=R_.exports;function AS(t){let e,n,r=t[4]==null?"...":t[4].features.length+" Region/States",i,s,a,l;return{c(){e=K("button"),n=Ie("FocusedCountry : "),i=Ie(r),H(e,"class",s="ui button small "+(t[4]==null?"orange  loading":"green"))},m(c,f){vt(c,e,f),R(e,n),R(e,i),a||(l=je(e,"click",t[14]),a=!0)},p(c,f){f&16&&r!==(r=c[4]==null?"...":c[4].features.length+" Region/States")&&bt(i,r),f&16&&s!==(s="ui button small "+(c[4]==null?"orange  loading":"green"))&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function IS(t){let e,n,r=t[2]==null?"...":t[2].id+" ("+t[2].features.length+")",i,s,a,l;return{c(){e=K("button"),n=Ie("IMTgrid : "),i=Ie(r),H(e,"class",s="ui button small "+(t[2]==null?"orange ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(c,f){vt(c,e,f),R(e,n),R(e,i),a||(l=je(e,"click",t[15]),a=!0)},p(c,f){f&4&&r!==(r=c[2]==null?"...":c[2].id+" ("+c[2].features.length+")")&&bt(i,r),f&12&&s!==(s="ui button small "+(c[2]==null?"orange ":"green")+" "+(c[3]!=null)+"?'loading':''")&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function RS(t){let e,n,r=t[5]==null?"...":t[5].name+" ("+t[5].features.length+")",i,s,a,l;return{c(){e=K("button"),n=Ie("SatAntenna : "),i=Ie(r),H(e,"class",s="ui button small "+(t[5]==null?"orange  loading":"green"))},m(c,f){vt(c,e,f),R(e,n),R(e,i),a||(l=je(e,"click",t[16]),a=!0)},p(c,f){f&32&&r!==(r=c[5]==null?"...":c[5].name+" ("+c[5].features.length+")")&&bt(i,r),f&32&&s!==(s="ui button small "+(c[5]==null?"orange  loading":"green"))&&H(e,"class",s)},d(c){c&&ht(e),a=!1,l()}}}function pue(t){let e,n,r,i,s=(t[1]==null?"...":t[1].length)+"",a,l,c,f,p,m,g,y,w=t[6].FocusCountry.disabled!=!0&&AS(t),S=t[6].IMTgrid.disabled!=!0&&IS(t),I=t[6].SatAntenna.disabled!=!0&&RS(t);return{c(){e=K("div"),e.textContent="Loading",n=ge(),r=K("button"),i=Ie("WorldMap : "),a=Ie(s),c=ge(),w&&w.c(),f=ge(),S&&S.c(),p=ge(),I&&I.c(),m=W_(),H(e,"class","ui"),H(e,"id","bar"),H(r,"class",l="ui button small "+(t[1]==null?"orange  loading":"green"))},m(P,k){vt(P,e,k),vt(P,n,k),vt(P,r,k),R(r,i),R(r,a),vt(P,c,k),w&&w.m(P,k),vt(P,f,k),S&&S.m(P,k),vt(P,p,k),I&&I.m(P,k),vt(P,m,k),g||(y=je(r,"click",t[13]),g=!0)},p(P,[k]){k&2&&s!==(s=(P[1]==null?"...":P[1].length)+"")&&bt(a,s),k&2&&l!==(l="ui button small "+(P[1]==null?"orange  loading":"green"))&&H(r,"class",l),P[6].FocusCountry.disabled!=!0?w?w.p(P,k):(w=AS(P),w.c(),w.m(f.parentNode,f)):w&&(w.d(1),w=null),P[6].IMTgrid.disabled!=!0?S?S.p(P,k):(S=IS(P),S.c(),S.m(p.parentNode,p)):S&&(S.d(1),S=null),P[6].SatAntenna.disabled!=!0?I?I.p(P,k):(I=RS(P),I.c(),I.m(m.parentNode,m)):I&&(I.d(1),I=null)},i:Rn,o:Rn,d(P){P&&ht(e),P&&ht(n),P&&ht(r),P&&ht(c),w&&w.d(P),P&&ht(f),S&&S.d(P),P&&ht(p),I&&I.d(P),P&&ht(m),g=!1,y()}}}let PS="/fss/";async function mue(t,e){return new Promise((n,r)=>{let i=indexedDB.open("mapinformation",1);i.onsuccess=async()=>{let a=i.result.transaction("globalmap","readwrite").objectStore("globalmap").put(e,t);a.onsuccess=l=>{l.target.result!==void 0?(console.log("saveRecord() Success ",l.target.result),n(l.target.result)):n("saveRecord() EMPTY/Error")},a.onerror=l=>{console.log("saveRecord() WEB WORKER saveRecord Error"),r(l)}}})}function gue(t,e,n){let r,i;qc(t,Sf,Y=>n(3,r=Y)),qc(t,qp,Y=>n(12,i=Y));let{mapData:s={GlobalMap:void 0,FocusCountry:{},IMTMap:{},FSSMap:void 0,SatelliteBeam:{},hasFSSPattern:!1,visibleRegion:[]}}=e,a,l,c,f,{logger:p=null}=e,m=["Asia","Oceania"],g={WorldMap:{localpath:"/common/mergedworlds.topojson.json",fspath:"/mergedworlds.topojson.json",type:"json"},FocusCountry:{localpath:"/focused/country/australia.json",fspath:"/australia/australia.json",type:"json"},IMTgrid:{localpath:"/focused/imt/australiaIMTgrid.json",fspath:"/australia/australiaIMTgrid.json",type:"json"},SatAntenna:{localpath:"/focused/fss/GSATgainsLarge.csv",fspath:"/india/GSATgainsLarge.csv",type:"csv"}},{SatelliteBeam:y}=e,w={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5,Name:"AsiaSat"};nh(()=>{});let{countries:S=[]}=e;nh(()=>{let Y=Object.keys(g);console.log("Processing keys ",Y),Y.forEach(V=>{var ee=g[V].fspath=="";n(6,g[V].disabled=g[V].disabled||ee,g)})});async function I(Y){let V="Path Error "+Y,ee=g[Y];{if(r!=null)V=await LN(PS+ee.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",PS)}return V}async function P(){let Y=Object.keys(g);console.log("Processing keys ",Y),n(7,s.visibleRegion=m,s),Y.forEach(V=>{switch(n(6,g[V].disabled=g[V].disabled||!1,g),V){case"WorldMap":I("WorldMap").then(ee=>{var fe=rg(ee);fe.then(le=>{let ie=le.filter(he=>he.properties.UNRegion!=null);return ie=ie.map((he,me)=>(he.properties.selected=!1,he.properties.hasIMTgrid=!1,he.properties.RaRbFactor=!0,he.properties.indx=me,he)),n(1,l=ie),n(7,s.GlobalMap=l,s),C(),Array.from(new Set(l.map(he=>he.properties.UNRegion))),n(9,S=bg(Array.from(new Set(l.map((he,me)=>({Country:he.properties.NAMEen,Region:he.properties.UNRegion,selected:he.selected||!1,mapGridIndx:me})))),he=>he.Region,he=>he.Country)),ie}),p.showStatus("WorldMap",fe)}).catch(ee=>{console.log("WorldMap",ee.toString())});break;case"FocusCountry":if(g.FocusCountry.disabled==!0)break;I("FocusCountry").then(ee=>{console.log("Solving ","FocusCountry",ee);var fe=rg(ee);fe.then(le=>(n(7,s.FocusCountry=le,s),n(4,a=le),le)),p.showStatus("FocusCountry",fe)}).catch(ee=>{console.log("FocusCountry",ee.toString()),p.appendNode("FocusCountry",ee.toString())});break;case"IMTgrid":if(g.IMTgrid.disabled==!0)break;I("IMTgrid").then(ee=>{console.log("Solving ","IMTgrid",ee);var fe=rg(ee);fe.then(le=>(n(2,c=le),n(7,s.IMTMap=le,s),le)),p.showStatus("IMTgrid",fe)}).catch(ee=>{p.appendNode("IMTgrid",ee.toString())});break;case"SatAntenna":if(n(7,s.hasFSSPattern=!1,s),g.SatAntenna.disabled==!0)break;I("SatAntenna").then(ee=>{console.log("Solving ","SatAntenna",ee);var fe=bE(ee,Ag).then(le=>(n(5,f=N(le)),n(7,s.FSSMap=f,s),n(7,s.hasFSSPattern=!0,s),f));p.showStatus("SatAntenna",fe)}).catch(ee=>{console.log("SatAntenna",ee.toString()),p.appendNode("SatAntenna",ee.toString())});break}}),console.log("Loading files...")}let k;async function A(){console.log("indexdb load"),k=indexedDB.open("mapinformation",1),k.onsuccess=()=>{k.result,console.log("MapData IndexDB indexdb success")},k.onupgradeneeded=function(){let Y=k.result;console.log("MapData IndexDB On upgrade needed"),Y.objectStoreNames.contains("globalmap")?Y.deleteObjectStore("globalmap"):(Y.createObjectStore("globalmap"),console.log("MapData IndexDB Created objsect store globalmap"))}}nh(A);async function C(){return new Promise((Y,V)=>{let ee=indexedDB.open("mapinformation",1);ee.onsuccess=()=>{let le=ee.result.transaction("globalmap","readwrite").objectStore("globalmap");le.clear(),s.GlobalMap.forEach(ie=>{let he=le.add(ie,ie.properties.NAMEen);he.onsuccess=function(){},he.onerror=function(){console.log("IndexDB Error adding features",he.error)}}),Y()}})}function N(Y){let ee=j0(Y.map(ie=>Hp([ie.Longitude,ie.Latitude],{FSSRxGain:ie.AntennaGain})));ee.properties={OffsetGain:-2,EdgeOffsetGain:-3};let fe=$N(ee,{concavity:2});fe.properties={beamtype:"points",hasPoints:!0,OffsetGain:0,EdgeOffsetGain:-3,name:"GSAT boundary"};let le=j0([fe,ee]);return le.bounds=s3(ee),le.beamtype="pointgrid",le.name="GSAT India Beam",console.log("Processing DONE ",le),le}const D=()=>{p.queueNode("WorldMap",l,{type:"json"})},F=()=>{p.queueNode("FocusCountry",a,{type:"json"})},W=()=>{p.queueNode("IMTgrid",c,{type:"json"})},G=()=>{console.log("loading ..",f.name),p.queueNode("SatAntenna",f,{type:"json"})};return t.$$set=Y=>{"mapData"in Y&&n(7,s=Y.mapData),"logger"in Y&&n(0,p=Y.logger),"SatelliteBeam"in Y&&n(8,y=Y.SatelliteBeam),"countries"in Y&&n(9,S=Y.countries)},t.$$.update=()=>{if(t.$$.dirty&6&&c!=null&&l!=null){let Y=c.id,V=l.findIndex(ee=>ee.properties.NAMEen==Y);if(V!=-1){n(1,l[V].properties.hasIMTgrid=!0,l),n(1,l[V].properties.RaRbFactor=!1,l),n(1,l[V].properties.IMTgrid=c,l);let ee=l[V];mue(Y,ee)}}if(t.$$.dirty&4104&&(console.log("Calling RTDB"),r!=null)){let Y=i;ON(Y).then(V=>{console.log("getData() : FilePaths = ",Y,V),n(6,g=V.MapData),n(11,m=V.visibleRegion||[]),console.log("Visiable path getData ",V.visibleRegion),P()}).catch(V=>console.log("Error : getData error",V))}t.$$.dirty&2050&&l!=null&&Q1(l,Y=>m.includes(Y.properties.UNRegion))},n(8,y=w),n(7,s.SatelliteBeam=w,s),[p,l,c,r,a,f,g,s,y,S,P,m,i,D,F,W,G]}class _ue extends sc{constructor(e){super(),ic(this,e,gue,pue,eo,{mapData:7,logger:0,SatelliteBeam:8,countries:9,loadFiles:10})}get loadFiles(){return this.$$.ctx[10]}}const vue=t=>({}),NS=t=>({}),yue=t=>({}),LS=t=>({});function bue(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,P,k,A,C,N,D,F,W,G,Y,V,ee,fe,le,ie,he,me,ve,pe,Z,j,ae,Ee,Oe,Re,Se,Te,Ce,_e,Ne,Be,we,st,ze,lt,ft,et,kt,tt,wn,Ht,xn,Qn,Bn,$n,at,jt,Vn,er,pi;const rr=t[13].header,tr=Iy(rr,t,t[12],LS),Lr=t[13].meta,Kn=Iy(Lr,t,t[12],NS);return{c(){e=K("link"),n=ge(),r=K("dialog"),tr&&tr.c(),i=ge(),s=Ie(t[1]),a=ge(),l=K("div"),c=ge(),f=K("div"),p=K("div"),m=K("div"),g=K("div"),y=K("div"),w=K("div"),S=K("label"),S.textContent="FSS Rx Gain (dBi)",I=ge(),P=K("input"),k=ge(),A=K("input"),C=ge(),N=K("div"),D=K("label"),D.textContent="Beam (Lng)",F=ge(),W=K("input"),G=ge(),Y=K("input"),V=ge(),ee=K("div"),fe=K("label"),fe.textContent="Beam (Lat)",le=ge(),ie=K("input"),he=ge(),me=K("input"),ve=ge(),pe=K("div"),Z=K("label"),Z.textContent="Footprint majorAxis (BMx)",j=ge(),ae=K("input"),Ee=ge(),Oe=K("input"),Re=ge(),Se=K("div"),Te=K("label"),Te.textContent="Footprint majorAxis (BMy)",Ce=ge(),_e=K("input"),Ne=ge(),Be=K("input"),we=ge(),st=K("div"),ze=K("label"),ze.textContent="Global Footprint Rotate",lt=ge(),ft=K("input"),et=ge(),kt=K("input"),tt=ge(),wn=K("div"),Ht=K("div"),xn=K("div"),xn.textContent="Placeholder",Qn=ge(),Bn=K("div"),$n=ge(),Kn&&Kn.c(),at=ge(),jt=K("button"),jt.textContent="close modal",document.title="IMT interference to FSS Analysis 2",H(e,"rel","stylesheet"),H(e,"href","../static/css/semantic.min.css"),H(l,"class","ui divider svelte-1imfldp"),H(P,"type","number"),H(P,"step","1"),H(P,"min","10"),H(P,"max","40"),H(A,"type","range"),H(A,"step","1"),H(A,"min","10"),H(A,"max","40"),H(w,"class","field"),H(W,"type","number"),H(W,"min","0,"),H(W,"max","150"),H(W,"step","0.5"),W.disabled=!0,H(W,"size","5"),cs(W,"width","50px"),H(Y,"type","range"),H(Y,"min","0,"),H(Y,"max","150"),H(Y,"step","0.5"),Y.disabled=!0,H(N,"class","field"),H(ie,"type","number"),H(ie,"min","-90"),H(ie,"max","90"),H(ie,"step","0.5"),H(ie,"size","14"),H(me,"type","range"),H(me,"step","0.5"),H(me,"min","-90"),H(me,"max","90"),H(me,"size","14"),H(ee,"class","field"),H(ae,"type","number"),H(ae,"step","0.5"),H(ae,"min","10"),H(ae,"max","90"),H(Oe,"type","range"),H(Oe,"step","0.5"),H(Oe,"min","10"),H(Oe,"max","90"),H(pe,"class","field"),H(_e,"type","number"),H(_e,"step","0.5"),H(_e,"min","1"),H(_e,"max","90"),H(Be,"type","range"),H(Be,"step","0.5"),H(Be,"min","1"),H(Be,"max","90"),H(Se,"class","field"),H(ft,"type","number"),H(ft,"step","0.5"),H(ft,"min","-90"),H(ft,"max","90"),H(kt,"type","range"),H(kt,"step","0.5"),H(kt,"min","-90"),H(kt,"max","90"),H(st,"class","field"),H(y,"class","ui fields one column grid"),H(g,"class","ui basic segment teal inverted"),H(m,"class","six wide column"),H(xn,"id","plot"),H(Ht,"class","ui container segment teal"),H(wn,"class","ten wide column"),H(p,"class","ui two column divided grid"),H(Bn,"class","ui divider"),H(f,"class","ui basic segment svelte-1imfldp"),H(jt,"class","ui primary button floating"),jt.autofocus=!0,H(r,"class","svelte-1imfldp")},m(mt,an){R(document.head,e),vt(mt,n,an),vt(mt,r,an),tr&&tr.m(r,null),R(r,i),R(r,s),R(r,a),R(r,l),R(r,c),R(r,f),R(f,p),R(p,m),R(m,g),R(g,y),R(y,w),R(w,S),R(w,I),R(w,P),dt(P,t[0]),R(w,k),R(w,A),dt(A,t[0]),R(y,C),R(y,N),R(N,D),R(N,F),R(N,W),dt(W,t[3].BeamLng),R(N,G),R(N,Y),dt(Y,t[3].BeamLng),R(y,V),R(y,ee),R(ee,fe),R(ee,le),R(ee,ie),dt(ie,t[3].BeamLat),R(ee,he),R(ee,me),dt(me,t[3].BeamLat),R(y,ve),R(y,pe),R(pe,Z),R(pe,j),R(pe,ae),dt(ae,t[3].rx),R(pe,Ee),R(pe,Oe),dt(Oe,t[3].rx),R(y,Re),R(y,Se),R(Se,Te),R(Se,Ce),R(Se,_e),dt(_e,t[3].ry),R(Se,Ne),R(Se,Be),dt(Be,t[3].ry),R(y,we),R(y,st),R(st,ze),R(st,lt),R(st,ft),dt(ft,t[3].theta),R(st,et),R(st,kt),dt(kt,t[3].theta),R(p,tt),R(p,wn),R(wn,Ht),R(Ht,xn),t[26](xn),R(f,Qn),R(f,Bn),R(f,$n),Kn&&Kn.m(f,null),R(r,at),R(r,jt),t[28](r),Vn=!0,jt.focus(),er||(pi=[je(P,"input",t[14]),je(A,"change",t[15]),je(A,"input",t[15]),je(W,"input",t[16]),je(Y,"change",t[17]),je(Y,"input",t[17]),je(ie,"input",t[18]),je(me,"change",t[19]),je(me,"input",t[19]),je(ae,"input",t[20]),je(Oe,"change",t[21]),je(Oe,"input",t[21]),je(_e,"input",t[22]),je(Be,"change",t[23]),je(Be,"input",t[23]),je(ft,"input",t[24]),je(kt,"change",t[25]),je(kt,"input",t[25]),je(jt,"click",t[27]),je(r,"close",t[5]),je(r,"click",BU(t[5]))],er=!0)},p(mt,[an]){tr&&tr.p&&(!Vn||an&4096)&&Py(tr,rr,mt,mt[12],Vn?Ry(rr,mt[12],an,yue):Ny(mt[12]),LS),(!Vn||an&2)&&bt(s,mt[1]),an&1&&Yt(P.value)!==mt[0]&&dt(P,mt[0]),an&1&&dt(A,mt[0]),an&8&&Yt(W.value)!==mt[3].BeamLng&&dt(W,mt[3].BeamLng),an&8&&dt(Y,mt[3].BeamLng),an&8&&Yt(ie.value)!==mt[3].BeamLat&&dt(ie,mt[3].BeamLat),an&8&&dt(me,mt[3].BeamLat),an&8&&Yt(ae.value)!==mt[3].rx&&dt(ae,mt[3].rx),an&8&&dt(Oe,mt[3].rx),an&8&&Yt(_e.value)!==mt[3].ry&&dt(_e,mt[3].ry),an&8&&dt(Be,mt[3].ry),an&8&&Yt(ft.value)!==mt[3].theta&&dt(ft,mt[3].theta),an&8&&dt(kt,mt[3].theta),Kn&&Kn.p&&(!Vn||an&4096)&&Py(Kn,Lr,mt,mt[12],Vn?Ry(Lr,mt[12],an,vue):Ny(mt[12]),NS)},i(mt){Vn||(ea(tr,mt),ea(Kn,mt),Vn=!0)},o(mt){Ra(tr,mt),Ra(Kn,mt),Vn=!1},d(mt){ht(e),mt&&ht(n),mt&&ht(r),tr&&tr.d(mt),t[26](null),Kn&&Kn.d(mt),t[28](null),er=!1,al(pi)}}}function wue(t,e,n){let{$$slots:r={},$$scope:i}=e,{showModal:s}=e,a,{defaultFootprint:l=void 0}=e,{SatelliteBeam:c}=e,f={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5},{reference:p={}}=e,{SatRxGain:m=20}=e,g=null;nh(()=>{n(7,l=w(c,m)),S(l),n(8,c=f)});function y(){console.log("update() Fn Called "),n(7,l=w(f,m))}function w(me,ve){let pe=lue([me.BeamLng,me.BeamLat],me.rx,me.ry,{units:"degrees",steps:96,angle:me.theta,properties:{beamtype:"shapedbeams",FSSRxGain:ve,OffsetGain:0,EdgeOffsetGain:-50,beamCenter:[me.BeamLng,me.BeamLat],angle:me.theta,rx:me.rx,ry:me.ry}});due.reverse(pe.geometry.coordinates[0]);let Z;return Z=j0([pe]),Z.beamtype="shapedbeams",Z.name="Global Footprint",Z.properties={angle:me.theta,rx:me.rx,ry:me.ry,beamCenter:[me.BeamLng,me.BeamLat]},Z}async function S(me){if(g==null||f==null||s==!1){console.log("Skip rendering beam");return}console.log("drawPattern() : ");let ve=Qo({projection:{type:"orthographic",rotate:[-f.BeamLng,0]},color:{legend:!0,domain:[10,40],type:"linear",scheme:"BuRd",nice:!0,marginLeft:30,label:"FSS Rx Gain (dBi)",marginRight:30,width:300},marginLeft:0,marginTop:0,marks:[tR(),nR(),jo(p,{stroke:"grey",fill:"white",fillOpacity:.1}),jo(me,{fill:pe=>m,stroke:"orange",fillOpacity:.5})]});n(4,g.innerHTML="",g),g.append(ve)}let{satAngle:I}=e;function P(){n(6,s=!1),a.close(),n(8,c=f),n(7,l=w(f))}function k(){m=Yt(this.value),n(0,m)}function A(){m=Yt(this.value),n(0,m)}function C(){f.BeamLng=Yt(this.value),n(3,f)}function N(){f.BeamLng=Yt(this.value),n(3,f)}function D(){f.BeamLat=Yt(this.value),n(3,f)}function F(){f.BeamLat=Yt(this.value),n(3,f)}function W(){f.rx=Yt(this.value),n(3,f)}function G(){f.rx=Yt(this.value),n(3,f)}function Y(){f.ry=Yt(this.value),n(3,f)}function V(){f.ry=Yt(this.value),n(3,f)}function ee(){f.theta=Yt(this.value),n(3,f)}function fe(){f.theta=Yt(this.value),n(3,f)}function le(me){Lt[me?"unshift":"push"](()=>{g=me,n(4,g)})}const ie=()=>a.close();function he(me){Lt[me?"unshift":"push"](()=>{a=me,n(2,a)})}return t.$$set=me=>{"showModal"in me&&n(6,s=me.showModal),"defaultFootprint"in me&&n(7,l=me.defaultFootprint),"SatelliteBeam"in me&&n(8,c=me.SatelliteBeam),"reference"in me&&n(9,p=me.reference),"SatRxGain"in me&&n(0,m=me.SatRxGain),"satAngle"in me&&n(1,I=me.satAngle),"$$scope"in me&&n(12,i=me.$$scope)},t.$$.update=()=>{t.$$.dirty&68&&a&&s&&a.showModal(),t.$$.dirty&603&&(g!=null&&s==!0?S(w(f,m)):n(7,l=w(f,m)))},[m,I,a,f,g,P,s,l,c,p,y,w,i,r,k,A,C,N,D,F,W,G,Y,V,ee,fe,le,ie,he]}class xue extends sc{constructor(e){super(),ic(this,e,wue,bue,eo,{showModal:6,defaultFootprint:7,SatelliteBeam:8,reference:9,SatRxGain:0,update:10,createFootPrint:11,satAngle:1})}get update(){return this.$$.ctx[10]}get createFootPrint(){return this.$$.ctx[11]}}function Sue(t){let e,n,r,i,s,a;return{c(){e=K("button"),e.textContent="RePlot",n=ge(),r=K("div"),H(e,"class","ui primary button"),H(r,"class",""),wo(()=>t[24].call(r))},m(l,c){vt(l,e,c),vt(l,n,c),vt(l,r,c),t[23](r),i=vg(r,t[24].bind(r)),s||(a=je(e,"click",t[2]),s=!0)},p:Rn,i:Rn,o:Rn,d(l){l&&ht(e),l&&ht(n),l&&ht(r),t[23](null),i(),s=!1,a()}}}function Tue(t,e,n){let{showModal:r}=e,i,s,a=null,{N0:l}=e;function c(){n(18,i=[])}function f(){n(0,a.innerHTML="",a),a.append(W),a.append(i),a.append(s),a.append(ie),a.append(G)}let{binnedData:p,stats:m,gainloss:g}=e,{satAngle:y,cr:w,factor:S,Raindx:I,Rbindx:P,SatGainScale:k}=e,{ApplyEIRPMask:A}=e,{MASKOffset:C}=e,N=1,{totalI:D}=e,F,W,G;function Y(){if(p==null)return;N=S.UrbSurbRatio;let pe=fr(p,ae=>ae.totalareasqkm)*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+fr(p,ae=>ae.totalIMTBS*N),Z=fr(p,ae=>ae.totalareasqkm)*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+fr(p,ae=>ae.totalIMTBS*(1-N)),j=pe+Z;n(20,W=Qo({width:F,marginLeft:0,marks:[Hf(p,{y:ae=>ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*N,title:ae=>(ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*N).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:ae=>w(ae.x)}),Hf(p,{y:ae=>ae.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+ae.totalIMTBS*(1-N),title:ae=>(ae.totalIMTBS*(1-N)+ae.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity).toFixed(1),rotate:-90,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:ae=>w(ae.x)}),R0(p,{y:ae=>ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*N,text:ae=>{var Ee=ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*N;return Ee>100?qn("2.2~s")(Ee):qn(".0f")(Math.floor(Ee))},rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:ae=>k(ae.maxRxGain)})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:ae=>Math.floor(ae)},y:{nice:!0,tickRotate:-40,label:"BS/SectorCount (Ra*Rb*Density)"},caption:`P3 Satellite${y} | Total ${qn("2.2~s")(j)} -(${pe.toFixed(0)}+${Z.toFixed(0)} )Active :${qn("2.1~s")(j*S.TDD*S.NW)} | Ra${I.val+1}(${S.Urban.Ra*100}%),Rb${P.val+1}
    (${S.Urban.Rb*100}%)`}))}function V(pe){var Z=g.find(j=>j.el==pe);return Z!=null?Z.CL+Z.GL+Z.PL:0}function ee(pe){var Z=g.find(ae=>ae.el==pe);if(Z==null)return{UrbanAg:0,SubUrbanAg:0};var j={UrbanAg:Z.UrbanAg,SubUrbanAg:Z.SubUrbanAg};return j.UrbanAg+=A?Z.UrbanOffset:0,j.SubUrbanAg+=A?Z.SubUrbanOffset:0,j}function fe(){if(m==null||g==null||p==null)return;let pe=Os(p,Z=>Z.x);n(21,G=Qo({width:F,marks:[Hf(m,{marker:"dot",y:Z=>Z.suburbandB+ee(Z.x).SubUrbanAg-V(Z.x)-l,title:Z=>Z.suburbandB+ee(Z.x).SubUrbanAg-V(Z.x)-l,x:"x",fill:Z=>w(Z.x)}),I1(m,{marker:"dot",y:Z=>Z.urbandB+ee(Z.x).UrbanAg-V(Z.x)-l,title:Z=>Z.urbandB+ee(Z.x).UrbanAg-V(Z.x)-l,stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),R0(m,{marker:"dot",y:Z=>Z.suburbandB+ee(Z.x).SubUrbanAg-V(Z.x)-l,text:Z=>(Z.suburbandB+ee(Z.x).SubUrbanAg-V(Z.x)-l).toFixed(0),dy:-5,x:"x"}),Ou(g,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",tip:!0}),Ou(g,{x:"el",y:"SubUrbanAg",tip:!0,marker:"dot",stroke:"grey"}),Ab(D,{y:Z=>Z.I-l,stroke:"Env",title:Z=>Z.I-l})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:na(pe[0],pe[1]+1),tickFormat:Z=>Math.floor(Z)},color:{legend:!1},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`P6 : Satellite angle is ${y}`}))}function le(){if(p==null)return;p.map(Z=>Z.x);let pe=qn("2.3~s")(fr(p,Z=>Z.totalareasqkm));n(18,i=Qo({width:F,marks:[Hf(p,{y:"count",x:"x",fill:Z=>w(Z.x),title:Z=>Z.x}),R0(p,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:Z=>Z.x})],grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:Z=>Math.floor(Z)},y:{label:"Number of 1degree grid",nice:!0},caption:`P1 grids vs Elev. angle @ Satellite ${y} `})),n(19,s=Qo({width:F,marks:[Hf(p,{title:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,y:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,x:"x",cumulative:!1,fill:Z=>w(Z.x)}),R0(p,{text:Z=>qn(".2~s")(Z.totalareasqkm+Z.totalIMTareasqkm),y:Z=>Z.totalareasqkm+Z.totalIMTareasqkm,x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},caption:`P2 Satellite angle is ${y} | Total Area: ${pe} sqkm`}))}let ie;function he(){if(g==null||p==null)return;var pe=y;let Z=Os(p,j=>j.x);n(22,ie=Qo({width:F,marks:[Ou(g,{marker:"dot",y:j=>-j.CL-j.GL-j.PL,title:j=>-j.CL-j.GL-j.PL,x:j=>+j.el,strokeWidth:1,stroke:"green",tip:!0}),I1(m,{marker:"dot",y:j=>j.suburbandB,x:"x",stroke:"grey",fill:j=>w(j.x)}),I1(m,{marker:"dot",y:j=>j.urbandB,x:"x",strokeWidth:2,stroke:"red"}),R0(m,{marker:"dot",y:j=>j.suburbandB,x:"x",text:j=>j.suburbandB.toFixed(0),dy:-15}),Hf(m,{marker:"dot",y:j=>j.suburbandB+ee(j.x).SubUrbanAg-V(j.x),title:j=>j.suburbandB+ee(j.x).SubUrbanAg-V(j.x),x:"x",fill:j=>w(j.x)}),I1(m,{marker:"dot",y:j=>j.urbandB+ee(j.x).UrbanAg-V(j.x),title:j=>j.urbandB+ee(j.x).UrbanAg-V(j.x),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),Ab(D,{stroke:j=>j.Env,y:j=>j.I,strokeWidth:3,strokeDasharray:[5,5],title:j=>j.I+j.Env}),R0(D,{y:j=>j.I,x:Z[1],dy:-5,fontSize:12,textAnchor:"end",text:j=>j.Name+` ${j.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:na(Z[0],Z[1]+1),tickFormat:j=>Math.floor(j)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`P5: Satellite angle is ${pe}`}))}function me(pe){Lt[pe?"unshift":"push"](()=>{a=pe,n(0,a)})}function ve(){F=this.clientWidth,n(1,F)}return t.$$set=pe=>{"showModal"in pe&&n(3,r=pe.showModal),"N0"in pe&&n(4,l=pe.N0),"binnedData"in pe&&n(6,p=pe.binnedData),"stats"in pe&&n(7,m=pe.stats),"gainloss"in pe&&n(8,g=pe.gainloss),"satAngle"in pe&&n(9,y=pe.satAngle),"cr"in pe&&n(10,w=pe.cr),"factor"in pe&&n(11,S=pe.factor),"Raindx"in pe&&n(12,I=pe.Raindx),"Rbindx"in pe&&n(13,P=pe.Rbindx),"SatGainScale"in pe&&n(14,k=pe.SatGainScale),"ApplyEIRPMask"in pe&&n(15,A=pe.ApplyEIRPMask),"MASKOffset"in pe&&n(16,C=pe.MASKOffset),"totalI"in pe&&n(17,D=pe.totalI)},t.$$.update=()=>{t.$$.dirty[0]&8,t.$$.dirty[0]&64&&(Y(),le()),t.$$.dirty[0]&448&&(he(),fe()),t.$$.dirty[0]&8126465&&a!=null&&f()},[a,F,f,r,l,c,p,m,g,y,w,S,I,P,k,A,C,D,i,s,W,G,ie,me,ve]}class kue extends sc{constructor(e){super(),ic(this,e,Tue,Sue,eo,{showModal:3,N0:4,Reset:5,binnedData:6,stats:7,gainloss:8,satAngle:9,cr:10,factor:11,Raindx:12,Rbindx:13,SatGainScale:14,ApplyEIRPMask:15,MASKOffset:16,totalI:17},null,[-1,-1])}get Reset(){return this.$$.ctx[5]}}function OS(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function DS(t,e,n){const r=t.slice();return r[7]=e[n],r}function BS(t){let e=t[2].label+"",n,r,i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=zS(DS(t,l,f));return{c(){n=Ie(e),r=ge(),i=K("select");for(let f=0;f<c.length;f+=1)c[f].c();H(i,"class","ui selection dropdown"),t[0]===void 0&&wo(()=>t[4].call(i))},m(f,p){vt(f,n,p),vt(f,r,p),vt(f,i,p);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);zl(i,t[0],!0),s||(a=je(i,"change",t[4]),s=!0)},p(f,p){if(p&4&&e!==(e=f[2].label+"")&&bt(n,e),p&2){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=DS(f,l,m);c[m]?c[m].p(g,p):(c[m]=zS(g),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}p&3&&zl(i,f[0])},d(f){f&&ht(n),f&&ht(r),f&&ht(i),Ic(c,f),s=!1,a()}}}function zS(t){let e,n=t[7]+"",r,i;return{c(){e=K("option"),r=Ie(n),e.__value=i=t[7],e.value=e.__value},m(s,a){vt(s,e,a),R(e,r)},p(s,a){a&2&&n!==(n=s[7]+"")&&bt(r,n),a&2&&i!==(i=s[7])&&(e.__value=i,e.value=e.__value)},d(s){s&&ht(e)}}}function FS(t){let e,n,r=t[2].label+"",i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=US(OS(t,l,f));return{c(){e=K("div"),n=K("label"),i=Ie(r),a=ge();for(let f=0;f<c.length;f+=1)c[f].c();H(n,"for",s=t[2].label),H(n,"class","ui label right pointing blue"),H(e,"class","ui container raised segment")},m(f,p){vt(f,e,p),R(e,n),R(n,i),R(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null)},p(f,p){if(p&4&&r!==(r=f[2].label+"")&&bt(i,r),p&4&&s!==(s=f[2].label)&&H(n,"for",s),p&3){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=OS(f,l,m);c[m]?c[m].p(g,p):(c[m]=US(g),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(f){f&&ht(e),Ic(c,f)}}}function US(t){let e,n,r=!1,i,s,a=t[7]+"",l,c,f,p,m;return f=FU(t[6][0]),{c(){e=K("input"),i=ge(),s=K("label"),l=Ie(a),c=ge(),H(e,"type","radio"),e.__value=n=t[7],e.value=e.__value,f.p(e)},m(g,y){vt(g,e,y),e.checked=e.__value===t[0],vt(g,i,y),vt(g,s,y),R(s,l),R(s,c),p||(m=je(e,"change",t[5]),p=!0)},p(g,y){y&2&&n!==(n=g[7])&&(e.__value=n,e.value=e.__value,r=!0),(r||y&3)&&(e.checked=e.__value===g[0]),y&2&&a!==(a=g[7]+"")&&bt(l,a)},d(g){g&&ht(e),g&&ht(i),g&&ht(s),f.r(),p=!1,m()}}}function Eue(t){let e,n,r=t[3]=="select"&&BS(t),i=t[3]=="radio"&&FS(t);return{c(){r&&r.c(),e=ge(),i&&i.c(),n=W_()},m(s,a){r&&r.m(s,a),vt(s,e,a),i&&i.m(s,a),vt(s,n,a)},p(s,[a]){s[3]=="select"?r?r.p(s,a):(r=BS(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[3]=="radio"?i?i.p(s,a):(i=FS(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:Rn,o:Rn,d(s){r&&r.d(s),s&&ht(e),i&&i.d(s),s&&ht(n)}}}function Mue(t,e,n){let{data:r}=e,{value:i}=e,{opts:s={label:""}}=e,{type:a}=e;const l=[[]];function c(){i=Pd(this),n(0,i),n(1,r)}function f(){i=this.__value,n(0,i),n(1,r)}return t.$$set=p=>{"data"in p&&n(1,r=p.data),"value"in p&&n(0,i=p.value),"opts"in p&&n(2,s=p.opts),"type"in p&&n(3,a=p.type)},[i,r,s,a,c,f,l]}class qS extends sc{constructor(e){super(),ic(this,e,Mue,Eue,eo,{data:1,value:0,opts:2,type:3})}}function $r(t,e,n){return{resolve(r=n){return`${t}@${e}/${r}`}}}const Cue=$r("d3","7.8.5","dist/d3.min.js"),Aue=$r("@observablehq/inputs","0.10.6","dist/inputs.min.js"),Iue=$r("@observablehq/plot","0.6.11","dist/plot.umd.min.js"),Rue=$r("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),hy=$r("@observablehq/highlight.js","2.0.0","highlight.min.js"),HS=$r("@observablehq/katex","0.11.1","dist/katex.min.js"),Pue=$r("lodash","4.17.21","lodash.min.js"),Nue=$r("htl","0.3.1","dist/htl.min.js"),Lue=$r("jszip","3.10.1","dist/jszip.min.js"),Oue=$r("marked","0.3.12","marked.min.js"),WS=$r("sql.js","1.8.0","dist/sql-wasm.js"),Due=$r("vega","5.22.1","build/vega.min.js"),Bue=$r("vega-lite","5.6.0","build/vega-lite.min.js"),zue=$r("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),u3=$r("apache-arrow","4.0.1","Arrow.es2015.min.js"),Fue=$r("apache-arrow","9.0.0","+esm"),XN=$r("apache-arrow","11.0.0","+esm"),Uue=$r("arquero","4.8.8","dist/arquero.min.js"),que=$r("topojson-client","3.1.0","dist/topojson-client.min.js"),Hue=$r("exceljs","4.3.0","dist/exceljs.min.js"),Wue=$r("mermaid","9.2.2","dist/mermaid.min.js"),GS=$r("leaflet","1.9.3","dist/leaflet.js"),Id=$r("@duckdb/duckdb-wasm","1.24.0","+esm"),z1=new Map,Nm=[],c3=Nm.map,Gue=Nm.some,$ue=Nm.hasOwnProperty,Vue=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,Zue=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,$S=/(?:\.[^/]*|\/)$/;class zh extends Error{constructor(e){super(e)}}zh.prototype.name=zh.name;function VS(t){const e=Vue.exec(t);return e&&{name:e[1],version:e[2],path:e[3]}}function JN(t="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw new Error("origin lacks trailing slash");function n(i){for(const s of e){let a=i[s];if(typeof a=="string")return a.startsWith("./")&&(a=a.slice(2)),$S.test(a)?a:`${a}.js`}}function r(i){const s=`${t}${i.name}${i.version?`@${i.version}`:""}/package.json`;let a=z1.get(s);return a||z1.set(s,a=fetch(s).then(l=>{if(!l.ok)throw new zh("unable to load package.json");return l.redirected&&!z1.has(l.url)&&z1.set(l.url,a),l.json()})),a}return async function(s,a){if(s.startsWith(t)&&(s=s.substring(t.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,a??location).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new zh("illegal name");const l=VS(s);if(!l)return`${t}${s}`;if(!l.version&&a!=null&&a.startsWith(t)){const f=await r(VS(a.substring(t.length)));l.version=f.dependencies&&f.dependencies[l.name]||f.peerDependencies&&f.peerDependencies[l.name]}if(l.path&&!$S.test(l.path)&&(l.path+=".js"),l.path&&l.version&&Zue.test(l.version))return`${t}${l.name}@${l.version}/${l.path}`;const c=await r(l);return`${t}${c.name}@${c.version}/${l.path||n(c)||"index.js"}`}}var Yue=Z2(JN());function Z2(t){const e=new Map,n=i(null);function r(l){if(typeof l!="string")return l;let c=e.get(l);return c||e.set(l,c=new Promise((f,p)=>{const m=document.createElement("script");m.onload=()=>{try{f(Nm.pop()(i(l)))}catch{p(new zh("invalid module"))}m.remove()},m.onerror=()=>{p(new zh("unable to load module")),m.remove()},m.async=!0,m.src=l,window.define=QN,document.head.appendChild(m)})),c}function i(l){return c=>Promise.resolve(t(c,l)).then(r)}function s(l){return Z2((c,f)=>c in l&&(c=l[c],f=null,typeof c!="string")?c:t(c,f))}function a(l){return arguments.length>1?Promise.all(c3.call(arguments,n)).then(jue):n(l)}return a.alias=s,a.resolve=t,a}function jue(t){const e={};for(const n of t)for(const r in n)$ue.call(n,r)&&(n[r]==null?Object.defineProperty(e,r,{get:Kue(n,r)}):e[r]=n[r]);return e}function Kue(t,e){return()=>t[e]}function Xue(t){return t=t+"",t==="exports"||t==="module"}function QN(t,e,n){const r=arguments.length;r<2?(n=t,e=[]):r<3&&(n=e,e=typeof t=="string"?[]:t),Nm.push(Gue.call(e,Xue)?i=>{const s={},a={exports:s};return Promise.all(c3.call(e,l=>(l=l+"",l==="exports"?s:l==="module"?a:i(l)))).then(l=>(n.apply(null,l),a.exports))}:i=>Promise.all(c3.call(e,i)).then(s=>typeof n=="function"?n.apply(null,s):n))}QN.amd={};const zc="https://cdn.observableusercontent.com/npm/";let Zc=Yue;function Jue(t){Zc=t}function Que(t){return t==null?Zc:Z2(t)}async function eL(t){const[e,n]=await Promise.all([t(WS.resolve()),t.resolve(WS.resolve("dist/"))]);return e({locateFile:r=>`${n}${r}`})}class Lm{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[n,r]=await Promise.all([eL(Zc),Promise.resolve(e).then(f3)]);return new Lm(new n.Database(r))}async query(e,n){return await tce(this._db,e,n)}async queryRow(e,n){return(await this.query(e,n))[0]||null}async explain(e,n){const r=await this.query(`EXPLAIN QUERY PLAN ${e}`,n);return Ec("pre",{className:"observablehq--inspect"},[dy(r.map(i=>i.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,e==null?[]:[e])}async describeColumns({schema:e,table:n}={}){if(n==null)throw new Error("missing table");const r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[n]:[n,e]);if(!r.length)throw new Error(`table not found: ${n}`);return r.map(({name:i,type:s,notnull:a})=>({name:i,type:ece(s),databaseType:s,nullable:!a}))}async describe(e){const n=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!n.length)throw new Error("Not found");const{columns:r}=n;return Ec("table",{value:n},[Ec("thead",[Ec("tr",r.map(i=>Ec("th",[dy(i)])))]),Ec("tbody",n.map(i=>Ec("tr",r.map(s=>Ec("td",[dy(i[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...n){return[e.join("?"),n]}}Object.defineProperty(Lm.prototype,"dialect",{value:"sqlite"});function ece(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}function f3(t){return typeof t=="string"?fetch(t).then(f3):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(f3):t instanceof ArrayBuffer?new Uint8Array(t):t}async function tce(t,e,n){const[r]=await t.exec(e,n);if(!r)return[];const{columns:i,values:s}=r,a=s.map(l=>Object.fromEntries(l.map((c,f)=>[i[f],c])));return a.columns=i,a}function Ec(t,e,n){arguments.length===2&&(n=e,e=void 0);const r=document.createElement(t);if(e!==void 0)for(const i in e)r[i]=e[i];if(n!==void 0)for(const i of n)r.appendChild(i);return r}function dy(t){return document.createTextNode(t)}function O6(t){return t&&typeof t.toArrowBuffer=="function"}function P_(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function nce(t){return t.schema.fields.map(rce)}function rce(t){return{name:t.name,type:ice(t.type),nullable:t.nullable,databaseType:String(t.type)}}function ice(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function D6(){return await Ep(()=>import(`${zc}${XN.resolve()}`),[])}let py;class Om{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,n){const r=await this._db.connect();let i,s;try{if((n==null?void 0:n.length)>0?i=await(await r.prepare(e)).send(...n):i=await r.send(e),s=await i.next(),s.done)throw new Error("missing first batch")}catch(a){throw await r.close(),a}return{schema:nce(s.value),async*readRows(){try{for(;!s.done;)yield s.value.toArray(),s=await i.next()}finally{await r.close()}}}}async query(e,n){const r=await this.queryStream(e,n),i=[];for await(const s of r.readRows())for(const a of s)i.push(a);return i.schema=r.schema,i}async queryRow(e,n){const i=(await this.queryStream(e,n)).readRows();try{const{done:s,value:a}=await i.next();return s||!a.length?null:a[0]}finally{await i.return()}}async sql(e,...n){return await this.query(e.join("?"),n)}queryTag(e,...n){return[e.join("?"),n]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:n})=>({name:n}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:r,column_type:i,null:s})=>({name:r,type:uce(i),nullable:s!=="NO",databaseType:i}))}static async of(e={},n={}){var i,s;const r=await lce();return((i=n.query)==null?void 0:i.castTimestampToDate)===void 0&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),((s=n.query)==null?void 0:s.castBigIntToDouble)===void 0&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await r.open(n),await Promise.all(Object.entries(e).map(async([a,l])=>{if(l instanceof Is)await ZS(r,a,l);else if(P_(l))await N_(r,a,l);else if(Array.isArray(l))await YS(r,a,l);else if(O6(l))await ace(r,a,l);else if("data"in l){const{data:c,...f}=l;P_(c)?await N_(r,a,c,f):await YS(r,a,c,f)}else if("file"in l){const{file:c,...f}=l;await ZS(r,a,c,f)}else throw new Error(`invalid source: ${l}`)})),new Om(r)}}Object.defineProperty(Om.prototype,"dialect",{value:"duckdb"});async function ZS(t,e,n,r){const i=await n.url();if(i.startsWith("blob:")){const a=await n.arrayBuffer();await t.registerFileBuffer(n.name,new Uint8Array(a))}else await t.registerFileURL(n.name,i,4);const s=await t.connect();try{switch(n.mimeType){case"text/csv":case"text/tab-separated-values":return await s.insertCSVFromPath(n.name,{name:e,schema:"main",...r}).catch(async a=>{if(a.toString().includes("Could not convert"))return await sce(s,n,e);throw a});case"application/json":return await s.insertJSONFromPath(n.name,{name:e,schema:"main",...r});default:if(/\.arrow$/i.test(n.name)){const a=new Uint8Array(await n.arrayBuffer());return await s.insertArrowFromIPCStream(a,{name:e,schema:"main",...r})}if(/\.parquet$/i.test(n.name))return await s.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${n.name}')`);throw new Error(`unknown file type: ${n.mimeType}`)}}finally{await s.close()}}async function sce(t,e,n){return await(await t.prepare(`CREATE TABLE '${n}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`)).send(e.name)}async function N_(t,e,n,r){const i=await t.connect();try{await i.insertArrowTable(n,{name:e,schema:"main",...r})}finally{await i.close()}}async function ace(t,e,n){const i=(await D6()).tableFromIPC(n.toArrowBuffer());return await N_(t,e,i)}async function YS(t,e,n,r){const s=(await D6()).tableFromJSON(n);return await N_(t,e,s,r)}async function oce(){const t=await Ep(()=>import(`${zc}${Id.resolve()}`),[]),e=await t.selectBundle({mvp:{mainModule:`${zc}${Id.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${zc}${Id.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${zc}${Id.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${zc}${Id.resolve("dist/duckdb-browser-eh.worker.js")}`}}),n=new t.ConsoleLogger;return{module:t,bundle:e,logger:n}}async function lce(){py===void 0&&(py=oce());const{module:t,bundle:e,logger:n}=await py,r=await t.createWorker(e.mainWorker),i=new t.AsyncDuckDB(n,r);return await i.instantiate(e.mainModule),i}function uce(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(t)?"integer":"other"}}const B6=20;function cce(t,e){return t&&(typeof t.sql=="function"||typeof t.queryTag=="function"&&(typeof t.query=="function"||typeof t.queryStream=="function"))&&(e!=="table"||typeof t.describeColumns=="function")&&t!==oL}function Y2(t){return Array.isArray(t)&&(tL(t.schema)||nL(t.columns)||fce(t)||iL(t)||sL(t))||aL(t)}function fce(t){const e=Math.min(B6,t.length);for(let n=0;n<e;++n){const r=t[n];if(r===null||typeof r!="object")return!1}return e>0&&hce(t[0])}function hce(t){for(const e in t)return!0;return!1}function tL(t){return Array.isArray(t)&&t.every(dce)}function nL(t){return Array.isArray(t)&&t.every(e=>typeof e=="string")}function dce(t){return t&&typeof t.name=="string"&&typeof t.type=="string"}function rL(t){return aL(t)||iL(t)||sL(t)}function iL(t){const e=Math.min(B6,t.length);if(!(e>0))return!1;let n,r=!1;for(let i=0;i<e;++i){const s=t[i];if(s==null)continue;const a=typeof s;if(n===void 0)switch(a){case"number":case"boolean":case"string":case"bigint":n=a;break;default:return!1}else if(a!==n)return!1;r=!0}return r}function sL(t){const e=Math.min(B6,t.length);if(!(e>0))return!1;let n=!1;for(let r=0;r<e;++r){const i=t[r];if(i!=null){if(!(i instanceof Date))return!1;n=!0}}return n}function aL(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}const oL=Object.assign(async(t,e,n,r)=>{if(t=await pce(await t,r),cce(t))return jS(t,yce(e,t),n);if(Y2(t))return zce(t,e);throw t?new Error("invalid data source"):new Error("missing data source")},{sql(t,e,n){return async function(){return jS(await mce(await t,n),arguments,e)}}});function lL(t){const e=new WeakMap;return(n,r)=>{if(!n||typeof n!="object")throw new Error("invalid data source");let i=e.get(n);return(!i||Y2(n)&&n.length!==i._numRows)&&(i=t(n,r),i._numRows=n.length,e.set(n,i)),i}}const pce=lL(async(t,e)=>{if(t instanceof Is){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return eh(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return P_(t)||O6(t)?eh(t,e):Y2(t)&&rL(t)?Array.from(t,n=>({value:n})):t}),mce=lL(async(t,e)=>{if(t instanceof Is){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return eh(t,e);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return eh(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return Y2(t)?eh(await gce(t,e),e):P_(t)||O6(t)?eh(t,e):t});async function gce(t,e){const n=await D6();return rL(t)?n.tableFromArrays({[e]:t}):n.tableFromJSON(t)}function eh(t,e=t instanceof Is?_ce(t):"__table"){return Om.of({[e]:t})}function _ce(t){return t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function jS(t,e,n){if(!t)throw new Error("missing data source");if(typeof t.queryTag=="function"){const r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),typeof t.queryStream=="function")return vce(t.queryStream(...t.queryTag.apply(t,e),i));if(typeof t.query=="function")return t.query(...t.queryTag.apply(t,e),i)}if(typeof t.sql=="function")return t.sql.apply(t,e);throw new Error("source does not implement query, queryStream, or sql")}async function*vce(t){let e=performance.now();const n=await t,r=[];r.done=!1,r.error=null,r.schema=n.schema;try{for await(const i of n.readRows()){performance.now()-e>150&&r.length>0&&(yield r,e=performance.now());for(const s of i)r.push(s)}r.done=!0,yield r}catch(i){r.error=i,yield r}}function yce(t,e){var m;const n=typeof e.escape=="function"?e.escape:g=>g,{select:r,from:i,filter:s,sort:a,slice:l}=t;if(!i.table)throw new Error("missing from table");if(r.columns&&r.columns.length===0)throw new Error("at least one column must be selected");const c=new Map((m=t.names)==null?void 0:m.map(({column:g,name:y})=>[g,y])),p=[[`SELECT ${r.columns?r.columns.map(g=>{const y=c.get(g);return y?`${n(g)} AS ${n(y)}`:n(g)}).join(", "):"*"} FROM ${bce(i.table,n)}`]];for(let g=0;g<s.length;++g)Wr(g?`
AND `:`
WHERE `,p),wce(s[g],p,n);for(let g=0;g<a.length;++g)Wr(g?", ":`
ORDER BY `,p),KS(a[g],p,n);if(e.dialect==="mssql"||e.dialect==="oracle"){if(l.to!==null||l.from!==null){if(!a.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");Wr(`
ORDER BY `,p),KS({column:r.columns[0],direction:"ASC"},p,n)}Wr(`
OFFSET ${l.from||0} ROWS`,p),Wr(`
FETCH NEXT ${l.to!==null?l.to-(l.from||0):1e9} ROWS ONLY`,p)}}else(l.to!==null||l.from!==null)&&Wr(`
LIMIT ${l.to!==null?l.to-(l.from||0):1e9}`,p),l.from!==null&&Wr(` OFFSET ${l.from}`,p);return p}function bce(t,e){if(typeof t=="object"){let n="";return t.database!=null&&(n+=e(t.database)+"."),t.schema!=null&&(n+=e(t.schema)+"."),n+=e(t.table),n}else return e(t)}function Wr(t,e){const n=e[0];n[n.length-1]+=t}function KS({column:t,direction:e},n,r){Wr(`${r(t)} ${e.toUpperCase()}`,n)}function wce({type:t,operands:e},n,r){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1||t==="v"||t==="nv")switch($f(e[0],n,r),t){case"n":case"nv":Wr(" IS NULL",n);return;case"nn":case"v":Wr(" IS NOT NULL",n);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(t))if(["c","nc"].includes(t)){switch($f(e[0],n,r),t){case"c":Wr(" LIKE ",n);break;case"nc":Wr(" NOT LIKE ",n);break}$f(Sce(e[1]),n,r);return}else{switch($f(e[0],n,r),t){case"eq":Wr(" = ",n);break;case"ne":Wr(" <> ",n);break;case"gt":Wr(" > ",n);break;case"lt":Wr(" < ",n);break;case"gte":Wr(" >= ",n);break;case"lte":Wr(" <= ",n);break;default:throw new Error("Invalid filter operation")}$f(e[1],n,r);return}switch($f(e[0],n,r),t){case"in":Wr(" IN (",n);break;case"nin":Wr(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}xce(e.slice(1),n),Wr(")",n)}function $f(t,e,n){t.type==="column"?Wr(n(t.value),e):(e.push(t.value),e[0].push(""))}function xce(t,e){let n=!0;for(const r of t)n?n=!1:Wr(",",e),e.push(r.value),e[0].push("")}function Sce(t){return{...t,value:`%${t.value}%`}}function uL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))}function Tce(t,e){return uL(t,e)||(t<e?-1:t>e?1:0)}function kce(t,e){return uL(t,e)||(t>e?-1:t<e?1:0)}const Ece=t=>typeof t=="number"&&!Number.isNaN(t),Mce=t=>Number.isInteger(t)&&!Number.isNaN(t),Cce=t=>typeof t=="string",Ace=t=>typeof t=="boolean",Ice=t=>typeof t=="bigint",Rce=t=>t instanceof Date&&!isNaN(t),Pce=t=>t instanceof ArrayBuffer,Nce=t=>Array.isArray(t),Lce=t=>typeof t=="object"&&t!==null,Oce=t=>t!=null;function XS(t){switch(t){case"string":return Cce;case"bigint":return Ice;case"boolean":return Ace;case"number":return Ece;case"integer":return Mce;case"date":return Rce;case"buffer":return Pce;case"array":return Nce;case"object":return Lce;case"other":default:return Oce}}const cL=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function Dce(t,e){switch(e){case"string":return typeof t=="string"||t==null?t:String(t);case"boolean":if(typeof t=="string"){const n=t.trim().toLowerCase();return n==="true"?!0:n==="false"?!1:null}return typeof t=="boolean"||t==null?t:!!t;case"bigint":return typeof t=="bigint"||t==null?t:Number.isInteger(typeof t=="string"&&!t.trim()?NaN:+t)?BigInt(t):void 0;case"integer":case"number":return typeof t=="number"?t:t==null||typeof t=="string"&&!t.trim()?NaN:Number(t);case"date":{if(t instanceof Date||t==null)return t;if(typeof t=="number")return new Date(t);const n=String(t).trim();return typeof t=="string"&&!n?null:new Date(cL.test(n)?n:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw new Error(`Unable to coerce to type: ${e}`)}}function Bce(t){const{columns:e}=t;let{schema:n}=t;return tL(n)?{schema:n,inferred:!1}:(n=fL(t,nL(e)?e:void 0),{schema:n,inferred:!0})}function JS(t,e){const n=t;let{schema:r,inferred:i}=Bce(t);const s=new Map(r.map(({name:a,type:l})=>[a,l]));if(e.types){for(const{name:a,type:l}of e.types){s.set(a,l),r===n.schema&&(r=r.slice());const c=r.findIndex(f=>f.name===a);c>-1&&(r[c]={...r[c],type:l})}t=t.map(a=>h3(a,s,r))}else i&&(t=t.map(a=>h3(a,s,r)));return{source:t,schema:r}}function QS(t,e){if(!e.names)return t;const n=new Map(e.names.map(r=>[r.column,r]));return t.map(r=>Object.fromEntries(Object.keys(r).map(i=>{const s=n.get(i);return[(s==null?void 0:s.name)??i,r[i]]})))}function zce(t,e){const n=new Map,r=t,i=JS(t,e);t=i.source;let s=i.schema;if(e.derive){const f=[];e.derive.map(({name:m,value:g})=>{let y=[];QS(t,e).map((w,S)=>{let I;try{I=g(w)}catch(P){y.push({index:S,error:P}),I=void 0}f[S]?f[S]={...f[S],[m]:I}:f.push({[m]:I})}),y.length&&n.set(m,y)});const p=JS(f,e);t=t.map((m,g)=>({...m,...p.source[g]})),s=[...s,...p.schema]}for(const{type:f,operands:p}of e.filter){const[{value:m}]=p,g=p.slice(1).map(({value:y})=>y);switch(f){case"v":{const[y]=g,w=XS(y);t=t.filter(S=>w(S[m]));break}case"nv":{const[y]=g,w=XS(y);t=t.filter(S=>!w(S[m]));break}case"eq":{const[y]=g;if(y instanceof Date){const w=+y;t=t.filter(S=>+S[m]===w)}else t=t.filter(w=>w[m]===y);break}case"ne":{const[y]=g;t=t.filter(w=>w[m]!==y);break}case"c":{const[y]=g;t=t.filter(w=>typeof w[m]=="string"&&w[m].includes(y));break}case"nc":{const[y]=g;t=t.filter(w=>typeof w[m]=="string"&&!w[m].includes(y));break}case"in":{const y=new Set(g);t=t.filter(w=>y.has(w[m]));break}case"nin":{const y=new Set(g);t=t.filter(w=>!y.has(w[m]));break}case"n":{t=t.filter(y=>y[m]==null);break}case"nn":{t=t.filter(y=>y[m]!=null);break}case"lt":{const[y]=g;t=t.filter(w=>w[m]<y);break}case"lte":{const[y]=g;t=t.filter(w=>w[m]<=y);break}case"gt":{const[y]=g;t=t.filter(w=>w[m]>y);break}case"gte":{const[y]=g;t=t.filter(w=>w[m]>=y);break}default:throw new Error(`unknown filter type: ${f}`)}}for(const{column:f,direction:p}of cp(e.sort)){const m=p==="desc"?kce:Tce;t===r&&(t=t.slice()),t.sort((g,y)=>m(g[f],y[f]))}let{from:a,to:l}=e.slice;a=a==null?0:Math.max(0,a),l=l==null?1/0:Math.max(0,l),(a>0||l<1/0)&&(t=t.slice(Math.max(0,a),Math.max(0,l)));let c=s.slice();if(e.select.columns){if(s){const f=new Map(s.map(p=>[p.name,p]));s=e.select.columns.map(p=>f.get(p))}t=t.map(f=>Object.fromEntries(e.select.columns.map(p=>[p,f[p]])))}if(e.names){const f=new Map(e.names.map(p=>[p.column,p]));s&&(s=s.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),c&&(c=c.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),t=QS(t,e)}return t!==r&&s&&(t.schema=s),t.fullSchema=c,t.errors=n,t}function h3(t,e,n){const r={};for(const i of n){const s=e.get(i.name),a=t[i.name];r[i.name]=s==="raw"?a:Dce(a,s)}return r}function Fce(){return{boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0}}const Uce=["boolean","integer","number","date","bigint","array","object","buffer"];function qce(t){const e=new Set;for(const n of t)if(n)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.add(r);return Array.from(e)}function fL(t,e=qce(t)){const n=[],i=t.slice(0,100);for(const s of e){const a=Fce();for(const f of i){let p=f[s];if(p==null)continue;const m=typeof p;if(m!=="string")++a.defined,Array.isArray(p)?++a.array:p instanceof Date?++a.date:p instanceof ArrayBuffer?++a.buffer:m==="number"?(++a.number,Number.isInteger(p)&&++a.integer):m in a&&++a[m];else{if(p=p.trim(),!p)continue;++a.defined,++a.string,/^(true|false)$/i.test(p)?++a.boolean:p&&!isNaN(p)?(++a.number,Number.isInteger(+p)&&++a.integer):cL.test(p)&&++a.date}}const l=Math.max(1,a.defined*.9),c=L3(Uce,f=>a[f]>=l?a[f]:NaN)??(a.string>=l?"string":"other");n.push({name:s,type:c,inferred:c})}return n}class Hce{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(n=>n.name),enumerable:!0}})}sheet(e,n){const r=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(r==null)throw new Error(`Sheet not found: ${e}`);const i=this._.getWorksheet(r);return Wce(i,n)}}function Wce(t,{range:e,headers:n}={}){let[[r,i],[s,a]]=Gce(e,t);const l=n?t._rows[i++]:null;let c=new Set(["#"]);for(let p=r;p<=s;p++){const m=l?eT(l.findCell(p+1)):null;let g=m&&m+""||$ce(p);for(;c.has(g);)g+="_";c.add(g)}c=new Array(r).concat(Array.from(c));const f=new Array(a-i+1);for(let p=i;p<=a;p++){const m=f[p-i]=Object.create(null,{"#":{value:p+1}}),g=t.getRow(p+1);if(g.hasValues)for(let y=r;y<=s;y++){const w=eT(g.findCell(y+1));w!=null&&(m[c[y+1]]=w)}}return f.columns=c.filter(()=>!0),f}function eT(t){if(!t)return;const{value:e}=t;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return tT(e);if(e.text){let{text:n}=e;return n.richText&&(n=tT(n)),e.hyperlink&&e.hyperlink!==n?`${e.hyperlink} ${n}`:n}return e}return e}function tT(t){return t.richText.map(e=>e.text).join("")}function Gce(t=":",{columnCount:e,rowCount:n}){if(t+="",!t.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,i=0],[s=e-1,a=n-1]]=t.split(":").map(Vce);return[[r,i],[s,a]]}function $ce(t){let e="";t++;do e=String.fromCharCode(64+(t%26||26))+e;while(t=Math.floor((t-1)/26));return e}function Vce(t){const[,e,n]=t.match(/^([A-Z]*)(\d*)$/);let r=0;if(e)for(let i=0;i<e.length;i++)r+=Math.pow(26,e.length-i-1)*(e.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function Ru(t){const e=await fetch(await t.url());if(!e.ok)throw new Error(`Unable to load file: ${t.name}`);return e}function Zce(t,e){const n=new Map(e.map(({name:r,type:i})=>[r,i]));return Object.assign(t.map(r=>h3(r,n,e)),{schema:e})}async function nT(t,e,{array:n=!1,typed:r=!1}={}){const i=await t.text(),s=e==="	"?n?v$:_$:n?g$:vE;if(r==="auto"&&!n){const a=s(i);return Zce(a,fL(a,a.columns))}return s(i,r&&Ag)}class z6{constructor(e,n){Object.defineProperty(this,"name",{value:e,enumerable:!0}),n!==void 0&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await Ru(this)).blob()}async arrayBuffer(){return(await Ru(this)).arrayBuffer()}async text(){return(await Ru(this)).text()}async json(){return(await Ru(this)).json()}async stream(){return(await Ru(this)).body}async csv(e){return nT(this,",",e)}async tsv(e){return nT(this,"	",e)}async image(e){const n=await this.url();return new Promise((r,i)=>{const s=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,e),s.onload=()=>r(s),s.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),s.src=n})}async arrow({version:e=4}={}){switch(e){case 4:{const[n,r]=await Promise.all([Zc(u3.resolve()),Ru(this)]);return n.Table.from(r)}case 9:{const[n,r]=await Promise.all([Ep(()=>import(`${zc}${Fue.resolve()}`),[]),Ru(this)]);return n.tableFromIPC(r)}case 11:{const[n,r]=await Promise.all([Ep(()=>import(`${zc}${XN.resolve()}`),[]),Ru(this)]);return n.tableFromIPC(r)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return Lm.open(Ru(this))}async zip(){const[e,n]=await Promise.all([Zc(Lue.resolve()),this.arrayBuffer()]);return new jce(await e.loadAsync(n))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,n]=await Promise.all([Zc(Hue.resolve()),this.arrayBuffer()]);return new Hce(await new e.Workbook().xlsx.load(n))}}class Is extends z6{constructor(e,n,r){super(n,r),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function Yce(t){throw new Error(`File not found: ${t}`)}class jce{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(n=>!e.files[n].dir)}file(e){const n=this._.file(e+="");if(!n||n.dir)throw new Error(`file not found: ${e}`);return new Kce(n)}}class Kce extends z6{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function Xce(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function Jce(t,e,n){n==null&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=t*n,r.height=e*n,r.style.width=t+"px";var i=r.getContext("2d");return i.scale(n,n),i}function Qce(t,e="untitled",n="Save"){const r=document.createElement("a"),i=r.appendChild(document.createElement("button"));i.textContent=n,r.download=e;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return r.onclick=async a=>{if(i.disabled=!0,r.href)return s();i.textContent="Saving…";try{const l=await(typeof t=="function"?t():t);i.textContent="Download",r.href=URL.createObjectURL(l)}catch{i.textContent=n}if(a.eventPhase)return s();i.disabled=!1},r}var F1={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e0e(t,e){var n=t+="",r=n.indexOf(":"),i;r>=0&&(n=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1));var s=F1.hasOwnProperty(n)?document.createElementNS(F1[n],t):document.createElement(t);if(e)for(var a in e)n=a,r=n.indexOf(":"),i=e[a],r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),F1.hasOwnProperty(n)?s.setAttributeNS(F1[n],a,i):s.setAttribute(a,i);return s}function t0e(t){var e=document.createElement("input");return t!=null&&(e.type=t),e}function n0e(t,e,n){arguments.length===1&&(e=t,t=null);var r=document.createElement("input");return r.min=t=t==null?0:+t,r.max=e=e==null?1:+e,r.step=n==null?"any":n=+n,r.type="range",r}function r0e(t){var e=document.createElement("select");return Array.prototype.forEach.call(t,function(n){var r=document.createElement("option");r.value=r.textContent=n,e.appendChild(r)}),e}function i0e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,t,e]),n.setAttribute("width",t),n.setAttribute("height",e),n}function s0e(t){return document.createTextNode(t)}var a0e=0;function hL(t){return new dL("O-"+(t==null?"":t+"-")+ ++a0e)}function dL(t){this.id=t,this.href=new URL(`#${t}`,location)+""}dL.prototype.toString=function(){return"url("+this.href+")"};const o0e=Object.freeze(Object.defineProperty({__proto__:null,canvas:Xce,context2d:Jce,download:Qce,element:e0e,input:t0e,range:n0e,select:r0e,svg:i0e,text:s0e,uid:hL},Symbol.toStringTag,{value:"Module"}));function l0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsArrayBuffer(t)})}function u0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t)})}function c0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})}const f0e=Object.freeze(Object.defineProperty({__proto__:null,buffer:l0e,text:u0e,url:c0e},Symbol.toStringTag,{value:"Module"}));function F6(){return this}function pL(t,e){let n=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:F6,next:()=>n?{done:!0}:(n=!0,{done:!1,value:t}),return:()=>(n=!0,e(t),{done:!0}),throw:()=>({done:n=!0})}}function*h0e(t,e){for(var n,r=-1;!(n=t.next()).done;)e(n.value,++r)&&(yield n.value)}function j2(t){let e=!1,n,r;const i=t(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(l){return r?(r(l),r=null):e=!0,n=l}function a(){return{done:!1,value:e?(e=!1,Promise.resolve(n)):new Promise(l=>r=l)}}return{[Symbol.iterator]:F6,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:a}}function d0e(t){return j2(function(e){var n=p0e(t),r=rT(t);function i(){e(rT(t))}return t.addEventListener(n,i),r!==void 0&&e(r),function(){t.removeEventListener(n,i)}})}function rT(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,e=>e.value);default:return t.value}}function p0e(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*m0e(t,e){for(var n,r=-1;!(n=t.next()).done;)yield e(n.value,++r)}function g0e(t){let e;const n=[],r=t(i);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(a){return n.push(a),e&&(e(n.shift()),e=null),a}function s(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(a=>e=a)}}return{[Symbol.iterator]:F6,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*_0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0;++r<i;)yield t+r*n}function v0e(t,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var n,r=-1;!(n=t.next()).done;)if(++r===e)return n.value}}function y0e(t){const e=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),n=new Worker(e);return pL(n,()=>{n.terminate(),URL.revokeObjectURL(e)})}const b0e=Object.freeze(Object.defineProperty({__proto__:null,disposable:pL,filter:h0e,input:d0e,map:m0e,observe:j2,queue:g0e,range:_0e,valueAt:v0e,worker:y0e},Symbol.toStringTag,{value:"Module"}));function U6(t,e){return function(n){var r=n[0],i=[],s,a=null,l,c,f,p,m,g,y,w=-1;for(p=1,m=arguments.length;p<m;++p){if(s=arguments[p],s instanceof Node)i[++w]=s,r+="<!--o:"+w+"-->";else if(Array.isArray(s)){for(g=0,y=s.length;g<y;++g)l=s[g],l instanceof Node?(a===null&&(i[++w]=a=document.createDocumentFragment(),r+="<!--o:"+w+"-->"),a.appendChild(l)):(a=null,r+=l);a=null}else r+=s;r+=n[p]}if(a=t(r),++w>0){for(c=new Array(w),f=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null,!1);f.nextNode();)l=f.currentNode,/^o:/.test(l.nodeValue)&&(c[+l.nodeValue.slice(2)]=l);for(p=0;p<w;++p)(l=c[p])&&l.parentNode.replaceChild(i[p],l)}return a.childNodes.length===1?a.removeChild(a.firstChild):a.nodeType===11?((l=e()).appendChild(a),l):a}}const w0e=U6(function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function x0e(t){const e=await t(GS.resolve());if(!e._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await t.resolve(GS.resolve("dist/leaflet.css")),e._style=document.head.appendChild(n)}return e}function S0e(t){return t(Oue.resolve()).then(function(e){return U6(function(n){var r=document.createElement("div");r.innerHTML=e(n,{langPrefix:""}).trim();var i=r.querySelectorAll("pre code[class]");return i.length>0&&t(hy.resolve()).then(function(s){i.forEach(function(a){function l(){s.highlightBlock(a),a.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(a.className)?l():t(hy.resolve("async-languages/index.js")).then(c=>{if(c.has(a.className))return t(hy.resolve("async-languages/"+c.get(a.className))).then(f=>{s.registerLanguage(a.className,f)})}).then(l,l)})}),r},function(){return document.createElement("div")})})}async function T0e(t){const e=await t(Wue.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){const r=document.createElement("div");return r.innerHTML=e.render(hL().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function k0e(t){let e;Object.defineProperties(this,{generator:{value:j2(n=>void(e=n))},value:{get:()=>t,set:n=>e(t=n)}}),t!==void 0&&e(t)}function*E0e(){for(;;)yield Date.now()}function M0e(t,e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}var d3=new Map;function C0e(t,e){var n=new Promise(function(r){d3.delete(e);var i=e-t;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(r,i)});return d3.set(e,n),n}function mL(t,e){var n;return(n=d3.get(t=+t))?n.then(()=>e):(n=Date.now())>=t?Promise.resolve(e):C0e(n,t).then(()=>e)}function A0e(t,e){return mL(Math.ceil((Date.now()+1)/t)*t,e)}const I0e=Object.freeze(Object.defineProperty({__proto__:null,delay:M0e,tick:A0e,when:mL},Symbol.toStringTag,{value:"Module"}));function R0e(t,e){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,e??location).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");return"https://unpkg.com/"+t}const P0e=U6(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var N0e=String.raw;function L0e(t){return new Promise(function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=n,r.onload=e,document.head.appendChild(r)})}function O0e(t){return Promise.all([t(HS.resolve()),t.resolve(HS.resolve("dist/katex.min.css")).then(L0e)]).then(function(e){var n=e[0],r=i();function i(s){return function(){var a=document.createElement("div");return n.render(N0e.apply(String,arguments),a,s),a.removeChild(a.firstChild)}}return r.options=i,r.block=i({displayMode:!0}),r})}async function D0e(t){const[e,n,r]=await Promise.all([Due,Bue,zue].map(i=>t(i.resolve())));return r.register(e,n)}function B0e(){return j2(function(t){var e=t(document.body.clientWidth);function n(){var r=document.body.clientWidth;r!==e&&t(e=r)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}const q6=Object.assign(Object.defineProperties(function(e){const n=Que(e);Object.defineProperties(this,z0e({FileAttachment:()=>Yce,Mutable:()=>k0e,now:E0e,width:B0e,dot:()=>n(Rue.resolve()),htl:()=>n(Nue.resolve()),html:()=>w0e,md:()=>S0e(n),svg:()=>P0e,tex:()=>O0e(n),_:()=>n(Pue.resolve()),aq:()=>n.alias({"apache-arrow":u3.resolve()})(Uue.resolve()),Arrow:()=>n(u3.resolve()),d3:()=>n(Cue.resolve()),DuckDBClient:()=>Om,Inputs:()=>n(Aue.resolve()).then(r=>({...r,file:r.fileOf(z6)})),L:()=>x0e(n),mermaid:()=>T0e(n),Plot:()=>n(Iue.resolve()),__query:()=>oL,require:()=>n,resolve:()=>R0e,SQLite:()=>eL(n),SQLiteDatabaseClient:()=>Lm,topojson:()=>n(que.resolve()),vl:()=>D0e(n),aapl:()=>new Is("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new Is("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new Is("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new Is("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new Is("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new Is("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new Is("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new Is("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new Is("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new Is("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),pizza:()=>new Is("https://static.observableusercontent.com/files/c653108ab176088cacbb338eaf2344c4f5781681702bd6afb55697a3f91b511c6686ff469f3e3a27c75400001a2334dbd39a4499fe46b50a8b3c278b7d2f7fb5").csv({typed:!0}),weather:()=>new Is("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:o0e,Files:f0e,Generators:b0e,Promises:I0e}))},{resolve:{get:()=>Zc.resolve,enumerable:!0,configurable:!0},require:{get:()=>Zc,set:Jue,enumerable:!0,configurable:!0}}),{resolveFrom:JN,requireFrom:Z2});function z0e(t){return Object.fromEntries(Object.entries(t).map(F0e))}function F0e([t,e]){return[t,{value:e,writable:!0,enumerable:!0}]}function H6(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let f0=H6();function gL(t){f0=t}const _L=/[&<>"']/,U0e=new RegExp(_L.source,"g"),vL=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,q0e=new RegExp(vL.source,"g"),H0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iT=t=>H0e[t];function Rs(t,e){if(e){if(_L.test(t))return t.replace(U0e,iT)}else if(vL.test(t))return t.replace(q0e,iT);return t}const W0e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function yL(t){return t.replace(W0e,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const G0e=/(^|[^\[])\^/g;function Jn(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(G0e,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const $0e=/[^\w:]/g,V0e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function sT(t,e,n){if(t){let r;try{r=decodeURIComponent(yL(n)).replace($0e,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!V0e.test(n)&&(n=K0e(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const U1={},Z0e=/^[^:]+:\/*[^/]*$/,Y0e=/^([^:]+:)[\s\S]*$/,j0e=/^([^:]+:\/*[^/]*)[\s\S]*$/;function K0e(t,e){U1[" "+t]||(Z0e.test(t)?U1[" "+t]=t+"/":U1[" "+t]=pg(t,"/",!0)),t=U1[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(Y0e,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(j0e,"$1")+e:t+e}const L_={exec:function(){}};function aT(t,e){const n=t.replace(/\|/g,(s,a,l)=>{let c=!1,f=a;for(;--f>=0&&l[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function pg(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function X0e(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function J0e(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function oT(t,e,n,r){const i=e.href,s=e.title?Rs(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:Rs(a)}}function Q0e(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class O_{constructor(e){this.options=e||f0}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:pg(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=Q0e(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=pg(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,a,l,c,f,p,m,g,y,w,S=n[1].trim();const I=S.length>1,P={type:"list",raw:"",ordered:I,start:I?+S.slice(0,-1):"",loose:!1,items:[]};S=I?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=I?S:"[*+-]");const k=new RegExp(`^( {0,3}${S})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(w=!1,!(!(n=k.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),p=n[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,y=p.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,y=p.slice(a),a+=n[1].length),c=!1,!p&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),w=!0),!w){const C=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),D=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),F=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],m=g,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(D.test(m)||F.test(m)||C.test(m)||N.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())y+=`
`+m.slice(a);else{if(c||p.search(/[^ ]/)>=4||D.test(p)||F.test(p)||N.test(p))break;y+=`
`+m}!c&&!m.trim()&&(c=!0),r+=g+`
`,e=e.substring(g.length+1),p=m.slice(a)}}P.loose||(f?P.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(y),i&&(s=i[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),P.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:y}),P.raw+=r}P.items[P.items.length-1].raw=r.trimRight(),P.items[P.items.length-1].text=y.trimRight(),P.raw=P.raw.trimRight();const A=P.items.length;for(l=0;l<A;l++)if(this.lexer.state.top=!1,P.items[l].tokens=this.lexer.blockTokens(P.items[l].text,[]),!P.loose){const C=P.items[l].tokens.filter(D=>D.type==="space"),N=C.length>0&&C.some(D=>/\n.*\n/.test(D.raw));P.loose=N}if(P.loose)for(l=0;l<A;l++)P.items[l].loose=!0;return P}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):Rs(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:aT(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,a,l,c;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=aT(r.rows[s],r.header.length).map(f=>({text:f}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(c=r.rows[a],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Rs(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Rs(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=pg(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=X0e(n[2],"()");if(a>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),oT(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return oT(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=i[0].length-1;let l,c,f=a,p=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+a);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=l.length,i[3]||i[4]){f+=c;continue}else if((i[5]||i[6])&&a%3&&!((a+c)%3)){p+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+p);const g=e.slice(0,a+i.index+c+1);if(Math.min(a,c)%2){const w=g.slice(1,-1);return{type:"em",raw:g,text:w,tokens:this.lexer.inlineTokens(w)}}const y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Rs(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=Rs(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=Rs(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=Rs(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=Rs(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Rs(r[0]):r[0]:i=Rs(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const wt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:L_,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};wt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;wt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;wt.def=Jn(wt.def).replace("label",wt._label).replace("title",wt._title).getRegex();wt.bullet=/(?:[*+-]|\d{1,9}[.)])/;wt.listItemStart=Jn(/^( *)(bull) */).replace("bull",wt.bullet).getRegex();wt.list=Jn(wt.list).replace(/bull/g,wt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wt.def.source+")").getRegex();wt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";wt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;wt.html=Jn(wt.html,"i").replace("comment",wt._comment).replace("tag",wt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();wt.lheading=Jn(wt.lheading).replace(/bull/g,wt.bullet).getRegex();wt.paragraph=Jn(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.blockquote=Jn(wt.blockquote).replace("paragraph",wt.paragraph).getRegex();wt.normal={...wt};wt.gfm={...wt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};wt.gfm.table=Jn(wt.gfm.table).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.gfm.paragraph=Jn(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex();wt.pedantic={...wt.normal,html:Jn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Jn(wt.normal._paragraph).replace("hr",wt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const nt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};nt._punctuation="\\p{P}$+<=>`^|~";nt.punctuation=Jn(nt.punctuation,"u").replace(/punctuation/g,nt._punctuation).getRegex();nt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;nt.anyPunctuation=/\\[punct]/g;nt._escapes=/\\([punct])/g;nt._comment=Jn(wt._comment).replace("(?:-->|$)","-->").getRegex();nt.emStrong.lDelim=Jn(nt.emStrong.lDelim,"u").replace(/punct/g,nt._punctuation).getRegex();nt.emStrong.rDelimAst=Jn(nt.emStrong.rDelimAst,"gu").replace(/punct/g,nt._punctuation).getRegex();nt.emStrong.rDelimUnd=Jn(nt.emStrong.rDelimUnd,"gu").replace(/punct/g,nt._punctuation).getRegex();nt.anyPunctuation=Jn(nt.anyPunctuation,"gu").replace(/punct/g,nt._punctuation).getRegex();nt._escapes=Jn(nt._escapes,"gu").replace(/punct/g,nt._punctuation).getRegex();nt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;nt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;nt.autolink=Jn(nt.autolink).replace("scheme",nt._scheme).replace("email",nt._email).getRegex();nt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;nt.tag=Jn(nt.tag).replace("comment",nt._comment).replace("attribute",nt._attribute).getRegex();nt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;nt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;nt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;nt.link=Jn(nt.link).replace("label",nt._label).replace("href",nt._href).replace("title",nt._title).getRegex();nt.reflink=Jn(nt.reflink).replace("label",nt._label).replace("ref",wt._label).getRegex();nt.nolink=Jn(nt.nolink).replace("ref",wt._label).getRegex();nt.reflinkSearch=Jn(nt.reflinkSearch,"g").replace("reflink",nt.reflink).replace("nolink",nt.nolink).getRegex();nt.normal={...nt};nt.pedantic={...nt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Jn(/^!?\[(label)\]\((.*?)\)/).replace("label",nt._label).getRegex(),reflink:Jn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt._label).getRegex()};nt.gfm={...nt.normal,escape:Jn(nt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};nt.gfm.url=Jn(nt.gfm.url,"i").replace("email",nt.gfm._extended_email).getRegex();nt.breaks={...nt.gfm,br:Jn(nt.br).replace("{2,}","*").getRegex(),text:Jn(nt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function efe(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function lT(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}let q0=class p3{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||f0,this.options.tokenizer=this.options.tokenizer||new O_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:wt.normal,inline:nt.normal};this.options.pedantic?(n.block=wt.pedantic,n.inline=nt.pedantic):this.options.gfm&&(n.block=wt.gfm,this.options.breaks?n.inline=nt.breaks:n.inline=nt.gfm),this.tokenizer.rules=n}static get rules(){return{block:wt,inline:nt}}static lex(e,n){return new p3(n).lex(e)}static lexInline(e,n){return new p3(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,f)=>c+"    ".repeat(f.length));let r,i,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},c),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a=e,l,c,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,lT)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,lT))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(function(y){g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s,efe)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}};class D_{constructor(e){this.options=e||f0}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Rs(i)+'">'+(r?e:Rs(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Rs(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=sT(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=sT(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class W6{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class G6{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}let H0=class m3{constructor(e){this.options=e||f0,this.options.renderer=this.options.renderer||new D_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new W6,this.slugger=new G6}static parse(e,n){return new m3(n).parse(e)}static parseInline(e,n){return new m3(n).parseInline(e)}parse(e,n=!0){let r="",i,s,a,l,c,f,p,m,g,y,w,S,I,P,k,A,C,N,D;const F=e.length;for(i=0;i<F;i++){if(y=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(D=this.options.extensions.renderers[y.type].call({parser:this},y),D!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type))){r+=D||"";continue}switch(y.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(y.tokens),y.depth,yL(this.parseInline(y.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(y.text,y.lang,y.escaped);continue}case"table":{for(m="",p="",l=y.header.length,s=0;s<l;s++)p+=this.renderer.tablecell(this.parseInline(y.header[s].tokens),{header:!0,align:y.align[s]});for(m+=this.renderer.tablerow(p),g="",l=y.rows.length,s=0;s<l;s++){for(f=y.rows[s],p="",c=f.length,a=0;a<c;a++)p+=this.renderer.tablecell(this.parseInline(f[a].tokens),{header:!1,align:y.align[a]});g+=this.renderer.tablerow(p)}r+=this.renderer.table(m,g);continue}case"blockquote":{g=this.parse(y.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(w=y.ordered,S=y.start,I=y.loose,l=y.items.length,g="",s=0;s<l;s++)k=y.items[s],A=k.checked,C=k.task,P="",k.task&&(N=this.renderer.checkbox(A),I?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=N+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=N+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:N}):P+=N),P+=this.parse(k.tokens,I),g+=this.renderer.listitem(P,C,A);r+=this.renderer.list(g,w,S);continue}case"html":{r+=this.renderer.html(y.text,y.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(y.tokens));continue}case"text":{for(g=y.tokens?this.parseInline(y.tokens):y.text;i+1<F&&e[i+1].type==="text";)y=e[++i],g+=`
`+(y.tokens?this.parseInline(y.tokens):y.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const W='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,a;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const c='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return r}};class np{constructor(e){this.options=e||f0}preprocess(e){return e}postprocess(e){return e}}Xs(np,"passThroughHooks",new Set(["preprocess","postprocess"]));var Vp,g3,H_,bL;class tfe{constructor(...e){i4(this,Vp);i4(this,H_);Xs(this,"defaults",H6());Xs(this,"options",this.setOptions);Xs(this,"parse",u1(this,Vp,g3).call(this,q0.lex,H0.parse));Xs(this,"parseInline",u1(this,Vp,g3).call(this,q0.lexInline,H0.parseInline));Xs(this,"Parser",H0);Xs(this,"parser",H0.parse);Xs(this,"Renderer",D_);Xs(this,"TextRenderer",W6);Xs(this,"Lexer",q0);Xs(this,"lexer",q0.lex);Xs(this,"Tokenizer",O_);Xs(this,"Slugger",G6);Xs(this,"Hooks",np);this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{for(const s of i.header)r=r.concat(this.walkTokens(s.tokens,n));for(const s of i.rows)for(const a of s)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{r=r.concat(this.walkTokens(i.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=n.renderers[s.name];a?n.renderers[s.name]=function(...l){let c=s.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:n.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[s.level]?n[s.level].unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new D_(this.defaults);for(const a in r.renderer){const l=s[a];s[a]=(...c)=>{let f=r.renderer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new O_(this.defaults);for(const a in r.tokenizer){const l=s[a];s[a]=(...c)=>{let f=r.tokenizer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new np;for(const a in r.hooks){const l=s[a];np.passThroughHooks.has(a)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(r.hooks[a].call(s,c)).then(p=>l.call(s,p));const f=r.hooks[a].call(s,c);return l.call(s,f)}:s[a]=(...c)=>{let f=r.hooks[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let l=[];return l.push(r.walkTokens.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}Vp=new WeakSet,g3=function(e,n){return(r,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const l=u1(this,H_,bL).call(this,i.silent,i.async,s);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(J0e(i,s),i.hooks&&(i.hooks.options=i),s){const c=i.highlight;let f;try{i.hooks&&(r=i.hooks.preprocess(r)),f=e(r,i)}catch(g){return l(g)}const p=g=>{let y;if(!g)try{i.walkTokens&&this.walkTokens(f,i.walkTokens),y=n(f,i),i.hooks&&(y=i.hooks.postprocess(y))}catch(w){g=w}return i.highlight=c,g?l(g):s(null,y)};if(!c||c.length<3||(delete i.highlight,!f.length))return p();let m=0;this.walkTokens(f,g=>{g.type==="code"&&(m++,setTimeout(()=>{c(g.text,g.lang,(y,w)=>{if(y)return p(y);w!=null&&w!==g.text&&(g.text=w,g.escaped=!0),m--,m===0&&p()})},0))}),m===0&&p();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(c=>e(c,i)).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>n(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(l);try{i.hooks&&(r=i.hooks.preprocess(r));const c=e(r,i);i.walkTokens&&this.walkTokens(c,i.walkTokens);let f=n(c,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(c){return l(c)}}},H_=new WeakSet,bL=function(e,n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Rs(i.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(r){r(null,s);return}return s}if(n)return Promise.reject(i);if(r){r(i);return}throw i}};const df=new tfe(f0);function jn(t,e,n){return df.parse(t,e,n)}jn.options=jn.setOptions=function(t){return df.setOptions(t),jn.defaults=df.defaults,gL(jn.defaults),jn};jn.getDefaults=H6;jn.defaults=f0;jn.use=function(...t){return df.use(...t),jn.defaults=df.defaults,gL(jn.defaults),jn};jn.walkTokens=function(t,e){return df.walkTokens(t,e)};jn.parseInline=df.parseInline;jn.Parser=H0;jn.parser=H0.parse;jn.Renderer=D_;jn.TextRenderer=W6;jn.Lexer=q0;jn.lexer=q0.lex;jn.Tokenizer=O_;jn.Slugger=G6;jn.Hooks=np;jn.parse=jn;jn.options;jn.setOptions;jn.use;jn.walkTokens;jn.parseInline;H0.parse;q0.lex;class Xa{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Xa(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Ql{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ql(n,Xa.range(this,e))}}class We{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,s=a.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var c=l.slice(i,s).replace(/[^]/g,"$&̲"),f;i>15?f="…"+l.slice(i-15,i):f=l.slice(0,i);var p;s+15<l.length?p=l.slice(s,s+15)+"…":p=l.slice(s),r+=f+c+p}var m=new Error(r);return m.name="ParseError",m.__proto__=We.prototype,m.position=i,i!=null&&s!=null&&(m.length=s-i),m.rawMessage=e,m}}We.prototype.__proto__=Error.prototype;var nfe=function(e,n){return e.indexOf(n)!==-1},rfe=function(e,n){return e===void 0?n:e},ife=/([A-Z])/g,sfe=function(e){return e.replace(ife,"-$1").toLowerCase()},afe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ofe=/[&><"']/g;function lfe(t){return String(t).replace(ofe,e=>afe[e])}var wL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},ufe=function(e){var n=wL(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},cfe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},ffe=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},Ft={contains:nfe,deflt:rfe,escape:lfe,hyphenate:sfe,getBaseElem:wL,isCharacterBox:ufe,protocolFromUrl:ffe},mg={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function hfe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class $6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in mg)if(mg.hasOwnProperty(n)){var r=mg[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:hfe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new We("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=Ft.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Mc{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ql[dfe[this.id]]}sub(){return ql[pfe[this.id]]}fracNum(){return ql[mfe[this.id]]}fracDen(){return ql[gfe[this.id]]}cramp(){return ql[_fe[this.id]]}text(){return ql[vfe[this.id]]}isTight(){return this.size>=2}}var V6=0,B_=1,hh=2,Zu=3,Wp=4,ko=5,Fh=6,sa=7,ql=[new Mc(V6,0,!1),new Mc(B_,0,!0),new Mc(hh,1,!1),new Mc(Zu,1,!0),new Mc(Wp,2,!1),new Mc(ko,2,!0),new Mc(Fh,3,!1),new Mc(sa,3,!0)],dfe=[Wp,ko,Wp,ko,Fh,sa,Fh,sa],pfe=[ko,ko,ko,ko,sa,sa,sa,sa],mfe=[hh,Zu,Wp,ko,Fh,sa,Fh,sa],gfe=[Zu,Zu,ko,ko,sa,sa,sa,sa],_fe=[B_,B_,Zu,Zu,ko,ko,sa,sa],vfe=[V6,B_,hh,Zu,hh,Zu,hh,Zu],Ct={DISPLAY:ql[V6],TEXT:ql[hh],SCRIPT:ql[Wp],SCRIPTSCRIPT:ql[Fh]},_3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function yfe(t){for(var e=0;e<_3.length;e++)for(var n=_3[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var gg=[];_3.forEach(t=>t.blocks.forEach(e=>gg.push(...e)));function xL(t){for(var e=0;e<gg.length;e+=2)if(t>=gg[e]&&t<=gg[e+1])return!0;return!1}var Vf=80,bfe=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},wfe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},xfe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Sfe=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Tfe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},kfe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Efe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},Mfe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=bfe(n,Vf);break;case"sqrtSize1":i=wfe(n,Vf);break;case"sqrtSize2":i=xfe(n,Vf);break;case"sqrtSize3":i=Sfe(n,Vf);break;case"sqrtSize4":i=Tfe(n,Vf);break;case"sqrtTall":i=Efe(n,Vf,r)}return i},Cfe=function(e,n){switch(e){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},uT={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Afe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Dm{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ft.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Yl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},q1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},cT={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Ife(t,e){Yl[t]=e}function Z6(t,e,n){if(!Yl[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Yl[e][r];if(!i&&t[0]in cT&&(r=cT[t[0]].charCodeAt(0),i=Yl[e][r]),!i&&n==="text"&&xL(r)&&(i=Yl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var my={};function Rfe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!my[e]){var n=my[e]={cssEmPerMu:q1.quad[e]/18};for(var r in q1)q1.hasOwnProperty(r)&&(n[r]=q1[r][e])}return my[e]}var Pfe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],fT=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],hT=function(e,n){return n.size<2?e:Pfe[e-1][n.size-1]};class Du{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Du.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=fT[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Du(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:hT(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:fT[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=hT(Du.BASESIZE,e);return this.size===n&&this.textSize===Du.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Du.BASESIZE?["sizing","reset-size"+this.size,"size"+Du.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Rfe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Du.BASESIZE=6;var v3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Nfe={ex:!0,em:!0,mu:!0},SL=function(e){return typeof e!="string"&&(e=e.unit),e in v3||e in Nfe||e==="ex"},Gr=function(e,n){var r;if(e.unit in v3)r=v3[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new We("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Ye=function(e){return+e.toFixed(4)+"em"},r0=function(e){return e.filter(n=>n).join(" ")},TL=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},kL=function(e){var n=document.createElement(e);n.className=r0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},EL=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ft.escape(r0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ft.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ft.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+Ft.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class Bm{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,TL.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ft.contains(this.classes,e)}toNode(){return kL.call(this,"span")}toMarkup(){return EL.call(this,"span")}}class Y6{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,TL.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ft.contains(this.classes,e)}toNode(){return kL.call(this,"a")}toMarkup(){return EL.call(this,"a")}}class Lfe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Ft.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ft.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ft.escape(n)+'"'),e+="'/>",e}}var Ofe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Po{constructor(e,n,r,i,s,a,l,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0;var f=yfe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Ofe[this.text])}hasClass(e){return Ft.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Ye(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=r0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ft.escape(r0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ft.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ft.escape(r)+'"');var s=Ft.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class tc{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class i0{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",uT[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+uT[this.pathName]+"'/>"}}class y3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function dT(t){if(t instanceof Po)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Dfe(t){if(t instanceof Bm)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Bfe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zfe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},xr={math:{},text:{}};function x(t,e,n,r,i,s){xr[t][i]={font:e,group:n,replace:r},s&&r&&(xr[t][r]=xr[t][i])}var M="math",qe="text",B="main",X="ams",Nr="accent-token",ot="bin",ca="close",ed="inner",Mt="mathord",bi="op-token",ro="open",K2="punct",Q="rel",cc="spacing",oe="textord";x(M,B,Q,"≡","\\equiv",!0);x(M,B,Q,"≺","\\prec",!0);x(M,B,Q,"≻","\\succ",!0);x(M,B,Q,"∼","\\sim",!0);x(M,B,Q,"⊥","\\perp");x(M,B,Q,"⪯","\\preceq",!0);x(M,B,Q,"⪰","\\succeq",!0);x(M,B,Q,"≃","\\simeq",!0);x(M,B,Q,"∣","\\mid",!0);x(M,B,Q,"≪","\\ll",!0);x(M,B,Q,"≫","\\gg",!0);x(M,B,Q,"≍","\\asymp",!0);x(M,B,Q,"∥","\\parallel");x(M,B,Q,"⋈","\\bowtie",!0);x(M,B,Q,"⌣","\\smile",!0);x(M,B,Q,"⊑","\\sqsubseteq",!0);x(M,B,Q,"⊒","\\sqsupseteq",!0);x(M,B,Q,"≐","\\doteq",!0);x(M,B,Q,"⌢","\\frown",!0);x(M,B,Q,"∋","\\ni",!0);x(M,B,Q,"∝","\\propto",!0);x(M,B,Q,"⊢","\\vdash",!0);x(M,B,Q,"⊣","\\dashv",!0);x(M,B,Q,"∋","\\owns");x(M,B,K2,".","\\ldotp");x(M,B,K2,"⋅","\\cdotp");x(M,B,oe,"#","\\#");x(qe,B,oe,"#","\\#");x(M,B,oe,"&","\\&");x(qe,B,oe,"&","\\&");x(M,B,oe,"ℵ","\\aleph",!0);x(M,B,oe,"∀","\\forall",!0);x(M,B,oe,"ℏ","\\hbar",!0);x(M,B,oe,"∃","\\exists",!0);x(M,B,oe,"∇","\\nabla",!0);x(M,B,oe,"♭","\\flat",!0);x(M,B,oe,"ℓ","\\ell",!0);x(M,B,oe,"♮","\\natural",!0);x(M,B,oe,"♣","\\clubsuit",!0);x(M,B,oe,"℘","\\wp",!0);x(M,B,oe,"♯","\\sharp",!0);x(M,B,oe,"♢","\\diamondsuit",!0);x(M,B,oe,"ℜ","\\Re",!0);x(M,B,oe,"♡","\\heartsuit",!0);x(M,B,oe,"ℑ","\\Im",!0);x(M,B,oe,"♠","\\spadesuit",!0);x(M,B,oe,"§","\\S",!0);x(qe,B,oe,"§","\\S");x(M,B,oe,"¶","\\P",!0);x(qe,B,oe,"¶","\\P");x(M,B,oe,"†","\\dag");x(qe,B,oe,"†","\\dag");x(qe,B,oe,"†","\\textdagger");x(M,B,oe,"‡","\\ddag");x(qe,B,oe,"‡","\\ddag");x(qe,B,oe,"‡","\\textdaggerdbl");x(M,B,ca,"⎱","\\rmoustache",!0);x(M,B,ro,"⎰","\\lmoustache",!0);x(M,B,ca,"⟯","\\rgroup",!0);x(M,B,ro,"⟮","\\lgroup",!0);x(M,B,ot,"∓","\\mp",!0);x(M,B,ot,"⊖","\\ominus",!0);x(M,B,ot,"⊎","\\uplus",!0);x(M,B,ot,"⊓","\\sqcap",!0);x(M,B,ot,"∗","\\ast");x(M,B,ot,"⊔","\\sqcup",!0);x(M,B,ot,"◯","\\bigcirc",!0);x(M,B,ot,"∙","\\bullet",!0);x(M,B,ot,"‡","\\ddagger");x(M,B,ot,"≀","\\wr",!0);x(M,B,ot,"⨿","\\amalg");x(M,B,ot,"&","\\And");x(M,B,Q,"⟵","\\longleftarrow",!0);x(M,B,Q,"⇐","\\Leftarrow",!0);x(M,B,Q,"⟸","\\Longleftarrow",!0);x(M,B,Q,"⟶","\\longrightarrow",!0);x(M,B,Q,"⇒","\\Rightarrow",!0);x(M,B,Q,"⟹","\\Longrightarrow",!0);x(M,B,Q,"↔","\\leftrightarrow",!0);x(M,B,Q,"⟷","\\longleftrightarrow",!0);x(M,B,Q,"⇔","\\Leftrightarrow",!0);x(M,B,Q,"⟺","\\Longleftrightarrow",!0);x(M,B,Q,"↦","\\mapsto",!0);x(M,B,Q,"⟼","\\longmapsto",!0);x(M,B,Q,"↗","\\nearrow",!0);x(M,B,Q,"↩","\\hookleftarrow",!0);x(M,B,Q,"↪","\\hookrightarrow",!0);x(M,B,Q,"↘","\\searrow",!0);x(M,B,Q,"↼","\\leftharpoonup",!0);x(M,B,Q,"⇀","\\rightharpoonup",!0);x(M,B,Q,"↙","\\swarrow",!0);x(M,B,Q,"↽","\\leftharpoondown",!0);x(M,B,Q,"⇁","\\rightharpoondown",!0);x(M,B,Q,"↖","\\nwarrow",!0);x(M,B,Q,"⇌","\\rightleftharpoons",!0);x(M,X,Q,"≮","\\nless",!0);x(M,X,Q,"","\\@nleqslant");x(M,X,Q,"","\\@nleqq");x(M,X,Q,"⪇","\\lneq",!0);x(M,X,Q,"≨","\\lneqq",!0);x(M,X,Q,"","\\@lvertneqq");x(M,X,Q,"⋦","\\lnsim",!0);x(M,X,Q,"⪉","\\lnapprox",!0);x(M,X,Q,"⊀","\\nprec",!0);x(M,X,Q,"⋠","\\npreceq",!0);x(M,X,Q,"⋨","\\precnsim",!0);x(M,X,Q,"⪹","\\precnapprox",!0);x(M,X,Q,"≁","\\nsim",!0);x(M,X,Q,"","\\@nshortmid");x(M,X,Q,"∤","\\nmid",!0);x(M,X,Q,"⊬","\\nvdash",!0);x(M,X,Q,"⊭","\\nvDash",!0);x(M,X,Q,"⋪","\\ntriangleleft");x(M,X,Q,"⋬","\\ntrianglelefteq",!0);x(M,X,Q,"⊊","\\subsetneq",!0);x(M,X,Q,"","\\@varsubsetneq");x(M,X,Q,"⫋","\\subsetneqq",!0);x(M,X,Q,"","\\@varsubsetneqq");x(M,X,Q,"≯","\\ngtr",!0);x(M,X,Q,"","\\@ngeqslant");x(M,X,Q,"","\\@ngeqq");x(M,X,Q,"⪈","\\gneq",!0);x(M,X,Q,"≩","\\gneqq",!0);x(M,X,Q,"","\\@gvertneqq");x(M,X,Q,"⋧","\\gnsim",!0);x(M,X,Q,"⪊","\\gnapprox",!0);x(M,X,Q,"⊁","\\nsucc",!0);x(M,X,Q,"⋡","\\nsucceq",!0);x(M,X,Q,"⋩","\\succnsim",!0);x(M,X,Q,"⪺","\\succnapprox",!0);x(M,X,Q,"≆","\\ncong",!0);x(M,X,Q,"","\\@nshortparallel");x(M,X,Q,"∦","\\nparallel",!0);x(M,X,Q,"⊯","\\nVDash",!0);x(M,X,Q,"⋫","\\ntriangleright");x(M,X,Q,"⋭","\\ntrianglerighteq",!0);x(M,X,Q,"","\\@nsupseteqq");x(M,X,Q,"⊋","\\supsetneq",!0);x(M,X,Q,"","\\@varsupsetneq");x(M,X,Q,"⫌","\\supsetneqq",!0);x(M,X,Q,"","\\@varsupsetneqq");x(M,X,Q,"⊮","\\nVdash",!0);x(M,X,Q,"⪵","\\precneqq",!0);x(M,X,Q,"⪶","\\succneqq",!0);x(M,X,Q,"","\\@nsubseteqq");x(M,X,ot,"⊴","\\unlhd");x(M,X,ot,"⊵","\\unrhd");x(M,X,Q,"↚","\\nleftarrow",!0);x(M,X,Q,"↛","\\nrightarrow",!0);x(M,X,Q,"⇍","\\nLeftarrow",!0);x(M,X,Q,"⇏","\\nRightarrow",!0);x(M,X,Q,"↮","\\nleftrightarrow",!0);x(M,X,Q,"⇎","\\nLeftrightarrow",!0);x(M,X,Q,"△","\\vartriangle");x(M,X,oe,"ℏ","\\hslash");x(M,X,oe,"▽","\\triangledown");x(M,X,oe,"◊","\\lozenge");x(M,X,oe,"Ⓢ","\\circledS");x(M,X,oe,"®","\\circledR");x(qe,X,oe,"®","\\circledR");x(M,X,oe,"∡","\\measuredangle",!0);x(M,X,oe,"∄","\\nexists");x(M,X,oe,"℧","\\mho");x(M,X,oe,"Ⅎ","\\Finv",!0);x(M,X,oe,"⅁","\\Game",!0);x(M,X,oe,"‵","\\backprime");x(M,X,oe,"▲","\\blacktriangle");x(M,X,oe,"▼","\\blacktriangledown");x(M,X,oe,"■","\\blacksquare");x(M,X,oe,"⧫","\\blacklozenge");x(M,X,oe,"★","\\bigstar");x(M,X,oe,"∢","\\sphericalangle",!0);x(M,X,oe,"∁","\\complement",!0);x(M,X,oe,"ð","\\eth",!0);x(qe,B,oe,"ð","ð");x(M,X,oe,"╱","\\diagup");x(M,X,oe,"╲","\\diagdown");x(M,X,oe,"□","\\square");x(M,X,oe,"□","\\Box");x(M,X,oe,"◊","\\Diamond");x(M,X,oe,"¥","\\yen",!0);x(qe,X,oe,"¥","\\yen",!0);x(M,X,oe,"✓","\\checkmark",!0);x(qe,X,oe,"✓","\\checkmark");x(M,X,oe,"ℶ","\\beth",!0);x(M,X,oe,"ℸ","\\daleth",!0);x(M,X,oe,"ℷ","\\gimel",!0);x(M,X,oe,"ϝ","\\digamma",!0);x(M,X,oe,"ϰ","\\varkappa");x(M,X,ro,"┌","\\@ulcorner",!0);x(M,X,ca,"┐","\\@urcorner",!0);x(M,X,ro,"└","\\@llcorner",!0);x(M,X,ca,"┘","\\@lrcorner",!0);x(M,X,Q,"≦","\\leqq",!0);x(M,X,Q,"⩽","\\leqslant",!0);x(M,X,Q,"⪕","\\eqslantless",!0);x(M,X,Q,"≲","\\lesssim",!0);x(M,X,Q,"⪅","\\lessapprox",!0);x(M,X,Q,"≊","\\approxeq",!0);x(M,X,ot,"⋖","\\lessdot");x(M,X,Q,"⋘","\\lll",!0);x(M,X,Q,"≶","\\lessgtr",!0);x(M,X,Q,"⋚","\\lesseqgtr",!0);x(M,X,Q,"⪋","\\lesseqqgtr",!0);x(M,X,Q,"≑","\\doteqdot");x(M,X,Q,"≓","\\risingdotseq",!0);x(M,X,Q,"≒","\\fallingdotseq",!0);x(M,X,Q,"∽","\\backsim",!0);x(M,X,Q,"⋍","\\backsimeq",!0);x(M,X,Q,"⫅","\\subseteqq",!0);x(M,X,Q,"⋐","\\Subset",!0);x(M,X,Q,"⊏","\\sqsubset",!0);x(M,X,Q,"≼","\\preccurlyeq",!0);x(M,X,Q,"⋞","\\curlyeqprec",!0);x(M,X,Q,"≾","\\precsim",!0);x(M,X,Q,"⪷","\\precapprox",!0);x(M,X,Q,"⊲","\\vartriangleleft");x(M,X,Q,"⊴","\\trianglelefteq");x(M,X,Q,"⊨","\\vDash",!0);x(M,X,Q,"⊪","\\Vvdash",!0);x(M,X,Q,"⌣","\\smallsmile");x(M,X,Q,"⌢","\\smallfrown");x(M,X,Q,"≏","\\bumpeq",!0);x(M,X,Q,"≎","\\Bumpeq",!0);x(M,X,Q,"≧","\\geqq",!0);x(M,X,Q,"⩾","\\geqslant",!0);x(M,X,Q,"⪖","\\eqslantgtr",!0);x(M,X,Q,"≳","\\gtrsim",!0);x(M,X,Q,"⪆","\\gtrapprox",!0);x(M,X,ot,"⋗","\\gtrdot");x(M,X,Q,"⋙","\\ggg",!0);x(M,X,Q,"≷","\\gtrless",!0);x(M,X,Q,"⋛","\\gtreqless",!0);x(M,X,Q,"⪌","\\gtreqqless",!0);x(M,X,Q,"≖","\\eqcirc",!0);x(M,X,Q,"≗","\\circeq",!0);x(M,X,Q,"≜","\\triangleq",!0);x(M,X,Q,"∼","\\thicksim");x(M,X,Q,"≈","\\thickapprox");x(M,X,Q,"⫆","\\supseteqq",!0);x(M,X,Q,"⋑","\\Supset",!0);x(M,X,Q,"⊐","\\sqsupset",!0);x(M,X,Q,"≽","\\succcurlyeq",!0);x(M,X,Q,"⋟","\\curlyeqsucc",!0);x(M,X,Q,"≿","\\succsim",!0);x(M,X,Q,"⪸","\\succapprox",!0);x(M,X,Q,"⊳","\\vartriangleright");x(M,X,Q,"⊵","\\trianglerighteq");x(M,X,Q,"⊩","\\Vdash",!0);x(M,X,Q,"∣","\\shortmid");x(M,X,Q,"∥","\\shortparallel");x(M,X,Q,"≬","\\between",!0);x(M,X,Q,"⋔","\\pitchfork",!0);x(M,X,Q,"∝","\\varpropto");x(M,X,Q,"◀","\\blacktriangleleft");x(M,X,Q,"∴","\\therefore",!0);x(M,X,Q,"∍","\\backepsilon");x(M,X,Q,"▶","\\blacktriangleright");x(M,X,Q,"∵","\\because",!0);x(M,X,Q,"⋘","\\llless");x(M,X,Q,"⋙","\\gggtr");x(M,X,ot,"⊲","\\lhd");x(M,X,ot,"⊳","\\rhd");x(M,X,Q,"≂","\\eqsim",!0);x(M,B,Q,"⋈","\\Join");x(M,X,Q,"≑","\\Doteq",!0);x(M,X,ot,"∔","\\dotplus",!0);x(M,X,ot,"∖","\\smallsetminus");x(M,X,ot,"⋒","\\Cap",!0);x(M,X,ot,"⋓","\\Cup",!0);x(M,X,ot,"⩞","\\doublebarwedge",!0);x(M,X,ot,"⊟","\\boxminus",!0);x(M,X,ot,"⊞","\\boxplus",!0);x(M,X,ot,"⋇","\\divideontimes",!0);x(M,X,ot,"⋉","\\ltimes",!0);x(M,X,ot,"⋊","\\rtimes",!0);x(M,X,ot,"⋋","\\leftthreetimes",!0);x(M,X,ot,"⋌","\\rightthreetimes",!0);x(M,X,ot,"⋏","\\curlywedge",!0);x(M,X,ot,"⋎","\\curlyvee",!0);x(M,X,ot,"⊝","\\circleddash",!0);x(M,X,ot,"⊛","\\circledast",!0);x(M,X,ot,"⋅","\\centerdot");x(M,X,ot,"⊺","\\intercal",!0);x(M,X,ot,"⋒","\\doublecap");x(M,X,ot,"⋓","\\doublecup");x(M,X,ot,"⊠","\\boxtimes",!0);x(M,X,Q,"⇢","\\dashrightarrow",!0);x(M,X,Q,"⇠","\\dashleftarrow",!0);x(M,X,Q,"⇇","\\leftleftarrows",!0);x(M,X,Q,"⇆","\\leftrightarrows",!0);x(M,X,Q,"⇚","\\Lleftarrow",!0);x(M,X,Q,"↞","\\twoheadleftarrow",!0);x(M,X,Q,"↢","\\leftarrowtail",!0);x(M,X,Q,"↫","\\looparrowleft",!0);x(M,X,Q,"⇋","\\leftrightharpoons",!0);x(M,X,Q,"↶","\\curvearrowleft",!0);x(M,X,Q,"↺","\\circlearrowleft",!0);x(M,X,Q,"↰","\\Lsh",!0);x(M,X,Q,"⇈","\\upuparrows",!0);x(M,X,Q,"↿","\\upharpoonleft",!0);x(M,X,Q,"⇃","\\downharpoonleft",!0);x(M,B,Q,"⊶","\\origof",!0);x(M,B,Q,"⊷","\\imageof",!0);x(M,X,Q,"⊸","\\multimap",!0);x(M,X,Q,"↭","\\leftrightsquigarrow",!0);x(M,X,Q,"⇉","\\rightrightarrows",!0);x(M,X,Q,"⇄","\\rightleftarrows",!0);x(M,X,Q,"↠","\\twoheadrightarrow",!0);x(M,X,Q,"↣","\\rightarrowtail",!0);x(M,X,Q,"↬","\\looparrowright",!0);x(M,X,Q,"↷","\\curvearrowright",!0);x(M,X,Q,"↻","\\circlearrowright",!0);x(M,X,Q,"↱","\\Rsh",!0);x(M,X,Q,"⇊","\\downdownarrows",!0);x(M,X,Q,"↾","\\upharpoonright",!0);x(M,X,Q,"⇂","\\downharpoonright",!0);x(M,X,Q,"⇝","\\rightsquigarrow",!0);x(M,X,Q,"⇝","\\leadsto");x(M,X,Q,"⇛","\\Rrightarrow",!0);x(M,X,Q,"↾","\\restriction");x(M,B,oe,"‘","`");x(M,B,oe,"$","\\$");x(qe,B,oe,"$","\\$");x(qe,B,oe,"$","\\textdollar");x(M,B,oe,"%","\\%");x(qe,B,oe,"%","\\%");x(M,B,oe,"_","\\_");x(qe,B,oe,"_","\\_");x(qe,B,oe,"_","\\textunderscore");x(M,B,oe,"∠","\\angle",!0);x(M,B,oe,"∞","\\infty",!0);x(M,B,oe,"′","\\prime");x(M,B,oe,"△","\\triangle");x(M,B,oe,"Γ","\\Gamma",!0);x(M,B,oe,"Δ","\\Delta",!0);x(M,B,oe,"Θ","\\Theta",!0);x(M,B,oe,"Λ","\\Lambda",!0);x(M,B,oe,"Ξ","\\Xi",!0);x(M,B,oe,"Π","\\Pi",!0);x(M,B,oe,"Σ","\\Sigma",!0);x(M,B,oe,"Υ","\\Upsilon",!0);x(M,B,oe,"Φ","\\Phi",!0);x(M,B,oe,"Ψ","\\Psi",!0);x(M,B,oe,"Ω","\\Omega",!0);x(M,B,oe,"A","Α");x(M,B,oe,"B","Β");x(M,B,oe,"E","Ε");x(M,B,oe,"Z","Ζ");x(M,B,oe,"H","Η");x(M,B,oe,"I","Ι");x(M,B,oe,"K","Κ");x(M,B,oe,"M","Μ");x(M,B,oe,"N","Ν");x(M,B,oe,"O","Ο");x(M,B,oe,"P","Ρ");x(M,B,oe,"T","Τ");x(M,B,oe,"X","Χ");x(M,B,oe,"¬","\\neg",!0);x(M,B,oe,"¬","\\lnot");x(M,B,oe,"⊤","\\top");x(M,B,oe,"⊥","\\bot");x(M,B,oe,"∅","\\emptyset");x(M,X,oe,"∅","\\varnothing");x(M,B,Mt,"α","\\alpha",!0);x(M,B,Mt,"β","\\beta",!0);x(M,B,Mt,"γ","\\gamma",!0);x(M,B,Mt,"δ","\\delta",!0);x(M,B,Mt,"ϵ","\\epsilon",!0);x(M,B,Mt,"ζ","\\zeta",!0);x(M,B,Mt,"η","\\eta",!0);x(M,B,Mt,"θ","\\theta",!0);x(M,B,Mt,"ι","\\iota",!0);x(M,B,Mt,"κ","\\kappa",!0);x(M,B,Mt,"λ","\\lambda",!0);x(M,B,Mt,"μ","\\mu",!0);x(M,B,Mt,"ν","\\nu",!0);x(M,B,Mt,"ξ","\\xi",!0);x(M,B,Mt,"ο","\\omicron",!0);x(M,B,Mt,"π","\\pi",!0);x(M,B,Mt,"ρ","\\rho",!0);x(M,B,Mt,"σ","\\sigma",!0);x(M,B,Mt,"τ","\\tau",!0);x(M,B,Mt,"υ","\\upsilon",!0);x(M,B,Mt,"ϕ","\\phi",!0);x(M,B,Mt,"χ","\\chi",!0);x(M,B,Mt,"ψ","\\psi",!0);x(M,B,Mt,"ω","\\omega",!0);x(M,B,Mt,"ε","\\varepsilon",!0);x(M,B,Mt,"ϑ","\\vartheta",!0);x(M,B,Mt,"ϖ","\\varpi",!0);x(M,B,Mt,"ϱ","\\varrho",!0);x(M,B,Mt,"ς","\\varsigma",!0);x(M,B,Mt,"φ","\\varphi",!0);x(M,B,ot,"∗","*",!0);x(M,B,ot,"+","+");x(M,B,ot,"−","-",!0);x(M,B,ot,"⋅","\\cdot",!0);x(M,B,ot,"∘","\\circ",!0);x(M,B,ot,"÷","\\div",!0);x(M,B,ot,"±","\\pm",!0);x(M,B,ot,"×","\\times",!0);x(M,B,ot,"∩","\\cap",!0);x(M,B,ot,"∪","\\cup",!0);x(M,B,ot,"∖","\\setminus",!0);x(M,B,ot,"∧","\\land");x(M,B,ot,"∨","\\lor");x(M,B,ot,"∧","\\wedge",!0);x(M,B,ot,"∨","\\vee",!0);x(M,B,oe,"√","\\surd");x(M,B,ro,"⟨","\\langle",!0);x(M,B,ro,"∣","\\lvert");x(M,B,ro,"∥","\\lVert");x(M,B,ca,"?","?");x(M,B,ca,"!","!");x(M,B,ca,"⟩","\\rangle",!0);x(M,B,ca,"∣","\\rvert");x(M,B,ca,"∥","\\rVert");x(M,B,Q,"=","=");x(M,B,Q,":",":");x(M,B,Q,"≈","\\approx",!0);x(M,B,Q,"≅","\\cong",!0);x(M,B,Q,"≥","\\ge");x(M,B,Q,"≥","\\geq",!0);x(M,B,Q,"←","\\gets");x(M,B,Q,">","\\gt",!0);x(M,B,Q,"∈","\\in",!0);x(M,B,Q,"","\\@not");x(M,B,Q,"⊂","\\subset",!0);x(M,B,Q,"⊃","\\supset",!0);x(M,B,Q,"⊆","\\subseteq",!0);x(M,B,Q,"⊇","\\supseteq",!0);x(M,X,Q,"⊈","\\nsubseteq",!0);x(M,X,Q,"⊉","\\nsupseteq",!0);x(M,B,Q,"⊨","\\models");x(M,B,Q,"←","\\leftarrow",!0);x(M,B,Q,"≤","\\le");x(M,B,Q,"≤","\\leq",!0);x(M,B,Q,"<","\\lt",!0);x(M,B,Q,"→","\\rightarrow",!0);x(M,B,Q,"→","\\to");x(M,X,Q,"≱","\\ngeq",!0);x(M,X,Q,"≰","\\nleq",!0);x(M,B,cc," ","\\ ");x(M,B,cc," ","\\space");x(M,B,cc," ","\\nobreakspace");x(qe,B,cc," ","\\ ");x(qe,B,cc," "," ");x(qe,B,cc," ","\\space");x(qe,B,cc," ","\\nobreakspace");x(M,B,cc,null,"\\nobreak");x(M,B,cc,null,"\\allowbreak");x(M,B,K2,",",",");x(M,B,K2,";",";");x(M,X,ot,"⊼","\\barwedge",!0);x(M,X,ot,"⊻","\\veebar",!0);x(M,B,ot,"⊙","\\odot",!0);x(M,B,ot,"⊕","\\oplus",!0);x(M,B,ot,"⊗","\\otimes",!0);x(M,B,oe,"∂","\\partial",!0);x(M,B,ot,"⊘","\\oslash",!0);x(M,X,ot,"⊚","\\circledcirc",!0);x(M,X,ot,"⊡","\\boxdot",!0);x(M,B,ot,"△","\\bigtriangleup");x(M,B,ot,"▽","\\bigtriangledown");x(M,B,ot,"†","\\dagger");x(M,B,ot,"⋄","\\diamond");x(M,B,ot,"⋆","\\star");x(M,B,ot,"◃","\\triangleleft");x(M,B,ot,"▹","\\triangleright");x(M,B,ro,"{","\\{");x(qe,B,oe,"{","\\{");x(qe,B,oe,"{","\\textbraceleft");x(M,B,ca,"}","\\}");x(qe,B,oe,"}","\\}");x(qe,B,oe,"}","\\textbraceright");x(M,B,ro,"{","\\lbrace");x(M,B,ca,"}","\\rbrace");x(M,B,ro,"[","\\lbrack",!0);x(qe,B,oe,"[","\\lbrack",!0);x(M,B,ca,"]","\\rbrack",!0);x(qe,B,oe,"]","\\rbrack",!0);x(M,B,ro,"(","\\lparen",!0);x(M,B,ca,")","\\rparen",!0);x(qe,B,oe,"<","\\textless",!0);x(qe,B,oe,">","\\textgreater",!0);x(M,B,ro,"⌊","\\lfloor",!0);x(M,B,ca,"⌋","\\rfloor",!0);x(M,B,ro,"⌈","\\lceil",!0);x(M,B,ca,"⌉","\\rceil",!0);x(M,B,oe,"\\","\\backslash");x(M,B,oe,"∣","|");x(M,B,oe,"∣","\\vert");x(qe,B,oe,"|","\\textbar",!0);x(M,B,oe,"∥","\\|");x(M,B,oe,"∥","\\Vert");x(qe,B,oe,"∥","\\textbardbl");x(qe,B,oe,"~","\\textasciitilde");x(qe,B,oe,"\\","\\textbackslash");x(qe,B,oe,"^","\\textasciicircum");x(M,B,Q,"↑","\\uparrow",!0);x(M,B,Q,"⇑","\\Uparrow",!0);x(M,B,Q,"↓","\\downarrow",!0);x(M,B,Q,"⇓","\\Downarrow",!0);x(M,B,Q,"↕","\\updownarrow",!0);x(M,B,Q,"⇕","\\Updownarrow",!0);x(M,B,bi,"∐","\\coprod");x(M,B,bi,"⋁","\\bigvee");x(M,B,bi,"⋀","\\bigwedge");x(M,B,bi,"⨄","\\biguplus");x(M,B,bi,"⋂","\\bigcap");x(M,B,bi,"⋃","\\bigcup");x(M,B,bi,"∫","\\int");x(M,B,bi,"∫","\\intop");x(M,B,bi,"∬","\\iint");x(M,B,bi,"∭","\\iiint");x(M,B,bi,"∏","\\prod");x(M,B,bi,"∑","\\sum");x(M,B,bi,"⨂","\\bigotimes");x(M,B,bi,"⨁","\\bigoplus");x(M,B,bi,"⨀","\\bigodot");x(M,B,bi,"∮","\\oint");x(M,B,bi,"∯","\\oiint");x(M,B,bi,"∰","\\oiiint");x(M,B,bi,"⨆","\\bigsqcup");x(M,B,bi,"∫","\\smallint");x(qe,B,ed,"…","\\textellipsis");x(M,B,ed,"…","\\mathellipsis");x(qe,B,ed,"…","\\ldots",!0);x(M,B,ed,"…","\\ldots",!0);x(M,B,ed,"⋯","\\@cdots",!0);x(M,B,ed,"⋱","\\ddots",!0);x(M,B,oe,"⋮","\\varvdots");x(M,B,Nr,"ˊ","\\acute");x(M,B,Nr,"ˋ","\\grave");x(M,B,Nr,"¨","\\ddot");x(M,B,Nr,"~","\\tilde");x(M,B,Nr,"ˉ","\\bar");x(M,B,Nr,"˘","\\breve");x(M,B,Nr,"ˇ","\\check");x(M,B,Nr,"^","\\hat");x(M,B,Nr,"⃗","\\vec");x(M,B,Nr,"˙","\\dot");x(M,B,Nr,"˚","\\mathring");x(M,B,Mt,"","\\@imath");x(M,B,Mt,"","\\@jmath");x(M,B,oe,"ı","ı");x(M,B,oe,"ȷ","ȷ");x(qe,B,oe,"ı","\\i",!0);x(qe,B,oe,"ȷ","\\j",!0);x(qe,B,oe,"ß","\\ss",!0);x(qe,B,oe,"æ","\\ae",!0);x(qe,B,oe,"œ","\\oe",!0);x(qe,B,oe,"ø","\\o",!0);x(qe,B,oe,"Æ","\\AE",!0);x(qe,B,oe,"Œ","\\OE",!0);x(qe,B,oe,"Ø","\\O",!0);x(qe,B,Nr,"ˊ","\\'");x(qe,B,Nr,"ˋ","\\`");x(qe,B,Nr,"ˆ","\\^");x(qe,B,Nr,"˜","\\~");x(qe,B,Nr,"ˉ","\\=");x(qe,B,Nr,"˘","\\u");x(qe,B,Nr,"˙","\\.");x(qe,B,Nr,"¸","\\c");x(qe,B,Nr,"˚","\\r");x(qe,B,Nr,"ˇ","\\v");x(qe,B,Nr,"¨",'\\"');x(qe,B,Nr,"˝","\\H");x(qe,B,Nr,"◯","\\textcircled");var ML={"--":!0,"---":!0,"``":!0,"''":!0};x(qe,B,oe,"–","--",!0);x(qe,B,oe,"–","\\textendash");x(qe,B,oe,"—","---",!0);x(qe,B,oe,"—","\\textemdash");x(qe,B,oe,"‘","`",!0);x(qe,B,oe,"‘","\\textquoteleft");x(qe,B,oe,"’","'",!0);x(qe,B,oe,"’","\\textquoteright");x(qe,B,oe,"“","``",!0);x(qe,B,oe,"“","\\textquotedblleft");x(qe,B,oe,"”","''",!0);x(qe,B,oe,"”","\\textquotedblright");x(M,B,oe,"°","\\degree",!0);x(qe,B,oe,"°","\\degree");x(qe,B,oe,"°","\\textdegree",!0);x(M,B,oe,"£","\\pounds");x(M,B,oe,"£","\\mathsterling",!0);x(qe,B,oe,"£","\\pounds");x(qe,B,oe,"£","\\textsterling",!0);x(M,X,oe,"✠","\\maltese");x(qe,X,oe,"✠","\\maltese");var pT='0123456789/@."';for(var gy=0;gy<pT.length;gy++){var mT=pT.charAt(gy);x(M,B,oe,mT,mT)}var gT='0123456789!@*()-=+";:?/.,';for(var _y=0;_y<gT.length;_y++){var _T=gT.charAt(_y);x(qe,B,oe,_T,_T)}var z_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var vy=0;vy<z_.length;vy++){var H1=z_.charAt(vy);x(M,B,Mt,H1,H1),x(qe,B,oe,H1,H1)}x(M,X,oe,"C","ℂ");x(qe,X,oe,"C","ℂ");x(M,X,oe,"H","ℍ");x(qe,X,oe,"H","ℍ");x(M,X,oe,"N","ℕ");x(qe,X,oe,"N","ℕ");x(M,X,oe,"P","ℙ");x(qe,X,oe,"P","ℙ");x(M,X,oe,"Q","ℚ");x(qe,X,oe,"Q","ℚ");x(M,X,oe,"R","ℝ");x(qe,X,oe,"R","ℝ");x(M,X,oe,"Z","ℤ");x(qe,X,oe,"Z","ℤ");x(M,B,Mt,"h","ℎ");x(qe,B,Mt,"h","ℎ");var zt="";for(var Qs=0;Qs<z_.length;Qs++){var Qr=z_.charAt(Qs);zt=String.fromCharCode(55349,56320+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56372+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56424+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56580+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56684+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56736+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56788+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56840+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56944+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),Qs<26&&(zt=String.fromCharCode(55349,56632+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt),zt=String.fromCharCode(55349,56476+Qs),x(M,B,Mt,Qr,zt),x(qe,B,oe,Qr,zt))}zt=String.fromCharCode(55349,56668);x(M,B,Mt,"k",zt);x(qe,B,oe,"k",zt);for(var C0=0;C0<10;C0++){var Cc=C0.toString();zt=String.fromCharCode(55349,57294+C0),x(M,B,Mt,Cc,zt),x(qe,B,oe,Cc,zt),zt=String.fromCharCode(55349,57314+C0),x(M,B,Mt,Cc,zt),x(qe,B,oe,Cc,zt),zt=String.fromCharCode(55349,57324+C0),x(M,B,Mt,Cc,zt),x(qe,B,oe,Cc,zt),zt=String.fromCharCode(55349,57334+C0),x(M,B,Mt,Cc,zt),x(qe,B,oe,Cc,zt)}var b3="ÐÞþ";for(var yy=0;yy<b3.length;yy++){var W1=b3.charAt(yy);x(M,B,Mt,W1,W1),x(qe,B,oe,W1,W1)}var G1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],vT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ffe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[G1[l][2],G1[l][a]]}else if(120782<=s&&s<=120831){var c=Math.floor((s-120782)/10);return[vT[c][2],vT[c][a]]}else{if(s===120485||s===120486)return[G1[0][2],G1[0][a]];if(120486<s&&s<120782)return["",""];throw new We("Unsupported character: "+e)}},X2=function(e,n,r){return xr[r][e]&&xr[r][e].replace&&(e=xr[r][e].replace),{value:e,metrics:Z6(e,n,r)}},Ko=function(e,n,r,i,s){var a=X2(e,n,r),l=a.metrics;e=a.value;var c;if(l){var f=l.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),c=new Po(e,l.height,l.depth,f,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),c=new Po(e,0,0,0,0,0,s);if(i){c.maxFontSize=i.sizeMultiplier,i.style.isTight()&&c.classes.push("mtight");var p=i.getColor();p&&(c.style.color=p)}return c},Ufe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&X2(e,"Main-Bold",n).metrics?Ko(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||xr[n][e].font==="main"?Ko(e,"Main-Regular",n,r,i):Ko(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},qfe=function(e,n,r,i,s){return s!=="textord"&&X2(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Hfe=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],l=i==="math"||i==="text"&&n.font,c=l?n.font:n.fontFamily,f="",p="";if(s.charCodeAt(0)===55349&&([f,p]=Ffe(s,i)),f.length>0)return Ko(s,f,i,n,a.concat(p));if(c){var m,g;if(c==="boldsymbol"){var y=qfe(s,i,n,a,r);m=y.fontName,g=[y.fontClass]}else l?(m=IL[c].fontName,g=[c]):(m=$1(c,n.fontWeight,n.fontShape),g=[c,n.fontWeight,n.fontShape]);if(X2(s,m,i).metrics)return Ko(s,m,i,n,a.concat(g));if(ML.hasOwnProperty(s)&&m.slice(0,10)==="Typewriter"){for(var w=[],S=0;S<s.length;S++)w.push(Ko(s[S],m,i,n,a.concat(g)));return AL(w)}}if(r==="mathord")return Ko(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var I=xr[i][s]&&xr[i][s].font;if(I==="ams"){var P=$1("amsrm",n.fontWeight,n.fontShape);return Ko(s,P,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(I==="main"||!I){var k=$1("textrm",n.fontWeight,n.fontShape);return Ko(s,k,i,n,a.concat(n.fontWeight,n.fontShape))}else{var A=$1(I,n.fontWeight,n.fontShape);return Ko(s,A,i,n,a.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Wfe=(t,e)=>{if(r0(t.classes)!==r0(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Gfe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Po&&r instanceof Po&&Wfe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},j6=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Ia=function(e,n,r,i){var s=new Bm(e,n,r,i);return j6(s),s},CL=(t,e,n,r)=>new Bm(t,e,n,r),$fe=function(e,n,r){var i=Ia([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Ye(i.height),i.maxFontSize=1,i},Vfe=function(e,n,r,i){var s=new Y6(e,n,r,i);return j6(s),s},AL=function(e){var n=new Dm(e);return j6(n),n},Zfe=function(e,n){return e instanceof Dm?Ia([],[e],n):e},Yfe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var l=-n[a].shift-s-n[a].elem.depth,c=l-(n[a-1].elem.height+n[a-1].elem.depth);s=s+l,r.push({type:"kern",size:c}),r.push(n[a])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var p=e.positionData,m=0;m<e.children.length;m++){var g=e.children[m];p-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}f=p}else if(e.positionType==="bottom")f=-e.positionData;else{var y=e.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-y.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-y.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},jfe=function(e,n){for(var{children:r,depth:i}=Yfe(e),s=0,a=0;a<r.length;a++){var l=r[a];if(l.type==="elem"){var c=l.elem;s=Math.max(s,c.maxFontSize,c.height)}}s+=2;var f=Ia(["pstrut"],[]);f.style.height=Ye(s);for(var p=[],m=i,g=i,y=i,w=0;w<r.length;w++){var S=r[w];if(S.type==="kern")y+=S.size;else{var I=S.elem,P=S.wrapperClasses||[],k=S.wrapperStyle||{},A=Ia(P,[f,I],void 0,k);A.style.top=Ye(-s-y-I.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),p.push(A),y+=I.height+I.depth}m=Math.min(m,y),g=Math.max(g,y)}var C=Ia(["vlist"],p);C.style.height=Ye(g);var N;if(m<0){var D=Ia([],[]),F=Ia(["vlist"],[D]);F.style.height=Ye(-m);var W=Ia(["vlist-s"],[new Po("​")]);N=[Ia(["vlist-r"],[C,W]),Ia(["vlist-r"],[F])]}else N=[Ia(["vlist-r"],[C])];var G=Ia(["vlist-t"],N);return N.length===2&&G.classes.push("vlist-t2"),G.height=g,G.depth=-m,G},Kfe=(t,e)=>{var n=Ia(["mspace"],[],e),r=Gr(t,e);return n.style.marginRight=Ye(r),n},$1=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},IL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},RL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Xfe=function(e,n){var[r,i,s]=RL[e],a=new i0(r),l=new tc([a],{width:Ye(i),height:Ye(s),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),c=CL(["overlay"],[l],n);return c.height=s,c.style.height=Ye(s),c.style.width=Ye(i),c},ye={fontMap:IL,makeSymbol:Ko,mathsym:Ufe,makeSpan:Ia,makeSvgSpan:CL,makeLineSpan:$fe,makeAnchor:Vfe,makeFragment:AL,wrapFragment:Zfe,makeVList:jfe,makeOrd:Hfe,makeGlue:Kfe,staticSvg:Xfe,svgData:RL,tryCombineChars:Gfe},Hr={number:3,unit:"mu"},A0={number:4,unit:"mu"},Pu={number:5,unit:"mu"},Jfe={mord:{mop:Hr,mbin:A0,mrel:Pu,minner:Hr},mop:{mord:Hr,mop:Hr,mrel:Pu,minner:Hr},mbin:{mord:A0,mop:A0,mopen:A0,minner:A0},mrel:{mord:Pu,mop:Pu,mopen:Pu,minner:Pu},mopen:{},mclose:{mop:Hr,mbin:A0,mrel:Pu,minner:Hr},mpunct:{mord:Hr,mop:Hr,mrel:Pu,mopen:Hr,mclose:Hr,mpunct:Hr,minner:Hr},minner:{mord:Hr,mop:Hr,mbin:A0,mrel:Pu,mopen:Hr,mpunct:Hr,minner:Hr}},Qfe={mord:{mop:Hr},mop:{mord:Hr,mop:Hr},mbin:{},mrel:{},mopen:{},mclose:{mop:Hr},mpunct:{},minner:{mop:Hr}},PL={},F_={},U_={};function Qe(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},c=0;c<n.length;++c)PL[n[c]]=l;e&&(s&&(F_[e]=s),a&&(U_[e]=a))}function Tf(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Qe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var q_=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},di=function(e){return e.type==="ordgroup"?e.body:[e]},nc=ye.makeSpan,ehe=["leftmost","mbin","mopen","mrel","mop","mpunct"],the=["rightmost","mrel","mclose","mpunct"],nhe={display:Ct.DISPLAY,text:Ct.TEXT,script:Ct.SCRIPT,scriptscript:Ct.SCRIPTSCRIPT},rhe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ci=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var l=Dn(e[a],n);if(l instanceof Dm){var c=l.children;s.push(...c)}else s.push(l)}if(ye.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var p=e[0];p.type==="sizing"?f=n.havingSize(p.size):p.type==="styling"&&(f=n.havingStyle(nhe[p.style]))}var m=nc([i[0]||"leftmost"],[],n),g=nc([i[1]||"rightmost"],[],n),y=r==="root";return yT(s,(w,S)=>{var I=S.classes[0],P=w.classes[0];I==="mbin"&&Ft.contains(the,P)?S.classes[0]="mord":P==="mbin"&&Ft.contains(ehe,I)&&(w.classes[0]="mord")},{node:m},g,y),yT(s,(w,S)=>{var I=w3(S),P=w3(w),k=I&&P?w.hasClass("mtight")?Qfe[I][P]:Jfe[I][P]:null;if(k)return ye.makeGlue(k,f)},{node:m},g,y),s},yT=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var l=e[a],c=NL(l);if(c){t(c.children,n,r,null,s);continue}var f=!l.hasClass("mspace");if(f){var p=n(l,r.node);p&&(r.insertAfter?r.insertAfter(p):(e.unshift(p),a++))}f?r.node=l:s&&l.hasClass("newline")&&(r.node=nc(["leftmost"])),r.insertAfter=(m=>g=>{e.splice(m+1,0,g),a++})(a)}i&&e.pop()},NL=function(e){return e instanceof Dm||e instanceof Y6||e instanceof Bm&&e.hasClass("enclosing")?e:null},ihe=function t(e,n){var r=NL(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},w3=function(e,n){return e?(n&&(e=ihe(e,n)),rhe[e.classes[0]]||null):null},Gp=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return nc(n.concat(r))},Dn=function(e,n,r){if(!e)return nc();if(F_[e.type]){var i=F_[e.type](e,n);if(r&&n.size!==r.size){i=nc(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new We("Got group of unknown type: '"+e.type+"'")};function V1(t,e){var n=nc(["base"],t,e),r=nc(["strut"]);return r.style.height=Ye(n.height+n.depth),n.depth&&(r.style.verticalAlign=Ye(-n.depth)),n.children.unshift(r),n}function x3(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Ci(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var c=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(c=!0);c||(s.push(V1(a,e)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(V1(a,e)),a=[]),s.push(r[l]));a.length>0&&s.push(V1(a,e));var f;n?(f=V1(Ci(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var p=nc(["katex-html"],s);if(p.setAttribute("aria-hidden","true"),f){var m=f.children[0];m.style.height=Ye(p.height+p.depth),p.depth&&(m.style.verticalAlign=Ye(-p.depth))}return p}function LL(t){return new Dm(t)}class bo{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=r0(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ft.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ft.escape(r0(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class rp{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ft.escape(this.toText())}toText(){return this.text}}class she{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ye(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ye(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var He={MathNode:bo,TextNode:rp,SpaceNode:she,newDocumentFragment:LL},No=function(e,n,r){return xr[n][e]&&xr[n][e].replace&&e.charCodeAt(0)!==55349&&!(ML.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=xr[n][e].replace),new He.TextNode(e)},K6=function(e){return e.length===1?e[0]:new He.MathNode("mrow",e)},X6=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(Ft.contains(["\\imath","\\jmath"],s))return null;xr[i][s]&&xr[i][s].replace&&(s=xr[i][s].replace);var a=ye.fontMap[r].fontName;return Z6(s,a,i)?ye.fontMap[r].variant:null},Fa=function(e,n,r){if(e.length===1){var i=hr(e[0],n);return r&&i instanceof bo&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,l=0;l<e.length;l++){var c=hr(e[l],n);if(c instanceof bo&&a instanceof bo){if(c.type==="mtext"&&a.type==="mtext"&&c.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...c.children);continue}else if(c.type==="mn"&&a.type==="mn"){a.children.push(...c.children);continue}else if(c.type==="mi"&&c.children.length===1&&a.type==="mn"){var f=c.children[0];if(f instanceof rp&&f.text==="."){a.children.push(...c.children);continue}}else if(a.type==="mi"&&a.children.length===1){var p=a.children[0];if(p instanceof rp&&p.text==="̸"&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof rp&&m.text.length>0&&(m.text=m.text.slice(0,1)+"̸"+m.text.slice(1),s.pop())}}}s.push(c),a=c}return s},s0=function(e,n,r){return K6(Fa(e,n,r))},hr=function(e,n){if(!e)return new He.MathNode("mrow");if(U_[e.type]){var r=U_[e.type](e,n);return r}else throw new We("Got group of unknown type: '"+e.type+"'")};function bT(t,e,n,r,i){var s=Fa(t,n),a;s.length===1&&s[0]instanceof bo&&Ft.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new He.MathNode("mrow",s);var l=new He.MathNode("annotation",[new He.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var c=new He.MathNode("semantics",[a,l]),f=new He.MathNode("math",[c]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var p=i?"katex":"katex-mathml";return ye.makeSpan([p],[f])}var OL=function(e){return new Du({style:e.displayMode?Ct.DISPLAY:Ct.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},DL=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ye.makeSpan(r,[e])}return e},ahe=function(e,n,r){var i=OL(r),s;if(r.output==="mathml")return bT(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=x3(e,i);s=ye.makeSpan(["katex"],[a])}else{var l=bT(e,n,i,r.displayMode,!1),c=x3(e,i);s=ye.makeSpan(["katex"],[l,c])}return DL(s,r)},ohe=function(e,n,r){var i=OL(r),s=x3(e,i),a=ye.makeSpan(["katex"],[s]);return DL(a,r)},lhe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},uhe=function(e){var n=new He.MathNode("mo",[new He.TextNode(lhe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},che={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},fhe=function(e){return e.type==="ordgroup"?e.body.length:1},hhe=function(e,n){function r(){var l=4e5,c=e.label.slice(1);if(Ft.contains(["widehat","widecheck","widetilde","utilde"],c)){var f=e,p=fhe(f.base),m,g,y;if(p>5)c==="widehat"||c==="widecheck"?(m=420,l=2364,y=.42,g=c+"4"):(m=312,l=2340,y=.34,g="tilde4");else{var w=[1,1,2,2,3,3][p];c==="widehat"||c==="widecheck"?(l=[0,1062,2364,2364,2364][w],m=[0,239,300,360,420][w],y=[0,.24,.3,.3,.36,.42][w],g=c+w):(l=[0,600,1033,2339,2340][w],m=[0,260,286,306,312][w],y=[0,.26,.286,.3,.306,.34][w],g="tilde"+w)}var S=new i0(g),I=new tc([S],{width:"100%",height:Ye(y),viewBox:"0 0 "+l+" "+m,preserveAspectRatio:"none"});return{span:ye.makeSvgSpan([],[I],n),minWidth:0,height:y}}else{var P=[],k=che[c],[A,C,N]=k,D=N/1e3,F=A.length,W,G;if(F===1){var Y=k[3];W=["hide-tail"],G=[Y]}else if(F===2)W=["halfarrow-left","halfarrow-right"],G=["xMinYMin","xMaxYMin"];else if(F===3)W=["brace-left","brace-center","brace-right"],G=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+F+" children.");for(var V=0;V<F;V++){var ee=new i0(A[V]),fe=new tc([ee],{width:"400em",height:Ye(D),viewBox:"0 0 "+l+" "+N,preserveAspectRatio:G[V]+" slice"}),le=ye.makeSvgSpan([W[V]],[fe],n);if(F===1)return{span:le,minWidth:C,height:D};le.style.height=Ye(D),P.push(le)}return{span:ye.makeSpan(["stretchy"],P,n),minWidth:C,height:D}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=Ye(a),s>0&&(i.style.minWidth=Ye(s)),i},dhe=function(e,n,r,i,s){var a,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=ye.makeSpan(["stretchy",n],[],s),n==="fbox"){var c=s.color&&s.getColor();c&&(a.style.borderColor=c)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new y3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new y3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new tc(f,{width:"100%",height:Ye(l)});a=ye.makeSvgSpan([],[p],s)}return a.height=l,a.style.height=Ye(l),a},rc={encloseSpan:dhe,mathMLnode:uhe,svgSpan:hhe};function rn(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function J6(t){var e=J2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function J2(t){return t&&(t.type==="atom"||zfe.hasOwnProperty(t.type))?t:null}var Q6=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=rn(t.base,"accent"),n=r.base,t.base=n,i=Dfe(Dn(t,e)),t.base=r):(r=rn(t,"accent"),n=r.base);var s=Dn(n,e.havingCrampedStyle()),a=r.isShifty&&Ft.isCharacterBox(n),l=0;if(a){var c=Ft.getBaseElem(n),f=Dn(c,e.havingCrampedStyle());l=dT(f).skew}var p=r.label==="\\c",m=p?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=rc.svgSpan(r,e),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Ye(2*l)+")",marginLeft:Ye(2*l)}:void 0}]},e);else{var y,w;r.label==="\\vec"?(y=ye.staticSvg("vec",e),w=ye.svgData.vec[1]):(y=ye.makeOrd({mode:r.mode,text:r.label},e,"textord"),y=dT(y),y.italic=0,w=y.width,p&&(m+=y.depth)),g=ye.makeSpan(["accent-body"],[y]);var S=r.label==="\\textcircled";S&&(g.classes.push("accent-full"),m=s.height);var I=l;S||(I-=w/2),g.style.left=Ye(I),r.label==="\\textcircled"&&(g.style.top=".2em"),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-m},{type:"elem",elem:g}]},e)}var P=ye.makeSpan(["mord","accent"],[g],e);return i?(i.children[0]=P,i.height=Math.max(P.height,i.height),i.classes[0]="mord",i):P},BL=(t,e)=>{var n=t.isStretchy?rc.mathMLnode(t.label):new He.MathNode("mo",[No(t.label,t.mode)]),r=new He.MathNode("mover",[hr(t.base,e),n]);return r.setAttribute("accent","true"),r},phe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Qe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=q_(e[0]),r=!phe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Q6,mathmlBuilder:BL});Qe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Q6,mathmlBuilder:BL});Qe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Dn(t.base,e),r=rc.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=rc.mathMLnode(t.label),r=new He.MathNode("munder",[hr(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Z1=t=>{var e=new He.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Qe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=ye.wrapFragment(Dn(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=ye.wrapFragment(Dn(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var l=rc.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*l.height,f=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var p;if(a){var m=-e.fontMetrics().axisHeight+a.height+.5*l.height+.111;p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c},{type:"elem",elem:a,shift:m}]},e)}else p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),ye.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var n=rc.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Z1(hr(t.body,e));if(t.below){var s=Z1(hr(t.below,e));r=new He.MathNode("munderover",[n,s,i])}else r=new He.MathNode("mover",[n,i])}else if(t.below){var a=Z1(hr(t.below,e));r=new He.MathNode("munder",[n,a])}else r=Z1(),r=new He.MathNode("mover",[n,r]);return r}});var mhe=ye.makeSpan;function zL(t,e){var n=Ci(t.body,e,!0);return mhe([t.mclass],n,e)}function FL(t,e){var n,r=Fa(t.body,e);return t.mclass==="minner"?n=new He.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new He.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new He.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Qe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:di(i),isCharacterBox:Ft.isCharacterBox(i)}},htmlBuilder:zL,mathmlBuilder:FL});var Q2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Qe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Q2(e[0]),body:di(e[1]),isCharacterBox:Ft.isCharacterBox(e[1])}}});Qe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=Q2(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:di(i)},c={type:"supsub",mode:s.mode,base:l,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[c],isCharacterBox:Ft.isCharacterBox(c)}},htmlBuilder:zL,mathmlBuilder:FL});Qe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Q2(e[0]),body:di(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!0),r=ye.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Fa(t.body,e),r=new He.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var ghe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},wT=()=>({type:"styling",body:[],mode:"math",style:"display"}),xT=t=>t.type==="textord"&&t.text==="@",_he=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function vhe(t,e,n){var r=ghe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[i,a,l]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function yhe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new We("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],l=wT(),c=0;c<a.length;c++)if(!xT(a[c]))l.body.push(a[c]);else{r.push(l),c+=1;var f=J6(a[c]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var m=0;m<2;m++){for(var g=!0,y=c+1;y<a.length;y++){if(_he(a[y],f)){g=!1,c=y;break}if(xT(a[y]))throw new We("Missing a "+f+" character to complete a CD arrow.",a[y]);p[m].body.push(a[y])}if(g)throw new We("Missing a "+f+" character to complete a CD arrow.",a[c])}else throw new We('Expected one of "<>AV=|." after @',a[c]);var w=vhe(f,p,t),S={type:"styling",body:[w],mode:"math",style:"display"};r.push(S),l=wT()}s%2===0?r.push(l):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var I=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:I,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Qe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ye.wrapFragment(Dn(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Ye(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new He.MathNode("mrow",[hr(t.label,e)]);return n=new He.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new He.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Qe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ye.wrapFragment(Dn(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new He.MathNode("mrow",[hr(t.fragment,e)])}});Qe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=rn(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var l=rn(i[a],"textord");s+=l.text}var c=parseInt(s),f;if(isNaN(c))throw new We("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new We("\\@char with invalid code point "+s);return c<=65535?f=String.fromCharCode(c):(c-=65536,f=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var UL=(t,e)=>{var n=Ci(t.body,e.withColor(t.color),!1);return ye.makeFragment(n)},qL=(t,e)=>{var n=Fa(t.body,e.withColor(t.color)),r=new He.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Qe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=rn(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:di(i)}},htmlBuilder:UL,mathmlBuilder:qL});Qe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=rn(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:UL,mathmlBuilder:qL});Qe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&rn(i,"size").value}},htmlBuilder(t,e){var n=ye.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Ye(Gr(t.size,e)))),n},mathmlBuilder(t,e){var n=new He.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Ye(Gr(t.size,e)))),n}});var S3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},HL=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new We("Expected a control sequence",t);return e},bhe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},WL=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Qe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(S3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=S3[r.text]),rn(e.parseFunction(),"internal");throw new We("Invalid token after macro prefix",r)}});Qe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new We("Expected a control sequence",r);for(var s=0,a,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new We('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new We('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if(r.text==="EOF")throw new We("Expected a macro definition");l[s].push(r.text)}var{tokens:c}=e.gullet.consumeArg();return a&&c.unshift(a),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(i,{tokens:c,numArgs:s,delimiters:l},n===S3[n]),{type:"internal",mode:e.mode}}});Qe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=HL(e.gullet.popToken());e.gullet.consumeSpaces();var i=bhe(e);return WL(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Qe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=HL(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return WL(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Wd=function(e,n,r){var i=xr.math[e]&&xr.math[e].replace,s=Z6(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},e7=function(e,n,r,i){var s=r.havingBaseStyle(n),a=ye.makeSpan(i.concat(s.sizingClasses(r)),[e],r),l=s.sizeMultiplier/r.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=s.sizeMultiplier,a},GL=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ye(s),e.height-=s,e.depth+=s},whe=function(e,n,r,i,s,a){var l=ye.makeSymbol(e,"Main-Regular",s,i),c=e7(l,n,i,a);return r&&GL(c,i,n),c},xhe=function(e,n,r,i){return ye.makeSymbol(e,"Size"+n+"-Regular",r,i)},$L=function(e,n,r,i,s,a){var l=xhe(e,n,s,i),c=e7(ye.makeSpan(["delimsizing","size"+n],[l],i),Ct.TEXT,i,a);return r&&GL(c,i,Ct.TEXT),c},by=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ye.makeSpan(["delimsizinginner",i],[ye.makeSpan([],[ye.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},wy=function(e,n,r){var i=Yl["Size4-Regular"][e.charCodeAt(0)]?Yl["Size4-Regular"][e.charCodeAt(0)][4]:Yl["Size1-Regular"][e.charCodeAt(0)][4],s=new i0("inner",Cfe(e,Math.round(1e3*n))),a=new tc([s],{width:Ye(i),height:Ye(n),style:"width:"+Ye(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=ye.makeSvgSpan([],[a],r);return l.height=n,l.style.height=Ye(n),l.style.width=Ye(i),{type:"elem",elem:l}},T3=.008,Y1={type:"kern",size:-1*T3},She=["|","\\lvert","\\rvert","\\vert"],The=["\\|","\\lVert","\\rVert","\\Vert"],VL=function(e,n,r,i,s,a){var l,c,f,p,m="",g=0;l=f=p=e,c=null;var y="Size1-Regular";e==="\\uparrow"?f=p="⏐":e==="\\Uparrow"?f=p="‖":e==="\\downarrow"?l=f="⏐":e==="\\Downarrow"?l=f="‖":e==="\\updownarrow"?(l="\\uparrow",f="⏐",p="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",f="‖",p="\\Downarrow"):Ft.contains(She,e)?(f="∣",m="vert",g=333):Ft.contains(The,e)?(f="∥",m="doublevert",g=556):e==="["||e==="\\lbrack"?(l="⎡",f="⎢",p="⎣",y="Size4-Regular",m="lbrack",g=667):e==="]"||e==="\\rbrack"?(l="⎤",f="⎥",p="⎦",y="Size4-Regular",m="rbrack",g=667):e==="\\lfloor"||e==="⌊"?(f=l="⎢",p="⎣",y="Size4-Regular",m="lfloor",g=667):e==="\\lceil"||e==="⌈"?(l="⎡",f=p="⎢",y="Size4-Regular",m="lceil",g=667):e==="\\rfloor"||e==="⌋"?(f=l="⎥",p="⎦",y="Size4-Regular",m="rfloor",g=667):e==="\\rceil"||e==="⌉"?(l="⎤",f=p="⎥",y="Size4-Regular",m="rceil",g=667):e==="("||e==="\\lparen"?(l="⎛",f="⎜",p="⎝",y="Size4-Regular",m="lparen",g=875):e===")"||e==="\\rparen"?(l="⎞",f="⎟",p="⎠",y="Size4-Regular",m="rparen",g=875):e==="\\{"||e==="\\lbrace"?(l="⎧",c="⎨",p="⎩",f="⎪",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="⎫",c="⎬",p="⎭",f="⎪",y="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(l="⎧",p="⎩",f="⎪",y="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(l="⎫",p="⎭",f="⎪",y="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(l="⎧",p="⎭",f="⎪",y="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(l="⎫",p="⎩",f="⎪",y="Size4-Regular");var w=Wd(l,y,s),S=w.height+w.depth,I=Wd(f,y,s),P=I.height+I.depth,k=Wd(p,y,s),A=k.height+k.depth,C=0,N=1;if(c!==null){var D=Wd(c,y,s);C=D.height+D.depth,N=2}var F=S+A+C,W=Math.max(0,Math.ceil((n-F)/(N*P))),G=F+W*N*P,Y=i.fontMetrics().axisHeight;r&&(Y*=i.sizeMultiplier);var V=G/2-Y,ee=[];if(m.length>0){var fe=G-S-A,le=Math.round(G*1e3),ie=Afe(m,Math.round(fe*1e3)),he=new i0(m,ie),me=(g/1e3).toFixed(3)+"em",ve=(le/1e3).toFixed(3)+"em",pe=new tc([he],{width:me,height:ve,viewBox:"0 0 "+g+" "+le}),Z=ye.makeSvgSpan([],[pe],i);Z.height=le/1e3,Z.style.width=me,Z.style.height=ve,ee.push({type:"elem",elem:Z})}else{if(ee.push(by(p,y,s)),ee.push(Y1),c===null){var j=G-S-A+2*T3;ee.push(wy(f,j,i))}else{var ae=(G-S-A-C)/2+2*T3;ee.push(wy(f,ae,i)),ee.push(Y1),ee.push(by(c,y,s)),ee.push(Y1),ee.push(wy(f,ae,i))}ee.push(Y1),ee.push(by(l,y,s))}var Ee=i.havingBaseStyle(Ct.TEXT),Oe=ye.makeVList({positionType:"bottom",positionData:V,children:ee},Ee);return e7(ye.makeSpan(["delimsizing","mult"],[Oe],Ee),Ct.TEXT,i,a)},xy=80,Sy=.08,Ty=function(e,n,r,i,s){var a=Mfe(e,i,r),l=new i0(e,a),c=new tc([l],{width:"400em",height:Ye(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ye.makeSvgSpan(["hide-tail"],[c],s)},khe=function(e,n){var r=n.havingBaseSizing(),i=KL("\\surd",e*r.sizeMultiplier,jL,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,c=0,f=0,p=0,m;return i.type==="small"?(p=1e3+1e3*a+xy,e<1?s=1:e<1.4&&(s=.7),c=(1+a+Sy)/s,f=(1+a)/s,l=Ty("sqrtMain",c,p,a,n),l.style.minWidth="0.853em",m=.833/s):i.type==="large"?(p=(1e3+xy)*ip[i.size],f=(ip[i.size]+a)/s,c=(ip[i.size]+a+Sy)/s,l=Ty("sqrtSize"+i.size,c,p,a,n),l.style.minWidth="1.02em",m=1/s):(c=e+a+Sy,f=e+a,p=Math.floor(1e3*e+a)+xy,l=Ty("sqrtTall",c,p,a,n),l.style.minWidth="0.742em",m=1.056),l.height=f,l.style.height=Ye(c),{span:l,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},ZL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ehe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],YL=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ip=[0,1.2,1.8,2.4,3],Mhe=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Ft.contains(ZL,e)||Ft.contains(YL,e))return $L(e,n,!1,r,i,s);if(Ft.contains(Ehe,e))return VL(e,ip[n],!1,r,i,s);throw new We("Illegal delimiter: '"+e+"'")},Che=[{type:"small",style:Ct.SCRIPTSCRIPT},{type:"small",style:Ct.SCRIPT},{type:"small",style:Ct.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ahe=[{type:"small",style:Ct.SCRIPTSCRIPT},{type:"small",style:Ct.SCRIPT},{type:"small",style:Ct.TEXT},{type:"stack"}],jL=[{type:"small",style:Ct.SCRIPTSCRIPT},{type:"small",style:Ct.SCRIPT},{type:"small",style:Ct.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ihe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},KL=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var l=Wd(e,Ihe(r[a]),"math"),c=l.height+l.depth;if(r[a].type==="small"){var f=i.havingBaseStyle(r[a].style);c*=f.sizeMultiplier}if(c>n)return r[a]}return r[r.length-1]},XL=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var l;Ft.contains(YL,e)?l=Che:Ft.contains(ZL,e)?l=jL:l=Ahe;var c=KL(e,n,l,i);return c.type==="small"?whe(e,c.style,r,i,s,a):c.type==="large"?$L(e,c.size,r,i,s,a):VL(e,n,r,i,s,a)},Rhe=function(e,n,r,i,s,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,c=901,f=5/i.fontMetrics().ptPerEm,p=Math.max(n-l,r+l),m=Math.max(p/500*c,2*p-f);return XL(e,m,!0,i,s,a)},Yu={sqrtImage:khe,sizedDelim:Mhe,sizeToMaxHeight:ip,customSizedDelim:XL,leftRightDelim:Rhe},ST={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Phe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ev(t,e){var n=J2(t);if(n&&Ft.contains(Phe,n.text))return n;throw n?new We("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new We("Invalid delimiter type '"+t.type+"'",t)}Qe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=ev(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:ST[t.funcName].size,mclass:ST[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ye.makeSpan([t.mclass]):Yu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(No(t.delim,t.mode));var n=new He.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Ye(Yu.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function TT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Qe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new We("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:ev(e[0],t).text,color:n}}});Qe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=ev(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=rn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{TT(t);for(var n=Ci(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=Gp(e,["mopen"]):l=Yu.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(l),s)for(var c=1;c<n.length;c++){var f=n[c],p=f.isMiddle;p&&(n[c]=Yu.leftRightDelim(p.delim,r,i,p.options,t.mode,[]))}var m;if(t.right===".")m=Gp(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;m=Yu.leftRightDelim(t.right,r,i,g,t.mode,["mclose"])}return n.push(m),ye.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{TT(t);var n=Fa(t.body,e);if(t.left!=="."){var r=new He.MathNode("mo",[No(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new He.MathNode("mo",[No(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return K6(n)}});Qe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=ev(e[0],t);if(!t.parser.leftrightDepth)throw new We("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Gp(e,[]);else{n=Yu.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?No("|","text"):No(t.delim,t.mode),r=new He.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var t7=(t,e)=>{var n=ye.wrapFragment(Dn(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,l=Ft.isCharacterBox(t.body);if(r==="sout")s=ye.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var c=Gr({number:.6,unit:"pt"},e),f=Gr({number:.35,unit:"ex"},e),p=e.havingBaseSizing();i=i/p.sizeMultiplier;var m=n.height+n.depth+c+f;n.style.paddingLeft=Ye(m/2+c);var g=Math.floor(1e3*m*i),y=kfe(g),w=new tc([new i0("phase",y)],{width:"400em",height:Ye(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=ye.makeSvgSpan(["hide-tail"],[w],e),s.style.height=Ye(m),a=n.depth+c+f}else{/cancel/.test(r)?l||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,I=0,P=0;/box/.test(r)?(P=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:P),I=S):r==="angl"?(P=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*P,I=Math.max(0,.25-n.depth)):(S=l?.2:0,I=S),s=rc.encloseSpan(n,r,S,I,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Ye(P)):r==="angl"&&P!==.049&&(s.style.borderTopWidth=Ye(P),s.style.borderRightWidth=Ye(P)),a=n.depth+I,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!l?ye.makeSpan(["mord","cancel-lap"],[k],e):ye.makeSpan(["mord"],[k],e)},n7=(t,e)=>{var n=0,r=new He.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hr(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Qe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:t7,mathmlBuilder:n7});Qe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=rn(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:l}},htmlBuilder:t7,mathmlBuilder:n7});Qe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Qe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:t7,mathmlBuilder:n7});Qe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var JL={};function ou(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},c=0;c<n.length;++c)JL[n[c]]=l;s&&(F_[e]=s),a&&(U_[e]=a)}var QL={};function q(t,e){QL[t]=e}function kT(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var tv=t=>{var e=t.parser.settings;if(!e.displayMode)throw new We("{"+t.envName+"} can be used only in display mode.")};function r7(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function h0(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:l,autoTag:c,singleRow:f,emptySingleRow:p,maxNumCols:m,leqno:g}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var y=t.gullet.expandMacroAsText("\\arraystretch");if(y==null)a=1;else if(a=parseFloat(y),!a||a<0)throw new We("Invalid \\arraystretch: "+y)}t.gullet.beginGroup();var w=[],S=[w],I=[],P=[],k=c!=null?[]:void 0;function A(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function C(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new Ql("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),P.push(kT(t));;){var N=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),N={type:"ordgroup",mode:t.mode,body:N},n&&(N={type:"styling",mode:t.mode,style:n,body:[N]}),w.push(N);var D=t.fetch().text;if(D==="&"){if(m&&w.length===m){if(f||l)throw new We("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(D==="\\end"){C(),w.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(S.length>1||!p)&&S.pop(),P.length<S.length+1&&P.push([]);break}else if(D==="\\\\"){t.consume();var F=void 0;t.gullet.future().text!==" "&&(F=t.parseSizeGroup(!0)),I.push(F?F.value:null),C(),P.push(kT(t)),w=[],S.push(w),A()}else throw new We("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:S,cols:s,rowGaps:I,hskipBeforeAndAfter:r,hLinesBeforeRow:P,colSeparationType:l,tags:k,leqno:g}}function i7(t){return t.slice(0,1)==="d"?"display":"text"}var lu=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,l=0,c=new Array(s),f=[],p=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,g=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var y=n.havingStyle(Ct.SCRIPT).sizeMultiplier;g=.2778*(y/n.sizeMultiplier)}var w=e.colSeparationType==="CD"?Gr({number:3,unit:"ex"},n):12*m,S=3*m,I=e.arraystretch*w,P=.7*I,k=.3*I,A=0;function C(kt){for(var tt=0;tt<kt.length;++tt)tt>0&&(A+=.25),f.push({pos:A,isDashed:kt[tt]})}for(C(a[0]),r=0;r<e.body.length;++r){var N=e.body[r],D=P,F=k;l<N.length&&(l=N.length);var W=new Array(N.length);for(i=0;i<N.length;++i){var G=Dn(N[i],n);F<G.depth&&(F=G.depth),D<G.height&&(D=G.height),W[i]=G}var Y=e.rowGaps[r],V=0;Y&&(V=Gr(Y,n),V>0&&(V+=k,F<V&&(F=V),V=0)),e.addJot&&(F+=S),W.height=D,W.depth=F,A+=D,W.pos=A,A+=F+V,c[r]=W,C(a[r+1])}var ee=A/2+n.fontMetrics().axisHeight,fe=e.cols||[],le=[],ie,he,me=[];if(e.tags&&e.tags.some(kt=>kt))for(r=0;r<s;++r){var ve=c[r],pe=ve.pos-ee,Z=e.tags[r],j=void 0;Z===!0?j=ye.makeSpan(["eqn-num"],[],n):Z===!1?j=ye.makeSpan([],[],n):j=ye.makeSpan([],Ci(Z,n,!0),n),j.depth=ve.depth,j.height=ve.height,me.push({type:"elem",elem:j,shift:pe})}for(i=0,he=0;i<l||he<fe.length;++i,++he){for(var ae=fe[he]||{},Ee=!0;ae.type==="separator";){if(Ee||(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(n.fontMetrics().doubleRuleSep),le.push(ie)),ae.separator==="|"||ae.separator===":"){var Oe=ae.separator==="|"?"solid":"dashed",Re=ye.makeSpan(["vertical-separator"],[],n);Re.style.height=Ye(A),Re.style.borderRightWidth=Ye(p),Re.style.borderRightStyle=Oe,Re.style.margin="0 "+Ye(-p/2);var Se=A-ee;Se&&(Re.style.verticalAlign=Ye(-Se)),le.push(Re)}else throw new We("Invalid separator type: "+ae.separator);he++,ae=fe[he]||{},Ee=!1}if(!(i>=l)){var Te=void 0;(i>0||e.hskipBeforeAndAfter)&&(Te=Ft.deflt(ae.pregap,g),Te!==0&&(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(Te),le.push(ie)));var Ce=[];for(r=0;r<s;++r){var _e=c[r],Ne=_e[i];if(Ne){var Be=_e.pos-ee;Ne.depth=_e.depth,Ne.height=_e.height,Ce.push({type:"elem",elem:Ne,shift:Be})}}Ce=ye.makeVList({positionType:"individualShift",children:Ce},n),Ce=ye.makeSpan(["col-align-"+(ae.align||"c")],[Ce]),le.push(Ce),(i<l-1||e.hskipBeforeAndAfter)&&(Te=Ft.deflt(ae.postgap,g),Te!==0&&(ie=ye.makeSpan(["arraycolsep"],[]),ie.style.width=Ye(Te),le.push(ie)))}}if(c=ye.makeSpan(["mtable"],le),f.length>0){for(var we=ye.makeLineSpan("hline",n,p),st=ye.makeLineSpan("hdashline",n,p),ze=[{type:"elem",elem:c,shift:0}];f.length>0;){var lt=f.pop(),ft=lt.pos-ee;lt.isDashed?ze.push({type:"elem",elem:st,shift:ft}):ze.push({type:"elem",elem:we,shift:ft})}c=ye.makeVList({positionType:"individualShift",children:ze},n)}if(me.length===0)return ye.makeSpan(["mord"],[c],n);var et=ye.makeVList({positionType:"individualShift",children:me},n);return et=ye.makeSpan(["tag"],[et],n),ye.makeFragment([c,et])},Nhe={c:"center ",l:"left ",r:"right "},uu=function(e,n){for(var r=[],i=new He.MathNode("mtd",[],["mtr-glue"]),s=new He.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var l=e.body[a],c=[],f=0;f<l.length;f++)c.push(new He.MathNode("mtd",[hr(l[f],n)]));e.tags&&e.tags[a]&&(c.unshift(i),c.push(i),e.leqno?c.unshift(s):c.push(s)),r.push(new He.MathNode("mtr",c))}var p=new He.MathNode("mtable",r),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",Ye(m));var g="",y="";if(e.cols&&e.cols.length>0){var w=e.cols,S="",I=!1,P=0,k=w.length;w[0].type==="separator"&&(g+="top ",P=1),w[w.length-1].type==="separator"&&(g+="bottom ",k-=1);for(var A=P;A<k;A++)w[A].type==="align"?(y+=Nhe[w[A].align],I&&(S+="none "),I=!0):w[A].type==="separator"&&I&&(S+=w[A].separator==="|"?"solid ":"dashed ",I=!1);p.setAttribute("columnalign",y.trim()),/[sd]/.test(S)&&p.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var C=e.cols||[],N="",D=1;D<C.length;D++)N+=D%2?"0em ":"1em ";p.setAttribute("columnspacing",N.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var F="",W=e.hLinesBeforeRow;g+=W[0].length>0?"left ":"",g+=W[W.length-1].length>0?"right ":"";for(var G=1;G<W.length-1;G++)F+=W[G].length===0?"none ":W[G][0]?"dashed ":"solid ";return/[sd]/.test(F)&&p.setAttribute("rowlines",F.trim()),g!==""&&(p=new He.MathNode("menclose",[p]),p.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(p=new He.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},eO=function(e,n){e.envName.indexOf("ed")===-1&&tv(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=h0(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:r7(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l,c=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var p="",m=0;m<n[0].body.length;m++){var g=rn(n[0].body[m],"textord");p+=g.text}l=Number(p),c=l*2}var y=!c;a.body.forEach(function(P){for(var k=1;k<P.length;k+=2){var A=rn(P[k],"styling"),C=rn(A.body[0],"ordgroup");C.body.unshift(f)}if(y)c<P.length&&(c=P.length);else{var N=P.length/2;if(l<N)throw new We("Too many math in a row: "+("expected "+l+", but got "+N),P[0])}});for(var w=0;w<c;++w){var S="r",I=0;w%2===1?S="l":w>0&&y&&(I=1),r[w]={type:"align",align:S,pregap:I,postgap:0}}return a.colSeparationType=y?"align":"alignat",a};ou({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=J2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=J6(a),c=l.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new We("Unknown column alignment: "+c,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return h0(t.parser,s,i7(t.envName))},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new We("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=h0(t.parser,r,i7(t.envName)),a=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=h0(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=J2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=J6(a),c=l.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new We("Unknown column alignment: "+c,a)});if(i.length>1)throw new We("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=h0(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new We("{subarray} can contain only one column");return s},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=h0(t.parser,e,i7(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:eO,htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ft.contains(["gather","gather*"],t.envName)&&tv(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:r7(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return h0(t.parser,e,"display")},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:eO,htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){tv(t);var e={autoTag:r7(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return h0(t.parser,e,"display")},htmlBuilder:lu,mathmlBuilder:uu});ou({type:"array",names:["CD"],props:{numArgs:0},handler(t){return tv(t),yhe(t.parser)},htmlBuilder:lu,mathmlBuilder:uu});q("\\nonumber","\\gdef\\@eqnsw{0}");q("\\notag","\\nonumber");Qe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new We(t.funcName+" valid only within array environment")}});var ET=JL;Qe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new We("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=rn(i.body[a],"textord").text;if(r==="\\begin"){if(!ET.hasOwnProperty(s))throw new We("No such environment: "+s,i);var l=ET[s],{args:c,optArgs:f}=n.parseArguments("\\begin{"+s+"}",l),p={mode:n.mode,envName:s,parser:n},m=l.handler(p,c,f);n.expect("\\end",!1);var g=n.nextToken,y=rn(n.parseFunction(),"environment");if(y.name!==s)throw new We("Mismatch: \\begin{"+s+"} matched by \\end{"+y.name+"}",g);return m}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var tO=(t,e)=>{var n=t.font,r=e.withFont(n);return Dn(t.body,r)},nO=(t,e)=>{var n=t.font,r=e.withFont(n);return hr(t.body,r)},MT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Qe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=q_(e[0]),s=r;return s in MT&&(s=MT[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:tO,mathmlBuilder:nO});Qe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ft.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Q2(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Qe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:tO,mathmlBuilder:nO});var rO=(t,e)=>{var n=e;return t==="display"?n=n.id>=Ct.SCRIPT.id?n.text():Ct.DISPLAY:t==="text"&&n.size===Ct.DISPLAY.size?n=Ct.TEXT:t==="script"?n=Ct.SCRIPT:t==="scriptscript"&&(n=Ct.SCRIPTSCRIPT),n},s7=(t,e)=>{var n=rO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=Dn(t.numer,s,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<c?c:a.depth}s=e.havingStyle(i);var f=Dn(t.denom,s,e),p,m,g;t.hasBarLine?(t.barSize?(m=Gr(t.barSize,e),p=ye.makeLineSpan("frac-line",e,m)):p=ye.makeLineSpan("frac-line",e),m=p.height,g=p.height):(p=null,m=0,g=e.fontMetrics().defaultRuleThickness);var y,w,S;n.size===Ct.DISPLAY.size||t.size==="display"?(y=e.fontMetrics().num1,m>0?w=3*g:w=7*g,S=e.fontMetrics().denom1):(m>0?(y=e.fontMetrics().num2,w=g):(y=e.fontMetrics().num3,w=3*g),S=e.fontMetrics().denom2);var I;if(p){var k=e.fontMetrics().axisHeight;y-a.depth-(k+.5*m)<w&&(y+=w-(y-a.depth-(k+.5*m))),k-.5*m-(f.height-S)<w&&(S+=w-(k-.5*m-(f.height-S)));var A=-(k-.5*m);I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:p,shift:A},{type:"elem",elem:a,shift:-y}]},e)}else{var P=y-a.depth-(f.height-S);P<w&&(y+=.5*(w-P),S+=.5*(w-P)),I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:a,shift:-y}]},e)}s=e.havingStyle(n),I.height*=s.sizeMultiplier/e.sizeMultiplier,I.depth*=s.sizeMultiplier/e.sizeMultiplier;var C;n.size===Ct.DISPLAY.size?C=e.fontMetrics().delim1:n.size===Ct.SCRIPTSCRIPT.size?C=e.havingStyle(Ct.SCRIPT).fontMetrics().delim2:C=e.fontMetrics().delim2;var N,D;return t.leftDelim==null?N=Gp(e,["mopen"]):N=Yu.customSizedDelim(t.leftDelim,C,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?D=ye.makeSpan([]):t.rightDelim==null?D=Gp(e,["mclose"]):D=Yu.customSizedDelim(t.rightDelim,C,!0,e.havingStyle(n),t.mode,["mclose"]),ye.makeSpan(["mord"].concat(s.sizingClasses(e)),[N,ye.makeSpan(["mfrac"],[I]),D],e)},a7=(t,e)=>{var n=new He.MathNode("mfrac",[hr(t.numer,e),hr(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Gr(t.barSize,e);n.setAttribute("linethickness",Ye(r))}var i=rO(t.size,e.style);if(i.size!==e.style.size){n=new He.MathNode("mstyle",[n]);var s=i.size===Ct.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var l=new He.MathNode("mo",[new He.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(n),t.rightDelim!=null){var c=new He.MathNode("mo",[new He.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}return K6(a)}return n};Qe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,l=null,c=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",c=")";break;case"\\\\bracefrac":a=!1,l="\\{",c="\\}";break;case"\\\\brackfrac":a=!1,l="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:l,rightDelim:c,size:f,barSize:null}},htmlBuilder:s7,mathmlBuilder:a7});Qe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Qe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var CT=["display","text","script","scriptscript"],AT=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Qe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=q_(e[0]),a=s.type==="atom"&&s.family==="open"?AT(s.text):null,l=q_(e[1]),c=l.type==="atom"&&l.family==="close"?AT(l.text):null,f=rn(e[2],"size"),p,m=null;f.isBlank?p=!0:(m=f.value,p=m.number>0);var g="auto",y=e[3];if(y.type==="ordgroup"){if(y.body.length>0){var w=rn(y.body[0],"textord");g=CT[Number(w.text)]}}else y=rn(y,"textord"),g=CT[Number(y.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:p,barSize:m,leftDelim:a,rightDelim:c,size:g}},htmlBuilder:s7,mathmlBuilder:a7});Qe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:rn(e[0],"size").value,token:i}}});Qe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=cfe(rn(e[1],"infix").size),a=e[2],l=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:s7,mathmlBuilder:a7});var iO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Dn(t.sup,e.havingStyle(n.sup()),e):Dn(t.sub,e.havingStyle(n.sub()),e),i=rn(t.base,"horizBrace")):i=rn(t,"horizBrace");var s=Dn(i.base,e.havingBaseStyle(Ct.DISPLAY)),a=rc.svgSpan(i,e),l;if(i.isOver?(l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=ye.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var c=ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=ye.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},Lhe=(t,e)=>{var n=rc.mathMLnode(t.label);return new He.MathNode(t.isOver?"mover":"munder",[hr(t.base,e),n])};Qe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:iO,mathmlBuilder:Lhe});Qe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=rn(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:di(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1);return ye.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=s0(t.body,e);return n instanceof bo||(n=new bo("mrow",[n])),n.setAttribute("href",t.href),n}});Qe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=rn(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:di(l)}}});Qe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:di(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!1);return ye.makeFragment(n)},mathmlBuilder(t,e){return new He.MathNode("mrow",Fa(t.body,e))}});Qe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=rn(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,c={};switch(r){case"\\htmlClass":c.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":c.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":c.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length!==2)throw new We("Error parsing key-value for \\htmlData");c["data-"+m[0].trim()]=m[1].trim()}l={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:c,body:di(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ye.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>s0(t.body,e)});Qe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:di(e[0]),mathml:di(e[1])}},htmlBuilder:(t,e)=>{var n=Ci(t.html,e,!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>s0(t.mathml,e)});var ky=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new We("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!SL(r))throw new We("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Qe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=rn(n[0],"raw").string,f=c.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length===2){var g=m[1].trim();switch(m[0].trim()){case"alt":l=g;break;case"width":i=ky(g);break;case"height":s=ky(g);break;case"totalheight":a=ky(g);break;default:throw new We("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var y=rn(e[0],"url").url;return l===""&&(l=y,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:a,src:y}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Gr(t.height,e),r=0;t.totalheight.number>0&&(r=Gr(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Gr(t.width,e));var s={height:Ye(n+r)};i>0&&(s.width=Ye(i)),r>0&&(s.verticalAlign=Ye(-r));var a=new Lfe(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Gr(t.height,e),i=0;if(t.totalheight.number>0&&(i=Gr(t.totalheight,e)-r,n.setAttribute("valign",Ye(-i))),n.setAttribute("height",Ye(r+i)),t.width.number>0){var s=Gr(t.width,e);n.setAttribute("width",Ye(s))}return n.setAttribute("src",t.src),n}});Qe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=rn(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return ye.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Gr(t.dimension,e);return new He.SpaceNode(n)}});Qe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ye.makeSpan([],[Dn(t.body,e)]),n=ye.makeSpan(["inner"],[n],e)):n=ye.makeSpan(["inner"],[Dn(t.body,e)]);var r=ye.makeSpan(["fix"],[]),i=ye.makeSpan([t.alignment],[n,r],e),s=ye.makeSpan(["strut"]);return s.style.height=Ye(i.height+i.depth),i.depth&&(s.style.verticalAlign=Ye(-i.depth)),i.children.unshift(s),i=ye.makeSpan(["thinbox"],[i],e),ye.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[hr(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Qe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});Qe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new We("Mismatched "+t.funcName)}});var IT=(t,e)=>{switch(e.style.size){case Ct.DISPLAY.size:return t.display;case Ct.TEXT.size:return t.text;case Ct.SCRIPT.size:return t.script;case Ct.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Qe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:di(e[0]),text:di(e[1]),script:di(e[2]),scriptscript:di(e[3])}},htmlBuilder:(t,e)=>{var n=IT(t,e),r=Ci(n,e,!1);return ye.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=IT(t,e);return s0(n,e)}});var sO=(t,e,n,r,i,s,a)=>{t=ye.makeSpan([],[t]);var l=n&&Ft.isCharacterBox(n),c,f;if(e){var p=Dn(e,r.havingStyle(i.sup()),r);f={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-p.depth)}}if(n){var m=Dn(n,r.havingStyle(i.sub()),r);c={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-m.height)}}var g;if(f&&c){var y=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ye(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var w=t.height-a;g=ye.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ye(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ye(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var I=[g];if(c&&s!==0&&!l){var P=ye.makeSpan(["mspace"],[],r);P.style.marginRight=Ye(s),I.unshift(P)}return ye.makeSpan(["mop","op-limits"],I,r)},aO=["\\smallint"],td=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"op"),i=!0):s=rn(t,"op");var a=e.style,l=!1;a.size===Ct.DISPLAY.size&&s.symbol&&!Ft.contains(aO,s.name)&&(l=!0);var c;if(s.symbol){var f=l?"Size2-Regular":"Size1-Regular",p="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(p=s.name.slice(1),s.name=p==="oiint"?"\\iint":"\\iiint"),c=ye.makeSymbol(s.name,f,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),p.length>0){var m=c.italic,g=ye.staticSvg(p+"Size"+(l?"2":"1"),e);c=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},e),s.name="\\"+p,c.classes.unshift("mop"),c.italic=m}}else if(s.body){var y=Ci(s.body,e,!0);y.length===1&&y[0]instanceof Po?(c=y[0],c.classes[0]="mop"):c=ye.makeSpan(["mop"],y,e)}else{for(var w=[],S=1;S<s.name.length;S++)w.push(ye.mathsym(s.name[S],s.mode,e));c=ye.makeSpan(["mop"],w,e)}var I=0,P=0;return(c instanceof Po||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(I=(c.height-c.depth)/2-e.fontMetrics().axisHeight,P=c.italic),i?sO(c,n,r,e,a,P,I):(I&&(c.style.position="relative",c.style.top=Ye(I)),c)},zm=(t,e)=>{var n;if(t.symbol)n=new bo("mo",[No(t.name,t.mode)]),Ft.contains(aO,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new bo("mo",Fa(t.body,e));else{n=new bo("mi",[new rp(t.name.slice(1))]);var r=new bo("mo",[No("⁡","text")]);t.parentIsSupSub?n=new bo("mrow",[n,r]):n=LL([n,r])}return n},Ohe={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Qe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=Ohe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:td,mathmlBuilder:zm});Qe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:di(r)}},htmlBuilder:td,mathmlBuilder:zm});var Dhe={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Qe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:td,mathmlBuilder:zm});Qe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:td,mathmlBuilder:zm});Qe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=Dhe[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:td,mathmlBuilder:zm});var oO=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"operatorname"),i=!0):s=rn(t,"operatorname");var a;if(s.body.length>0){for(var l=s.body.map(m=>{var g=m.text;return typeof g=="string"?{type:"textord",mode:m.mode,text:g}:m}),c=Ci(l,e.withFont("mathrm"),!0),f=0;f<c.length;f++){var p=c[f];p instanceof Po&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ye.makeSpan(["mop"],c,e)}else a=ye.makeSpan(["mop"],[],e);return i?sO(a,n,r,e,e.style,0,0):a},Bhe=(t,e)=>{for(var n=Fa(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof He.SpaceNode))if(s instanceof He.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof He.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=n.map(p=>p.toText()).join("");n=[new He.TextNode(l)]}var c=new He.MathNode("mi",n);c.setAttribute("mathvariant","normal");var f=new He.MathNode("mo",[No("⁡","text")]);return t.parentIsSupSub?new He.MathNode("mrow",[c,f]):He.newDocumentFragment([c,f])};Qe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:di(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:oO,mathmlBuilder:Bhe});q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Tf({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ye.makeFragment(Ci(t.body,e,!1)):ye.makeSpan(["mord"],Ci(t.body,e,!0),e)},mathmlBuilder(t,e){return s0(t.body,e,!0)}});Qe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Dn(t.body,e.havingCrampedStyle()),r=ye.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ye.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new He.MathNode("mover",[hr(t.body,e),n]);return r.setAttribute("accent","true"),r}});Qe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:di(r)}},htmlBuilder:(t,e)=>{var n=Ci(t.body,e.withPhantom(),!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Fa(t.body,e);return new He.MathNode("mphantom",n)}});Qe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Dn(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ye.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Fa(di(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Qe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan(["inner"],[Dn(t.body,e.withPhantom())]),r=ye.makeSpan(["fix"],[]);return ye.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Fa(di(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Qe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=rn(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Dn(t.body,e),r=Gr(t.dy,e);return ye.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new He.MathNode("mpadded",[hr(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Qe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Qe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=rn(e[0],"size"),a=rn(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&rn(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=ye.makeSpan(["mord","rule"],[],e),r=Gr(t.width,e),i=Gr(t.height,e),s=t.shift?Gr(t.shift,e):0;return n.style.borderRightWidth=Ye(r),n.style.borderTopWidth=Ye(i),n.style.bottom=Ye(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Gr(t.width,e),r=Gr(t.height,e),i=t.shift?Gr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new He.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Ye(n)),a.setAttribute("height",Ye(r));var l=new He.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",Ye(i)):(l.setAttribute("height",Ye(i)),l.setAttribute("depth",Ye(-i))),l.setAttribute("voffset",Ye(i)),l}});function lO(t,e,n){for(var r=Ci(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return ye.makeFragment(r)}var RT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],zhe=(t,e)=>{var n=e.havingSize(t.size);return lO(t.body,n,e)};Qe({type:"sizing",names:RT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:RT.indexOf(r)+1,body:s}},htmlBuilder:zhe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Fa(t.body,n),i=new He.MathNode("mstyle",r);return i.setAttribute("mathsize",Ye(n.sizeMultiplier)),i}});Qe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&rn(n[0],"ordgroup");if(a)for(var l="",c=0;c<a.body.length;++c){var f=a.body[c];if(l=f.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var p=e[0];return{type:"smash",mode:r.mode,body:p,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Dn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ye.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[hr(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Qe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Dn(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ye.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<Ct.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,l=n.height+n.depth+a+i,{span:c,ruleWidth:f,advanceWidth:p}=Yu.sqrtImage(l,e),m=c.height-f;m>n.height+n.depth+a&&(a=(a+m-n.height-n.depth)/2);var g=c.height-n.height-a-f;n.style.paddingLeft=Ye(p);var y=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:c},{type:"kern",size:f}]},e);if(t.index){var w=e.havingStyle(Ct.SCRIPTSCRIPT),S=Dn(t.index,w,e),I=.6*(y.height-y.depth),P=ye.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:S}]},e),k=ye.makeSpan(["root"],[P]);return ye.makeSpan(["mord","sqrt"],[k,y],e)}else return ye.makeSpan(["mord","sqrt"],[y],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new He.MathNode("mroot",[hr(n,e),hr(r,e)]):new He.MathNode("msqrt",[hr(n,e)])}});var PT={display:Ct.DISPLAY,text:Ct.TEXT,script:Ct.SCRIPT,scriptscript:Ct.SCRIPTSCRIPT};Qe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=PT[t.style],r=e.havingStyle(n).withFont("");return lO(t.body,r,e)},mathmlBuilder(t,e){var n=PT[t.style],r=e.havingStyle(n),i=Fa(t.body,r),s=new He.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[t.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var Fhe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ct.DISPLAY.size||r.alwaysHandleSupSub);return i?td:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Ct.DISPLAY.size||r.limits);return s?oO:null}else{if(r.type==="accent")return Ft.isCharacterBox(r.base)?Q6:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?iO:null}else return null}else return null};Tf({type:"supsub",htmlBuilder(t,e){var n=Fhe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=Dn(r,e),l,c,f=e.fontMetrics(),p=0,m=0,g=r&&Ft.isCharacterBox(r);if(i){var y=e.havingStyle(e.style.sup());l=Dn(i,y,e),g||(p=a.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(s){var w=e.havingStyle(e.style.sub());c=Dn(s,w,e),g||(m=a.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var S;e.style===Ct.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var I=e.sizeMultiplier,P=Ye(.5/f.ptPerEm/I),k=null;if(c){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Po||A)&&(k=Ye(-a.italic))}var C;if(l&&c){p=Math.max(p,S,l.depth+.25*f.xHeight),m=Math.max(m,f.sub2);var N=f.defaultRuleThickness,D=4*N;if(p-l.depth-(c.height-m)<D){m=D-(p-l.depth)+c.height;var F=.8*f.xHeight-(p-l.depth);F>0&&(p+=F,m-=F)}var W=[{type:"elem",elem:c,shift:m,marginRight:P,marginLeft:k},{type:"elem",elem:l,shift:-p,marginRight:P}];C=ye.makeVList({positionType:"individualShift",children:W},e)}else if(c){m=Math.max(m,f.sub1,c.height-.8*f.xHeight);var G=[{type:"elem",elem:c,marginLeft:k,marginRight:P}];C=ye.makeVList({positionType:"shift",positionData:m,children:G},e)}else if(l)p=Math.max(p,S,l.depth+.25*f.xHeight),C=ye.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:l,marginRight:P}]},e);else throw new Error("supsub must have either sup or sub.");var Y=w3(a,"right")||"mord";return ye.makeSpan([Y],[a,ye.makeSpan(["msupsub"],[C])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[hr(t.base,e)];t.sub&&s.push(hr(t.sub,e)),t.sup&&s.push(hr(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===Ct.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===Ct.DISPLAY||f.limits)?a="munderover":a="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Ct.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Ct.DISPLAY)?a="munder":a="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Ct.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Ct.DISPLAY)?a="mover":a="msup"}return new He.MathNode(a,s)}});Tf({type:"atom",htmlBuilder(t,e){return ye.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new He.MathNode("mo",[No(t.text,t.mode)]);if(t.family==="bin"){var r=X6(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var uO={mi:"italic",mn:"normal",mtext:"normal"};Tf({type:"mathord",htmlBuilder(t,e){return ye.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new He.MathNode("mi",[No(t.text,t.mode,e)]),r=X6(t,e)||"italic";return r!==uO[n.type]&&n.setAttribute("mathvariant",r),n}});Tf({type:"textord",htmlBuilder(t,e){return ye.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=No(t.text,t.mode,e),r=X6(t,e)||"normal",i;return t.mode==="text"?i=new He.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new He.MathNode("mn",[n]):t.text==="\\prime"?i=new He.MathNode("mo",[n]):i=new He.MathNode("mi",[n]),r!==uO[i.type]&&i.setAttribute("mathvariant",r),i}});var Ey={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},My={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Tf({type:"spacing",htmlBuilder(t,e){if(My.hasOwnProperty(t.text)){var n=My[t.text].className||"";if(t.mode==="text"){var r=ye.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ye.makeSpan(["mspace",n],[ye.mathsym(t.text,t.mode,e)],e)}else{if(Ey.hasOwnProperty(t.text))return ye.makeSpan(["mspace",Ey[t.text]],[],e);throw new We('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(My.hasOwnProperty(t.text))n=new He.MathNode("mtext",[new He.TextNode(" ")]);else{if(Ey.hasOwnProperty(t.text))return new He.MathNode("mspace");throw new We('Unknown type of space "'+t.text+'"')}return n}});var NT=()=>{var t=new He.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Tf({type:"tag",mathmlBuilder(t,e){var n=new He.MathNode("mtable",[new He.MathNode("mtr",[NT(),new He.MathNode("mtd",[s0(t.body,e)]),NT(),new He.MathNode("mtd",[s0(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var LT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},OT={"\\textbf":"textbf","\\textmd":"textmd"},Uhe={"\\textit":"textit","\\textup":"textup"},DT=(t,e)=>{var n=t.font;return n?LT[n]?e.withTextFontFamily(LT[n]):OT[n]?e.withTextFontWeight(OT[n]):e.withTextFontShape(Uhe[n]):e};Qe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:di(i),font:r}},htmlBuilder(t,e){var n=DT(t,e),r=Ci(t.body,n,!0);return ye.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=DT(t,e);return s0(t.body,n)}});Qe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Dn(t.body,e),r=ye.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new He.MathNode("munder",[hr(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Qe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Dn(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ye.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new He.MathNode("mpadded",[hr(t.body,e)],["vcenter"])}});Qe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new We("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=BT(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(ye.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ye.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ye.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new He.TextNode(BT(t)),r=new He.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var BT=t=>t.body.replace(/ /g,t.star?"␣":" "),Uc=PL,cO=`[ \r
	]`,qhe="\\\\[a-zA-Z@]+",Hhe="\\\\[^\uD800-\uDFFF]",Whe="("+qhe+")"+cO+"*",Ghe=`\\\\(
|[ \r	]+
?)[ \r	]*`,k3="[̀-ͯ]",$he=new RegExp(k3+"+$"),Vhe="("+cO+"+)|"+(Ghe+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(k3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(k3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Whe)+("|"+Hhe+")");class zT{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Vhe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Ql("EOF",new Xa(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new We("Unexpected character: '"+e[n]+"'",new Ql(e[n],new Xa(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Ql(i,new Xa(this,n,this.tokenRegex.lastIndex))}}class Zhe{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new We("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Yhe=QL;q("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});q("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});q("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});q("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});q("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");q("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var FT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new We("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=FT[e.text],r==null||r>=n)throw new We("Invalid base-"+n+" digit "+e.text);for(var i;(i=FT[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var o7=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new We("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new We("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new We("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new We("Invalid number of arguments: "+l);a=parseInt(l),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:a}),""};q("\\newcommand",t=>o7(t,!1,!0));q("\\renewcommand",t=>o7(t,!0,!1));q("\\providecommand",t=>o7(t,!0,!0));q("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});q("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});q("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Uc[n],xr.math[n],xr.text[n]),""});q("\\bgroup","{");q("\\egroup","}");q("~","\\nobreakspace");q("\\lq","`");q("\\rq","'");q("\\aa","\\r a");q("\\AA","\\r A");q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");q("ℬ","\\mathscr{B}");q("ℰ","\\mathscr{E}");q("ℱ","\\mathscr{F}");q("ℋ","\\mathscr{H}");q("ℐ","\\mathscr{I}");q("ℒ","\\mathscr{L}");q("ℳ","\\mathscr{M}");q("ℛ","\\mathscr{R}");q("ℭ","\\mathfrak{C}");q("ℌ","\\mathfrak{H}");q("ℨ","\\mathfrak{Z}");q("\\Bbbk","\\Bbb{k}");q("·","\\cdotp");q("\\llap","\\mathllap{\\textrm{#1}}");q("\\rlap","\\mathrlap{\\textrm{#1}}");q("\\clap","\\mathclap{\\textrm{#1}}");q("\\mathstrut","\\vphantom{(}");q("\\underbar","\\underline{\\text{#1}}");q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");q("\\ne","\\neq");q("≠","\\neq");q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");q("∉","\\notin");q("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");q("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");q("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");q("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");q("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");q("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");q("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");q("⟂","\\perp");q("‼","\\mathclose{!\\mkern-0.8mu!}");q("∌","\\notni");q("⌜","\\ulcorner");q("⌝","\\urcorner");q("⌞","\\llcorner");q("⌟","\\lrcorner");q("©","\\copyright");q("®","\\textregistered");q("️","\\textregistered");q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');q("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");q("⋮","\\vdots");q("\\varGamma","\\mathit{\\Gamma}");q("\\varDelta","\\mathit{\\Delta}");q("\\varTheta","\\mathit{\\Theta}");q("\\varLambda","\\mathit{\\Lambda}");q("\\varXi","\\mathit{\\Xi}");q("\\varPi","\\mathit{\\Pi}");q("\\varSigma","\\mathit{\\Sigma}");q("\\varUpsilon","\\mathit{\\Upsilon}");q("\\varPhi","\\mathit{\\Phi}");q("\\varPsi","\\mathit{\\Psi}");q("\\varOmega","\\mathit{\\Omega}");q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");q("\\boxed","\\fbox{$\\displaystyle{#1}$}");q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var UT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in UT?e=UT[n]:(n.slice(0,4)==="\\not"||n in xr.math&&Ft.contains(["bin","rel"],xr.math[n].group))&&(e="\\dotsb"),e});var l7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(t){var e=t.future().text;return e in l7?"\\ldots\\,":"\\ldots"});q("\\dotsc",function(t){var e=t.future().text;return e in l7&&e!==","?"\\ldots\\,":"\\ldots"});q("\\cdots",function(t){var e=t.future().text;return e in l7?"\\@cdots\\,":"\\@cdots"});q("\\dotsb","\\cdots");q("\\dotsm","\\cdots");q("\\dotsi","\\!\\cdots");q("\\dotsx","\\ldots\\,");q("\\DOTSI","\\relax");q("\\DOTSB","\\relax");q("\\DOTSX","\\relax");q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");q("\\,","\\tmspace+{3mu}{.1667em}");q("\\thinspace","\\,");q("\\>","\\mskip{4mu}");q("\\:","\\tmspace+{4mu}{.2222em}");q("\\medspace","\\:");q("\\;","\\tmspace+{5mu}{.2777em}");q("\\thickspace","\\;");q("\\!","\\tmspace-{3mu}{.1667em}");q("\\negthinspace","\\!");q("\\negmedspace","\\tmspace-{4mu}{.2222em}");q("\\negthickspace","\\tmspace-{5mu}{.277em}");q("\\enspace","\\kern.5em ");q("\\enskip","\\hskip.5em\\relax");q("\\quad","\\hskip1em\\relax");q("\\qquad","\\hskip2em\\relax");q("\\tag","\\@ifstar\\tag@literal\\tag@paren");q("\\tag@paren","\\tag@literal{({#1})}");q("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new We("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");q("\\newline","\\\\\\relax");q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var fO=Ye(Yl["Main-Regular"]["T".charCodeAt(0)][1]-.7*Yl["Main-Regular"]["A".charCodeAt(0)][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+fO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+fO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");q("\\hspace","\\@ifstar\\@hspacer\\@hspace");q("\\@hspace","\\hskip #1\\relax");q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");q("\\ordinarycolon",":");q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');q("∷","\\dblcolon");q("∹","\\eqcolon");q("≔","\\coloneqq");q("≕","\\eqqcolon");q("⩴","\\Coloneqq");q("\\ratio","\\vcentcolon");q("\\coloncolon","\\dblcolon");q("\\colonequals","\\coloneqq");q("\\coloncolonequals","\\Coloneqq");q("\\equalscolon","\\eqqcolon");q("\\equalscoloncolon","\\Eqqcolon");q("\\colonminus","\\coloneq");q("\\coloncolonminus","\\Coloneq");q("\\minuscolon","\\eqcolon");q("\\minuscoloncolon","\\Eqcolon");q("\\coloncolonapprox","\\Colonapprox");q("\\coloncolonsim","\\Colonsim");q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");q("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");q("\\nleqq","\\html@mathml{\\@nleqq}{≰}");q("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");q("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");q("\\imath","\\html@mathml{\\@imath}{ı}");q("\\jmath","\\html@mathml{\\@jmath}{ȷ}");q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");q("⟦","\\llbracket");q("⟧","\\rrbracket");q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");q("⦃","\\lBrace");q("⦄","\\rBrace");q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");q("⦵","\\minuso");q("\\darr","\\downarrow");q("\\dArr","\\Downarrow");q("\\Darr","\\Downarrow");q("\\lang","\\langle");q("\\rang","\\rangle");q("\\uarr","\\uparrow");q("\\uArr","\\Uparrow");q("\\Uarr","\\Uparrow");q("\\N","\\mathbb{N}");q("\\R","\\mathbb{R}");q("\\Z","\\mathbb{Z}");q("\\alef","\\aleph");q("\\alefsym","\\aleph");q("\\Alpha","\\mathrm{A}");q("\\Beta","\\mathrm{B}");q("\\bull","\\bullet");q("\\Chi","\\mathrm{X}");q("\\clubs","\\clubsuit");q("\\cnums","\\mathbb{C}");q("\\Complex","\\mathbb{C}");q("\\Dagger","\\ddagger");q("\\diamonds","\\diamondsuit");q("\\empty","\\emptyset");q("\\Epsilon","\\mathrm{E}");q("\\Eta","\\mathrm{H}");q("\\exist","\\exists");q("\\harr","\\leftrightarrow");q("\\hArr","\\Leftrightarrow");q("\\Harr","\\Leftrightarrow");q("\\hearts","\\heartsuit");q("\\image","\\Im");q("\\infin","\\infty");q("\\Iota","\\mathrm{I}");q("\\isin","\\in");q("\\Kappa","\\mathrm{K}");q("\\larr","\\leftarrow");q("\\lArr","\\Leftarrow");q("\\Larr","\\Leftarrow");q("\\lrarr","\\leftrightarrow");q("\\lrArr","\\Leftrightarrow");q("\\Lrarr","\\Leftrightarrow");q("\\Mu","\\mathrm{M}");q("\\natnums","\\mathbb{N}");q("\\Nu","\\mathrm{N}");q("\\Omicron","\\mathrm{O}");q("\\plusmn","\\pm");q("\\rarr","\\rightarrow");q("\\rArr","\\Rightarrow");q("\\Rarr","\\Rightarrow");q("\\real","\\Re");q("\\reals","\\mathbb{R}");q("\\Reals","\\mathbb{R}");q("\\Rho","\\mathrm{P}");q("\\sdot","\\cdot");q("\\sect","\\S");q("\\spades","\\spadesuit");q("\\sub","\\subset");q("\\sube","\\subseteq");q("\\supe","\\supseteq");q("\\Tau","\\mathrm{T}");q("\\thetasym","\\vartheta");q("\\weierp","\\wp");q("\\Zeta","\\mathrm{Z}");q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");q("\\bra","\\mathinner{\\langle{#1}|}");q("\\ket","\\mathinner{|{#1}\\rangle}");q("\\braket","\\mathinner{\\langle{#1}\\rangle}");q("\\Bra","\\left\\langle#1\\right|");q("\\Ket","\\left|#1\\right\\rangle");var hO=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var c=m=>g=>{t&&(g.macros.set("|",a),i.length&&g.macros.set("\\|",l));var y=m;if(!m&&i.length){var w=g.future();w.text==="|"&&(g.popToken(),y=!0)}return{tokens:y?i:r,numArgs:0}};e.macros.set("|",c(!1)),i.length&&e.macros.set("\\|",c(!0));var f=e.consumeArg().tokens,p=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};q("\\bra@ket",hO(!1));q("\\bra@set",hO(!0));q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");q("\\angln","{\\angl n}");q("\\blue","\\textcolor{##6495ed}{#1}");q("\\orange","\\textcolor{##ffa500}{#1}");q("\\pink","\\textcolor{##ff00af}{#1}");q("\\red","\\textcolor{##df0030}{#1}");q("\\green","\\textcolor{##28ae7b}{#1}");q("\\gray","\\textcolor{gray}{#1}");q("\\purple","\\textcolor{##9d38bd}{#1}");q("\\blueA","\\textcolor{##ccfaff}{#1}");q("\\blueB","\\textcolor{##80f6ff}{#1}");q("\\blueC","\\textcolor{##63d9ea}{#1}");q("\\blueD","\\textcolor{##11accd}{#1}");q("\\blueE","\\textcolor{##0c7f99}{#1}");q("\\tealA","\\textcolor{##94fff5}{#1}");q("\\tealB","\\textcolor{##26edd5}{#1}");q("\\tealC","\\textcolor{##01d1c1}{#1}");q("\\tealD","\\textcolor{##01a995}{#1}");q("\\tealE","\\textcolor{##208170}{#1}");q("\\greenA","\\textcolor{##b6ffb0}{#1}");q("\\greenB","\\textcolor{##8af281}{#1}");q("\\greenC","\\textcolor{##74cf70}{#1}");q("\\greenD","\\textcolor{##1fab54}{#1}");q("\\greenE","\\textcolor{##0d923f}{#1}");q("\\goldA","\\textcolor{##ffd0a9}{#1}");q("\\goldB","\\textcolor{##ffbb71}{#1}");q("\\goldC","\\textcolor{##ff9c39}{#1}");q("\\goldD","\\textcolor{##e07d10}{#1}");q("\\goldE","\\textcolor{##a75a05}{#1}");q("\\redA","\\textcolor{##fca9a9}{#1}");q("\\redB","\\textcolor{##ff8482}{#1}");q("\\redC","\\textcolor{##f9685d}{#1}");q("\\redD","\\textcolor{##e84d39}{#1}");q("\\redE","\\textcolor{##bc2612}{#1}");q("\\maroonA","\\textcolor{##ffbde0}{#1}");q("\\maroonB","\\textcolor{##ff92c6}{#1}");q("\\maroonC","\\textcolor{##ed5fa6}{#1}");q("\\maroonD","\\textcolor{##ca337c}{#1}");q("\\maroonE","\\textcolor{##9e034e}{#1}");q("\\purpleA","\\textcolor{##ddd7ff}{#1}");q("\\purpleB","\\textcolor{##c6b9fc}{#1}");q("\\purpleC","\\textcolor{##aa87ff}{#1}");q("\\purpleD","\\textcolor{##7854ab}{#1}");q("\\purpleE","\\textcolor{##543b78}{#1}");q("\\mintA","\\textcolor{##f5f9e8}{#1}");q("\\mintB","\\textcolor{##edf2df}{#1}");q("\\mintC","\\textcolor{##e0e5cc}{#1}");q("\\grayA","\\textcolor{##f6f7f7}{#1}");q("\\grayB","\\textcolor{##f0f1f2}{#1}");q("\\grayC","\\textcolor{##e3e5e6}{#1}");q("\\grayD","\\textcolor{##d6d8da}{#1}");q("\\grayE","\\textcolor{##babec2}{#1}");q("\\grayF","\\textcolor{##888d93}{#1}");q("\\grayG","\\textcolor{##626569}{#1}");q("\\grayH","\\textcolor{##3b3e40}{#1}");q("\\grayI","\\textcolor{##21242c}{#1}");q("\\kaBlue","\\textcolor{##314453}{#1}");q("\\kaGreen","\\textcolor{##71B307}{#1}");var dO={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class jhe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new Zhe(Yhe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new zT(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Ql("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,l=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new We("Extra }",s)}else if(s.text==="EOF")throw new We("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[l]==="{")&&s.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new We("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new We("Use of the macro doesn't match its definition",s)}}for(var a=[],l=0;l<e;l++)a.push(this.consumeArg(n&&n[l+1]).tokens);return a}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new We("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new We("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var c=s[l];if(c.text==="#"){if(l===0)throw new We("Incomplete placeholder at end of macro body",c);if(c=s[--l],c.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(c.text))s.splice(l,2,...a[+c.text-1]);else throw new We("Not a valid argument number",c)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ql(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var l=new zT(i,this.settings),c=[],f=l.lex();f.text!=="EOF";)c.push(f),f=l.lex();c.reverse();var p={tokens:c,numArgs:s};return p}return i}isDefined(e){return this.macros.has(e)||Uc.hasOwnProperty(e)||xr.math.hasOwnProperty(e)||xr.text.hasOwnProperty(e)||dO.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Uc.hasOwnProperty(e)&&!Uc[e].primitive}}var qT=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,j1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Cy={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},HT={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class $p{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new jhe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new We("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Ql("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if($p.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Uc[i.text]&&Uc[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new We("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,l=e.slice(0,n),c=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],a],[]):f=this.callFunction(r,[s,a],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new We("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new We("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new We("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new We("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new We("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();this.fetch().text==="'";)c.push(l),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(j1[s.text]){var f=j1[s.text],p=qT.test(s.text);for(this.consume();;){var m=this.fetch().text;if(!j1[m]||qT.test(m)!==p)break;this.consume(),f+=j1[m]}var g=new $p(f,this.settings).parse();p?i={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=Uc[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new We("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new We("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new We("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,a,l,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},l=Uc[e];if(l&&l.handler)return l.handler(a,n,r);throw new We("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var l=n.argTypes&&n.argTypes[a],c=a<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(l="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",l,c);if(c)s.push(f);else if(f!=null)i.push(f);else throw new We("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new We("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new We("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new We("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new We("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new We("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new We("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!SL(s))throw new We("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Xa.range(r,c),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!dO.hasOwnProperty(i)){if(this.settings.throwOnError)throw new We("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Xa.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Xa.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Xa.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new We(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}HT.hasOwnProperty(n[0])&&!xr[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=HT[n[0]]+n.slice(1));var s=$he.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var a;if(xr[this.mode][n]){this.settings.strict&&this.mode==="math"&&b3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=xr[this.mode][n].group,c=Xa.range(e),f;if(Bfe.hasOwnProperty(l)){var p=l;f={type:"atom",mode:this.mode,family:p,loc:c,text:n}}else f={type:l,mode:this.mode,loc:c,text:n};a=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(xL(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Xa.range(e),text:n};else return null;if(this.consume(),s)for(var m=0;m<s[0].length;m++){var g=s[0][m];if(!Cy[g])throw new We("Unknown accent ' "+g+"'",e);var y=Cy[g][this.mode]||Cy[g].text;if(!y)throw new We("Accent "+g+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Xa.range(e),label:y,isStretchy:!1,isShifty:!0,base:a}}return a}}$p.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var u7=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new $p(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new We("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Ql("\\df@tag")])}]}return i},pO=function(e,n,r){n.textContent="";var i=c7(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),pO=function(){throw new We("KaTeX doesn't work in quirks mode.")});var Khe=function(e,n){var r=c7(e,n).toMarkup();return r},Xhe=function(e,n){var r=new $6(n);return u7(e,r)},mO=function(e,n,r){if(r.throwOnError||!(e instanceof We))throw e;var i=ye.makeSpan(["katex-error"],[new Po(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},c7=function(e,n){var r=new $6(n);try{var i=u7(e,r);return ahe(i,e,r)}catch(s){return mO(s,e,r)}},Jhe=function(e,n){var r=new $6(n);try{var i=u7(e,r);return ohe(i,e,r)}catch(s){return mO(s,e,r)}},Qhe={version:"0.16.9",render:pO,renderToString:Khe,ParseError:We,SETTINGS_SCHEMA:mg,__parse:Xhe,__renderToDomTree:c7,__renderToHTMLTree:Jhe,__setFontMetrics:Ife,__defineSymbol:x,__defineFunction:Qe,__defineMacro:q,__domTree:{Span:Bm,Anchor:Y6,SymbolNode:Po,SvgNode:tc,PathNode:i0,LineNode:y3}};const ede=/(\s|^)\${1,2}(?!\$)/,WT=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n\$]))\1(?=[\s?!\.,:]|$)/,tde=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function nde(t={}){return{extensions:[rde(t,GT(t,!1)),ide(t,GT(t,!0))]}}function GT(t,e){return n=>Qhe.renderToString(n.text,{...t,displayMode:n.displayMode})+(e?`
`:"")}function rde(t,e){return{name:"inlineKatex",level:"inline",start(n){const r=n.match(ede);if(!r)return;const i=r.index+r[1].length;if(n.substring(i).match(WT))return i},tokenizer(n,r){const i=n.match(WT);if(i)return{type:"inlineKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function ide(t,e){return{name:"blockKatex",level:"block",start(n){return n.indexOf(`
$`)},tokenizer(n,r){const i=n.match(tde);if(i)return{type:"blockKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function $T(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=sp(s,i[a]);return{c(){e=K("div"),_g(e,s)},m(a,l){vt(a,e,l),n||(r=A3(t[2].call(null,e)),n=!0)},p(a,l){_g(e,s=wk(i,[l&16&&a[4]]))},d(a){a&&ht(e),n=!1,r()}}}function VT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=sp(s,i[a]);return{c(){e=K("div"),_g(e,s)},m(a,l){vt(a,e,l),n||(r=A3(t[3].call(null,e)),n=!0)},p(a,l){_g(e,s=wk(i,[l&16&&a[4]]))},d(a){a&&ht(e),n=!1,r()}}}function sde(t){let e,n,r=t[0],i,s=t[1],a,l=$T(t),c=VT(t);return{c(){e=K("link"),n=ge(),l.c(),i=ge(),c.c(),a=W_(),H(e,"rel","stylesheet"),H(e,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),H(e,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),H(e,"crossorigin","anonymous")},m(f,p){R(document.head,e),vt(f,n,p),l.m(f,p),vt(f,i,p),c.m(f,p),vt(f,a,p)},p(f,[p]){p&1&&eo(r,r=f[0])?(l.d(1),l=$T(f),l.c(),l.m(i.parentNode,i)):l.p(f,p),p&2&&eo(s,s=f[1])?(c.d(1),c=VT(f),c.c(),c.m(a.parentNode,a)):c.p(f,p)},i:Rn,o:Rn,d(f){ht(e),f&&ht(n),l.d(f),f&&ht(i),f&&ht(a),c.d(f)}}}function ade(t,e,n){const r=["options","mdtext"];let i=G8(e,r),{options:s={}}=e,{mdtext:a}=e;function l(f){s!=null&&f.appendChild(Qo(s))}function c(f){a!=null&&(jn.use(nde({displayMode:!0,output:"html"}),{mangle:!1,headerIds:!1}),f.innerHTML=jn.parse(a),Fn(f).select("table").attr("class","ui celled inverted grey table"))}return t.$$set=f=>{e=sp(sp({},e),LU(f)),n(4,i=G8(e,r)),"options"in f&&n(0,s=f.options),"mdtext"in f&&n(1,a=f.mdtext)},[s,a,l,c,i]}class ZT extends sc{constructor(e){super(),ic(this,e,ade,sde,eo,{options:0,mdtext:1})}}function YT(t,e,n){const r=t.slice();return r[81]=e[n],r[82]=e,r[83]=n,r}function jT(t,e,n){const r=t.slice();return r[84]=e[n],r}function KT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[88]=e[n][1],r}function XT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[91]=e[n][1],r}function JT(t,e,n){const r=t.slice();return r[94]=e[n],r}function ode(t){return{c:Rn,m:Rn,p:Rn,d:Rn}}function lde(t){let e;function n(s,a){return s[25]==null?cde:ude}let r=n(t),i=r(t);return{c(){i.c(),e=W_()},m(s,a){i.m(s,a),vt(s,e,a)},p(s,a){r===(r=n(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&ht(e)}}}function ude(t){let e,n=t[25].user.email+"",r;return{c(){e=K("div"),r=Ie(n),H(e,"class","ui green top left attached label")},m(i,s){vt(i,e,s),R(e,r)},p(i,s){s[0]&33554432&&n!==(n=i[25].user.email+"")&&bt(r,n)},d(i){i&&ht(e)}}}function cde(t){return{c:Rn,m:Rn,p:Rn,d:Rn}}function fde(t){let e;return{c(){e=K("label"),e.innerHTML='Signing.. <i class="icon spinner"></i>',H(e,"class","ui orange label top left attached")},m(n,r){vt(n,e,r)},p:Rn,d(n){n&&ht(e)}}}function QT(t){let e,n,r,i,s,a;return{c(){e=K("div"),n=K("label"),n.textContent="MidBand to 6GHz Factor :",r=ge(),i=K("input"),H(i,"type","number"),H(i,"min",".5"),H(i,"max","2"),H(i,"step","0.1"),H(e,"class","field")},m(l,c){vt(l,e,c),R(e,n),R(e,r),R(e,i),dt(i,t[5]),s||(a=je(i,"input",t[44]),s=!0)},p(l,c){c[0]&32&&Yt(i.value)!==l[5]&&dt(i,l[5])},d(l){l&&ht(e),s=!1,a()}}}function ek(t){let e,n=t[94].Name+"",r,i,s=t[94].Height+"",a,l,c=t[94].BSDensity+"",f,p;return{c(){e=K("option"),r=Ie(n),i=Ie(" - ( "),a=Ie(s),l=Ie("m, BS:"),f=Ie(c),p=Ie(`/sqkm)
          `),e.__value=t[94],e.value=e.__value},m(m,g){vt(m,e,g),R(e,r),R(e,i),R(e,a),R(e,l),R(e,f),R(e,p)},p:Rn,d(m){m&&ht(e)}}}function tk(t){let e,n=t[87]+"",r,i,s=t[23].Ra[t[91].val]+"",a,l;return{c(){e=K("option"),r=Ie(n),i=Ie(":"),a=Ie(s),l=Ie(`%
          `),e.__value=t[91],e.value=e.__value},m(c,f){vt(c,e,f),R(e,r),R(e,i),R(e,a),R(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Ra[c[91].val]+"")&&bt(a,s)},d(c){c&&ht(e)}}}function nk(t){let e,n=t[87]+"",r,i,s=t[23].Rb[t[88].val]+"",a,l;return{c(){e=K("option"),r=Ie(n),i=Ie(":"),a=Ie(s),l=Ie(`%
          `),e.__value=t[88],e.value=e.__value},m(c,f){vt(c,e,f),R(e,r),R(e,i),R(e,a),R(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Rb[c[88].val]+"")&&bt(a,s)},d(c){c&&ht(e)}}}function rk(t){let e,n=t[84]+"",r,i,s;return{c(){e=K("option"),r=Ie(n),i=ge(),e.__value=s=t[84],e.value=e.__value},m(a,l){vt(a,e,l),R(e,r),R(e,i)},p(a,l){l[0]&16777216&&n!==(n=a[84]+"")&&bt(r,n),l[0]&16777216&&s!==(s=a[84])&&(e.__value=s,e.value=e.__value)},d(a){a&&ht(e)}}}function ik(t){let e,n=qn("04.1f")(t[81])+"",r,i,s,a,l,c,f;function p(){t[55].call(s,t[83])}return{c(){e=K("label"),r=Ie(n),i=ge(),s=K("input"),a=ge(),l=K("br"),H(s,"step","0.5"),H(s,"type","range"),H(s,"max","32"),cs(s,"width","120px")},m(m,g){vt(m,e,g),R(e,r),vt(m,i,g),vt(m,s,g),dt(s,t[2][t[83]]),vt(m,a,g),vt(m,l,g),c||(f=[je(s,"change",p),je(s,"input",p)],c=!0)},p(m,g){t=m,g[0]&4&&n!==(n=qn("04.1f")(t[81])+"")&&bt(r,n),g[0]&4&&dt(s,t[2][t[83]])},d(m){m&&ht(e),m&&ht(i),m&&ht(s),m&&ht(a),m&&ht(l),c=!1,al(f)}}}function hde(t){let e,n,r,i,s,a=t[18]?"Un Pin":"Pin Me",l,c,f,p,m,g,y,w,S=t[25]==null?"Login":"Log Out",I,P,k,A,C,N,D,F,W,G,Y,V,ee,fe,le,ie,he,me,ve,pe,Z,j,ae,Ee,Oe,Re,Se,Te,Ce,_e,Ne,Be,we,st,ze,lt,ft,et,kt,tt,wn,Ht,xn,Qn,Bn,$n,at,jt,Vn,er,pi,rr,tr,Lr,Kn,mt,an,Ir,fa,Rr,ha,mi,An,Qi,Ut,Ri,Ua,Sr,ps,Bs,da,ii,gi,ms,pr,rt,Tr,gs,Or,Dr,kr,zs,Pn,_s,_i,es,ts,vs,Zn,pa,mr,si,Vr,ys,Pi,Ni,Br,Wt,wi,bs,vi,Kt,Qt,mn,Li,zr,ur={ctx:t,current:null,token:null,hasCatch:!1,pending:fde,then:lde,catch:ode,value:97};V8(p=t[22],ur);let pt=t[13]==!0&&QT(t),on=t[28],ir=[];for(let Ge=0;Ge<on.length;Ge+=1)ir[Ge]=ek(JT(t,on,Ge));let Oi=[...t[29]],Sn=[];for(let Ge=0;Ge<Oi.length;Ge+=1)Sn[Ge]=tk(XT(t,Oi,Ge));let ws=[...t[30]],nr=[];for(let Ge=0;Ge<ws.length;Ge+=1)nr[Ge]=nk(KT(t,ws,Ge));let Er=t[24],Vt=[];for(let Ge=0;Ge<Er.length;Ge+=1)Vt[Ge]=rk(jT(t,Er,Ge));let Mr=t[2],Yn=[];for(let Ge=0;Ge<Mr.length;Ge+=1)Yn[Ge]=ik(YT(t,Mr,Ge));const ai=t[35].default,Fr=Iy(ai,t,t[34],null);return vi=new ZT({props:{mdtext:`# Information
The deployment density values for large area ( $D_l$ )
$$D_l = Ds * Ra * Rb$$
**where**: 
- Ds = 	density value for coverage area, i.e. density of simultaneously transmitting UEs or number of BS per km2;
- Ra (%) = 	ratio of coverage areas to areas of cities/built areas/districts;
- Rb (%) = 	ratio of built areas to total area of region in study ()
`}}),Qt=new ZT({props:{mdtext:`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[9].Urban.Ra*100}%,${t[9].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[9].Urban.Rb*100}%,${t[9].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`}}),{c(){e=K("div"),n=K("a"),r=K("i"),s=ge(),l=Ie(a),f=ge(),ur.block.c(),m=ge(),g=K("div"),y=K("div"),w=K("button"),I=Ie(S),P=ge(),k=K("form"),A=K("input"),N=ge(),D=K("input"),W=ge(),G=K("div"),Y=K("label"),Y.textContent="Noise Temp.(K)",V=ge(),ee=K("input"),fe=ge(),le=K("label"),le.textContent="FSS Rx Gain (dBi)",ie=ge(),he=K("input"),me=ge(),ve=K("div"),pe=K("input"),j=ge(),ae=K("label"),ae.textContent="Shaped Footprint",Oe=ge(),Re=K("div"),Se=K("label"),Te=Ie("Satellite Angle : "),Ce=Ie(t[4]),_e=ge(),Ne=K("input"),st=ge(),ze=K("input"),et=ge(),pt&&pt.c(),kt=ge(),tt=K("div"),wn=K("label"),wn.textContent="Environment",Ht=ge(),xn=K("select");for(let Ge=0;Ge<ir.length;Ge+=1)ir[Ge].c();Qn=ge(),Bn=K("div"),$n=K("label"),$n.textContent="Ra Options",at=ge(),jt=K("select");for(let Ge=0;Ge<Sn.length;Ge+=1)Sn[Ge].c();Vn=ge(),er=K("label"),er.textContent="Rb Options",pi=ge(),rr=K("select");for(let Ge=0;Ge<nr.length;Ge+=1)nr[Ge].c();tr=ge(),Lr=K("div"),Kn=K("button"),Kn.textContent="Show Info",mt=ge(),an=K("div"),Ir=K("label"),Ir.textContent="Profiles",fa=ge(),Rr=K("select");for(let Ge=0;Ge<Vt.length;Ge+=1)Vt[Ge].c();ha=ge(),mi=K("div"),An=K("div"),Qi=K("input"),Ut=ge(),Ri=K("label"),Ri.textContent="Show Variables",Ua=ge(),Sr=K("div"),ps=K("input"),Bs=ge(),da=K("label"),da.textContent="Grid Edge",ii=ge(),gi=K("div"),ms=K("hr"),pr=ge(),rt=K("div"),Tr=K("input"),gs=ge(),Or=K("div"),Dr=K("div"),kr=K("input"),zs=ge(),Pn=K("label"),Pn.textContent="Apply EIRP MASK",_s=ge(),_i=K("div"),es=K("input"),ts=ge(),vs=K("label"),vs.textContent="Low Elv",Zn=ge(),pa=K("hr"),mr=ge(),si=K("div"),Vr=K("div");for(let Ge=0;Ge<Yn.length;Ge+=1)Yn[Ge].c();Pi=ge(),Fr&&Fr.c(),Br=ge(),Wt=K("dialog"),wi=K("button"),wi.textContent="X",bs=ge(),Fl(vi.$$.fragment),Kt=ge(),Fl(Qt.$$.fragment),H(r,"class",i="icon "+(t[18],"thumbtack")),H(n,"class",c="ui "+(t[18]?"grey":"green")+" right ribbon label"),H(w,"class","ui fluid primary button"),H(A,"type","text"),A.disabled=C=t[25]!=null,H(A,"autocomplete","username"),cs(A,"display",t[25]!=null?"none":"block"),H(D,"type","password"),D.disabled=F=t[25]!=null,H(D,"autocomplete","current-password"),cs(D,"display",t[25]!=null?"none":"block"),H(y,"class","field"),H(ee,"type","number"),H(ee,"step","50"),H(he,"type","number"),H(he,"min","10"),H(he,"max","40"),H(pe,"type","checkbox"),pe.disabled=Z=t[14]?"":"disabled",H(ve,"class",Ee="ui toggle checkbox "+(t[14]?"":"disabled")),H(G,"class","field"),H(Ne,"type","number"),H(Ne,"min",Be=t[12][0]),H(Ne,"max",we=t[12][1]),H(Ne,"step","0.5"),H(ze,"type","range"),H(ze,"min",lt=t[12][0]),H(ze,"max",ft=t[12][1]),H(ze,"step","0.5"),H(Re,"class","field"),t[23]===void 0&&wo(()=>t[45].call(xn)),H(tt,"class","field"),H($n,"for",""),H(jt,"name",""),H(jt,"id",""),t[0]===void 0&&wo(()=>t[46].call(jt)),H(er,"for",""),H(rr,"name",""),H(rr,"id",""),t[1]===void 0&&wo(()=>t[47].call(rr)),H(Kn,"class","ui tiny button"),H(Lr,"class","ui toggle checkbox"),H(Bn,"class","field"),H(Ir,"for",""),H(Rr,"name","profile"),H(Rr,"id",""),t[26]===void 0&&wo(()=>t[49].call(Rr)),H(an,"class","field"),H(Qi,"type","checkbox"),H(An,"class","ui toggle checkbox"),H(ps,"type","checkbox"),H(Sr,"class","ui toggle checkbox"),H(mi,"class","field"),H(Tr,"type","text"),H(Tr,"placeholder","0,0,0,0,0,0,0,0"),H(Tr,"size","30"),H(rt,"class","ui input disabled"),H(gi,"class","field"),H(kr,"type","checkbox"),H(Dr,"class","ui toggle checkbox"),H(es,"type","checkbox"),H(_i,"class","ui toggle checkbox"),cs(Vr,"transform","rotate(-90deg)"),cs(Vr,"height","120px"),cs(Vr,"width","108px"),H(si,"class",ys="field "+(t[6]?"":"disabled")),H(Or,"class","ui segment"),cs(Or,"width","350px"),H(g,"class","ui fields divided six column grid"),H(e,"class",Ni="ui form "+(t[18]?"toolbox":"segment")),H(wi,"class","ui label red top right attached"),H(Wt,"class","ui svelte-1ao14oj"),H(Wt,"style","border:red;}")},m(Ge,ut){vt(Ge,e,ut),R(e,n),R(n,r),R(n,s),R(n,l),R(e,f),ur.block.m(e,ur.anchor=null),ur.mount=()=>e,ur.anchor=m,R(e,m),R(e,g),R(g,y),R(y,w),R(w,I),R(y,P),R(y,k),R(k,A),dt(A,t[19]),R(k,N),R(k,D),dt(D,t[20]),R(g,W),R(g,G),R(G,Y),R(G,V),R(G,ee),dt(ee,t[3]),R(G,fe),R(G,le),R(G,ie),R(G,he),dt(he,t[11]),R(G,me),R(G,ve),R(ve,pe),pe.checked=t[10],R(ve,j),R(ve,ae),R(g,Oe),R(g,Re),R(Re,Se),R(Se,Te),R(Se,Ce),R(Re,_e),R(Re,Ne),dt(Ne,t[4]),R(Re,st),R(Re,ze),dt(ze,t[4]),R(g,et),pt&&pt.m(g,null),R(g,kt),R(g,tt),R(tt,wn),R(tt,Ht),R(tt,xn);for(let cn=0;cn<ir.length;cn+=1)ir[cn]&&ir[cn].m(xn,null);zl(xn,t[23],!0),R(g,Qn),R(g,Bn),R(Bn,$n),R(Bn,at),R(Bn,jt);for(let cn=0;cn<Sn.length;cn+=1)Sn[cn]&&Sn[cn].m(jt,null);zl(jt,t[0],!0),R(Bn,Vn),R(Bn,er),R(Bn,pi),R(Bn,rr);for(let cn=0;cn<nr.length;cn+=1)nr[cn]&&nr[cn].m(rr,null);zl(rr,t[1],!0),R(Bn,tr),R(Bn,Lr),R(Lr,Kn),R(g,mt),R(g,an),R(an,Ir),R(an,fa),R(an,Rr);for(let cn=0;cn<Vt.length;cn+=1)Vt[cn]&&Vt[cn].m(Rr,null);zl(Rr,t[26],!0),R(g,ha),R(g,mi),R(mi,An),R(An,Qi),Qi.checked=t[15],R(An,Ut),R(An,Ri),R(mi,Ua),R(mi,Sr),R(Sr,ps),ps.checked=t[8],R(Sr,Bs),R(Sr,da),R(g,ii),R(g,gi),R(gi,ms),R(gi,pr),R(gi,rt),R(rt,Tr),dt(Tr,t[21]),R(g,gs),R(g,Or),R(Or,Dr),R(Dr,kr),kr.checked=t[6],R(Dr,zs),R(Dr,Pn),R(Or,_s),R(Or,_i),R(_i,es),es.checked=t[7],R(_i,ts),R(_i,vs),R(Or,Zn),R(Or,pa),R(Or,mr),R(Or,si),R(si,Vr);for(let cn=0;cn<Yn.length;cn+=1)Yn[cn]&&Yn[cn].m(Vr,null);R(e,Pi),Fr&&Fr.m(e,null),vt(Ge,Br,ut),vt(Ge,Wt,ut),R(Wt,wi),R(Wt,bs),Zo(vi,Wt,null),R(Wt,Kt),Zo(Qt,Wt,null),t[57](Wt),mn=!0,Li||(zr=[je(n,"click",t[36]),je(w,"click",t[27]),je(A,"input",t[37]),je(D,"input",t[38]),je(ee,"input",t[39]),je(he,"input",t[40]),je(pe,"change",t[41]),je(Ne,"input",t[42]),je(ze,"change",t[43]),je(ze,"input",t[43]),je(xn,"change",t[45]),je(jt,"change",t[46]),je(rr,"change",t[47]),je(Kn,"click",t[48]),je(Rr,"change",t[49]),je(Qi,"change",t[50]),je(ps,"change",t[51]),je(Tr,"input",t[52]),je(kr,"change",t[53]),je(es,"change",t[54]),je(wi,"click",t[56])],Li=!0)},p(Ge,ut){if(t=Ge,(!mn||ut[0]&262144&&i!==(i="icon "+(t[18],"thumbtack")))&&H(r,"class",i),(!mn||ut[0]&262144)&&a!==(a=t[18]?"Un Pin":"Pin Me")&&bt(l,a),(!mn||ut[0]&262144&&c!==(c="ui "+(t[18]?"grey":"green")+" right ribbon label"))&&H(n,"class",c),ur.ctx=t,ut[0]&4194304&&p!==(p=t[22])&&V8(p,ur)||YU(ur,t,ut),(!mn||ut[0]&33554432)&&S!==(S=t[25]==null?"Login":"Log Out")&&bt(I,S),(!mn||ut[0]&33554432&&C!==(C=t[25]!=null))&&(A.disabled=C),(!mn||ut[0]&33554432)&&cs(A,"display",t[25]!=null?"none":"block"),ut[0]&524288&&A.value!==t[19]&&dt(A,t[19]),(!mn||ut[0]&33554432&&F!==(F=t[25]!=null))&&(D.disabled=F),(!mn||ut[0]&33554432)&&cs(D,"display",t[25]!=null?"none":"block"),ut[0]&1048576&&D.value!==t[20]&&dt(D,t[20]),ut[0]&8&&Yt(ee.value)!==t[3]&&dt(ee,t[3]),ut[0]&2048&&Yt(he.value)!==t[11]&&dt(he,t[11]),(!mn||ut[0]&16384&&Z!==(Z=t[14]?"":"disabled"))&&(pe.disabled=Z),ut[0]&1024&&(pe.checked=t[10]),(!mn||ut[0]&16384&&Ee!==(Ee="ui toggle checkbox "+(t[14]?"":"disabled")))&&H(ve,"class",Ee),(!mn||ut[0]&16)&&bt(Ce,t[4]),(!mn||ut[0]&4096&&Be!==(Be=t[12][0]))&&H(Ne,"min",Be),(!mn||ut[0]&4096&&we!==(we=t[12][1]))&&H(Ne,"max",we),ut[0]&16&&Yt(Ne.value)!==t[4]&&dt(Ne,t[4]),(!mn||ut[0]&4096&&lt!==(lt=t[12][0]))&&H(ze,"min",lt),(!mn||ut[0]&4096&&ft!==(ft=t[12][1]))&&H(ze,"max",ft),ut[0]&16&&dt(ze,t[4]),t[13]==!0?pt?pt.p(t,ut):(pt=QT(t),pt.c(),pt.m(g,kt)):pt&&(pt.d(1),pt=null),ut[0]&268435456){on=t[28];let Ke;for(Ke=0;Ke<on.length;Ke+=1){const cr=JT(t,on,Ke);ir[Ke]?ir[Ke].p(cr,ut):(ir[Ke]=ek(cr),ir[Ke].c(),ir[Ke].m(xn,null))}for(;Ke<ir.length;Ke+=1)ir[Ke].d(1);ir.length=on.length}if(ut[0]&276824064&&zl(xn,t[23]),ut[0]&545259520){Oi=[...t[29]];let Ke;for(Ke=0;Ke<Oi.length;Ke+=1){const cr=XT(t,Oi,Ke);Sn[Ke]?Sn[Ke].p(cr,ut):(Sn[Ke]=tk(cr),Sn[Ke].c(),Sn[Ke].m(jt,null))}for(;Ke<Sn.length;Ke+=1)Sn[Ke].d(1);Sn.length=Oi.length}if(ut[0]&536870913&&zl(jt,t[0]),ut[0]&1082130432){ws=[...t[30]];let Ke;for(Ke=0;Ke<ws.length;Ke+=1){const cr=KT(t,ws,Ke);nr[Ke]?nr[Ke].p(cr,ut):(nr[Ke]=nk(cr),nr[Ke].c(),nr[Ke].m(rr,null))}for(;Ke<nr.length;Ke+=1)nr[Ke].d(1);nr.length=ws.length}if(ut[0]&1073741826&&zl(rr,t[1]),ut[0]&16777216){Er=t[24];let Ke;for(Ke=0;Ke<Er.length;Ke+=1){const cr=jT(t,Er,Ke);Vt[Ke]?Vt[Ke].p(cr,ut):(Vt[Ke]=rk(cr),Vt[Ke].c(),Vt[Ke].m(Rr,null))}for(;Ke<Vt.length;Ke+=1)Vt[Ke].d(1);Vt.length=Er.length}if(ut[0]&83886080&&zl(Rr,t[26]),ut[0]&32768&&(Qi.checked=t[15]),ut[0]&256&&(ps.checked=t[8]),ut[0]&2097152&&Tr.value!==t[21]&&dt(Tr,t[21]),ut[0]&64&&(kr.checked=t[6]),ut[0]&128&&(es.checked=t[7]),ut[0]&4){Mr=t[2];let Ke;for(Ke=0;Ke<Mr.length;Ke+=1){const cr=YT(t,Mr,Ke);Yn[Ke]?Yn[Ke].p(cr,ut):(Yn[Ke]=ik(cr),Yn[Ke].c(),Yn[Ke].m(Vr,null))}for(;Ke<Yn.length;Ke+=1)Yn[Ke].d(1);Yn.length=Mr.length}(!mn||ut[0]&64&&ys!==(ys="field "+(t[6]?"":"disabled")))&&H(si,"class",ys),Fr&&Fr.p&&(!mn||ut[1]&8)&&Py(Fr,ai,t,t[34],mn?Ry(ai,t[34],ut,null):Ny(t[34]),null),(!mn||ut[0]&262144&&Ni!==(Ni="ui form "+(t[18]?"toolbox":"segment")))&&H(e,"class",Ni);const cn={};ut[0]&512&&(cn.mdtext=`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[9].Urban.Ra*100}%,${t[9].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[9].Urban.Rb*100}%,${t[9].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`),Qt.$set(cn)},i(Ge){mn||(ea(Fr,Ge),ea(vi.$$.fragment,Ge),ea(Qt.$$.fragment,Ge),mn=!0)},o(Ge){Ra(Fr,Ge),Ra(vi.$$.fragment,Ge),Ra(Qt.$$.fragment,Ge),mn=!1},d(Ge){Ge&&ht(e),ur.block.d(),ur.token=null,ur=null,pt&&pt.d(),Ic(ir,Ge),Ic(Sn,Ge),Ic(nr,Ge),Ic(Vt,Ge),Ic(Yn,Ge),Fr&&Fr.d(Ge),Ge&&ht(Br),Ge&&ht(Wt),Yo(vi),Yo(Qt),t[57](null),Li=!1,al(zr)}}}let K1=.2,X1=.75;function dde(t,e,n){let r,i,s,a;qc(t,PN,at=>n(33,i=at)),qc(t,Sf,at=>n(25,s=at)),qc(t,qp,at=>n(26,a=at));let{$$slots:l={},$$scope:c}=e;new q6;let{orbitrange:f=[10,20]}=e,{Raindx:p,Rbindx:m}=e,{satAngle:g=83}=e,{MidBandTo6GHzFactor:y=1.5*.4}=e,{hasIMTgrid:w=!1}=e,S=!1,I,P,{ApplyEIRPMask:k=!1}=e,{EnableLowElevationThreshold:A=!0}=e,{MASKOffset:C}=e,N=C.join(","),D=!0,{HideAllInspector:F=!1}=e,{EdgeMode:W=!1}=e,G=!1,Y,V;async function ee(){return s==null?(n(22,V=kle(I,P)),V):(Tle().then(jt=>console.log("After signout ",jt,s)),"Signed Out")}let fe=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:2.4}],{factor:le={Urban:{Ra:0,Rb:0,BSdensity:0},SubUrban:{Ra:0,Rb:0,BSdensity:0},NW:K1,TDD:X1}}=e,ie=10/12.4,he=fe[0],me=new Map([["Ra1",{name:"Ratio of Coverage to cities/built/Areas",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage to cities/built/Areas",val:1,factor:.45}]]),ve=new Map([["Rb1",{name:"Ratio of built areas to total area",val:0,factor:.01}],["Rb2a",{name:"Ratio of built areas to total area",val:1,factor:.03}],["Rb2b",{name:"Ratio of built areas to total area",val:2,factor:.05}],["Rb3",{name:"Ratio of built areas to total area",val:3,factor:.02}]]),{UseFootprint:pe=!1}=e,{SatRxGain:Z=32}=e,{hasFSSPattern:j=!1}=e,{FSSNoiseTemp:ae=650}=e,Ee=null;const Oe=()=>n(18,S=!S);function Re(){I=this.value,n(19,I)}function Se(){P=this.value,n(20,P)}function Te(){ae=Yt(this.value),n(3,ae)}function Ce(){Z=Yt(this.value),n(11,Z)}function _e(){pe=this.checked,n(10,pe),n(14,j)}function Ne(){g=Yt(this.value),n(4,g)}function Be(){g=Yt(this.value),n(4,g)}function we(){y=Yt(this.value),n(5,y)}function st(){he=Pd(this),n(23,he),n(28,fe)}function ze(){p=Pd(this),n(0,p),n(29,me)}function lt(){m=Pd(this),n(1,m),n(30,ve)}const ft=()=>n(16,G=!0);function et(){a=Pd(this),qp.set(a),n(24,r),n(33,i)}function kt(){D=this.checked,n(15,D)}function tt(){W=this.checked,n(8,W)}function wn(){N=this.value,n(21,N),n(2,C)}function Ht(){k=this.checked,n(6,k)}function xn(){A=this.checked,n(7,A)}function Qn(at){C[at]=Yt(this.value),n(2,C)}const Bn=()=>{n(16,G=!1)};function $n(at){Lt[at?"unshift":"push"](()=>{Ee=at,n(17,Ee)})}return t.$$set=at=>{"orbitrange"in at&&n(12,f=at.orbitrange),"Raindx"in at&&n(0,p=at.Raindx),"Rbindx"in at&&n(1,m=at.Rbindx),"satAngle"in at&&n(4,g=at.satAngle),"MidBandTo6GHzFactor"in at&&n(5,y=at.MidBandTo6GHzFactor),"hasIMTgrid"in at&&n(13,w=at.hasIMTgrid),"ApplyEIRPMask"in at&&n(6,k=at.ApplyEIRPMask),"EnableLowElevationThreshold"in at&&n(7,A=at.EnableLowElevationThreshold),"MASKOffset"in at&&n(2,C=at.MASKOffset),"HideAllInspector"in at&&n(31,F=at.HideAllInspector),"EdgeMode"in at&&n(8,W=at.EdgeMode),"factor"in at&&n(9,le=at.factor),"UseFootprint"in at&&n(10,pe=at.UseFootprint),"SatRxGain"in at&&n(11,Z=at.SatRxGain),"hasFSSPattern"in at&&n(14,j=at.hasFSSPattern),"FSSNoiseTemp"in at&&n(3,ae=at.FSSNoiseTemp),"$$scope"in at&&n(34,c=at.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&32768&&n(31,F=!D),t.$$.dirty[0]&4&&n(21,N=C.join(",")),t.$$.dirty[1]&3,t.$$.dirty[1]&2,t.$$.dirty[0]&3&&p!=null&&n(9,le={Urban:{Ra:fe[0].Ra[p.val]/100,Rb:fe[0].Rb[m.val]/100,BSdensity:fe[0].BSDensity},SubUrban:{Ra:fe[1].Ra[p.val]/100,Rb:fe[1].Rb[m.val]/100,BSdensity:fe[1].BSDensity},NW:K1,TDD:X1,uScale:fe[0].BSDensity*fe[0].Ra[p.val]*fe[0].Rb[m.val]/1e4*K1*X1,suScale:fe[1].BSDensity*fe[1].Ra[p.val]*fe[1].Rb[m.val]/1e4*K1*X1,UrbSurbRatio:ie}),t.$$.dirty[1]&4&&n(24,r=i),t.$$.dirty[0]&16384&&(console.log("hasFSSPattern .. changed",j),j?n(10,pe=!0):n(10,pe=!1)),t.$$.dirty[0]&8,t.$$.dirty[0]&196608&&Ee!=null&&(G?Ee.showModal():Ee.close())},[p,m,C,ae,g,y,k,A,W,le,pe,Z,f,w,j,D,G,Ee,S,I,P,N,V,he,r,s,a,ee,fe,me,ve,F,Y,i,c,l,Oe,Re,Se,Te,Ce,_e,Ne,Be,we,st,ze,lt,ft,et,kt,tt,wn,Ht,xn,Qn,Bn,$n]}class pde extends sc{constructor(e){super(),ic(this,e,dde,hde,eo,{orbitrange:12,Raindx:0,Rbindx:1,satAngle:4,MidBandTo6GHzFactor:5,hasIMTgrid:13,ApplyEIRPMask:6,EnableLowElevationThreshold:7,MASKOffset:2,HideAllInspector:31,EdgeMode:8,factor:9,UseFootprint:10,SatRxGain:11,hasFSSPattern:14,FSSNoiseTemp:3},null,[-1,-1,-1,-1])}}function mde(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,P,k,A,C,N,D,F;return{c(){e=K("div"),n=K("div"),n.innerHTML='<i class="table icon"></i> Variables',r=ge(),i=K("div"),a=ge(),l=K("div"),c=K("div"),f=K("input"),p=ge(),m=K("label"),m.textContent="Hide Inspector",g=ge(),y=K("div"),y.innerHTML=`<div class="ui label left ribbon">Status</div> 
    <div class="ui inverted horizontal divider"></div>`,w=ge(),S=K("br"),I=ge(),P=K("br"),k=ge(),A=K("div"),H(n,"class","ui blue ribbon label"),H(i,"class","ui two column stackable grid"),H(i,"id","logbox"),H(e,"class","ui segment"),wo(()=>t[10].call(e)),H(f,"type","checkbox"),H(c,"class","ui slider checkbox"),H(y,"class","ui stacked segment"),H(A,"class",C="ui two column stackable "+(t[0]?"hidden":"")+" grid"),H(A,"id","figure"),H(l,"class","ui segment"),wo(()=>t[14].call(l))},m(W,G){vt(W,e,G),R(e,n),R(e,r),R(e,i),t[9](i),s=vg(e,t[10].bind(e)),vt(W,a,G),vt(W,l,G),R(l,c),R(c,f),f.checked=t[0],R(c,p),R(c,m),R(l,g),R(l,y),t[12](y),R(l,w),R(l,S),R(l,I),R(l,P),R(l,k),R(l,A),t[13](A),N=vg(l,t[14].bind(l)),D||(F=je(f,"change",t[11]),D=!0)},p(W,[G]){G&1&&(f.checked=W[0]),G&1&&C!==(C="ui two column stackable "+(W[0]?"hidden":"")+" grid")&&H(A,"class",C)},i:Rn,o:Rn,d(W){W&&ht(e),t[9](null),s(),W&&ht(a),W&&ht(l),t[12](null),t[13](null),N(),D=!1,F()}}}function sk(t){return t&&Object.prototype.toString.call(t)==="[object Promise]"}function gde(t,e,n){let{DOM:r}=new q6,i=800,s=null,a=null,{statusbox:l=null}=e,c=new Map,{HideAllInspector:f=!1}=e;function p(C){let N=c.get(C);console.log("Found ",N),N.rootcell.remove()}async function m(C,N,D){return D=D||!1,y(C,N,{alwaysshow:D})}async function g(C,N,D){if(D=D||{timeout:1e3,alwaysshow:!0},D.alwaysshow,l==null){console.log("showStatus : ",C,N);return}if(console.log("showStatus: RECEIVED OBJ Status ",C,N),sk(N)){let F=Fn(l).select("button#STATUS-"+C);F.empty()&&(F=Fn(l).append("button").attr("id","STATUS-"+C).text(C+" : Waiting ")),F.attr("class","ui small button  orange");let W=0,G=setInterval(()=>{W++,F.text(C+" : ..."+(W/10).toFixed(1)+"s")},100);N.then(Y=>{clearInterval(G),F.attr("class","ui small button green"),F.text(C+" "+(W/10).toFixed(1)+"s")})}else console.log("NOT a Promise ",C," is already ready ",N)}async function y(C,N,D){D=D||{alwaysshow:!1,fullwidth:!1};var F=D.alwaysshow||!1,W=D.fullwidth||!1,G=D.type||"",Y=a;F&&(Y=s);let V=c.get(C);if(V==null){let le=document.createElement("div"),ie=Fn(le).attr("class",`${W?"sixteen wide":""} column cell`);ie.append("div").attr("class",`ui ${F?"tag teal":"pointing"} below label`).text(C).on("click",pe=>{pe.target.parentNode.classList.toggle("sixteen")?(pe.target.parentNode.classList.value="sixteen wide column",pe.target.innerText=C+" <- minimize"):(pe.target.parentNode.classList.value="two  column cell",pe.target.innerText=C+" -> zoom"),pe.target.parentNode.clientWidth});let me=ie.append("div").attr("class","plain segment").append("div").node();V={inspector:new r3(me),alwaysshow:F,uid:r.uid(C),rootcell:le,forcedType:G,render:Y!=null},c.set(C,V),Y!=null&&Y.append(le)}let ee=V.inspector;if(sk(N))ee.fulfilled("Waiting for obj.. ",C),N.then(le=>{var ie=C;let he=!Array.isArray(N)||G=="JSON",me=r.download(()=>{let ve,pe;he?(ve=JSON.stringify(N),pe="application/json",ie=C+".json"):(ve=vS(N),pe="application/csv",ie=C+".csv");var Z=new Blob([ve],{type:pe});let j=document.createElement("a");j.download=ie,j.href=URL.createObjectURL(Z),j.click(),URL.revokeObjectURL(j.href)},ie,`save(${he?"json":"csv"})`);j8("#"+V.uid.id).remove(),me.setAttribute("id",V.uid.id),me.firstChild.className="ui tiny positive button",V.rootcell.firstChild.insertAdjacentElement("afterend",me),ee.fulfilled(le)}).catch(le=>{console.log(C,"Error ",le),ee.fulfilled("Err : "+le)});else if(F)if(N==null){let le=document.createElement("div"),ie=Fn(le).attr("class","ui  active placeholder inverted orange segment ");ie.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),ie.append("img"),ee.fulfilled(le)}else ee.fulfilled(N);else{var fe=C;let le=V.forcedType==""?!Array.isArray(N):V.forcedType=="json",ie=r.download(()=>{let he,me;le?(he=JSON.stringify(N),me="application/json",fe=C+".json"):(he=vS(N),me="application/csv",fe=C+".csv");var ve=new Blob([he],{type:me});let pe=document.createElement("a");pe.download=fe,pe.href=URL.createObjectURL(ve),pe.click(),URL.revokeObjectURL(pe.href)},fe,`save(${le?"json":"csv"})`);j8("#"+V.uid.id).remove(),ie.setAttribute("id",V.uid.id),ie.firstChild.className="ui tiny positive button",V.rootcell.firstChild.insertAdjacentElement("afterend",ie),ee.fulfilled(N)}return C}function w(C){Lt[C?"unshift":"push"](()=>{s=C,n(4,s)})}function S(){i=this.clientWidth,n(2,i)}function I(){f=this.checked,n(0,f)}function P(C){Lt[C?"unshift":"push"](()=>{l=C,n(1,l)})}function k(C){Lt[C?"unshift":"push"](()=>{a=C,n(3,a),n(0,f)})}function A(){i=this.clientWidth,n(2,i)}return t.$$set=C=>{"statusbox"in C&&n(1,l=C.statusbox),"HideAllInspector"in C&&n(0,f=C.HideAllInspector)},t.$$.update=()=>{t.$$.dirty&4,t.$$.dirty&9&&a!=null&&n(3,a.style.display=f?"none":"block",a)},[f,l,i,a,s,p,m,g,y,w,S,I,P,k,A]}class _de extends sc{constructor(e){super(),ic(this,e,gde,mde,eo,{statusbox:1,HideAllInspector:0,removeNode:5,appendNode:6,showStatus:7,queueNode:8})}get removeNode(){return this.$$.ctx[5]}get appendNode(){return this.$$.ctx[6]}get showStatus(){return this.$$.ctx[7]}get queueNode(){return this.$$.ctx[8]}}var E3={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Nc,function(n){var r="1.9.4";function i(o){var h,_,b,E;for(_=1,b=arguments.length;_<b;_++){E=arguments[_];for(h in E)o[h]=E[h]}return o}var s=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var b=_.call(arguments,2);return function(){return o.apply(h,b.length?b.concat(_.call(arguments)):arguments)}}var l=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function f(o,h,_){var b,E,z,te;return te=function(){b=!1,E&&(z.apply(_,E),E=!1)},z=function(){b?E=arguments:(o.apply(_,arguments),setTimeout(te,h),b=!0)},z}function p(o,h,_){var b=h[1],E=h[0],z=b-E;return o===b&&_?o:((o-E)%z+z)%z+E}function m(){return!1}function g(o,h){if(h===!1)return o;var _=Math.pow(10,h===void 0?6:h);return Math.round(o*_)/_}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function w(o){return y(o).split(/\s+/)}function S(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var _ in h)o.options[_]=h[_];return o.options}function I(o,h,_){var b=[];for(var E in o)b.push(encodeURIComponent(_?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function k(o,h){return o.replace(P,function(_,b){var E=h[b];if(E===void 0)throw new Error("No value provided for variable "+_);return typeof E=="function"&&(E=E(h)),E})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function C(o,h){for(var _=0;_<o.length;_++)if(o[_]===h)return _;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function W(o){var h=+new Date,_=Math.max(0,16-(h-F));return F=h+_,window.setTimeout(o,_)}var G=window.requestAnimationFrame||D("RequestAnimationFrame")||W,Y=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function V(o,h,_){if(_&&G===W)o.call(h);else return G.call(window,a(o,h))}function ee(o){o&&Y.call(window,o)}var fe={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:m,formatNum:g,trim:y,splitWords:w,setOptions:S,getParamString:I,template:k,isArray:A,indexOf:C,emptyImageUrl:N,requestFn:G,cancelFn:Y,requestAnimFrame:V,cancelAnimFrame:ee};function le(){}le.extend=function(o){var h=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,b=s(_);b.constructor=h,h.prototype=b;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(h[E]=this[E]);return o.statics&&i(h,o.statics),o.includes&&(ie(o.includes),i.apply(null,[b].concat(o.includes))),i(b,o),delete b.statics,delete b.includes,b.options&&(b.options=_.options?s(_.options):{},i(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,te=b._initHooks.length;z<te;z++)b._initHooks[z].call(this)}},h},le.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},le.mergeOptions=function(o){return i(this.prototype.options,o),this},le.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ie(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var he={on:function(o,h,_){if(typeof o=="object")for(var b in o)this._on(b,o[b],h);else{o=w(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_)}return this},off:function(o,h,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],h);else{o=w(o);for(var E=arguments.length===1,z=0,te=o.length;z<te;z++)E?this._off(o[z]):this._off(o[z],h,_)}return this},_on:function(o,h,_,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,_)===!1){_===this&&(_=void 0);var E={fn:h,ctx:_};b&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,h,_){var b,E,z;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(E=0,z=b.length;E<z;E++)b[E].fn=m;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var te=this._listens(o,h,_);if(te!==!1){var de=b[te];this._firingCount&&(de.fn=m,this._events[o]=b=b.slice()),b.splice(te,1)}}},fire:function(o,h,_){if(!this.listens(o,_))return this;var b=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var z=0,te=E.length;z<te;z++){var de=E[z],be=de.fn;de.once&&this.off(o,be,de.ctx),be.call(de.ctx||this,b)}this._firingCount--}}return _&&this._propagateEvent(b),this},listens:function(o,h,_,b){typeof o!="string"&&console.warn('"string" type argument expected');var E=h;typeof h!="function"&&(b=!!h,E=void 0,_=void 0);var z=this._events&&this._events[o];if(z&&z.length&&this._listens(o,E,_)!==!1)return!0;if(b){for(var te in this._eventParents)if(this._eventParents[te].listens(o,h,_,b))return!0}return!1},_listens:function(o,h,_){if(!this._events)return!1;var b=this._events[o]||[];if(!h)return!!b.length;_===this&&(_=void 0);for(var E=0,z=b.length;E<z;E++)if(b[E].fn===h&&b[E].ctx===_)return E;return!1},once:function(o,h,_){if(typeof o=="object")for(var b in o)this._on(b,o[b],h,!0);else{o=w(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};he.addEventListener=he.on,he.removeEventListener=he.clearAllEventListeners=he.off,he.addOneTimeEventListener=he.once,he.fireEvent=he.fire,he.hasEventListeners=he.listens;var me=le.extend(he);function ve(o,h,_){this.x=_?Math.round(o):o,this.y=_?Math.round(h):h}var pe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ve.prototype={clone:function(){return new ve(this.x,this.y)},add:function(o){return this.clone()._add(Z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ve(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ve(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(o){o=Z(o);var h=o.x-this.x,_=o.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(o){return o=Z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Z(o,h,_){return o instanceof ve?o:A(o)?new ve(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ve(o.x,o.y):new ve(o,h,_)}function j(o,h){if(o)for(var _=h?[o,h]:o,b=0,E=_.length;b<E;b++)this.extend(_[b])}j.prototype={extend:function(o){var h,_;if(!o)return this;if(o instanceof ve||typeof o[0]=="number"||"x"in o)h=_=Z(o);else if(o=ae(o),h=o.min,_=o.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,_;return typeof o[0]=="number"||o instanceof ve?o=Z(o):o=ae(o),o instanceof j?(h=o.min,_=o.max):h=_=o,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=ae(o);var h=this.min,_=this.max,b=o.min,E=o.max,z=E.x>=h.x&&b.x<=_.x,te=E.y>=h.y&&b.y<=_.y;return z&&te},overlaps:function(o){o=ae(o);var h=this.min,_=this.max,b=o.min,E=o.max,z=E.x>h.x&&b.x<_.x,te=E.y>h.y&&b.y<_.y;return z&&te},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,_=this.max,b=Math.abs(h.x-_.x)*o,E=Math.abs(h.y-_.y)*o;return ae(Z(h.x-b,h.y-E),Z(_.x+b,_.y+E))},equals:function(o){return o?(o=ae(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ae(o,h){return!o||o instanceof j?o:new j(o,h)}function Ee(o,h){if(o)for(var _=h?[o,h]:o,b=0,E=_.length;b<E;b++)this.extend(_[b])}Ee.prototype={extend:function(o){var h=this._southWest,_=this._northEast,b,E;if(o instanceof Re)b=o,E=o;else if(o instanceof Ee){if(b=o._southWest,E=o._northEast,!b||!E)return this}else return o?this.extend(Se(o)||Oe(o)):this;return!h&&!_?(this._southWest=new Re(b.lat,b.lng),this._northEast=new Re(E.lat,E.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),_.lat=Math.max(E.lat,_.lat),_.lng=Math.max(E.lng,_.lng)),this},pad:function(o){var h=this._southWest,_=this._northEast,b=Math.abs(h.lat-_.lat)*o,E=Math.abs(h.lng-_.lng)*o;return new Ee(new Re(h.lat-b,h.lng-E),new Re(_.lat+b,_.lng+E))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Re||"lat"in o?o=Se(o):o=Oe(o);var h=this._southWest,_=this._northEast,b,E;return o instanceof Ee?(b=o.getSouthWest(),E=o.getNorthEast()):b=E=o,b.lat>=h.lat&&E.lat<=_.lat&&b.lng>=h.lng&&E.lng<=_.lng},intersects:function(o){o=Oe(o);var h=this._southWest,_=this._northEast,b=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>=h.lat&&b.lat<=_.lat,te=E.lng>=h.lng&&b.lng<=_.lng;return z&&te},overlaps:function(o){o=Oe(o);var h=this._southWest,_=this._northEast,b=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>h.lat&&b.lat<_.lat,te=E.lng>h.lng&&b.lng<_.lng;return z&&te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Oe(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Oe(o,h){return o instanceof Ee?o:new Ee(o,h)}function Re(o,h,_){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,_!==void 0&&(this.alt=+_)}Re.prototype={equals:function(o,h){if(!o)return!1;o=Se(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Ce.distance(this,Se(o))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,_=h/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Se(o,h,_){return o instanceof Re?o:A(o)&&typeof o[0]!="object"?o.length===3?new Re(o[0],o[1],o[2]):o.length===2?new Re(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Re(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Re(o,h,_)}var Te={latLngToPoint:function(o,h){var _=this.projection.project(o),b=this.scale(h);return this.transformation._transform(_,b)},pointToLatLng:function(o,h){var _=this.scale(h),b=this.transformation.untransform(o,_);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(o),b=this.transformation.transform(h.min,_),E=this.transformation.transform(h.max,_);return new j(b,E)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new Re(_,h,b)},wrapLatLngBounds:function(o){var h=o.getCenter(),_=this.wrapLatLng(h),b=h.lat-_.lat,E=h.lng-_.lng;if(b===0&&E===0)return o;var z=o.getSouthWest(),te=o.getNorthEast(),de=new Re(z.lat-b,z.lng-E),be=new Re(te.lat-b,te.lng-E);return new Ee(de,be)}},Ce=i({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var _=Math.PI/180,b=o.lat*_,E=h.lat*_,z=Math.sin((h.lat-o.lat)*_/2),te=Math.sin((h.lng-o.lng)*_/2),de=z*z+Math.cos(b)*Math.cos(E)*te*te,be=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*be}}),_e=6378137,Ne={R:_e,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,_=this.MAX_LATITUDE,b=Math.max(Math.min(_,o.lat),-_),E=Math.sin(b*h);return new ve(this.R*o.lng*h,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var h=180/Math.PI;return new Re((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=_e*Math.PI;return new j([-o,-o],[o,o])}()};function Be(o,h,_,b){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=_,this._d=b}Be.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new ve((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function we(o,h,_,b){return new Be(o,h,_,b)}var st=i({},Ce,{code:"EPSG:3857",projection:Ne,transformation:function(){var o=.5/(Math.PI*Ne.R);return we(o,.5,-o,.5)}()}),ze=i({},st,{code:"EPSG:900913"});function lt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ft(o,h){var _="",b,E,z,te,de,be;for(b=0,z=o.length;b<z;b++){for(de=o[b],E=0,te=de.length;E<te;E++)be=de[E],_+=(E?"L":"M")+be.x+" "+be.y;_+=h?rt.svg?"z":"x":""}return _||"M0 0"}var et=document.documentElement.style,kt="ActiveXObject"in window,tt=kt&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),Ht=pr("webkit"),xn=pr("android"),Qn=pr("android 2")||pr("android 3"),Bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$n=xn&&pr("Google")&&Bn<537&&!("AudioNode"in window),at=!!window.opera,jt=!wn&&pr("chrome"),Vn=pr("gecko")&&!Ht&&!at&&!kt,er=!jt&&pr("safari"),pi=pr("phantom"),rr="OTransition"in et,tr=navigator.platform.indexOf("Win")===0,Lr=kt&&"transition"in et,Kn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qn,mt="MozPerspective"in et,an=!window.L_DISABLE_3D&&(Lr||Kn||mt)&&!rr&&!pi,Ir=typeof orientation<"u"||pr("mobile"),fa=Ir&&Ht,Rr=Ir&&Kn,ha=!window.PointerEvent&&window.MSPointerEvent,mi=!!(window.PointerEvent||ha),An="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(An||mi),Ut=Ir&&at,Ri=Ir&&Vn,Ua=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sr=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return o}(),ps=function(){return!!document.createElement("canvas").getContext}(),Bs=!!(document.createElementNS&&lt("svg").createSVGRect),da=!!Bs&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ii=!Bs&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),gi=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function pr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var rt={ie:kt,ielt9:tt,edge:wn,webkit:Ht,android:xn,android23:Qn,androidStock:$n,opera:at,chrome:jt,gecko:Vn,safari:er,phantom:pi,opera12:rr,win:tr,ie3d:Lr,webkit3d:Kn,gecko3d:mt,any3d:an,mobile:Ir,mobileWebkit:fa,mobileWebkit3d:Rr,msPointer:ha,pointer:mi,touch:Qi,touchNative:An,mobileOpera:Ut,mobileGecko:Ri,retina:Ua,passiveEvents:Sr,canvas:ps,svg:Bs,vml:ii,inlineSvg:da,mac:gi,linux:ms},Tr=rt.msPointer?"MSPointerDown":"pointerdown",gs=rt.msPointer?"MSPointerMove":"pointermove",Or=rt.msPointer?"MSPointerUp":"pointerup",Dr=rt.msPointer?"MSPointerCancel":"pointercancel",kr={touchstart:Tr,touchmove:gs,touchend:Or,touchcancel:Dr},zs={touchstart:si,touchmove:mr,touchend:mr,touchcancel:mr},Pn={},_s=!1;function _i(o,h,_){return h==="touchstart"&&pa(),zs[h]?(_=zs[h].bind(this,_),o.addEventListener(kr[h],_,!1),_):(console.warn("wrong event specified:",h),m)}function es(o,h,_){if(!kr[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(kr[h],_,!1)}function ts(o){Pn[o.pointerId]=o}function vs(o){Pn[o.pointerId]&&(Pn[o.pointerId]=o)}function Zn(o){delete Pn[o.pointerId]}function pa(){_s||(document.addEventListener(Tr,ts,!0),document.addEventListener(gs,vs,!0),document.addEventListener(Or,Zn,!0),document.addEventListener(Dr,Zn,!0),_s=!0)}function mr(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Pn)h.touches.push(Pn[_]);h.changedTouches=[h],o(h)}}function si(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Bt(h),mr(o,h)}function Vr(o){var h={},_,b;for(b in o)_=o[b],h[b]=_&&_.bind?_.bind(o):_;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ys=200;function Pi(o,h){o.addEventListener("dblclick",h);var _=0,b;function E(z){if(z.detail!==1){b=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var te=cu(z);if(!(te.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!te.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var de=Date.now();de-_<=ys?(b++,b===2&&h(Vr(z))):b=1,_=de}}}return o.addEventListener("click",E),{dblclick:h,simDblclick:E}}function Ni(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Br=nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wt=nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wi=Wt==="webkitTransition"||Wt==="OTransition"?Wt+"End":"transitionend";function bs(o){return typeof o=="string"?document.getElementById(o):o}function vi(o,h){var _=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);_=b?b[h]:null}return _==="auto"?null:_}function Kt(o,h,_){var b=document.createElement(o);return b.className=h||"",_&&_.appendChild(b),b}function Qt(o){var h=o.parentNode;h&&h.removeChild(o)}function mn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Li(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function zr(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function ur(o,h){if(o.classList!==void 0)return o.classList.contains(h);var _=Oi(o);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function pt(o,h){if(o.classList!==void 0)for(var _=w(h),b=0,E=_.length;b<E;b++)o.classList.add(_[b]);else if(!ur(o,h)){var z=Oi(o);ir(o,(z?z+" ":"")+h)}}function on(o,h){o.classList!==void 0?o.classList.remove(h):ir(o,y((" "+Oi(o)+" ").replace(" "+h+" "," ")))}function ir(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function Oi(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Sn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&ws(o,h)}function ws(o,h){var _=!1,b="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):o.style.filter+=" progid:"+b+"(opacity="+h+")"}function nr(o){for(var h=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in h)return o[_];return!1}function Er(o,h,_){var b=h||new ve(0,0);o.style[Br]=(rt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(_?" scale("+_+")":"")}function Vt(o,h){o._leaflet_pos=h,rt.any3d?Er(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Mr(o){return o._leaflet_pos||new ve(0,0)}var Yn,ai,Fr;if("onselectstart"in document)Yn=function(){Et(window,"selectstart",Bt)},ai=function(){fn(window,"selectstart",Bt)};else{var Ge=nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(Ge){var o=document.documentElement.style;Fr=o[Ge],o[Ge]="none"}},ai=function(){Ge&&(document.documentElement.style[Ge]=Fr,Fr=void 0)}}function ut(){Et(window,"dragstart",Bt)}function cn(){fn(window,"dragstart",Bt)}var Ke,cr;function Oo(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Do(),Ke=o,cr=o.style.outlineStyle,o.style.outlineStyle="none",Et(window,"keydown",Do))}function Do(){Ke&&(Ke.style.outlineStyle=cr,Ke=void 0,cr=void 0,fn(window,"keydown",Do))}function Fs(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fl(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var Bo={__proto__:null,TRANSFORM:Br,TRANSITION:Wt,TRANSITION_END:wi,get:bs,getStyle:vi,create:Kt,remove:Qt,empty:mn,toFront:Li,toBack:zr,hasClass:ur,addClass:pt,removeClass:on,setClass:ir,getClass:Oi,setOpacity:Sn,testProp:nr,setTransform:Er,setPosition:Vt,getPosition:Mr,get disableTextSelection(){return Yn},get enableTextSelection(){return ai},disableImageDrag:ut,enableImageDrag:cn,preventOutline:Oo,restoreOutline:Do,getSizedParentNode:Fs,getScale:fl};function Et(o,h,_,b){if(h&&typeof h=="object")for(var E in h)Zr(o,E,h[E],_);else{h=w(h);for(var z=0,te=h.length;z<te;z++)Zr(o,h[z],_,b)}return this}var oi="_leaflet_events";function fn(o,h,_,b){if(arguments.length===1)hl(o),delete o[oi];else if(h&&typeof h=="object")for(var E in h)Us(o,E,h[E],_);else if(h=w(h),arguments.length===2)hl(o,function(de){return C(h,de)!==-1});else for(var z=0,te=h.length;z<te;z++)Us(o,h[z],_,b);return this}function hl(o,h){for(var _ in o[oi]){var b=_.split(/\d/)[0];(!h||h(b))&&Us(o,b,null,null,_)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zr(o,h,_,b){var E=h+c(_)+(b?"_"+c(b):"");if(o[oi]&&o[oi][E])return this;var z=function(de){return _.call(b||o,de||window.event)},te=z;!rt.touchNative&&rt.pointer&&h.indexOf("touch")===0?z=_i(o,h,z):rt.touch&&h==="dblclick"?z=Pi(o,z):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(io[h]||h,z,rt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(z=function(de){de=de||window.event,so(o,de)&&te(de)},o.addEventListener(io[h],z,!1)):o.addEventListener(h,te,!1):o.attachEvent("on"+h,z),o[oi]=o[oi]||{},o[oi][E]=z}function Us(o,h,_,b,E){E=E||h+c(_)+(b?"_"+c(b):"");var z=o[oi]&&o[oi][E];if(!z)return this;!rt.touchNative&&rt.pointer&&h.indexOf("touch")===0?es(o,h,z):rt.touch&&h==="dblclick"?Ni(o,z):"removeEventListener"in o?o.removeEventListener(io[h]||h,z,!1):o.detachEvent("on"+h,z),o[oi][E]=null}function qs(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function dl(o){return Zr(o,"wheel",qs),this}function ma(o){return Et(o,"mousedown touchstart dblclick contextmenu",qs),o._leaflet_disable_click=!0,this}function Bt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function en(o){return Bt(o),qs(o),this}function cu(o){if(o.composedPath)return o.composedPath();for(var h=[],_=o.target;_;)h.push(_),_=_.parentNode;return h}function pl(o,h){if(!h)return new ve(o.clientX,o.clientY);var _=fl(h),b=_.boundingClientRect;return new ve((o.clientX-b.left)/_.x-h.clientLeft,(o.clientY-b.top)/_.y-h.clientTop)}var fc=rt.linux&&rt.chrome?window.devicePixelRatio:rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xi(o){return rt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/fc:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function so(o,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var ml={__proto__:null,on:Et,off:fn,stopPropagation:qs,disableScrollPropagation:dl,disableClickPropagation:ma,preventDefault:Bt,stop:en,getPropagationPath:cu,getMousePosition:pl,getWheelDelta:xi,isExternalTarget:so,addListener:Et,removeListener:fn},gl=me.extend({run:function(o,h,_,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Mr(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var _=this._startPos.add(this._offset.multiplyBy(o));h&&_._round(),Vt(this._el,_),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),At=me.extend({options:{crs:st,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=S(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Se(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wt&&rt.any3d&&!rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Se(o),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,_.zoom):this._tryAnimatedPan(o,_.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,_){var b=this.getZoomScale(h),E=this.getSize().divideBy(2),z=o instanceof ve?o:this.latLngToContainerPoint(o),te=z.subtract(E).multiplyBy(1-1/b),de=this.containerPointToLatLng(E.add(te));return this.setView(de,h,{zoom:_})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Oe(o);var _=Z(h.paddingTopLeft||h.padding||[0,0]),b=Z(h.paddingBottomRight||h.padding||[0,0]),E=this.getBoundsZoom(o,!1,_.add(b));if(E=typeof h.maxZoom=="number"?Math.min(h.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var z=b.subtract(_).divideBy(2),te=this.project(o.getSouthWest(),E),de=this.project(o.getNorthEast(),E),be=this.unproject(te.add(de).divideBy(2).add(z),E);return{center:be,zoom:E}},fitBounds:function(o,h){if(o=Oe(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=Z(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,_){if(_=_||{},_.animate===!1||!rt.any3d)return this.setView(o,h,_);this._stop();var b=this.project(this.getCenter()),E=this.project(o),z=this.getSize(),te=this._zoom;o=Se(o),h=h===void 0?te:h;var de=Math.max(z.x,z.y),be=de*this.getZoomScale(te,h),Ae=E.distanceTo(b)||1,Xe=1.42,_t=Xe*Xe;function Gt(ar){var yu=ar?-1:1,U=ar?be:de,Pl=be*be-de*de+yu*_t*_t*Ae*Ae,_c=2*U*_t*Ae,qi=Pl/_c,tn=Math.sqrt(qi*qi+1)-qi,ad=tn<1e-9?-18:Math.log(tn);return ad}function sr(ar){return(Math.exp(ar)-Math.exp(-ar))/2}function ct(ar){return(Math.exp(ar)+Math.exp(-ar))/2}function jr(ar){return sr(ar)/ct(ar)}var Kr=Gt(0);function Vs(ar){return de*(ct(Kr)/ct(Kr+Xe*ar))}function nd(ar){return de*(ct(Kr)*jr(Kr+Xe*ar)-sr(Kr))/_t}function rd(ar){return 1-Math.pow(1-ar,1.5)}var id=Date.now(),Mf=(Gt(1)-Kr)/Xe,sd=_.duration?1e3*_.duration:1e3*Mf*.8;function vu(){var ar=(Date.now()-id)/sd,yu=rd(ar)*Mf;ar<=1?(this._flyToFrame=V(vu,this),this._move(this.unproject(b.add(E.subtract(b).multiplyBy(nd(yu)/Ae)),te),this.getScaleZoom(de/Vs(yu),te),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),vu.call(this),this},flyToBounds:function(o,h){var _=this._getBoundsCenterZoom(o,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(o){return o=Oe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var _=this.getCenter(),b=this._limitCenter(_,this._zoom,Oe(o));return _.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var _=Z(h.paddingTopLeft||h.padding||[0,0]),b=Z(h.paddingBottomRight||h.padding||[0,0]),E=this.project(this.getCenter()),z=this.project(o),te=this.getPixelBounds(),de=ae([te.min.add(_),te.max.subtract(b)]),be=de.getSize();if(!de.contains(z)){this._enforcingBounds=!0;var Ae=z.subtract(de.getCenter()),Xe=de.extend(z).getSize().subtract(be);E.x+=Ae.x<0?-Xe.x:Xe.x,E.y+=Ae.y<0?-Xe.y:Xe.y,this.panTo(this.unproject(E),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),b=h.divideBy(2).round(),E=_.divideBy(2).round(),z=b.subtract(E);return!z.x&&!z.y?this:(o.animate&&o.pan?this.panBy(z):(o.pan&&this._rawPanBy(z),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),_=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,o):navigator.geolocation.getCurrentPosition(h,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,_=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,_=o.coords.longitude,b=new Re(h,_),E=b.toBounds(o.coords.accuracy*2),z=this._locateOptions;if(z.setView){var te=this.getBoundsZoom(E);this.setView(b,z.maxZoom?Math.min(te,z.maxZoom):te)}var de={latlng:b,bounds:E,timestamp:o.timestamp};for(var be in o.coords)typeof o.coords[be]=="number"&&(de[be]=o.coords[be]);this.fire("locationfound",de)}},addHandler:function(o,h){if(!h)return this;var _=this[o]=new h(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Qt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=Kt("div",_,h||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Ee(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,_){o=Oe(o),_=Z(_||[0,0]);var b=this.getZoom()||0,E=this.getMinZoom(),z=this.getMaxZoom(),te=o.getNorthWest(),de=o.getSouthEast(),be=this.getSize().subtract(_),Ae=ae(this.project(de,b),this.project(te,b)).getSize(),Xe=rt.any3d?this.options.zoomSnap:1,_t=be.x/Ae.x,Gt=be.y/Ae.y,sr=h?Math.max(_t,Gt):Math.min(_t,Gt);return b=this.getScaleZoom(sr,b),Xe&&(b=Math.round(b/(Xe/100))*(Xe/100),b=h?Math.ceil(b/Xe)*Xe:Math.floor(b/Xe)*Xe),Math.max(E,Math.min(z,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ve(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var _=this._getTopLeftPoint(o,h);return new j(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(o)/_.scale(h)},getScaleZoom:function(o,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var b=_.zoom(o*_.scale(h));return isNaN(b)?1/0:b},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Se(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(Z(o),h)},layerPointToLatLng:function(o){var h=Z(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Se(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Se(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Oe(o))},distance:function(o,h){return this.options.crs.distance(Se(o),Se(h))},containerPointToLayerPoint:function(o){return Z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(Z(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(o)))},mouseEventToContainerPoint:function(o){return pl(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=bs(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(h,"scroll",this._onScroll,this),this._containerId=c(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&rt.any3d,pt(o,"leaflet-container"+(rt.touch?" leaflet-touch":"")+(rt.retina?" leaflet-retina":"")+(rt.ielt9?" leaflet-oldie":"")+(rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=vi(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new ve(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(o.markerPane,"leaflet-zoom-hide"),pt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,_){Vt(this._mapPane,new ve(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var E=this._zoom!==h;this._moveStart(E,_)._move(o,h)._moveEnd(E),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,_,b){h===void 0&&(h=this._zoom);var E=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?_&&_.pinch&&this.fire("zoom",_):((E||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Vt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var h=o?fn:Et;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),rt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var _=[],b,E=h==="mouseout"||h==="mouseover",z=o.target||o.srcElement,te=!1;z;){if(b=this._targets[c(z)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){te=!0;break}if(b&&b.listens(h,!0)&&(E&&!so(z,o)||(_.push(b),E))||z===this._container)break;z=z.parentNode}return!_.length&&!te&&!E&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var _=o.type;_==="mousedown"&&Oo(h),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,_){if(o.type==="click"){var b=i({},o);b.type="preclick",this._fireDOMEvent(b,b.type,_)}var E=this._findEventTargets(o,h);if(_){for(var z=[],te=0;te<_.length;te++)_[te].listens(h,!0)&&z.push(_[te]);E=z.concat(E)}if(E.length){h==="contextmenu"&&Bt(o);var de=E[0],be={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Ae=de.getLatLng&&(!de._radius||de._radius<=10);be.containerPoint=Ae?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(o),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Ae?de.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(te=0;te<E.length;te++)if(E[te].fire(h,be,!0),be.originalEvent._stopped||E[te].options.bubblingMouseEvents===!1&&C(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Mr(this._mapPane)||new ve(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var _=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var _=this.getSize()._divideBy(2);return this.project(o,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,_){var b=this._getNewPixelOrigin(_,h);return this.project(o,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,h,_){var b=this._getNewPixelOrigin(_,h);return ae([this.project(o.getSouthWest(),h)._subtract(b),this.project(o.getNorthWest(),h)._subtract(b),this.project(o.getSouthEast(),h)._subtract(b),this.project(o.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,_){if(!_)return o;var b=this.project(o,h),E=this.getSize().divideBy(2),z=new j(b.subtract(E),b.add(E)),te=this._getBoundsOffset(z,_,h);return Math.abs(te.x)<=1&&Math.abs(te.y)<=1?o:this.unproject(b.add(te),h)},_limitOffset:function(o,h){if(!h)return o;var _=this.getPixelBounds(),b=new j(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(o,h,_){var b=ae(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),E=b.min.subtract(o.min),z=b.max.subtract(o.max),te=this._rebound(E.x,-z.x),de=this._rebound(E.y,-z.y);return new ve(te,de)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),_=this.getMaxZoom(),b=rt.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(h,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var _=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var o=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var _=Br,b=this._proxy.style[_];Er(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Er(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),E=this._getCenterOffset(o)._divideBy(1-1/b);return _.animate!==!0&&!this.getSize().contains(E)?!1:(V(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,_,b){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gr(o,h){return new At(o,h)}var Yr=le.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),_=this.getPosition(),b=o._controlCorners[_];return pt(h,"leaflet-control"),_.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Di=function(o){return new Yr(o)};At.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",_=this._controlContainer=Kt("div",h+"control-container",this._container);function b(E,z){var te=h+E+" "+h+z;o[E+z]=Kt("div",te,_)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Qt(this._controlCorners[o]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _l=Yr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,_,b){return _<b?-1:b<_?1:0}},initialize:function(o,h,_){S(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Yr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(c(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Kt("div",o),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ma(h),dl(h);var b=this._section=Kt("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Et(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Kt("a",o+"-toggle",h);E.href="#",E.title="Layers",E.setAttribute("role","button"),Et(E,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){Bt(z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Kt("div",o+"-base",b),this._separator=Kt("div",o+"-separator",b),this._overlaysList=Kt("div",o+"-overlays",b),h.appendChild(b)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&c(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(a(function(b,E){return this.options.sortFunction(b.layer,E.layer,b.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mn(this._baseLayersList),mn(this._overlaysList),this._layerControlInputs=[];var o,h,_,b,E=0;for(_=0;_<this._layers.length;_++)b=this._layers[_],this._addItem(b),h=h||b.overlay,o=o||!b.overlay,E+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(c(o.target)),_=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(o,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=_,b.firstChild},_addItem:function(o){var h=document.createElement("label"),_=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=_):b=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(b),b.layerId=c(o.layer),Et(b,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var z=document.createElement("span");h.appendChild(z),z.appendChild(b),z.appendChild(E);var te=o.overlay?this._overlaysList:this._baseLayersList;return te.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,_,b=[],E=[];this._handlingClick=!0;for(var z=o.length-1;z>=0;z--)h=o[z],_=this._getLayer(h.layerId).layer,h.checked?b.push(_):h.checked||E.push(_);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])&&this._map.removeLayer(E[z]);for(z=0;z<b.length;z++)this._map.hasLayer(b[z])||this._map.addLayer(b[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,_,b=this._map.getZoom(),E=o.length-1;E>=0;E--)h=o[E],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&b<_.options.minZoom||_.options.maxZoom!==void 0&&b>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Et(o,"click",Bt),this.expand();var h=this;setTimeout(function(){fn(o,"click",Bt),h._preventClick=!1})}}),vl=function(o,h,_){return new _l(o,h,_)},Cr=Yr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",_=Kt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,_,b,E){var z=Kt("a",_,b);return z.innerHTML=o,z.href="#",z.title=h,z.setAttribute("role","button"),z.setAttribute("aria-label",h),ma(z),Et(z,"click",en),Et(z,"click",E,this),Et(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";on(this._zoomInButton,h),on(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(pt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(pt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cr,this.addControl(this.zoomControl))});var re=function(o){return new Cr(o)},Me=Yr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",_=Kt("div",h),b=this.options;return this._addScales(b,h+"-line",_),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,_){o.metric&&(this._mScale=Kt("div",h,_)),o.imperial&&(this._iScale=Kt("div",h,_))},_update:function(){var o=this._map,h=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/o)},_updateImperial:function(o){var h=o*3.2808399,_,b,E;h>5280?(_=h/5280,b=this._getRoundNum(_),this._updateScale(this._iScale,b+" mi",b/_)):(E=this._getRoundNum(h),this._updateScale(this._iScale,E+" ft",E/h))},_updateScale:function(o,h,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),_=o/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),Ue=function(o){return new Me(o)},$e='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xt=Yr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(rt.inlineSvg?$e+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),ma(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new xt().addTo(this)});var yt=function(o){return new xt(o)};Yr.Layers=_l,Yr.Zoom=Cr,Yr.Scale=Me,Yr.Attribution=xt,Di.layers=vl,Di.zoom=re,Di.scale=Ue,Di.attribution=yt;var St=le.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});St.addTo=function(o,h){return o.addHandler(h,this),this};var zn={Events:he},In=rt.touch?"touchstart mousedown":"mousedown",Tt=me.extend({options:{clickTolerance:3},initialize:function(o,h,_,b){S(this,b),this._element=o,this._dragStartTarget=h||o,this._preventOutline=_},enable:function(){this._enabled||(Et(this._dragStartTarget,In,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tt._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,In,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ur(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Tt._dragging===this&&this.finishDrag();return}if(!(Tt._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Tt._dragging=this,this._preventOutline&&Oo(this._element),ut(),Yn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,_=Fs(this._element);this._startPoint=new ve(h.clientX,h.clientY),this._startPos=Mr(this._element),this._parentScale=fl(_);var b=o.type==="mousedown";Et(document,b?"mousemove":"touchmove",this._onMove,this),Et(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,_=new ve(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Bt(o),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Vt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),cn(),ai();var h=this._moved&&this._moving;this._moving=!1,Tt._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Mn(o,h,_){var b,E=[1,4,2,8],z,te,de,be,Ae,Xe,_t,Gt;for(z=0,Xe=o.length;z<Xe;z++)o[z]._code=li(o[z],h);for(de=0;de<4;de++){for(_t=E[de],b=[],z=0,Xe=o.length,te=Xe-1;z<Xe;te=z++)be=o[z],Ae=o[te],be._code&_t?Ae._code&_t||(Gt=xl(Ae,be,_t,h,_),Gt._code=li(Gt,h),b.push(Gt)):(Ae._code&_t&&(Gt=xl(Ae,be,_t,h,_),Gt._code=li(Gt,h),b.push(Gt)),b.push(be));o=b}return o}function hn(o,h){var _,b,E,z,te,de,be,Ae,Xe;if(!o||o.length===0)throw new Error("latlngs not passed");Bi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var _t=Se([0,0]),Gt=Oe(o),sr=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());sr<1700&&(_t=ln(o));var ct=o.length,jr=[];for(_=0;_<ct;_++){var Kr=Se(o[_]);jr.push(h.project(Se([Kr.lat-_t.lat,Kr.lng-_t.lng])))}for(de=be=Ae=0,_=0,b=ct-1;_<ct;b=_++)E=jr[_],z=jr[b],te=E.y*z.x-z.y*E.x,be+=(E.x+z.x)*te,Ae+=(E.y+z.y)*te,de+=te*3;de===0?Xe=jr[0]:Xe=[be/de,Ae/de];var Vs=h.unproject(Z(Xe));return Se([Vs.lat+_t.lat,Vs.lng+_t.lng])}function ln(o){for(var h=0,_=0,b=0,E=0;E<o.length;E++){var z=Se(o[E]);h+=z.lat,_+=z.lng,b++}return Se([h/b,_/b])}var xs={__proto__:null,clipPolygon:Mn,polygonCenter:hn,centroid:ln};function Tn(o,h){if(!h||!o.length)return o.slice();var _=h*h;return o=_a(o,_),o=ga(o,_),o}function Ss(o,h,_){return Math.sqrt(Sl(o,h,_,!0))}function yl(o,h,_){return Sl(o,h,_)}function ga(o,h){var _=o.length,b=typeof Uint8Array!=void 0+""?Uint8Array:Array,E=new b(_);E[0]=E[_-1]=1,bl(o,E,h,0,_-1);var z,te=[];for(z=0;z<_;z++)E[z]&&te.push(o[z]);return te}function bl(o,h,_,b,E){var z=0,te,de,be;for(de=b+1;de<=E-1;de++)be=Sl(o[de],o[b],o[E],!0),be>z&&(te=de,z=be);z>_&&(h[te]=1,bl(o,h,_,b,te),bl(o,h,_,te,E))}function _a(o,h){for(var _=[o[0]],b=1,E=0,z=o.length;b<z;b++)qa(o[b],o[E])>h&&(_.push(o[b]),E=b);return E<z-1&&_.push(o[z-1]),_}var d0;function wl(o,h,_,b,E){var z=b?d0:li(o,_),te=li(h,_),de,be,Ae;for(d0=te;;){if(!(z|te))return[o,h];if(z&te)return!1;de=z||te,be=xl(o,h,de,_,E),Ae=li(be,_),de===z?(o=be,z=Ae):(h=be,te=Ae)}}function xl(o,h,_,b,E){var z=h.x-o.x,te=h.y-o.y,de=b.min,be=b.max,Ae,Xe;return _&8?(Ae=o.x+z*(be.y-o.y)/te,Xe=be.y):_&4?(Ae=o.x+z*(de.y-o.y)/te,Xe=de.y):_&2?(Ae=be.x,Xe=o.y+te*(be.x-o.x)/z):_&1&&(Ae=de.x,Xe=o.y+te*(de.x-o.x)/z),new ve(Ae,Xe,E)}function li(o,h){var _=0;return o.x<h.min.x?_|=1:o.x>h.max.x&&(_|=2),o.y<h.min.y?_|=4:o.y>h.max.y&&(_|=8),_}function qa(o,h){var _=h.x-o.x,b=h.y-o.y;return _*_+b*b}function Sl(o,h,_,b){var E=h.x,z=h.y,te=_.x-E,de=_.y-z,be=te*te+de*de,Ae;return be>0&&(Ae=((o.x-E)*te+(o.y-z)*de)/be,Ae>1?(E=_.x,z=_.y):Ae>0&&(E+=te*Ae,z+=de*Ae)),te=o.x-E,de=o.y-z,b?te*te+de*de:new ve(E,z)}function Bi(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function hc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bi(o)}function Si(o,h){var _,b,E,z,te,de,be,Ae;if(!o||o.length===0)throw new Error("latlngs not passed");Bi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Xe=Se([0,0]),_t=Oe(o),Gt=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Gt<1700&&(Xe=ln(o));var sr=o.length,ct=[];for(_=0;_<sr;_++){var jr=Se(o[_]);ct.push(h.project(Se([jr.lat-Xe.lat,jr.lng-Xe.lng])))}for(_=0,b=0;_<sr-1;_++)b+=ct[_].distanceTo(ct[_+1])/2;if(b===0)Ae=ct[0];else for(_=0,z=0;_<sr-1;_++)if(te=ct[_],de=ct[_+1],E=te.distanceTo(de),z+=E,z>b){be=(z-b)/E,Ae=[de.x-be*(de.x-te.x),de.y-be*(de.y-te.y)];break}var Kr=h.unproject(Z(Ae));return Se([Kr.lat+Xe.lat,Kr.lng+Xe.lng])}var va={__proto__:null,simplify:Tn,pointToSegmentDistance:Ss,closestPointOnSegment:yl,clipSegment:wl,_getEdgeIntersection:xl,_getBitCode:li,_sqClosestPointOnSegment:Sl,isFlat:Bi,_flat:hc,polylineCenter:Si},Ar={project:function(o){return new ve(o.lng,o.lat)},unproject:function(o){return new Re(o.y,o.x)},bounds:new j([-180,-90],[180,90])},ao={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,_=this.R,b=o.lat*h,E=this.R_MINOR/_,z=Math.sqrt(1-E*E),te=z*Math.sin(b),de=Math.tan(Math.PI/4-b/2)/Math.pow((1-te)/(1+te),z/2);return b=-_*Math.log(Math.max(de,1e-10)),new ve(o.lng*h*_,b)},unproject:function(o){for(var h=180/Math.PI,_=this.R,b=this.R_MINOR/_,E=Math.sqrt(1-b*b),z=Math.exp(-o.y/_),te=Math.PI/2-2*Math.atan(z),de=0,be=.1,Ae;de<15&&Math.abs(be)>1e-7;de++)Ae=E*Math.sin(te),Ae=Math.pow((1-Ae)/(1+Ae),E/2),be=Math.PI/2-2*Math.atan(z*Ae)-te,te+=be;return new Re(te*h,o.x*h/_)}},dc={__proto__:null,LonLat:Ar,Mercator:ao,SphericalMercator:Ne},Tl=i({},Ce,{code:"EPSG:3395",projection:ao,transformation:function(){var o=.5/(Math.PI*ao.R);return we(o,.5,-o,.5)}()}),p0=i({},Ce,{code:"EPSG:4326",projection:Ar,transformation:we(1/180,1,-1/180,.5)}),oo=i({},Te,{projection:Ar,transformation:we(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var _=h.lng-o.lng,b=h.lat-o.lat;return Math.sqrt(_*_+b*b)},infinite:!0});Te.Earth=Ce,Te.EPSG3395=Tl,Te.EPSG3857=st,Te.EPSG900913=ze,Te.EPSG4326=p0,Te.Simple=oo;var Nn=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});At.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=c(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=c(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var h=0,_=o.length;h<_;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=c(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,_=this._getZoomSpan();for(var b in this._zoomBoundLayers){var E=this._zoomBoundLayers[b].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),h=E.maxZoom===void 0?h:Math.max(h,E.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ha=Nn.extend({initialize:function(o,h){S(this,h),this._layers={};var _,b;if(o)for(_=0,b=o.length;_<b;_++)this.addLayer(o[_])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),_,b;for(_ in this._layers)b=this._layers[_],b[o]&&b[o].apply(b,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),lo=function(o,h){return new Ha(o,h)},ns=Ha.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ha.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ha.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ee;for(var h in this._layers){var _=this._layers[h];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),m0=function(o,h){return new ns(o,h)},Hs=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,h){var _=this.options,b=_[h+"Size"];typeof b=="number"&&(b=[b,b]);var E=Z(b),z=Z(h==="shadow"&&_.shadowAnchor||_.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(_.className||""),z&&(o.style.marginLeft=-z.x+"px",o.style.marginTop=-z.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return rt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function pc(o){return new Hs(o)}var kl=Hs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof kl.imagePath!="string"&&(kl.imagePath=this._detectIconPath()),(this.options.imagePath||kl.imagePath)+Hs.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(_,b,E){var z=b.exec(_);return z&&z[E]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Kt("div","leaflet-default-icon-path",document.body),h=vi(o,"background-image")||vi(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),uo=St.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Tt(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,_=h._map,b=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,z=Mr(h._icon),te=_.getPixelBounds(),de=_.getPixelOrigin(),be=ae(te.min._subtract(de).add(E),te.max._subtract(de).subtract(E));if(!be.contains(z)){var Ae=Z((Math.max(be.max.x,z.x)-be.max.x)/(te.max.x-be.max.x)-(Math.min(be.min.x,z.x)-be.min.x)/(te.min.x-be.min.x),(Math.max(be.max.y,z.y)-be.max.y)/(te.max.y-be.max.y)-(Math.min(be.min.y,z.y)-be.min.y)/(te.min.y-be.min.y)).multiplyBy(b);_.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Vt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=V(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,_=h._shadow,b=Mr(h._icon),E=h._map.layerPointToLatLng(b);_&&Vt(_,b),h._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),fu=Nn.extend({options:{icon:new kl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){S(this,h),this._latlng=Se(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Se(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),b=!1;_!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),pt(_,h),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(_,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),z=!1;E!==this._shadow&&(this._removeShadow(),z=!0),E&&(pt(E,h),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&z&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Vt(this._icon,o),this._shadow&&Vt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uo)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uo(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Sn(this._icon,o),this._shadow&&Sn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,_=h.iconSize?Z(h.iconSize):Z(0,0),b=h.iconAnchor?Z(h.iconAnchor):Z(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:_.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ya(o,h){return new fu(o,h)}var Wa=Nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hu=Wa.extend({options:{fill:!0,radius:10},initialize:function(o,h){S(this,h),this._latlng=Se(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Se(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Wa.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,_=this._clickTolerance(),b=[o+_,h+_];this._pxBounds=new j(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function co(o,h){return new hu(o,h)}var zo=hu.extend({initialize:function(o,h,_){if(typeof h=="number"&&(h=i({},_,{radius:h})),S(this,h),this._latlng=Se(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Wa.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,_=this._map,b=_.options.crs;if(b.distance===Ce.distance){var E=Math.PI/180,z=this._mRadius/Ce.R/E,te=_.project([h+z,o]),de=_.project([h-z,o]),be=te.add(de).divideBy(2),Ae=_.unproject(be).lat,Xe=Math.acos((Math.cos(z*E)-Math.sin(h*E)*Math.sin(Ae*E))/(Math.cos(h*E)*Math.cos(Ae*E)))/E;(isNaN(Xe)||Xe===0)&&(Xe=z/Math.cos(Math.PI/180*h)),this._point=be.subtract(_.getPixelOrigin()),this._radius=isNaN(Xe)?0:be.x-_.project([Ae,o-Xe]).x,this._radiusY=be.y-te.y}else{var _t=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(_t).x}this._updateBounds()}});function Ga(o,h,_){return new zo(o,h,_)}var zi=Wa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){S(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,_=null,b=Sl,E,z,te=0,de=this._parts.length;te<de;te++)for(var be=this._parts[te],Ae=1,Xe=be.length;Ae<Xe;Ae++){E=be[Ae-1],z=be[Ae];var _t=b(o,E,z,!0);_t<h&&(h=_t,_=b(o,E,z))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Si(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Se(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ee,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],_=Bi(o),b=0,E=o.length;b<E;b++)_?(h[b]=Se(o[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(o[b]);return h},_project:function(){var o=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new ve(o,o);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,_){var b=o[0]instanceof Re,E=o.length,z,te;if(b){for(te=[],z=0;z<E;z++)te[z]=this._map.latLngToLayerPoint(o[z]),_.extend(te[z]);h.push(te)}else for(z=0;z<E;z++)this._projectLatlngs(o[z],h,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,b,E,z,te,de,be;for(_=0,E=0,z=this._rings.length;_<z;_++)for(be=this._rings[_],b=0,te=be.length;b<te-1;b++)de=wl(be[b],be[b+1],o,b,!0),de&&(h[E]=h[E]||[],h[E].push(de[0]),(de[1]!==be[b+1]||b===te-2)&&(h[E].push(de[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,_=0,b=o.length;_<b;_++)o[_]=Tn(o[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var _,b,E,z,te,de,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,z=this._parts.length;_<z;_++)for(de=this._parts[_],b=0,te=de.length,E=te-1;b<te;E=b++)if(!(!h&&b===0)&&Ss(o,de[E],de[b])<=be)return!0;return!1}});function kf(o,h){return new zi(o,h)}zi._flat=hc;var Ti=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=zi.prototype._convertLatLngs.call(this,o),_=h.length;return _>=2&&h[0]instanceof Re&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(o){zi.prototype._setLatLngs.call(this,o),Bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,_=new ve(h,h);if(o=new j(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,E=this._rings.length,z;b<E;b++)z=Mn(this._rings[b],o,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,_,b,E,z,te,de,be,Ae;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(z=0,be=this._parts.length;z<be;z++)for(_=this._parts[z],te=0,Ae=_.length,de=Ae-1;te<Ae;de=te++)b=_[te],E=_[de],b.y>o.y!=E.y>o.y&&o.x<(E.x-b.x)*(o.y-b.y)/(E.y-b.y)+b.x&&(h=!h);return h||zi.prototype._containsPoint.call(this,o,!0)}});function Ef(o,h){return new Ti(o,h)}var Ur=ns.extend({initialize:function(o,h){S(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=A(o)?o:o.features,_,b,E;if(h){for(_=0,b=h.length;_<b;_++)E=h[_],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var z=this.options;if(z.filter&&!z.filter(o))return this;var te=ui(o,z);return te?(te.feature=ks(o),te.defaultOptions=te.options,this.resetStyle(te),z.onEachFeature&&z.onEachFeature(o,te),this.addLayer(te)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function ui(o,h){var _=o.type==="Feature"?o.geometry:o,b=_?_.coordinates:null,E=[],z=h&&h.pointToLayer,te=h&&h.coordsToLatLng||du,de,be,Ae,Xe;if(!b&&!_)return null;switch(_.type){case"Point":return de=te(b),mc(z,o,de,h);case"MultiPoint":for(Ae=0,Xe=b.length;Ae<Xe;Ae++)de=te(b[Ae]),E.push(mc(z,o,de,h));return new ns(E);case"LineString":case"MultiLineString":return be=pu(b,_.type==="LineString"?0:1,te),new zi(be,h);case"Polygon":case"MultiPolygon":return be=pu(b,_.type==="Polygon"?1:2,te),new Ti(be,h);case"GeometryCollection":for(Ae=0,Xe=_.geometries.length;Ae<Xe;Ae++){var _t=ui({geometry:_.geometries[Ae],type:"Feature",properties:o.properties},h);_t&&E.push(_t)}return new ns(E);case"FeatureCollection":for(Ae=0,Xe=_.features.length;Ae<Xe;Ae++){var Gt=ui(_.features[Ae],h);Gt&&E.push(Gt)}return new ns(E);default:throw new Error("Invalid GeoJSON object.")}}function mc(o,h,_,b){return o?o(h,_):new fu(_,b&&b.markersInheritOptions&&b)}function du(o){return new Re(o[1],o[0],o[2])}function pu(o,h,_){for(var b=[],E=0,z=o.length,te;E<z;E++)te=h?pu(o[E],h-1,_):(_||du)(o[E]),b.push(te);return b}function Ts(o,h){return o=Se(o),o.alt!==void 0?[g(o.lng,h),g(o.lat,h),g(o.alt,h)]:[g(o.lng,h),g(o.lat,h)]}function mu(o,h,_,b){for(var E=[],z=0,te=o.length;z<te;z++)E.push(h?mu(o[z],Bi(o[z])?0:h-1,_,b):Ts(o[z],b));return!h&&_&&E.length>0&&E.push(E[0].slice()),E}function Ws(o,h){return o.feature?i({},o.feature,{geometry:h}):ks(h)}function ks(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ue={toGeoJSON:function(o){return Ws(this,{type:"Point",coordinates:Ts(this.getLatLng(),o)})}};fu.include(ue),zo.include(ue),hu.include(ue),zi.include({toGeoJSON:function(o){var h=!Bi(this._latlngs),_=mu(this._latlngs,h?1:0,!1,o);return Ws(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ti.include({toGeoJSON:function(o){var h=!Bi(this._latlngs),_=h&&!Bi(this._latlngs[0]),b=mu(this._latlngs,_?2:h?1:0,!0,o);return h||(b=[b]),Ws(this,{type:(_?"Multi":"")+"Polygon",coordinates:b})}}),Ha.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(o).geometry.coordinates)}),Ws(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var _=h==="GeometryCollection",b=[];return this.eachLayer(function(E){if(E.toGeoJSON){var z=E.toGeoJSON(o);if(_)b.push(z.geometry);else{var te=ks(z);te.type==="FeatureCollection"?b.push.apply(b,te.features):b.push(te)}}}),_?Ws(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function ke(o,h){return new Ur(o,h)}var xe=ke,Ze=Nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,_){this._url=o,this._bounds=Oe(h),S(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&zr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Oe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Kt("img");if(pt(h,"leaflet-image-layer"),this._zoomAnimated&&pt(h,"leaflet-zoom-animated"),this.options.className&&pt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Er(this._image,_,h)},_reset:function(){var o=this._image,h=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();Vt(o,h.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){Sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Nt=function(o,h,_){return new Ze(o,h,_)},dn=Ze.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Kt("video");if(pt(h,"leaflet-image-layer"),this._zoomAnimated&&pt(h,"leaflet-zoom-animated"),this.options.className&&pt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=a(this.fire,this,"load"),o){for(var _=h.getElementsByTagName("source"),b=[],E=0;E<_.length;E++)b.push(_[E].src);this._url=_.length>0?b:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var te=Kt("source");te.src=this._url[z],h.appendChild(te)}}});function Pr(o,h,_){return new dn(o,h,_)}var kn=Ze.extend({_initImage:function(){var o=this._image=this._url;pt(o,"leaflet-image-layer"),this._zoomAnimated&&pt(o,"leaflet-zoom-animated"),this.options.className&&pt(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function gc(o,h,_){return new kn(o,h,_)}var _r=Nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Re||A(o))?(this._latlng=Se(o),S(this,h)):(S(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Sn(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Sn(this._container,0),this._removeTimeout=setTimeout(a(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Se(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&zr(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof ns){h=null;var _=this._source._layers;for(var b in _)if(_[b]._map){h=_[b];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=Z(this.options.offset),_=this._getAnchor();this._zoomAnimated?Vt(this._container,o.add(_)):h=h.add(o).add(_);var b=this._containerBottom=-h.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});At.include({_initOverlay:function(o,h,_,b){var E=h;return E instanceof o||(E=new o(b).setContent(h)),_&&E.setLatLng(_),E}}),Nn.include({_initOverlay:function(o,h,_,b){var E=_;return E instanceof o?(S(E,b),E._source=this):(E=h&&!b?h:new o(b,this),E.setContent(_)),E}});var ci=_r.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,_r.prototype.openOn.call(this,o)},onAdd:function(o){_r.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wa||this._source.on("preclick",qs))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wa||this._source.off("preclick",qs))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Kt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Kt("div",o+"-content-wrapper",h);if(this._contentNode=Kt("div",o+"-content",_),ma(h),dl(this._contentNode),Et(h,"contextmenu",qs),this._tipContainer=Kt("div",o+"-tip-container",h),this._tip=Kt("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Kt("a",o+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Et(b,"click",function(E){Bt(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var b=o.offsetHeight,E=this.options.maxHeight,z="leaflet-popup-scrolled";E&&b>E?(h.height=E+"px",pt(o,z)):on(o,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();Vt(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(vi(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,b=this._containerWidth,E=new ve(this._containerLeft,-_-this._containerBottom);E._add(Mr(this._container));var z=o.layerPointToContainerPoint(E),te=Z(this.options.autoPanPadding),de=Z(this.options.autoPanPaddingTopLeft||te),be=Z(this.options.autoPanPaddingBottomRight||te),Ae=o.getSize(),Xe=0,_t=0;z.x+b+be.x>Ae.x&&(Xe=z.x+b-Ae.x+be.x),z.x-Xe-de.x<0&&(Xe=z.x-de.x),z.y+_+be.y>Ae.y&&(_t=z.y+_-Ae.y+be.y),z.y-_t-de.y<0&&(_t=z.y-de.y),(Xe||_t)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Xe,_t]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),El=function(o,h){return new ci(o,h)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(o,h,_){return this._initOverlay(ci,o,h,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Nn.include({bindPopup:function(o,h){return this._popup=this._initOverlay(ci,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ns||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){en(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Wa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ml=_r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){_r.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){_r.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=_r.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,_,b=this._map,E=this._container,z=b.latLngToContainerPoint(b.getCenter()),te=b.layerPointToContainerPoint(o),de=this.options.direction,be=E.offsetWidth,Ae=E.offsetHeight,Xe=Z(this.options.offset),_t=this._getAnchor();de==="top"?(h=be/2,_=Ae):de==="bottom"?(h=be/2,_=0):de==="center"?(h=be/2,_=Ae/2):de==="right"?(h=0,_=Ae/2):de==="left"?(h=be,_=Ae/2):te.x<z.x?(de="right",h=0,_=Ae/2):(de="left",h=be+(Xe.x+_t.x)*2,_=Ae/2),o=o.subtract(Z(h,_,!0)).add(Xe).add(_t),on(E,"leaflet-tooltip-right"),on(E,"leaflet-tooltip-left"),on(E,"leaflet-tooltip-top"),on(E,"leaflet-tooltip-bottom"),pt(E,"leaflet-tooltip-"+de),Vt(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Sn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fo=function(o,h){return new Ml(o,h)};At.include({openTooltip:function(o,h,_){return this._initOverlay(Ml,o,h,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Nn.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ml,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ns||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Et(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Et(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,_,b;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var Fo=Hs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(mn(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var b=Z(_.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function gu(o){return new Fo(o)}Hs.Default=kl;var gn=Nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Qt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ve?o:new ve(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,_=-o(-1/0,1/0),b=0,E=h.length,z;b<E;b++)z=h[b].style.zIndex,h[b]!==this._container&&z&&(_=o(_,+z));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rt.ielt9){Sn(this._container,this.options.opacity);var o=+new Date,h=!1,_=!1;for(var b in this._tiles){var E=this._tiles[b];if(!(!E.current||!E.loaded)){var z=Math.min(1,(o-E.loaded)/200);Sn(E.el,z),z<1?h=!0:(E.active?_=!0:this._onOpaqueTile(E),E.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(ee(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=h-Math.abs(o-_),this._onUpdateLevel(_)):(Qt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var b=this._levels[o],E=this._map;return b||(b=this._levels[o]={},b.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,E.getCenter(),E.getZoom()),m(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Qt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,_,b){var E=Math.floor(o/2),z=Math.floor(h/2),te=_-1,de=new ve(+E,+z);de.z=+te;var be=this._tileCoordsToKey(de),Ae=this._tiles[be];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),te>b?this._retainParent(E,z,te,b):!1)},_retainChildren:function(o,h,_,b){for(var E=2*o;E<2*o+2;E++)for(var z=2*h;z<2*h+2;z++){var te=new ve(E,z);te.z=_+1;var de=this._tileCoordsToKey(te),be=this._tiles[de];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);_+1<b&&this._retainChildren(E,z,_+1,b)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,_,b){var E=Math.round(h);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var z=this.options.updateWhenZooming&&E!==this._tileZoom;(!b||z)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,h)},_setZoomTransform:function(o,h,_){var b=this._map.getZoomScale(_,o.zoom),E=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,_)).round();rt.any3d?Er(o.el,E,b):Vt(o.el,E)},_resetGrid:function(){var o=this._map,h=o.options.crs,_=this._tileSize=this.getTileSize(),b=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],b).x/_.x),Math.ceil(o.project([0,h.wrapLng[1]],b).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],b).y/_.x),Math.ceil(o.project([h.wrapLat[1],0],b).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(_,this._tileZoom),E=h.project(o,this._tileZoom).floor(),z=h.getSize().divideBy(b*2);return new j(E.subtract(z),E.add(z))},_update:function(o){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(b),z=E.getCenter(),te=[],de=this.options.keepBuffer,be=new j(E.getBottomLeft().subtract([de,-de]),E.getTopRight().add([de,-de]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Xe=this._tiles[Ae].coords;(Xe.z!==this._tileZoom||!be.contains(new ve(Xe.x,Xe.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var _t=E.min.y;_t<=E.max.y;_t++)for(var Gt=E.min.x;Gt<=E.max.x;Gt++){var sr=new ve(Gt,_t);if(sr.z=this._tileZoom,!!this._isValidTile(sr)){var ct=this._tiles[this._tileCoordsToKey(sr)];ct?ct.current=!0:te.push(sr)}}if(te.sort(function(Kr,Vs){return Kr.distanceTo(z)-Vs.distanceTo(z)}),te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jr=document.createDocumentFragment();for(Gt=0;Gt<te.length;Gt++)this._addTile(te[Gt],jr);this._level.el.appendChild(jr)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!h.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return Oe(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,_=this.getTileSize(),b=o.scaleBy(_),E=b.add(_),z=h.unproject(b,o.z),te=h.unproject(E,o.z);return[z,te]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),_=new Ee(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),_=new ve(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(o){var h=this._tiles[o];h&&(Qt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){pt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=m,o.onmousemove=m,rt.ielt9&&this.options.opacity<1&&Sn(o,this.options.opacity)},_addTile:function(o,h){var _=this._getTilePos(o),b=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&V(a(this._tileReady,this,o,null,E)),Vt(E,_),this._tiles[b]={el:E,coords:o,current:!0},h.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:o});var b=this._tileCoordsToKey(o);_=this._tiles[b],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Sn(_.el,0),ee(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(pt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new ve(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new j(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Cl(o){return new gn(o)}var ba=gn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=S(this,h),h.detectRetina&&rt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var _=document.createElement("img");return Et(_,"load",a(this._tileOnLoad,this,h,_)),Et(_,"error",a(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var h={r:rt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=_),h["-y"]=_}return k(this._url,i(h,this.options))},_tileOnLoad:function(o,h){rt.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,_){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),o(_,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,b=this.options.zoomOffset;return _&&(o=h-o),o+b},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=m,h.onerror=m,!h.complete)){h.src=N;var _=this._tiles[o].coords;Qt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",N),gn.prototype._removeTile.call(this,o)},_tileReady:function(o,h,_){if(!(!this._map||_&&_.getAttribute("src")===N))return gn.prototype._tileReady.call(this,o,h,_)}});function Al(o,h){return new ba(o,h)}var wa=ba.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var _=i({},this.defaultWmsParams);for(var b in h)b in this.options||(_[b]=h[b]);h=S(this,h);var E=h.detectRetina&&rt.retina?2:1,z=this.getTileSize();_.width=z.x*E,_.height=z.y*E,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,ba.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),_=this._crs,b=ae(_.project(h[0]),_.project(h[1])),E=b.min,z=b.max,te=(this._wmsVersion>=1.3&&this._crs===p0?[E.y,E.x,z.y,z.x]:[E.x,E.y,z.x,z.y]).join(","),de=ba.prototype.getTileUrl.call(this,o);return de+I(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+te},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function g0(o,h){return new wa(o,h)}ba.WMS=wa,Al.wms=g0;var Gs=Nn.extend({options:{padding:.1},initialize:function(o){S(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var _=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,h),z=b.multiplyBy(-_).add(E).subtract(this._map._getNewPixelOrigin(o,h));rt.any3d?Er(this._container,z,_):Vt(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new j(_,_.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Il=Gs.extend({options:{tolerance:0},getEvents:function(){var o=Gs.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Et(o,"mousemove",this._onMouseMove,this),Et(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,Qt(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gs.prototype._update.call(this);var o=this._bounds,h=this._container,_=o.getSize(),b=rt.retina?2:1;Vt(h,o.min),h.width=b*_.x,h.height=b*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Gs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,_=h.next,b=h.prev;_?_.prev=b:this._drawLast=b,b?b.next=_:this._drawFirst=_,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),_=[],b,E;for(E=0;E<h.length;E++){if(b=Number(h[E]),isNaN(b))return;_.push(b)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var _,b,E,z,te=o._parts,de=te.length,be=this._ctx;if(de){for(be.beginPath(),_=0;_<de;_++){for(b=0,E=te[_].length;b<E;b++)z=te[_][b],be[b?"lineTo":"moveTo"](z.x,z.y);h&&be.closePath()}this._fillStroke(be,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,_=this._ctx,b=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||b)/b;E!==1&&(_.save(),_.scale(1,E)),_.beginPath(),_.arc(h.x,h.y/E,b,0,Math.PI*2,!1),E!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,h){var _=h.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),_,b,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(b=_);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(on(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var _,b,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(b=_);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(pt(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,_){this._map._fireDOMEvent(h,_||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var _=h.next,b=h.prev;if(_)_.prev=b;else return;b?b.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var _=h.next,b=h.prev;if(b)b.next=_;else return;_?_.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Fi(o){return rt.canvas?new Il(o):null}var $s=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_0={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gs.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=$s("shape");pt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=$s("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Qt(h),o.removeInteractiveTarget(h),delete this._layers[c(o)]},_updateStyle:function(o){var h=o._stroke,_=o._fill,b=o.options,E=o._container;E.stroked=!!b.stroke,E.filled=!!b.fill,b.stroke?(h||(h=o._stroke=$s("stroke")),E.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=A(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(E.removeChild(h),o._stroke=null),b.fill?(_||(_=o._fill=$s("fill")),E.appendChild(_),_.color=b.fillColor||b.color,_.opacity=b.fillOpacity):_&&(E.removeChild(_),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),_=Math.round(o._radius),b=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+b+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Li(o._container)},_bringToBack:function(o){zr(o._container)}},$a=rt.vml?$s:lt,Uo=Gs.extend({_initContainer:function(){this._container=$a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gs.prototype._update.call(this);var o=this._bounds,h=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),Vt(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=$a("path");o.options.className&&pt(h,o.options.className),o.options.interactive&&pt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Qt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,_=o.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ft(o._parts,h))},_updateCircle:function(o){var h=o._point,_=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||_,E="a"+_+","+b+" 0 1,0 ",z=o._empty()?"M0 0":"M"+(h.x-_)+","+h.y+E+_*2+",0 "+E+-_*2+",0 ";this._setPath(o,z)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Li(o._path)},_bringToBack:function(o){zr(o._path)}});rt.vml&&Uo.include(_0);function Ui(o){return rt.svg||rt.vml?new Uo(o):null}At.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Fi(o)||Ui(o)}});var ho=Ti.extend({initialize:function(o,h){Ti.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Oe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function v0(o,h){return new ho(o,h)}Uo.create=$a,Uo.pointsToPath=ft,Ur.geometryToLayer=ui,Ur.coordsToLatLng=du,Ur.coordsToLatLngs=pu,Ur.latLngToCoords=Ts,Ur.latLngsToCoords=mu,Ur.getFeature=Ws,Ur.asFeature=ks,At.mergeOptions({boxZoom:!0});var xa=St.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),ut(),this._startPoint=this._map.mouseEventToContainerPoint(o),Et(document,{contextmenu:en,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new j(this._point,this._startPoint),_=h.getSize();Vt(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Qt(this._box),on(this._container,"leaflet-crosshair")),ai(),cn(),fn(document,{contextmenu:en,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});At.addInitHook("addHandler","boxZoom",xa),At.mergeOptions({doubleClickZoom:!0});var Va=St.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,_=h.getZoom(),b=h.options.zoomDelta,E=o.originalEvent.shiftKey?_-b:_+b;h.options.doubleClickZoom==="center"?h.setZoom(E):h.setZoomAround(o.containerPoint,E)}});At.addInitHook("addHandler","doubleClickZoom",Va),At.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Es=St.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Tt(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Oe(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),_=this._initialWorldOffset,b=this._draggable._newPos.x,E=(b-h+_)%o+h-_,z=(b+h+_)%o-h-_,te=Math.abs(E+_)<Math.abs(z+_)?E:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=te},_onDragEnd:function(o){var h=this._map,_=h.options,b=!_.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),b)h.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,te=_.easeLinearity,de=E.multiplyBy(te/z),be=de.distanceTo([0,0]),Ae=Math.min(_.inertiaMaxSpeed,be),Xe=de.multiplyBy(Ae/be),_t=Ae/(_.inertiaDeceleration*te),Gt=Xe.multiplyBy(-_t/2).round();!Gt.x&&!Gt.y?h.fire("moveend"):(Gt=h._limitOffset(Gt,h.options.maxBounds),V(function(){h.panBy(Gt,{duration:_t,easeLinearity:te,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",Es),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var y0=St.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Et(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,_=o.scrollTop||h.scrollTop,b=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},_=this.keyCodes,b,E;for(b=0,E=_.left.length;b<E;b++)h[_.left[b]]=[-1*o,0];for(b=0,E=_.right.length;b<E;b++)h[_.right[b]]=[o,0];for(b=0,E=_.down.length;b<E;b++)h[_.down[b]]=[0,o];for(b=0,E=_.up.length;b<E;b++)h[_.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},_=this.keyCodes,b,E;for(b=0,E=_.zoomIn.length;b<E;b++)h[_.zoomIn[b]]=o;for(b=0,E=_.zoomOut.length;b<E;b++)h[_.zoomOut[b]]=-o},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,_=this._map,b;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(b=this._panKeys[h],o.shiftKey&&(b=Z(b).multiplyBy(3)),_.options.maxBounds&&(b=_._limitOffset(Z(b),_.options.maxBounds)),_.options.worldCopyJump){var E=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(b)));_.panTo(E)}else _.panBy(b)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;en(o)}}});At.addInitHook("addHandler","keyboard",y0),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _u=St.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=xi(o),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),b),en(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,z=_?Math.ceil(E/_)*_:E,te=o._limitZoom(h+(this._delta>0?z:-z))-h;this._delta=0,this._startTime=null,te&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+te):o.setZoomAround(this._lastMousePos,h+te))}});At.addInitHook("addHandler","scrollWheelZoom",_u);var b0=600;At.mergeOptions({tapHold:rt.touchNative&&rt.safari&&rt.mobile,tapTolerance:15});var po=St.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new ve(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",Bt),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),b0),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){fn(document,"touchend",Bt),fn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new ve(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});At.addInitHook("addHandler","tapHold",po),At.mergeOptions({touchZoom:rt.touch,bounceAtZoomLimits:!0});var Rl=St.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(b)._divideBy(2))),this._startDist=_.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),Bt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]),E=_.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(E,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&E<1||this._zoom>h.getMaxZoom()&&E>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var z=_._add(b)._divideBy(2)._subtract(this._centerPoint);if(E===1&&z.x===0&&z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var te=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(te,this,!0),Bt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",Rl),At.BoxZoom=xa,At.DoubleClickZoom=Va,At.Drag=Es,At.Keyboard=y0,At.ScrollWheelZoom=_u,At.TapHold=po,At.TouchZoom=Rl,n.Bounds=j,n.Browser=rt,n.CRS=Te,n.Canvas=Il,n.Circle=zo,n.CircleMarker=hu,n.Class=le,n.Control=Yr,n.DivIcon=Fo,n.DivOverlay=_r,n.DomEvent=ml,n.DomUtil=Bo,n.Draggable=Tt,n.Evented=me,n.FeatureGroup=ns,n.GeoJSON=Ur,n.GridLayer=gn,n.Handler=St,n.Icon=Hs,n.ImageOverlay=Ze,n.LatLng=Re,n.LatLngBounds=Ee,n.Layer=Nn,n.LayerGroup=Ha,n.LineUtil=va,n.Map=At,n.Marker=fu,n.Mixin=zn,n.Path=Wa,n.Point=ve,n.PolyUtil=xs,n.Polygon=Ti,n.Polyline=zi,n.Popup=ci,n.PosAnimation=gl,n.Projection=dc,n.Rectangle=ho,n.Renderer=Gs,n.SVG=Uo,n.SVGOverlay=kn,n.TileLayer=ba,n.Tooltip=Ml,n.Transformation=Be,n.Util=fe,n.VideoOverlay=dn,n.bind=a,n.bounds=ae,n.canvas=Fi,n.circle=Ga,n.circleMarker=co,n.control=Di,n.divIcon=gu,n.extend=i,n.featureGroup=m0,n.geoJSON=ke,n.geoJson=xe,n.gridLayer=Cl,n.icon=pc,n.imageOverlay=Nt,n.latLng=Se,n.latLngBounds=Oe,n.layerGroup=lo,n.map=gr,n.marker=ya,n.point=Z,n.polygon=Ef,n.polyline=kf,n.popup=El,n.rectangle=v0,n.setOptions=S,n.stamp=c,n.svg=Ui,n.svgOverlay=gc,n.tileLayer=Al,n.tooltip=fo,n.transformation=we,n.version=r,n.videoOverlay=Pr;var rs=window.L;n.noConflict=function(){return window.L=rs,this},window.L=n})})(E3,E3.exports);var vde=E3.exports;const Ca=rR(vde);function ak(t,e,n){var r=(e-n)/57.29578,i=t/57.29578,s=1+35786/6378.16,a=s*Math.cos(i)*Math.cos(r)-1,l=s*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/l);return c}function yde(t,e,n){var r=(e-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(t/57.29578));return t<0&&(i=i-180),i<0&&(i=i+360),i}function Rd(t,{title:e,tickSize:n=6,width:r=320,height:i=44+n,marginTop:s=18,marginRight:a=0,marginBottom:l=16+n,marginLeft:c=0,ticks:f=r/64,tickFormat:p,tickValues:m}={}){function g(I,P=256){const k=document.createElement("canvas");k.width=P,k.height=1;const A=k.getContext("2d");for(let C=0;C<P;++C)A.fillStyle=I(C/(P-1)),A.fillRect(C,0,1,1);return k}const y=mW("svg").attr("width",r).attr("height",i).attr("viewBox",[0,0,r,i]).style("overflow","visible").style("display","block");let w=I=>I.selectAll(".tick line").attr("y1",s+l-i),S;if(t.interpolate){const I=Math.min(t.domain().length,t.range().length);S=t.copy().rangeRound(Da(Kc(c,r-a),I)),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.copy().domain(Da(Kc(0,1),I))).toDataURL())}else if(t.interpolator){if(S=Object.assign(t.copy().interpolator(Xp(c,r-a)),{range(){return[c,r-a]}}),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.interpolator()).toDataURL()),!S.ticks){if(m===void 0){const I=Math.round(f+1);m=na(I).map(P=>lp(t.domain(),P/(I-1)))}typeof p!="function"&&(p=qn(p===void 0?",f":p))}}else if(t.invertExtent){const I=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),P=p===void 0?k=>k:typeof p=="string"?qn(p):p;S=n2().domain([-1,t.range().length-1]).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.range()).join("rect").attr("x",(k,A)=>S(A-1)).attr("y",s).attr("width",(k,A)=>S(A)-S(A-1)).attr("height",i-s-l).attr("fill",k=>k),m=na(I.length),p=k=>P(I[k],k)}else S=em().domain(t.domain()).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.domain()).join("rect").attr("x",S).attr("y",s).attr("width",Math.max(0,S.bandwidth()-1)).attr("height",i-s-l).attr("fill",t),w=()=>{};return y.append("g").attr("transform",`translate(0,${i-l})`).call(Rk(S).ticks(f,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(n).tickValues(m)).call(w).call(I=>I.select(".domain").remove()).call(I=>I.append("text").attr("x",c).attr("y",s+l-i-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(e)),y.node()}const bde="/assets/2909667-1913dcd7.png";function ok(t){return Object.prototype.toString.call(t)==="[object Date]"}function M3(t,e,n,r){if(typeof n=="number"||ok(n)){const i=r-n,s=(n-e)/(t.dt||1/60),a=t.opts.stiffness*i,l=t.opts.damping*s,c=(a-l)*t.inv_mass,f=(s+c)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,ok(n)?new Date(n.getTime()+f):n+f)}else{if(Array.isArray(n))return n.map((i,s)=>M3(t,e[s],n[s],r[s]));if(typeof n=="object"){const i={};for(const s in n)i[s]=M3(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function wde(t,e={}){const n=M2(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e;let a,l,c,f=t,p=t,m=1,g=0,y=!1;function w(I,P={}){p=I;const k=c={};return t==null||P.hard||S.stiffness>=1&&S.damping>=1?(y=!0,a=$8(),f=I,n.set(t=p),Promise.resolve()):(P.soft&&(g=1/((P.soft===!0?.5:+P.soft)*60),m=0),l||(a=$8(),y=!1,l=OU(A=>{if(y)return y=!1,l=null,!1;m=Math.min(m+g,1);const C={inv_mass:m,opts:S,settled:!0,dt:(A-a)*60/1e3},N=M3(C,f,t,p);return a=A,f=t,n.set(t=N),C.settled&&(l=null),!C.settled})),new Promise(A=>{l.promise.then(()=>{k===c&&A()})}))}const S={set:w,update:(I,P)=>w(I(p,t),P),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return S}const{document:Ay}=DU;function lk(t,e,n){const r=t.slice();return r[182]=e[n],r[183]=e,r[184]=n,r}function uk(t){let e,n,r=qn("4.2~s")(t[59]*t[21])+"",i,s,a,l,c,f,p,m=(t[59]*t[21]).toFixed(0)+"",g,y,w,S,I,P=t[59].toFixed(0)+"",k,A,C=(t[59]*t[21]).toFixed(0)+"",N,D,F,W;return{c(){e=K("div"),n=K("div"),i=Ie(r),s=ge(),a=K("div"),l=Ie(t[53]),c=Ie(` Projected IMT BS (6GHz)
            `),f=K("pre"),p=Ie("("),g=Ie(m),y=Ie(")"),w=ge(),S=K("h5"),I=Ie("(MidBand:"),k=Ie(P),A=Ie(",6Hz:"),N=Ie(C),D=Ie(")-**(>"),F=Ie(t[19]),W=Ie("°)"),H(n,"class","value"),H(S,"class","center aligned"),H(a,"class","label"),H(e,"class","blue statistic")},m(G,Y){vt(G,e,Y),R(e,n),R(n,i),R(e,s),R(e,a),R(a,l),R(a,c),R(a,f),R(f,p),R(f,g),R(f,y),R(a,w),R(a,S),R(S,I),R(S,k),R(S,A),R(S,N),R(S,D),R(S,F),R(S,W)},p(G,Y){Y[0]&2097152|Y[1]&268435456&&r!==(r=qn("4.2~s")(G[59]*G[21])+"")&&bt(i,r),Y[1]&4194304&&bt(l,G[53]),Y[0]&2097152|Y[1]&268435456&&m!==(m=(G[59]*G[21]).toFixed(0)+"")&&bt(g,m),Y[1]&268435456&&P!==(P=G[59].toFixed(0)+"")&&bt(k,P),Y[0]&2097152|Y[1]&268435456&&C!==(C=(G[59]*G[21]).toFixed(0)+"")&&bt(N,C),Y[0]&524288&&bt(F,G[19])},d(G){G&&ht(e)}}}function ck(t){let e;return{c(){e=K("p"),e.textContent="Empty"},m(n,r){vt(n,e,r)},p:Rn,d(n){n&&ht(e)}}}function fk(t){let e,n=t[182].Country+"",r,i,s=qn("3.2f")(t[182].Object.ActivityFactor)+"",a,l,c,f=qn("2.3s")(t[182].Object.area)+"",p,m,g,y,w,S=qn("2.3s")(t[182].stats.TotalBS)+"",I,P,k,A,C,N,D,F;function W(){t[98].call(k,t[184])}function G(){t[99].call(C,t[184])}return{c(){e=K("div"),r=Ie(n),i=Ie(": RaRb Scale : ("),a=Ie(s),l=Ie(`) |
          `),c=K("a"),p=Ie(f),m=Ie(" sqkm"),g=ge(),y=K("a"),w=Ie("#BS "),I=Ie(S),P=ge(),k=K("input"),A=ge(),C=K("input"),N=ge(),H(c,"class","ui tag label"),H(y,"class","ui red tag label"),H(k,"type","range"),H(k,"step",".1"),H(k,"min","0"),H(k,"max","1"),H(C,"type","number"),H(C,"min","0"),H(C,"max","1"),H(C,"step",".1"),cs(C,"width","56px"),H(e,"class","column")},m(Y,V){vt(Y,e,V),R(e,r),R(e,i),R(e,a),R(e,l),R(e,c),R(c,p),R(c,m),R(e,g),R(e,y),R(y,w),R(y,I),R(e,P),R(e,k),dt(k,t[10][t[184]].Object.ActivityFactor),R(e,A),R(e,C),dt(C,t[10][t[184]].Object.ActivityFactor),R(e,N),D||(F=[je(k,"change",W),je(k,"input",W),je(C,"input",G)],D=!0)},p(Y,V){t=Y,V[0]&1024&&n!==(n=t[182].Country+"")&&bt(r,n),V[0]&1024&&s!==(s=qn("3.2f")(t[182].Object.ActivityFactor)+"")&&bt(a,s),V[0]&1024&&f!==(f=qn("2.3s")(t[182].Object.area)+"")&&bt(p,f),V[0]&1024&&S!==(S=qn("2.3s")(t[182].stats.TotalBS)+"")&&bt(I,S),V[0]&1024&&dt(k,t[10][t[184]].Object.ActivityFactor),V[0]&1024&&Yt(C.value)!==t[10][t[184]].Object.ActivityFactor&&dt(C,t[10][t[184]].Object.ActivityFactor)},d(Y){Y&&ht(e),D=!1,al(F)}}}function hk(t){let e,n,r;return{c(){e=K("div")},m(i,s){vt(i,e,s),n||(r=A3(t[68].call(null,e)),n=!0)},p:Rn,d(i){i&&ht(e),n=!1,r()}}}function xde(t){let e,n,r,i,s,a,l=(t[23]!=null?JSON.stringify(t[23].SatelliteBeam):"mapdata")+"",c;return{c(){e=K("div"),n=Ie(t[53]),r=ge(),i=K("small"),s=K("em"),a=Ie("Reference : "),c=Ie(l),H(e,"slot","header")},m(f,p){vt(f,e,p),R(e,n),R(e,r),R(e,i),R(i,s),R(s,a),R(s,c)},p(f,p){p[1]&4194304&&bt(n,f[53]),p[0]&8388608&&l!==(l=(f[23]!=null?JSON.stringify(f[23].SatelliteBeam):"mapdata")+"")&&bt(c,l)},d(f){f&&ht(e)}}}function Sde(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,w,S,I,P,k,A,C,N,D,F,W,G,Y,V,ee,fe,le,ie,he,me=t[15].toFixed(0)+"",ve,pe,Z,j,ae,Ee=qn("4.2~s")(t[16])+"",Oe,Re,Se,Te,Ce,_e,Ne=t[16].toFixed(0)+"",Be,we,st,ze,lt=t[17].toFixed(0)+"",ft,et,kt=t[18].toFixed(0)+"",tt,wn,Ht,xn,Qn,Bn=qn("4.2~s")(t[47])+"",$n,at,jt,Vn,er,pi,rr=t[47].toFixed(0)+"",tr,Lr,Kn,mt,an,Ir=t[14].toFixed(1)+"",fa,Rr,ha,mi,An,Qi,Ut=(t[14]-10.5).toFixed(1)+"",Ri,Ua,Sr,ps,Bs,da,ii,gi,ms=(t[34]==null?"???":t[34][2].toFixed(1))+"",pr,rt,Tr,gs,Or,Dr,kr,zs,Pn=(t[34]!=null?t[34][0].toFixed(1):"???")+"",_s,_i,es,ts,vs,Zn,pa,mr=(t[34]!=null?t[34][1].toFixed(1):"???")+"",si,Vr,ys,Pi,Ni,Br,Wt,wi,bs=(t[45]==null?"???":t[45].toFixed(1))+"",vi,Kt,Qt,mn,Li,zr,ur,pt,on=(t[33]!=null?t[33][0].I.toFixed(2):"???")+"",ir,Oi,Sn,ws,nr,Er,Vt,Mr=(t[33]!=null?t[33][1].I.toFixed(2):"???")+"",Yn,ai,Fr,Ge,ut,cn,Ke=t[10].length+"",cr,Oo,Do,Fs,fl,Bo,Et,oi,fn,hl,io,Zr,Us,qs,dl,ma,Bt,en,cu,pl,fc,xi,so,ml,gl,At,gr,Yr,Di,_l,vl,Cr,re,Me,Ue,$e,xt,yt,St,zn,In,Tt,Mn,hn,ln,xs,Tn,Ss,yl,ga,bl,_a,d0,wl,xl,li,qa,Sl,Bi,hc,Si,va,Ar,ao,dc,Tl,p0,oo,Nn,Ha,lo,ns,m0,Hs,pc,kl,uo,fu,ya,Wa=t[58],hu,co,zo,Ga,zi,kf,Ti,Ef,Ur,ui,mc,du,pu,Ts,mu,Ws,ks,ue,ke,xe,Ze,Nt,dn,Pr,kn,gc,_r,ci,El,Ml,fo,Fo,gu,gn,Cl,ba,Al,wa,g0,Gs,Il,Fi,$s,_0,$a,Uo,Ui,ho,v0,xa,Va,Es,y0,_u=(t[26]==null?"...":t[22].length)+"",b0,po,Rl,rs,o,h,_,b,E,z,te,de,be,Ae,Xe,_t,Gt,sr,ct,jr,Kr;function Vs(ne){t[81](ne)}function nd(ne){t[82](ne)}function rd(ne){t[83](ne)}function id(ne){t[84](ne)}function Mf(ne){t[85](ne)}function sd(ne){t[86](ne)}function vu(ne){t[87](ne)}function ar(ne){t[88](ne)}function yu(ne){t[89](ne)}function U(ne){t[90](ne)}function Pl(ne){t[91](ne)}function _c(ne){t[92](ne)}function qi(ne){t[93](ne)}function tn(ne){t[94](ne)}function ad(ne){t[95](ne)}function nv(ne){t[96](ne)}let ki={};t[4]!==void 0&&(ki.satAngle=t[4]),t[44]!==void 0&&(ki.HideAllInspector=t[44]),t[21]!==void 0&&(ki.MidBandTo6GHzFactor=t[21]),t[57]!==void 0&&(ki.hasFSSPattern=t[57]),t[30]!==void 0&&(ki.UseFootprint=t[30]),t[31]!==void 0&&(ki.factor=t[31]),t[48]!==void 0&&(ki.hasIMTgrid=t[48]),t[50]!==void 0&&(ki.Raindx=t[50]),t[51]!==void 0&&(ki.Rbindx=t[51]),t[3]!==void 0&&(ki.SatRxGain=t[3]),t[2]!==void 0&&(ki.FSSNoiseTemp=t[2]),t[42]!==void 0&&(ki.EdgeMode=t[42]),t[60]!==void 0&&(ki.orbitrange=t[60]),t[12]!==void 0&&(ki.ApplyEIRPMask=t[12]),t[11]!==void 0&&(ki.MASKOffset=t[11]),t[20]!==void 0&&(ki.EnableLowElevationThreshold=t[20]),s=new pde({props:ki}),Lt.push(()=>On(s,"satAngle",Vs)),Lt.push(()=>On(s,"HideAllInspector",nd)),Lt.push(()=>On(s,"MidBandTo6GHzFactor",rd)),Lt.push(()=>On(s,"hasFSSPattern",id)),Lt.push(()=>On(s,"UseFootprint",Mf)),Lt.push(()=>On(s,"factor",sd)),Lt.push(()=>On(s,"hasIMTgrid",vu)),Lt.push(()=>On(s,"Raindx",ar)),Lt.push(()=>On(s,"Rbindx",yu)),Lt.push(()=>On(s,"SatRxGain",U)),Lt.push(()=>On(s,"FSSNoiseTemp",Pl)),Lt.push(()=>On(s,"EdgeMode",_c)),Lt.push(()=>On(s,"orbitrange",qi)),Lt.push(()=>On(s,"ApplyEIRPMask",tn)),Lt.push(()=>On(s,"MASKOffset",ad)),Lt.push(()=>On(s,"EnableLowElevationThreshold",nv)),t[97](s);let Xr=t[54]&&uk(t),qo=t[10],is=[];for(let ne=0;ne<qo.length;ne+=1)is[ne]=fk(lk(t,qo,ne));let ss=null;qo.length||(ss=ck());function rv(ne){t[100](ne)}let Fm={type:"radio",data:["None","Elevation","binID"],opts:{label:"Globe Color Layer"}};t[27]!==void 0&&(Fm.value=t[27]),fn=new qS({props:Fm}),Lt.push(()=>On(fn,"value",rv));function Ho(ne){t[104](ne)}let Um={type:"radio",data:["IMT Cell Grid","Elevation","FSSGain","IbyN","Country"],opts:{label:"Map Color Layer"}};t[39]!==void 0&&(Um.value=t[39]),Ue=new qS({props:Um}),Lt.push(()=>On(Ue,"value",Ho));let Nl=hk(t);function iv(ne){t[113](ne)}function sv(ne){t[114](ne)}function av(ne){t[115](ne)}function Wo(ne){t[116](ne)}function ov(ne){t[117](ne)}let vc={reference:t[52],$$slots:{header:[xde]},$$scope:{ctx:t}};t[40]!==void 0&&(vc.showModal=t[40]),t[3]!==void 0&&(vc.SatRxGain=t[3]),t[4]!==void 0&&(vc.satAngle=t[4]),t[55]!==void 0&&(vc.SatelliteBeam=t[55]),t[29]!==void 0&&(vc.defaultFootprint=t[29]),_r=new xue({props:vc}),Lt.push(()=>On(_r,"showModal",iv)),Lt.push(()=>On(_r,"SatRxGain",sv)),Lt.push(()=>On(_r,"satAngle",av)),Lt.push(()=>On(_r,"SatelliteBeam",Wo)),Lt.push(()=>On(_r,"defaultFootprint",ov)),t[118](_r);function lv(ne){t[121](ne)}function uv(ne){t[122](ne)}let od={showModal:t[40],satAngle:t[4],cr:t[70],ApplyEIRPMask:t[12],stats:t[32],factor:t[31],Raindx:t[50],Rbindx:t[51],N0:t[14],totalI:t[33],SatGainScale:t[61],MASKOffset:t[11]};t[35]!==void 0&&(od.binnedData=t[35]),t[0]!==void 0&&(od.gainloss=t[0]),wa=new kue({props:od}),Lt.push(()=>On(wa,"binnedData",lv)),Lt.push(()=>On(wa,"gainloss",uv));function bu(ne){t[126](ne)}function cv(ne){t[127](ne)}function fv(ne){t[129](ne)}let Ms={};t[0]!==void 0&&(Ms.gainloss=t[0]),t[41]!==void 0&&(Ms.exclusionzone=t[41]),t[38]!==void 0&&(Ms.logger=t[38]),rs=new hue({props:Ms}),Lt.push(()=>On(rs,"gainloss",bu)),Lt.push(()=>On(rs,"exclusionzone",cv)),t[128](rs),Lt.push(()=>On(rs,"logger",fv));function hv(ne){t[130](ne)}function dv(ne){t[131](ne)}function pv(ne){t[132](ne)}let Cf={};t[25]!==void 0&&(Cf.countries=t[25]),t[23]!==void 0&&(Cf.mapData=t[23]),t[38]!==void 0&&(Cf.logger=t[38]),E=new _ue({props:Cf}),Lt.push(()=>On(E,"countries",hv)),Lt.push(()=>On(E,"mapData",dv)),Lt.push(()=>On(E,"logger",pv)),t[133](E);function mv(ne){t[135](ne)}function qm(ne){t[136](ne)}let Af={};return t[44]!==void 0&&(Af.HideAllInspector=t[44]),t[64]!==void 0&&(Af.statusbox=t[64]),Ae=new _de({props:Af}),t[134](Ae),Lt.push(()=>On(Ae,"HideAllInspector",mv)),Lt.push(()=>On(Ae,"statusbox",qm)),{c(){e=K("link"),n=K("link"),r=ge(),i=K("main"),Fl(s.$$.fragment),D=ge(),F=K("div"),W=K("div"),G=K("div"),Y=K("div"),V=Ie(t[46]),ee=ge(),fe=K("div"),le=Ie(`Total Area
          `),ie=K("pre"),he=Ie(" ("),ve=Ie(me),pe=Ie(") sqkm"),Z=ge(),j=K("div"),ae=K("div"),Oe=Ie(Ee),Re=ge(),Se=K("div"),Te=Ie(`Total BS
          `),Ce=K("pre"),_e=Ie("("),Be=Ie(Ne),we=Ie(")"),st=ge(),ze=K("h5"),ft=Ie(lt),et=Ie(","),tt=Ie(kt),wn=ge(),Xr&&Xr.c(),Ht=ge(),xn=K("div"),Qn=K("div"),$n=Ie(Bn),at=ge(),jt=K("div"),Vn=Ie(`Active BS
          `),er=K("pre"),pi=Ie("("),tr=Ie(rr),Lr=Ie(")"),Kn=ge(),mt=K("div"),an=K("div"),fa=Ie(Ir),Rr=ge(),ha=K("div"),ha.innerHTML=`Noise
          <pre>dBm</pre>`,mi=ge(),An=K("div"),Qi=K("div"),Ri=Ie(Ut),Ua=ge(),Sr=K("div"),Sr.innerHTML=`Allowed Interference
          <pre>dBm</pre>`,ps=ge(),Bs=K("hr"),da=ge(),ii=K("div"),gi=K("div"),pr=Ie(ms),rt=ge(),Tr=K("div"),Tr.innerHTML=`I/N
          <pre>dB</pre>`,Or=ge(),Dr=K("div"),kr=K("a"),zs=Ie("Urban : "),_s=Ie(Pn),_i=Ie(" dBm"),es=ge(),ts=K("br"),vs=ge(),Zn=K("a"),pa=Ie("SubUrban : "),si=Ie(mr),Vr=Ie(`
          dBm`),ys=ge(),Pi=K("div"),Ni=K("div"),Br=K("i"),wi=ge(),vi=Ie(bs),Kt=ge(),Qt=K("div"),Qt.innerHTML=`Aggr. Interference
          <pre>dBm</pre>`,Li=ge(),zr=K("div"),ur=K("a"),pt=Ie("Urban : "),ir=Ie(on),Oi=Ie(" dBm"),Sn=ge(),ws=K("br"),nr=ge(),Er=K("a"),Vt=Ie("SubUrban : "),Yn=Ie(Mr),ai=Ie(" dBm"),Fr=ge(),Ge=K("div"),ut=K("h1"),cn=Ie("Country Stats ("),cr=Ie(Ke),Oo=Ie(")"),Do=ge(),Fs=K("div");for(let ne=0;ne<is.length;ne+=1)is[ne].c();ss&&ss.c(),fl=ge(),Bo=K("div"),Et=K("div"),oi=K("div"),Fl(fn.$$.fragment),io=ge(),Zr=K("div"),Us=K("button"),qs=K("i"),dl=Ie(`
            Footprint`),Bt=ge(),en=K("label"),cu=Ie("Satellite Long : "),pl=Ie(t[4]),fc=ge(),xi=K("input"),gl=ge(),At=K("input"),Di=ge(),_l=K("br"),vl=ge(),Cr=K("a"),Cr.textContent="ITU SNS Website",re=ge(),Me=K("div"),Fl(Ue.$$.fragment),xt=ge(),yt=K("label"),St=Ie("IbN Min : "),zn=Ie(t[5]),In=ge(),Tt=K("input"),Mn=ge(),hn=K("input"),ln=ge(),xs=K("label"),Tn=Ie("IbN Max : "),Ss=Ie(t[6]),yl=ge(),ga=K("input"),bl=ge(),_a=K("input"),d0=ge(),wl=K("button"),wl.innerHTML=`<i class="redo icon"></i>
          Refresh`,xl=ge(),li=K("div"),qa=K("div"),qa.innerHTML='<i class="map icon"></i> Map Views',Sl=ge(),Bi=K("hr"),hc=ge(),Si=K("div"),va=K("div"),Ar=K("div"),ao=K("button"),dc=Ie("Evaluate"),p0=ge(),oo=K("div"),Nn=K("input"),Ha=ge(),lo=K("label"),lo.textContent="Exclude Zone",m0=ge(),Hs=K("div"),pc=K("p"),pc.textContent="..status..",kl=ge(),uo=K("progress"),fu=ge(),ya=K("div"),Nl.c(),hu=ge(),co=K("div"),zo=K("label"),Ga=Ie("Rotate View: "),zi=Ie(t[7]),kf=ge(),Ti=K("input"),Ef=ge(),Ur=K("div"),ui=K("label"),mc=Ie("Tilt View: "),du=Ie(t[8]),pu=ge(),Ts=K("input"),mu=ge(),Ws=K("div"),ks=K("label"),ue=Ie("Zoom Globe : "),ke=Ie(t[9]),xe=ge(),Ze=K("input"),Nt=ge(),dn=K("div"),Pr=ge(),kn=K("div"),kn.innerHTML=`<div class="ui segment"><div id="legendbox"></div> 
          <svg id="svggrid"></svg></div>`,gc=ge(),Fl(_r.$$.fragment),gn=ge(),Cl=K("div"),ba=K("div"),ba.innerHTML='<i class="graph icon"></i> Plot Results',Al=ge(),Fl(wa.$$.fragment),Il=ge(),Fi=K("div"),$s=K("div"),$s.innerHTML='<i class="asterisk icon"></i> Antenna Gains',_0=ge(),$a=K("div"),Uo=ge(),Ui=K("div"),ho=K("div"),ho.innerHTML='<i class="file alternate icon"></i> Files',v0=ge(),xa=K("button"),xa.textContent="Reload Files",Va=ge(),Es=K("button"),y0=Ie("selectGrid : "),b0=Ie(_u),Rl=ge(),Fl(rs.$$.fragment),b=ge(),Fl(E.$$.fragment),be=ge(),Fl(Ae.$$.fragment),Gt=ge(),sr=K("div"),Ay.title="IMT interference to FSS Analysis 2",H(e,"rel","stylesheet"),H(e,"href","../static/css/semantic.min.css"),H(n,"rel","stylesheet"),H(n,"href","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"),H(Y,"class","value"),H(fe,"class","label"),H(G,"class","statistic"),H(ae,"class","value"),H(ze,"class","center aligned"),H(Se,"class","label"),H(j,"class","statistic"),H(Qn,"class","value"),H(jt,"class","label"),H(xn,"class","statistic"),H(an,"class","value"),H(ha,"class","label"),H(mt,"class","grey inverted statistic"),H(Qi,"class","value"),H(Sr,"class","label"),H(An,"class","green statistic"),H(gi,"class","value"),H(Tr,"class","label"),H(ii,"class",gs=(t[45]-t[14]>=-10.5?"red":"green")+" statistic"),H(kr,"class","ui red label left tag small"),H(Zn,"class","ui grey label left tag small"),H(Br,"class",Wt="thumbs "+(t[45]==null?"":t[45]<t[14]-10.5?"circle up":"circle down")+" icon"),H(Ni,"class","value"),H(Qt,"class","label"),H(Pi,"class",mn=(t[45]-t[14]>=-10.5?"red":"green")+" statistic"),H(ur,"class","ui red label left tag small"),H(Er,"class","ui grey label left tag small"),H(W,"class","ui small statistics"),H(F,"class","ui segment"),H(ut,"class","ui h1"),H(Fs,"id","etc"),H(Fs,"class","ui stackable four column grid"),H(Ge,"class","ui segment blue"),H(qs,"class","wrench icon"),H(Us,"class",ma="ui primary tiny button icon "+(t[30]?"disabled":"")),H(xi,"type","number"),H(xi,"min",so=t[60][0]),H(xi,"max",ml=t[60][1]),H(xi,"step","0.5"),H(At,"type","range"),H(At,"min",gr=t[60][0]),H(At,"max",Yr=t[60][1]),H(At,"step","0.5"),H(Cr,"target","_blank"),H(Cr,"href","https://www.itu.int/online/sns/beamlist.sh?ntc_id=99500259&ie=y&sat_type=G&categ=N&script=&select_list=B&sel_type=&sel_satname=ASIABSS&sat_name=ASIABSS&plan_id=&ntc_nbr="),H(Cr,"title","ITU SNS link"),H(Zr,"class","ui left aligned"),H(oi,"class","column"),H(Tt,"type","number"),H(Tt,"min",-200),H(Tt,"max",0),H(Tt,"step","0.5"),H(hn,"type","range"),H(hn,"min",-200),H(hn,"max",0),H(hn,"step","0.5"),H(ga,"type","number"),H(ga,"min",-200),H(ga,"max",0),H(ga,"step","0.5"),H(_a,"type","range"),H(_a,"min",-200),H(_a,"max",0),H(_a,"step","0.5"),H(wl,"class","ui primary tiny button icon"),H(Me,"class","column"),H(Et,"class","ui two column grid"),H(Bo,"class","ui segment red"),H(qa,"class","ui blue ribbon label"),H(ao,"class",Tl="ui button primary "+(t[24]==null||t[24].length==0?"disabled":"")),H(Nn,"type","checkbox"),H(Nn,"id","excludezone"),H(lo,"for","excludezone"),H(oo,"class",ns="ui toggle checkbox "+(t[41]==null?"disabled":"")),H(pc,"id","status"),uo.value=t[65],H(uo,"max",t[49]),H(uo,"class","svelte-12pnrw1"),H(Hs,"class","ui orange segment"),H(ya,"id","globepts"),H(Ti,"type","range"),H(Ti,"min",-30),H(Ti,"max",130),H(Ti,"step","0.5"),H(co,"class","ui field"),H(Ts,"type","range"),H(Ts,"min",-30),H(Ts,"max",30),H(Ts,"step","0.5"),H(Ur,"class","ui field"),H(Ze,"type","range"),H(Ze,"min",10),H(Ze,"max",100),H(Ze,"step","1"),H(Ws,"class","ui field"),H(dn,"id","infobox"),H(dn,"class","ui green inverted segment"),H(Ar,"class","ui segment"),H(va,"id","Globe"),H(va,"class","wide eight column"),cs(va,"padding","0px"),cs(va,"margin","0px"),cs(va,"border","0px solid red"),H(kn,"id","GridMap"),H(kn,"class","wide eight column"),H(Si,"class","ui two columns stackable grid"),wo(()=>t[120].call(Si)),H(li,"class","ui segment raised blue"),H(ba,"class","ui blue ribbon label"),H(Cl,"class","ui raised segment"),H($s,"class","ui blue ribbon label"),H(Fi,"class","ui stacked segment"),H(ho,"class","ui blue ribbon label"),H(xa,"class","ui button small"),H(Es,"class",po="ui label primary "+(t[26]==null?"orange placeholder loading":"green")),cs(Es,"display","inline"),H(Ui,"class","ui tall stacked segment"),H(sr,"id","testing"),cs(sr,"width","500px"),cs(sr,"height","500px"),H(i,"class","ui basic segment")},m(ne,De){R(Ay.head,e),R(Ay.head,n),vt(ne,r,De),vt(ne,i,De),Zo(s,i,null),R(i,D),R(i,F),R(F,W),R(W,G),R(G,Y),R(Y,V),R(G,ee),R(G,fe),R(fe,le),R(fe,ie),R(ie,he),R(ie,ve),R(ie,pe),R(W,Z),R(W,j),R(j,ae),R(ae,Oe),R(j,Re),R(j,Se),R(Se,Te),R(Se,Ce),R(Ce,_e),R(Ce,Be),R(Ce,we),R(Se,st),R(Se,ze),R(ze,ft),R(ze,et),R(ze,tt),R(W,wn),Xr&&Xr.m(W,null),R(W,Ht),R(W,xn),R(xn,Qn),R(Qn,$n),R(xn,at),R(xn,jt),R(jt,Vn),R(jt,er),R(er,pi),R(er,tr),R(er,Lr),R(W,Kn),R(W,mt),R(mt,an),R(an,fa),R(mt,Rr),R(mt,ha),R(W,mi),R(W,An),R(An,Qi),R(Qi,Ri),R(An,Ua),R(An,Sr),R(W,ps),R(W,Bs),R(W,da),R(W,ii),R(ii,gi),R(gi,pr),R(ii,rt),R(ii,Tr),R(W,Or),R(W,Dr),R(Dr,kr),R(kr,zs),R(kr,_s),R(kr,_i),R(Dr,es),R(Dr,ts),R(Dr,vs),R(Dr,Zn),R(Zn,pa),R(Zn,si),R(Zn,Vr),R(W,ys),R(W,Pi),R(Pi,Ni),R(Ni,Br),R(Ni,wi),R(Ni,vi),R(Pi,Kt),R(Pi,Qt),R(W,Li),R(W,zr),R(zr,ur),R(ur,pt),R(ur,ir),R(ur,Oi),R(zr,Sn),R(zr,ws),R(zr,nr),R(zr,Er),R(Er,Vt),R(Er,Yn),R(Er,ai),R(i,Fr),R(i,Ge),R(Ge,ut),R(ut,cn),R(ut,cr),R(ut,Oo),R(Ge,Do),R(Ge,Fs);for(let vr=0;vr<is.length;vr+=1)is[vr]&&is[vr].m(Fs,null);ss&&ss.m(Fs,null),R(i,fl),R(i,Bo),R(Bo,Et),R(Et,oi),Zo(fn,oi,null),R(oi,io),R(oi,Zr),R(Zr,Us),R(Us,qs),R(Us,dl),R(Zr,Bt),R(Zr,en),R(en,cu),R(en,pl),R(Zr,fc),R(Zr,xi),dt(xi,t[4]),R(Zr,gl),R(Zr,At),dt(At,t[4]),R(Zr,Di),R(Zr,_l),R(Zr,vl),R(Zr,Cr),R(Et,re),R(Et,Me),Zo(Ue,Me,null),R(Me,xt),R(Me,yt),R(yt,St),R(yt,zn),R(Me,In),R(Me,Tt),dt(Tt,t[5]),R(Me,Mn),R(Me,hn),dt(hn,t[5]),R(Me,ln),R(Me,xs),R(xs,Tn),R(xs,Ss),R(Me,yl),R(Me,ga),dt(ga,t[6]),R(Me,bl),R(Me,_a),dt(_a,t[6]),R(Me,d0),R(Me,wl),R(i,xl),R(i,li),R(li,qa),R(li,Sl),R(li,Bi),R(li,hc),R(li,Si),R(Si,va),R(va,Ar),R(Ar,ao),R(ao,dc),R(Ar,p0),R(Ar,oo),R(oo,Nn),Nn.checked=t[1],R(oo,Ha),R(oo,lo),R(Ar,m0),R(Ar,Hs),R(Hs,pc),R(Hs,kl),R(Hs,uo),R(Ar,fu),R(Ar,ya),Nl.m(ya,null),R(Ar,hu),R(Ar,co),R(co,zo),R(zo,Ga),R(zo,zi),R(co,kf),R(co,Ti),dt(Ti,t[7]),R(Ar,Ef),R(Ar,Ur),R(Ur,ui),R(ui,mc),R(ui,du),R(Ur,pu),R(Ur,Ts),dt(Ts,t[8]),R(Ar,mu),R(Ar,Ws),R(Ws,ks),R(ks,ue),R(ks,ke),R(Ws,xe),R(Ws,Ze),dt(Ze,t[9]),R(Ar,Nt),R(Ar,dn),R(Si,Pr),R(Si,kn),R(Si,gc),Zo(_r,Si,null),t[119](Si),gu=vg(Si,t[120].bind(Si)),R(i,gn),R(i,Cl),R(Cl,ba),R(Cl,Al),Zo(wa,Cl,null),R(i,Il),R(i,Fi),R(Fi,$s),R(Fi,_0),R(Fi,$a),t[123]($a),R(i,Uo),R(i,Ui),R(Ui,ho),R(Ui,v0),R(Ui,xa),R(Ui,Va),R(Ui,Es),R(Es,y0),R(Es,b0),R(Ui,Rl),Zo(rs,Ui,null),R(Ui,b),Zo(E,Ui,null),R(i,be),Zo(Ae,i,null),R(i,Gt),R(i,sr),ct=!0,jr||(Kr=[je(Us,"click",t[101]),je(xi,"input",t[102]),je(At,"change",t[103]),je(At,"input",t[103]),je(Tt,"input",t[105]),je(hn,"change",t[106]),je(hn,"input",t[106]),je(ga,"input",t[107]),je(_a,"change",t[108]),je(_a,"input",t[108]),je(wl,"click",t[67]),je(ao,"click",t[69]),je(Nn,"change",t[109]),je(Ti,"change",t[110]),je(Ti,"input",t[110]),je(Ts,"change",t[111]),je(Ts,"input",t[111]),je(Ze,"change",t[112]),je(Ze,"input",t[112]),je(xa,"click",t[124]),je(Es,"click",t[125])],jr=!0)},p(ne,De){const vr={};if(!a&&De[0]&16&&(a=!0,vr.satAngle=ne[4],Ln(()=>a=!1)),!l&&De[1]&8192&&(l=!0,vr.HideAllInspector=ne[44],Ln(()=>l=!1)),!c&&De[0]&2097152&&(c=!0,vr.MidBandTo6GHzFactor=ne[21],Ln(()=>c=!1)),!f&&De[1]&67108864&&(f=!0,vr.hasFSSPattern=ne[57],Ln(()=>f=!1)),!p&&De[0]&1073741824&&(p=!0,vr.UseFootprint=ne[30],Ln(()=>p=!1)),!m&&De[1]&1&&(m=!0,vr.factor=ne[31],Ln(()=>m=!1)),!g&&De[1]&131072&&(g=!0,vr.hasIMTgrid=ne[48],Ln(()=>g=!1)),!y&&De[1]&524288&&(y=!0,vr.Raindx=ne[50],Ln(()=>y=!1)),!w&&De[1]&1048576&&(w=!0,vr.Rbindx=ne[51],Ln(()=>w=!1)),!S&&De[0]&8&&(S=!0,vr.SatRxGain=ne[3],Ln(()=>S=!1)),!I&&De[0]&4&&(I=!0,vr.FSSNoiseTemp=ne[2],Ln(()=>I=!1)),!P&&De[1]&2048&&(P=!0,vr.EdgeMode=ne[42],Ln(()=>P=!1)),!k&&De[1]&536870912&&(k=!0,vr.orbitrange=ne[60],Ln(()=>k=!1)),!A&&De[0]&4096&&(A=!0,vr.ApplyEIRPMask=ne[12],Ln(()=>A=!1)),!C&&De[0]&2048&&(C=!0,vr.MASKOffset=ne[11],Ln(()=>C=!1)),!N&&De[0]&1048576&&(N=!0,vr.EnableLowElevationThreshold=ne[20],Ln(()=>N=!1)),s.$set(vr),(!ct||De[1]&32768)&&bt(V,ne[46]),(!ct||De[0]&32768)&&me!==(me=ne[15].toFixed(0)+"")&&bt(ve,me),(!ct||De[0]&65536)&&Ee!==(Ee=qn("4.2~s")(ne[16])+"")&&bt(Oe,Ee),(!ct||De[0]&65536)&&Ne!==(Ne=ne[16].toFixed(0)+"")&&bt(Be,Ne),(!ct||De[0]&131072)&&lt!==(lt=ne[17].toFixed(0)+"")&&bt(ft,lt),(!ct||De[0]&262144)&&kt!==(kt=ne[18].toFixed(0)+"")&&bt(tt,kt),ne[54]?Xr?Xr.p(ne,De):(Xr=uk(ne),Xr.c(),Xr.m(W,Ht)):Xr&&(Xr.d(1),Xr=null),(!ct||De[1]&65536)&&Bn!==(Bn=qn("4.2~s")(ne[47])+"")&&bt($n,Bn),(!ct||De[1]&65536)&&rr!==(rr=ne[47].toFixed(0)+"")&&bt(tr,rr),(!ct||De[0]&16384)&&Ir!==(Ir=ne[14].toFixed(1)+"")&&bt(fa,Ir),(!ct||De[0]&16384)&&Ut!==(Ut=(ne[14]-10.5).toFixed(1)+"")&&bt(Ri,Ut),(!ct||De[1]&8)&&ms!==(ms=(ne[34]==null?"???":ne[34][2].toFixed(1))+"")&&bt(pr,ms),(!ct||De[0]&16384|De[1]&16384&&gs!==(gs=(ne[45]-ne[14]>=-10.5?"red":"green")+" statistic"))&&H(ii,"class",gs),(!ct||De[1]&8)&&Pn!==(Pn=(ne[34]!=null?ne[34][0].toFixed(1):"???")+"")&&bt(_s,Pn),(!ct||De[1]&8)&&mr!==(mr=(ne[34]!=null?ne[34][1].toFixed(1):"???")+"")&&bt(si,mr),(!ct||De[0]&16384|De[1]&16384&&Wt!==(Wt="thumbs "+(ne[45]==null?"":ne[45]<ne[14]-10.5?"circle up":"circle down")+" icon"))&&H(Br,"class",Wt),(!ct||De[1]&16384)&&bs!==(bs=(ne[45]==null?"???":ne[45].toFixed(1))+"")&&bt(vi,bs),(!ct||De[0]&16384|De[1]&16384&&mn!==(mn=(ne[45]-ne[14]>=-10.5?"red":"green")+" statistic"))&&H(Pi,"class",mn),(!ct||De[1]&4)&&on!==(on=(ne[33]!=null?ne[33][0].I.toFixed(2):"???")+"")&&bt(ir,on),(!ct||De[1]&4)&&Mr!==(Mr=(ne[33]!=null?ne[33][1].I.toFixed(2):"???")+"")&&bt(Yn,Mr),(!ct||De[0]&1024)&&Ke!==(Ke=ne[10].length+"")&&bt(cr,Ke),De[0]&1024){qo=ne[10];let yi;for(yi=0;yi<qo.length;yi+=1){const Zs=lk(ne,qo,yi);is[yi]?is[yi].p(Zs,De):(is[yi]=fk(Zs),is[yi].c(),is[yi].m(Fs,null))}for(;yi<is.length;yi+=1)is[yi].d(1);is.length=qo.length,!qo.length&&ss?ss.p(ne,De):qo.length?ss&&(ss.d(1),ss=null):(ss=ck(),ss.c(),ss.m(Fs,null))}const yc={};!hl&&De[0]&134217728&&(hl=!0,yc.value=ne[27],Ln(()=>hl=!1)),fn.$set(yc),(!ct||De[0]&1073741824&&ma!==(ma="ui primary tiny button icon "+(ne[30]?"disabled":"")))&&H(Us,"class",ma),(!ct||De[0]&16)&&bt(pl,ne[4]),(!ct||De[1]&536870912&&so!==(so=ne[60][0]))&&H(xi,"min",so),(!ct||De[1]&536870912&&ml!==(ml=ne[60][1]))&&H(xi,"max",ml),De[0]&16&&Yt(xi.value)!==ne[4]&&dt(xi,ne[4]),(!ct||De[1]&536870912&&gr!==(gr=ne[60][0]))&&H(At,"min",gr),(!ct||De[1]&536870912&&Yr!==(Yr=ne[60][1]))&&H(At,"max",Yr),De[0]&16&&dt(At,ne[4]);const w0={};!$e&&De[1]&256&&($e=!0,w0.value=ne[39],Ln(()=>$e=!1)),Ue.$set(w0),(!ct||De[0]&32)&&bt(zn,ne[5]),De[0]&32&&Yt(Tt.value)!==ne[5]&&dt(Tt,ne[5]),De[0]&32&&dt(hn,ne[5]),(!ct||De[0]&64)&&bt(Ss,ne[6]),De[0]&64&&Yt(ga.value)!==ne[6]&&dt(ga,ne[6]),De[0]&64&&dt(_a,ne[6]),(!ct||De[0]&16777216&&Tl!==(Tl="ui button primary "+(ne[24]==null||ne[24].length==0?"disabled":"")))&&H(ao,"class",Tl),De[0]&2&&(Nn.checked=ne[1]),(!ct||De[1]&1024&&ns!==(ns="ui toggle checkbox "+(ne[41]==null?"disabled":"")))&&H(oo,"class",ns),(!ct||De[2]&8)&&(uo.value=ne[65]),(!ct||De[1]&262144)&&H(uo,"max",ne[49]),De[1]&134217728&&eo(Wa,Wa=ne[58])?(Nl.d(1),Nl=hk(ne),Nl.c(),Nl.m(ya,null)):Nl.p(ne,De),(!ct||De[0]&128)&&bt(zi,ne[7]),De[0]&128&&dt(Ti,ne[7]),(!ct||De[0]&256)&&bt(du,ne[8]),De[0]&256&&dt(Ts,ne[8]),(!ct||De[0]&512)&&bt(ke,ne[9]),De[0]&512&&dt(Ze,ne[9]);const Ll={};De[1]&2097152&&(Ll.reference=ne[52]),De[0]&8388608|De[1]&4194304|De[5]&1073741824&&(Ll.$$scope={dirty:De,ctx:ne}),!ci&&De[1]&512&&(ci=!0,Ll.showModal=ne[40],Ln(()=>ci=!1)),!El&&De[0]&8&&(El=!0,Ll.SatRxGain=ne[3],Ln(()=>El=!1)),!Ml&&De[0]&16&&(Ml=!0,Ll.satAngle=ne[4],Ln(()=>Ml=!1)),!fo&&De[1]&16777216&&(fo=!0,Ll.SatelliteBeam=ne[55],Ln(()=>fo=!1)),!Fo&&De[0]&536870912&&(Fo=!0,Ll.defaultFootprint=ne[29],Ln(()=>Fo=!1)),_r.$set(Ll);const as={};De[1]&512&&(as.showModal=ne[40]),De[0]&16&&(as.satAngle=ne[4]),De[0]&4096&&(as.ApplyEIRPMask=ne[12]),De[1]&2&&(as.stats=ne[32]),De[1]&1&&(as.factor=ne[31]),De[1]&524288&&(as.Raindx=ne[50]),De[1]&1048576&&(as.Rbindx=ne[51]),De[0]&16384&&(as.N0=ne[14]),De[1]&4&&(as.totalI=ne[33]),De[1]&1073741824&&(as.SatGainScale=ne[61]),De[0]&2048&&(as.MASKOffset=ne[11]),!g0&&De[1]&16&&(g0=!0,as.binnedData=ne[35],Ln(()=>g0=!1)),!Gs&&De[0]&1&&(Gs=!0,as.gainloss=ne[0],Ln(()=>Gs=!1)),wa.$set(as),(!ct||De[0]&71303168)&&_u!==(_u=(ne[26]==null?"...":ne[22].length)+"")&&bt(b0,_u),(!ct||De[0]&67108864&&po!==(po="ui label primary "+(ne[26]==null?"orange placeholder loading":"green")))&&H(Es,"class",po);const If={};!o&&De[0]&1&&(o=!0,If.gainloss=ne[0],Ln(()=>o=!1)),!h&&De[1]&1024&&(h=!0,If.exclusionzone=ne[41],Ln(()=>h=!1)),!_&&De[1]&128&&(_=!0,If.logger=ne[38],Ln(()=>_=!1)),rs.$set(If);const Sa={};!z&&De[0]&33554432&&(z=!0,Sa.countries=ne[25],Ln(()=>z=!1)),!te&&De[0]&8388608&&(te=!0,Sa.mapData=ne[23],Ln(()=>te=!1)),!de&&De[1]&128&&(de=!0,Sa.logger=ne[38],Ln(()=>de=!1)),E.$set(Sa);const x0={};!Xe&&De[1]&8192&&(Xe=!0,x0.HideAllInspector=ne[44],Ln(()=>Xe=!1)),!_t&&De[2]&4&&(_t=!0,x0.statusbox=ne[64],Ln(()=>_t=!1)),Ae.$set(x0)},i(ne){ct||(ea(s.$$.fragment,ne),ea(fn.$$.fragment,ne),ea(Ue.$$.fragment,ne),ea(_r.$$.fragment,ne),ea(wa.$$.fragment,ne),ea(rs.$$.fragment,ne),ea(E.$$.fragment,ne),ea(Ae.$$.fragment,ne),ct=!0)},o(ne){Ra(s.$$.fragment,ne),Ra(fn.$$.fragment,ne),Ra(Ue.$$.fragment,ne),Ra(_r.$$.fragment,ne),Ra(wa.$$.fragment,ne),Ra(rs.$$.fragment,ne),Ra(E.$$.fragment,ne),Ra(Ae.$$.fragment,ne),ct=!1},d(ne){ht(e),ht(n),ne&&ht(r),ne&&ht(i),t[97](null),Yo(s),Xr&&Xr.d(),Ic(is,ne),ss&&ss.d(),Yo(fn),Yo(Ue),Nl.d(ne),t[118](null),Yo(_r),t[119](null),gu(),Yo(wa),t[123](null),t[128](null),Yo(rs),t[133](null),Yo(E),t[134](null),Yo(Ae),jr=!1,al(Kr)}}}let Tde=500;function dk(t){return Math.pow(10,t/10)}function kde(t){return 10*Math.log10(t)}function Ede(t,e,n){let r,i;qc(t,qp,re=>n(80,r=re)),new q6;let s=!1,a,l,c=!1,f=650,p=20,m=129.5,g=-160,y=-30,w=50,S=0,I=100,P=new Map,k=[],A=!1,C=[32,28,24,24,20,18,17,17],N=!1,D=500,F,W,G,Y,V="",ee=0,fe=0,le=0,ie=0,he=0,me=0,ve=!1,pe=!1,Z=.6,j;const ae=wde(0,{stiffness:.1,damping:.25});qc(t,ae,re=>n(65,i=re));let Ee=1,Oe,Re,Se=new Date;nh(()=>{ha()});let Te,Ce=[],_e,Ne,Be;function we(re){var Me=p;if(tt==null)return alert("No Satellite Footprint selected"),0;var Ue=tt.beamtype;switch(Ue){case"pointgrid":let zn=tue(re,tt.features[1]);var $e;return $e=zn.properties,M0(tt[0],re)?($e.distanceToFootprint=zn.properties.distanceToPoint,$e.Gain=zn.properties.FSSRxGain,$e.Mode="INSIDE",$e):($e.distanceToFootprint=zn.properties.distanceToPoint,$e.Gain=zn.properties.FSSRxGain,$e.distanceToFootprint<100?($e.Gain=$e.Gain,$e.Mode="OUTSIDE-EDGE"):$e.distanceToFootprint<500?($e.Gain=$e.Gain-3,$e.Mode="OUTSIDE-EDGE"):($e.Gain=Me-30,$e.Mode="OUTSIDE"),$e);case"shapedbeams":var xt=tt.features[0].properties;if(M0(tt.features[0],re))return{Gain:Me,Mode:"INSIDE"};if(tt.features.length>1){var xt=tt.features[1].properties,yt=M0(tt.features[1],re);if(yt)return{Gain:Me+xt.OffsetGain,Mode:"OUTSIDE-EDGE"};var St=xt.EdgeOffsetGain||0;return{Gain:Me+St,Mode:"OUTSIDE"}}else{var St=xt.EdgeOffsetGain||0;return{Gain:Me+St,Mode:"OUTSIDE"}}}return{Gain:0,Mode:"OUTSIDE"}}let st="",ze=[],lt=!1,ft,et,kt,tt,wn={BeamLng:m,BeamLat:8,rx:47,ry:30,theta:43.5},Ht="None",xn={type:"LineString",coordinates:[Eq(na(-180,180,1),Array(360).fill(0))][0]},Qn;function Bn(){console.log("Manual Called 1"),Br()}let $n=null,at=null,jt,Vn=!1,er,pi;function rr(re){return re.append(Qo(pi)),Kn(),{destroy(){}}}async function tr(){console.log("PlotGlobe() called");let re=Fn("#Globe");re=re.node();function Me(){if(tt==null)return[];var yt=[];return yt.push(jo(tt.features[0],{stroke:"blue",strokeOpacity:Ht!="FSSGain"?.5:1,fillOpacity:.1,strokeDasharray:[5,5],pointerEvents:"none",fill:"lightblue"})),yt}let Ue=Ce.findIndex(yt=>yt.Country==Be.id)>=0,$e={color:{legend:!0,interpolate:kh,label:"Elevation"}};Ht=="None"&&($e=null),Ht=="Elevation"&&($e.color.type="linear",$e.color.scheme="rainbow",$e.color.domain=[10,90]);let xt=D$().center([w,S]).radius(I)();n(58,pi={colorOptions:$e,color:{legend:Ht=="binID",marginLeft:30,label:Ht,nice:!0},padding:20,height:400,projection:{type:"orthographic",rotate:[-w,S],domain:xt},marks:[tR(),nR(),jo(xn,{stroke:"grey",strokeDasharray:[3,5]}),_e==null?null:jo(_e,{fill:(yt,St)=>Ht=="None"?yt.properties.selected?"yellow":"lightgrey":"none",fillOpacity:.3,stroke:yt=>ze.includes(yt.properties.UNRegion)?yt.properties.hasIMTgrid?"orange":"lightgreen":"lightgrey",ariaDescription:"worldmap",pointerEvents:"fill",title:yt=>{let St=yt.properties.NAMEen+" - "+yt.properties.UNRegion;return yt.properties.selected?"DeSELECT "+St:"Select "+St}}),l==null||!c?null:jo(l,{stroke:"yellow",fillOpacity:.5,fill:"red"}),Ne==null?null:jo(Ne,{stroke:"lightgrey"}),j==null?null:jo(j,{stroke:"lightgrey",strokeOpacity:.1,pointerEvents:"none",fill:yt=>{if(Ht=="binID")return yt.properties.binID;var St=zs(yt,Ht).color;return yt.properties.Active?St:"black"},fillOpacity:1}),...Me(),Ue?jo(Be,{stroke:"lightgrey",strokeOpacity:1,fillOpacity:1,pointerEvents:"none",fill:"none"}):null,!Vn&&wn!=null?IQ([0],{x:wn.BeamLng,y:wn.BeamLat,fill:"red"}):null,n_([m],{x:m,y:0,fontSize:"2em",fill:"red",textAnchor:"start",alignmentBaseline:"top",text:yt=>"🛰️"}),n_([m],{x:m,y:0,dy:40,fontSize:"1em",fill:"red",textAnchor:"start",alignmentBaseline:"bottom",text:yt=>yt+"°E"})]})}let Lr=!1;async function Kn(){kt=Fn("#globepts>div>svg"),console.log("Found my plot ",kt.selectAll("g[aria-description='worldmap']").empty()),kt.selectAll("g[aria-description='worldmap']").attr("pointer-events","all").selectAll("path").datum(re=>({indx:re,selected:_e[re].properties.selected,Country:_e[re].properties.NAMEen,UNRegion:_e[re].properties.UNRegion})).attr("fill",re=>re.selected?"yellow":"white").on("click",async(re,Me)=>{if(Lr){console.log("Need to abort.."),Fn("#infobox").text(),Fn("#infobox").attr("style","color:red").text("Wait till process to complete");let Ue=Fn(re.target).attr("fill");console.log("Original color was ",Ue),Fn(re.target).attr("fill","red").transition().duration(1e3).attr("fill",Ue);return}if(!ze.includes(Me.UNRegion)){Fn("#status").text("Country Not allowed !! "+Me.Country,"in Region ",Me.UNRegion),console.log("Not allowed."+Me.NAMEen);return}Me.selected=!Me.selected,n(52,_e[Me.indx].properties.selected=Me.selected,_e),Fn(re.target).transition().duration(1e3).attr("fill",Me.selected?"yellow":"none"),an(Me.Country,Me.selected)})}async function mt(){let re=Ce.map(Me=>Me.Country);Lr=!0,fa.postMessage({command:"updateGrid",data:{countries:re,EdgeMode:A}})}async function an(re,Me){P.clear(),n(10,k.length=0,k);let Ue=_e.filter(xt=>xt.properties.NAMEen==re)[0];if(Me){var $e={Country:re,Region:"",selected:Me,mapGridIndx:-1};Ce.push($e),n(24,Ce),n(80,r),Ue.properties.hasIMTgrid&&n(54,lt=!0)}else{if(n(24,Ce=Ce.filter(xt=>xt.Country!=re)),Ue.properties.hasIMTgrid&&n(54,lt=!1),et==null)return;if(n(26,et.features=et.features.filter(xt=>xt.properties.Country!=re&&xt.properties.Country!=""),et),et.features.length>0){let xt=0;et.features.forEach(yt=>{yt.properties.id=xt,xt++}),n(24,Ce=Ce.filter(yt=>yt.Country!=re))}n(24,Ce=Ce.filter(xt=>xt.Country!=re)),Fn("#infobox").text("Removed "+re),Ir()}}async function Ir(){et!=null&&et.features.length>0?(n(22,j=et.features.filter(re=>{let Me=re.properties.inLand;return c&&(Me=Me&&!M0(l,re.properties.center)),Me})),n(24,Ce),n(80,r),n(59,ps=fr(j,re=>re.properties.SectorCount)),n(76,mi=qn("2.3s")(fr(j.map(re=>B1(re)))/1e6)+" sqkm"),Fn("#infobox").attr("style","color:blue").html(Ce.map(re=>re.Country).join(" , ")+`  : ${mi} : ${tt.name||""}+ IbyN = ${(Tr||0).toFixed(1)} FootPrintArea : ${Qn} sqkm`)):(n(22,j=[]),console.log(" must be empty",et)),console.log("updateMyGrid() Completed.. Can render ..."),Br()}let fa,Rr="";async function ha(){fa=new Worker(new URL("/assets/webworker-3c5705d6.js",self.location),{type:"module"}),console.log("syncWorker is ready"),fa.onmessage=re=>{var Me=re.data||{type:"general"};switch(Me.meta,Me.type){case"command":Rr=Me.command+" - "+Me.statusType,console.log("Received COMMAND response",Me),Me.command=="updateGrid"&&(Fn("#status").text(Rr).transition().duration(5e3).attr("style","background-color:white").text(Me.statusType),console.log("Status message for updateGrid",Rr,Me),n(26,et=Me.result),Lr=!1,Ir());break;case"status":Lr=!0,Me.statusType=="progressbar"?(Rr=`Creating Grid -  ${Me.val} of ${Me.count} (${Me.meta})`,n(49,Ee=Me.count),ae.set(Me.val),Fn("#status").attr("style","background-color:yellow").text(Rr)):(Rr=Me.command+" - "+Me.statusType,Fn("#status").attr("style","background-color:white").text(Me.command+" "+Me.meta||" "+Me.statusType));break;default:console.log("Some message from WORKER ",Me)}}}let mi,An;function Qi(){P.clear(),n(10,k=[]),An.forEach(re=>{let Me=P.get(re.Country)||{area:0,ActivityFactor:1},Ue=Me.area+re.areasqkm;P.set(re.Country,{area:Ue,ActivityFactor:Me.ActivityFactor})}),P.forEach((re,Me)=>{k.push({Country:Me,Object:re,stats:ms(re)})})}let Ut,Ri=10/12.4;async function Ua(re,Me,Ue){Zn!=null?Zn.queueNode(re,Me,Ue):console.log("Processing ",re,Me)}let Sr,ps=0,Bs=[10,140],da=Yf([10,90],kh);function ii(re){var Me=a.find(Ue=>Ue.el==re);return Me!=null?Me.CL+Me.GL+Me.PL:0}function gi(re){var Me=a.find($e=>$e.el==re);if(Me==null)return{UrbanAg:0,SubUrbanAg:0};var Ue={UrbanAg:Me.UrbanAg,SubUrbanAg:Me.SubUrbanAg};return Ue.UrbanAg+=N?Me.UrbanOffset:0,Ue.SubUrbanAg+=N?Me.SubUrbanOffset:0,Ue}function ms(re){let Me=re.area,Ue=Math.round(Me*Ut.Urban.Ra*Ut.Urban.Rb*Ut.Urban.BSdensity*re.ActivityFactor),$e=Math.round(Me*Ut.SubUrban.Ra*Ut.SubUrban.Rb*Ut.SubUrban.BSdensity*re.ActivityFactor),xt=Ue+$e;return Math.round(xt*Ut.NW*Ut.TDD),{UrbanBS:Ue,SubUrbanBS:$e,TotalBS:xt,totalActiveBS:Math.round(xt*Ut.NW*Ut.TDD)}}let pr,rt,Tr,gs=Yf([g,y],Zg),Or,Dr=_p([!0,!1],["green","lightgreen"]),kr;function zs(re,Me){let Ue=ju("lightblue"),$e=Me,xt,yt;switch($e){case"None":return Ue.opacity=.5,yt=re.properties.inLand,{color:yt?Ue:"white",val:yt};case"Elevation":xt=re.properties.center;let St=ak(xt[1],xt[0],m);return Ue=da(St),{color:Ue,val:St};case"FSSGain":xt=re.properties.center;let zn=we(xt);return Ue=kr(zn.Gain),zn.Mode=="OUTSIDE"&&(Ue=ju("grey")),Ue=re.properties.Active?Ue:"white",yt=re.properties.Active,{color:Ue,val:zn.Gain};case"IbyN":let In=Sr[re.properties.binID],Tt=-200;return In!=null&&(Tt=In.suburbandB+gi(In.x).SubUrbanAg-ii(In.x)-Y),{color:gs(Tt),val:Tt};case"Country":return{color:Or(re.properties.Country),val:re.properties.Country}}}let Pn,_s=[],_i=400,es,ts=null,vs=null,Zn=null;async function pa(){ts.showGainLoss(vs,m)}let mr,si,Vr,ys,Pi;async function Ni(){if(W==null)return;let re=Fn(W).select("div#TopoGridMap");if(re.empty()){re=Fn(W).append("div"),re.attr("id","TopoGridMap").attr("class","wide four column segment ").attr("style","border:1px solid orange ;width:100%;height:100%"),W.append(re.node()),console.log("maindiv",re.empty());let Mn=re.append("div").attr("style","width:500px;height:500px;fill:'red'");mr=Ca.map(Mn.node(),{});var Me=Ca.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"});Ca.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France"});var Ue=Ca.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'});let hn=Ca.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}).addTo(mr);var $e={layers:"gpw-v4:gpw-v4-population-density-rev11_2020"},xt=Ca.tileLayer.wms("https://sedac.ciesin.columbia.edu/geoserver/wms",$e);Ca.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Ca.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}),si=Ca.marker({lng:m,lat:0},{icon:Ca.icon({iconUrl:bde,iconSize:[32,32]})}),si.addTo(mr);var yt={OpenStreetMap:Me,OpenStreetMapHOT:Ue,GoogleMap:hn,wmsLayer:xt},St={SatelliteGrid:si};Vr!=null&&(St.Analsysis=Vr),Pi=Ca.control.layers(yt).addTo(mr)}let zn=_e==null?[]:_e.filter(Mn=>Ce.some(hn=>hn.Country==Mn.properties.NAMEen));zn.length==0||j0(zn),zn.length>0||mr.setView([0,m],2);const Tt=gp({point:function(Mn,hn){const ln=mr.latLngToLayerPoint(new Ca.LatLng(hn,Mn));this.stream.point(ln.x,ln.y)}});xh().projection(Tt),si.setLatLng({lng:m,lat:0}),ys!=null&&(mr.removeLayer(ys),Pi.removeLayer(ys)),c&&l!=null&&(ys=Ca.geoJson(l,{fillColor:"grey",fillOpacity:.6,weight:4,opacity:.7}).addTo(mr)),j!=null&&(Vr!=null&&(mr.removeLayer(Vr),Pi.removeLayer(Vr)),Vr=Ca.geoJson(j,{fillColor:"none",weight:4,opacity:.7,style:Mn=>{if(Wt=="IMT Cell Grid"){let hn=M0(tt.features[0],Mn.properties.center);return{color:Dr(hn)}}else return{color:zs(Mn,Wt).color}}}).bindPopup(Mn=>Mn.feature.properties.Country).addTo(mr),j!=null&&j.length>0&&mr.fitBounds(Vr.getBounds()))}async function Br(){if(console.log("PlotMap() called"),Fn("#GridMap").empty()||Fn("#legendbox").empty())return;let re=Fn("#GridMap");_i=400;let Me=Math.max(D/2,400)-50,Ue=re.select("svg#svggrid").attr("width",Me).attr("height",_i).attr("viewBox",[0,0,Me,_i].join(","));Ue.text("");let $e=_e==null?[]:_e.filter(Tt=>Ce.some(Mn=>Mn.Country==Tt.properties.NAMEen)),xt=$e.length==0?void 0:j0($e),yt=Fn("#legendbox").node();if(yt.innerHTML="",yt.appendChild(document.createElement("div")),Wt=="IMT Cell Grid"&&xt!=null&&yt.appendChild(Rd(Dr,{title:"Covered by Satellite Footprint",width:800})),Wt=="FSSGain"&&yt.appendChild(Rd(kr,{title:"Satellite Rx Gain (dBi)",nice:!0,width:800,marginLeft:0})),Wt=="IbyN"&&yt.appendChild(Rd(gs,{title:"IbyN of a Cell (dB)",nice:!0,width:800,marginLeft:0})),Wt=="Elevation"&&yt.appendChild(Rd(da,{title:"Elevation "+m+" E °",tickFormat:Tt=>Tt+"°",width:800})),Wt=="Country"){let Tt=Rd(Or,{title:"Country "+m+" E °",width:800});yt.appendChild(Tt)}Ue.append("g").append("rect").attr("x",10).attr("y",10).attr("stroke","lightgrey").attr("width",Me-10).attr("height",_i-10).attr("fill","none").attr("fillopacity",.5),_e==null&&Ue.append("text").text("No Map loaded... yet").attr("transform","translate(50 50)");let St=JE(),zn;_e!=null&&(zn=j0(Q1(_e,Tt=>ze.includes(Tt.properties.UNRegion))),St.fitExtent([[10,10],[Me-10,_i-10]],zn));let In=xh(St).pointRadius(1);if(xt==null?Ue.append("text").text("No Country selected").attr("transform","translate(50 150)"):St.fitExtent([[50,50],[Tde-50,_i-50]],eue(xt)),isNaN(St([0,0])[0])){console.log("Testing path generator ",St([0,0]));return}Ue.append("g").append("path").datum(PE()()).attr("d",In).attr("stroke","lightgrey"),zn!=null&&Ue.append("g").selectAll("path").data([zn]).join("path").attr("pointer-events","none").attr("fill","lightgrey").attr("stroke","lightgreen").attr("stroke-opacity",1).attr("fill-opacity",.1).attr("d",In),xt==null?console.log("PlotMap skipping IMTcountriesFeatures ",xt==null):Ue.append("path").datum(xt).attr("pointer-events","none").attr("stroke","grey").attr("stroke-width",1).attr("fill",Wt=="IMT Cell Grid"?"lightgreen":"none").attr("fill-opacity",.1).attr("d",In),j!=null&&Ue.append("g").attr("id","elevationgrid").selectAll("path").data(j).join("path").attr("stroke","grey").attr("stroke-opacity",1).attr("fill-opacity",.6).attr("fill",Tt=>{if(Wt=="IMT Cell Grid"){let Mn=M0(tt.features[0],Tt.properties.center);return Dr(Mn)}else{let Mn=zs(Tt,Wt);return Tt.properties.gain=Mn.val,Mn.color}}).attr("d",In).append("title").text(Tt=>{if(Wt=="IbyN"){var Mn=Sr[Tt.properties.binID],hn="";return Mn!=null&&(hn=Mn.suburbandB+gi(Mn.x).SubUrbanAg-ii(Mn.x)-Y,hn=hn.toFixed(1)+"dB"),hn}if(Wt=="IMT Cell Grid")return M0(tt.features[0],Tt.properties.center)?"in Footprint":"outside Footprint";if(Wt=="Country")return Tt.properties.Country;var ln=zs(Tt,Wt);return ln.val.toFixed(1)}),Ne!=null&&Ne.features!=null&&(Ue.append("g").selectAll("path").data(Ne.features).join("path").attr("pointer-events","none").attr("stroke","orange").attr("stroke-width",1).attr("fill","orange").attr("fill-opacity",.05).attr("d",In).append("title").text(Tt=>Tt.properties.StateName),Ue.append("g").selectAll("dot").data(Ne.features).join("circle").attr("pointer-events","auto").attr("fill","orange").attr("r",2).attr("transform",Tt=>{let Mn=KN(Tt).geometry.coordinates;return`translate(${St(Mn).join(" ")})`}).append("title").text(Tt=>Tt.properties.StateName)),tt!=null&&Ue.append("g").selectAll("path").data([tt]).join("path").attr("pointer-events","none").attr("fill","none").attr("stroke","orange").attr("stroke-width",1).attr("stroke-dasharray","0").attr("d",In).transition().duration(1e3).attr("stroke-dasharray","5 5"),Ue.append("g").append("text").attr("fill","red").text("🛰️").attr("transform",()=>{var Tt=St([m,0]).join(" ");return`translate(${Tt})`}),Ue.append("g").append("text").attr("fill","red").text(`Elevation ${m}E°`).attr("x",20).attr("y",20),Ue.append("g").attr("id",tt.type).selectAll("path").data([tt.features[0]]).join("path").attr("pointer-events","none").attr("d",In).attr("fill","lightgrey").attr("fill-opacity",.1).attr("stroke-dasharray",[4,4]).attr("stroke","orange"),Ue.append("g").attr("id","g-info").append("text").text(`IbyN : ${(Tr||0).toFixed(1)}dB`).attr("transform","translate(10 40)")}let Wt="IMT Cell Grid",wi,bs;function vi(re){m=re,n(4,m)}function Kt(re){F=re,n(44,F)}function Qt(re){Z=re,n(21,Z)}function mn(re){Vn=re,n(57,Vn),n(23,Te)}function Li(re){er=re,n(30,er)}function zr(re){Ut=re,n(31,Ut)}function ur(re){pe=re,n(48,pe),n(23,Te),n(72,Be),n(80,r)}function pt(re){Oe=re,n(50,Oe)}function on(re){Re=re,n(51,Re)}function ir(re){p=re,n(3,p)}function Oi(re){f=re,n(2,f)}function Sn(re){A=re,n(42,A)}function ws(re){Bs=re,n(60,Bs)}function nr(re){N=re,n(12,N)}function Er(re){C=re,n(11,C)}function Vt(re){ve=re,n(20,ve)}function Mr(re){Lt[re?"unshift":"push"](()=>{at=re,n(56,at)})}function Yn(re){k[re].Object.ActivityFactor=Yt(this.value),n(10,k)}function ai(re){k[re].Object.ActivityFactor=Yt(this.value),n(10,k)}function Fr(re){Ht=re,n(27,Ht)}const Ge=()=>n(40,s=!0);function ut(){m=Yt(this.value),n(4,m)}function cn(){m=Yt(this.value),n(4,m)}function Ke(re){Wt=re,n(39,Wt)}function cr(){g=Yt(this.value),n(5,g)}function Oo(){g=Yt(this.value),n(5,g)}function Do(){y=Yt(this.value),n(6,y)}function Fs(){y=Yt(this.value),n(6,y)}function fl(){c=this.checked,n(1,c)}function Bo(){w=Yt(this.value),n(7,w)}function Et(){S=Yt(this.value),n(8,S)}function oi(){I=Yt(this.value),n(9,I)}function fn(re){s=re,n(40,s)}function hl(re){p=re,n(3,p)}function io(re){m=re,n(4,m)}function Zr(re){wn=re,n(55,wn),n(23,Te),n(72,Be),n(30,er),n(28,$n),n(4,m)}function Us(re){jt=re,n(29,jt)}function qs(re){Lt[re?"unshift":"push"](()=>{$n=re,n(28,$n)})}function dl(re){Lt[re?"unshift":"push"](()=>{W=re,n(13,W)})}function ma(){es=this.clientHeight,D=this.clientWidth,n(62,es),n(43,D)}function Bt(re){Pn=re,n(35,Pn),n(77,An),n(24,Ce),n(10,k),n(79,_s),n(12,N),n(156,P),n(26,et),n(21,Z),n(15,ee),n(22,j),n(74,tt),n(3,p),n(4,m),n(19,me),n(80,r),n(30,er),n(23,Te),n(29,jt),n(20,ve)}function en(re){a=re,n(0,a)}function cu(re){Lt[re?"unshift":"push"](()=>{vs=re,n(37,vs)})}const pl=()=>{wi!=null&&wi.loadFiles()},fc=()=>{console.log("loading ..",j),Zn.queueNode("selectGrid",j,{type:"json"})};function xi(re){a=re,n(0,a)}function so(re){l=re,n(41,l)}function ml(re){Lt[re?"unshift":"push"](()=>{ts=re,n(36,ts)})}function gl(re){Zn=re,n(38,Zn)}function At(re){ft=re,n(25,ft)}function gr(re){Te=re,n(23,Te)}function Yr(re){Zn=re,n(38,Zn)}function Di(re){Lt[re?"unshift":"push"](()=>{wi=re,n(63,wi)})}function _l(re){Lt[re?"unshift":"push"](()=>{Zn=re,n(38,Zn)})}function vl(re){F=re,n(44,F)}function Cr(re){bs=re,n(64,bs)}t.$$.update=()=>{if(t.$$.dirty[0]&1048576&&n(19,me=ve?0:10),t.$$.dirty[0]&6145|t.$$.dirty[1]&32&&ts!=null&&N&&(console.log("It changed ",C,a),a!=null&&ts.updateEIRPmask(C)),t.$$.dirty[2]&512&&Se.toLocaleString(void 0,{hour:"numeric",minute:"numeric",second:"numeric"}),t.$$.dirty[0]&8388608|t.$$.dirty[1]&128|t.$$.dirty[2]&2048&&Te!=null&&(n(73,ze=Te.visibleRegion),Zn!=null&&Zn.queueNode("visibleRegion",ze)),t.$$.dirty[0]&8388608|t.$$.dirty[2]&1024&&Te!=null&&(n(72,Be=Te.IMTMap),Te.footprintbeam!=null&&n(55,wn=Te.footprintbeam),Ne=Te.FocusCountry,Be.properties!=null?(n(48,pe=!0),n(53,st=Be.id)):n(48,pe=!1)),t.$$.dirty[0]&8388608&&Te!=null&&Te.GlobalMap!=null&&n(52,_e=Te.GlobalMap),t.$$.dirty[0]&1082130432&&er&&Te.FSSMap!=null&&(n(74,tt=Te.FSSMap),tr(),console.log("Auto Called 2"),Br()),t.$$.dirty[0]&1610612736&&(er||jt!=null&&(n(74,tt=jt),console.log("Auto Called 2a"),tr(),Br())),t.$$.dirty[1]&128|t.$$.dirty[2]&4096&&Zn!=null&&Zn.queueNode("SatelliteFootprints",tt),t.$$.dirty[0]&8388608&&Te!=null&&Te.FSSMap!=null&&n(57,Vn=!0),t.$$.dirty[2]&262144&&(console.log("current Profile changed ",r),n(26,et=void 0),n(58,pi=void 0),n(22,j=void 0),n(24,Ce=[]),n(48,pe=!1),Ir()),t.$$.dirty[0]&1342177296&&!er&&$n!=null&&(n(55,wn.BeamLng=m,wn),$n.update()),t.$$.dirty[0]&6144|t.$$.dirty[1]&256&&Wt!=null&&Br(),t.$$.dirty[0]&134226842&&W!=null&&(console.log("Auto Called 3"),tr(),Br()),t.$$.dirty[0]&4718616|t.$$.dirty[2]&36864){e:if(j!=null&&tt!=null){let re=[];if(j.length==0){n(77,An=[]),n(77,An.AntennaName=tt.name,An);break e}re.AntennaName=tt.name;let Me=j[0].geometry.type;j.forEach(Ue=>{let $e=[];Me!="point"?$e=Ue.properties.center:$e=Ue.geometry.coordinates;let xt=ak($e[1],$e[0],m);if(xt>=me){let yt=yde($e[1],$e[0],m),St=B1(Ue)/1e6,zn=we($e);re.push({az:yt,el:xt,areasqkm:St,SatGain:zn.Gain,Mode:zn.Mode,RaRb:Ue.properties.RaRb,id:Ue.properties.id,Country:Ue.properties.Country,ActivityFactor:Ue.properties.ActiveFactor})}}),n(77,An=re),Ua("gridElangles",An)}}if(t.$$.dirty[2]&32768&&An!=null){let re=Os(An,Me=>Me.el);n(79,_s=na(Math.floor(re[0]),Math.ceil(re[1])))}if(t.$$.dirty[0]&86021120|t.$$.dirty[1]&16|t.$$.dirty[2]&163840&&An!=null&&Ce!=null&&Ce.length>=0){let Me=Ck().thresholds(_s).value(Ue=>Ue.el)(An);n(35,Pn=Mq(Me,(Ue,$e)=>{Ue.forEach(ln=>{n(26,et.features[ln.id].properties.binID=$e,et)});let xt=fr(Ue,ln=>{let xs=P.get(ln.Country),Tn=xs==null?ln.ActivityFactor:xs.ActivityFactor,yl=ln.RaRb?1:0;return ln.areasqkm*yl*Tn}),yt=fr(Ue,ln=>{let Tn=ln.RaRb?1:0;return ln.areasqkm*Tn}),St=fr(Ue,ln=>{let Tn=ln.RaRb?0:1;return ln.areasqkm*Tn}),zn=fr(Ue,ln=>{if(!ln.RaRb)return et.features[ln.id].properties.SectorCount*Z}),In=up(Ue,ln=>ln.el),Tt=Os(Ue,ln=>ln.az),Mn=Co(Ue,ln=>ln.SatGain),hn=10*Math.log10(up(Ue,ln=>Math.pow(10,ln.SatGain/10)));return{x:Math.floor((Ue.x0+Ue.x1)/2),x0:Ue.x0,x1:Ue.x1,azExtents:Tt,count:Ue.length,meanangle:In,totalIMTBS:zn,totalareasqkmTrue:yt,totalareasqkm:xt,totalIMTareasqkm:St,maxRxGain:Mn,meanRxGain:hn}})),Ua("binnedData",Pn,{type:"csv"}),n(15,ee=fr(Pn,Ue=>Ue.totalareasqkmTrue+Ue.totalIMTareasqkm)),n(46,V=qn("2.3~s")(ee))}if(t.$$.dirty[0]&4096|t.$$.dirty[1]&17&&Pn!=null){let Ue=24-3;n(32,Sr=Pn.map(($e,xt)=>({...$e,urbandB_BS:10*Math.log10($e.totalareasqkm*Ut.uScale+$e.totalIMTBS*Ut.NW*Ut.TDD*Ri),suburbandB_BS:10*Math.log10($e.totalareasqkm*Ut.suScale+$e.totalIMTBS*Ut.NW*Ut.TDD*(1-Ri)),urbandB:10*Math.log10($e.totalareasqkm*Ut.uScale+$e.totalIMTBS*Ut.NW*Ut.TDD*Ri)+Ue+$e.meanRxGain,suburbandB:10*Math.log10($e.totalareasqkm*Ut.suScale+$e.totalIMTBS*Ut.NW*Ut.TDD*(1-Ri))+Ue+$e.meanRxGain,Factor:Ue})))}if(t.$$.dirty[1]&130&&Zn!=null&&Zn.queueNode("stats",Sr),t.$$.dirty[0]&1073741824|t.$$.dirty[2]&4096&&tt!=null&&n(75,Qn=qn("2.1s")(B1(tt.features[0])/1e6)),t.$$.dirty[0]&4&&n(14,Y=10*Math.log10(138e-25*f)+60+30),t.$$.dirty[0]&20499|t.$$.dirty[1]&14){e:if(a!=null){if(Sr==null){n(33,pr=[{Env:"red",I:-200,Name:"Urban"},{Env:"grey",I:-200,Name:"SubUrban"},{Env:"total",I:-200,Name:"Total"}]);break e}let re=10*Math.log10(fr(Q1(Sr,$e=>isFinite($e.urbandB)),$e=>Math.pow(10,($e.urbandB+gi($e.x).UrbanAg-ii($e.x))/10))),Me=10*Math.log10(fr(Q1(Sr,$e=>isFinite($e.suburbandB)),$e=>Math.pow(10,($e.suburbandB+gi($e.x).SubUrbanAg-ii($e.x))/10))),Ue=10*Math.log10(fr([re,Me],$e=>Math.pow(10,$e/10)));n(33,pr=[{Env:"red",I:re,Name:"Urban"},{Env:"grey",I:Me,Name:"SubUrban"},{Env:"total",I:Ue,Name:"Total"}]),n(34,rt=pr.map($e=>$e.I-Y)),n(78,Tr=rt[2]),n(45,G=kde(dk(pr[0].I)+dk(pr[1].I)))}}if(t.$$.dirty[0]&16777216|t.$$.dirty[2]&126976&&An!=null){n(75,Qn=qn("2.1s")(B1(tt.features[0])/1e6));let re=`${tt.name||""} + FootPrintArea : ${Qn} sqkm`;Ce.length>0&&(re=`Countries : (${Ce.length}) ${mi} : `+Ce.map(Me=>Me.Country).join(" , ")+`  <br>${tt.name||""} FootPrintArea : ${Qn} sqkm <br> IbyN = ${(Tr||0).toFixed(1)} dB `),Fn("#infobox").attr("style","color:blue").html(re)}if(t.$$.dirty[0]&2&&Ir(),t.$$.dirty[2]&32768&&An!=null&&Qi(),t.$$.dirty[0]&1024&&k.forEach(re=>{re.stats=ms(re.Object),P.set(re.Country,re.Object)}),t.$$.dirty[1]&1&&Ua("factor",Ut,{type:"json"}),t.$$.dirty[0]&458754|t.$$.dirty[1]&17&&Pn!=null&&(n(17,le=fr(Pn,re=>re.totalareasqkm)*Ut.Urban.Ra*Ut.Urban.Rb*Ut.Urban.BSdensity+fr(Pn,re=>re.totalIMTBS)*Ri),n(18,ie=fr(Pn,re=>re.totalareasqkm)*Ut.SubUrban.Ra*Ut.SubUrban.Rb*Ut.SubUrban.BSdensity+fr(Pn,re=>re.totalIMTBS)*(1-Ri)),n(16,fe=le+ie),fr(Pn,re=>re.totalIMTBS),n(47,he=fe*Ut.NW*Ut.TDD)),t.$$.dirty[0]&96|t.$$.dirty[1]&256&&(gs=Yf([g,y],Zg),Wt=="IbyN"&&Br()),t.$$.dirty[0]&16777216){let re=Ce.map(Me=>Me.Country);Or=_p(re,Da(n5,re.length))}if(t.$$.dirty[0]&8|t.$$.dirty[2]&4096&&tt!=null){if(tt.beamtype=="pointgrid"){let re=tt.features[1],Me=Os(re.features,Ue=>Ue.properties.FSSRxGain);Me[0]=Math.min(Me[0],p),n(61,kr=Yf(Me,Yg).nice().clamp(!0))}if(tt.beamtype=="shapedbeams"){let re=[tt.features[0].properties.FSSRxGain-5,tt.features[0].properties.FSSRxGain+3];n(61,kr=Yf(re,Yg).nice().clamp(!0))}}t.$$.dirty[0]&1|t.$$.dirty[1]&96&&ts!=null&&vs!=null&&a!=null&&pa(),t.$$.dirty[0]&134217728&&tr(),t.$$.dirty[0]&4194322|t.$$.dirty[1]&256&&Ni()},setInterval(()=>{n(71,Se=new Date)},1e3);{let re=100,Me=0;BQ([{x:0,y:1},{x:1,y:4},{x:2,y:2},{x:3,y:5},{x:4,y:6},{x:5,y:45}],{x:"x"})}return[a,c,f,p,m,g,y,w,S,I,k,C,N,W,Y,ee,fe,le,ie,me,ve,Z,j,Te,Ce,ft,et,Ht,$n,jt,er,Ut,Sr,pr,rt,Pn,ts,vs,Zn,Wt,s,l,A,D,F,G,V,he,pe,Ee,Oe,Re,_e,st,lt,wn,at,Vn,pi,ps,Bs,kr,es,wi,bs,i,ae,Bn,rr,mt,da,Se,Be,ze,tt,Qn,mi,An,Tr,_s,r,vi,Kt,Qt,mn,Li,zr,ur,pt,on,ir,Oi,Sn,ws,nr,Er,Vt,Mr,Yn,ai,Fr,Ge,ut,cn,Ke,cr,Oo,Do,Fs,fl,Bo,Et,oi,fn,hl,io,Zr,Us,qs,dl,ma,Bt,en,cu,pl,fc,xi,so,ml,gl,At,gr,Yr,Di,_l,vl,Cr]}class Mde extends sc{constructor(e){super(),ic(this,e,Ede,Sde,eo,{},null,[-1,-1,-1,-1,-1,-1])}}function Cde(t){return console.log("Rendering called",t),t==null?void 0:new Mde({target:t})}Cde(document.getElementById("app"));
