var kU=Object.defineProperty;var EU=(t,e,n)=>e in t?kU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zs=(t,e,n)=>(EU(t,typeof e!="symbol"?e+"":e,n),n),MU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Wv=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var n1=(t,e,n)=>(MU(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function In(){}function Xd(t,e){for(const n in e)t[n]=e[n];return t}function CU(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function QT(t){return t()}function I8(){return Object.create(null)}function tl(t){t.forEach(QT)}function h3(t){return typeof t=="function"}function Va(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function AU(t){return Object.keys(t).length===0}function ek(t,...e){if(t==null)return In;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function IU(t){let e;return ek(t,n=>e=n)(),e}function Pc(t,e,n){t.$$.on_destroy.push(ek(e,n))}function py(t,e,n,r){if(t){const i=tk(t,e,n,r);return t[0](i)}}function tk(t,e,n,r){return t[1]&&r?Xd(n.ctx.slice(),t[1](r(e))):n.ctx}function my(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function gy(t,e,n,r,i,s){if(i){const a=tk(e,n,r,s);t.p(a,i)}}function _y(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function RU(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function R8(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function d3(t){return t&&h3(t.destroy)?t.destroy:In}const nk=typeof window<"u";let P8=nk?()=>window.performance.now():()=>Date.now(),rk=nk?t=>requestAnimationFrame(t):In;const Vf=new Set;function ik(t){Vf.forEach(e=>{e.c(t)||(Vf.delete(e),e.f())}),Vf.size!==0&&rk(ik)}function PU(t){let e;return Vf.size===0&&rk(ik),{promise:new Promise(n=>{Vf.add(e={c:t,f:n})}),abort(){Vf.delete(e)}}}function N(t,e){t.appendChild(e)}function _t(t,e,n){t.insertBefore(e,n||null)}function ft(t){t.parentNode&&t.parentNode.removeChild(t)}function wc(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Q(t){return document.createElement(t)}function Le(t){return document.createTextNode(t)}function ve(){return Le(" ")}function D_(){return Le("")}function et(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function NU(t){return function(e){e.target===this&&t.call(this,e)}}function G(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const LU=["width","height"];function cg(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&LU.indexOf(r)===-1?t[r]=e[r]:G(t,r,e[r])}function OU(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function Yt(t){return t===""?null:+t}function DU(t){return Array.from(t.childNodes)}function wt(t,e){e=""+e,t.data!==e&&(t.data=e)}function ht(t,e){t.value=e??""}function ms(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Sl(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Td(t){const e=t.querySelector(":checked");return e&&e.__value}let r1;function BU(){if(r1===void 0){r1=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{r1=!0}}return r1}function fg(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=Q("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=BU();let s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=et(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=et(r.contentWindow,"resize",e),e()}),N(t,r),()=>{(i||s&&r.contentWindow)&&s(),ft(r)}}let Jd;function Iu(t){Jd=t}function sk(){if(!Jd)throw new Error("Function called outside component initialization");return Jd}function Zf(t){sk().$$.on_mount.push(t)}const zf=[],Rt=[];let Yf=[];const vy=[],zU=Promise.resolve();let yy=!1;function FU(){yy||(yy=!0,zU.then(p3))}function po(t){Yf.push(t)}function Bn(t){vy.push(t)}const Gv=new Set;let Mf=0;function p3(){if(Mf!==0)return;const t=Jd;do{try{for(;Mf<zf.length;){const e=zf[Mf];Mf++,Iu(e),UU(e.$$)}}catch(e){throw zf.length=0,Mf=0,e}for(Iu(null),zf.length=0,Mf=0;Rt.length;)Rt.pop()();for(let e=0;e<Yf.length;e+=1){const n=Yf[e];Gv.has(n)||(Gv.add(n),n())}Yf.length=0}while(zf.length);for(;vy.length;)vy.pop()();yy=!1,Gv.clear(),Iu(t)}function UU(t){if(t.fragment!==null){t.update(),tl(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(po)}}function qU(t){const e=[],n=[];Yf.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Yf=e}const $1=new Set;let T0;function HU(){T0={r:0,c:[],p:T0}}function WU(){T0.r||tl(T0.c),T0=T0.p}function qs(t,e){t&&t.i&&($1.delete(t),t.i(e))}function ya(t,e,n,r){if(t&&t.o){if($1.has(t))return;$1.add(t),T0.c.push(()=>{$1.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function N8(t,e){const n=e.token={};function r(i,s,a,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;a!==void 0&&(c=c.slice(),c[a]=l);const f=i&&(e.current=i)(c);let p=!1;e.block&&(e.blocks?e.blocks.forEach((m,g)=>{g!==s&&m&&(HU(),ya(m,1,1,()=>{e.blocks[g]===m&&(e.blocks[g]=null)}),WU())}):e.block.d(1),f.c(),qs(f,1),f.m(e.mount(),e.anchor),p=!0),e.block=f,e.blocks&&(e.blocks[s]=f),p&&p3()}if(CU(t)){const i=sk();if(t.then(s=>{Iu(i),r(e.then,1,e.value,s),Iu(null)},s=>{if(Iu(i),r(e.catch,2,e.error,s),Iu(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function GU(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function ak(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],l=e[s];if(l){for(const c in a)c in l||(r[c]=1);for(const c in l)i[c]||(n[c]=l[c],i[c]=1);t[s]=l}else for(const c in a)i[c]=1}for(const a in r)a in n||(n[a]=void 0);return n}function zn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Tl(t){t&&t.c()}function Ho(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||po(()=>{const a=t.$$.on_mount.map(QT).filter(h3);t.$$.on_destroy?t.$$.on_destroy.push(...a):tl(a),t.$$.on_mount=[]}),s.forEach(po)}function Wo(t,e){const n=t.$$;n.fragment!==null&&(qU(n.after_update),tl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $U(t,e){t.$$.dirty[0]===-1&&(zf.push(t),FU(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xu(t,e,n,r,i,s,a,l=[-1]){const c=Jd;Iu(t);const f=t.$$={fragment:null,ctx:[],props:s,update:In,not_equal:i,bound:I8(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:I8(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};a&&a(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(m,g,...y)=>{const b=y.length?y[0]:g;return f.ctx&&i(f.ctx[m],f.ctx[m]=b)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](b),p&&$U(t,m)),g}):[],f.update(),p=!0,tl(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const m=DU(e.target);f.fragment&&f.fragment.l(m),m.forEach(ft)}else f.fragment&&f.fragment.c();e.intro&&qs(t.$$.fragment),Ho(t,e.target,e.anchor,e.customElement),p3()}Iu(c)}class Ju{$destroy(){Wo(this,1),this.$destroy=In}$on(e,n){if(!h3(n))return In;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!AU(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fp(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B_(t){let e,n,r;t.length!==2?(e=Sa,n=(l,c)=>Sa(t(l),c),r=(l,c)=>t(l)-c):(e=t===Sa||t===Fp?t:VU,n=t,r=t);function i(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<0?f=m+1:p=m}while(f<p)}return f}function s(l,c,f=0,p=l.length){if(f<p){if(e(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<=0?f=m+1:p=m}while(f<p)}return f}function a(l,c,f=0,p=l.length){const m=i(l,c,f,p-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function VU(){return 0}function ok(t){return t===null?NaN:+t}function*ZU(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const YU=B_(Sa),jU=YU.right;B_(ok).center;const z_=jU;function KU(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function XU(t){return t.length|0}function JU(t){return!(t>0)}function QU(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function eq(t){return e=>t(...e)}function tq(...t){const e=typeof t[t.length-1]=="function"&&eq(t.pop());t=t.map(QU);const n=t.map(XU),r=t.length-1,i=new Array(r+1).fill(0),s=[];if(r<0||n.some(JU))return s;for(;;){s.push(i.map((l,c)=>t[c][l]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?s.map(e):s;i[a--]=0}}}function nq(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function lk(t,e){let n=0,r,i=0,s=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i));else{let a=-1;for(let l of t)(l=e(l,++a,t))!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,s+=r*(l-i))}if(n>1)return s/(n-1)}function rq(t,e){const n=lk(t,e);return n&&Math.sqrt(n)}function ys(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Fc{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=e+s,l=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);l&&(n[r++]=l),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}class U0 extends Map{constructor(e,n=fk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(by(this,e))}has(e){return super.has(by(this,e))}set(e,n){return super.set(uk(this,e),n)}delete(e){return super.delete(ck(this,e))}}class F_ extends Set{constructor(e,n=fk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(by(this,e))}add(e){return super.add(uk(this,e))}delete(e){return super.delete(ck(this,e))}}function by({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ck({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fk(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hg(t){return t}function m3(t,...e){return g3(t,hg,hg,e)}function Dd(t,e,...n){return g3(t,hg,e,n)}function iq(t,e,...n){return g3(t,Array.from,e,n)}function g3(t,e,n,r){return function i(s,a){if(a>=r.length)return n(s);const l=new U0,c=r[a++];let f=-1;for(const p of s){const m=c(p,++f,s),g=l.get(m);g?g.push(p):l.set(m,[p])}for(const[p,m]of l)l.set(p,i(m,a));return e(l)}(t,0)}function sq(t,e){return Array.from(e,n=>t[n])}function dg(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,s)=>s);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,s)=>{for(const a of e){const l=pg(a[i],a[s]);if(l)return l}})):(n=t.map(n),r.sort((i,s)=>pg(n[i],n[s]))),sq(t,r)}return t.sort(hk(n))}function hk(t=Sa){if(t===Sa)return pg;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pg(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function _3(t,e,n){return(e.length!==2?dg(Dd(t,e,n),([r,i],[s,a])=>Sa(i,a)||Sa(r,s)):dg(m3(t,n),([r,i],[s,a])=>e(i,a)||Sa(r,s))).map(([r])=>r)}var aq=Array.prototype,oq=aq.slice;function $v(t){return()=>t}const lq=Math.sqrt(50),uq=Math.sqrt(10),cq=Math.sqrt(2);function mg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=lq?10:s>=uq?5:s>=cq?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?mg(t,e,n*2):[l,c,f]}function Qd(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?mg(e,t,n):mg(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(s-f)/-a;else for(let f=0;f<l;++f)c[f]=(s-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function ih(t,e,n){return e=+e,t=+t,n=+n,mg(t,e,n)[2]}function wy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ih(e,t,n):ih(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fq(t,e,n){let r;for(;;){const i=ih(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function hq(t){return Math.max(1,Math.ceil(Math.log(KU(t))/Math.LN2)+1)}function dk(){var t=hg,e=ys,n=hq;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,l,c,f=new Array(a);for(s=0;s<a;++s)f[s]=t(i[s],s,i);var p=e(f),m=p[0],g=p[1],y=n(f,m,g);if(!Array.isArray(y)){const A=g,C=+y;if(e===ys&&([m,g]=fq(m,g,C)),y=Qd(m,g,C),y[0]<=m&&(c=ih(m,g,C)),y[y.length-1]>=g)if(A>=g&&e===ys){const P=ih(m,g,C);isFinite(P)&&(P>0?g=(Math.floor(g/P)+1)*P:P<0&&(g=(Math.ceil(g*-P)+1)/-P))}else y.pop()}for(var b=y.length,S=0,I=b;y[S]<=m;)++S;for(;y[I-1]>g;)--I;(S||I<b)&&(y=y.slice(S,I),b=I-S);var R=new Array(b+1),k;for(s=0;s<=b;++s)k=R[s]=[],k.x0=s>0?y[s-1]:m,k.x1=s<b?y[s]:g;if(isFinite(c)){if(c>0)for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&R[Math.min(b,Math.floor((l-m)/c))].push(i[s]);else if(c<0){for(s=0;s<a;++s)if((l=f[s])!=null&&m<=l&&l<=g){const A=Math.floor((m-l)*c);R[Math.min(b,A+(y[A]<=l))].push(i[s])}}}else for(s=0;s<a;++s)(l=f[s])!=null&&m<=l&&l<=g&&R[z_(y,l,0,b)].push(i[s]);return R}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:$v(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:$v([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:$v(Array.isArray(i)?oq.call(i):i),r):n},r}function wo(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function dq(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function Fl(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function pq(t,e){let n,r=-1,i=-1;if(e===void 0)for(const s of t)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of t)(s=e(s,++i,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function pk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?pg:hk(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,p=Math.log(c),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+g)),b=Math.min(r,Math.floor(e+(c-f)*m/c+g));pk(t,e,y,b,i)}const s=t[e];let a=n,l=r;for(ld(t,n,e),i(t[r],s)>0&&ld(t,n,r);a<l;){for(ld(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?ld(t,n,l):(++l,ld(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function ld(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v3(t,e=Sa){let n,r=!1;if(e.length===1){let i;for(const s of t){const a=e(s);(r?Sa(a,i)>0:Sa(a,a)===0)&&(n=s,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ep(t,e,n){if(t=Float64Array.from(ZU(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Fl(t);if(e>=1)return wo(t);var r,i=(r-1)*e,s=Math.floor(i),a=wo(pk(t,s).subarray(0,s+1)),l=Fl(t.subarray(s+1));return a+(l-a)*(i-s)}}function mq(t,e,n=ok){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function tp(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function xy(t,e){return ep(t,.5,e)}function*gq(t){for(const e of t)yield*e}function mk(t){return Array.from(gq(t))}function _q(t,e){const n=new U0;if(e===void 0)for(let s of t)s!=null&&s>=s&&n.set(s,(n.get(s)||0)+1);else{let s=-1;for(let a of t)(a=e(a,++s,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[s,a]of n)a>i&&(i=a,r=s);return r}function vq(t,e=yq){const n=[];let r,i=!1;for(const s of t)i&&n.push(e(r,s)),r=s,i=!0;return n}function yq(t,e){return[t,e]}function Ws(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function gr(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function bq(t){if(!(s=t.length))return[];for(var e=-1,n=Fl(t,wq),r=new Array(n);++e<n;)for(var i=-1,s,a=r[e]=new Array(s);++i<s;)a[i]=t[i][e];return r}function wq(t){return t.length}function xq(){return bq(arguments)}function V1(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Sq(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function np(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Tq(t){return t}var Vv=1,Zv=2,Sy=3,i1=4,L8=1e-6;function kq(t){return"translate("+t+",0)"}function Eq(t){return"translate(0,"+t+")"}function Mq(t){return e=>+t(e)}function Cq(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Aq(){return!this.__axis}function Iq(t,e){var n=[],r=null,i=null,s=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===Vv||t===i1?-1:1,p=t===i1||t===Zv?"x":"y",m=t===Vv||t===Sy?kq:Eq;function g(y){var b=r??(e.ticks?e.ticks.apply(e,n):e.domain()),S=i??(e.tickFormat?e.tickFormat.apply(e,n):Tq),I=Math.max(s,0)+l,R=e.range(),k=+R[0]+c,A=+R[R.length-1]+c,C=(e.bandwidth?Cq:Mq)(e.copy(),c),P=y.selection?y.selection():y,D=P.selectAll(".domain").data([null]),F=P.selectAll(".tick").data(b,e).order(),Z=F.exit(),V=F.enter().append("g").attr("class","tick"),Y=F.select("line"),H=F.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(V),Y=Y.merge(V.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),H=H.merge(V.append("text").attr("fill","currentColor").attr(p,f*I).attr("dy",t===Vv?"0em":t===Sy?"0.71em":"0.32em")),y!==P&&(D=D.transition(y),F=F.transition(y),Y=Y.transition(y),H=H.transition(y),Z=Z.transition(y).attr("opacity",L8).attr("transform",function(J){return isFinite(J=C(J))?m(J+c):this.getAttribute("transform")}),V.attr("opacity",L8).attr("transform",function(J){var he=this.parentNode.__axis;return m((he&&isFinite(he=he(J))?he:C(J))+c)})),Z.remove(),D.attr("d",t===i1||t===Zv?a?"M"+f*a+","+k+"H"+c+"V"+A+"H"+f*a:"M"+c+","+k+"V"+A:a?"M"+k+","+f*a+"V"+c+"H"+A+"V"+f*a:"M"+k+","+c+"H"+A),F.attr("opacity",1).attr("transform",function(J){return m(C(J)+c)}),Y.attr(p+"2",f*s),H.attr(p,f*I).text(S),P.filter(Aq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Zv?"start":t===i1?"end":"middle"),P.each(function(){this.__axis=C})}return g.scale=function(y){return arguments.length?(e=y,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),g):n.slice()},g.tickValues=function(y){return arguments.length?(r=y==null?null:Array.from(y),g):r&&r.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(s=a=+y,g):s},g.tickSizeInner=function(y){return arguments.length?(s=+y,g):s},g.tickSizeOuter=function(y){return arguments.length?(a=+y,g):a},g.tickPadding=function(y){return arguments.length?(l=+y,g):l},g.offset=function(y){return arguments.length?(c=+y,g):c},g}function gk(t){return Iq(Sy,t)}var Rq={value:()=>{}};function _k(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Z1(n)}function Z1(t){this._=t}function Pq(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Z1.prototype=_k.prototype={constructor:Z1,on:function(t,e){var n=this._,r=Pq(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Nq(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=O8(n[i],t.name,e);else if(e==null)for(i in n)n[i]=O8(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Z1(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Nq(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function O8(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rq,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ty="http://www.w3.org/1999/xhtml";const sh={svg:"http://www.w3.org/2000/svg",xhtml:Ty,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U_(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sh.hasOwnProperty(e)?{space:sh[e],local:t}:t}function Lq(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ty&&e.documentElement.namespaceURI===Ty?e.createElement(t):e.createElementNS(n,t)}}function Oq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Up(t){var e=U_(t);return(e.local?Oq:Lq)(e)}function Dq(){}function y3(t){return t==null?Dq:function(){return this.querySelector(t)}}function Bq(t){typeof t!="function"&&(t=y3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=new Array(a),c,f,p=0;p<a;++p)(c=s[p])&&(f=t.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),l[p]=f);return new Ys(r,this._parents)}function vk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zq(){return[]}function yk(t){return t==null?zq:function(){return this.querySelectorAll(t)}}function Fq(t){return function(){return vk(t.apply(this,arguments))}}function Uq(t){typeof t=="function"?t=Fq(t):t=yk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&(r.push(t.call(c,c.__data__,f,a)),i.push(c));return new Ys(r,i)}function bk(t){return function(){return this.matches(t)}}function wk(t){return function(e){return e.matches(t)}}var qq=Array.prototype.find;function Hq(t){return function(){return qq.call(this.children,t)}}function Wq(){return this.firstElementChild}function Gq(t){return this.select(t==null?Wq:Hq(typeof t=="function"?t:wk(t)))}var $q=Array.prototype.filter;function Vq(){return Array.from(this.children)}function Zq(t){return function(){return $q.call(this.children,t)}}function Yq(t){return this.selectAll(t==null?Vq:Zq(typeof t=="function"?t:wk(t)))}function jq(t){typeof t!="function"&&(t=bk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new Ys(r,this._parents)}function xk(t){return new Array(t.length)}function Kq(){return new Ys(this._enter||this._groups.map(xk),this._parents)}function gg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}gg.prototype={constructor:gg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Xq(t){return function(){return t}}function Jq(t,e,n,r,i,s){for(var a=0,l,c=e.length,f=s.length;a<f;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new gg(t,s[a]);for(;a<c;++a)(l=e[a])&&(i[a]=l)}function Qq(t,e,n,r,i,s,a){var l,c,f=new Map,p=e.length,m=s.length,g=new Array(p),y;for(l=0;l<p;++l)(c=e[l])&&(g[l]=y=a.call(c,c.__data__,l,e)+"",f.has(y)?i[l]=c:f.set(y,c));for(l=0;l<m;++l)y=a.call(t,s[l],l,s)+"",(c=f.get(y))?(r[l]=c,c.__data__=s[l],f.delete(y)):n[l]=new gg(t,s[l]);for(l=0;l<p;++l)(c=e[l])&&f.get(g[l])===c&&(i[l]=c)}function eH(t){return t.__data__}function tH(t,e){if(!arguments.length)return Array.from(this,eH);var n=e?Qq:Jq,r=this._parents,i=this._groups;typeof t!="function"&&(t=Xq(t));for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],g=m.length,y=nH(t.call(p,p&&p.__data__,f,r)),b=y.length,S=l[f]=new Array(b),I=a[f]=new Array(b),R=c[f]=new Array(g);n(p,m,S,I,R,y,e);for(var k=0,A=0,C,P;k<b;++k)if(C=S[k]){for(k>=A&&(A=k+1);!(P=I[A])&&++A<b;);C._next=P||null}}return a=new Ys(a,r),a._enter=l,a._exit=c,a}function nH(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rH(){return new Ys(this._exit||this._groups.map(xk),this._parents)}function iH(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function sH(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),c=0;c<a;++c)for(var f=n[c],p=r[c],m=f.length,g=l[c]=new Array(m),y,b=0;b<m;++b)(y=f[b]||p[b])&&(g[b]=y);for(;c<i;++c)l[c]=n[c];return new Ys(l,this._parents)}function aH(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function oH(t){t||(t=lH);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,c=i[s]=new Array(l),f,p=0;p<l;++p)(f=a[p])&&(c[p]=f);c.sort(e)}return new Ys(i,this._parents).order()}function lH(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function uH(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function cH(){return Array.from(this)}function fH(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function hH(){let t=0;for(const e of this)++t;return t}function dH(){return!this.node()}function pH(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function mH(t){return function(){this.removeAttribute(t)}}function gH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _H(t,e){return function(){this.setAttribute(t,e)}}function vH(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bH(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wH(t,e){var n=U_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?gH:mH:typeof e=="function"?n.local?bH:yH:n.local?vH:_H)(n,e))}function Sk(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xH(t){return function(){this.style.removeProperty(t)}}function SH(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TH(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function kH(t,e,n){return arguments.length>1?this.each((e==null?xH:typeof e=="function"?TH:SH)(t,e,n??"")):ah(this.node(),t)}function ah(t,e){return t.style.getPropertyValue(e)||Sk(t).getComputedStyle(t,null).getPropertyValue(e)}function EH(t){return function(){delete this[t]}}function MH(t,e){return function(){this[t]=e}}function CH(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function AH(t,e){return arguments.length>1?this.each((e==null?EH:typeof e=="function"?CH:MH)(t,e)):this.node()[t]}function Tk(t){return t.trim().split(/^|\s+/)}function b3(t){return t.classList||new kk(t)}function kk(t){this._node=t,this._names=Tk(t.getAttribute("class")||"")}kk.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ek(t,e){for(var n=b3(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Mk(t,e){for(var n=b3(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function IH(t){return function(){Ek(this,t)}}function RH(t){return function(){Mk(this,t)}}function PH(t,e){return function(){(e.apply(this,arguments)?Ek:Mk)(this,t)}}function NH(t,e){var n=Tk(t+"");if(arguments.length<2){for(var r=b3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?PH:e?IH:RH)(n,e))}function LH(){this.textContent=""}function OH(t){return function(){this.textContent=t}}function DH(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function BH(t){return arguments.length?this.each(t==null?LH:(typeof t=="function"?DH:OH)(t)):this.node().textContent}function zH(){this.innerHTML=""}function FH(t){return function(){this.innerHTML=t}}function UH(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qH(t){return arguments.length?this.each(t==null?zH:(typeof t=="function"?UH:FH)(t)):this.node().innerHTML}function HH(){this.nextSibling&&this.parentNode.appendChild(this)}function WH(){return this.each(HH)}function GH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $H(){return this.each(GH)}function VH(t){var e=typeof t=="function"?t:Up(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ZH(){return null}function YH(t,e){var n=typeof t=="function"?t:Up(t),r=e==null?ZH:typeof e=="function"?e:y3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jH(){var t=this.parentNode;t&&t.removeChild(this)}function KH(){return this.each(jH)}function XH(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JH(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function QH(t){return this.select(t?JH:XH)}function eW(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tW(t){return function(e){t.call(this,e,this.__data__)}}function nW(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function rW(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function iW(t,e,n){return function(){var r=this.__on,i,s=tW(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function sW(t,e,n){var r=nW(t+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,f=l.length,p;c<f;++c)for(i=0,p=l[c];i<s;++i)if((a=r[i]).type===p.type&&a.name===p.name)return p.value}return}for(l=e?iW:rW,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Ck(t,e,n){var r=Sk(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function aW(t,e){return function(){return Ck(this,t,e)}}function oW(t,e){return function(){return Ck(this,t,e.apply(this,arguments))}}function lW(t,e){return this.each((typeof e=="function"?oW:aW)(t,e))}function*uW(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var w3=[null];function Ys(t,e){this._groups=t,this._parents=e}function qp(){return new Ys([[document.documentElement]],w3)}function cW(){return this}Ys.prototype=qp.prototype={constructor:Ys,select:Bq,selectAll:Uq,selectChild:Gq,selectChildren:Yq,filter:jq,data:tH,enter:Kq,exit:rH,join:iH,merge:sH,selection:cW,order:aH,sort:oH,call:uH,nodes:cH,node:fH,size:hH,empty:dH,each:pH,attr:wH,style:kH,property:AH,classed:NH,text:BH,html:qH,raise:WH,lower:$H,append:VH,insert:YH,remove:KH,clone:QH,datum:eW,on:sW,dispatch:lW,[Symbol.iterator]:uW};function Un(t){return typeof t=="string"?new Ys([[document.querySelector(t)]],[document.documentElement]):new Ys([[t]],w3)}function fW(t){return Un(Up(t).call(document.documentElement))}function hW(t){let e;for(;e=t.sourceEvent;)t=e;return t}function dW(t,e){if(t=hW(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function D8(t){return typeof t=="string"?new Ys([document.querySelectorAll(t)],[document.documentElement]):new Ys([vk(t)],w3)}function Rh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xc(){}var q0=.7,oh=1/q0,jf="\\s*([+-]?\\d+)\\s*",rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pW=/^#([0-9a-f]{3,8})$/,mW=new RegExp(`^rgb\\(${jf},${jf},${jf}\\)$`),gW=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),_W=new RegExp(`^rgba\\(${jf},${jf},${jf},${rp}\\)$`),vW=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${rp}\\)$`),yW=new RegExp(`^hsl\\(${rp},${Ll},${Ll}\\)$`),bW=new RegExp(`^hsla\\(${rp},${Ll},${Ll},${rp}\\)$`),B8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rh(Xc,Hu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:z8,formatHex:z8,formatHex8:wW,formatHsl:xW,formatRgb:F8,toString:F8});function z8(){return this.rgb().formatHex()}function wW(){return this.rgb().formatHex8()}function xW(){return Ak(this).formatHsl()}function F8(){return this.rgb().formatRgb()}function Hu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?U8(e):n===3?new Vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?s1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?s1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mW.exec(t))?new Vi(e[1],e[2],e[3],1):(e=gW.exec(t))?new Vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_W.exec(t))?s1(e[1],e[2],e[3],e[4]):(e=vW.exec(t))?s1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yW.exec(t))?W8(e[1],e[2]/100,e[3]/100,1):(e=bW.exec(t))?W8(e[1],e[2]/100,e[3]/100,e[4]):B8.hasOwnProperty(t)?U8(B8[t]):t==="transparent"?new Vi(NaN,NaN,NaN,0):null}function U8(t){return new Vi(t>>16&255,t>>8&255,t&255,1)}function s1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vi(t,e,n,r)}function x3(t){return t instanceof Xc||(t=Hu(t)),t?(t=t.rgb(),new Vi(t.r,t.g,t.b,t.opacity)):new Vi}function Uc(t,e,n,r){return arguments.length===1?x3(t):new Vi(t,e,n,r??1)}function Vi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rh(Vi,Uc,Hp(Xc,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vi(N0(this.r),N0(this.g),N0(this.b),_g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q8,formatHex:q8,formatHex8:SW,formatRgb:H8,toString:H8}));function q8(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}`}function SW(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}${k0((isNaN(this.opacity)?1:this.opacity)*255)}`}function H8(){const t=_g(this.opacity);return`${t===1?"rgb(":"rgba("}${N0(this.r)}, ${N0(this.g)}, ${N0(this.b)}${t===1?")":`, ${t})`}`}function _g(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function N0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function k0(t){return t=N0(t),(t<16?"0":"")+t.toString(16)}function W8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vo(t,e,n,r)}function Ak(t){if(t instanceof Vo)return new Vo(t.h,t.s,t.l,t.opacity);if(t instanceof Xc||(t=Hu(t)),!t)return new Vo;if(t instanceof Vo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Vo(a,l,c,t.opacity)}function ky(t,e,n,r){return arguments.length===1?Ak(t):new Vo(t,e,n,r??1)}function Vo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rh(Vo,ky,Hp(Xc,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new Vo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new Vo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vi(Yv(t>=240?t-240:t+120,i,r),Yv(t,i,r),Yv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vo(G8(this.h),a1(this.s),a1(this.l),_g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_g(this.opacity);return`${t===1?"hsl(":"hsla("}${G8(this.h)}, ${a1(this.s)*100}%, ${a1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function G8(t){return t=(t||0)%360,t<0?t+360:t}function a1(t){return Math.max(0,Math.min(1,t||0))}function Yv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ik=Math.PI/180,Rk=180/Math.PI,vg=18,Pk=.96422,Nk=1,Lk=.82521,Ok=4/29,Kf=6/29,Dk=3*Kf*Kf,TW=Kf*Kf*Kf;function Bk(t){if(t instanceof Ol)return new Ol(t.l,t.a,t.b,t.opacity);if(t instanceof Ru)return zk(t);t instanceof Vi||(t=x3(t));var e=Jv(t.r),n=Jv(t.g),r=Jv(t.b),i=jv((.2225045*e+.7168786*n+.0606169*r)/Nk),s,a;return e===n&&n===r?s=a=i:(s=jv((.4360747*e+.3850649*n+.1430804*r)/Pk),a=jv((.0139322*e+.0971045*n+.7141733*r)/Lk)),new Ol(116*i-16,500*(s-i),200*(i-a),t.opacity)}function Ey(t,e,n,r){return arguments.length===1?Bk(t):new Ol(t,e,n,r??1)}function Ol(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Rh(Ol,Ey,Hp(Xc,{brighter(t){return new Ol(this.l+vg*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ol(this.l-vg*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Pk*Kv(e),t=Nk*Kv(t),n=Lk*Kv(n),new Vi(Xv(3.1338561*e-1.6168667*t-.4906146*n),Xv(-.9787684*e+1.9161415*t+.033454*n),Xv(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function jv(t){return t>TW?Math.pow(t,1/3):t/Dk+Ok}function Kv(t){return t>Kf?t*t*t:Dk*(t-Ok)}function Xv(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Jv(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kW(t){if(t instanceof Ru)return new Ru(t.h,t.c,t.l,t.opacity);if(t instanceof Ol||(t=Bk(t)),t.a===0&&t.b===0)return new Ru(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Rk;return new Ru(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function My(t,e,n,r){return arguments.length===1?kW(t):new Ru(t,e,n,r??1)}function Ru(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function zk(t){if(isNaN(t.h))return new Ol(t.l,0,0,t.opacity);var e=t.h*Ik;return new Ol(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rh(Ru,My,Hp(Xc,{brighter(t){return new Ru(this.h,this.c,this.l+vg*(t??1),this.opacity)},darker(t){return new Ru(this.h,this.c,this.l-vg*(t??1),this.opacity)},rgb(){return zk(this).rgb()}}));var Fk=-.14861,S3=1.78277,T3=-.29227,q_=-.90649,ip=1.97294,$8=ip*q_,V8=ip*S3,Z8=S3*T3-q_*Fk;function EW(t){if(t instanceof L0)return new L0(t.h,t.s,t.l,t.opacity);t instanceof Vi||(t=x3(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Z8*r+$8*e-V8*n)/(Z8+$8-V8),s=r-i,a=(ip*(n-i)-T3*s)/q_,l=Math.sqrt(a*a+s*s)/(ip*i*(1-i)),c=l?Math.atan2(a,s)*Rk-120:NaN;return new L0(c<0?c+360:c,l,i,t.opacity)}function Ul(t,e,n,r){return arguments.length===1?EW(t):new L0(t,e,n,r??1)}function L0(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rh(L0,Ul,Hp(Xc,{brighter(t){return t=t==null?oh:Math.pow(oh,t),new L0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new L0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ik,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Vi(255*(e+n*(Fk*r+S3*i)),255*(e+n*(T3*r+q_*i)),255*(e+n*(ip*r)),this.opacity)}}));function MW(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}function CW(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,l=r<e-1?t[r+2]:2*s-i;return MW((n-r/e)*e,a,i,s,l)}}const H_=t=>()=>t;function Uk(t,e){return function(n){return t+n*e}}function AW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function k3(t,e){var n=e-t;return n?Uk(t,n>180||n<-180?n-360*Math.round(n/360):n):H_(isNaN(t)?e:t)}function IW(t){return(t=+t)==1?_s:function(e,n){return n-e?AW(e,n,t):H_(isNaN(e)?n:e)}}function _s(t,e){var n=e-t;return n?Uk(t,n):H_(isNaN(t)?e:t)}const H0=function t(e){var n=IW(e);function r(i,s){var a=n((i=Uc(i)).r,(s=Uc(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),f=_s(i.opacity,s.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function RW(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),a,l;for(a=0;a<n;++a)l=Uc(e[a]),r[a]=l.r||0,i[a]=l.g||0,s[a]=l.b||0;return r=t(r),i=t(i),s=t(s),l.opacity=1,function(c){return l.r=r(c),l.g=i(c),l.b=s(c),l+""}}}var PW=RW(CW);function NW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function LW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=qc(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function DW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function BW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qv=new RegExp(Cy.source,"g");function zW(t){return function(){return t}}function FW(t){return function(e){return t(e)+""}}function qk(t,e){var n=Cy.lastIndex=Qv.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Cy.exec(t))&&(i=Qv.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:gs(r,i)})),n=Qv.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?FW(c[0].x):zW(e):(e=c.length,function(f){for(var p=0,m;p<e;++p)l[(m=c[p]).i]=m.x(f);return l.join("")})}function qc(t,e){var n=typeof e,r;return e==null||n==="boolean"?H_(e):(n==="number"?gs:n==="string"?(r=Hu(e))?(e=r,H0):qk:e instanceof Hu?H0:e instanceof Date?DW:LW(e)?NW:Array.isArray(e)?OW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?BW:gs)(t,e)}function Wp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Y8=180/Math.PI,Ay={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hk(t,e,n,r,i,s){var a,l,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Y8,skewX:Math.atan(c)*Y8,scaleX:a,scaleY:l}}var o1;function UW(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ay:Hk(e.a,e.b,e.c,e.d,e.e,e.f)}function qW(t){return t==null||(o1||(o1=document.createElementNS("http://www.w3.org/2000/svg","g")),o1.setAttribute("transform",t),!(t=o1.transform.baseVal.consolidate()))?Ay:(t=t.matrix,Hk(t.a,t.b,t.c,t.d,t.e,t.f))}function Wk(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,g,y,b){if(f!==m||p!==g){var S=y.push("translate(",null,e,null,n);b.push({i:S-4,x:gs(f,m)},{i:S-2,x:gs(p,g)})}else(m||g)&&y.push("translate("+m+e+g+n)}function a(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:gs(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function l(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:gs(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function c(f,p,m,g,y,b){if(f!==m||p!==g){var S=y.push(i(y)+"scale(",null,",",null,")");b.push({i:S-4,x:gs(f,m)},{i:S-2,x:gs(p,g)})}else(m!==1||g!==1)&&y.push(i(y)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=t(f),p=t(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,g),a(f.rotate,p.rotate,m,g),l(f.skewX,p.skewX,m,g),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(y){for(var b=-1,S=g.length,I;++b<S;)m[(I=g[b]).i]=I.x(y);return m.join("")}}}var HW=Wk(UW,"px, ","px)","deg)"),WW=Wk(qW,", ",")",")");function GW(t){return function(e,n){var r=t((e=ky(e)).h,(n=ky(n)).h),i=_s(e.s,n.s),s=_s(e.l,n.l),a=_s(e.opacity,n.opacity);return function(l){return e.h=r(l),e.s=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const $W=GW(k3);function VW(t,e){var n=_s((t=Ey(t)).l,(e=Ey(e)).l),r=_s(t.a,e.a),i=_s(t.b,e.b),s=_s(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=s(a),t+""}}function ZW(t){return function(e,n){var r=t((e=My(e)).h,(n=My(n)).h),i=_s(e.c,n.c),s=_s(e.l,n.l),a=_s(e.opacity,n.opacity);return function(l){return e.h=r(l),e.c=i(l),e.l=s(l),e.opacity=a(l),e+""}}}const YW=ZW(k3);function Gk(t){return function e(n){n=+n;function r(i,s){var a=t((i=Ul(i)).h,(s=Ul(s)).h),l=_s(i.s,s.s),c=_s(i.l,s.l),f=_s(i.opacity,s.opacity);return function(p){return i.h=a(p),i.s=l(p),i.l=c(Math.pow(p,n)),i.opacity=f(p),i+""}}return r.gamma=e,r}(1)}Gk(k3);var E3=Gk(_s);function W_(t,e){e===void 0&&(e=t,t=qc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Ta(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var lh=0,kd=0,ud=0,$k=1e3,yg,Ed,bg=0,W0=0,G_=0,sp=typeof performance=="object"&&performance.now?performance:Date,Vk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function M3(){return W0||(Vk(jW),W0=sp.now()+G_)}function jW(){W0=0}function wg(){this._call=this._time=this._next=null}wg.prototype=Zk.prototype={constructor:wg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?M3():+n)+(e==null?0:+e),!this._next&&Ed!==this&&(Ed?Ed._next=this:yg=this,Ed=this),this._call=t,this._time=n,Iy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Iy())}};function Zk(t,e,n){var r=new wg;return r.restart(t,e,n),r}function KW(){M3(),++lh;for(var t=yg,e;t;)(e=W0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lh}function j8(){W0=(bg=sp.now())+G_,lh=kd=0;try{KW()}finally{lh=0,JW(),W0=0}}function XW(){var t=sp.now(),e=t-bg;e>$k&&(G_-=e,bg=t)}function JW(){for(var t,e=yg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:yg=n);Ed=t,Iy(r)}function Iy(t){if(!lh){kd&&(kd=clearTimeout(kd));var e=t-W0;e>24?(t<1/0&&(kd=setTimeout(j8,t-sp.now()-G_)),ud&&(ud=clearInterval(ud))):(ud||(bg=sp.now(),ud=setInterval(XW,$k)),lh=1,Vk(j8))}}function K8(t,e,n){var r=new wg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var QW=_k("start","end","cancel","interrupt"),eG=[],Yk=0,X8=1,Ry=2,Y1=3,J8=4,Py=5,j1=6;function $_(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;tG(t,n,{name:e,index:r,group:i,on:QW,tween:eG,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Yk})}function C3(t,e){var n=nl(t,e);if(n.state>Yk)throw new Error("too late; already scheduled");return n}function Wl(t,e){var n=nl(t,e);if(n.state>Y1)throw new Error("too late; already running");return n}function nl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function tG(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Zk(s,0,n.time);function s(f){n.state=X8,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,m,g,y;if(n.state!==X8)return c();for(p in r)if(y=r[p],y.name===n.name){if(y.state===Y1)return K8(a);y.state===J8?(y.state=j1,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[p]):+p<e&&(y.state=j1,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[p])}if(K8(function(){n.state===Y1&&(n.state=J8,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Ry,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ry){for(n.state=Y1,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(y=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function l(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Py,1),m=-1,g=i.length;++m<g;)i[m].call(t,p);n.state===Py&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=j1,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function nG(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>Ry&&r.state<Py,r.state=j1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function rG(t){return this.each(function(){nG(this,t)})}function iG(t,e){var n,r;return function(){var i=Wl(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function sG(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Wl(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===e){i[c]=l;break}c===f&&i.push(l)}s.tween=i}}function aG(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nl(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?iG:sG)(n,t,e))}function A3(t,e,n){var r=t._id;return t.each(function(){var i=Wl(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nl(i,r).value[e]}}function jk(t,e){var n;return(typeof e=="number"?gs:e instanceof Hu?H0:(n=Hu(e))?(e=n,H0):qk)(t,e)}function oG(t){return function(){this.removeAttribute(t)}}function lG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uG(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function cG(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function fG(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function hG(t,e,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l)))}}function dG(t,e){var n=U_(t),r=n==="transform"?WW:jk;return this.attrTween(t,typeof e=="function"?(n.local?hG:fG)(n,r,A3(this,"attr."+t,e)):e==null?(n.local?lG:oG)(n):(n.local?cG:uG)(n,r,e))}function pG(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mG(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gG(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&mG(t,s)),n}return i._value=e,i}function _G(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&pG(t,s)),n}return i._value=e,i}function vG(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=U_(t);return this.tween(n,(r.local?gG:_G)(r,e))}function yG(t,e){return function(){C3(this,t).delay=+e.apply(this,arguments)}}function bG(t,e){return e=+e,function(){C3(this,t).delay=e}}function wG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yG:bG)(e,t)):nl(this.node(),e).delay}function xG(t,e){return function(){Wl(this,t).duration=+e.apply(this,arguments)}}function SG(t,e){return e=+e,function(){Wl(this,t).duration=e}}function TG(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xG:SG)(e,t)):nl(this.node(),e).duration}function kG(t,e){if(typeof e!="function")throw new Error;return function(){Wl(this,t).ease=e}}function EG(t){var e=this._id;return arguments.length?this.each(kG(e,t)):nl(this.node(),e).ease}function MG(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Wl(this,t).ease=n}}function CG(t){if(typeof t!="function")throw new Error;return this.each(MG(this._id,t))}function AG(t){typeof t!="function"&&(t=bk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,l=r[i]=[],c,f=0;f<a;++f)(c=s[f])&&t.call(c,c.__data__,f,s)&&l.push(c);return new Wu(r,this._parents,this._name,this._id)}function IG(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c=e[l],f=n[l],p=c.length,m=a[l]=new Array(p),g,y=0;y<p;++y)(g=c[y]||f[y])&&(m[y]=g);for(;l<r;++l)a[l]=e[l];return new Wu(a,this._parents,this._name,this._id)}function RG(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function PG(t,e,n){var r,i,s=RG(e)?C3:Wl;return function(){var a=s(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function NG(t,e){var n=this._id;return arguments.length<2?nl(this.node(),n).on.on(t):this.each(PG(n,t,e))}function LG(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function OG(){return this.on("end.remove",LG(this._id))}function DG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=y3(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],c=l.length,f=s[a]=new Array(c),p,m,g=0;g<c;++g)(p=l[g])&&(m=t.call(p,p.__data__,g,l))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,$_(f[g],e,n,g,f,nl(p,n)));return new Wu(s,this._parents,e,n)}function BG(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yk(t));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var c=r[l],f=c.length,p,m=0;m<f;++m)if(p=c[m]){for(var g=t.call(p,p.__data__,m,c),y,b=nl(p,n),S=0,I=g.length;S<I;++S)(y=g[S])&&$_(y,e,n,S,g,b);s.push(g),a.push(p)}return new Wu(s,a,e,n)}var zG=qp.prototype.constructor;function FG(){return new zG(this._groups,this._parents)}function UG(t,e){var n,r,i;return function(){var s=ah(this,t),a=(this.style.removeProperty(t),ah(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Kk(t){return function(){this.style.removeProperty(t)}}function qG(t,e,n){var r,i=n+"",s;return function(){var a=ah(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function HG(t,e,n){var r,i,s;return function(){var a=ah(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),ah(this,t))),a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,l))}}function WG(t,e){var n,r,i,s="style."+e,a="end."+s,l;return function(){var c=Wl(this,t),f=c.on,p=c.value[s]==null?l||(l=Kk(e)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(a,i=p),c.on=r}}function GG(t,e,n){var r=(t+="")=="transform"?HW:jk;return e==null?this.styleTween(t,UG(t,r)).on("end.style."+t,Kk(t)):typeof e=="function"?this.styleTween(t,HG(t,r,A3(this,"style."+t,e))).each(WG(this._id,t)):this.styleTween(t,qG(t,r,e),n).on("end.style."+t,null)}function $G(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function VG(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&$G(t,a,n)),r}return s._value=e,s}function ZG(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,VG(t,e,n??""))}function YG(t){return function(){this.textContent=t}}function jG(t){return function(){var e=t(this);this.textContent=e??""}}function KG(t){return this.tween("text",typeof t=="function"?jG(A3(this,"text",t)):YG(t==null?"":t+""))}function XG(t){return function(e){this.textContent=t.call(this,e)}}function JG(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&XG(i)),e}return r._value=t,r}function QG(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,JG(t))}function e$(){for(var t=this._name,e=this._id,n=Xk(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)if(c=a[f]){var p=nl(c,e);$_(c,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Wu(r,this._parents,t,n)}function t$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var f=Wl(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),f.on=e}),i===0&&s()})}var n$=0;function Wu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Xk(){return++n$}var bu=qp.prototype;Wu.prototype={constructor:Wu,select:DG,selectAll:BG,selectChild:bu.selectChild,selectChildren:bu.selectChildren,filter:AG,merge:IG,selection:FG,transition:e$,call:bu.call,nodes:bu.nodes,node:bu.node,size:bu.size,empty:bu.empty,each:bu.each,on:NG,attr:dG,attrTween:vG,style:GG,styleTween:ZG,text:KG,textTween:QG,remove:OG,tween:aG,delay:wG,duration:TG,ease:EG,easeVarying:CG,end:t$,[Symbol.iterator]:bu[Symbol.iterator]};function r$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var i$={time:null,delay:0,duration:250,ease:r$};function s$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function a$(t){var e,n;t instanceof Wu?(e=t._id,t=t._name):(e=Xk(),(n=i$).time=M3(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,f=0;f<l;++f)(c=a[f])&&$_(c,t,e,f,a,n||s$(c,e));return new Wu(r,this._parents,t,e)}qp.prototype.interrupt=rG;qp.prototype.transition=a$;const Ny=Math.PI,Ly=2*Ny,b0=1e-6,o$=Ly-b0;function Jk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function l$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jk;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Qk=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jk:l$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,p=a-e,m=l-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>b0)if(!(Math.abs(m*c-f*p)>b0)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,b=i-l,S=c*c+f*f,I=y*y+b*b,R=Math.sqrt(S),k=Math.sqrt(g),A=s*Math.tan((Ny-Math.acos((S+g-I)/(2*R*k)))/2),C=A/k,P=A/R;Math.abs(C-1)>b0&&this._append`L${e+C*p},${n+C*m}`,this._append`A${s},${s},0,0,${+(m*y>p*b)},${this._x1=e+P*c},${this._y1=n+P*f}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,p=n+c,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>b0||Math.abs(this._y1-p)>b0)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%Ly+Ly),g>o$?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>b0&&this._append`A${r},${r},0,${+(g>=Ny)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function E0(t=3){return new Qk(+t)}var Q8={},e4={},t4=34,cd=10,n4=13;function eE(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function u$(t,e){var n=eE(t);return function(r,i){return e(n(r),i,t)}}function ew(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function _a(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function c$(t){return t<0?"-"+_a(-t,6):t>9999?"+"+_a(t,6):_a(t,4)}function f$(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":c$(t.getUTCFullYear())+"-"+_a(t.getUTCMonth()+1,2)+"-"+_a(t.getUTCDate(),2)+(i?"T"+_a(e,2)+":"+_a(n,2)+":"+_a(r,2)+"."+_a(i,3)+"Z":r?"T"+_a(e,2)+":"+_a(n,2)+":"+_a(r,2)+"Z":n||e?"T"+_a(e,2)+":"+_a(n,2)+"Z":"")}function tE(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(m,g){var y,b,S=i(m,function(I,R){if(y)return y(I,R-1);b=I,y=g?u$(I,g):eE(I)});return S.columns=b||[],S}function i(m,g){var y=[],b=m.length,S=0,I=0,R,k=b<=0,A=!1;m.charCodeAt(b-1)===cd&&--b,m.charCodeAt(b-1)===n4&&--b;function C(){if(k)return e4;if(A)return A=!1,Q8;var D,F=S,Z;if(m.charCodeAt(F)===t4){for(;S++<b&&m.charCodeAt(S)!==t4||m.charCodeAt(++S)===t4;);return(D=S)>=b?k=!0:(Z=m.charCodeAt(S++))===cd?A=!0:Z===n4&&(A=!0,m.charCodeAt(S)===cd&&++S),m.slice(F+1,D-1).replace(/""/g,'"')}for(;S<b;){if((Z=m.charCodeAt(D=S++))===cd)A=!0;else if(Z===n4)A=!0,m.charCodeAt(S)===cd&&++S;else if(Z!==n)continue;return m.slice(F,D)}return k=!0,m.slice(F,b)}for(;(R=C())!==e4;){for(var P=[];R!==Q8&&R!==e4;)P.push(R),R=C();g&&(P=g(P,I++))==null||y.push(P)}return y}function s(m,g){return m.map(function(y){return g.map(function(b){return p(y[b])}).join(t)})}function a(m,g){return g==null&&(g=ew(m)),[g.map(p).join(t)].concat(s(m,g)).join(`
`)}function l(m,g){return g==null&&(g=ew(m)),s(m,g).join(`
`)}function c(m){return m.map(f).join(`
`)}function f(m){return m.map(p).join(t)}function p(m){return m==null?"":m instanceof Date?f$(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:r,parseRows:i,format:a,formatBody:l,formatRows:c,formatRow:f,formatValue:p}}var nE=tE(","),rE=nE.parse,h$=nE.parseRows,iE=tE("	"),d$=iE.parse,p$=iE.parseRows;function xg(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))m$&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const m$=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function g$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function _$(t,e){return fetch(t,e).then(g$)}function v$(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),_$(e,n).then(function(i){return t(i,r)})}}var sE=v$(rE);function y$(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function K1(t,e){return fetch(t,e).then(y$)}function b$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function uh(t){return t=Sg(Math.abs(t)),t?t[1]:NaN}function w$(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function x$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var S$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(t){if(!(e=S$.exec(t)))throw new Error("invalid format: "+t);var e;return new I3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ap.prototype=I3.prototype;function I3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aE;function k$(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(aE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Sg(t,Math.max(0,e+s-1))[0]}function tw(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nw={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:b$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tw(t*100,e),r:tw,s:k$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rw(t){return t}var iw=Array.prototype.map,sw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function E$(t){var e=t.grouping===void 0||t.thousands===void 0?rw:w$(iw.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rw:x$(iw.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=ap(m);var g=m.fill,y=m.align,b=m.sign,S=m.symbol,I=m.zero,R=m.width,k=m.comma,A=m.precision,C=m.trim,P=m.type;P==="n"?(k=!0,P="g"):nw[P]||(A===void 0&&(A=12),C=!0,P="g"),(I||g==="0"&&y==="=")&&(I=!0,g="0",y="=");var D=S==="$"?n:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",F=S==="$"?r:/[%p]/.test(P)?a:"",Z=nw[P],V=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function Y(H){var J=D,he=F,le,ne,pe;if(P==="c")he=Z(H)+he,H="";else{H=+H;var fe=H<0||1/H<0;if(H=isNaN(H)?c:Z(Math.abs(H),A),C&&(H=T$(H)),fe&&+H==0&&b!=="+"&&(fe=!1),J=(fe?b==="("?b:l:b==="-"||b==="("?"":b)+J,he=(P==="s"?sw[8+aE/3]:"")+he+(fe&&b==="("?")":""),V){for(le=-1,ne=H.length;++le<ne;)if(pe=H.charCodeAt(le),48>pe||pe>57){he=(pe===46?i+H.slice(le+1):H.slice(le))+he,H=H.slice(0,le);break}}}k&&!I&&(H=e(H,1/0));var _e=J.length+H.length+he.length,me=_e<R?new Array(R-_e+1).join(g):"";switch(k&&I&&(H=e(me+H,me.length?R-he.length:1/0),me=""),y){case"<":H=J+H+he+me;break;case"=":H=J+me+H+he;break;case"^":H=me.slice(0,_e=me.length>>1)+J+H+he+me.slice(_e);break;default:H=me+J+H+he;break}return s(H)}return Y.toString=function(){return m+""},Y}function p(m,g){var y=f((m=ap(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(uh(g)/3)))*3,S=Math.pow(10,-b),I=sw[8+b/3];return function(R){return y(S*R)+I}}return{format:f,formatPrefix:p}}var l1,Hn,oE;M$({thousands:",",grouping:[3],currency:["$",""]});function M$(t){return l1=E$(t),Hn=l1.format,oE=l1.formatPrefix,l1}function C$(t){return Math.max(0,-uh(Math.abs(t)))}function A$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uh(e)/3)))*3-uh(Math.abs(t)))}function I$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,uh(e)-uh(t))+1}var Ot=1e-6,R3=1e-12,_n=Math.PI,Qr=_n/2,aw=_n/4,Za=_n*2,is=180/_n,qn=_n/180,Gn=Math.abs,Ph=Math.atan,ql=Math.atan2,jt=Math.cos,u1=Math.ceil,lE=Math.exp,Tg=Math.log,r4=Math.pow,Wt=Math.sin,mo=Math.sign||function(t){return t>0?1:t<0?-1:0},js=Math.sqrt,P3=Math.tan;function uE(t){return t>1?0:t<-1?_n:Math.acos(t)}function xo(t){return t>1?Qr:t<-1?-Qr:Math.asin(t)}function $i(){}function kg(t,e){t&&lw.hasOwnProperty(t.type)&&lw[t.type](t,e)}var ow={Feature:function(t,e){kg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)kg(n[r].geometry,e)}},lw={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Oy(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Oy(n[r],e,0)},Polygon:function(t,e){uw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)uw(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)kg(n[r],e)}};function Oy(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function uw(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Oy(t[n],e,1);e.polygonEnd()}function xc(t,e){t&&ow.hasOwnProperty(t.type)?ow[t.type](t,e):kg(t,e)}function Dy(t){return[ql(t[1],t[0]),xo(t[2])]}function ch(t){var e=t[0],n=t[1],r=jt(n);return[r*jt(e),r*Wt(e),Wt(n)]}function c1(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Eg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function i4(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function f1(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function By(t){var e=js(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Cf(t){return function(){return t}}function zy(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Fy(t,e){return Gn(t)>_n&&(t-=Math.round(t/Za)*Za),[t,e]}Fy.invert=Fy;function N3(t,e,n){return(t%=Za)?e||n?zy(fw(t),hw(e,n)):fw(t):e||n?hw(e,n):Fy}function cw(t){return function(e,n){return e+=t,Gn(e)>_n&&(e-=Math.round(e/Za)*Za),[e,n]}}function fw(t){var e=cw(t);return e.invert=cw(-t),e}function hw(t,e){var n=jt(t),r=Wt(t),i=jt(e),s=Wt(e);function a(l,c){var f=jt(c),p=jt(l)*f,m=Wt(l)*f,g=Wt(c),y=g*n+p*r;return[ql(m*i-y*s,p*n-g*r),xo(y*i+m*s)]}return a.invert=function(l,c){var f=jt(c),p=jt(l)*f,m=Wt(l)*f,g=Wt(c),y=g*i-m*s;return[ql(m*i+g*s,p*n+y*r),xo(y*n-p*r)]},a}function R$(t){t=N3(t[0]*qn,t[1]*qn,t.length>2?t[2]*qn:0);function e(n){return n=t(n[0]*qn,n[1]*qn),n[0]*=is,n[1]*=is,n}return e.invert=function(n){return n=t.invert(n[0]*qn,n[1]*qn),n[0]*=is,n[1]*=is,n},e}function cE(t,e,n,r,i,s){if(n){var a=jt(e),l=Wt(e),c=r*n;i==null?(i=e+r*Za,s=e-c/2):(i=dw(a,i),s=dw(a,s),(r>0?i<s:i>s)&&(i+=r*Za));for(var f,p=i;r>0?p>s:p<s;p-=c)f=Dy([a,-l*jt(p),-l*Wt(p)]),t.point(f[0],f[1])}}function dw(t,e){e=ch(e),e[0]-=t,By(e);var n=uE(-e[1]);return((-e[2]<0?-n:n)+Za-Ot)%Za}function P$(){var t=Cf([0,0]),e=Cf(90),n=Cf(6),r,i,s={point:a};function a(c,f){r.push(c=i(c,f)),c[0]*=is,c[1]*=is}function l(){var c=t.apply(this,arguments),f=e.apply(this,arguments)*qn,p=n.apply(this,arguments)*qn;return r=[],i=N3(-c[0]*qn,-c[1]*qn,0).invert,cE(s,f,p,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return l.center=function(c){return arguments.length?(t=typeof c=="function"?c:Cf([+c[0],+c[1]]),l):t},l.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Cf(+c),l):e},l.precision=function(c){return arguments.length?(n=typeof c=="function"?c:Cf(+c),l):n},l}function fE(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:$i,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function X1(t,e){return Gn(t[0]-e[0])<Ot&&Gn(t[1]-e[1])<Ot}function h1(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function hE(t,e,n,r,i){var s=[],a=[],l,c;if(t.forEach(function(b){if(!((S=b.length-1)<=0)){var S,I=b[0],R=b[S],k;if(X1(I,R)){if(!I[2]&&!R[2]){for(i.lineStart(),l=0;l<S;++l)i.point((I=b[l])[0],I[1]);i.lineEnd();return}R[0]+=2*Ot}s.push(k=new h1(I,b,null,!0)),a.push(k.o=new h1(I,null,k,!1)),s.push(k=new h1(R,b,null,!1)),a.push(k.o=new h1(R,null,k,!0))}}),!!s.length){for(a.sort(e),pw(s),pw(a),l=0,c=a.length;l<c;++l)a[l].e=n=!n;for(var f=s[0],p,m;;){for(var g=f,y=!0;g.v;)if((g=g.n)===f)return;p=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(y)for(l=0,c=p.length;l<c;++l)i.point((m=p[l])[0],m[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(y)for(p=g.p.z,l=p.length-1;l>=0;--l)i.point((m=p[l])[0],m[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,p=g.z,y=!y}while(!g.v);i.lineEnd()}}}function pw(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function s4(t){return Gn(t[0])<=_n?t[0]:mo(t[0])*((Gn(t[0])+_n)%Za-_n)}function dE(t,e){var n=s4(e),r=e[1],i=Wt(r),s=[Wt(n),-jt(n),0],a=0,l=0,c=new Fc;i===1?r=Qr+Ot:i===-1&&(r=-Qr-Ot);for(var f=0,p=t.length;f<p;++f)if(g=(m=t[f]).length)for(var m,g,y=m[g-1],b=s4(y),S=y[1]/2+aw,I=Wt(S),R=jt(S),k=0;k<g;++k,b=C,I=D,R=F,y=A){var A=m[k],C=s4(A),P=A[1]/2+aw,D=Wt(P),F=jt(P),Z=C-b,V=Z>=0?1:-1,Y=V*Z,H=Y>_n,J=I*D;if(c.add(ql(J*V*Wt(Y),R*F+J*jt(Y))),a+=H?Z+V*Za:Z,H^b>=n^C>=n){var he=Eg(ch(y),ch(A));By(he);var le=Eg(s,he);By(le);var ne=(H^Z>=0?-1:1)*xo(le[2]);(r>ne||r===ne&&(he[0]||he[1]))&&(l+=H^Z>=0?1:-1)}}return(a<-Ot||a<Ot&&c<-R3)^l&1}function pE(t,e,n,r){return function(i){var s=e(i),a=fE(),l=e(a),c=!1,f,p,m,g={point:y,lineStart:S,lineEnd:I,polygonStart:function(){g.point=R,g.lineStart=k,g.lineEnd=A,p=[],f=[]},polygonEnd:function(){g.point=y,g.lineStart=S,g.lineEnd=I,p=mk(p);var C=dE(f,r);p.length?(c||(i.polygonStart(),c=!0),hE(p,L$,C,n,i)):C&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),p=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(C,P){t(C,P)&&i.point(C,P)}function b(C,P){s.point(C,P)}function S(){g.point=b,s.lineStart()}function I(){g.point=y,s.lineEnd()}function R(C,P){m.push([C,P]),l.point(C,P)}function k(){l.lineStart(),m=[]}function A(){R(m[0][0],m[0][1]),l.lineEnd();var C=l.clean(),P=a.result(),D,F=P.length,Z,V,Y;if(m.pop(),f.push(m),m=null,!!F){if(C&1){if(V=P[0],(Z=V.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),D=0;D<Z;++D)i.point((Y=V[D])[0],Y[1]);i.lineEnd()}return}F>1&&C&2&&P.push(P.pop().concat(P.shift())),p.push(P.filter(N$))}}return g}}function N$(t){return t.length>1}function L$(t,e){return((t=t.x)[0]<0?t[1]-Qr-Ot:Qr-t[1])-((e=e.x)[0]<0?e[1]-Qr-Ot:Qr-e[1])}const mw=pE(function(){return!0},O$,B$,[-_n,-Qr]);function O$(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,a){var l=s>0?_n:-_n,c=Gn(s-e);Gn(c-_n)<Ot?(t.point(e,n=(n+a)/2>0?Qr:-Qr),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(s,n),i=0):r!==l&&c>=_n&&(Gn(e-r)<Ot&&(e-=r*Ot),Gn(s-l)<Ot&&(s-=l*Ot),n=D$(e,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(l,n),i=0),t.point(e=s,n=a),r=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function D$(t,e,n,r){var i,s,a=Wt(t-n);return Gn(a)>Ot?Ph((Wt(e)*(s=jt(r))*Wt(n)-Wt(r)*(i=jt(e))*Wt(t))/(i*s*a)):(e+r)/2}function B$(t,e,n,r){var i;if(t==null)i=n*Qr,r.point(-_n,i),r.point(0,i),r.point(_n,i),r.point(_n,0),r.point(_n,-i),r.point(0,-i),r.point(-_n,-i),r.point(-_n,0),r.point(-_n,i);else if(Gn(t[0]-e[0])>Ot){var s=t[0]<e[0]?_n:-_n;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function z$(t){var e=jt(t),n=6*qn,r=e>0,i=Gn(e)>Ot;function s(p,m,g,y){cE(y,t,n,g,p,m)}function a(p,m){return jt(p)*jt(m)>e}function l(p){var m,g,y,b,S;return{lineStart:function(){b=y=!1,S=1},point:function(I,R){var k=[I,R],A,C=a(I,R),P=r?C?0:f(I,R):C?f(I+(I<0?_n:-_n),R):0;if(!m&&(b=y=C)&&p.lineStart(),C!==y&&(A=c(m,k),(!A||X1(m,A)||X1(k,A))&&(k[2]=1)),C!==y)S=0,C?(p.lineStart(),A=c(k,m),p.point(A[0],A[1])):(A=c(m,k),p.point(A[0],A[1],2),p.lineEnd()),m=A;else if(i&&m&&r^C){var D;!(P&g)&&(D=c(k,m,!0))&&(S=0,r?(p.lineStart(),p.point(D[0][0],D[0][1]),p.point(D[1][0],D[1][1]),p.lineEnd()):(p.point(D[1][0],D[1][1]),p.lineEnd(),p.lineStart(),p.point(D[0][0],D[0][1],3)))}C&&(!m||!X1(m,k))&&p.point(k[0],k[1]),m=k,y=C,g=P},lineEnd:function(){y&&p.lineEnd(),m=null},clean:function(){return S|(b&&y)<<1}}}function c(p,m,g){var y=ch(p),b=ch(m),S=[1,0,0],I=Eg(y,b),R=c1(I,I),k=I[0],A=R-k*k;if(!A)return!g&&p;var C=e*R/A,P=-e*k/A,D=Eg(S,I),F=f1(S,C),Z=f1(I,P);i4(F,Z);var V=D,Y=c1(F,V),H=c1(V,V),J=Y*Y-H*(c1(F,F)-1);if(!(J<0)){var he=js(J),le=f1(V,(-Y-he)/H);if(i4(le,F),le=Dy(le),!g)return le;var ne=p[0],pe=m[0],fe=p[1],_e=m[1],me;pe<ne&&(me=ne,ne=pe,pe=me);var $=pe-ne,ee=Gn($-_n)<Ot,ae=ee||$<Ot;if(!ee&&_e<fe&&(me=fe,fe=_e,_e=me),ae?ee?fe+_e>0^le[1]<(Gn(le[0]-ne)<Ot?fe:_e):fe<=le[1]&&le[1]<=_e:$>_n^(ne<=le[0]&&le[0]<=pe)){var Ee=f1(V,(-Y+he)/H);return i4(Ee,F),[le,Dy(Ee)]}}}function f(p,m){var g=r?t:_n-t,y=0;return p<-g?y|=1:p>g&&(y|=2),m<-g?y|=4:m>g&&(y|=8),y}return pE(a,l,s,r?[0,-t]:[-_n,t-_n])}function F$(t,e,n,r,i,s){var a=t[0],l=t[1],c=e[0],f=e[1],p=0,m=1,g=c-a,y=f-l,b;if(b=n-a,!(!g&&b>0)){if(b/=g,g<0){if(b<p)return;b<m&&(m=b)}else if(g>0){if(b>m)return;b>p&&(p=b)}if(b=i-a,!(!g&&b<0)){if(b/=g,g<0){if(b>m)return;b>p&&(p=b)}else if(g>0){if(b<p)return;b<m&&(m=b)}if(b=r-l,!(!y&&b>0)){if(b/=y,y<0){if(b<p)return;b<m&&(m=b)}else if(y>0){if(b>m)return;b>p&&(p=b)}if(b=s-l,!(!y&&b<0)){if(b/=y,y<0){if(b>m)return;b>p&&(p=b)}else if(y>0){if(b<p)return;b<m&&(m=b)}return p>0&&(t[0]=a+p*g,t[1]=l+p*y),m<1&&(e[0]=a+m*g,e[1]=l+m*y),!0}}}}}var Md=1e9,d1=-Md;function mE(t,e,n,r){function i(f,p){return t<=f&&f<=n&&e<=p&&p<=r}function s(f,p,m,g){var y=0,b=0;if(f==null||(y=a(f,m))!==(b=a(p,m))||c(f,p)<0^m>0)do g.point(y===0||y===3?t:n,y>1?r:e);while((y=(y+m+4)%4)!==b);else g.point(p[0],p[1])}function a(f,p){return Gn(f[0]-t)<Ot?p>0?0:3:Gn(f[0]-n)<Ot?p>0?2:1:Gn(f[1]-e)<Ot?p>0?1:0:p>0?3:2}function l(f,p){return c(f.x,p.x)}function c(f,p){var m=a(f,1),g=a(p,1);return m!==g?m-g:m===0?p[1]-f[1]:m===1?f[0]-p[0]:m===2?f[1]-p[1]:p[0]-f[0]}return function(f){var p=f,m=fE(),g,y,b,S,I,R,k,A,C,P,D,F={point:Z,lineStart:J,lineEnd:he,polygonStart:Y,polygonEnd:H};function Z(ne,pe){i(ne,pe)&&p.point(ne,pe)}function V(){for(var ne=0,pe=0,fe=y.length;pe<fe;++pe)for(var _e=y[pe],me=1,$=_e.length,ee=_e[0],ae,Ee,Ce=ee[0],Oe=ee[1];me<$;++me)ae=Ce,Ee=Oe,ee=_e[me],Ce=ee[0],Oe=ee[1],Ee<=r?Oe>r&&(Ce-ae)*(r-Ee)>(Oe-Ee)*(t-ae)&&++ne:Oe<=r&&(Ce-ae)*(r-Ee)<(Oe-Ee)*(t-ae)&&--ne;return ne}function Y(){p=m,g=[],y=[],D=!0}function H(){var ne=V(),pe=D&&ne,fe=(g=mk(g)).length;(pe||fe)&&(f.polygonStart(),pe&&(f.lineStart(),s(null,null,1,f),f.lineEnd()),fe&&hE(g,l,ne,s,f),f.polygonEnd()),p=f,g=y=b=null}function J(){F.point=le,y&&y.push(b=[]),P=!0,C=!1,k=A=NaN}function he(){g&&(le(S,I),R&&C&&m.rejoin(),g.push(m.result())),F.point=Z,C&&p.lineEnd()}function le(ne,pe){var fe=i(ne,pe);if(y&&b.push([ne,pe]),P)S=ne,I=pe,R=fe,P=!1,fe&&(p.lineStart(),p.point(ne,pe));else if(fe&&C)p.point(ne,pe);else{var _e=[k=Math.max(d1,Math.min(Md,k)),A=Math.max(d1,Math.min(Md,A))],me=[ne=Math.max(d1,Math.min(Md,ne)),pe=Math.max(d1,Math.min(Md,pe))];F$(_e,me,t,e,n,r)?(C||(p.lineStart(),p.point(_e[0],_e[1])),p.point(me[0],me[1]),fe||p.lineEnd(),D=!1):fe&&(p.lineStart(),p.point(ne,pe),D=!1)}k=ne,A=pe,C=fe}return F}}var Uy,qy,J1,Q1,fh={sphere:$i,point:$i,lineStart:U$,lineEnd:$i,polygonStart:$i,polygonEnd:$i};function U$(){fh.point=H$,fh.lineEnd=q$}function q$(){fh.point=fh.lineEnd=$i}function H$(t,e){t*=qn,e*=qn,qy=t,J1=Wt(e),Q1=jt(e),fh.point=W$}function W$(t,e){t*=qn,e*=qn;var n=Wt(e),r=jt(e),i=Gn(t-qy),s=jt(i),a=Wt(i),l=r*a,c=Q1*n-J1*r*s,f=J1*n+Q1*r*s;Uy.add(ql(js(l*l+c*c),f)),qy=t,J1=n,Q1=r}function G$(t){return Uy=new Fc,xc(t,fh),+Uy}var Hy=[null,null],$$={type:"LineString",coordinates:Hy};function Wy(t,e){return Hy[0]=t,Hy[1]=e,G$($$)}var gw={Feature:function(t,e){return Mg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Mg(n[r].geometry,e))return!0;return!1}},_w={Sphere:function(){return!0},Point:function(t,e){return vw(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vw(n[r],e))return!0;return!1},LineString:function(t,e){return yw(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yw(n[r],e))return!0;return!1},Polygon:function(t,e){return bw(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bw(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Mg(n[r],e))return!0;return!1}};function Mg(t,e){return t&&_w.hasOwnProperty(t.type)?_w[t.type](t,e):!1}function vw(t,e){return Wy(t,e)===0}function yw(t,e){for(var n,r,i,s=0,a=t.length;s<a;s++){if(r=Wy(t[s],e),r===0||s>0&&(i=Wy(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<R3*i))return!0;n=r}return!1}function bw(t,e){return!!dE(t.map(V$),gE(e))}function V$(t){return t=t.map(gE),t.pop(),t}function gE(t){return[t[0]*qn,t[1]*qn]}function _0(t,e){return(t&&gw.hasOwnProperty(t.type)?gw[t.type]:Mg)(t,e)}function ww(t,e,n){var r=Ws(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function xw(t,e,n){var r=Ws(t,e-Ot,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function _E(){var t,e,n,r,i,s,a,l,c=10,f=c,p=90,m=360,g,y,b,S,I=2.5;function R(){return{type:"MultiLineString",coordinates:k()}}function k(){return Ws(u1(r/p)*p,n,p).map(b).concat(Ws(u1(l/m)*m,a,m).map(S)).concat(Ws(u1(e/c)*c,t,c).filter(function(A){return Gn(A%p)>Ot}).map(g)).concat(Ws(u1(s/f)*f,i,f).filter(function(A){return Gn(A%m)>Ot}).map(y))}return R.lines=function(){return k().map(function(A){return{type:"LineString",coordinates:A}})},R.outline=function(){return{type:"Polygon",coordinates:[b(r).concat(S(a).slice(1),b(n).reverse().slice(1),S(l).reverse().slice(1))]}},R.extent=function(A){return arguments.length?R.extentMajor(A).extentMinor(A):R.extentMinor()},R.extentMajor=function(A){return arguments.length?(r=+A[0][0],n=+A[1][0],l=+A[0][1],a=+A[1][1],r>n&&(A=r,r=n,n=A),l>a&&(A=l,l=a,a=A),R.precision(I)):[[r,l],[n,a]]},R.extentMinor=function(A){return arguments.length?(e=+A[0][0],t=+A[1][0],s=+A[0][1],i=+A[1][1],e>t&&(A=e,e=t,t=A),s>i&&(A=s,s=i,i=A),R.precision(I)):[[e,s],[t,i]]},R.step=function(A){return arguments.length?R.stepMajor(A).stepMinor(A):R.stepMinor()},R.stepMajor=function(A){return arguments.length?(p=+A[0],m=+A[1],R):[p,m]},R.stepMinor=function(A){return arguments.length?(c=+A[0],f=+A[1],R):[c,f]},R.precision=function(A){return arguments.length?(I=+A,g=ww(s,i,90),y=xw(e,t,I),b=ww(l,a,90),S=xw(r,n,I),R):I},R.extentMajor([[-180,-90+Ot],[180,90-Ot]]).extentMinor([[-180,-80-Ot],[180,80+Ot]])}function Z$(){return _E()()}const Gy=t=>t;var a4=new Fc,$y=new Fc,vE,yE,Vy,Zy,Sc={point:$i,lineStart:$i,lineEnd:$i,polygonStart:function(){Sc.lineStart=Y$,Sc.lineEnd=K$},polygonEnd:function(){Sc.lineStart=Sc.lineEnd=Sc.point=$i,a4.add(Gn($y)),$y=new Fc},result:function(){var t=a4/2;return a4=new Fc,t}};function Y$(){Sc.point=j$}function j$(t,e){Sc.point=bE,vE=Vy=t,yE=Zy=e}function bE(t,e){$y.add(Zy*t-Vy*e),Vy=t,Zy=e}function K$(){bE(vE,yE)}const Sw=Sc;var hh=1/0,Cg=hh,op=-hh,Ag=op,X$={point:J$,lineStart:$i,lineEnd:$i,polygonStart:$i,polygonEnd:$i,result:function(){var t=[[hh,Cg],[op,Ag]];return op=Ag=-(Cg=hh=1/0),t}};function J$(t,e){t<hh&&(hh=t),t>op&&(op=t),e<Cg&&(Cg=e),e>Ag&&(Ag=e)}const Ig=X$;var Yy=0,jy=0,Cd=0,Rg=0,Pg=0,Uf=0,Ky=0,Xy=0,Ad=0,wE,xE,Ml,Cl,Zo={point:G0,lineStart:Tw,lineEnd:kw,polygonStart:function(){Zo.lineStart=tV,Zo.lineEnd=nV},polygonEnd:function(){Zo.point=G0,Zo.lineStart=Tw,Zo.lineEnd=kw},result:function(){var t=Ad?[Ky/Ad,Xy/Ad]:Uf?[Rg/Uf,Pg/Uf]:Cd?[Yy/Cd,jy/Cd]:[NaN,NaN];return Yy=jy=Cd=Rg=Pg=Uf=Ky=Xy=Ad=0,t}};function G0(t,e){Yy+=t,jy+=e,++Cd}function Tw(){Zo.point=Q$}function Q$(t,e){Zo.point=eV,G0(Ml=t,Cl=e)}function eV(t,e){var n=t-Ml,r=e-Cl,i=js(n*n+r*r);Rg+=i*(Ml+t)/2,Pg+=i*(Cl+e)/2,Uf+=i,G0(Ml=t,Cl=e)}function kw(){Zo.point=G0}function tV(){Zo.point=rV}function nV(){SE(wE,xE)}function rV(t,e){Zo.point=SE,G0(wE=Ml=t,xE=Cl=e)}function SE(t,e){var n=t-Ml,r=e-Cl,i=js(n*n+r*r);Rg+=i*(Ml+t)/2,Pg+=i*(Cl+e)/2,Uf+=i,i=Cl*t-Ml*e,Ky+=i*(Ml+t),Xy+=i*(Cl+e),Ad+=i*3,G0(Ml=t,Cl=e)}const Ew=Zo;function TE(t){this._context=t}TE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Za);break}}},result:$i};var Jy=new Fc,o4,kE,EE,Id,Rd,Ng={point:$i,lineStart:function(){Ng.point=iV},lineEnd:function(){o4&&ME(kE,EE),Ng.point=$i},polygonStart:function(){o4=!0},polygonEnd:function(){o4=null},result:function(){var t=+Jy;return Jy=new Fc,t}};function iV(t,e){Ng.point=ME,kE=Id=t,EE=Rd=e}function ME(t,e){Id-=t,Rd-=e,Jy.add(js(Id*Id+Rd*Rd)),Id=t,Rd=e}const Mw=Ng;let Cw,Lg,Aw,Iw;class Rw{constructor(e){this._append=e==null?CE:sV(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Aw||this._append!==Lg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Aw=r,Lg=this._append,Iw=this._,this._=i}this._+=Iw;break}}}result(){const e=this._;return this._="",e.length?e:null}}function CE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sV(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return CE;if(e!==Cw){const n=10**e;Cw=e,Lg=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return Lg}function dh(t,e){let n=3,r=4.5,i,s;function a(l){return l&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),xc(l,i(s))),s.result()}return a.area=function(l){return xc(l,i(Sw)),Sw.result()},a.measure=function(l){return xc(l,i(Mw)),Mw.result()},a.bounds=function(l){return xc(l,i(Ig)),Ig.result()},a.centroid=function(l){return xc(l,i(Ew)),Ew.result()},a.projection=function(l){return arguments.length?(i=l==null?(t=null,Gy):(t=l).stream,a):t},a.context=function(l){return arguments.length?(s=l==null?(e=null,new Rw(n)):new TE(e=l),typeof r!="function"&&s.pointRadius(r),a):e},a.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(s.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);n=c}return e===null&&(s=new Rw(n)),a},a.projection(t).digits(n).context(e)}function lp(t){return{stream:V_(t)}}function V_(t){return function(e){var n=new Qy;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Qy(){}Qy.prototype={constructor:Qy,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function L3(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),xc(n,t.stream(Ig)),e(Ig.result()),r!=null&&t.clipExtent(r),t}function O3(t,e,n){return L3(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(s-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([l,c])},n)}function AE(t,e,n){return O3(t,[[0,0],e],n)}function IE(t,e,n){return L3(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];t.scale(150*s).translate([a,l])},n)}function RE(t,e,n){return L3(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],l=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,l])},n)}var Pw=16,aV=jt(30*qn);function Nw(t,e){return+e?lV(t,e):oV(t)}function oV(t){return V_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function lV(t,e){function n(r,i,s,a,l,c,f,p,m,g,y,b,S,I){var R=f-r,k=p-i,A=R*R+k*k;if(A>4*e&&S--){var C=a+g,P=l+y,D=c+b,F=js(C*C+P*P+D*D),Z=xo(D/=F),V=Gn(Gn(D)-1)<Ot||Gn(s-m)<Ot?(s+m)/2:ql(P,C),Y=t(V,Z),H=Y[0],J=Y[1],he=H-r,le=J-i,ne=k*he-R*le;(ne*ne/A>e||Gn((R*he+k*le)/A-.5)>.3||a*g+l*y+c*b<aV)&&(n(r,i,s,a,l,c,H,J,V,C/=F,P/=F,D,S,I),I.point(H,J),n(H,J,V,C,P,D,f,p,m,g,y,b,S,I))}}return function(r){var i,s,a,l,c,f,p,m,g,y,b,S,I={point:R,lineStart:k,lineEnd:C,polygonStart:function(){r.polygonStart(),I.lineStart=P},polygonEnd:function(){r.polygonEnd(),I.lineStart=k}};function R(Z,V){Z=t(Z,V),r.point(Z[0],Z[1])}function k(){m=NaN,I.point=A,r.lineStart()}function A(Z,V){var Y=ch([Z,V]),H=t(Z,V);n(m,g,p,y,b,S,m=H[0],g=H[1],p=Z,y=Y[0],b=Y[1],S=Y[2],Pw,r),r.point(m,g)}function C(){I.point=R,r.lineEnd()}function P(){k(),I.point=D,I.lineEnd=F}function D(Z,V){A(i=Z,V),s=m,a=g,l=y,c=b,f=S,I.point=A}function F(){n(m,g,p,y,b,S,s,a,i,l,c,f,Pw,r),I.lineEnd=C,C()}return I}}var uV=V_({point:function(t,e){this.stream.point(t*qn,e*qn)}});function cV(t){return V_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function fV(t,e,n,r,i){function s(a,l){return a*=r,l*=i,[e+t*a,n-t*l]}return s.invert=function(a,l){return[(a-e)/t*r,(n-l)/t*i]},s}function Lw(t,e,n,r,i,s){if(!s)return fV(t,e,n,r,i);var a=jt(s),l=Wt(s),c=a*t,f=l*t,p=a/t,m=l/t,g=(l*n-a*e)/t,y=(l*e+a*n)/t;function b(S,I){return S*=r,I*=i,[c*S-f*I+e,n-f*S-c*I]}return b.invert=function(S,I){return[r*(p*S-m*I+g),i*(y-m*S-p*I)]},b}function Jc(t){return PE(function(){return t})()}function PE(t){var e,n=150,r=480,i=250,s=0,a=0,l=0,c=0,f=0,p,m=0,g=1,y=1,b=null,S=mw,I=null,R,k,A,C=Gy,P=.5,D,F,Z,V,Y;function H(ne){return Z(ne[0]*qn,ne[1]*qn)}function J(ne){return ne=Z.invert(ne[0],ne[1]),ne&&[ne[0]*is,ne[1]*is]}H.stream=function(ne){return V&&Y===ne?V:V=uV(cV(p)(S(D(C(Y=ne)))))},H.preclip=function(ne){return arguments.length?(S=ne,b=void 0,le()):S},H.postclip=function(ne){return arguments.length?(C=ne,I=R=k=A=null,le()):C},H.clipAngle=function(ne){return arguments.length?(S=+ne?z$(b=ne*qn):(b=null,mw),le()):b*is},H.clipExtent=function(ne){return arguments.length?(C=ne==null?(I=R=k=A=null,Gy):mE(I=+ne[0][0],R=+ne[0][1],k=+ne[1][0],A=+ne[1][1]),le()):I==null?null:[[I,R],[k,A]]},H.scale=function(ne){return arguments.length?(n=+ne,he()):n},H.translate=function(ne){return arguments.length?(r=+ne[0],i=+ne[1],he()):[r,i]},H.center=function(ne){return arguments.length?(s=ne[0]%360*qn,a=ne[1]%360*qn,he()):[s*is,a*is]},H.rotate=function(ne){return arguments.length?(l=ne[0]%360*qn,c=ne[1]%360*qn,f=ne.length>2?ne[2]%360*qn:0,he()):[l*is,c*is,f*is]},H.angle=function(ne){return arguments.length?(m=ne%360*qn,he()):m*is},H.reflectX=function(ne){return arguments.length?(g=ne?-1:1,he()):g<0},H.reflectY=function(ne){return arguments.length?(y=ne?-1:1,he()):y<0},H.precision=function(ne){return arguments.length?(D=Nw(F,P=ne*ne),le()):js(P)},H.fitExtent=function(ne,pe){return O3(H,ne,pe)},H.fitSize=function(ne,pe){return AE(H,ne,pe)},H.fitWidth=function(ne,pe){return IE(H,ne,pe)},H.fitHeight=function(ne,pe){return RE(H,ne,pe)};function he(){var ne=Lw(n,0,0,g,y,m).apply(null,e(s,a)),pe=Lw(n,r-ne[0],i-ne[1],g,y,m);return p=N3(l,c,f),F=zy(e,pe),Z=zy(p,F),D=Nw(F,P),le()}function le(){return V=Y=null,H}return function(){return e=t.apply(this,arguments),H.invert=e.invert&&J,he()}}function D3(t){var e=0,n=_n/3,r=PE(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*qn,n=s[1]*qn):[e*is,n*is]},i}function hV(t){var e=jt(t);function n(r,i){return[r*e,Wt(i)/e]}return n.invert=function(r,i){return[r/e,xo(i*e)]},n}function dV(t,e){var n=Wt(t),r=(n+Wt(e))/2;if(Gn(r)<Ot)return hV(t);var i=1+n*(2*r-n),s=js(i)/r;function a(l,c){var f=js(i-2*r*Wt(c))/r;return[f*Wt(l*=r),s-f*jt(l)]}return a.invert=function(l,c){var f=s-c,p=ql(l,Gn(f))*mo(f);return f*r<0&&(p-=_n*mo(l)*mo(f)),[p/r,xo((i-(l*l+f*f)*r*r)/(2*r))]},a}function Og(){return D3(dV).scale(155.424).center([0,33.6442])}function NE(){return Og().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pV(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function mV(){var t,e,n=NE(),r,i=Og().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=Og().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,f={point:function(g,y){c=[g,y]}};function p(g){var y=g[0],b=g[1];return c=null,r.point(y,b),c||(s.point(y,b),c)||(l.point(y,b),c)}p.invert=function(g){var y=n.scale(),b=n.translate(),S=(g[0]-b[0])/y,I=(g[1]-b[1])/y;return(I>=.12&&I<.234&&S>=-.425&&S<-.214?i:I>=.166&&I<.234&&S>=-.214&&S<-.115?a:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=pV([n.stream(e=g),i.stream(g),a.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),a.precision(g),m()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),a.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var y=n.scale(),b=+g[0],S=+g[1];return r=n.translate(g).clipExtent([[b-.455*y,S-.238*y],[b+.455*y,S+.238*y]]).stream(f),s=i.translate([b-.307*y,S+.201*y]).clipExtent([[b-.425*y+Ot,S+.12*y+Ot],[b-.214*y-Ot,S+.234*y-Ot]]).stream(f),l=a.translate([b-.205*y,S+.212*y]).clipExtent([[b-.214*y+Ot,S+.166*y+Ot],[b-.115*y-Ot,S+.234*y-Ot]]).stream(f),m()},p.fitExtent=function(g,y){return O3(p,g,y)},p.fitSize=function(g,y){return AE(p,g,y)},p.fitWidth=function(g,y){return IE(p,g,y)},p.fitHeight=function(g,y){return RE(p,g,y)};function m(){return t=e=null,p}return p.scale(1070)}function LE(t){return function(e,n){var r=jt(e),i=jt(n),s=t(r*i);return s===1/0?[2,0]:[s*i*Wt(e),s*Wt(n)]}}function Gp(t){return function(e,n){var r=js(e*e+n*n),i=t(r),s=Wt(i),a=jt(i);return[ql(e*s,r*a),xo(r&&n*s/r)]}}var OE=LE(function(t){return js(2/(1+t))});OE.invert=Gp(function(t){return 2*xo(t/2)});function gV(){return Jc(OE).scale(124.75).clipAngle(180-.001)}var DE=LE(function(t){return(t=uE(t))&&t/Wt(t)});DE.invert=Gp(function(t){return t});function _V(){return Jc(DE).scale(79.4188).clipAngle(180-.001)}function Z_(t,e){return[t,Tg(P3((Qr+e)/2))]}Z_.invert=function(t,e){return[t,2*Ph(lE(e))-Qr]};function BE(){return zE(Z_).scale(961/Za)}function zE(t){var e=Jc(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,a=null,l,c,f;e.scale=function(m){return arguments.length?(r(m),p()):r()},e.translate=function(m){return arguments.length?(i(m),p()):i()},e.center=function(m){return arguments.length?(n(m),p()):n()},e.clipExtent=function(m){return arguments.length?(m==null?a=l=c=f=null:(a=+m[0][0],l=+m[0][1],c=+m[1][0],f=+m[1][1]),p()):a==null?null:[[a,l],[c,f]]};function p(){var m=_n*r(),g=e(R$(e.rotate()).invert([0,0]));return s(a==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===Z_?[[Math.max(g[0]-m,a),l],[Math.min(g[0]+m,c),f]]:[[a,Math.max(g[1]-m,l)],[c,Math.min(g[1]+m,f)]])}return p()}function p1(t){return P3((Qr+t)/2)}function vV(t,e){var n=jt(t),r=t===e?Wt(t):Tg(n/jt(e))/Tg(p1(e)/p1(t)),i=n*r4(p1(t),r)/r;if(!r)return Z_;function s(a,l){i>0?l<-Qr+Ot&&(l=-Qr+Ot):l>Qr-Ot&&(l=Qr-Ot);var c=i/r4(p1(l),r);return[c*Wt(r*a),i-c*jt(r*a)]}return s.invert=function(a,l){var c=i-l,f=mo(r)*js(a*a+c*c),p=ql(a,Gn(c))*mo(c);return c*r<0&&(p-=_n*mo(a)*mo(c)),[p/r,2*Ph(r4(i/f,1/r))-Qr]},s}function yV(){return D3(vV).scale(109.5).parallels([30,30])}function Dg(t,e){return[t,e]}Dg.invert=Dg;function bV(){return Jc(Dg).scale(152.63)}function wV(t,e){var n=jt(t),r=t===e?Wt(t):(n-jt(e))/(e-t),i=n/r+t;if(Gn(r)<Ot)return Dg;function s(a,l){var c=i-l,f=r*a;return[c*Wt(f),i-c*jt(f)]}return s.invert=function(a,l){var c=i-l,f=ql(a,Gn(c))*mo(c);return c*r<0&&(f-=_n*mo(a)*mo(c)),[f/r,i-mo(r)*js(a*a+c*c)]},s}function xV(){return D3(wV).scale(131.154).center([0,13.9389])}var Bd=1.340264,zd=-.081106,Fd=893e-6,Ud=.003796,Bg=js(3)/2,SV=12;function FE(t,e){var n=xo(Bg*Wt(e)),r=n*n,i=r*r*r;return[t*jt(n)/(Bg*(Bd+3*zd*r+i*(7*Fd+9*Ud*r))),n*(Bd+zd*r+i*(Fd+Ud*r))]}FE.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,a,l,c;s<SV&&(l=n*(Bd+zd*r+i*(Fd+Ud*r))-e,c=Bd+3*zd*r+i*(7*Fd+9*Ud*r),n-=a=l/c,r=n*n,i=r*r*r,!(Gn(a)<R3));++s);return[Bg*t*(Bd+3*zd*r+i*(7*Fd+9*Ud*r))/jt(n),xo(Wt(n)/Bg)]};function TV(){return Jc(FE).scale(177.158)}function UE(t,e){var n=jt(e),r=jt(t)*n;return[n*Wt(t)/r,Wt(e)/r]}UE.invert=Gp(Ph);function kV(){return Jc(UE).scale(144.049).clipAngle(60)}function qE(t,e){return[jt(e)*Wt(t),Wt(e)]}qE.invert=Gp(xo);function EV(){return Jc(qE).scale(249.5).clipAngle(90+Ot)}function HE(t,e){var n=jt(e),r=1+jt(t)*n;return[n*Wt(t)/r,Wt(e)/r]}HE.invert=Gp(function(t){return 2*Ph(t)});function MV(){return Jc(HE).scale(250).clipAngle(142)}function WE(t,e){return[Tg(P3((Qr+e)/2)),-t]}WE.invert=function(t,e){return[-e,2*Ph(lE(t))-Qr]};function CV(){var t=zE(WE),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Gl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $p(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eb=Symbol("implicit");function up(){var t=new U0,e=[],n=[],r=eb;function i(s){let a=t.get(s);if(a===void 0){if(r!==eb)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new U0;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return up(e,n).unknown(r)},Gl.apply(i,arguments),i}function Vp(){var t=up().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,f=0,p=.5;delete t.unknown;function m(){var g=e().length,y=i<r,b=y?i:r,S=y?r:i;s=(S-b)/Math.max(1,g-c+f*2),l&&(s=Math.floor(s)),b+=(S-b-s*(g-c))*p,a=s*(1-c),l&&(b=Math.round(b),a=Math.round(a));var I=Ws(g).map(function(R){return b+s*R});return n(y?I.reverse():I)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return Vp(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(p)},Gl.apply(m(),arguments)}function GE(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GE(e())},t}function AV(){return GE(Vp.apply(null,arguments).paddingInner(1))}function IV(t){return function(){return t}}function tb(t){return+t}var Ow=[0,1];function wa(t){return t}function nb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IV(isNaN(e)?NaN:.5)}function RV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function PV(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=nb(i,r),s=n(a,s)):(r=nb(r,i),s=n(s,a)),function(l){return s(r(l))}}function NV(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=nb(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=z_(t,l,1,r)-1;return s[c](i[c](l))}}function Zp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Y_(){var t=Ow,e=Ow,n=qc,r,i,s,a=wa,l,c,f;function p(){var g=Math.min(t.length,e.length);return a!==wa&&(a=RV(t[0],t[g-1])),l=g>2?NV:PV,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((f||(f=l(e,t.map(r),gs)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,tb),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Wp,p()},m.clamp=function(g){return arguments.length?(a=g?!0:wa,p()):a!==wa},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,y){return r=g,i=y,p()}}function $E(){return Y_()(wa,wa)}function LV(t,e,n,r){var i=wy(t,e,n),s;switch(r=ap(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=A$(i,a))&&(r.precision=s),oE(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=I$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=C$(i))&&(r.precision=s-(r.type==="%")*2);break}}return Hn(r)}function Nh(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qd(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return LV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,f,p=10;for(l<a&&(f=a,a=l,l=f,f=i,i=s,s=f);p-- >0;){if(f=ih(a,l,n),f===c)return r[i]=a,r[s]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function j_(){var t=$E();return t.copy=function(){return Zp(t,j_())},Gl.apply(t,arguments),Nh(t)}function VE(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return VE(t).unknown(e)},t=arguments.length?Array.from(t,tb):[0,1],Nh(n)}function ZE(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Dw(t){return Math.log(t)}function Bw(t){return Math.exp(t)}function OV(t){return-Math.log(-t)}function DV(t){return-Math.exp(-t)}function BV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zV(t){return t===10?BV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function FV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zw(t){return(e,n)=>-t(-e,n)}function YE(t){const e=t(Dw,Bw),n=e.domain;let r=10,i,s;function a(){return i=FV(r),s=zV(r),n()[0]<0?(i=zw(i),s=zw(s),t(OV,DV)):t(Dw,Bw),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],p=c[c.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),y=i(p),b,S;const I=l==null?10:+l;let R=[];if(!(r%1)&&y-g<I){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(b=1;b<r;++b)if(S=g<0?b/s(-g):b*s(g),!(S<f)){if(S>p)break;R.push(S)}}else for(;g<=y;++g)for(b=r-1;b>=1;--b)if(S=g>0?b/s(-g):b*s(g),!(S<f)){if(S>p)break;R.push(S)}R.length*2<I&&(R=Qd(f,p,I))}else R=Qd(g,y,Math.min(y-g,I)).map(s);return m?R.reverse():R},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ap(c)).precision==null&&(c.trim=!0),c=Hn(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?c(p):""}},e.nice=()=>n(ZE(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function jE(){const t=YE(Y_()).domain([1,10]);return t.copy=()=>Zp(t,jE()).base(t.base()),Gl.apply(t,arguments),t}function Fw(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Uw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KE(t){var e=1,n=t(Fw(e),Uw(e));return n.constant=function(r){return arguments.length?t(Fw(e=+r),Uw(e)):e},Nh(n)}function XE(){var t=KE(Y_());return t.copy=function(){return Zp(t,XE()).constant(t.constant())},Gl.apply(t,arguments)}function qw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qV(t){return t<0?-t*t:t*t}function JE(t){var e=t(wa,wa),n=1;function r(){return n===1?t(wa,wa):n===.5?t(UV,qV):t(qw(n),qw(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nh(e)}function QE(){var t=JE(Y_());return t.copy=function(){return Zp(t,QE()).exponent(t.exponent())},Gl.apply(t,arguments),t}function eM(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=mq(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[z_(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Sa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return eM().domain(t).range(e).unknown(r)},Gl.apply(s,arguments)}function tM(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[z_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tM().domain(t).range(e).unknown(n)},Gl.apply(i,arguments)}const l4=new Date,u4=new Date;function Ai(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let f;do c.push(f=new Date(+s)),e(s,l),t(s);while(f<s&&s<a);return c},i.filter=s=>Ai(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(l4.setTime(+s),u4.setTime(+a),t(l4),t(u4),Math.floor(n(l4,u4))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const zg=Ai(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ai(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zg);zg.range;const Pu=1e3,go=Pu*60,Nu=go*60,Gu=Nu*24,B3=Gu*7,Hw=Gu*30,c4=Gu*365,Al=Ai(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Pu)},(t,e)=>(e-t)/Pu,t=>t.getUTCSeconds());Al.range;const K_=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pu)},(t,e)=>{t.setTime(+t+e*go)},(t,e)=>(e-t)/go,t=>t.getMinutes());K_.range;const Yp=Ai(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*go)},(t,e)=>(e-t)/go,t=>t.getUTCMinutes());Yp.range;const X_=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pu-t.getMinutes()*go)},(t,e)=>{t.setTime(+t+e*Nu)},(t,e)=>(e-t)/Nu,t=>t.getHours());X_.range;const jp=Ai(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nu)},(t,e)=>(e-t)/Nu,t=>t.getUTCHours());jp.range;const rf=Ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*go)/Gu,t=>t.getDate()-1);rf.range;const J_=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>t.getUTCDate()-1);J_.range;const Q_=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>Math.floor(t/Gu));Q_.range;function sf(t){return Ai(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*go)/B3)}const ph=sf(0),cp=sf(1),nM=sf(2),rM=sf(3),$0=sf(4),iM=sf(5),sM=sf(6);ph.range;cp.range;nM.range;rM.range;$0.range;iM.range;sM.range;function af(t){return Ai(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/B3)}const mh=af(0),fp=af(1),aM=af(2),oM=af(3),V0=af(4),lM=af(5),uM=af(6);mh.range;fp.range;aM.range;oM.range;V0.range;lM.range;uM.range;const Kp=Ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Kp.range;const Xp=Ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Xp.range;const Jo=Ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Qo=Ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function cM(t,e,n,r,i,s){const a=[[Al,1,Pu],[Al,5,5*Pu],[Al,15,15*Pu],[Al,30,30*Pu],[s,1,go],[s,5,5*go],[s,15,15*go],[s,30,30*go],[i,1,Nu],[i,3,3*Nu],[i,6,6*Nu],[i,12,12*Nu],[r,1,Gu],[r,2,2*Gu],[n,1,B3],[e,1,Hw],[e,3,3*Hw],[t,1,c4]];function l(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:c(f,p,m),b=y?y.range(f,+p+1):[];return g?b.reverse():b}function c(f,p,m){const g=Math.abs(p-f)/m,y=B_(([,,I])=>I).right(a,g);if(y===a.length)return t.every(wy(f/c4,p/c4,m));if(y===0)return zg.every(Math.max(wy(f,p,m),1));const[b,S]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return b.every(S)}return[l,c]}const[HV,WV]=cM(Qo,Xp,mh,Q_,jp,Yp),[GV,$V]=cM(Jo,Kp,ph,rf,X_,K_);function f4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function VV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=hd(i),p=dd(i),m=hd(s),g=dd(s),y=hd(a),b=dd(a),S=hd(l),I=dd(l),R=hd(c),k=dd(c),A={a:fe,A:_e,b:me,B:$,c:null,d:Yw,e:Yw,f:mZ,g:kZ,G:MZ,H:hZ,I:dZ,j:pZ,L:fM,m:gZ,M:_Z,p:ee,q:ae,Q:Xw,s:Jw,S:vZ,u:yZ,U:bZ,V:wZ,w:xZ,W:SZ,x:null,X:null,y:TZ,Y:EZ,Z:CZ,"%":Kw},C={a:Ee,A:Ce,b:Oe,B:be,c:null,d:jw,e:jw,f:PZ,g:HZ,G:GZ,H:AZ,I:IZ,j:RZ,L:dM,m:NZ,M:LZ,p:ke,q:Pe,Q:Xw,s:Jw,S:OZ,u:DZ,U:BZ,V:zZ,w:FZ,W:UZ,x:null,X:null,y:qZ,Y:WZ,Z:$Z,"%":Kw},P={a:Y,A:H,b:J,B:he,c:le,d:Vw,e:Vw,f:lZ,g:$w,G:Gw,H:Zw,I:Zw,j:iZ,L:oZ,m:rZ,M:sZ,p:V,q:nZ,Q:cZ,s:fZ,S:aZ,u:XV,U:JV,V:QV,w:KV,W:eZ,x:ne,X:pe,y:$w,Y:Gw,Z:tZ,"%":uZ};A.x=D(n,A),A.X=D(r,A),A.c=D(e,A),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C);function D(ge,De){return function(ze){var Se=[],Ke=-1,$e=0,ct=ge.length,Qe,dt,Ve;for(ze instanceof Date||(ze=new Date(+ze));++Ke<ct;)ge.charCodeAt(Ke)===37&&(Se.push(ge.slice($e,Ke)),(dt=Ww[Qe=ge.charAt(++Ke)])!=null?Qe=ge.charAt(++Ke):dt=Qe==="e"?" ":"0",(Ve=De[Qe])&&(Qe=Ve(ze,dt)),Se.push(Qe),$e=Ke+1);return Se.push(ge.slice($e,Ke)),Se.join("")}}function F(ge,De){return function(ze){var Se=fd(1900,void 0,1),Ke=Z(Se,ge,ze+="",0),$e,ct;if(Ke!=ze.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(De&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?($e=h4(fd(Se.y,0,1)),ct=$e.getUTCDay(),$e=ct>4||ct===0?fp.ceil($e):fp($e),$e=J_.offset($e,(Se.V-1)*7),Se.y=$e.getUTCFullYear(),Se.m=$e.getUTCMonth(),Se.d=$e.getUTCDate()+(Se.w+6)%7):($e=f4(fd(Se.y,0,1)),ct=$e.getDay(),$e=ct>4||ct===0?cp.ceil($e):cp($e),$e=rf.offset($e,(Se.V-1)*7),Se.y=$e.getFullYear(),Se.m=$e.getMonth(),Se.d=$e.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),ct="Z"in Se?h4(fd(Se.y,0,1)).getUTCDay():f4(fd(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(ct+5)%7:Se.w+Se.U*7-(ct+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,h4(Se)):f4(Se)}}function Z(ge,De,ze,Se){for(var Ke=0,$e=De.length,ct=ze.length,Qe,dt;Ke<$e;){if(Se>=ct)return-1;if(Qe=De.charCodeAt(Ke++),Qe===37){if(Qe=De.charAt(Ke++),dt=P[Qe in Ww?De.charAt(Ke++):Qe],!dt||(Se=dt(ge,ze,Se))<0)return-1}else if(Qe!=ze.charCodeAt(Se++))return-1}return Se}function V(ge,De,ze){var Se=f.exec(De.slice(ze));return Se?(ge.p=p.get(Se[0].toLowerCase()),ze+Se[0].length):-1}function Y(ge,De,ze){var Se=y.exec(De.slice(ze));return Se?(ge.w=b.get(Se[0].toLowerCase()),ze+Se[0].length):-1}function H(ge,De,ze){var Se=m.exec(De.slice(ze));return Se?(ge.w=g.get(Se[0].toLowerCase()),ze+Se[0].length):-1}function J(ge,De,ze){var Se=R.exec(De.slice(ze));return Se?(ge.m=k.get(Se[0].toLowerCase()),ze+Se[0].length):-1}function he(ge,De,ze){var Se=S.exec(De.slice(ze));return Se?(ge.m=I.get(Se[0].toLowerCase()),ze+Se[0].length):-1}function le(ge,De,ze){return Z(ge,e,De,ze)}function ne(ge,De,ze){return Z(ge,n,De,ze)}function pe(ge,De,ze){return Z(ge,r,De,ze)}function fe(ge){return a[ge.getDay()]}function _e(ge){return s[ge.getDay()]}function me(ge){return c[ge.getMonth()]}function $(ge){return l[ge.getMonth()]}function ee(ge){return i[+(ge.getHours()>=12)]}function ae(ge){return 1+~~(ge.getMonth()/3)}function Ee(ge){return a[ge.getUTCDay()]}function Ce(ge){return s[ge.getUTCDay()]}function Oe(ge){return c[ge.getUTCMonth()]}function be(ge){return l[ge.getUTCMonth()]}function ke(ge){return i[+(ge.getUTCHours()>=12)]}function Pe(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var De=D(ge+="",A);return De.toString=function(){return ge},De},parse:function(ge){var De=F(ge+="",!1);return De.toString=function(){return ge},De},utcFormat:function(ge){var De=D(ge+="",C);return De.toString=function(){return ge},De},utcParse:function(ge){var De=F(ge+="",!0);return De.toString=function(){return ge},De}}}var Ww={"-":"",_:" ",0:"0"},ji=/^\s*\d+/,ZV=/^%/,YV=/[\\^$*+?|[\]().{}]/g;function $n(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function jV(t){return t.replace(YV,"\\$&")}function hd(t){return new RegExp("^(?:"+t.map(jV).join("|")+")","i")}function dd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function KV(t,e,n){var r=ji.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XV(t,e,n){var r=ji.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function JV(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function QV(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eZ(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Gw(t,e,n){var r=ji.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $w(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nZ(t,e,n){var r=ji.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rZ(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vw(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=ji.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zw(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aZ(t,e,n){var r=ji.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=ji.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=ji.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uZ(t,e,n){var r=ZV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cZ(t,e,n){var r=ji.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fZ(t,e,n){var r=ji.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Yw(t,e){return $n(t.getDate(),e,2)}function hZ(t,e){return $n(t.getHours(),e,2)}function dZ(t,e){return $n(t.getHours()%12||12,e,2)}function pZ(t,e){return $n(1+rf.count(Jo(t),t),e,3)}function fM(t,e){return $n(t.getMilliseconds(),e,3)}function mZ(t,e){return fM(t,e)+"000"}function gZ(t,e){return $n(t.getMonth()+1,e,2)}function _Z(t,e){return $n(t.getMinutes(),e,2)}function vZ(t,e){return $n(t.getSeconds(),e,2)}function yZ(t){var e=t.getDay();return e===0?7:e}function bZ(t,e){return $n(ph.count(Jo(t)-1,t),e,2)}function hM(t){var e=t.getDay();return e>=4||e===0?$0(t):$0.ceil(t)}function wZ(t,e){return t=hM(t),$n($0.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function xZ(t){return t.getDay()}function SZ(t,e){return $n(cp.count(Jo(t)-1,t),e,2)}function TZ(t,e){return $n(t.getFullYear()%100,e,2)}function kZ(t,e){return t=hM(t),$n(t.getFullYear()%100,e,2)}function EZ(t,e){return $n(t.getFullYear()%1e4,e,4)}function MZ(t,e){var n=t.getDay();return t=n>=4||n===0?$0(t):$0.ceil(t),$n(t.getFullYear()%1e4,e,4)}function CZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$n(e/60|0,"0",2)+$n(e%60,"0",2)}function jw(t,e){return $n(t.getUTCDate(),e,2)}function AZ(t,e){return $n(t.getUTCHours(),e,2)}function IZ(t,e){return $n(t.getUTCHours()%12||12,e,2)}function RZ(t,e){return $n(1+J_.count(Qo(t),t),e,3)}function dM(t,e){return $n(t.getUTCMilliseconds(),e,3)}function PZ(t,e){return dM(t,e)+"000"}function NZ(t,e){return $n(t.getUTCMonth()+1,e,2)}function LZ(t,e){return $n(t.getUTCMinutes(),e,2)}function OZ(t,e){return $n(t.getUTCSeconds(),e,2)}function DZ(t){var e=t.getUTCDay();return e===0?7:e}function BZ(t,e){return $n(mh.count(Qo(t)-1,t),e,2)}function pM(t){var e=t.getUTCDay();return e>=4||e===0?V0(t):V0.ceil(t)}function zZ(t,e){return t=pM(t),$n(V0.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function FZ(t){return t.getUTCDay()}function UZ(t,e){return $n(fp.count(Qo(t)-1,t),e,2)}function qZ(t,e){return $n(t.getUTCFullYear()%100,e,2)}function HZ(t,e){return t=pM(t),$n(t.getUTCFullYear()%100,e,2)}function WZ(t,e){return $n(t.getUTCFullYear()%1e4,e,4)}function GZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?V0(t):V0.ceil(t),$n(t.getUTCFullYear()%1e4,e,4)}function $Z(){return"+0000"}function Kw(){return"%"}function Xw(t){return+t}function Jw(t){return Math.floor(+t/1e3)}var Af,z3,Jp;VZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VZ(t){return Af=VV(t),z3=Af.format,Af.parse,Jp=Af.utcFormat,Af.utcParse,Af}function ZZ(t){return new Date(t)}function YZ(t){return t instanceof Date?+t:+new Date(+t)}function F3(t,e,n,r,i,s,a,l,c,f){var p=$E(),m=p.invert,g=p.domain,y=f(".%L"),b=f(":%S"),S=f("%I:%M"),I=f("%I %p"),R=f("%a %d"),k=f("%b %d"),A=f("%B"),C=f("%Y");function P(D){return(c(D)<D?y:l(D)<D?b:a(D)<D?S:s(D)<D?I:r(D)<D?i(D)<D?R:k:n(D)<D?A:C)(D)}return p.invert=function(D){return new Date(m(D))},p.domain=function(D){return arguments.length?g(Array.from(D,YZ)):g().map(ZZ)},p.ticks=function(D){var F=g();return t(F[0],F[F.length-1],D??10)},p.tickFormat=function(D,F){return F==null?P:f(F)},p.nice=function(D){var F=g();return(!D||typeof D.range!="function")&&(D=e(F[0],F[F.length-1],D??10)),D?g(ZE(F,D)):p},p.copy=function(){return Zp(p,F3(t,e,n,r,i,s,a,l,c,f))},p}function jZ(){return Gl.apply(F3(GV,$V,Jo,Kp,ph,rf,X_,K_,Al,z3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KZ(){return Gl.apply(F3(HV,WV,Qo,Xp,mh,J_,jp,Yp,Al,Jp).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function XZ(){var t=0,e=1,n,r,i,s,a=wa,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function p(m){return function(g){var y,b;return arguments.length?([y,b]=g,a=m(y,b),f):[a(0),a(1)]}}return f.range=p(qc),f.rangeRound=p(Wp),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Qp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ff(){var t=Nh(XZ()(wa));return t.copy=function(){return Qp(t,Ff())},$p.apply(t,arguments)}function e2(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,f=wa,p,m=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+p(S))-s)*(r*S<r*s?l:c),f(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),a=p(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(f=S,y):f};function b(S){return function(I){var R,k,A;return arguments.length?([R,k,A]=I,f=W_(S,[R,k,A]),y):[f(0),f(.5),f(1)]}}return y.range=b(qc),y.rangeRound=b(Wp),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return p=S,i=S(t),s=S(e),a=S(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function mM(){var t=Nh(e2()(wa));return t.copy=function(){return Qp(t,mM())},$p.apply(t,arguments)}function gM(){var t=YE(e2()).domain([.1,1,10]);return t.copy=function(){return Qp(t,gM()).base(t.base())},$p.apply(t,arguments)}function _M(){var t=KE(e2());return t.copy=function(){return Qp(t,_M()).constant(t.constant())},$p.apply(t,arguments)}function vM(){var t=JE(e2());return t.copy=function(){return Qp(t,vM()).exponent(t.exponent())},$p.apply(t,arguments)}function sn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const JZ=sn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),QZ=sn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),eY=sn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),tY=sn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),nY=sn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),rY=sn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iY=sn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sY=sn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),aY=sn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),oY=sn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),vr=t=>PW(t[t.length-1]);var yM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sn);const bM=vr(yM);var wM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sn);const xM=vr(wM);var SM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sn);const TM=vr(SM);var kM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sn);const EM=vr(kM);var rb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sn);const gh=vr(rb);var MM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sn);const CM=vr(MM);var ib=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sn);const Fg=vr(ib);var AM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sn);const IM=vr(AM);var RM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sn);const Ug=vr(RM);var PM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sn);const NM=vr(PM);var LM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sn);const OM=vr(LM);var DM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sn);const BM=vr(DM);var zM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sn);const FM=vr(zM);var UM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sn);const qM=vr(UM);var HM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sn);const WM=vr(HM);var GM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sn);const $M=vr(GM);var VM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sn);const ZM=vr(VM);var YM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sn);const jM=vr(YM);var KM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sn);const XM=vr(KM);var JM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sn);const QM=vr(JM);var eC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sn);const tC=vr(eC);var nC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sn);const rC=vr(nC);var iC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sn);const sC=vr(iC);var aC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sn);const oC=vr(aC);var lC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sn);const uC=vr(lC);var cC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sn);const fC=vr(cC);var hC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sn);const dC=vr(hC);function pC(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const mC=E3(Ul(300,.5,0),Ul(-240,.5,1));var gC=E3(Ul(-100,.75,.35),Ul(80,1.5,.8)),_C=E3(Ul(260,.75,.35),Ul(80,1.5,.8)),m1=Ul();function vC(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return m1.h=360*t-100,m1.s=1.5-1.5*e,m1.l=.8-.9*e,m1+""}var g1=Uc(),lY=Math.PI/3,uY=Math.PI*2/3;function yC(t){var e;return t=(.5-t)*Math.PI,g1.r=255*(e=Math.sin(t))*e,g1.g=255*(e=Math.sin(t+lY))*e,g1.b=255*(e=Math.sin(t+uY))*e,g1+""}function qg(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function t2(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const bC=t2(sn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var wC=t2(sn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),U3=t2(sn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xC=t2(sn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function If(t){return function(){return t}}const SC=Math.cos,q3=Math.min,Hg=Math.sin,Ii=Math.sqrt,Qw=1e-12,Wg=Math.PI,n2=2*Wg;function cY(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Qk(e)}function fY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TC(t){this._context=t}TC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function r2(t){return new TC(t)}function hY(t){return t[0]}function dY(t){return t[1]}function pY(t,e){var n=If(!0),r=null,i=r2,s=null,a=cY(l);t=typeof t=="function"?t:t===void 0?hY:If(t),e=typeof e=="function"?e:e===void 0?dY:If(e);function l(c){var f,p=(c=fY(c)).length,m,g=!1,y;for(r==null&&(s=i(y=a())),f=0;f<=p;++f)!(f<p&&n(m=c[f],f,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,f,c),+e(m,f,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:If(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:If(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:If(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}class kC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mY(t){return new kC(t,!0)}function gY(t){return new kC(t,!1)}const _Y=Ii(3),EC={draw(t,e){const n=Ii(e+q3(e/28,.75))*.59436,r=n/2,i=r*_Y;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},hp={draw(t,e){const n=Ii(e/Wg);t.moveTo(n,0),t.arc(0,0,n,0,n2)}},MC={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},CC=Ii(1/3),vY=CC*2,AC={draw(t,e){const n=Ii(e/vY),r=n*CC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IC={draw(t,e){const n=Ii(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},RC={draw(t,e){const n=Ii(e-q3(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},PC={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},NC={draw(t,e){const n=Ii(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},yY=.8908130915292852,LC=Hg(Wg/10)/Hg(7*Wg/10),bY=Hg(n2/10)*LC,wY=-SC(n2/10)*LC,OC={draw(t,e){const n=Ii(e*yY),r=bY*n,i=wY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=n2*s/5,l=SC(a),c=Hg(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},d4=Ii(3),DC={draw(t,e){const n=-Ii(e/(d4*3));t.moveTo(0,n*2),t.lineTo(-d4*n,-n),t.lineTo(d4*n,-n),t.closePath()}},xY=Ii(3),BC={draw(t,e){const n=Ii(e)*.6824,r=n/2,i=n*xY/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},co=-.5,fo=Ii(3)/2,sb=1/Ii(12),SY=(sb/2+1)*3,zC={draw(t,e){const n=Ii(e/SY),r=n/2,i=n*sb,s=r,a=n*sb+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(co*r-fo*i,fo*r+co*i),t.lineTo(co*s-fo*a,fo*s+co*a),t.lineTo(co*l-fo*c,fo*l+co*c),t.lineTo(co*r+fo*i,co*i-fo*r),t.lineTo(co*s+fo*a,co*a-fo*s),t.lineTo(co*l+fo*c,co*c-fo*l),t.closePath()}},FC={draw(t,e){const n=Ii(e-q3(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},TY=[hp,MC,AC,PC,OC,DC,zC],kY=[hp,RC,FC,BC,EC,NC,IC];function Hc(){}function Gg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i2(t){this._context=t}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EY(t){return new i2(t)}function UC(t){this._context=t}UC.prototype={areaStart:Hc,areaEnd:Hc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MY(t){return new UC(t)}function qC(t){this._context=t}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CY(t){return new qC(t)}function HC(t,e){this._basis=new i2(t),this._beta=e}HC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,l=-1,c;++l<=n;)c=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+c*s),this._beta*e[l]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const AY=function t(e){function n(r){return e===1?new i2(r):new HC(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function $g(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function H3(t,e){this._context=t,this._k=(1-e)/6}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$g(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:$g(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const IY=function t(e){function n(r){return new H3(r,e)}return n.tension=function(r){return t(+r)},n}(0);function W3(t,e){this._context=t,this._k=(1-e)/6}W3.prototype={areaStart:Hc,areaEnd:Hc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$g(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const RY=function t(e){function n(r){return new W3(r,e)}return n.tension=function(r){return t(+r)},n}(0);function G3(t,e){this._context=t,this._k=(1-e)/6}G3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$g(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PY=function t(e){function n(r){return new G3(r,e)}return n.tension=function(r){return t(+r)},n}(0);function $3(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>Qw){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Qw){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*f+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*f+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function WC(t,e){this._context=t,this._alpha=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:$3(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NY=function t(e){function n(r){return e?new WC(r,e):new H3(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function GC(t,e){this._context=t,this._alpha=e}GC.prototype={areaStart:Hc,areaEnd:Hc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$3(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LY=function t(e){function n(r){return e?new GC(r,e):new W3(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function $C(t,e){this._context=t,this._alpha=e}$C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$3(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const OY=function t(e){function n(r){return e?new $C(r,e):new G3(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function VC(t){this._context=t}VC.prototype={areaStart:Hc,areaEnd:Hc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DY(t){return new VC(t)}function e9(t){return t<0?-1:1}function t9(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(e9(s)+e9(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function n9(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function p4(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Vg(t){this._context=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p4(this,this._t0,n9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,p4(this,n9(this,n=t9(this,t,e)),n);break;default:p4(this,this._t0,n=t9(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZC(t){this._context=new YC(t)}(ZC.prototype=Object.create(Vg.prototype)).point=function(t,e){Vg.prototype.point.call(this,e,t)};function YC(t){this._context=t}YC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function BY(t){return new Vg(t)}function zY(t){return new ZC(t)}function jC(t){this._context=t}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=r9(t),i=r9(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function r9(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function FY(t){return new jC(t)}function s2(t,e){this._context=t,this._t=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UY(t){return new s2(t,.5)}function qY(t){return new s2(t,0)}function HY(t){return new s2(t,1)}function Pd(t,e,n){this.k=t,this.x=e,this.y=n}Pd.prototype={constructor:Pd,scale:function(t){return t===1?this:new Pd(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pd(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pd.prototype;function Wc(t){return t!=null&&!Number.isNaN(t)}function Hl(t,e){return+Wc(e)-+Wc(t)||Sa(t,e)}function Zg(t,e){return+Wc(e)-+Wc(t)||Fp(t,e)}function V3(t){return t!=null&&`${t}`!=""}function KC(t){return isFinite(t)?t:NaN}function em(t){return t>0&&isFinite(t)?t:NaN}function a2(t){return t<0&&isFinite(t)?t:NaN}function XC(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${WY(t.getUTCFullYear())}-${Mu(t.getUTCMonth()+1,2)}-${Mu(t.getUTCDate(),2)}${n||r||i||s?`T${Mu(n,2)}:${Mu(r,2)}${i||s?`:${Mu(i,2)}${s?`.${Mu(s,3)}`:""}`:""}Z`:""}`}function WY(t){return t<0?`-${Mu(-t,6)}`:t>9999?`+${Mu(t,6)}`:Mu(t,4)}function Mu(t,e){return`${t}`.padStart(e,"0")}const GY=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function JC(t,e){return GY.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const qf=1e3,M0=qf*60,C0=M0*60,$u=C0*24,kl=$u*7,O0=$u*30,bc=$u*365,m4=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",qf],["5 seconds",5*qf],["15 seconds",15*qf],["30 seconds",30*qf],["minute",M0],["5 minutes",5*M0],["15 minutes",15*M0],["30 minutes",30*M0],["hour",C0],["3 hours",3*C0],["6 hours",6*C0],["12 hours",12*C0],["day",$u],["2 days",2*$u],["week",kl],["2 weeks",2*kl],["month",O0],["3 months",3*O0],["6 months",6*O0],["year",bc],["2 years",2*bc],["5 years",5*bc],["10 years",10*bc],["20 years",20*bc],["50 years",50*bc],["100 years",100*bc]],Z3=new Map([["second",qf],["minute",M0],["hour",C0],["day",$u],["monday",kl],["tuesday",kl],["wednesday",kl],["thursday",kl],["friday",kl],["saturday",kl],["sunday",kl],["week",kl],["month",O0],["year",bc]]),QC=new Map([["second",Al],["minute",K_],["hour",X_],["day",rf],["monday",cp],["tuesday",nM],["wednesday",rM],["thursday",$0],["friday",iM],["saturday",sM],["sunday",ph],["week",ph],["month",Kp],["year",Jo]]),eA=new Map([["second",Al],["minute",Yp],["hour",jp],["day",Q_],["monday",fp],["tuesday",aM],["wednesday",oM],["thursday",V0],["friday",lM],["saturday",uM],["sunday",mh],["week",mh],["month",Xp],["year",Qo]]),tm=Symbol("intervalDuration"),o2=Symbol("intervalType");for(const[t,e]of QC)e[tm]=Z3.get(t),e[o2]="time";for(const[t,e]of eA)e[tm]=Z3.get(t),e[o2]="utc";const $Y=[["year",Qo,"utc"],["year",Jo,"time"],["month",Xp,"utc"],["month",Kp,"time"],["day",Q_,"utc",6*O0],["day",rf,"time",6*O0],["hour",jp,"utc",3*$u],["minute",Yp,"utc",6*C0],["second",Al,"utc",30*M0]];function tA(t,e,n){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const s=/^(?:(\d+)\s+)/.exec(r);switch(s&&(r=r.slice(s[0].length),i=+s[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=e.get(r);if(!a)throw new Error(`unknown interval: ${t}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[tm]=Z3.get(r)*i,a[o2]=n}return a}function nA(t){return tA(t,QC,"time")}function rA(t){return tA(t,eA,"utc")}function i9(t,e){if(!(e>1))return;const n=t[tm];if(!m4.some(([,i])=>i===n)||n%$u===0&&$u<n&&n<O0)return;const[r]=m4[B_(([,i])=>Math.log(i)).center(m4,Math.log(n*e))];return(t[o2]==="time"?nA:rA)(r)}function s9(t,e,n){const r=e==="time"?z3:Jp;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=VY(n);switch(t){case"millisecond":return Rf(r(".%L"),r(":%M:%S"),i);case"second":return Rf(r(":%S"),r("%-I:%M"),i);case"minute":return Rf(r("%-I:%M"),r("%p"),i);case"hour":return Rf(r("%-I %p"),r("%b %-d"),i);case"day":return Rf(r("%-d"),r("%b"),i);case"month":return Rf(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function VY(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function ZY(t,e){const n=wo(vq(t,(r,i)=>Math.abs(i-r)));if(n<1e3)return s9("millisecond","utc",e);for(const[r,i,s,a]of $Y){if(n>a||r==="hour"&&!n)break;if(t.every(l=>i.floor(l)>=l))return s9(r,s,e)}}function Rf(t,e,n){return(r,i,s)=>{const a=t(r,i),l=e(r,i),c=i-vh(s);return i!==c&&s[c]!==void 0&&l===e(s[c],c)?a:n(a,l)}}const dp=Object.getPrototypeOf(Uint8Array),YY=Object.prototype.toString,iA=Symbol("reindex");function yo(t,e,n){const r=typeof e;return r==="string"?a9(t,sA(e),n):r==="function"?a9(t,e,n):r==="number"||e instanceof Date||r==="boolean"?Zi(t,nm(e),n):typeof(e==null?void 0:e.transform)=="function"?o9(e.transform(t),n):jY(o9(e,n),t==null?void 0:t[iA])}function jY(t,e){return e?j3(t,e):t}function a9(t,e,n){return Zi(t,(n==null?void 0:n.prototype)instanceof dp?KY(e):e,n)}function o9(t,e){return e===void 0?Ya(t):t instanceof e?t:e.prototype instanceof dp&&!(t instanceof dp)?e.from(t,Y3):e.from(t)}function KY(t){return(e,n)=>Y3(t(e,n))}const eg=[null],sA=t=>e=>e[t],aA={transform:Qc},Ks={transform:t=>t},XY=()=>1,JY=()=>!0,Hs=t=>t==null?t:`${t}`,kr=t=>t==null?t:+t,oA=t=>t?t[0]:void 0,QY=t=>t?t[1]:void 0,nm=t=>()=>t;function ej(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ep(n,e,r)}function Yg(t){return t instanceof dp?t:Zi(t,Y3,Float64Array)}function Y3(t){return t==null?NaN:Number(t)}function tj(t){return Zi(t,nj)}function nj(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?JC(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Z0(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:f2(t)?[void 0,t]:[t,void 0]}function vs(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function lA(t,e,n){if(t!=null)return rl(t,e,n)}function rl(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Ya(t){return t==null||t instanceof Array||t instanceof dp?t:Array.from(t)}function Zi(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function pp(t,e=Array){return t instanceof e?t.slice():e.from(t)}function rj({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function uA({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function ij(t){return rj(t)||uA(t)||t.interval!==void 0}function of(t){return(t==null?void 0:t.toString)===YY}function ab(t){return of(t)&&(t.type!==void 0||t.domain!==void 0)}function l2(t){return of(t)&&typeof t.transform!="function"}function _h(t){return l2(t)&&t.value===void 0&&t.channel===void 0}function sj(t,e,n,r=Ks){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function u2(t,e){return t===void 0&&e===void 0?[oA,QY]:[t,e]}function cA({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Z0(e)),t===void 0&&([t]=Z0(n)),t}function Qc(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function j3(t,e){return Zi(e,n=>t[n],t.constructor)}function aj(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function A0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ob(t){let e;return[{transform:()=>e,label:rm(t)},n=>e=n]}function oj(t){return t==null?[t]:ob(t)}function rm(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function lj(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return So(r)||So(i)?Zi(r,(s,a)=>new Date((+r[a]+ +i[a])/2)):Zi(r,(s,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function uj(t,e){const n=fA(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Zi(t,n):t}function fA(t,e){const n=K3(t,e);return n&&(r=>Wc(r)?n.floor(r):r)}function K3(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Ws(Math.ceil(r*n),i*n).map(s=>s/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Ws(Math.ceil(r/n),i/n).map(s=>s*n)}}if(typeof t=="string")return(e==="time"?nA:rA)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function im(t,e){if(t=K3(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function cj(t,e){if(t=im(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function fj(t){return typeof(t==null?void 0:t.range)=="function"}function c2(t){return t===void 0||l2(t)?t:{value:t}}function hj(t){return t==null?null:{transform:e=>yo(e,t,Float64Array),label:rm(t)}}function lf(t){return t&&typeof t[Symbol.iterator]=="function"}function hA(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function l9(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function So(t){for(const e of t)if(e!=null)return e instanceof Date}function dj(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&JC(e)}function pj(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function mj(t){for(const e of t)if(e!=null)return typeof e=="number"}function g4(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const gj=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function f2(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||gj.has(t))}function _j(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function ba(t){return t==null||mp(t)}function mp(t){return/^\s*none\s*$/i.test(t)}function vj(t){return/^\s*round\s*$/i.test(t)}function dA(t,e){return lA(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function h2(t="middle"){return dA(t,"frameAnchor")}function vh(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Fp(e,n)}function yj(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const s=r[i];n===t?n={...n,[i]:s}:n[i]=s}return n}function bj(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function pA(t){return lf(t)?bj(t):t}const Il=Symbol("position"),Qu=Symbol("color"),sm=Symbol("radius"),am=Symbol("length"),om=Symbol("opacity"),d2=Symbol("symbol"),mA=Symbol("projection"),ti=new Map([["x",Il],["y",Il],["fx",Il],["fy",Il],["r",sm],["color",Qu],["opacity",om],["symbol",d2],["length",am],["projection",mA]]);function wj(t){return t===Il||t===mA}function xj(t){return t===Il||t===sm||t===am||t===om}const Sj=Math.sqrt(3),Tj=2/Sj,kj={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Tj,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},X3=new Map([["asterisk",EC],["circle",hp],["cross",MC],["diamond",AC],["diamond2",IC],["hexagon",kj],["plus",RC],["square",PC],["square2",NC],["star",OC],["times",FC],["triangle",DC],["triangle2",BC],["wye",zC]]);function J3(t){return t&&typeof t.draw=="function"}function Ej(t){return J3(t)?!0:typeof t!="string"?!1:X3.has(t.toLowerCase())}function Q3(t){if(t==null||J3(t))return t;const e=X3.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Mj(t){if(t==null||J3(t))return[void 0,t];if(typeof t=="string"){const e=X3.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function e5({filter:t,sort:e,reverse:n,transform:r,initializer:i,...s}={},a){if(r===void 0&&(t!=null&&(r=gA(t)),e!=null&&!_h(e)&&(r=_4(r,t5(e))),n&&(r=_4(r,_A))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(e===null||_h(e))&&{sort:e},transform:_4(r,a)}}function yh({filter:t,sort:e,reverse:n,initializer:r,...i}={},s){return r===void 0&&(t!=null&&(r=gA(t)),e!=null&&!_h(e)&&(r=v4(r,t5(e))),n&&(r=v4(r,_A))),{...i,...(e===null||_h(e))&&{sort:e},initializer:v4(r,s)}}function _4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Ya(n),r,i)}}function v4(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...s){let a,l,c,f,p,m;return{data:l=n,facets:c=r,channels:a}=t.call(this,n,r,i,...s),{data:p=l,facets:m=c,channels:f}=e.call(this,l,c,{...i,...a},...s),{data:p,facets:m,channels:{...a,...f}}}}function Cj(t,e){return(t.initializer!=null?yh:e5)(t,e)}function gA(t){return(e,n)=>{const r=yo(e,t);return{data:e,facets:n.map(i=>i.filter(s=>r[s]))}}}function _A(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Aj(t,{sort:e,...n}={}){return{...(l2(t)&&t.channel!==void 0?yh:Cj)(n,t5(t)),sort:_h(e)?e:null}}function t5(t){return(typeof t=="function"&&t.length!==1?Ij:Rj)(t)}function Ij(t){return(e,n)=>{const r=(i,s)=>t(e[i],e[s]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function Rj(t){let e,n;({channel:e,value:t,order:n}={...c2(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Zg:Hl),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Hl;break;case"descending":n=Zg;break;default:throw new Error(`invalid order: ${n}`)}return(i,s,a)=>{let l;if(e===void 0)l=yo(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(l=a[e],!l)return{};l=l.value}const c=(f,p)=>n(l[f],l[p]);return{data:i,facets:s.map(f=>f.slice().sort(c))}}}function Pj(t,e,n=Nj){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&of(t))return Lj(t);if(typeof t=="function")return Oj(t);if(/^p\d{2}$/i.test(t))return Eu(ej(t));switch(`${t}`.toLowerCase()){case"first":return Bj;case"last":return zj;case"identity":return Dj;case"count":return c9;case"distinct":return Fj;case"sum":return e==null?c9:Uj;case"proportion":return f9(e,"data");case"proportion-facet":return f9(e,"facet");case"deviation":return Eu(rq);case"min":return Eu(Fl);case"min-index":return Eu(pq);case"max":return Eu(wo);case"max-index":return Eu(dq);case"mean":return u9(tp);case"median":return u9(xy);case"variance":return Eu(lk);case"mode":return Eu(_q)}return n(t)}function Nj(t){throw new Error(`invalid reduce: ${t}`)}function Lj(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Oj(t){return{reduceIndex(e,n,r){return t(j3(n,e),r)}}}function Eu(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function u9(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return So(n)?new Date(r):r}}}const Dj={reduceIndex(t,e){return j3(e,t)}},Bj={reduceIndex(t,e){return e[t[0]]}},zj={reduceIndex(t,e){return e[t[t.length-1]]}},c9={label:"Frequency",reduceIndex(t){return t.length}},Fj={label:"Distinct",reduceIndex(t,e){const n=new F_;for(const r of t)n.add(e[r]);return n.size}},Uj=Eu(gr);function f9(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>gr(n,s=>r[s])/i}}function gp(t,{scale:e,type:n,value:r,filter:i,hint:s,label:a=rm(r)},l){return s===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(s=r.hint),vA(l,{scale:e,type:n,value:yo(t,r),label:a,filter:i,hint:s})}function qj(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,gp(e,r,n)]))}function Hj(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:s}])=>{const a=i==null?null:e[i];return[r,a==null?s:Zi(s,a)]}));return n.channels=t,n}function vA(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&g4(r,f2)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&g4(r,_j)?null:"opacity";break;case"symbol":n!==!0&&g4(r,Ej)?(e.scale=null,e.value=Zi(r,Q3)):e.scale="symbol";break;default:e.scale=ti.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!ti.has(n))throw new Error(`unknown scale: ${n}`);return e}function Wj(t,e,n,r,i){const{order:s,reverse:a,reduce:l=!0,limit:c}=i;for(const f in i){if(!ti.has(f))continue;let{value:p,order:m=s,reverse:g=a,reduce:y=l,limit:b=c}=c2(i[f]);const S=p==null?void 0:p.startsWith("-");if(S&&(p=p.slice(1)),m=m===void 0?S!==(p==="width"||p==="height")?bA:yA:Vj(m),y==null||y===!1)continue;const I=f==="fx"||f==="fy"?$j(e,r[f]):Gj(n,f);if(!I)throw new Error(`missing channel for scale: ${f}`);const R=I.value,[k=0,A=1/0]=lf(b)?b:b<0?[b]:[0,b];if(p==null)I.domain=()=>{let C=Array.from(new F_(R));return g&&(C=C.reverse()),(k!==0||A!==1/0)&&(C=C.slice(k,A)),C};else{const C=p==="data"?t:p==="height"?h9(n,"y1","y2"):p==="width"?h9(n,"x1","x2"):lb(n,p,p==="y"?"y2":p==="x"?"x2":void 0),P=Pj(y===!0?"max":y,C);I.domain=()=>{let D=iq(Qc(R),F=>P.reduceIndex(F,C),F=>R[F]);return m&&D.sort(m),g&&D.reverse(),(k!==0||A!==1/0)&&(D=D.slice(k,A)),D.map(oA)}}}}function Gj(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function $j(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let s=0;s<n.length;++s){const a=r[n[s][0]];for(const l of t[s])i[l]=a}return e}function h9(t,e,n){const r=lb(t,e),i=lb(t,n);return Zi(i,(s,a)=>Math.abs(s-r[a]),Float64Array)}function lb(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function Vj(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return yA;case"descending":return bA}throw new Error(`invalid order: ${t}`)}function yA([t,e],[n,r]){return Hl(e,r)||Hl(t,n)}function bA([t,e],[n,r]){return Zg(e,r)||Hl(t,n)}function d9(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function Zj(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,s)=>i!==r[s]))&&(n=r,e=t(...r)),e)}const Yj=Zj(t=>new Intl.NumberFormat(t));function jj(t="en-US"){const e=Yj(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function Kj(t){return XC(t,"Invalid Date")}function Xj(t="en-US"){const e=jj(t);return n=>(n instanceof Date?Kj:typeof n=="number"?e:Hs)(n)}const Y0=Xj();let ub=0,cb;function Jj(){const t=ub;return ub=0,cb=void 0,t}function Nc(t){t!==cb&&(cb=t,console.warn(t),++ub)}const Gs=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Qj=0;function p9(){return`plot-clip-${++Qj}`}function eK(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:s,target:a,fill:l,fillOpacity:c,stroke:f,strokeWidth:p,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:y,strokeMiterlimit:b,strokeDasharray:S,strokeDashoffset:I,opacity:R,mixBlendMode:k,imageFilter:A,paintOrder:C,pointerEvents:P,shapeRendering:D,channels:F},{ariaLabel:Z,fill:V="currentColor",fillOpacity:Y,stroke:H="none",strokeOpacity:J,strokeWidth:he,strokeLinecap:le,strokeLinejoin:ne,strokeMiterlimit:pe,paintOrder:fe}){V===null&&(l=null,c=null),H===null&&(f=null,m=null),ba(V)?!ba(H)&&(!ba(l)||F!=null&&F.fill)&&(H="none"):ba(H)&&(!ba(f)||F!=null&&F.stroke)&&(V="none");const[_e,me]=Z0(l,V),[$,ee]=vs(c,Y),[ae,Ee]=Z0(f,H),[Ce,Oe]=vs(m,J),[be,ke]=vs(R);mp(Ee)||(p===void 0&&(p=he),y===void 0&&(y=le),g===void 0&&(g=ne),b===void 0&&!vj(g)&&(b=pe),!mp(me)&&C===void 0&&(C=fe));const[Pe,ge]=vs(p);return V!==null&&(t.fill=rs(me,"currentColor"),t.fillOpacity=pd(ee,1)),H!==null&&(t.stroke=rs(Ee,"none"),t.strokeWidth=pd(ge,1),t.strokeOpacity=pd(Oe,1),t.strokeLinejoin=rs(g,"miter"),t.strokeLinecap=rs(y,"butt"),t.strokeMiterlimit=pd(b,4),t.strokeDasharray=rs(S,"none"),t.strokeDashoffset=rs(I,"0")),t.target=Hs(a),t.ariaLabel=Hs(Z),t.ariaDescription=Hs(i),t.ariaHidden=Hs(s),t.opacity=pd(ke,1),t.mixBlendMode=rs(k,"normal"),t.imageFilter=rs(A,"none"),t.paintOrder=rs(C,"normal"),t.pointerEvents=rs(P,"auto"),t.shapeRendering=rs(D,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:_e,scale:"auto",optional:!0},fillOpacity:{value:$,scale:"auto",optional:!0},stroke:{value:ae,scale:"auto",optional:!0},strokeOpacity:{value:Ce,scale:"auto",optional:!0},strokeWidth:{value:Pe,optional:!0},opacity:{value:be,scale:"auto",optional:!0}}}function tK(t,e){e&&t.filter(n=>V3(e[n])).append("title").call(rK,e)}function nK(t,e){e&&t.filter(([n])=>V3(e[n])).append("title").call(iK,e)}function rK(t,e){e&&t.text(n=>Y0(e[n]))}function iK(t,e){e&&t.text(([n])=>Y0(e[n]))}function ec(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Zt(t,"aria-label",g=>r[g]),s&&Zt(t,"fill",g=>s[g]),a&&Zt(t,"fill-opacity",g=>a[g]),l&&Zt(t,"stroke",g=>l[g]),c&&Zt(t,"stroke-opacity",g=>c[g]),f&&Zt(t,"stroke-width",g=>f[g]),p&&Zt(t,"opacity",g=>p[g]),m&&xA(t,g=>m[g],e),n||tK(t,i)}function sK(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:s,fillOpacity:a,stroke:l,strokeOpacity:c,strokeWidth:f,opacity:p,href:m}){r&&Zt(t,"aria-label",([g])=>r[g]),s&&Zt(t,"fill",([g])=>s[g]),a&&Zt(t,"fill-opacity",([g])=>a[g]),l&&Zt(t,"stroke",([g])=>l[g]),c&&Zt(t,"stroke-opacity",([g])=>c[g]),f&&Zt(t,"stroke-width",([g])=>f[g]),p&&Zt(t,"opacity",([g])=>p[g]),m&&xA(t,([g])=>m[g],e),n||nK(t,i)}function aK({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:s,strokeWidth:a,opacity:l,href:c},{tip:f}){return[t,f?void 0:e,n,r,i,s,a,l,c].filter(p=>p!==void 0)}function oK(t,e,n){const r=m3(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&Nc("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*lK(t,e,n,r){const{z:i}=n,{z:s}=r,a=aK(r,n),l=[...e,...a];for(const c of s?oK(t,s,i):[t]){let f,p;e:for(const m of c){for(const g of l)if(!Wc(g[m])){p&&p.push(-1);continue e}if(f===void 0){p&&(yield p),f=a.map(g=>A0(g[m])),p=[m];continue}p.push(m);for(let g=0;g<a.length;++g)if(A0(a[g][m])!==f[g]){yield p,f=a.map(b=>A0(b[m])),p=[m];continue e}}p&&(yield p)}}function wA(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=rl(t,"clip",["frame","sphere"])),t}function uK(t,e,n,r){let i;const{clip:s=r.clip}=e;switch(s){case"frame":{const{width:a,height:l,marginLeft:c,marginRight:f,marginTop:p,marginBottom:m}=n,g=p9();i=`url(#${g})`,t=Ki("svg:g",r).call(y=>y.append("svg:clipPath").attr("id",g).append("rect").attr("x",c).attr("y",p).attr("width",a-f-c).attr("height",l-p-m)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const l=p9();i=`url(#${l})`,t.append("clipPath").attr("id",l).append("path").attr("d",dh(a)({type:"Sphere"}));break}}Zt(t,"aria-label",e.ariaLabel),Zt(t,"aria-description",e.ariaDescription),Zt(t,"aria-hidden",e.ariaHidden),Zt(t,"clip-path",i)}function il(t,e,n,r){uK(t,e,n,r),Zt(t,"fill",e.fill),Zt(t,"fill-opacity",e.fillOpacity),Zt(t,"stroke",e.stroke),Zt(t,"stroke-width",e.strokeWidth),Zt(t,"stroke-opacity",e.strokeOpacity),Zt(t,"stroke-linejoin",e.strokeLinejoin),Zt(t,"stroke-linecap",e.strokeLinecap),Zt(t,"stroke-miterlimit",e.strokeMiterlimit),Zt(t,"stroke-dasharray",e.strokeDasharray),Zt(t,"stroke-dashoffset",e.strokeDashoffset),Zt(t,"shape-rendering",e.shapeRendering),Zt(t,"filter",e.imageFilter),Zt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Zt(t,"pointer-events",i)}function sl(t,e){cK(t,"mix-blend-mode",e.mixBlendMode),Zt(t,"opacity",e.opacity)}function xA(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const s=this.ownerDocument.createElementNS(sh.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(sh.xlink,"href",i),n!=null&&s.setAttribute("target",n),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Zt(t,e,n){n!=null&&t.attr(e,n)}function cK(t,e,n){n!=null&&t.style(e,n)}function Mo(t,e,{x:n,y:r},i=Gs,s=Gs){i+=e.dx,s+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(s+=r.bandwidth()/2),(i||s)&&t.attr("transform",`translate(${i},${s})`)}function rs(t,e){if((t=Hs(t))!==e)return t}function pd(t,e){if((t=kr(t))!==e)return t}const fK=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function n5(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!fK.test(t))throw new Error(`invalid class name: ${t}`);return t}function r5(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function lm({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:s,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-s:(r+n-s)/2]}function i5(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:wA(n)}}function Ki(t,{document:e}){return Un(Up(t).call(e.documentElement))}const SA=Math.PI,wu=2*SA,m9=.618;function hK({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:s=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let l,c,f="frame";if(of(t)){let P;if({type:t,domain:c,inset:P,insetTop:n=P!==void 0?P:n,insetRight:r=P!==void 0?P:r,insetBottom:i=P!==void 0?P:i,insetLeft:s=P!==void 0?P:s,clip:f=f,...l}=t,t==null)return}typeof t!="function"&&({type:t}=TA(t));const{width:p,height:m,marginLeft:g,marginRight:y,marginTop:b,marginBottom:S}=a,I=p-g-y-s-r,R=m-b-S-n-i;if(t=t==null?void 0:t({width:I,height:R,clip:f,...l}),t==null)return;f=dK(f,g,b,p-y,m-S);let k=g+s,A=b+n,C;if(c!=null){const[[P,D],[F,Z]]=dh(t).bounds(c),V=Math.min(I/(F-P),R/(Z-D));V>0?(k-=(V*(P+F)-I)/2,A-=(V*(D+Z)-R)/2,C=lp({point(Y,H){this.stream.point(Y*V+k,H*V+A)}})):Nc("Warning: the projection could not be fit to the specified domain; using the default scale.")}return C??(C=k===0&&A===0?kA():lp({point(P,D){this.stream.point(P+k,D+A)}})),{stream:P=>t.stream(C.stream(f(P)))}}function TA(t){switch(`${t}`.toLowerCase()){case"albers-usa":return qo(mV,.7463,.4673);case"albers":return _1(NE,.7463,.4673);case"azimuthal-equal-area":return qo(gV,4,4);case"azimuthal-equidistant":return qo(_V,wu,wu);case"conic-conformal":return _1(yV,wu,wu);case"conic-equal-area":return _1(Og,6.1702,2.9781);case"conic-equidistant":return _1(xV,7.312,3.6282);case"equal-earth":return qo(TV,5.4133,2.6347);case"equirectangular":return qo(bV,wu,SA);case"gnomonic":return qo(kV,3.4641,3.4641);case"identity":return{type:kA};case"reflect-y":return{type:pK};case"mercator":return qo(BE,wu,wu);case"orthographic":return qo(EV,2,2);case"stereographic":return qo(MV,2,2);case"transverse-mercator":return qo(CV,wu,wu);default:throw new Error(`unknown projection type: ${t}`)}}function dK(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return s=>s;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return mE(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function qo(t,e,n){return{type:({width:r,height:i,rotate:s,precision:a=.15,clip:l})=>{var f,p,m;const c=t();return a!=null&&((f=c.precision)==null||f.call(c,a)),s!=null&&((p=c.rotate)==null||p.call(c,s)),typeof l=="number"&&((m=c.clipAngle)==null||m.call(c,l)),c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/e}}function _1(t,e,n){const{type:r,aspectRatio:i}=qo(t,e,n);return{type:s=>{const{parallels:a,domain:l,width:c,height:f}=s,p=r(s);return a!=null&&(p.parallels(a),l===void 0&&p.fitSize([c,f],{type:"Sphere"})),p},aspectRatio:i}}const kA=nm({stream:t=>t}),pK=nm(lp({point(t,e){this.stream.point(t,-e)}}));function mK(t,e,n,r){const i=n[t],s=n[e],a=i.length,l=n[t]=new Float64Array(a).fill(NaN),c=n[e]=new Float64Array(a).fill(NaN);let f;const p=r.stream({point(m,g){l[f]=m,c[f]=g}});for(f=0;f<a;++f)p.point(i[f],s[f])}function gK({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(of(t)&&(t=t.type),t!=null)}function _K(t){if(typeof(t==null?void 0:t.stream)=="function")return m9;if(of(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=TA(t);if(e)return e}return m9}}function vK(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},s={point(a,l){e.push(a),n.push(l)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)xc(a,s);return[r,i]}const EA=new Map([["accent",QZ],["category10",JZ],["dark2",eY],["paired",tY],["pastel1",nY],["pastel2",rY],["set1",iY],["set2",sY],["set3",aY],["tableau10",oY]]);function yK(t){return t!=null&&EA.has(`${t}`.toLowerCase())}const g9=new Map([...EA,["brbg",xu(yM,bM)],["prgn",xu(wM,xM)],["piyg",xu(SM,TM)],["puor",xu(kM,EM)],["rdbu",xu(rb,gh)],["rdgy",xu(MM,CM)],["rdylbu",xu(ib,Fg)],["rdylgn",xu(AM,IM)],["spectral",xu(RM,Ug)],["burd",_9(rb,gh)],["buylrd",_9(ib,Fg)],["blues",Hi(nC,rC)],["greens",Hi(iC,sC)],["greys",Hi(aC,oC)],["oranges",Hi(hC,dC)],["purples",Hi(lC,uC)],["reds",Hi(cC,fC)],["turbo",Su(qg)],["viridis",Su(bC)],["magma",Su(wC)],["inferno",Su(U3)],["plasma",Su(xC)],["cividis",Su(pC)],["cubehelix",Su(mC)],["warm",Su(gC)],["cool",Su(_C)],["bugn",Hi(PM,NM)],["bupu",Hi(LM,OM)],["gnbu",Hi(DM,BM)],["orrd",Hi(zM,FM)],["pubu",Hi(HM,WM)],["pubugn",Hi(UM,qM)],["purd",Hi(GM,$M)],["rdpu",Hi(VM,ZM)],["ylgn",Hi(KM,XM)],["ylgnbu",Hi(YM,jM)],["ylorbr",Hi(JM,QM)],["ylorrd",Hi(eC,tC)],["rainbow",v9(vC)],["sinebow",v9(yC)]]);function Hi(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Ta(e,n):t[n])}function xu(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Ta(e,n):t[n])}function _9(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Ta(r=>e(1-r),n):t[n].slice().reverse())}function Su(t){return({length:e})=>Ta(t,Math.max(2,Math.floor(e)))}function v9(t){return({length:e})=>Ta(t,Math.floor(e)+1).slice(0,-1)}function MA(t){const e=`${t}`.toLowerCase();if(!g9.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return g9.get(e)}function p2(t,e){const n=MA(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function bK(t,e="greys"){const n=new Set,[r,i]=p2(e,2);for(const s of t)if(s!=null)if(s===!0)n.add(i);else if(s===!1)n.add(r);else return;return[...n]}const y9=new Map([["brbg",bM],["prgn",xM],["piyg",TM],["puor",EM],["rdbu",gh],["rdgy",CM],["rdylbu",Fg],["rdylgn",IM],["spectral",Ug],["burd",t=>gh(1-t)],["buylrd",t=>Fg(1-t)],["blues",rC],["greens",sC],["greys",oC],["purples",uC],["reds",fC],["oranges",dC],["turbo",qg],["viridis",bC],["magma",wC],["inferno",U3],["plasma",xC],["cividis",pC],["cubehelix",mC],["warm",gC],["cool",_C],["bugn",NM],["bupu",OM],["gnbu",BM],["orrd",FM],["pubugn",qM],["pubu",WM],["purd",$M],["rdpu",ZM],["ylgnbu",jM],["ylgn",XM],["ylorbr",QM],["ylorrd",tC],["rainbow",vC],["sinebow",yC]]);function s5(t){const e=`${t}`.toLowerCase();if(!y9.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return y9.get(e)}const wK=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function xK(t){return t!=null&&wK.has(`${t}`.toLowerCase())}const CA=t=>e=>t(1-e),y4=[0,1],b9=new Map([["number",gs],["rgb",H0],["hsl",$W],["hcl",YW],["lab",VW]]);function AA(t){const e=`${t}`.toLowerCase();if(!b9.has(e))throw new Error(`unknown interpolator: ${e}`);return b9.get(e)}function um(t,e,n,{type:r,nice:i,clamp:s,zero:a,domain:l=RA(t,n),unknown:c,round:f,scheme:p,interval:m,range:g=ti.get(t)===sm?NK(n,l):ti.get(t)===am?LK(n,l):ti.get(t)===om?y4:void 0,interpolate:y=ti.get(t)===Qu?p==null&&g!==void 0?H0:s5(p!==void 0?p:r==="cyclical"?"rainbow":"turbo"):f?Wp:gs,reverse:b}){if(m=im(m,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof y!="function"&&(y=AA(y)),b=!!b,g!==void 0){const S=(l=Ya(l)).length,I=(g=Ya(g)).length;if(S!==I){if(y.length===1)throw new Error("invalid piecewise interpolator");y=W_(y,g),g=void 0}}if(y.length===1?(b&&(y=CA(y),b=!1),g===void 0&&(g=Float64Array.from(l,(S,I)=>I/(l.length-1)),g.length===2&&(g=y4)),e.interpolate((g===y4?nm:o5)(y))):e.interpolate(y),a){const[S,I]=ys(l);(S>0||I<0)&&(l=pp(l),vh(l)!==Math.sign(S)?l[l.length-1]=0:l[0]=0)}return b&&(l=np(l)),e.domain(l).unknown(c),i&&(e.nice(SK(i,r)),l=e.domain()),g!==void 0&&e.range(g),s&&e.clamp(s),{type:r,domain:l,range:g,scale:e,interpolate:y,interval:m}}function SK(t,e){return t===!0?void 0:typeof t=="number"?t:cj(t,e)}function TK(t,e,n){return um(t,j_(),e,n)}function kK(t,e,n){return IA(t,e,{...n,exponent:.5})}function IA(t,e,{exponent:n=1,...r}){return um(t,QE().exponent(n),e,{...r,type:"pow"})}function EK(t,e,{base:n=10,domain:r=OK(e),...i}){return um(t,jE().base(n),e,{...i,domain:r})}function MK(t,e,{constant:n=1,...r}){return um(t,XE().constant(n),e,r)}function CK(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:s="rdylbu",domain:a=DK(e),unknown:l,interpolate:c,reverse:f}){return n===void 0&&(n=c!==void 0?Ta(c,i):ti.get(t)===Qu?p2(s,i):void 0),a.length>0&&(a=eM(a,n===void 0?{length:i}:n).quantiles()),a5(t,e,{domain:a,range:n,reverse:f,unknown:l})}function AK(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:s=RA(t,e),unknown:a,interpolate:l,reverse:c}){const[f,p]=ys(s);let m;return n===void 0?(m=Qd(f,p,r),m[0]<=f&&m.splice(0,1),m[m.length-1]>=p&&m.pop(),r=m.length+1,n=l!==void 0?Ta(l,r):ti.get(t)===Qu?p2(i,r):void 0):(m=Ta(gs(f,p),r+1).slice(1,-1),f instanceof Date&&(m=m.map(g=>new Date(g)))),vh(Ya(s))<0&&m.reverse(),a5(t,e,{domain:m,range:n,reverse:c,unknown:a})}function a5(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:s,range:a=s!==void 0?Ta(s,n.length+1):ti.get(t)===Qu?p2(i,n.length+1):void 0,reverse:l}){n=Ya(n);const c=vh(n);if(!isNaN(c)&&!IK(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return l&&(a=np(a)),{type:"threshold",scale:tM(c<0?np(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function IK(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const s=Fp(i,i=t[n]);if(s!==0&&s!==e)return!1}return!0}function RK(t){return{type:"identity",scale:xj(ti.get(t))?VE():e=>e}}function _p(t,e=KC){return t.length?[Fl(t,({value:n})=>n===void 0?n:Fl(n,e)),wo(t,({value:n})=>n===void 0?n:wo(n,e))]:[0,1]}function RA(t,e){const n=ti.get(t);return(n===sm||n===om||n===am?PK:_p)(e)}function PK(t){return[0,t.length?wo(t,({value:e})=>e===void 0?e:wo(e,KC)):1]}function NK(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=ep(t,.5,({value:a})=>a===void 0?NaN:ep(a,.25,em)),i=e.map(a=>3*Math.sqrt(a/r)),s=30/wo(i);return s<1?i.map(a=>a*s):i}function LK(t,e){const n=xy(t,({value:s})=>s===void 0?NaN:xy(s,Math.abs)),r=e.map(s=>12*s/n),i=60/wo(r);return i<1?r.map(s=>s*i):r}function OK(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return _p(t,em);if(n<0)return _p(t,a2)}return[1,10]}function DK(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function o5(t){return(e,n)=>r=>t(e+r*(n-e))}function m2(t,e,n,r,{type:i,nice:s,clamp:a,domain:l=_p(r),unknown:c,pivot:f=0,scheme:p,range:m,symmetric:g=!0,interpolate:y=ti.get(t)===Qu?p==null&&m!==void 0?H0:s5(p!==void 0?p:"rdbu"):gs,reverse:b}){f=+f,l=Ya(l);let[S,I]=l;if(l.length>2&&Nc(`Warning: the diverging ${t} scale domain contains extra elements.`),Fp(S,I)<0&&([S,I]=[I,S],b=!b),S=Math.min(S,f),I=Math.max(I,f),typeof y!="function"&&(y=AA(y)),m!==void 0&&(y=y.length===1?o5(y)(...m):W_(y,m)),b&&(y=CA(y)),g){const R=n.apply(f),k=R-n.apply(S),A=n.apply(I)-R;k<A?S=n.invert(R-A):k>A&&(I=n.invert(R+k))}return e.domain([S,f,I]).unknown(c).interpolator(y),a&&e.clamp(a),s&&e.nice(s),{type:i,domain:[S,I],pivot:f,interpolate:y,scale:e}}function BK(t,e,n){return m2(t,mM(),qK,e,n)}function zK(t,e,n){return PA(t,e,{...n,exponent:.5})}function PA(t,e,{exponent:n=1,...r}){return m2(t,vM().exponent(n=+n),GK(n),e,{...r,type:"diverging-pow"})}function FK(t,e,{base:n=10,pivot:r=1,domain:i=_p(e,r<0?a2:em),...s}){return m2(t,gM().base(n=+n),HK,e,{domain:i,pivot:r,...s})}function UK(t,e,{constant:n=1,...r}){return m2(t,_M().constant(n=+n),$K(n),e,r)}const qK={apply(t){return t},invert(t){return t}},HK={apply:Math.log,invert:Math.exp},WK={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function GK(t){return t===.5?WK:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function $K(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function NA(t,e,n,r){return um(t,e,n,r)}function VK(t,e,n){return NA(t,jZ(),e,n)}function ZK(t,e,n){return NA(t,KZ(),e,n)}const cm=Symbol("ordinal");function LA(t,e,n,{type:r,interval:i,domain:s,range:a,reverse:l,hint:c}){return i=im(i,r),s===void 0&&(s=DA(n,i,t)),(r==="categorical"||r===cm)&&(r="ordinal"),l&&(s=np(s)),s=e.domain(s).domain(),a!==void 0&&(typeof a=="function"&&(a=a(s)),e.range(a)),{type:r,domain:s,range:a,scale:e,hint:c,interval:i}}function YK(t,e,{type:n,interval:r,domain:i,range:s,scheme:a,unknown:l,...c}){r=im(r,n),i===void 0&&(i=DA(e,r,t));let f;if(ti.get(t)===d2)f=XK(e),s=s===void 0?JK(f):Zi(s,Q3);else if(ti.get(t)===Qu&&(s===void 0&&(n==="ordinal"||n===cm)&&(s=bK(i,a),s!==void 0&&(a=void 0)),a===void 0&&s===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(s!==void 0){const p=s5(a),m=s[0],g=s[1]-s[0];s=({length:y})=>Ta(b=>p(m+g*b),y)}else s=MA(a);if(l===eb)throw new Error(`implicit unknown on ${t} scale is not supported`);return LA(t,up().unknown(l),e,{...c,type:n,domain:i,range:s,hint:f})}function jK(t,e,{align:n=.5,padding:r=.5,...i}){return OA(AV().align(n).padding(r),e,i,t)}function KK(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:s=t==="fx"||t==="fy"?0:r,...a}){return OA(Vp().align(n).paddingInner(i).paddingOuter(s),e,a,t)}function OA(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=LA(r,t,e,n),t.round=i,t}function DA(t,e,n){const r=new F_;for(const{value:i,domain:s}of t){if(s!==void 0)return s();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,s]=ys(r).map(e.floor,e);return e.range(i,e.offset(s))}if(r.size>1e4&&ti.get(n)===Il)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return dg(r,Hl)}function w9(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function XK(t){return{fill:w9(t,"fill"),stroke:w9(t,"stroke")}}function JK(t){return ba(t.fill)?kY:TY}function fb(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:s=n,insetLeft:a=n,round:l,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,facet:{label:b=e}={},...S}={}){const I={};for(const[R,k]of t){const A=S[R],C=nX(R,k,{round:ti.get(R)===Il?l:void 0,nice:c,clamp:f,zero:p,align:m,padding:g,projection:y,...A});if(C){let{label:P=R==="fx"||R==="fy"?b:e,percent:D,transform:F,inset:Z,insetTop:V=Z!==void 0?Z:R==="y"?r:0,insetRight:Y=Z!==void 0?Z:R==="x"?i:0,insetBottom:H=Z!==void 0?Z:R==="y"?s:0,insetLeft:J=Z!==void 0?Z:R==="x"?a:0}=A||{};if(F==null)F=void 0;else if(typeof F!="function")throw new Error("invalid scale transform; not a function");C.percent=!!D,C.label=P===void 0?eX(k,C):P,C.transform=F,R==="x"||R==="fx"?(C.insetLeft=+J,C.insetRight=+Y):(R==="y"||R==="fy")&&(C.insetTop=+V,C.insetBottom=+H),I[R]=C}}return I}function x9(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:s,type:a,interval:l,label:c}=i;e[r]=oX(i),n[r]=s,s.type=a,l!=null&&(s.interval=l),c!=null&&(s.label=c)}return n}function QK(t,e){const{x:n,y:r,fx:i,fy:s}=t,a=i||s?l5(e):e;i&&S9(i,a),s&&T9(s,a);const l=i||s?BA(t,e):e;n&&S9(n,l),r&&T9(r,l)}function eX(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!uf(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function l5(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:s,height:a,facet:{marginTop:l,marginRight:c,marginBottom:f,marginLeft:p}}=t;return{marginTop:Math.max(e,l),marginRight:Math.max(n,c),marginBottom:Math.max(r,f),marginLeft:Math.max(i,p),width:s,height:a}}function BA({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=l5(n);return{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:t?t.scale.bandwidth()+a+i:l,height:e?e.scale.bandwidth()+r+s:c,facet:{width:l,height:c}}}function S9(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:s=0,marginRight:a=0}=e,l=s+n,c=i-a-r;t.range=[l,Math.max(l,c)],uf(t)||(t.range=FA(t)),t.scale.range(t.range)}zA(t)}function T9(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:s=0,marginBottom:a=0}=e,l=s+n,c=i-a-r;t.range=[Math.max(l,c),l],uf(t)?t.range.reverse():t.range=FA(t),t.scale.range(t.range)}zA(t)}function zA(t){t.round===void 0&&iX(t)&&tX(t)<=30&&t.scale.round(!0)}function tX({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,l=Math.abs(r-n)/Math.max(1,a+s*2);return(l-Math.floor(l))*a}function FA(t){const e=t.scale.domain().length+UA(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,s)=>n+s/(e-1)*(r-n))}function nX(t,e=[],n={}){const r=rX(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&uf({type:r})){const i=e.map(({value:s})=>s).filter(s=>s!==void 0);i.some(So)?Nc(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Pf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Pf(r)}".`):i.some(dj)?Nc(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Pf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Pf(r)}".`):i.some(pj)&&Nc(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Pf(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Pf(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=v1(e,n,Yg);break;case"identity":switch(ti.get(t)){case Il:n=v1(e,n,Yg);break;case d2:n=v1(e,n,sX);break}break;case"utc":case"time":n=v1(e,n,tj);break}switch(r){case"diverging":return BK(t,e,n);case"diverging-sqrt":return zK(t,e,n);case"diverging-pow":return PA(t,e,n);case"diverging-log":return FK(t,e,n);case"diverging-symlog":return UK(t,e,n);case"categorical":case"ordinal":case cm:return YK(t,e,n);case"cyclical":case"sequential":case"linear":return TK(t,e,n);case"sqrt":return kK(t,e,n);case"threshold":return a5(t,e,n);case"quantile":return CK(t,e,n);case"quantize":return AK(t,e,n);case"pow":return IA(t,e,n);case"log":return EK(t,e,n);case"symlog":return MK(t,e,n);case"utc":return ZK(t,e,n);case"time":return VK(t,e,n);case"point":return jK(t,e,n);case"band":return KK(t,e,n);case"identity":return RK(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Pf(t){return typeof t=="symbol"?t.description:t}const k9={toString:()=>"projection"};function rX(t,e,{type:n,domain:r,range:i,scheme:s,pivot:a,projection:l}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&l!=null&&(n=k9);for(const{type:f}of e)if(f!==void 0){if(n===void 0)n=f;else if(n!==f)throw new Error(`scale incompatible with channel: ${n} !== ${f}`)}if(n===k9)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:f})=>f!==void 0))return;const c=ti.get(t);if(c===sm)return"sqrt";if(c===om||c===am)return"linear";if(c===d2)return"ordinal";if((r||i||[]).length>2)return b4(c);if(r!==void 0){if(l9(r))return b4(c);if(So(r))return"utc"}else{const f=e.map(({value:p})=>p).filter(p=>p!==void 0);if(f.some(l9))return b4(c);if(f.some(So))return"utc"}if(c===Qu){if(a!=null||xK(s))return"diverging";if(yK(s))return"categorical"}return"linear"}function b4(t){switch(t){case Il:return"point";case Qu:return cm;default:return"ordinal"}}function uf({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===cm}function UA({type:t}){return t==="threshold"}function iX({type:t}){return t==="point"||t==="band"}function bh(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function v1(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function sX(t){return Zi(t,Q3)}function aX(t){return e=>{if(!ti.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function oX({scale:t,type:e,domain:n,range:r,interpolate:i,interval:s,transform:a,percent:l,pivot:c}){if(e==="identity")return{type:"identity",apply:p=>p,invert:p=>p};const f=t.unknown?t.unknown():void 0;return{type:e,domain:pp(n),...r!==void 0&&{range:pp(r)},...a!==void 0&&{transform:a},...l&&{percent:l},...f!==void 0&&{unknown:f},...s!==void 0&&{interval:s},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:p=>t(p),...t.invert&&{invert:p=>t.invert(p)}}}function lX(t,e,n={}){let r=.5-Gs,i=.5+Gs,s=.5+Gs,a=.5-Gs;for(const{marginTop:S,marginRight:I,marginBottom:R,marginLeft:k}of e)S>r&&(r=S),I>i&&(i=I),R>s&&(s=R),k>a&&(a=k);let{margin:l,marginTop:c=l!==void 0?l:r,marginRight:f=l!==void 0?l:i,marginBottom:p=l!==void 0?l:s,marginLeft:m=l!==void 0?l:a}=n;c=+c,f=+f,p=+p,m=+m;let{width:g=640,height:y=uX(t,n,{width:g,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:s,marginLeftDefault:a})+Math.max(0,c-r+p-s)}=n;g=+g,y=+y;const b={width:g,height:y,marginTop:c,marginRight:f,marginBottom:p,marginLeft:m};if(t.fx||t.fy){let{margin:S,marginTop:I=S!==void 0?S:c,marginRight:R=S!==void 0?S:f,marginBottom:k=S!==void 0?S:p,marginLeft:A=S!==void 0?S:m}=n.facet??{};I=+I,R=+R,k=+k,A=+A,b.facet={marginTop:I,marginRight:R,marginBottom:k,marginLeft:A}}return b}function uX({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:s},{width:a,marginTopDefault:l,marginRightDefault:c,marginBottomDefault:f,marginLeftDefault:p}){const m=n?n.scale.domain().length:1,g=_K(i);if(g){const b=r?r.scale.domain().length:1,S=(1.1*m-.1)/(1.1*b-.1)*g,I=Math.max(.1,Math.min(10,S));return Math.round((a-p-c)*I+l+f)}const y=e?uf(e)?e.scale.domain().length:Math.max(7,17/m):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const b=E9("y",e)/(E9("x",t)*s),S=r?r.scale.bandwidth():1,I=n?n.scale.bandwidth():1,R=S*(a-p-c)-t.insetLeft-t.insetRight;return(b*R+e.insetTop+e.insetBottom)/I+l+f}return!!(e||n)*Math.max(1,Math.min(60,y*m))*20+!!r*30+60}function E9(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const l=e.scale.exponent();i=c=>Math.pow(c,l);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[s,a]=ys(r);return Math.abs(i(a)-i(s))}function cX(t,e){const{fx:n,fy:r}=fb(t,e),i=n==null?void 0:n.scale.domain(),s=r==null?void 0:r.scale.domain();return i&&s?tq(i,s).map(([a,l],c)=>({x:a,y:l,i:c})):i?i.map((a,l)=>({x:a,i:l})):s?s.map((a,l)=>({y:a,i:l})):void 0}function fX(t,{x:e,y:n}){return e&&(e=hb(e)),n&&(n=hb(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function u5(t,{fx:e,fy:n}){const r=Qc(t),i=e==null?void 0:e.value,s=n==null?void 0:n.value;return e&&n?Dd(r,a=>(a.fx=i[a[0]],a.fy=s[a[0]],a),a=>i[a],a=>s[a]):e?Dd(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Dd(r,a=>(a.fy=s[a[0]],a),a=>s[a])}function hX(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:s})=>`translate(${t(i)-r},${e(s)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function dX(t){const e=[],n=new Uint32Array(gr(t,r=>r.length));for(const r of t){let i=0;for(const s of t)r!==s&&(n.set(s,i),i+=s.length);e.push(n.slice(0,i))}return e}const pX=new Map([["top",w4],["right",T4],["bottom",x4],["left",S4],["top-left",y1(w4,S4)],["top-right",y1(w4,T4)],["bottom-left",y1(x4,S4)],["bottom-right",y1(x4,T4)],["top-empty",_X],["right-empty",bX],["bottom-empty",vX],["left-empty",yX],["empty",wX]]);function mX(t){if(t==null)return null;const e=pX.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const M9=new WeakMap;function hb(t){let e=M9.get(t);return e||M9.set(t,e=new U0(Zi(t,(n,r)=>[n,r]))),e}function e0(t,e){return hb(t).get(e)}function gX(t,e,n){return e=A0(e),n=A0(n),t.find(r=>Object.is(A0(r.x),e)&&Object.is(A0(r.y),n))}function g2(t,e,n){var r;return(r=gX(t,e,n))==null?void 0:r.empty}function w4(t,{y:e},{y:n}){return e?e0(e,n)===0:!0}function x4(t,{y:e},{y:n}){return e?e0(e,n)===e.length-1:!0}function S4(t,{x:e},{x:n}){return e?e0(e,n)===0:!0}function T4(t,{x:e},{x:n}){return e?e0(e,n)===e.length-1:!0}function _X(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=e0(e,r);if(s>0)return g2(t,n,e[s-1])}function vX(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=e0(e,r);if(s<e.length-1)return g2(t,n,e[s+1])}function yX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=e0(e,n);if(s>0)return g2(t,e[s-1],r)}function bX(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const s=e0(e,n);if(s<e.length-1)return g2(t,e[s+1],r)}function wX(t,e,{empty:n}){return n}function y1(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function k4(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:s})=>{var a;return((a=r.get(i))==null?void 0:a.get(s))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class Ea{constructor(e,n={},r={},i){const{facet:s="auto",facetAnchor:a,fx:l,fy:c,sort:f,dx:p=0,dy:m=0,margin:g=0,marginTop:y=g,marginRight:b=g,marginBottom:S=g,marginLeft:I=g,clip:R=i==null?void 0:i.clip,channels:k,tip:A,render:C}=r;if(this.data=e,this.sort=_h(f)?f:null,this.initializer=yh(r).initializer,this.transform=this.initializer?r.transform:e5(r).transform,s===null||s===!1?this.facet=null:(this.facet=rl(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=e===eg&&typeof l=="string"?[l]:l,this.fy=e===eg&&typeof c=="string"?[c]:c),this.facetAnchor=mX(a),n=pA(n),k!==void 0&&(n={...xX(k),...n}),i!==void 0&&(n={...eK(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([P,D])=>{if(l2(D.value)){const{value:F,label:Z=D.label,scale:V=D.scale}=D.value;D={...D,label:Z,scale:V,value:F}}if(e===eg&&typeof D.value=="string"){const{value:F}=D;D={...D,value:[F]}}return[P,D]}).filter(([P,{value:D,optional:F}])=>{if(D!=null)return!0;if(F)return!1;throw new Error(`missing channel value: ${P}`)})),this.dx=+p,this.dy=+m,this.marginTop=+y,this.marginRight=+b,this.marginBottom=+S,this.marginLeft=+I,this.clip=wA(R),this.tip=SX(A),this.facet==="super"){if(l||c)throw new Error("super-faceting cannot use fx or fy");for(const P in this.channels){const{scale:D}=n[P];if(!(D!=="x"&&D!=="y"))throw new Error("super-faceting cannot use x or y")}}C!=null&&(this.render=HA(C,this.render))}initialize(e,n,r){let i=Ya(this.data);e===void 0&&i!=null&&(e=[Qc(i)]);const s=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Ya(i)),e!==void 0&&(e.original=s);const a=qj(this.channels,i);return this.sort!=null&&Wj(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:s=Wc}=n[i];if(s!==null){const a=r[i];e=e.filter(l=>s(a[l]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const s=i.replace(/^x|x$/,"y");s in e&&e[s].scale==="y"&&mK(i,s,n,r.projection)}}scale(e,n,r){const i=Hj(e,n);return r.projection&&this.project(e,i,r),i}}function qA(...t){return t.plot=Ea.prototype.plot,t}function HA(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,s,a,l){return t.call(this,n,r,i,s,a,(c,f,p,m,g)=>e.call(this,c,f,p,m,g,l))}}function xX(t){return Object.fromEntries(Object.entries(pA(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:c2(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function SX(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?rl(t,"tip",["x","y","xy"]):t}function c5(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:of(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const C9=new WeakMap;function f5(t,e,{x:n,y:r,px:i,py:s,maxRadius:a=40,channels:l,render:c,...f}={}){return a=+a,i!=null&&(n??(n=null),l={...l,px:{value:i,scale:"x"}}),s!=null&&(r??(r=null),l={...l,py:{value:s,scale:"y"}}),{x:n,y:r,channels:l,...f,render:HA(function(p,m,g,y,b,S){b={...b,pointerSticky:!1};const I=b.ownerSVGElement,{data:R}=b.getMarkState(this);let k=C9.get(I);k||C9.set(I,k={sticky:!1,roots:[],renders:[]});let A=k.renders.push(Ee)-1;const{x:C,y:P,fx:D,fy:F}=m;let Z=D?D(p.fx)-y.marginLeft:0,V=F?F(p.fy)-y.marginTop:0;C!=null&&C.bandwidth&&(Z+=C.bandwidth()/2),P!=null&&P.bandwidth&&(V+=P.bandwidth()/2);const Y=p.fi!=null;let H;if(Y){let ke=k.facetStates;ke||(k.facetStates=ke=new Map),H=ke.get(this),H||ke.set(this,H=new Map)}const[J,he]=lm(this,y),{px:le,py:ne}=g,pe=le?ke=>le[ke]:WA(g,J),fe=ne?ke=>ne[ke]:GA(g,he);let _e,me,$,ee;function ae(ke,Pe){if(Y)if(ee&&(ee=cancelAnimationFrame(ee)),ke==null)H.delete(p.fi);else{H.set(p.fi,Pe),ee=requestAnimationFrame(()=>{ee=null;for(const[ge,De]of H)if(De<Pe||De===Pe&&ge<p.fi){ke=null;break}Ee(ke)});return}Ee(ke)}function Ee(ke){if(_e===ke&&$===k.sticky)return;_e=ke,$=b.pointerSticky=k.sticky;const Pe=_e==null?[]:[_e];Y&&(Pe.fx=p.fx,Pe.fy=p.fy,Pe.fi=p.fi);const ge=S(Pe,m,g,y,b);if(me){if(Y){const De=me.parentNode,ze=me.getAttribute("transform"),Se=ge.getAttribute("transform");ze?ge.setAttribute("transform",ze):ge.removeAttribute("transform"),Se?De.setAttribute("transform",Se):De.removeAttribute("transform"),ge.removeAttribute("aria-label"),ge.removeAttribute("aria-description"),ge.removeAttribute("aria-hidden")}me.replaceWith(ge)}return k.roots[A]=me=ge,_e==null&&(H==null?void 0:H.size)>1||b.dispatchValue(_e==null?null:R[_e]),ge}function Ce(ke){if(k.sticky||ke.pointerType==="mouse"&&ke.buttons===1)return;let[Pe,ge]=dW(ke);Pe-=Z,ge-=V;const De=Pe<y.marginLeft||Pe>y.width-y.marginRight?1:t,ze=ge<y.marginTop||ge>y.height-y.marginBottom?1:e;let Se=null,Ke=a*a;for(const $e of p){const ct=De*(pe($e)-Pe),Qe=ze*(fe($e)-ge),dt=ct*ct+Qe*Qe;dt<=Ke&&(Se=$e,Ke=dt)}if(Se!=null&&(t!==1||e!==1)){const $e=pe(Se)-Pe,ct=fe(Se)-ge;Ke=$e*$e+ct*ct}ae(Se,Ke)}function Oe(ke){ke.pointerType==="mouse"&&_e!=null&&(k.sticky&&k.roots.some(Pe=>Pe==null?void 0:Pe.contains(ke.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(Pe=>Pe(null))):(k.sticky=!0,Ee(_e)),ke.stopImmediatePropagation()))}function be(ke){ke.pointerType==="mouse"&&(k.sticky||ae(null))}return I.addEventListener("pointerenter",Ce),I.addEventListener("pointermove",Ce),I.addEventListener("pointerdown",Oe),I.addEventListener("pointerleave",be),Ee(null)},c)}}function TX(t){return f5(1,1,t)}function kX(t){return f5(1,.01,t)}function EX(t){return f5(.01,1,t)}function WA({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function GA({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function $A(t){return uf(t)&&t.interval===void 0?void 0:"tabular-nums"}function MX(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:s=44+r,marginTop:a=18,marginRight:l=0,marginBottom:c=16+r,marginLeft:f=0,style:p,ticks:m=(i-f-l)/64,tickFormat:g,fontVariant:y=$A(t),round:b=!0,opacity:S,className:I}=e;const R=i5(e);I=n5(I),S=vs(S)[1],g===null&&(g=()=>null);const k=Ki("svg",R).attr("class",`${I}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",s).attr("viewBox",`0 0 ${i} ${s}`).call(J=>J.append("style").text(`.${I}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${I}-ramp text {
  white-space: pre;
}`)).call(r5,p);let A=J=>J.selectAll(".tick line").attr("y1",a+c-s),C;const P=b?(J,he)=>J.rangeRound(he):(J,he)=>J.range(he),{type:D,domain:F,range:Z,interpolate:V,scale:Y,pivot:H}=t;if(V){const J=Z===void 0?V:W_(V.length===1?o5(V):V,Z);C=P(Y.copy(),Ta(gs(f,i-l),Math.min(F.length+(H!==void 0),Z===void 0?1/0:Z.length)));const he=256,le=R.document.createElement("canvas");le.width=he,le.height=1;const ne=le.getContext("2d");for(let pe=0,fe=he-1;pe<he;++pe)ne.fillStyle=J(pe/fe),ne.fillRect(pe,0,1,1);k.append("image").attr("opacity",S).attr("x",f).attr("y",a).attr("width",i-f-l).attr("height",s-a-c).attr("preserveAspectRatio","none").attr("xlink:href",le.toDataURL())}else if(D==="threshold"){const J=F,he=g===void 0?le=>le:typeof g=="string"?Hn(g):g;C=P(j_().domain([-1,Z.length-1]),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(Z).enter().append("rect").attr("x",(le,ne)=>C(ne-1)).attr("y",a).attr("width",(le,ne)=>C(ne)-C(ne-1)).attr("height",s-a-c).attr("fill",le=>le),m=Zi(J,(le,ne)=>ne),g=le=>he(J[le],le)}else C=P(Vp().domain(F),[f,i-l]),k.append("g").attr("fill-opacity",S).selectAll().data(F).enter().append("rect").attr("x",C).attr("y",a).attr("width",Math.max(0,C.bandwidth()-1)).attr("height",s-a-c).attr("fill",Y),A=()=>{};return k.append("g").attr("transform",`translate(0,${s-c})`).call(gk(C).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(r).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",rs(y,"normal")).call(A).call(J=>J.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const VA=Math.PI/180;function _2(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=E4(n),t.markerMid=E4(r),t.markerEnd=E4(i)}function E4(t){if(t==null||t===!1)return null;if(t===!0)return I9;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return A9("auto");case"arrow-reverse":return A9("auto-start-reverse");case"dot":return CX;case"circle":case"circle-fill":return I9;case"circle-stroke":return AX}throw new Error(`invalid marker: ${t}`)}function A9(t){return(e,n)=>Ki("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function CX(t,e){return Ki("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function I9(t,e){return Ki("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function AX(t,e){return Ki("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let IX=0;function h5(t,e,{stroke:n},r){return ZA(t,e,n&&(i=>n[i]),r)}function RX(t,e,{stroke:n},r){return ZA(t,e,n&&(([i])=>n[i]),r)}function ZA(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},s=()=>i,a){const l=new Map;function c(f){return function(p){const m=s(p);let g=l.get(f);g||l.set(f,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(f(m,a),this),S=`plot-marker-${++IX}`;b.setAttribute("id",S),g.set(m,y=`url(#${S})`)}return y}}e&&t.attr("marker-start",c(e)),n&&t.attr("marker-mid",c(n)),r&&t.attr("marker-end",c(r))}function YA({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=KA(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function jA({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=KA(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function KA(t,e,n){return t===void 0&&e===void 0&&n===void 0?Gs?[1,0]:[.5,.5]:[e,n]}function XA(t,{interval:e}){return t={...c2(t)},t.interval=K3(t.interval===void 0?e:t.interval),t}function JA(t,e,n,r){const{[t]:i,[`${t}1`]:s,[`${t}2`]:a}=n,{value:l,interval:c}=XA(i,n);if(l==null||c==null&&!r)return n;const f=rm(i);if(c==null){let y;const b={transform:S=>y||(y=yo(S,l)),label:f};return{...n,[t]:void 0,[`${t}1`]:s===void 0?b:s,[`${t}2`]:a===void 0?b:a}}let p,m;function g(y){return m!==void 0&&y===p?m:m=Zi(yo(p=y,l),b=>c.floor(b))}return e({...n,[t]:void 0,[`${t}1`]:s===void 0?{transform:g,label:f}:s,[`${t}2`]:a===void 0?{transform:y=>g(y).map(b=>c.offset(b)),label:f}:a})}function QA(t,e,n){const{[t]:r}=n,{value:i,interval:s}=XA(r,n);return i==null||s==null?n:e({...n,[t]:{label:rm(r),transform:a=>{const l=Zi(yo(a,i),f=>s.floor(f)),c=l.map(f=>s.offset(f));return l.map(So(l)?(f,p)=>f==null||isNaN(f=+f)||(p=c[p],p==null)||isNaN(p=+p)?void 0:new Date((f+p)/2):(f,p)=>f==null||(p=c[p],p==null)?NaN:(+f+ +p)/2)}}})}function PX(t={}){return JA("x",YA,t)}function eI(t={}){return JA("y",jA,t)}function NX(t={}){return QA("x",YA,t)}function LX(t={}){return QA("y",jA,t)}const tI={ariaLabel:"rule",fill:null,stroke:"currentColor"};class OX extends Ea{constructor(e,n={}){const{x:r,y1:i,y2:s,inset:a=0,insetTop:l=a,insetBottom:c=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},c5(n,"x"),tI),this.insetTop=kr(l),this.insetBottom=kr(c),_2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y1:f,y2:p}=r,{width:m,height:g,marginTop:y,marginRight:b,marginLeft:S,marginBottom:I}=i,{insetTop:R,insetBottom:k}=this;return Ki("svg:g",s).call(il,this,i,s).call(Mo,this,{x:c&&a},Gs,0).call(A=>A.selectAll().data(e).enter().append("line").call(sl,this).attr("x1",c?C=>c[C]:(S+m-b)/2).attr("x2",c?C=>c[C]:(S+m-b)/2).attr("y1",f&&!bh(l)?C=>f[C]+R:y+R).attr("y2",p&&!bh(l)?l.bandwidth?C=>p[C]+l.bandwidth()-k:C=>p[C]-k:g-I-k).call(ec,this,r).call(h5,this,r,s)).node()}}class DX extends Ea{constructor(e,n={}){const{x1:r,x2:i,y:s,inset:a=0,insetRight:l=a,insetLeft:c=a}=n;super(e,{y:{value:s,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},c5(n,"y"),tI),this.insetRight=kr(l),this.insetLeft=kr(c),_2(this,n)}render(e,n,r,i,s){const{x:a,y:l}=n,{y:c,x1:f,x2:p}=r,{width:m,height:g,marginTop:y,marginRight:b,marginLeft:S,marginBottom:I}=i,{insetLeft:R,insetRight:k}=this;return Ki("svg:g",s).call(il,this,i,s).call(Mo,this,{y:c&&l},0,Gs).call(A=>A.selectAll().data(e).enter().append("line").call(sl,this).attr("x1",f&&!bh(a)?C=>f[C]+R:S+R).attr("x2",p&&!bh(a)?a.bandwidth?C=>p[C]+a.bandwidth()-k:C=>p[C]-k:m-b-k).attr("y1",c?C=>c[C]:(y+g-I)/2).attr("y2",c?C=>c[C]:(y+g-I)/2).call(ec,this,r).call(h5,this,r,s)).node()}}function BX(t,e){let{x:n=Ks,y:r,y1:i,y2:s,...a}=eI(e);return[i,s]=nI(r,i,s),new OX(t,{...a,x:n,y1:i,y2:s})}function db(t,e){let{y:n=Ks,x:r,x1:i,x2:s,...a}=PX(e);return[i,s]=nI(r,i,s),new DX(t,{...a,y:n,x1:i,x2:s})}function nI(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function d5(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let s=0;s<n;++s)i+=e[s](r)+t[s+1];return i}}const zX={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},rI="­";let p5=class extends Ea{constructor(e,n={}){const{x:r,y:i,text:s=lf(e)&&hA(e)?Ks:aA,frameAnchor:a,textAnchor:l=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:f=1,lineWidth:p=1/0,textOverflow:m,monospace:g,fontFamily:y=g?"ui-monospace, monospace":void 0,fontSize:b,fontStyle:S,fontVariant:I,fontWeight:R,rotate:k}=n,[A,C]=vs(k,0),[P,D]=WX(b);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:P,optional:!0},rotate:{value:hj(A),optional:!0},text:{value:s,filter:V3,optional:!0}},n,zX),this.rotate=C,this.textAnchor=rs(l,"middle"),this.lineAnchor=rl(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+p,this.textOverflow=iI(m),this.monospace=!!g,this.fontFamily=Hs(y),this.fontSize=D,this.fontStyle=Hs(S),this.fontVariant=Hs(I),this.fontWeight=Hs(R),this.frameAnchor=h2(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${p}`);this.splitLines=aI(this),this.clipLine=oI(this)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,rotate:p,text:m,title:g,fontSize:y}=r,{rotate:b}=this,[S,I]=lm(this,i);return Ki("svg:g",s).call(il,this,i,s).call(sI,this,m,i).call(Mo,this,{x:c&&a,y:f&&l}).call(R=>R.selectAll().data(e).enter().append("text").call(sl,this).call(FX,this,m,g).attr("transform",d5`translate(${c?k=>c[k]:S},${f?k=>f[k]:I})${p?k=>` rotate(${p[k]})`:b?` rotate(${b})`:""}`).call(Zt,"font-size",y&&(k=>y[k])).call(ec,this,r)).node()}};function iI(t){return t==null?null:rl(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function FX(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:s,textOverflow:a,splitLines:l,clipLine:c}=e;t.each(function(f){const p=l(Y0(n[f])??"").map(c),m=p.length,g=i==="top"?.71:i==="bottom"?1-m:(164-m*100)/200;if(m>1){let y=0;for(let b=0;b<m;++b){if(++y,!p[b])continue;const S=this.ownerDocument.createElementNS(sh.svg,"tspan");S.setAttribute("x",0),b===y-1?S.setAttribute("y",`${(g+b)*s}em`):S.setAttribute("dy",`${y*s}em`),S.textContent=p[b],this.appendChild(S),y=0}}else g&&this.setAttribute("y",`${g*s}em`),this.textContent=p[0];if(a&&!r&&p[0]!==n[f]){const y=this.ownerDocument.createElementNS(sh.svg,"title");y.textContent=n[f],this.appendChild(y)}})}function jg(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=u2(e,n)),new p5(t,{...r,x:e,y:n})}function UX(t,{x:e=Ks,...n}={}){return new p5(t,LX({...n,x:e}))}function w0(t,{y:e=Ks,...n}={}){return new p5(t,NX({...n,y:e}))}function sI(t,e,n){Zt(t,"text-anchor",e.textAnchor),Zt(t,"font-family",e.fontFamily),Zt(t,"font-size",e.fontSize),Zt(t,"font-style",e.fontStyle),Zt(t,"font-variant",e.fontVariant===void 0?qX(n):e.fontVariant),Zt(t,"font-weight",e.fontWeight)}function qX(t){return t&&(mj(t)||So(t))?"tabular-nums":void 0}const HX=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function WX(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),HX.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function GX(t,e,n){const r=[];let i,s=0;for(const[a,l,c]of $X(t)){if(i===void 0&&(i=a),s>i&&n(t,i,l)>e&&(r.push(t.slice(i,s)+(t[s-1]===rI?"-":"")),i=a),c){r.push(t.slice(i,l)),i=void 0;continue}s=l}return r}function*$X(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case rI:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const R9={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function m5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Lh(t,i))r+=R9[t[i]]??(uI(t,i)?120:R9.e);return r}function g5(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Lh(t,i))r+=uI(t,i)?200:100;return r}function aI({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return s=>s.split(/\r\n?|\n/g);const r=t?g5:m5,i=e*100;return s=>GX(s,i,r)}function oI({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return s=>s;const r=t?g5:m5,i=e*100;switch(n){case"clip-start":return s=>N9(s,i,r,"");case"clip-end":return s=>P9(s,i,r,"");case"ellipsis-start":return s=>N9(s,i,r,Xf);case"ellipsis-middle":return s=>VX(s,i,r,Xf);case"ellipsis-end":return s=>P9(s,i,r,Xf)}}const Xf="…";function wh(t,e,n,r){const i=[];let s=0;for(let a=0,l=0,c=t.length;a<c;a=l){l=Lh(t,a);const f=n(t,a,l);if(s+f>e){for(s+=r;s>e&&a>0;)l=a,a=i.pop(),s-=n(t,a,l);return[a,e-s]}s+=f,i.push(a)}return[-1,0]}function P9(t,e,n,r){t=t.trim();const i=n(r),[s]=wh(t,e,n,i);return s<0?t:t.slice(0,s).trimEnd()+r}function VX(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r)/2,[a,l]=wh(t,e/2,n,s),[c]=wh(t,i-e/2-l+s,n,-s);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Lh(t,c)).trimStart()}function N9(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const s=n(r),[a]=wh(t,i-e+s,n,-s);return a<0?r:r+t.slice(Lh(t,a)).trimStart()}const pb=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,L9=/\p{Extended_Pictographic}/uy;function Lh(t,e){return e+=ZX(t,e)?2:1,jX(t,e)&&(e=pb.lastIndex),YX(t,e)?Lh(t,e+1):e}function lI(t,e){return t.charCodeAt(e)<128}function ZX(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function YX(t,e){return t.charCodeAt(e)===8205}function jX(t,e){return lI(t,e)?!1:(pb.lastIndex=e,pb.test(t))}function uI(t,e){return lI(t,e)?!1:(L9.lastIndex=e,L9.test(t))}const KX={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},cI=3.5,XX=cI*5,fI={draw(t,e,n){const r=e*n/XX;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},JX={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},QX=new Map([["arrow",fI],["spike",JX]]);function eJ(t){return t&&typeof t.draw=="function"}function tJ(t){if(eJ(t))return t;const e=QX.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class hI extends Ea{constructor(e,n={}){const{x:r,y:i,r:s=cI,length:a,rotate:l,shape:c=fI,anchor:f="middle",frameAnchor:p}=n,[m,g]=vs(a,12),[y,b]=vs(l,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:y,optional:!0}},n,KX),this.r=+s,this.length=g,this.rotate=b,this.shape=tJ(c),this.anchor=rl(f,"anchor",["start","middle","end"]),this.frameAnchor=h2(p)}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,length:p,rotate:m}=r,{length:g,rotate:y,anchor:b,shape:S,r:I}=this,[R,k]=lm(this,i);return Ki("svg:g",s).call(il,this,i,s).call(Mo,this,{x:c&&a,y:f&&l}).call(A=>A.selectAll().data(e).enter().append("path").call(sl,this).attr("transform",d5`translate(${c?C=>c[C]:R},${f?C=>f[C]:k})${m?C=>` rotate(${m[C]})`:y?` rotate(${y})`:""}${b==="start"?"":b==="end"?p?C=>` translate(0,${p[C]})`:` translate(0,${g})`:p?C=>` translate(0,${p[C]/2})`:` translate(0,${g/2})`}`).attr("d",p?C=>{const P=E0();return S.draw(P,p[C],I),P}:(()=>{const C=E0();return S.draw(C,g,I),C})()).call(ec,this,r)).node()}}function nJ(t,e={}){const{x:n=Ks,...r}=e;return new hI(t,{...r,x:n})}function rJ(t,e={}){const{y:n=Ks,...r}=e;return new hI(t,{...r,y:n})}function t0(t,e){return arguments.length<2&&!lf(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function v2({anchor:t}={},e){return t===void 0?e[0]:rl(t,"anchor",e)}function dI(t){return v2(t,["left","right"])}function pI(t){return v2(t,["right","left"])}function mI(t){return v2(t,["bottom","top"])}function gI(t){return v2(t,["top","bottom"])}function _I(){const[t,e]=t0(...arguments);return yI("y",dI(e),t,e)}function iJ(){const[t,e]=t0(...arguments);return yI("fy",pI(e),t,e)}function vI(){const[t,e]=t0(...arguments);return bI("x",mI(e),t,e)}function sJ(){const[t,e]=t0(...arguments);return bI("fx",gI(e),t,e)}function yI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:b=t==="y"?6:0,tickPadding:S,tickRotate:I,x:R,margin:k,marginTop:A=k===void 0?20:k,marginRight:C=k===void 0?e==="right"?40:0:k,marginBottom:P=k===void 0?20:k,marginLeft:D=k===void 0?e==="left"?40:0:k,label:F,labelAnchor:Z,labelArrow:V,labelOffset:Y,...H}){return b=kr(b),S=kr(S),I=kr(I),Z!==void 0&&(Z=rl(Z,"labelAnchor",["center","top","bottom"])),V=CI(V),qA(b&&!ba(s)?aJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:b,tickPadding:S,tickRotate:I,x:R,...H}):null,ba(c)?null:lJ(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:b,tickPadding:S,tickRotate:I,x:R,marginTop:A,marginRight:C,marginBottom:P,marginLeft:D,...H}),!ba(c)&&F!==null?jg([],TI({fill:c,fillOpacity:f,...H},function(J,he,le,ne,pe){const fe=ne[t],{marginTop:_e,marginRight:me,marginBottom:$,marginLeft:ee}=t==="y"&&pe.inset||pe,ae=Z??(fe.bandwidth?"center":"top"),Ee=Y??(e==="right"?me:ee)-3;return ae==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=ae,this.frameAnchor=`${ae}-${e}`,this.rotate=0),this.dy=ae==="top"?3-_e:ae==="bottom"?$-3:0,this.dx=e==="right"?Ee:-Ee,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[MI(t,fe,{anchor:e,label:F,labelAnchor:ae,labelArrow:V})]}}}})):null)}function bI(t,e,n,{color:r="currentColor",opacity:i=1,stroke:s=r,strokeOpacity:a=i,strokeWidth:l=1,fill:c=r,fillOpacity:f=i,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:y,tickSize:b=t==="x"?6:0,tickPadding:S,tickRotate:I,y:R,margin:k,marginTop:A=k===void 0?e==="top"?30:0:k,marginRight:C=k===void 0?20:k,marginBottom:P=k===void 0?e==="bottom"?30:0:k,marginLeft:D=k===void 0?20:k,label:F,labelAnchor:Z,labelArrow:V,labelOffset:Y,...H}){return b=kr(b),S=kr(S),I=kr(I),Z!==void 0&&(Z=rl(Z,"labelAnchor",["center","left","right"])),V=CI(V),qA(b&&!ba(s)?oJ(t,e,n,{stroke:s,strokeOpacity:a,strokeWidth:l,tickSize:b,tickPadding:S,tickRotate:I,y:R,...H}):null,ba(c)?null:uJ(t,e,n,{fill:c,fillOpacity:f,stroke:m,strokeOpacity:g,strokeWidth:y,textAnchor:p,tickSize:b,tickPadding:S,tickRotate:I,y:R,marginTop:A,marginRight:C,marginBottom:P,marginLeft:D,...H}),!ba(c)&&F!==null?jg([],TI({fill:c,fillOpacity:f,...H},function(J,he,le,ne,pe){const fe=ne[t],{marginTop:_e,marginRight:me,marginBottom:$,marginLeft:ee}=t==="x"&&pe.inset||pe,ae=Z??(fe.bandwidth?"center":"right"),Ee=Y??(e==="top"?_e:$)-3;return ae==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${ae}`,this.textAnchor=ae==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Ee:Ee,this.dx=ae==="right"?me-3:ae==="left"?3-ee:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[MI(t,fe,{anchor:e,label:F,labelAnchor:ae,labelArrow:V})]}}}})):null)}function aJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetLeft:p=f,insetRight:m=f,dx:g=0,y=t==="y"?void 0:null,...b}){return Oh(rJ,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:s,facetAnchor:a,frameAnchor:l,y,...b,dx:e==="left"?+g-Gs+ +p:+g+Gs-m,anchor:"start",length:c,shape:e==="left"?_J:vJ})}function oJ(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:s=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:f=0,insetTop:p=f,insetBottom:m=f,dy:g=0,x:y=t==="x"?void 0:null,...b}){return Oh(nJ,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:s,strokeLinecap:i,facetAnchor:a,frameAnchor:l,x:y,...b,dy:e==="bottom"?+g-Gs-m:+g+Gs+ +p,anchor:"start",length:c,shape:e==="bottom"?mJ:gJ})}function lJ(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>60?4*Math.cos(a*VA):0),text:c,textAnchor:f=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:p=a>60?"top":a<-60?"bottom":"middle",fontVariant:m,inset:g=0,insetLeft:y=g,insetRight:b=g,dx:S=0,y:I=t==="y"?void 0:null,...R}){return Oh(w0,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:f,lineAnchor:p,fontVariant:m,rotate:a,y:I,...R,dx:e==="left"?+S-s-l+ +y:+S+ +s+ +l-b},function(k,A,C,P,D){m===void 0&&(this.fontVariant=EI(k)),c===void 0&&(D.text=kI(k,A,C,P,e))})}function uJ(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:s,tickRotate:a=0,tickPadding:l=Math.max(3,9-s)+(Math.abs(a)>=10?4*Math.cos(a*VA):0),text:c,textAnchor:f=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:p=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:m,inset:g=0,insetTop:y=g,insetBottom:b=g,dy:S=0,x:I=t==="x"?void 0:null,...R}){return Oh(UX,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:f,lineAnchor:p,fontVariant:m,rotate:a,x:I,...R,dy:e==="bottom"?+S+ +s+ +l-b:+S-s-l+ +y},function(k,A,C,P,D){m===void 0&&(this.fontVariant=EI(k)),c===void 0&&(D.text=kI(k,A,C,P,e))})}function cJ(){const[t,e]=t0(...arguments);return wI("y",dI(e),t,e)}function fJ(){const[t,e]=t0(...arguments);return wI("fy",pI(e),t,e)}function hJ(){const[t,e]=t0(...arguments);return xI("x",mI(e),t,e)}function dJ(){const[t,e]=t0(...arguments);return xI("fx",gI(e),t,e)}function wI(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:s=e==="left"?i:null,x2:a=e==="right"?i:null,...l}){return Oh(db,t,e,`${t}-grid`,n,{y:r,x1:s,x2:a,...SI(l)})}function xI(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:s=e==="top"?i:null,y2:a=e==="bottom"?i:null,...l}){return Oh(BX,t,e,`${t}-grid`,n,{x:r,y1:s,y2:a,...SI(l)})}function SI({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...s}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...s}}function TI({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:s,fontWeight:a,monospace:l,pointerEvents:c,shapeRendering:f,clip:p=!1},m){return[,t]=Z0(t),[,e]=vs(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:s,fontWeight:a,monospace:l,pointerEvents:c,shapeRendering:f,clip:p,initializer:m}}function Oh(t,e,n,r,i,s,a){let l;function c(m,g,y,b,S,I){const R=m==null&&(e==="fx"||e==="fy"),{[e]:k}=b;if(!k)throw new Error(`missing scale: ${e}`);const A=k.domain();let{interval:C,ticks:P,tickFormat:D,tickSpacing:F=e==="x"?80:35}=s;if(typeof P=="string"&&AI(k)&&(C=P,P=void 0),P===void 0&&(P=im(C,k.type)??pJ(k,F)),m==null){if(lf(P))m=Ya(P);else if(fj(P))m=M4(P,...ys(A));else if(k.interval){let V=k.interval;if(k.ticks){const[Y,H]=ys(A),J=(H-Y)/V[tm];V=i9(V,J/P)??V,m=M4(V,Y,H)}else{m=A;const Y=m.length;V=i9(V,Y/P)??V,V!==k.interval&&(m=M4(V,...ys(m)))}if(V===k.interval){const Y=Math.round(m.length/P);Y>1&&(m=m.filter((H,J)=>J%Y===0))}}else k.ticks?m=k.ticks(P):m=A;if(!k.ticks&&m.length&&m!==A){const V=new F_(A);m=m.filter(Y=>V.has(Y)),m.length||Nc(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[Qc(m)]:l[e]={scale:e,value:Ks}}a==null||a.call(this,k,m,P,D,l);const Z=Object.fromEntries(Object.entries(l).map(([V,Y])=>[V,{...Y,value:yo(m,Y.value)}]));return R&&(g=I.filterFacets(m,Z)),{data:m,facets:g,channels:Z}}const f=yh(s).initializer,p=t(i,yh({...s,initializer:c},f));return i==null?(l=p.channels,p.channels={}):l={},p.ariaLabel=r,p.clip===void 0&&(p.clip=!1),p}function pJ(t,e){const[n,r]=ys(t.range());return(r-n)/e}function kI(t,e,n,r,i){return{value:_5(t,e,n,r,i)}}function _5(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&So(e)?ZY(e,i)??Y0:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Y0:typeof r=="string"?(So(t.domain())?Jp:Hn)(r):nm(r)}function M4(t,e,n){return t.range(e,t.offset(t.floor(n)))}const mJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},gJ={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},_J={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},vJ={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function EI(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function yJ(t){return Math.sign(vh(t.domain()))*Math.sign(vh(t.range()))}function MI(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:s}={}){if(!(r==null||r.inferred&&AI(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),s==="auto"&&(s=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!s)return r;if(s===!0){const a=yJ(e);a&&(s=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(s){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function CI(t="auto"){return ba(t)?!1:typeof t=="boolean"?t:rl(t,"labelArrow",["auto","up","right","down","left"])}function AI(t){return So(t.domain())}function O9(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function bJ(t,{opacity:e,...n}={}){if(!uf(t)&&!UA(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return II(t,n,(r,i,s,a)=>r.append("svg").attr("width",s).attr("height",a).attr("fill",i.scale).attr("fill-opacity",vs(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function wJ(t,{fill:e=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(p=>(p=t.hint)==null?void 0:p.stroke)()!==void 0?t.hint.stroke:ba(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:s=1.5,r:a=4.5,...l}={},c){const[m,g]=Z0(e),[y,b]=Z0(r),S=O9(c,m),I=O9(c,y),R=a*a*Math.PI;return n=vs(n)[1],i=vs(i)[1],s=vs(s)[1],II(t,l,(k,A,C,P)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",C).attr("height",P).attr("fill",m==="color"?D=>S.scale(D):g).attr("fill-opacity",n).attr("stroke",y==="color"?D=>I.scale(D):b).attr("stroke-opacity",i).attr("stroke-width",s).append("path").attr("d",D=>{const F=E0();return t.scale(D).draw(F,R),F}))}function II(t,e={},n){let{columns:r,tickFormat:i,fontVariant:s=$A(t),swatchSize:a=15,swatchWidth:l=a,swatchHeight:c=a,marginLeft:f=0,className:p,style:m,width:g}=e;const y=i5(e);p=n5(p),i=_5(t.scale,t.domain,void 0,i);const b=Ki("div",y).attr("class",`${p}-swatches ${p}-swatches-${r!=null?"columns":"wrap"}`);let S;return r!=null?(S=`.${p}-swatches-columns .${p}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${p}-swatches-columns .${p}-swatch::before {
  flex-shrink: 0;
}
.${p}-swatches-columns .${p}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,b.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${p}-swatch`).call(n,t,l,c).call(I=>I.append("div").attr("class",`${p}-swatch-label`).attr("title",i).text(i))):(S=`.${p}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${p}-swatches-wrap .${p}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,b.selectAll().data(t.domain).enter().append("span").attr("class",`${p}-swatch`).call(n,t,l,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),b.call(I=>I.insert("style","*").text(`.${p}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${p}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${S}`)).style("margin-left",f?`${+f}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",rs(s,"normal")).call(r5,m).node()}const mb=new Map([["symbol",wJ],["color",PI],["opacity",SJ]]);function xJ(t,e,n={}){return(r,i)=>{if(!mb.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return mb.get(r)(t[r],RI(e,n[r],i),s=>t[s])}}function RI({className:t,...e},{label:n,ticks:r,tickFormat:i}={},s){return yj(s,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function PI(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return bJ(t,n);case"ramp":return MX(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function SJ({type:t,interpolate:e,...n},{legend:r=!0,color:i=Uc(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return PI({type:t,...n,interpolate:TJ(i)},{legend:r,...s})}function TJ(t){const{r:e,g:n,b:r}=Uc(t)||Uc(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function kJ(t,e,n){const r=[];for(const[i,s]of mb){const a=n[i];if(a!=null&&a.legend&&i in t){const l=s(t[i],RI(e,t[i],a),c=>t[c]);l!=null&&r.push(l)}}return r}const EJ={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},MJ={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class CJ extends Ea{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:s=r,insetBottom:a=r,insetLeft:l=r,rx:c,ry:f}=e;super(eg,void 0,e,n==null?EJ:MJ),this.anchor=lA(n,"anchor",["top","right","bottom","left"]),this.insetTop=kr(i),this.insetRight=kr(s),this.insetBottom=kr(a),this.insetLeft=kr(l),this.rx=kr(c),this.ry=kr(f)}render(e,n,r,i,s){const{marginTop:a,marginRight:l,marginBottom:c,marginLeft:f,width:p,height:m}=i,{anchor:g,insetTop:y,insetRight:b,insetBottom:S,insetLeft:I,rx:R,ry:k}=this,A=f+I,C=p-l-b,P=a+y,D=m-c-S;return Ki(g?"svg:line":"svg:rect",s).datum(0).call(il,this,i,s).call(sl,this).call(ec,this,r).call(Mo,this,{}).call(g==="left"?F=>F.attr("x1",A).attr("x2",A).attr("y1",P).attr("y2",D):g==="right"?F=>F.attr("x1",C).attr("x2",C).attr("y1",P).attr("y2",D):g==="top"?F=>F.attr("x1",A).attr("x2",C).attr("y1",P).attr("y2",P):g==="bottom"?F=>F.attr("x1",A).attr("x2",C).attr("y1",D).attr("y2",D):F=>F.attr("x",A).attr("y",P).attr("width",C-A).attr("height",D-P).attr("rx",R).attr("ry",k)).node()}}function AJ(t){return new CJ(t)}const C4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},IJ=new Set(["geometry","href","src","ariaLabel","scales"]);class RJ extends Ea{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&lf(e)&&hA(e)&&(n={...n,title:Ks});const{x:r,y:i,x1:s,x2:a,y1:l,y2:c,anchor:f,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:b,fontWeight:S,lineHeight:I=1,lineWidth:R=20,frameAnchor:k,format:A,textAnchor:C="start",textOverflow:P,textPadding:D=8,title:F,pointerSize:Z=12,pathFilter:V="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:s!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:l!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:a==null},y1:{value:l,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:s==null},y2:{value:c,scale:"y",optional:l==null},title:{value:F,optional:!0}},n,C4),this.anchor=dA(f,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=h2(k),this.textAnchor=rs(C,"middle"),this.textPadding=+D,this.pointerSize=+Z,this.pathFilter=Hs(V),this.lineHeight=+I,this.lineWidth=+R,this.textOverflow=iI(P),this.monospace=!!p,this.fontFamily=Hs(m),this.fontSize=kr(g),this.fontStyle=Hs(y),this.fontVariant=Hs(b),this.fontWeight=Hs(S);for(const Y in C4)Y in this.channels&&(this[Y]=C4[Y]);this.splitLines=aI(this),this.clipLine=oI(this),this.format={...A}}render(e,n,r,i,s){const a=this,{x:l,y:c,fx:f,fy:p}=n,{ownerSVGElement:m,document:g}=s,{anchor:y,monospace:b,lineHeight:S,lineWidth:I}=this,{textPadding:R,pointerSize:k,pathFilter:A}=this,{marginTop:C,marginLeft:P}=i,{x1:D,y1:F,x2:Z,y2:V,x:Y=D??Z,y:H=F??V}=r,J=f?f(e.fx)-P:0,he=p?p(e.fy)-C:0,[le,ne]=lm(this,i),pe=WA(r,le),fe=GA(r,ne),_e=b?g5:m5,me=_e(Xf);let $,ee;"title"in r?($=r.channels,ee=BJ):($=DJ.call(this,r,n),ee=zJ);const ae=Ki("svg:g",s).call(il,this,i,s).call(sI,this).call(Mo,this,{x:Y&&l,y:H&&c}).call(Oe=>Oe.selectAll().data(e).enter().append("g").attr("transform",be=>`translate(${Math.round(pe(be))},${Math.round(fe(be))})`).call(sl,this).call(be=>be.append("path").attr("filter",A)).call(be=>be.append("text").each(function(ke){const Pe=Un(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const ge=ee.call(a,ke,e,$,n,r);if(typeof ge=="string")for(const De of a.splitLines(ge))Ee(Pe,{value:a.clipLine(De)});else{const De=new Set;for(const ze of ge){const{label:Se=""}=ze;Se&&De.has(Se)||(De.add(Se),Ee(Pe,ze))}}})));function Ee(Oe,{label:be,value:ke,color:Pe,opacity:ge}){be??(be=""),ke??(ke="");const De=Pe!=null||ge!=null;let ze,Se=I*100;const[Ke]=wh(be,Se,_e,me);if(Ke>=0)be=be.slice(0,Ke).trimEnd()+Xf,ze=ke.trim(),ke="";else{(be||!ke&&!De)&&(ke=" "+ke);const[ct]=wh(ke,Se-_e(be),_e,me);ct>=0&&(ke=ke.slice(0,ct).trimEnd()+Xf,ze=ke.trim())}const $e=Oe.append("tspan").attr("x",0).attr("dy",`${S}em`).text("​");be&&$e.append("tspan").attr("font-weight","bold").text(be),ke&&$e.append(()=>g.createTextNode(ke)),De&&$e.append("tspan").text(" ■").attr("fill",Pe).attr("fill-opacity",ge).style("user-select","none"),ze&&$e.append("title").text(ze)}function Ce(){const{width:Oe,height:be}=i.facet??i;ae.selectChildren().each(function(ke){let{x:Pe,width:ge,height:De}=this.getBBox();ge=Math.round(ge),De=Math.round(De);let ze=y;if(ze===void 0){ze=a.previousAnchor;const $e=pe(ke)+J,ct=fe(ke)+he,Qe=$e+ge+R*2<Oe,dt=$e-ge-R*2>0,Ve=ct+De+k+R*2+7<be,un=ct-De-k-R*2>0,cn=(/-left$/.test(ze)?Qe||!dt:Qe&&!dt)?"left":"right",Kt=(/^top-/.test(ze)?Ve||!un:Ve&&!un)?"top":"bottom";ze=a.previousAnchor=`${Kt}-${cn}`}const Se=this.firstChild,Ke=this.lastChild;if(Se.setAttribute("d",OJ(ze,k,R,ge,De)),Pe)for(const $e of Ke.childNodes)$e.setAttribute("x",-Pe);Ke.setAttribute("y",`${+NJ(ze,Ke.childNodes.length,S).toFixed(6)}em`),Ke.setAttribute("transform",`translate(${LJ(ze,k,R,ge,De)})`)}),ae.attr("visibility",null)}return e.length&&(ae.attr("visibility","hidden"),m.isConnected?Promise.resolve().then(Ce):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Ce)),ae.node()}}function PJ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=u2(e,n)),new RJ(t,{...r,x:e,y:n})}function NJ(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function LJ(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function OJ(t,e,n,r,i){const s=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-s/2},${-a/2}h${s}v${a}h${-s}z`;case"top-left":return`M0,0l${e},${e}h${s-e}v${a}h${-s}z`;case"top":return`M0,0l${e/2},${e/2}h${(s-e)/2}v${a}h${-s}v${-a}h${(s-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-s}v${a}h${s}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-s}v${a}h${s}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${s-e}v${-a}h${-s}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(s-e)/2}v${-a}h${-s}v${a}h${(s-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-s}v${-a}h${s}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${s}v${a}h${-s}v${e/2-a/2}z`}}function DJ({channels:t},e){var i,s;const n={};let r=this.format;r=D9(r,t,"x"),r=D9(r,t,"y"),this.format=r;for(const a in r){const l=r[a];if(!(l===null||l===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const c=d9(t,a);c&&(n[a]=c)}}for(const a in t){if(a in n||a in r||IJ.has(a))continue;const l=d9(t,a);l&&(n[a]=l)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const l=this.format[a];if(typeof l=="string"){const c=((i=n[a])==null?void 0:i.value)??((s=e[a])==null?void 0:s.domain())??[];this.format[a]=(So(c)?Jp:Hn)(l)}else if(l===void 0||l===!0){const c=e[a];this.format[a]=c!=null&&c.bandwidth?_5(c,c.domain()):Y0}}return n}function D9(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const s=Object.entries(t),a=t[n];return s.splice(s.findIndex(([l])=>l===n)+1,0,[r,a],[i,a]),Object.fromEntries(s)}function BJ(t,e,{title:n}){return Y0(n.value[t],t)}function*zJ(t,e,n,r,i){for(const s in n){if(s==="fx"||s==="fy"){yield{label:Kg(r,n,s),value:this.format[s](e[s],t)};continue}if(s==="x1"&&"x2"in n||s==="y1"&&"y2"in n)continue;const a=n[s];if(s==="x2"&&"x1"in n)yield{label:z9(r,n,"x"),value:B9(this.format.x2,n.x1,a,t)};else if(s==="y2"&&"y1"in n)yield{label:z9(r,n,"y"),value:B9(this.format.y2,n.y1,a,t)};else{const l=a.value[t],c=a.scale;if(!Wc(l)&&c==null)continue;yield{label:Kg(r,n,s),value:this.format[s](l,t),color:c==="color"?i[s][t]:null,opacity:c==="opacity"?i[s][t]:null}}}}function B9(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function z9(t,e,n){const r=Kg(t,e,`${n}1`,n),i=Kg(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Kg(t,e,n,r=n){const i=e[n],s=t[(i==null?void 0:i.scale)??n];return String((s==null?void 0:s.label)??(i==null?void 0:i.label)??r)}function Yo(t={}){var me;const{facet:e,style:n,title:r,subtitle:i,caption:s,ariaLabel:a,ariaDescription:l}=t,c=n5(t.className),f=t.marks===void 0?[]:U9(t.marks);f.push(...VJ(f));const p=GJ(e,t),m=new Map;for(const $ of f){const ee=q9($,p,t);ee&&m.set($,ee)}const g=new Map;p&&md(g,[p],t),md(g,m,t);const y=U9(ZJ(f,g,t));for(const $ of y){const ee=q9($,p,t);ee&&m.set($,ee)}f.unshift(...y);let b=cX(g,t);if(b!==void 0){const $=p?k4(b,p):void 0;for(const ae of f){if(ae.facet===null||ae.facet==="super")continue;const Ee=m.get(ae);Ee!==void 0&&(Ee.facetsIndex=ae.fx!=null||ae.fy!=null?k4(b,Ee):$)}const ee=new Set;for(const{facetsIndex:ae}of m.values())ae==null||ae.forEach((Ee,Ce)=>{(Ee==null?void 0:Ee.length)>0&&ee.add(Ce)});b.forEach(0<ee.size&&ee.size<b.length?(ae,Ee)=>ae.empty=!ee.has(Ee):ae=>ae.empty=!1);for(const ae of f)if(ae.facet==="exclude"){const Ee=m.get(ae);Ee!==void 0&&(Ee.facetsIndex=dX(Ee.facetsIndex))}}for(const $ of ti.keys())ab(t[$])&&$!=="fx"&&$!=="fy"&&g.set($,[]);const S=new Map;for(const $ of f){if(S.has($))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:ee,channels:ae}=m.get($)??{},{data:Ee,facets:Ce,channels:Oe}=$.initialize(ee,ae,t);v5(Oe,t),S.set($,{data:Ee,facets:Ce,channels:Oe})}const I=fb(md(g,S,t),t),R=lX(I,f,t);QK(I,R);const k=x9(I),{fx:A,fy:C}=k,P=A||C?BA(I,R):R,D=A||C?eQ(k,R):R,F=i5(t),Z=F.document,V=Up("svg").call(Z.documentElement);let Y=V;F.ownerSVGElement=V,F.className=c,F.projection=hK(t,P),F.filterFacets=($,ee)=>k4(b,{channels:ee,groups:u5($,ee)}),F.getMarkState=$=>{const ee=S.get($),ae=m.get($);return{...ee,channels:{...ee.channels,...ae==null?void 0:ae.channels}}},F.dispatchValue=$=>{Y.value!==$&&(Y.value=$,Y.dispatchEvent(new Event("input",{bubbles:!0})))};const H=new Set;for(const[$,ee]of S)if($.initializer!=null){const ae=$.facet==="super"?D:P,Ee=$.initializer(ee.data,ee.facets,ee.channels,k,ae,F);if(Ee.data!==void 0&&(ee.data=Ee.data),Ee.facets!==void 0&&(ee.facets=Ee.facets),Ee.channels!==void 0){const{fx:Ce,fy:Oe,...be}=Ee.channels;WJ(be),Object.assign(ee.channels,be);for(const ke of Object.values(be)){const{scale:Pe}=ke;Pe!=null&&!wj(ti.get(Pe))&&(NI(ke,t),H.add(Pe))}(Ce!=null||Oe!=null)&&m.set($,!0)}}if(H.size){const $=new Map;md($,S,t,Ce=>H.has(Ce)),md(g,S,t,Ce=>H.has(Ce));const ee=QJ(fb($,t),I),{scales:ae,...Ee}=x9(ee);Object.assign(I,ee),Object.assign(k,Ee),Object.assign(k.scales,ae)}let J,he;b!==void 0&&(J={x:A==null?void 0:A.domain(),y:C==null?void 0:C.domain()},b=fX(b,J),he=hX(A,C,R));for(const[$,ee]of S)ee.values=$.scale(ee.channels,k,F);const{width:le,height:ne}=R;Un(V).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",le).attr("height",ne).attr("viewBox",`0 0 ${le} ${ne}`).attr("aria-label",a).attr("aria-description",l).call($=>$.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(r5,n);for(const $ of f){const{channels:ee,values:ae,facets:Ee}=S.get($);if(b===void 0||$.facet==="super"){let Ce=null;if(Ee&&(Ce=Ee[0],Ce=$.filter(Ce,ee,ae),Ce.length===0))continue;const Oe=$.render(Ce,k,ae,D,F);if(Oe==null)continue;V.appendChild(Oe)}else{let Ce;for(const Oe of b){if(!(((me=$.facetAnchor)==null?void 0:me.call($,b,J,Oe))??!Oe.empty))continue;let be=null;if(Ee){const Pe=m.has($);if(be=Ee[Pe?Oe.i:0],be=$.filter(be,ee,ae),be.length===0)continue;!Pe&&be===Ee[0]&&(be=aj(be)),be.fx=Oe.x,be.fy=Oe.y,be.fi=Oe.i}const ke=$.render(be,k,ae,P,F);if(ke!=null){(Ce??(Ce=Un(V).append("g"))).append(()=>ke).datum(Oe);for(const Pe of["aria-label","aria-description","aria-hidden","transform"])ke.hasAttribute(Pe)&&(Ce.attr(Pe,ke.getAttribute(Pe)),ke.removeAttribute(Pe))}}Ce==null||Ce.selectChildren().attr("transform",he)}}const pe=kJ(I,F,t),{figure:fe=r!=null||i!=null||s!=null||pe.length>0}=t;fe&&(Y=Z.createElement("figure"),Y.className=`${c}-figure`,Y.style.maxWidth="initial",r!=null&&Y.append(F9(Z,r,"h2")),i!=null&&Y.append(F9(Z,i,"h3")),Y.append(...pe,V),s!=null&&Y.append(FJ(Z,s))),Y.scale=aX(k.scales),Y.legend=xJ(I,F,t);const _e=Jj();return _e>0&&Un(V).append("text").attr("x",le).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${_e.toLocaleString("en-US")} warning${_e===1?"":"s"}. Please check the console.`),Y}function F9(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function FJ(t,e){const n=t.createElement("figcaption");return n.append(e),n}function UJ({marks:t=[],...e}={}){return Yo({...e,marks:[...t,this]})}Ea.prototype.plot=UJ;function U9(t){return t.flat(1/0).filter(e=>e!=null).map(qJ)}function qJ(t){return typeof t.render=="function"?t:new HJ(t)}class HJ extends Ea{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function v5(t,e){for(const n in t)NI(t[n],e);return t}function NI(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:s,interval:a,transform:l=s?c=>c*100:fA(a,i)}=e[n]??{};l!=null&&(t.value=Zi(t.value,l),t.transform=!1)}function WJ(t){for(const e in t)vA(e,t[e])}function md(t,e,n,r=JY){var i,s;for(const{channels:a}of e.values())for(const l in a){const c=a[l],{scale:f}=c;if(f!=null&&r(f))if(f==="projection"){if(!gK(n)){const p=((i=n.x)==null?void 0:i.domain)===void 0,m=((s=n.y)==null?void 0:s.domain)===void 0;if(p||m){const[g,y]=vK(c);p&&A4(t,"x",g),m&&A4(t,"y",y)}}}else A4(t,f,c)}return t}function A4(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function GJ(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Ya(t.data);if(i==null)throw new Error("missing facet data");const s={};n!=null&&(s.fx=gp(i,{value:n,scale:"fx"})),r!=null&&(s.fy=gp(i,{value:r,scale:"fy"})),v5(s,e);const a=u5(i,s);return{channels:s,groups:a,data:t.data}}function q9(t,e,n){var c;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=Ya(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const p={};return r!=null&&(p.fx=gp(f,{value:r,scale:"fx"})),i!=null&&(p.fy=gp(f,{value:i,scale:"fy"})),v5(p,n),{channels:p,groups:u5(f,p)}}if(e===void 0)return;const{channels:s,groups:a,data:l}=e;if(t.facet!=="auto"||t.data===l)return{channels:s,groups:a};l.length>0&&(a.size>1||a.size===1&&s.fx&&s.fy&&[...a][0][1].size>1)&&((c=Ya(t.data))==null?void 0:c.length)===l.length&&Nc(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function $J(t,e={}){return yh({...e,x:null,y:null},(n,r,i,s,a,l)=>l.getMarkState(t))}function VJ(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?kX:/^y$/i.test(i)?EX:TX,r=i($J(n,r)),r.title=null;const s=PJ(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,e.push(s)}}return e}function ZJ(t,e,n){let{projection:r,x:i={},y:s={},fx:a={},fy:l={},axis:c,grid:f,facet:p={},facet:{axis:m=c,grid:g}=p,x:{axis:y=c,grid:b=y===null?null:f}=i,y:{axis:S=c,grid:I=S===null?null:f}=s,fx:{axis:R=m,grid:k=R===null?null:g}=a,fy:{axis:A=m,grid:C=A===null?null:g}=l}=n;(r||!ab(i)&&!H9("x",t))&&(y=b=null),(r||!ab(s)&&!H9("y",t))&&(S=I=null),e.has("fx")||(R=k=null),e.has("fy")||(A=C=null),y===void 0&&(y=!x1(t,"x")),S===void 0&&(S=!x1(t,"y")),R===void 0&&(R=!x1(t,"fx")),A===void 0&&(A=!x1(t,"fy")),y===!0&&(y="bottom"),S===!0&&(S="left"),R===!0&&(R=y==="top"||y===null?"bottom":"top"),A===!0&&(A=S==="right"||S===null?"left":"right");const P=[];return w1(P,C,fJ,l),b1(P,A,iJ,"right","left",p,l),w1(P,k,dJ,a),b1(P,R,sJ,"top","bottom",p,a),w1(P,I,cJ,s),b1(P,S,_I,"left","right",n,s),w1(P,b,hJ,i),b1(P,y,vI,"bottom","top",n,i),P}function b1(t,e,n,r,i,s,a){if(!e)return;const l=YJ(e);a=jJ(l?r:e,s,a);const{line:c}=a;(n===_I||n===vI)&&c&&!mp(c)&&t.push(AJ(KJ(a))),t.push(n(a)),l&&t.push(n({...a,anchor:i,label:null}))}function w1(t,e,n,r){!e||mp(e)||t.push(n(XJ(e,r)))}function YJ(t){return/^\s*both\s*$/i.test(t)}function jJ(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g=e.label,labelAnchor:y,labelArrow:b=e.labelArrow,labelOffset:S}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:s,tickPadding:a,tickFormat:l,tickRotate:c,fontVariant:f,ariaLabel:p,ariaDescription:m,label:g,labelAnchor:y,labelArrow:b,labelOffset:S}}function KJ(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function XJ(t,{stroke:e=f2(t)?t:void 0,ticks:n=JJ(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:s}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:s}}function JJ(t){switch(typeof t){case"number":return!0;case"string":return!f2(t)}return lf(t)||typeof(t==null?void 0:t.range)=="function"}function x1(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function H9(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function QJ(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function eQ({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:s,marginLeft:a,width:l,height:c}=l5(n),f=t&&W9(t),p=e&&W9(e);return{marginTop:e?p[0]:r,marginRight:t?l-f[1]:i,marginBottom:e?c-p[1]:s,marginLeft:t?f[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:c}}function W9(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const tQ=new Map([["basis",EY],["basis-closed",MY],["basis-open",CY],["bundle",AY],["bump-x",mY],["bump-y",gY],["cardinal",IY],["cardinal-closed",RY],["cardinal-open",PY],["catmull-rom",NY],["catmull-rom-closed",LY],["catmull-rom-open",OY],["linear",r2],["linear-closed",DY],["monotone-x",BY],["monotone-y",zY],["natural",FY],["step",UY],["step-after",HY],["step-before",qY]]);function nQ(t=r2,e){if(typeof t=="function")return t;const n=tQ.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function rQ(t=Xg,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Xg:nQ(t,e)}function Xg(t){return r2(t)}function iQ(t={}){return uA(t)?t:{...t,y:Ks}}function sQ(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const l of e)for(const c of l)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:e};t=pp(t);const s=t[iA]=new Uint32Array(n+i);e=e.map(l=>pp(l,Uint32Array));let a=n;r.fill(0);for(const l of e)for(let c=0,f=l.length;c<f;++c){const p=l[c];r[p]?(l[c]=a,t[a]=t[p],s[a]=p,++a):s[p]=p,r[p]=1}return{data:t,facets:e}}function aQ(t={},e={}){arguments.length===1&&([t,e]=lQ(t));const{x1:n,x:r=n,y:i,...s}=e,[a,l,c,f]=cQ(r,i,"x","y",t,s);return{...a,x1:n,x:l,y1:c,y2:f,y:lj(c,f)}}function oQ({y:t,y1:e,y2:n,...r}={}){return r=c5(r,"x"),e===void 0&&n===void 0?aQ({y:t,...r}):([e,n]=sj(t,e,n),{...r,y1:e,y2:n})}function lQ(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const uQ={length:!0};function cQ(t,e=XY,n,r,{offset:i,order:s,reverse:a},l){if(e===null)throw new Error(`stack requires ${r}`);const c=cA(l),[f,p]=oj(t),[m,g]=ob(e),[y,b]=ob(e);return m.hint=y.hint=uQ,i=fQ(i),s=pQ(s,i,r),[e5(l,(S,I,R)=>{({data:S,facets:I}=sQ(S,I));const k=t==null?void 0:p(uj(yo(S,t),R==null?void 0:R[n])),A=yo(S,e,Float64Array),C=yo(S,c),P=s&&s(S,k,A,C),D=S.length,F=g(new Float64Array(D)),Z=b(new Float64Array(D)),V=[];for(const Y of I){const H=k?Array.from(m3(Y,J=>k[J]).values()):[Y];if(P)for(const J of H)J.sort(P);for(const J of H){let he=0,le=0;a&&J.reverse();for(const ne of J){const pe=A[ne];pe<0?he=Z[ne]=(F[ne]=he)+pe:pe>0?le=Z[ne]=(F[ne]=le)+pe:Z[ne]=F[ne]=le}}V.push(H)}return i&&i(V,F,Z,C),{data:S,facets:I}}),f,m,y]}function fQ(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return hQ;case"center":case"silhouette":return dQ;case"wiggle":return OI}throw new Error(`unknown offset: ${t}`)}}function LI(t,e){let n=0,r=0;for(const i of t){const s=e[i];s<n&&(n=s),s>r&&(r=s)}return[n,r]}function hQ(t,e,n){for(const r of t)for(const i of r){const[s,a]=LI(i,n);for(const l of i){const c=1/(a-s||1);e[l]=c*(e[l]-s),n[l]=c*(n[l]-s)}}}function dQ(t,e,n){for(const r of t){for(const i of r){const[s,a]=LI(i,n);for(const l of i){const c=(a+s)/2;e[l]-=c,n[l]-=c}}DI(r,e,n)}BI(t,e,n)}function OI(t,e,n,r){for(const i of t){const s=new U0;let a=0;for(const l of i){let c=-1;const f=l.map(y=>Math.abs(n[y]-e[y])),p=l.map(y=>{c=r?r[y]:++c;const b=n[y]-e[y],S=s.has(c)?b-s.get(c):0;return s.set(c,b),S}),m=[0,...nq(p)];for(const y of l)e[y]+=a,n[y]+=a;const g=gr(f);g&&(a-=gr(f,(y,b)=>(p[b]/2+m[b])*y)/g)}DI(i,e,n)}BI(t,e,n)}function DI(t,e,n){const r=Fl(t,i=>Fl(i,s=>e[s]));for(const i of t)for(const s of i)e[s]-=r,n[s]-=r}function BI(t,e,n){const r=t.length;if(r===1)return;const i=t.map(l=>l.flat()),s=i.map(l=>(Fl(l,c=>e[c])+wo(l,c=>n[c]))/2),a=Fl(s);for(let l=0;l<r;l++){const c=a-s[l];for(const f of i[l])e[f]+=c,n[f]+=c}}function pQ(t,e,n){if(t===void 0&&e===OI)return G9(Hl);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Zg:Hl;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return mQ(i);case"z":return gQ(i);case"sum":return _Q(i);case"appearance":return vQ(i);case"inside-out":return G9(i)}return $9(sA(t))}if(typeof t=="function")return(t.length===1?$9:yQ)(t);if(Array.isArray(t))return bQ(t);throw new Error(`invalid order: ${t}`)}}function mQ(t){return(e,n,r)=>(i,s)=>t(r[i],r[s])}function gQ(t){return(e,n,r,i)=>(s,a)=>t(i[s],i[a])}function _Q(t){return y2(t,(e,n,r,i)=>_3(Qc(e),s=>gr(s,a=>r[a]),s=>i[s]))}function vQ(t){return y2(t,(e,n,r,i)=>_3(Qc(e),s=>n[v3(s,a=>r[a])],s=>i[s]))}function G9(t){return y2(t,(e,n,r,i)=>{const s=Qc(e),a=_3(s,m=>n[v3(m,g=>r[g])],m=>i[m]),l=Dd(s,m=>gr(m,g=>r[g]),m=>i[m]),c=[],f=[];let p=0;for(const m of a)p<0?(p+=l.get(m),c.push(m)):(p-=l.get(m),f.push(m));return f.reverse().concat(c)})}function $9(t){return e=>{const n=yo(e,t);return(r,i)=>Hl(n[r],n[i])}}function yQ(t){return e=>(n,r)=>t(e[n],e[r])}function bQ(t){return y2(Hl,()=>t)}function y2(t,e){return(n,r,i,s)=>{if(!s)throw new Error("missing channel: z");const a=new U0(e(n,r,i,s).map((l,c)=>[l,c]));return(l,c)=>t(a.get(s[l]),a.get(s[c]))}}class wQ extends Ea{constructor(e,n,r={},i){super(e,n,r,i);const{inset:s=0,insetTop:a=s,insetRight:l=s,insetBottom:c=s,insetLeft:f=s,rx:p,ry:m}=r;this.insetTop=kr(a),this.insetRight=kr(l),this.insetBottom=kr(c),this.insetLeft=kr(f),this.rx=rs(p,"auto"),this.ry=rs(m,"auto")}render(e,n,r,i,s){const{rx:a,ry:l}=this;return Ki("svg:g",s).call(il,this,i,s).call(this._transform,this,n).call(c=>c.selectAll().data(e).enter().append("rect").call(sl,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Zt,"rx",a).call(Zt,"ry",l).call(ec,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?s=>n[s]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?s=>n[s]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:s}){const{insetLeft:a,insetRight:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:s}){const{insetTop:a,insetBottom:l}=this,c=n&&e?e.bandwidth():s-r-i;return Math.max(0,c-a-l)}}const xQ={ariaLabel:"bar"};class SQ extends wQ{constructor(e,n={}){const{x:r,y1:i,y2:s}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:s,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,xQ)}_transform(e,n,{y:r}){e.call(Mo,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:s}=this;return bh(e)?i+s:a=>Math.min(n[a],r[a])+s}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:s,height:a}){const{insetTop:l,insetBottom:c}=this;return bh(e)?a-i-s-l-c:f=>Math.max(0,Math.abs(r[f]-n[f])-l-c)}}function Nf(t,e={}){return ij(e)||(e={...e,x:aA,y2:Ks}),new SQ(t,oQ(eI(iQ(e))))}const TQ={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function zI(t){return t.sort===void 0&&t.reverse===void 0?Aj({channel:"-r"},t):t}class kQ extends Ea{constructor(e,n={}){const{x:r,y:i,r:s,rotate:a,symbol:l=hp,frameAnchor:c}=n,[f,p]=vs(a,0),[m,g]=Mj(l),[y,b]=vs(s,m==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:y,scale:"r",filter:em,optional:!0},rotate:{value:f,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},zI(n),TQ),this.r=b,this.rotate=p,this.symbol=g,this.frameAnchor=h2(c);const{channels:S}=this,{symbol:I}=S;if(I){const{fill:R,stroke:k}=S;I.hint={fill:R?R.value===I.value?"color":"currentColor":this.fill??"currentColor",stroke:k?k.value===I.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,s){const{x:a,y:l}=n,{x:c,y:f,r:p,rotate:m,symbol:g}=r,{r:y,rotate:b,symbol:S}=this,[I,R]=lm(this,i),k=S===hp,A=p?void 0:y*y*Math.PI;return a2(y)&&(e=[]),Ki("svg:g",s).call(il,this,i,s).call(Mo,this,{x:c&&a,y:f&&l}).call(C=>C.selectAll().data(e).enter().append(k?"circle":"path").call(sl,this).call(k?P=>{P.attr("cx",c?D=>c[D]:I).attr("cy",f?D=>f[D]:R).attr("r",p?D=>p[D]:y)}:P=>{P.attr("transform",d5`translate(${c?D=>c[D]:I},${f?D=>f[D]:R})${m?D=>` rotate(${m[D]})`:b?` rotate(${b})`:""}`).attr("d",p&&g?D=>{const F=E0();return g[D].draw(F,p[D]*p[D]*Math.PI),F}:p?D=>{const F=E0();return S.draw(F,p[D]*p[D]*Math.PI),F}:g?D=>{const F=E0();return g[D].draw(F,A),F}:(()=>{const D=E0();return S.draw(D,A),D})())}).call(ec,this,r)).node()}}function EQ(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=u2(e,n)),new kQ(t,{...r,x:e,y:n})}const MQ={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class CQ extends Ea{constructor(e,n={}){const{x:r,y:i,z:s,curve:a,tension:l}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:cA(n),optional:!0}},n,MQ),this.z=s,this.curve=rQ(a,l),_2(this,n)}filter(e){return e}project(e,n,r){this.curve!==Xg&&super.project(e,n,r)}render(e,n,r,i,s){const{x:a,y:l}=r,{curve:c}=this;return Ki("svg:g",s).call(il,this,i,s).call(Mo,this,n).call(f=>f.selectAll().data(lK(e,[a,l],this,r)).enter().append("path").call(sl,this).call(sK,this,r).call(RX,this,r,s).attr("d",c===Xg&&s.projection?AQ(s.projection,a,l):pY().curve(c).defined(p=>p>=0).x(p=>a[p]).y(p=>l[p]))).node()}}function AQ(t,e,n){const r=dh(t);return e=Yg(e),n=Yg(n),i=>{let s=[];const a=[s];for(const l of i)l===-1?(s=[],a.push(s)):s.push([e[l],n[l]]);return r({type:"MultiLineString",coordinates:a})}}function Cu(t,{x:e,y:n,...r}={}){return[e,n]=u2(e,n),new CQ(t,{...r,x:e,y:n})}const IQ={ariaLabel:"tick",fill:null,stroke:"currentColor"};class FI extends Ea{constructor(e,n,r){super(e,n,r,IQ),_2(this,r)}render(e,n,r,i,s){return Ki("svg:g",s).call(il,this,i,s).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(sl,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(ec,this,r).call(h5,this,r,s)).node()}}class RQ extends FI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetTop:a=s,insetBottom:l=s}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=kr(a),this.insetBottom=kr(l)}_transform(e,n,{x:r}){e.call(Mo,n,{x:r},Gs,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?s=>n[s]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}}class PQ extends FI{constructor(e,n={}){const{x:r,y:i,inset:s=0,insetRight:a=s,insetLeft:l=s}=n;super(e,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=kr(a),this.insetLeft=kr(l)}_transform(e,n,{y:r}){e.call(Mo,n,{y:r},0,Gs)}_x1({x:e},{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n&&e?s=>n[s]+i:r+i}_x2({x:e},{x:n},{width:r,marginRight:i}){const{insetRight:s}=this;return n&&e?a=>n[a]+e.bandwidth()-s:r-i-s}_y1(e,{y:n}){return r=>n[r]}_y2(e,{y:n}){return r=>n[r]}}function NQ(t,{x:e=Ks,...n}={}){return new RQ(t,{...n,x:e})}function S1(t,{y:e=Ks,...n}={}){return new PQ(t,{...n,y:e})}const LQ={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class OQ extends Ea{constructor(e,n={}){const[r,i]=vs(n.r,3);super(e,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:em,optional:!0}},zI(n),LQ),this.r=i}render(e,n,r,i,s){const{geometry:a,r:l}=r,c=dh(s.projection??DQ(n)),{r:f}=this;return a2(f)?e=[]:f!==void 0&&c.pointRadius(f),Ki("svg:g",s).call(il,this,i,s).call(Mo,this,n).call(p=>{p.selectAll().data(e).enter().append("path").call(sl,this).attr("d",l?m=>c.pointRadius(l[m])(a[m]):m=>c(a[m])).call(ec,this,r)}).node()}}function DQ({x:t,y:e}){if(t||e)return t??(t=n=>n),e??(e=n=>n),lp({point(n,r){this.stream.point(t(n),e(r))}})}function Go(t,{geometry:e=Ks,...n}={}){switch(t==null?void 0:t.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t];break}return new OQ(t,{geometry:e,...n})}function UI({strokeWidth:t=1.5,...e}={}){return Go({type:"Sphere"},{strokeWidth:t,...e})}function qI({strokeOpacity:t=.1,...e}={}){return Go(Z$(),{strokeOpacity:t,...e})}var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const zQ="modulepreload",FQ=function(t){return"/"+t},V9={},vp=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=FQ(s),s in V9)return;V9[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":zQ,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Lf=[];function b2(t,e=In){let n;const r=new Set;function i(l){if(Va(t,l)&&(t=l,n)){const c=!Lf.length;for(const f of r)f[1](),Lf.push(f,t);if(c){for(let f=0;f<Lf.length;f+=2)Lf[f][0](Lf[f+1]);Lf.length=0}}}function s(l){i(l(t))}function a(l,c=In){const f=[l,c];return r.add(f),r.size===1&&(n=e(i)||In),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=function(t,e){if(!t)throw Dh(e)},Dh=function(t){return new Error("Firebase Database ("+WI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},y5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,y=f&63;c||(y=64,a||(g=64)),r.push(n[p],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||m==null)throw new qQ;const g=s<<2|l>>4;if(r.push(g),f!==64){const y=l<<4&240|f>>2;if(r.push(y),m!==64){const b=f<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(t){const e=GI(t);return y5.encodeByteArray(e,!0)},Jg=function(t){return $I(t).replace(/\./g,"")},Qg=function(t){try{return y5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t){return VI(void 0,t)}function VI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!WQ(n)||(t[n]=VI(t[n],e[n]));return t}function WQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=()=>GQ().__FIREBASE_DEFAULTS__,VQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qg(t[1]);return e&&JSON.parse(e)},b5=()=>{try{return $Q()||VQ()||ZQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZI=t=>{var e,n;return(n=(e=b5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YI=t=>{const e=ZI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jI=()=>{var t;return(t=b5())===null||t===void 0?void 0:t.config},KI=t=>{var e;return(e=b5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Jg(JSON.stringify(n)),Jg(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bs())}function YQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jQ(){const t=bs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QI(){return WI.NODE_ADMIN===!0}function KQ(){try{return typeof indexedDB=="object"}catch{return!1}}function XQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ="FirebaseError";class tc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JQ,Object.setPrototypeOf(this,tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QQ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new tc(i,l,r)}}function QQ(t,e){return t.replace(eee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){return JSON.parse(t)}function Mi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=yp(Qg(s[0])||""),n=yp(Qg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},tee=function(t){const e=eR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nee=function(t){const e=eR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function e_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function t_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Z9(s)&&Z9(a)){if(!t_(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ld(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=l^s&(a^l),p=1518500249):(f=s^a^l,p=1859775393):m<60?(f=s&a|l&(s|a),p=2400959708):(f=s^a^l,p=3395469782);const g=(i<<5|i>>>27)+f+c+p+r[m]&4294967295;c=l,l=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function iee(t,e){const n=new see(t,e);return n.subscribe.bind(n)}class see{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I4),i.error===void 0&&(i.error=I4),i.complete===void 0&&(i.complete=I4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I4(){}function w2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,je(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t){return t&&t._delegate?t._delegate:t}class Gc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cee(e))try{this.getOrInitializeService({instanceIdentifier:x0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=x0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=x0){return this.instances.has(e)}getOptions(e=x0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=x0){return this.component?this.component.multipleInstances?e:x0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uee(t){return t===x0?void 0:t}function cee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fr||(fr={}));const hee={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},dee=fr.INFO,pee={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},mee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x5{constructor(e){this.name=e,this._logLevel=dee,this._logHandler=mee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}const gee=(t,e)=>e.some(n=>t instanceof n);let Y9,j9;function _ee(){return Y9||(Y9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vee(){return j9||(j9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tR=new WeakMap,_b=new WeakMap,nR=new WeakMap,R4=new WeakMap,S5=new WeakMap;function yee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Lc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&tR.set(n,t)}).catch(()=>{}),S5.set(e,t),e}function bee(t){if(_b.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});_b.set(t,e)}let vb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _b.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wee(t){vb=t(vb)}function xee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(P4(this),e,...n);return nR.set(r,e.sort?e.sort():[e]),Lc(r)}:vee().includes(t)?function(...e){return t.apply(P4(this),e),Lc(tR.get(this))}:function(...e){return Lc(t.apply(P4(this),e))}}function See(t){return typeof t=="function"?xee(t):(t instanceof IDBTransaction&&bee(t),gee(t,_ee())?new Proxy(t,vb):t)}function Lc(t){if(t instanceof IDBRequest)return yee(t);if(R4.has(t))return R4.get(t);const e=See(t);return e!==t&&(R4.set(t,e),S5.set(e,t)),e}const P4=t=>S5.get(t);function Tee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Lc(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Lc(a.result),c.oldVersion,c.newVersion,Lc(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const kee=["get","getKey","getAll","getAllKeys","count"],Eee=["put","add","delete","clear"],N4=new Map;function K9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N4.get(e))return N4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kee.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return N4.set(e,s),s}wee(t=>({...t,get:(e,n,r)=>K9(e,n)||t.get(e,n,r),has:(e,n)=>!!K9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yb="@firebase/app",X9="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new x5("@firebase/app"),Aee="@firebase/app-compat",Iee="@firebase/analytics-compat",Ree="@firebase/analytics",Pee="@firebase/app-check-compat",Nee="@firebase/app-check",Lee="@firebase/auth",Oee="@firebase/auth-compat",Dee="@firebase/database",Bee="@firebase/database-compat",zee="@firebase/functions",Fee="@firebase/functions-compat",Uee="@firebase/installations",qee="@firebase/installations-compat",Hee="@firebase/messaging",Wee="@firebase/messaging-compat",Gee="@firebase/performance",$ee="@firebase/performance-compat",Vee="@firebase/remote-config",Zee="@firebase/remote-config-compat",Yee="@firebase/storage",jee="@firebase/storage-compat",Kee="@firebase/firestore",Xee="@firebase/firestore-compat",Jee="firebase",Qee="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="[DEFAULT]",ete={[yb]:"fire-core",[Aee]:"fire-core-compat",[Ree]:"fire-analytics",[Iee]:"fire-analytics-compat",[Nee]:"fire-app-check",[Pee]:"fire-app-check-compat",[Lee]:"fire-auth",[Oee]:"fire-auth-compat",[Dee]:"fire-rtdb",[Bee]:"fire-rtdb-compat",[zee]:"fire-fn",[Fee]:"fire-fn-compat",[Uee]:"fire-iid",[qee]:"fire-iid-compat",[Hee]:"fire-fcm",[Wee]:"fire-fcm-compat",[Gee]:"fire-perf",[$ee]:"fire-perf-compat",[Vee]:"fire-rc",[Zee]:"fire-rc-compat",[Yee]:"fire-gcs",[jee]:"fire-gcs-compat",[Kee]:"fire-fst",[Xee]:"fire-fst-compat","fire-js":"fire-js",[Jee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map,wb=new Map;function tte(t,e){try{t.container.addComponent(e)}catch(n){j0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function K0(t){const e=t.name;if(wb.has(e))return j0.debug(`There were multiple attempts to register component ${e}.`),!1;wb.set(e,t);for(const n of n_.values())tte(n,t);return!0}function S2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Oc=new hm("app","Firebase",nte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=Qee;function rR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oc.create("bad-app-name",{appName:String(i)});if(n||(n=jI()),!n)throw Oc.create("no-options");const s=n_.get(i);if(s){if(t_(n,s.options)&&t_(r,s.config))return s;throw Oc.create("duplicate-app",{appName:i})}const a=new fee(i);for(const c of wb.values())a.addComponent(c);const l=new rte(n,r,a);return n_.set(i,l),l}function T2(t=bb){const e=n_.get(t);if(!e&&t===bb&&jI())return rR();if(!e)throw Oc.create("no-app",{appName:t});return e}function Bu(t,e,n){var r;let i=(r=ete[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),j0.warn(l.join(" "));return}K0(new Gc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite="firebase-heartbeat-database",ste=1,bp="firebase-heartbeat-store";let L4=null;function iR(){return L4||(L4=Tee(ite,ste,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bp)}}}).catch(t=>{throw Oc.create("idb-open",{originalErrorMessage:t.message})})),L4}async function ate(t){try{return await(await iR()).transaction(bp).objectStore(bp).get(sR(t))}catch(e){if(e instanceof tc)j0.warn(e.message);else{const n=Oc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});j0.warn(n.message)}}}async function J9(t,e){try{const r=(await iR()).transaction(bp,"readwrite");await r.objectStore(bp).put(e,sR(t)),await r.done}catch(n){if(n instanceof tc)j0.warn(n.message);else{const r=Oc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});j0.warn(r.message)}}}function sR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=1024,lte=30*24*60*60*1e3;class ute{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Q9();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=lte}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q9(),{heartbeatsToSend:r,unsentEntries:i}=cte(this._heartbeatsCache.heartbeats),s=Jg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Q9(){return new Date().toISOString().substring(0,10)}function cte(t,e=ote){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ex(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ex(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KQ()?XQ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ate(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ex(t){return Jg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(t){K0(new Gc("platform-logger",e=>new Mee(e),"PRIVATE")),K0(new Gc("heartbeat",e=>new ute(e),"PRIVATE")),Bu(yb,X9,t),Bu(yb,X9,"esm2017"),Bu("fire-js","")}hte("");function T5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dte=aR,oR=new hm("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new x5("@firebase/auth");function pte(t,...e){r_.logLevel<=fr.WARN&&r_.warn(`Auth (${cf}): ${t}`,...e)}function tg(t,...e){r_.logLevel<=fr.ERROR&&r_.error(`Auth (${cf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t,...e){throw k5(t,...e)}function Dl(t,...e){return k5(t,...e)}function mte(t,e,n){const r=Object.assign(Object.assign({},dte()),{[e]:n});return new hm("auth","Firebase",r).create(e,{appName:t.name})}function k5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oR.create(t,...e)}function Ut(t,e,...n){if(!t)throw k5(e,...n)}function Lu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tg(e),new Error(e)}function Vu(t,e){t||Lu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gte(){return tx()==="http:"||tx()==="https:"}function tx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gte()||YQ()||"connection"in navigator)?navigator.onLine:!0}function vte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vu(n>e,"Short delay should be less than long delay!"),this.isMobile=w5()||JI()}get(){return _te()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){Vu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Lu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Lu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Lu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new dm(3e4,6e4);function pm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zh(t,e,n,r,i={}){return uR(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Bh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),lR.fetch()(cR(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function uR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yte),e);try{const i=new wte(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw T1(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw T1(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw T1(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw T1(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mte(t,p,f);el(t,p)}}catch(i){if(i instanceof tc)throw i;el(t,"network-request-failed",{message:String(i)})}}async function k2(t,e,n,r,i={}){const s=await zh(t,e,n,r,i);return"mfaPendingCredential"in s&&el(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E5(t.config,i):`${t.config.apiScheme}://${i}`}class wte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dl(this.auth,"network-request-failed")),bte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function T1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dl(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e){return zh(t,"POST","/v1/accounts:delete",e)}async function Ste(t,e){return zh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tte(t,e=!1){const n=os(t),r=await n.getIdToken(e),i=M5(r);Ut(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qd(O4(i.auth_time)),issuedAtTime:qd(O4(i.iat)),expirationTime:qd(O4(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function O4(t){return Number(t)*1e3}function M5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qg(n);return i?JSON.parse(i):(tg("Failed to decode base64 JWT payload"),null)}catch(i){return tg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kte(t){const e=M5(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tc&&Ete(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ete({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wp(t,Ste(n,{idToken:r}));Ut(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ite(s.providerUserInfo):[],l=Ate(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new fR(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function Cte(t){const e=os(t);await i_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ate(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ite(t){return t.map(e=>{var{providerId:n}=e,r=T5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rte(t,e){const n=await uR(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cR(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",lR.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kte(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ut(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Rte(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new xp;return r&&(Ut(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ut(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ut(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xp,this.toJSON())}_performRefresh(){return Lu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class D0{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=T5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wp(this,this.stsTokenManager.getToken(this.auth,e));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tte(this,e)}reload(){return Cte(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new D0(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await i_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await wp(this,xte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:C,isAnonymous:P,providerData:D,stsTokenManager:F}=n;Ut(A&&F,e,"internal-error");const Z=xp.fromJSON(this.name,F);Ut(typeof A=="string",e,"internal-error"),gc(m,e.name),gc(g,e.name),Ut(typeof C=="boolean",e,"internal-error"),Ut(typeof P=="boolean",e,"internal-error"),gc(y,e.name),gc(b,e.name),gc(S,e.name),gc(I,e.name),gc(R,e.name),gc(k,e.name);const V=new D0({uid:A,auth:e,email:g,emailVerified:C,displayName:m,isAnonymous:P,photoURL:b,phoneNumber:y,tenantId:S,stsTokenManager:Z,createdAt:R,lastLoginAt:k});return D&&Array.isArray(D)&&(V.providerData=D.map(Y=>Object.assign({},Y))),I&&(V._redirectEventId=I),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new xp;i.updateFromServerResponse(n);const s=new D0({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function Ou(t){Vu(t instanceof Function,"Expected a class definition");let e=nx.get(t);return e?(Vu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hR.type="NONE";const rx=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e,n){return`firebase:${t}:${e}:${n}`}class Jf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ng(this.userKey,i.apiKey,s),this.fullPersistenceKey=ng("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?D0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jf(Ou(rx),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ou(rx);const a=ng(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const p=await f._get(a);if(p){const m=D0._fromJSON(e,p);f!==s&&(l=m),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Jf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Jf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_R(e))return"Blackberry";if(vR(e))return"Webos";if(C5(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dR(t=bs()){return/firefox\//i.test(t)}function C5(t=bs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=bs()){return/crios\//i.test(t)}function mR(t=bs()){return/iemobile/i.test(t)}function gR(t=bs()){return/android/i.test(t)}function _R(t=bs()){return/blackberry/i.test(t)}function vR(t=bs()){return/webos/i.test(t)}function E2(t=bs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pte(t=bs()){var e;return E2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nte(){return jQ()&&document.documentMode===10}function yR(t=bs()){return E2(t)||gR(t)||vR(t)||_R(t)||/windows phone/i.test(t)||mR(t)}function Lte(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e=[]){let n;switch(t){case"Browser":n=ix(bs());break;case"Worker":n=`${ix(bs())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cf}/${r}`}async function wR(t,e){return zh(t,"GET","/v2/recaptchaConfig",pm(t,e))}function sx(t){return t!==void 0&&t.enterprise!==void 0}class xR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function SR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ote().appendChild(r)})}function Dte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Bte="https://www.google.com/recaptcha/enterprise.js?render=",zte="recaptcha-enterprise",Fte="NO_RECAPTCHA";class TR{constructor(e){this.type=zte,this.auth=mm(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{wR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new xR(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;sx(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(Fte)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&sx(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}SR(Bte+l).then(()=>{i(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function ax(t,e,n,r=!1){const i=new TR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ox(this),this.idTokenSubscription=new ox(this),this.beforeStateQueue=new Ute(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ou(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await i_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?os(e):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ou(e))})}async initializeRecaptchaConfig(){const e=await wR(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new xR(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new TR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ou(e)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Jf.create(this,[Ou(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Ut(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pte(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mm(t){return os(t)}class ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=iee(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(t,e){const n=S2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(t_(s,e??{}))return i;el(i,"already-initialized")}return n.initialize({options:e})}function Wte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ou);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gte(t,e,n){const r=mm(t);Ut(r._canInitEmulator,r,"emulator-config-failed"),Ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kR(e),{host:a,port:l}=$te(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Vte()}function kR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $te(t){const e=kR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lx(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:lx(a)}}}function lx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lu("not implemented")}_getIdTokenResponse(e){return Lu("not implemented")}_linkToIdToken(e,n){return Lu("not implemented")}_getReauthenticationResolver(e){return Lu("not implemented")}}async function Zte(t,e){return zh(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){return k2(t,"POST","/v1/accounts:signInWithPassword",pm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yte(t,e){return k2(t,"POST","/v1/accounts:signInWithEmailLink",pm(t,e))}async function jte(t,e){return k2(t,"POST","/v1/accounts:signInWithEmailLink",pm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends A5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ax(e,r,"signInWithPassword");return D4(e,i)}else return D4(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ax(e,r,"signInWithPassword");return D4(e,s)}else return Promise.reject(i)});case"emailLink":return Yte(e,{email:this._email,oobCode:this._password});default:el(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Zte(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return jte(e,{idToken:n,email:this._email,oobCode:this._password});default:el(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t,e){return k2(t,"POST","/v1/accounts:signInWithIdp",pm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kte="http://localhost";class X0 extends A5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new X0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):el("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=T5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new X0(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qf(e,n)}buildRequest(){const e={requestUri:Kte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jte(t){const e=Nd(Ld(t)).link,n=e?Nd(Ld(e)).deep_link_id:null,r=Nd(Ld(t)).deep_link_id;return(r?Nd(Ld(r)).link:null)||r||n||e||t}class I5{constructor(e){var n,r,i,s,a,l;const c=Nd(Ld(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Xte((i=c.mode)!==null&&i!==void 0?i:null);Ut(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Jte(e);try{return new I5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.providerId=Fh.PROVIDER_ID}static credential(e,n){return Sp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I5.parseLink(n);return Ut(r,"argument-error"),Sp._fromEmailAndCode(e,r.code,r.tenantId)}}Fh.PROVIDER_ID="password";Fh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends ER{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends gm{constructor(){super("facebook.com")}static credential(e){return X0._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kc.credential(e.oauthAccessToken)}catch{return null}}}kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";kc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends gm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return X0._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ec.credential(n,r)}catch{return null}}}Ec.GOOGLE_SIGN_IN_METHOD="google.com";Ec.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends gm{constructor(){super("github.com")}static credential(e){return X0._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mc.credential(e.oauthAccessToken)}catch{return null}}}Mc.GITHUB_SIGN_IN_METHOD="github.com";Mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends gm{constructor(){super("twitter.com")}static credential(e,n){return X0._fromParams({providerId:Cc.PROVIDER_ID,signInMethod:Cc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cc.credentialFromTaggedObject(e)}static credentialFromError(e){return Cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cc.credential(n,r)}catch{return null}}}Cc.TWITTER_SIGN_IN_METHOD="twitter.com";Cc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await D0._fromIdTokenResponse(e,r,i),a=ux(r);return new Sh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ux(r);return new Sh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ux(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends tc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new s_(e,n,r,i)}}function MR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s_._fromErrorAndOperation(t,s,e,r):s})}async function Qte(t,e,n=!1){const r=await wp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await wp(t,MR(r,i,e,t),n);Ut(s.idToken,r,"internal-error");const a=M5(s.idToken);Ut(a,r,"internal-error");const{sub:l}=a;return Ut(t.uid===l,r,"user-mismatch"),Sh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&el(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e,n=!1){const r="signIn",i=await MR(t,r,e),s=await Sh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function tne(t,e){return CR(mm(t),e)}function nne(t,e,n){return tne(os(t),Fh.credential(e,n))}function rne(t,e,n,r){return os(t).onIdTokenChanged(e,n,r)}function ine(t,e,n){return os(t).beforeAuthStateChanged(e,n)}function sne(t){return os(t).signOut()}const a_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(a_,"1"),this.storage.removeItem(a_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){const t=bs();return C5(t)||E2(t)}const one=1e3,lne=10;class IR extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ane()&&Lte(),this.fallbackToPolling=yR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Nte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lne):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},one)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const RR=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PR.type="SESSION";const NR=PR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new M2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),c=await une(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}M2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const f=R5("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){return window}function fne(t){Bl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return typeof Bl().WorkerGlobalScope<"u"&&typeof Bl().importScripts=="function"}async function hne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pne(){return LR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebaseLocalStorageDb",mne=1,o_="firebaseLocalStorage",DR="fbase_key";class _m{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function C2(t,e){return t.transaction([o_],e?"readwrite":"readonly").objectStore(o_)}function gne(){const t=indexedDB.deleteDatabase(OR);return new _m(t).toPromise()}function Sb(){const t=indexedDB.open(OR,mne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(o_,{keyPath:DR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(o_)?e(r):(r.close(),await gne(),e(await Sb()))})})}async function cx(t,e,n){const r=C2(t,!0).put({[DR]:e,value:n});return new _m(r).toPromise()}async function _ne(t,e){const n=C2(t,!1).get(e),r=await new _m(n).toPromise();return r===void 0?null:r.value}function fx(t,e){const n=C2(t,!0).delete(e);return new _m(n).toPromise()}const vne=800,yne=3;class BR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=M2._getInstance(pne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hne(),!this.activeServiceWorker)return;this.sender=new cne(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sb();return await cx(e,a_,"1"),await fx(e,a_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_ne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=C2(i,!1).getAll();return new _m(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BR.type="LOCAL";const bne=BR;new dm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(t,e){return e?Ou(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5 extends A5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xne(t){return CR(t.auth,new P5(t),t.bypassAuthState)}function Sne(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),ene(n,new P5(t),t.bypassAuthState)}async function Tne(t){const{auth:e,user:n}=t;return Ut(n,e,"internal-error"),Qte(n,new P5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xne;case"linkViaPopup":case"linkViaRedirect":return Tne;case"reauthViaPopup":case"reauthViaRedirect":return Sne;default:el(this.auth,"internal-error")}}resolve(e){Vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=new dm(2e3,1e4);class Hf extends zR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hf.currentPopupAction&&Hf.currentPopupAction.cancel(),Hf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){Vu(this.filter.length===1,"Popup operations only handle one event");const e=R5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kne.get())};e()}}Hf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene="pendingRedirect",rg=new Map;class Mne extends zR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rg.get(this.auth._key());if(!e){try{const r=await Cne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rg.set(this.auth._key(),e)}return this.bypassAuthState||rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cne(t,e){const n=Rne(e),r=Ine(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ane(t,e){rg.set(t._key(),e)}function Ine(t){return Ou(t._redirectPersistence)}function Rne(t){return ng(Ene,t.config.apiKey,t.name)}async function Pne(t,e,n=!1){const r=mm(t),i=wne(r,e),a=await new Mne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne=10*60*1e3;class Lne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!One(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dl(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nne&&this.cachedEventUids.clear(),this.cachedEventUids.has(hx(e))}saveEventToCache(e){this.cachedEventUids.add(hx(e)),this.lastProcessedEventTime=Date.now()}}function hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function One(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(t,e={}){return zh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zne=/^https?/;async function Fne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dne(t);for(const n of e)try{if(Une(n))return}catch{}el(t,"unauthorized-domain")}function Une(t){const e=xb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!zne.test(n))return!1;if(Bne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=new dm(3e4,6e4);function dx(){const t=Bl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hne(t){return new Promise((e,n)=>{var r,i,s;function a(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),n(Dl(t,"network-request-failed"))},timeout:qne.get()})}if(!((i=(r=Bl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bl().gapi)===null||s===void 0)&&s.load)a();else{const l=Dte("iframefcb");return Bl()[l]=()=>{gapi.load?a():n(Dl(t,"network-request-failed"))},SR(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ig=null,e})}let ig=null;function Wne(t){return ig=ig||Hne(t),ig}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne=new dm(5e3,15e3),$ne="__/auth/iframe",Vne="emulator/auth/iframe",Zne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jne(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E5(e,Vne):`https://${t.config.authDomain}/${$ne}`,r={apiKey:e.apiKey,appName:t.name,v:cf},i=Yne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bh(r).slice(1)}`}async function Kne(t){const e=await Wne(t),n=Bl().gapi;return Ut(n,t,"internal-error"),e.open({where:document.body,url:jne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Dl(t,"network-request-failed"),l=Bl().setTimeout(()=>{s(a)},Gne.get());function c(){Bl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jne=500,Qne=600,ere="_blank",tre="http://localhost";class px{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nre(t,e,n,r=Jne,i=Qne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Xne),{width:r.toString(),height:i.toString(),top:s,left:a}),f=bs().toLowerCase();n&&(l=pR(f)?ere:n),dR(f)&&(e=e||tre,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(Pte(f)&&l!=="_self")return rre(e||"",l),new px(null);const m=window.open(e||"",l,p);Ut(m,t,"popup-blocked");try{m.focus()}catch{}return new px(m)}function rre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire="__/auth/handler",sre="emulator/auth/handler",are=encodeURIComponent("fac");async function mx(t,e,n,r,i,s){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cf,eventId:i};if(e instanceof ER){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",gb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof gm){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),f=c?`#${are}=${encodeURIComponent(c)}`:"";return`${ore(t)}?${Bh(l).slice(1)}${f}`}function ore({config:t}){return t.emulator?E5(t,sre):`https://${t.authDomain}/${ire}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="webStorageSupport";class lre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NR,this._completeRedirectFn=Pne,this._overrideRedirectResult=Ane}async _openPopup(e,n,r,i){var s;Vu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await mx(e,n,r,xb(),i);return nre(e,a,R5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await mx(e,n,r,xb(),i);return fne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Kne(e),r=new Lne(e);return n.register("authEvent",i=>(Ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(B4,{type:B4},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[B4];a!==void 0&&n(!!a),el(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yR()||C5()||E2()}}const ure=lre;var gx="@firebase/auth",_x="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hre(t){K0(new Gc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ut(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bR(t)},f=new qte(r,i,s,c);return Wte(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),K0(new Gc("auth-internal",e=>{const n=mm(e.getProvider("auth").getImmediate());return(r=>new cre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bu(gx,_x,fre(t)),Bu(gx,_x,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=5*60,pre=KI("authIdTokenMaxAge")||dre;let vx=null;const mre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pre)return;const i=n==null?void 0:n.token;vx!==i&&(vx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UR(t=T2()){const e=S2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hte(t,{popupRedirectResolver:ure,persistence:[bne,RR,NR]}),r=KI("authTokenSyncURL");if(r){const s=mre(r);ine(n,s,()=>s(n.currentUser)),rne(n,a=>s(a))}const i=ZI("auth");return i&&Gte(n,`http://${i}`),n}hre("Browser");const yx="@firebase/database",bx="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qR="";function gre(t){qR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $l(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _re(e)}}catch{}return new vre},I0=HR("localStorage"),Tb=HR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new x5("@firebase/database"),yre=function(){let t=1;return function(){return t++}}(),WR=function(t){const e=oee(t),n=new ree;n.update(e);const r=n.digest();return y5.encodeByteArray(r)},vm=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vm.apply(null,r):typeof r=="object"?e+=Mi(r):e+=r,e+=" "}return e};let B0=null,wx=!0;const bre=function(t,e){je(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(eh.logLevel=fr.VERBOSE,B0=eh.log.bind(eh),e&&Tb.set("logging_enabled",!0)):typeof t=="function"?B0=t:(B0=null,Tb.remove("logging_enabled"))},ss=function(...t){if(wx===!0&&(wx=!1,B0===null&&Tb.get("logging_enabled")===!0&&bre(!0)),B0){const e=vm.apply(null,t);B0(e)}},ym=function(t){return function(...e){ss(t,...e)}},kb=function(...t){const e="FIREBASE INTERNAL ERROR: "+vm(...t);eh.error(e)},Zu=function(...t){const e=`FIREBASE FATAL ERROR: ${vm(...t)}`;throw eh.error(e),new Error(e)},Zs=function(...t){const e="FIREBASE WARNING: "+vm(...t);eh.warn(e)},wre=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},N5=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xre=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Th="[MIN_NAME]",J0="[MAX_NAME]",ff=function(t,e){if(t===e)return 0;if(t===Th||e===J0)return-1;if(e===Th||t===J0)return 1;{const n=xx(t),r=xx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Sre=function(t,e){return t===e?0:t<e?-1:1},gd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mi(e))},L5=function(t){if(typeof t!="object"||t===null)return Mi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mi(e[r]),n+=":",n+=L5(t[e[r]]);return n+="}",n},GR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function as(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $R=function(t){je(!N5(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,l,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const p=f.join("");let m="";for(c=0;c<64;c+=8){let g=parseInt(p.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},Tre=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kre=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ere(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Mre=new RegExp("^-?(0*)\\d{1,10}$"),Cre=-2147483648,Are=2147483647,xx=function(t){if(Mre.test(t)){const e=Number(t);if(e>=Cre&&e<=Are)return e}return null},Uh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Zs("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ire=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ss("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zs(e)}}class th{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}th.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="5",VR="v",ZR="s",YR="r",jR="f",KR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XR="ls",JR="p",Eb="ac",QR="websocket",eP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,i,s=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=I0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&I0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Nre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nP(t,e,n){je(typeof e=="string","typeof type must == string"),je(typeof n=="object","typeof params must == object");let r;if(e===QR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Nre(t)&&(n.ns=t.namespace);const i=[];return as(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.counters_={}}incrementCounter(e,n=1){$l(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={},F4={};function D5(t){const e=t.toString();return z4[e]||(z4[e]=new Lre),z4[e]}function Ore(t,e){const n=t.toString();return F4[n]||(F4[n]=e()),F4[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Uh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="start",Bre="close",zre="pLPCommand",Fre="pRTLPCB",rP="id",iP="pw",sP="ser",Ure="cb",qre="seg",Hre="ts",Wre="d",Gre="dframe",aP=1870,oP=30,$re=aP-oP,Vre=25e3,Zre=3e4;class Wf{constructor(e,n,r,i,s,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ym(e),this.stats_=D5(n),this.urlFn=c=>(this.appCheckToken&&(c[Eb]=this.appCheckToken),nP(n,eP,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dre(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Zre)),xre(()=>{if(this.isClosed_)return;this.scriptTagHolder=new B5((...s)=>{const[a,l,c,f,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Sx)this.id=l,this.password=c;else if(a===Bre)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sx]="t",r[sP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ure]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VR]=O5,this.transportSessionId&&(r[ZR]=this.transportSessionId),this.lastSessionId&&(r[XR]=this.lastSessionId),this.applicationId&&(r[JR]=this.applicationId),this.appCheckToken&&(r[Eb]=this.appCheckToken),typeof location<"u"&&location.hostname&&KR.test(location.hostname)&&(r[YR]=jR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wf.forceAllow_=!0}static forceDisallow(){Wf.forceDisallow_=!0}static isAvailable(){return Wf.forceAllow_?!0:!Wf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tre()&&!kre()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$I(n),i=GR(r,$re);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Gre]="t",r[rP]=e,r[iP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class B5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yre(),window[zre+this.uniqueCallbackIdentifier]=e,window[Fre+this.uniqueCallbackIdentifier]=n,this.myIFrame=B5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){ss("frame writing exception"),l.stack&&ss(l.stack),ss(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ss("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rP]=this.myID,e[iP]=this.myPW,e[sP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oP+r.length<=aP;){const a=this.pendingSegs.shift();r=r+"&"+qre+i+"="+a.seg+"&"+Hre+i+"="+a.ts+"&"+Wre+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Vre)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ss("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=16384,jre=45e3;let l_=null;typeof MozWebSocket<"u"?l_=MozWebSocket:typeof WebSocket<"u"&&(l_=WebSocket);class jo{constructor(e,n,r,i,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ym(this.connId),this.stats_=D5(n),this.connURL=jo.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[VR]=O5,typeof location<"u"&&location.hostname&&KR.test(location.hostname)&&(a[YR]=jR),n&&(a[ZR]=n),r&&(a[XR]=r),i&&(a[Eb]=i),s&&(a[JR]=s),nP(e,QR,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,I0.set("previous_websocket_failure",!0);try{let r;QI(),this.mySock=new l_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&l_!==null&&!jo.forceDisallow_}static previouslyFailed(){return I0.isInMemoryStorage||I0.get("previous_websocket_failure")===!0}markConnectionHealthy(){I0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=yp(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(je(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GR(n,Yre);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jre))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jo.responsesRequiredToBeHealthy=2;jo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wf,jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=jo&&jo.isAvailable();let r=n&&!jo.previouslyFailed();if(e.webSocketOnly&&(n||Zs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jo];else{const i=this.transports_=[];for(const s of Tp.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Tp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Tp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=6e4,Xre=5e3,Jre=10*1024,Qre=100*1024,U4="t",Tx="d",eie="s",kx="r",tie="e",Ex="o",Mx="a",Cx="n",Ax="p",nie="h";class rie{constructor(e,n,r,i,s,a,l,c,f,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ym("c:"+this.id+":"),this.transportManager_=new Tp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Qre?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jre?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(U4 in e){const n=e[U4];n===Mx?this.upgradeIfSecondaryHealthy_():n===kx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ex&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gd("t",e),r=gd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ax,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Mx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gd("t",e),r=gd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gd(U4,e);if(Tx in e){const r=e[Tx];if(n===nie){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Cx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===eie?this.onConnectionShutdown_(r):n===kx?this.onReset_(r):n===tie?kb("Server Error: "+r):n===Ex?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),O5!==r&&Zs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kre))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Xre))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ax,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(I0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.allowedEvents_=e,this.listeners_={},je(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){je(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends uP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!w5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new u_}getInitialEvent(e){return je(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=32,Rx=768;class hr{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Wn(){return new hr("")}function kn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $c(t){return t.pieces_.length-t.pieceNum_}function Tr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new hr(t.pieces_,e)}function z5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iie(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new hr(e,0)}function ei(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof hr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new hr(n,0)}function bn(t){return t.pieceNum_>=t.pieces_.length}function $s(t,e){const n=kn(t),r=kn(e);if(n===null)return e;if(n===r)return $s(Tr(t),Tr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sie(t,e){const n=kp(t,0),r=kp(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ff(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function fP(t,e){if($c(t)!==$c(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _o(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($c(t)>$c(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class aie{constructor(e,n){this.errorPrefix_=n,this.parts_=kp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=x2(this.parts_[r]);hP(this)}}function oie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=x2(e),hP(t)}function lie(t){const e=t.parts_.pop();t.byteLength_-=x2(e),t.parts_.length>0&&(t.byteLength_-=1)}function hP(t){if(t.byteLength_>Rx)throw new Error(t.errorPrefix_+"has a key path longer than "+Rx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ix)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ix+") or object contains a cycle "+S0(t))}function S0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5 extends uP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new F5}getInitialEvent(e){return je(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=1e3,uie=60*5*1e3,Px=30*1e3,cie=1.3,fie=3e4,hie="server_kill",Nx=3;class zu extends lP{constructor(e,n,r,i,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=zu.nextPersistentConnectionId_++,this.log_=ym("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=uie,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!QI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&u_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Mi(s)),je(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fm,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),je(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{const c=l.d,f=l.s;zu.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$l(e,"w")){const r=xh(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Zs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Px)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tee(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kb("Unrecognized action received from server: "+Mi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){je(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fie&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cie)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zu.nextConnectionId_++,s=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},f=function(m){je(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:c,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?ss("getToken() completed but was canceled"):(ss("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,l=new rie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Zs(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(hie)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Zs(m),c())}}}interrupt(e){ss("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ss("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gb(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>L5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new hr(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ss("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nx&&(this.reconnectDelay_=Px,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ss("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+qR.replace(/\./g,"-")]=1,w5()?e["framework.cordova"]=1:JI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=u_.getInstance().currentlyOnline();return gb(this.interruptReasons_)&&e}}zu.nextPersistentConnectionId_=0;zu.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new vn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new vn(Th,e),i=new vn(Th,n);return this.compare(r,i)!==0}minPost(){return vn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1;class dP extends A2{static get __EMPTY_NODE(){return k1}static set __EMPTY_NODE(e){k1=e}compare(e,n){return ff(e.name,n.name)}isDefinedOn(e){throw Dh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return vn.MIN}maxPost(){return new vn(J0,k1)}makePost(e,n){return je(typeof e=="string","KeyIndex indexValue must always be a string."),new vn(e,k1)}toString(){return".key"}}const nh=new dP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gi.RED,this.left=i??xa.EMPTY_NODE,this.right=s??xa.EMPTY_NODE}copy(e,n,r,i,s){return new Gi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xa.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gi.RED=!0;Gi.BLACK=!1;class die{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xa{constructor(e,n=xa.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xa(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gi.BLACK,null,null))}remove(e){return new xa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new E1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new E1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new E1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new E1(this.root_,null,this.comparator_,!0,e)}}xa.EMPTY_NODE=new die;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pie(t,e){return ff(t.name,e.name)}function U5(t,e){return ff(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb;function mie(t){Mb=t}const pP=function(t){return typeof t=="number"?"number:"+$R(t):"string:"+t},mP=function(t){if(t.isLeafNode()){const e=t.val();je(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$l(e,".sv"),"Priority must be a string or number.")}else je(t===Mb||t.isEmpty(),"priority of unexpected type.");je(t===Mb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lx;class Wi{constructor(e,n=Wi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,je(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mP(this.priorityNode_)}static set __childrenNodeConstructor(e){Lx=e}static get __childrenNodeConstructor(){return Lx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Wi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bn(e)?this:kn(e)===".priority"?this.priorityNode_:Wi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Wi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=kn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(je(r!==".priority"||$c(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Wi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=$R(this.value_):e+=this.value_,this.lazyHash_=WR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wi.__childrenNodeConstructor?-1:(je(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Wi.VALUE_TYPE_ORDER.indexOf(n),s=Wi.VALUE_TYPE_ORDER.indexOf(r);return je(i>=0,"Unknown leaf type: "+n),je(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Wi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gP,_P;function gie(t){gP=t}function _ie(t){_P=t}class vie extends A2{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ff(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(J0,new Wi("[PRIORITY-POST]",_P))}makePost(e,n){const r=gP(e);return new vn(n,new Wi("[PRIORITY-POST]",r))}toString(){return".priority"}}const ni=new vie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=Math.log(2);class bie{constructor(e){const n=s=>parseInt(Math.log(s)/yie,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const c_=function(t,e,n,r){t.sort(e);const i=function(c,f){const p=f-c;let m,g;if(p===0)return null;if(p===1)return m=t[c],g=n?n(m):m,new Gi(g,m.node,Gi.BLACK,null,null);{const y=parseInt(p/2,10)+c,b=i(c,y),S=i(y+1,f);return m=t[y],g=n?n(m):m,new Gi(g,m.node,Gi.BLACK,b,S)}},s=function(c){let f=null,p=null,m=t.length;const g=function(b,S){const I=m-b,R=m;m-=b;const k=i(I+1,R),A=t[I],C=n?n(A):A;y(new Gi(C,A.node,S,null,k))},y=function(b){f?(f.left=b,f=b):(p=b,f=b)};for(let b=0;b<c.count;++b){const S=c.nextBitIsOne(),I=Math.pow(2,c.count-(b+1));S?g(I,Gi.BLACK):(g(I,Gi.BLACK),g(I,Gi.RED))}return p},a=new bie(t.length),l=s(a);return new xa(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q4;const Of={};class Du{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return je(Of&&ni,"ChildrenNode.ts has not been loaded"),q4=q4||new Du({".priority":Of},{".priority":ni}),q4}get(e){const n=xh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xa?n:null}hasIndex(e){return $l(this.indexSet_,e.toString())}addIndex(e,n){je(e!==nh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(vn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let l;i?l=c_(r,e.getCompare()):l=Of;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const p=Object.assign({},this.indexes_);return p[c]=l,new Du(p,f)}addToIndexes(e,n){const r=e_(this.indexes_,(i,s)=>{const a=xh(this.indexSet_,s);if(je(a,"Missing index implementation for "+s),i===Of)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(vn.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&l.push(f),f=c.getNext();return l.push(e),c_(l,a.getCompare())}else return Of;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new vn(e.name,l))),c.insert(e,e.node)}});return new Du(r,this.indexSet_)}removeFromIndexes(e,n){const r=e_(this.indexes_,i=>{if(i===Of)return i;{const s=n.get(e.name);return s?i.remove(new vn(e.name,s)):i}});return new Du(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class Dt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mP(this.priorityNode_),this.children_.isEmpty()&&je(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vd||(vd=new Dt(new xa(U5),null,Du.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new Dt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vd:n}}getChild(e){const n=kn(e);return n===null?this:this.getImmediateChild(n).getChild(Tr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(je(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new vn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?vd:this.priorityNode_;return new Dt(i,a,s)}}updateChild(e,n){const r=kn(e);if(r===null)return n;{je(kn(e)!==".priority"||$c(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Tr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ni,(a,l)=>{n[a]=l.val(e),r++,s&&Dt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+pP(this.getPriority().val())+":"),this.forEachChild(ni,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":WR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new vn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new vn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new vn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,vn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,vn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bm?-1:0}withIndex(e){if(e===nh||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Dt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===nh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ni),i=n.getIterator(ni);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===nh?null:this.indexMap_.get(e.toString())}}Dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wie extends Dt{constructor(){super(new xa(U5),Dt.EMPTY_NODE,Du.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dt.EMPTY_NODE}isEmpty(){return!1}}const bm=new wie;Object.defineProperties(vn,{MIN:{value:new vn(Th,Dt.EMPTY_NODE)},MAX:{value:new vn(J0,bm)}});dP.__EMPTY_NODE=Dt.EMPTY_NODE;Wi.__childrenNodeConstructor=Dt;mie(bm);_ie(bm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=!0;function Ei(t,e=null){if(t===null)return Dt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),je(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Wi(n,Ei(e))}if(!(t instanceof Array)&&xie){const n=[];let r=!1;if(as(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=Ei(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new vn(a,c)))}}),n.length===0)return Dt.EMPTY_NODE;const s=c_(n,pie,a=>a.name,U5);if(r){const a=c_(n,ni.getCompare());return new Dt(s,Ei(e),new Du({".priority":a},{".priority":ni}))}else return new Dt(s,Ei(e),Du.Default)}else{let n=Dt.EMPTY_NODE;return as(t,(r,i)=>{if($l(t,r)&&r.substring(0,1)!=="."){const s=Ei(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ei(e))}}gie(Ei);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie extends A2{constructor(e){super(),this.indexPath_=e,je(!bn(e)&&kn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ff(e.name,n.name):s}makePost(e,n){const r=Ei(e),i=Dt.EMPTY_NODE.updateChild(this.indexPath_,r);return new vn(n,i)}maxPost(){const e=Dt.EMPTY_NODE.updateChild(this.indexPath_,bm);return new vn(J0,e)}toString(){return kp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie extends A2{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ff(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(e,n){const r=Ei(e);return new vn(n,r)}toString(){return".value"}}const kie=new Tie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return{type:"value",snapshotNode:t}}function kh(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ep(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Eie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){je(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Ep(n,l)):je(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(kh(n,r)):a.trackChildChange(Mp(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ni,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ep(i,s))}),n.isLeafNode()||n.forEachChild(ni,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Mp(i,s,a))}else r.trackChildChange(kh(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Dt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.indexedFilter_=new q5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Cp.getStartPost_(e),this.endPost_=Cp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new vn(n,r))||(r=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Dt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Dt.EMPTY_NODE);const s=this;return n.forEachChild(ni,(a,l)=>{s.matches(new vn(a,l))||(i=i.updateImmediateChild(a,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Cp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new vn(n,r))||(r=Dt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Dt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Dt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Dt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const l=s.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(g,y)=>m(y,g)}else a=this.index_.getCompare();const l=e;je(l.numChildren()===this.limit_,"");const c=new vn(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(l.hasChild(n)){const m=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:a(g,c);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Mp(n,r,m)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ep(n,m));const S=l.updateImmediateChild(n,Dt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(kh(g.name,g.node)),S.updateImmediateChild(g.name,g.node)):S}}else return r.isEmpty()?e:p&&a(f,c)>=0?(s!=null&&(s.trackChildChange(Ep(f.name,f.node)),s.trackChildChange(kh(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Dt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ni}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return je(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return je(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Th}hasEnd(){return this.endSet_}getIndexEndValue(){return je(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return je(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:J0}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return je(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ni}copy(){const e=new H5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Cie(t){return t.loadsAllData()?new q5(t.getIndex()):t.hasLimit()?new Mie(t):new Cp(t)}function Ox(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ni?n="$priority":t.index_===kie?n="$value":t.index_===nh?n="$key":(je(t.index_ instanceof Sie,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ni&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends lP{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ym("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(je(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=f_.getListenId_(e,r),l={};this.listens_[a]=l;const c=Ox(e._queryParams);this.restRequest_(s+".json",c,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,r),xh(this.listens_,a)===l){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",i(g,null)}})}unlisten(e,n){const r=f_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ox(e._queryParams),r=e._path.toString(),i=new fm;return this.restRequest_(r+".json",n,(s,a)=>{let l=a;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bh(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=yp(l.responseText)}catch{Zs("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Zs("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){return{value:null,children:new Map}}function yP(t,e,n){if(bn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=kn(e);t.children.has(r)||t.children.set(r,h_());const i=t.children.get(r);e=Tr(e),yP(i,e,n)}}function Cb(t,e,n){t.value!==null?n(e,t.value):Iie(t,(r,i)=>{const s=new hr(e.toString()+"/"+r);Cb(i,s,n)})}function Iie(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&as(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=10*1e3,Pie=30*1e3,Nie=5*60*1e3;class Lie{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rie(e);const r=Bx+(Pie-Bx)*Math.random();Hd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;as(e,(i,s)=>{s>0&&$l(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Hd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ko||(Ko={}));function W5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function G5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ko.ACK_USER_WRITE,this.source=W5()}operationForChild(e){if(bn(this.path)){if(this.affectedTree.value!=null)return je(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new hr(e));return new d_(Wn(),n,this.revert)}}else return je(kn(this.path)===e,"operationForChild called for unrelated child."),new d_(Tr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.source=e,this.path=n,this.type=Ko.LISTEN_COMPLETE}operationForChild(e){return bn(this.path)?new Ap(this.source,Wn()):new Ap(this.source,Tr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ko.OVERWRITE}operationForChild(e){return bn(this.path)?new Q0(this.source,Wn(),this.snap.getImmediateChild(e)):new Q0(this.source,Tr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ko.MERGE}operationForChild(e){if(bn(this.path)){const n=this.children.subtree(new hr(e));return n.isEmpty()?null:n.value?new Q0(this.source,Wn(),n.value):new Eh(this.source,Wn(),n)}else return je(kn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Eh(this.source,Tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bn(e))return this.isFullyInitialized()&&!this.filtered_;const n=kn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Die(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Eie(a.childName,a.snapshotNode))}),yd(t,i,"child_removed",e,r,n),yd(t,i,"child_added",e,r,n),yd(t,i,"child_moved",s,r,n),yd(t,i,"child_changed",e,r,n),yd(t,i,"value",e,r,n),i}function yd(t,e,n,r,i,s){const a=r.filter(l=>l.type===n);a.sort((l,c)=>zie(t,l,c)),a.forEach(l=>{const c=Bie(t,l,s);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(c,t.query_))})})}function Bie(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zie(t,e,n){if(e.childName==null||n.childName==null)throw Dh("Should only compare child_ events.");const r=new vn(e.childName,e.snapshotNode),i=new vn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){return{eventCache:t,serverCache:e}}function Wd(t,e,n,r){return I2(new Vc(e,n,r),t.serverCache)}function bP(t,e,n,r){return I2(t.eventCache,new Vc(e,n,r))}function p_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ef(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H4;const Fie=()=>(H4||(H4=new xa(Sre)),H4);class Sr{constructor(e,n=Fie()){this.value=e,this.children=n}static fromObject(e){let n=new Sr(null);return as(e,(r,i)=>{n=n.set(new hr(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Wn(),value:this.value};if(bn(e))return null;{const r=kn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Tr(e),n);return s!=null?{path:ei(new hr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bn(e))return this;{const n=kn(e),r=this.children.get(n);return r!==null?r.subtree(Tr(e)):new Sr(null)}}set(e,n){if(bn(e))return new Sr(n,this.children);{const r=kn(e),s=(this.children.get(r)||new Sr(null)).set(Tr(e),n),a=this.children.insert(r,s);return new Sr(this.value,a)}}remove(e){if(bn(e))return this.children.isEmpty()?new Sr(null):new Sr(null,this.children);{const n=kn(e),r=this.children.get(n);if(r){const i=r.remove(Tr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Sr(null):new Sr(this.value,s)}else return this}}get(e){if(bn(e))return this.value;{const n=kn(e),r=this.children.get(n);return r?r.get(Tr(e)):null}}setTree(e,n){if(bn(e))return n;{const r=kn(e),s=(this.children.get(r)||new Sr(null)).setTree(Tr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Sr(this.value,a)}}fold(e){return this.fold_(Wn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ei(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Wn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(bn(e))return null;{const s=kn(e),a=this.children.get(s);return a?a.findOnPath_(Tr(e),ei(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Wn(),n)}foreachOnPath_(e,n,r){if(bn(e))return this;{this.value&&r(n,this.value);const i=kn(e),s=this.children.get(i);return s?s.foreachOnPath_(Tr(e),ei(n,i),r):new Sr(null)}}foreach(e){this.foreach_(Wn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ei(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.writeTree_=e}static empty(){return new Xo(new Sr(null))}}function Gd(t,e,n){if(bn(e))return new Xo(new Sr(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=$s(i,e);return s=s.updateChild(a,n),new Xo(t.writeTree_.set(i,s))}else{const i=new Sr(n),s=t.writeTree_.setTree(e,i);return new Xo(s)}}}function Ab(t,e,n){let r=t;return as(n,(i,s)=>{r=Gd(r,ei(e,i),s)}),r}function zx(t,e){if(bn(e))return Xo.empty();{const n=t.writeTree_.setTree(e,new Sr(null));return new Xo(n)}}function Ib(t,e){return hf(t,e)!=null}function hf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($s(n.path,e)):null}function Fx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ni,(r,i)=>{e.push(new vn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new vn(r,i.value))}),e}function Dc(t,e){if(bn(e))return t;{const n=hf(t,e);return n!=null?new Xo(new Sr(n)):new Xo(t.writeTree_.subtree(e))}}function Rb(t){return t.writeTree_.isEmpty()}function Mh(t,e){return wP(Wn(),t.writeTree_,e)}function wP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(je(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=wP(ei(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ei(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return kP(e,t)}function Uie(t,e,n,r,i){je(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gd(t.visibleWrites,e,n)),t.lastWriteId=r}function qie(t,e,n,r){je(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ab(t.visibleWrites,e,n),t.lastWriteId=r}function Hie(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Wie(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);je(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Gie(l,r.path)?i=!1:_o(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return $ie(t),!0;if(r.snap)t.visibleWrites=zx(t.visibleWrites,r.path);else{const l=r.children;as(l,c=>{t.visibleWrites=zx(t.visibleWrites,ei(r.path,c))})}return!0}else return!1}function Gie(t,e){if(t.snap)return _o(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_o(ei(t.path,n),e))return!0;return!1}function $ie(t){t.visibleWrites=xP(t.allWrites,Vie,Wn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Vie(t){return t.visible}function xP(t,e,n){let r=Xo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let l;if(s.snap)_o(n,a)?(l=$s(n,a),r=Gd(r,l,s.snap)):_o(a,n)&&(l=$s(a,n),r=Gd(r,Wn(),s.snap.getChild(l)));else if(s.children){if(_o(n,a))l=$s(n,a),r=Ab(r,l,s.children);else if(_o(a,n))if(l=$s(a,n),bn(l))r=Ab(r,Wn(),s.children);else{const c=xh(s.children,kn(l));if(c){const f=c.getChild(Tr(l));r=Gd(r,Wn(),f)}}}else throw Dh("WriteRecord should have .snap or .children")}}return r}function SP(t,e,n,r,i){if(!r&&!i){const s=hf(t.visibleWrites,e);if(s!=null)return s;{const a=Dc(t.visibleWrites,e);if(Rb(a))return n;if(n==null&&!Ib(a,Wn()))return null;{const l=n||Dt.EMPTY_NODE;return Mh(a,l)}}}else{const s=Dc(t.visibleWrites,e);if(!i&&Rb(s))return n;if(!i&&n==null&&!Ib(s,Wn()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(_o(f.path,e)||_o(e,f.path))},l=xP(t.allWrites,a,e),c=n||Dt.EMPTY_NODE;return Mh(l,c)}}}function Zie(t,e,n){let r=Dt.EMPTY_NODE;const i=hf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ni,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Dc(t.visibleWrites,e);return n.forEachChild(ni,(a,l)=>{const c=Mh(Dc(s,new hr(a)),l);r=r.updateImmediateChild(a,c)}),Fx(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Dc(t.visibleWrites,e);return Fx(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Yie(t,e,n,r,i){je(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ei(e,n);if(Ib(t.visibleWrites,s))return null;{const a=Dc(t.visibleWrites,s);return Rb(a)?i.getChild(n):Mh(a,i.getChild(n))}}function jie(t,e,n,r){const i=ei(e,n),s=hf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Dc(t.visibleWrites,i);return Mh(a,r.getNode().getImmediateChild(n))}else return null}function Kie(t,e){return hf(t.visibleWrites,e)}function Xie(t,e,n,r,i,s,a){let l;const c=Dc(t.visibleWrites,e),f=hf(c,Wn());if(f!=null)l=f;else if(n!=null)l=Mh(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const p=[],m=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let y=g.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function Jie(){return{visibleWrites:Xo.empty(),allWrites:[],lastWriteId:-1}}function m_(t,e,n,r){return SP(t.writeTree,t.treePath,e,n,r)}function V5(t,e){return Zie(t.writeTree,t.treePath,e)}function Ux(t,e,n,r){return Yie(t.writeTree,t.treePath,e,n,r)}function g_(t,e){return Kie(t.writeTree,ei(t.treePath,e))}function Qie(t,e,n,r,i,s){return Xie(t.writeTree,t.treePath,e,n,r,i,s)}function Z5(t,e,n){return jie(t.writeTree,t.treePath,e,n)}function TP(t,e){return kP(ei(t.treePath,e),t.writeTree)}function kP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;je(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),je(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Mp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ep(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,kh(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Mp(r,e.snapshotNode,i.oldSnap));else throw Dh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const EP=new tse;class Y5{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Vc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Z5(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ef(this.viewCache_),s=Qie(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){return{filter:t}}function rse(t,e){je(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),je(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ise(t,e,n,r,i){const s=new ese;let a,l;if(n.type===Ko.OVERWRITE){const f=n;f.source.fromUser?a=Pb(t,e,f.path,f.snap,r,i,s):(je(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!bn(f.path),a=__(t,e,f.path,f.snap,r,i,l,s))}else if(n.type===Ko.MERGE){const f=n;f.source.fromUser?a=ase(t,e,f.path,f.children,r,i,s):(je(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),a=Nb(t,e,f.path,f.children,r,i,l,s))}else if(n.type===Ko.ACK_USER_WRITE){const f=n;f.revert?a=use(t,e,f.path,r,i,s):a=ose(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===Ko.LISTEN_COMPLETE)a=lse(t,e,n.path,r,s);else throw Dh("Unknown operation type: "+n.type);const c=s.getChanges();return sse(e,a,c),{viewCache:a,changes:c}}function sse(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=p_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(vP(p_(e)))}}function MP(t,e,n,r,i,s){const a=e.eventCache;if(g_(r,n)!=null)return e;{let l,c;if(bn(n))if(je(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=ef(e),p=f instanceof Dt?f:Dt.EMPTY_NODE,m=V5(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const f=m_(r,ef(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=kn(n);if(f===".priority"){je($c(n)===1,"Can't have a priority with additional path components");const p=a.getNode();c=e.serverCache.getNode();const m=Ux(r,n,p,c);m!=null?l=t.filter.updatePriority(p,m):l=a.getNode()}else{const p=Tr(n);let m;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();const g=Ux(r,n,a.getNode(),c);g!=null?m=a.getNode().getImmediateChild(f).updateChild(p,g):m=a.getNode().getImmediateChild(f)}else m=Z5(r,f,e.serverCache);m!=null?l=t.filter.updateChild(a.getNode(),f,m,p,i,s):l=a.getNode()}}return Wd(e,l,a.isFullyInitialized()||bn(n),t.filter.filtersNodes())}}function __(t,e,n,r,i,s,a,l){const c=e.serverCache;let f;const p=a?t.filter:t.filter.getIndexedFilter();if(bn(n))f=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(n,r);f=p.updateFullNode(c.getNode(),y,null)}else{const y=kn(n);if(!c.isCompleteForPath(n)&&$c(n)>1)return e;const b=Tr(n),I=c.getNode().getImmediateChild(y).updateChild(b,r);y===".priority"?f=p.updatePriority(c.getNode(),I):f=p.updateChild(c.getNode(),y,I,b,EP,null)}const m=bP(e,f,c.isFullyInitialized()||bn(n),p.filtersNodes()),g=new Y5(i,m,s);return MP(t,m,n,i,g,l)}function Pb(t,e,n,r,i,s,a){const l=e.eventCache;let c,f;const p=new Y5(i,e,s);if(bn(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Wd(e,f,!0,t.filter.filtersNodes());else{const m=kn(n);if(m===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=Wd(e,f,l.isFullyInitialized(),l.isFiltered());else{const g=Tr(n),y=l.getNode().getImmediateChild(m);let b;if(bn(g))b=r;else{const S=p.getCompleteChild(m);S!=null?z5(g)===".priority"&&S.getChild(cP(g)).isEmpty()?b=S:b=S.updateChild(g,r):b=Dt.EMPTY_NODE}if(y.equals(b))c=e;else{const S=t.filter.updateChild(l.getNode(),m,b,g,p,a);c=Wd(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function qx(t,e){return t.eventCache.isCompleteForChild(e)}function ase(t,e,n,r,i,s,a){let l=e;return r.foreach((c,f)=>{const p=ei(n,c);qx(e,kn(p))&&(l=Pb(t,l,p,f,i,s,a))}),r.foreach((c,f)=>{const p=ei(n,c);qx(e,kn(p))||(l=Pb(t,l,p,f,i,s,a))}),l}function Hx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Nb(t,e,n,r,i,s,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;bn(n)?f=r:f=new Sr(null).setTree(n,r);const p=e.serverCache.getNode();return f.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),b=Hx(t,y,g);c=__(t,c,new hr(m),b,i,s,a,l)}}),f.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!y){const b=e.serverCache.getNode().getImmediateChild(m),S=Hx(t,b,g);c=__(t,c,new hr(m),S,i,s,a,l)}}),c}function ose(t,e,n,r,i,s,a){if(g_(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(bn(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return __(t,e,n,c.getNode().getChild(n),i,s,l,a);if(bn(n)){let f=new Sr(null);return c.getNode().forEachChild(nh,(p,m)=>{f=f.set(new hr(p),m)}),Nb(t,e,n,f,i,s,l,a)}else return e}else{let f=new Sr(null);return r.foreach((p,m)=>{const g=ei(n,p);c.isCompleteForPath(g)&&(f=f.set(p,c.getNode().getChild(g)))}),Nb(t,e,n,f,i,s,l,a)}}function lse(t,e,n,r,i){const s=e.serverCache,a=bP(e,s.getNode(),s.isFullyInitialized()||bn(n),s.isFiltered());return MP(t,a,n,r,EP,i)}function use(t,e,n,r,i,s){let a;if(g_(r,n)!=null)return e;{const l=new Y5(r,e,i),c=e.eventCache.getNode();let f;if(bn(n)||kn(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=m_(r,ef(e));else{const m=e.serverCache.getNode();je(m instanceof Dt,"serverChildren would be complete if leaf node"),p=V5(r,m)}p=p,f=t.filter.updateFullNode(c,p,s)}else{const p=kn(n);let m=Z5(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=c.getImmediateChild(p)),m!=null?f=t.filter.updateChild(c,p,m,Tr(n),l,s):e.eventCache.getNode().hasChild(p)?f=t.filter.updateChild(c,p,Dt.EMPTY_NODE,Tr(n),l,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=m_(r,ef(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,s)))}return a=e.serverCache.isFullyInitialized()||g_(r,Wn())!=null,Wd(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new q5(r.getIndex()),s=Cie(r);this.processor_=nse(s);const a=n.serverCache,l=n.eventCache,c=i.updateFullNode(Dt.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(Dt.EMPTY_NODE,l.getNode(),null),p=new Vc(c,a.isFullyInitialized(),i.filtersNodes()),m=new Vc(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=I2(m,p),this.eventGenerator_=new Oie(this.query_)}get query(){return this.query_}}function fse(t){return t.viewCache_.serverCache.getNode()}function hse(t){return p_(t.viewCache_)}function dse(t,e){const n=ef(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!bn(e)&&!n.getImmediateChild(kn(e)).isEmpty())?n.getChild(e):null}function Wx(t){return t.eventRegistrations_.length===0}function pse(t,e){t.eventRegistrations_.push(e)}function Gx(t,e,n){const r=[];if(n){je(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $x(t,e,n,r){e.type===Ko.MERGE&&e.source.queryId!==null&&(je(ef(t.viewCache_),"We should always have a full cache before handling merges"),je(p_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ise(t.processor_,i,e,n,r);return rse(t.processor_,s.viewCache),je(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,CP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function mse(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ni,(s,a)=>{r.push(kh(s,a))}),n.isFullyInitialized()&&r.push(vP(n.getNode())),CP(t,r,n.getNode(),e)}function CP(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Die(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;class AP{constructor(){this.views=new Map}}function gse(t){je(!v_,"__referenceConstructor has already been defined"),v_=t}function _se(){return je(v_,"Reference.ts has not been loaded"),v_}function vse(t){return t.views.size===0}function j5(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return je(s!=null,"SyncTree gave us an op for an invalid query."),$x(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat($x(a,e,n,r));return s}}function IP(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let l=m_(n,i?r:null),c=!1;l?c=!0:r instanceof Dt?(l=V5(n,r),c=!1):(l=Dt.EMPTY_NODE,c=!1);const f=I2(new Vc(l,c,!1),new Vc(r,i,!1));return new cse(e,f)}return a}function yse(t,e,n,r,i,s){const a=IP(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),pse(a,n),mse(a,n)}function bse(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const l=Zc(t);if(i==="default")for(const[c,f]of t.views.entries())a=a.concat(Gx(f,n,r)),Wx(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=t.views.get(i);c&&(a=a.concat(Gx(c,n,r)),Wx(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!Zc(t)&&s.push(new(_se())(e._repo,e._path)),{removed:s,events:a}}function RP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Bc(t,e){let n=null;for(const r of t.views.values())n=n||dse(r,e);return n}function PP(t,e){if(e._queryParams.loadsAllData())return P2(t);{const r=e._queryIdentifier;return t.views.get(r)}}function NP(t,e){return PP(t,e)!=null}function Zc(t){return P2(t)!=null}function P2(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_;function wse(t){je(!y_,"__referenceConstructor has already been defined"),y_=t}function xse(){return je(y_,"Reference.ts has not been loaded"),y_}let Sse=1;class Vx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Sr(null),this.pendingWriteTree_=Jie(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LP(t,e,n,r,i){return Uie(t.pendingWriteTree_,e,n,r,i),i?qh(t,new Q0(W5(),e,n)):[]}function Tse(t,e,n,r){qie(t.pendingWriteTree_,e,n,r);const i=Sr.fromObject(n);return qh(t,new Eh(W5(),e,i))}function Ic(t,e,n=!1){const r=Hie(t.pendingWriteTree_,e);if(Wie(t.pendingWriteTree_,e)){let s=new Sr(null);return r.snap!=null?s=s.set(Wn(),!0):as(r.children,a=>{s=s.set(new hr(a),!0)}),qh(t,new d_(r.path,s,n))}else return[]}function wm(t,e,n){return qh(t,new Q0(G5(),e,n))}function kse(t,e,n){const r=Sr.fromObject(n);return qh(t,new Eh(G5(),e,r))}function Ese(t,e){return qh(t,new Ap(G5(),e))}function Mse(t,e,n){const r=X5(t,n);if(r){const i=J5(r),s=i.path,a=i.queryId,l=$s(s,e),c=new Ap($5(a),l);return Q5(t,s,c)}else return[]}function OP(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let l=[];if(a&&(e._queryIdentifier==="default"||NP(a,e))){const c=bse(a,e,n,r);vse(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=c.removed;if(l=c.events,!i){const p=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,y)=>Zc(y));if(p&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=Rse(g);for(let b=0;b<y.length;++b){const S=y[b],I=S.query,R=FP(t,S);t.listenProvider_.startListening($d(I),Ip(t,I),R.hashFn,R.onComplete)}}}!m&&f.length>0&&!r&&(p?t.listenProvider_.stopListening($d(e),null):f.forEach(g=>{const y=t.queryToTagMap.get(N2(g));t.listenProvider_.stopListening($d(g),y)}))}Pse(t,f)}return l}function DP(t,e,n,r){const i=X5(t,r);if(i!=null){const s=J5(i),a=s.path,l=s.queryId,c=$s(a,e),f=new Q0($5(l),c,n);return Q5(t,a,f)}else return[]}function Cse(t,e,n,r){const i=X5(t,r);if(i){const s=J5(i),a=s.path,l=s.queryId,c=$s(a,e),f=Sr.fromObject(n),p=new Eh($5(l),c,f);return Q5(t,a,p)}else return[]}function Ase(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{const b=$s(g,i);s=s||Bc(y,b),a=a||Zc(y)});let l=t.syncPointTree_.get(i);l?(a=a||Zc(l),s=s||Bc(l,Wn())):(l=new AP,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=Dt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,b)=>{const S=Bc(b,Wn());S&&(s=s.updateImmediateChild(y,S))}));const f=NP(l,e);if(!f&&!e._queryParams.loadsAllData()){const g=N2(e);je(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=Nse();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const p=R2(t.pendingWriteTree_,i);let m=yse(l,e,n,p,s,c);if(!f&&!a&&!r){const g=PP(l,e);m=m.concat(Lse(t,e,g))}return m}function K5(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=$s(a,e),f=Bc(l,c);if(f)return f});return SP(i,e,s,n,!0)}function Ise(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,p)=>{const m=$s(f,n);r=r||Bc(p,m)});let i=t.syncPointTree_.get(n);i?r=r||Bc(i,Wn()):(i=new AP,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Vc(r,!0,!1):null,l=R2(t.pendingWriteTree_,e._path),c=IP(i,e,l,s?a.getNode():Dt.EMPTY_NODE,s);return hse(c)}function qh(t,e){return BP(e,t.syncPointTree_,null,R2(t.pendingWriteTree_,Wn()))}function BP(t,e,n,r){if(bn(t.path))return zP(t,e,n,r);{const i=e.get(Wn());n==null&&i!=null&&(n=Bc(i,Wn()));let s=[];const a=kn(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const f=n?n.getImmediateChild(a):null,p=TP(r,a);s=s.concat(BP(l,c,f,p))}return i&&(s=s.concat(j5(i,t,r,n))),s}}function zP(t,e,n,r){const i=e.get(Wn());n==null&&i!=null&&(n=Bc(i,Wn()));let s=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,f=TP(r,a),p=t.operationForChild(a);p&&(s=s.concat(zP(p,l,c,f)))}),i&&(s=s.concat(j5(i,t,r,n))),s}function FP(t,e){const n=e.query,r=Ip(t,n);return{hashFn:()=>(fse(e)||Dt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Mse(t,n._path,r):Ese(t,n._path);{const s=Ere(i,n);return OP(t,n,null,s)}}}}function Ip(t,e){const n=N2(e);return t.queryToTagMap.get(n)}function N2(t){return t._path.toString()+"$"+t._queryIdentifier}function X5(t,e){return t.tagToQueryMap.get(e)}function J5(t){const e=t.indexOf("$");return je(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new hr(t.substr(0,e))}}function Q5(t,e,n){const r=t.syncPointTree_.get(e);je(r,"Missing sync point for query tag that we're tracking");const i=R2(t.pendingWriteTree_,e);return j5(r,n,i,null)}function Rse(t){return t.fold((e,n,r)=>{if(n&&Zc(n))return[P2(n)];{let i=[];return n&&(i=RP(n)),as(r,(s,a)=>{i=i.concat(a)}),i}})}function $d(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xse())(t._repo,t._path):t}function Pse(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=N2(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Nse(){return Sse++}function Lse(t,e,n){const r=e._path,i=Ip(t,e),s=FP(t,n),a=t.listenProvider_.startListening($d(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)je(!Zc(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((f,p,m)=>{if(!bn(f)&&p&&Zc(p))return[P2(p).query];{let g=[];return p&&(g=g.concat(RP(p).map(y=>y.query))),as(m,(y,b)=>{g=g.concat(b)}),g}});for(let f=0;f<c.length;++f){const p=c[f];t.listenProvider_.stopListening($d(p),Ip(t,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new e6(n)}node(){return this.node_}}class t6{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ei(this.path_,e);return new t6(this.syncTree_,n)}node(){return K5(this.syncTree_,this.path_)}}const Ose=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Zx=function(t,e,n){if(!t||typeof t!="object")return t;if(je(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Dse(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Bse(t[".sv"],e);je(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Dse=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:je(!1,"Unexpected server value: "+t)}},Bse=function(t,e,n){t.hasOwnProperty("increment")||je(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&je(!1,"Unexpected increment value: "+r);const i=e.node();if(je(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},UP=function(t,e,n,r){return n6(e,new t6(n,t),r)},qP=function(t,e,n){return n6(t,new e6(e),n)};function n6(t,e,n){const r=t.getPriority().val(),i=Zx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,l=Zx(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Wi(l,Ei(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Wi(i))),a.forEachChild(ni,(l,c)=>{const f=n6(c,e.getImmediateChild(l),n);f!==c&&(s=s.updateImmediateChild(l,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function i6(t,e){let n=e instanceof hr?e:new hr(e),r=t,i=kn(n);for(;i!==null;){const s=xh(r.node.children,i)||{children:{},childCount:0};r=new r6(i,r,s),n=Tr(n),i=kn(n)}return r}function Hh(t){return t.node.value}function HP(t,e){t.node.value=e,Lb(t)}function WP(t){return t.node.childCount>0}function zse(t){return Hh(t)===void 0&&!WP(t)}function L2(t,e){as(t.node.children,(n,r)=>{e(new r6(n,t,r))})}function GP(t,e,n,r){n&&!r&&e(t),L2(t,i=>{GP(i,e,!0,r)}),n&&r&&e(t)}function Fse(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xm(t){return new hr(t.parent===null?t.name:xm(t.parent)+"/"+t.name)}function Lb(t){t.parent!==null&&Use(t.parent,t.name,t)}function Use(t,e,n){const r=zse(n),i=$l(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Lb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Lb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=/[\[\].#$\/\u0000-\u001F\u007F]/,Hse=/[\[\].#$\u0000-\u001F\u007F]/,W4=10*1024*1024,s6=function(t){return typeof t=="string"&&t.length!==0&&!qse.test(t)},$P=function(t){return typeof t=="string"&&t.length!==0&&!Hse.test(t)},Wse=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$P(t)},Gse=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!N5(t)||t&&typeof t=="object"&&$l(t,".sv")},$se=function(t,e,n,r){r&&e===void 0||O2(w2(t,"value"),e,n)},O2=function(t,e,n){const r=n instanceof hr?new aie(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+S0(r));if(typeof e=="function")throw new Error(t+"contains a function "+S0(r)+" with contents = "+e.toString());if(N5(e))throw new Error(t+"contains "+e.toString()+" "+S0(r));if(typeof e=="string"&&e.length>W4/3&&x2(e)>W4)throw new Error(t+"contains a string greater than "+W4+" utf8 bytes "+S0(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(as(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!s6(a)))throw new Error(t+" contains an invalid key ("+a+") "+S0(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oie(r,a),O2(t,l,r),lie(r)}),i&&s)throw new Error(t+' contains ".value" child '+S0(r)+" in addition to actual children.")}},Vse=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=kp(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!s6(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(sie);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&_o(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Zse=function(t,e,n,r){if(r&&e===void 0)return;const i=w2(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];as(e,(a,l)=>{const c=new hr(a);if(O2(i,l,ei(n,c)),z5(c)===".priority"&&!Gse(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),Vse(i,s)},VP=function(t,e,n,r){if(!(r&&n===void 0)&&!$P(n))throw new Error(w2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Yse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),VP(t,e,n,r)},jse=function(t,e){if(kn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Kse=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!s6(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wse(n))throw new Error(w2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function a6(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!fP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function To(t,e,n){a6(t,n),Jse(t,r=>_o(r,e)||_o(e,r))}function Jse(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Qse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();B0&&ss("event: "+n.toString()),Uh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae="repo_interrupt",tae=25;class nae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=h_(),this.transactionQueueTree_=new r6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rae(t,e,n){if(t.stats_=D5(t.repoInfo_),t.forceRestClient_||Ire())t.server_=new f_(t.repoInfo_,(r,i,s,a)=>{Yx(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zu(t.repoInfo_,e,(r,i,s,a)=>{Yx(t,r,i,s,a)},r=>{jx(t,r)},r=>{sae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ore(t.repoInfo_,()=>new Lie(t.stats_,t.server_)),t.infoData_=new Aie,t.infoSyncTree_=new Vx({startListening:(r,i,s,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=wm(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),o6(t,"connected",!1),t.serverSyncTree_=new Vx({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(l,c)=>{const f=a(l,c);To(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function iae(t){const n=t.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function D2(t){return Ose({timestamp:iae(t)})}function Yx(t,e,n,r,i){t.dataUpdateCount++;const s=new hr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=e_(n,f=>Ei(f));a=Cse(t.serverSyncTree_,s,c,i)}else{const c=Ei(n);a=DP(t.serverSyncTree_,s,c,i)}else if(r){const c=e_(n,f=>Ei(f));a=kse(t.serverSyncTree_,s,c)}else{const c=Ei(n);a=wm(t.serverSyncTree_,s,c)}let l=s;a.length>0&&(l=Ch(t,s)),To(t.eventQueue_,l,a)}function jx(t,e){o6(t,"connected",e),e===!1&&uae(t)}function sae(t,e){as(e,(n,r)=>{o6(t,n,r)})}function o6(t,e,n){const r=new hr("/.info/"+e),i=Ei(n);t.infoData_.updateSnapshot(r,i);const s=wm(t.infoSyncTree_,r,i);To(t.eventQueue_,r,s)}function l6(t){return t.nextWriteId_++}function aae(t,e,n){const r=Ise(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ei(i).withIndex(e._queryParams.getIndex());Ase(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=wm(t.serverSyncTree_,e._path,s);else{const l=Ip(t.serverSyncTree_,e);a=DP(t.serverSyncTree_,e._path,s,l)}return To(t.eventQueue_,e._path,a),OP(t.serverSyncTree_,e,n,null,!0),s},i=>(Sm(t,"get for query "+Mi(e)+" failed: "+i),Promise.reject(new Error(i))))}function oae(t,e,n,r,i){Sm(t,"set",{path:e.toString(),value:n,priority:r});const s=D2(t),a=Ei(n,r),l=K5(t.serverSyncTree_,e),c=qP(a,l,s),f=l6(t),p=LP(t.serverSyncTree_,e,c,f,!0);a6(t.eventQueue_,p),t.server_.put(e.toString(),a.val(!0),(g,y)=>{const b=g==="ok";b||Zs("set at "+e+" failed: "+g);const S=Ic(t.serverSyncTree_,f,!b);To(t.eventQueue_,e,S),Ob(t,i,g,y)});const m=c6(t,e);Ch(t,m),To(t.eventQueue_,m,[])}function lae(t,e,n,r){Sm(t,"update",{path:e.toString(),value:n});let i=!0;const s=D2(t),a={};if(as(n,(l,c)=>{i=!1,a[l]=UP(ei(e,l),Ei(c),t.serverSyncTree_,s)}),i)ss("update() called with empty data.  Don't do anything."),Ob(t,r,"ok",void 0);else{const l=l6(t),c=Tse(t.serverSyncTree_,e,a,l);a6(t.eventQueue_,c),t.server_.merge(e.toString(),n,(f,p)=>{const m=f==="ok";m||Zs("update at "+e+" failed: "+f);const g=Ic(t.serverSyncTree_,l,!m),y=g.length>0?Ch(t,e):e;To(t.eventQueue_,y,g),Ob(t,r,f,p)}),as(n,f=>{const p=c6(t,ei(e,f));Ch(t,p)}),To(t.eventQueue_,e,[])}}function uae(t){Sm(t,"onDisconnectEvents");const e=D2(t),n=h_();Cb(t.onDisconnect_,Wn(),(i,s)=>{const a=UP(i,s,t.serverSyncTree_,e);yP(n,i,a)});let r=[];Cb(n,Wn(),(i,s)=>{r=r.concat(wm(t.serverSyncTree_,i,s));const a=c6(t,i);Ch(t,a)}),t.onDisconnect_=h_(),To(t.eventQueue_,Wn(),r)}function cae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eae)}function Sm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ss(n,...e)}function Ob(t,e,n,r){e&&Uh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function ZP(t,e,n){return K5(t.serverSyncTree_,e,n)||Dt.EMPTY_NODE}function u6(t,e=t.transactionQueueTree_){if(e||B2(t,e),Hh(e)){const n=jP(t,e);je(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fae(t,xm(e),n)}else WP(e)&&L2(e,n=>{u6(t,n)})}function fae(t,e,n){const r=n.map(f=>f.currentWriteId),i=ZP(t,e,r);let s=i;const a=i.hash();for(let f=0;f<n.length;f++){const p=n[f];je(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=$s(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,f=>{Sm(t,"transaction put response",{path:c.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(Ic(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();B2(t,i6(t.transactionQueueTree_,e)),u6(t,t.transactionQueueTree_),To(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)Uh(m[g])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Zs("transaction at "+c.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}Ch(t,e)}},a)}function Ch(t,e){const n=YP(t,e),r=xm(n),i=jP(t,n);return hae(t,i,r),r}function hae(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],f=$s(n,c.path);let p=!1,m;if(je(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,m=c.abortReason,i=i.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=tae)p=!0,m="maxretry",i=i.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0));else{const g=ZP(t,c.path,a);c.currentInputSnapshot=g;const y=e[l].update(g.val());if(y!==void 0){O2("transaction failed: Data returned ",y,c.path);let b=Ei(y);typeof y=="object"&&y!=null&&$l(y,".priority")||(b=b.updatePriority(g.getPriority()));const I=c.currentWriteId,R=D2(t),k=qP(b,g,R);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=k,c.currentWriteId=l6(t),a.splice(a.indexOf(I),1),i=i.concat(LP(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Ic(t.serverSyncTree_,I,!0))}else p=!0,m="nodata",i=i.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0))}To(t.eventQueue_,n,i),i=[],p&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(m),!1,null))))}B2(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Uh(r[l]);u6(t,t.transactionQueueTree_)}function YP(t,e){let n,r=t.transactionQueueTree_;for(n=kn(e);n!==null&&Hh(r)===void 0;)r=i6(r,n),e=Tr(e),n=kn(e);return r}function jP(t,e){const n=[];return KP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function KP(t,e,n){const r=Hh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);L2(e,i=>{KP(t,i,n)})}function B2(t,e){const n=Hh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HP(e,n.length>0?n:void 0)}L2(e,r=>{B2(t,r)})}function c6(t,e){const n=xm(YP(t,e)),r=i6(t.transactionQueueTree_,e);return Fse(r,i=>{G4(t,i)}),G4(t,r),GP(r,i=>{G4(t,i)}),n}function G4(t,e){const n=Hh(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(je(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(je(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ic(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?HP(e,void 0):n.length=s+1,To(t.eventQueue_,xm(e),i);for(let a=0;a<r.length;a++)Uh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function pae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zs(`Invalid query segment '${n}' in query '${t}'`)}return e}const Kx=function(t,e){const n=mae(t),r=n.namespace;n.domain==="firebase.com"&&Zu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wre();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tP(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new hr(n.pathString)}},mae=function(t){let e="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=dae(t.substring(p,m)));const g=pae(t.substring(Math.min(t.length,m)));f=e.indexOf(":"),f>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mi(this.snapshot.exportVal())}}class _ae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return je(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return bn(this._path)?null:z5(this._path)}get ref(){return new nc(this._repo,this._path)}get _queryIdentifier(){const e=Dx(this._queryParams),n=L5(e);return n==="{}"?"default":n}get _queryObject(){return Dx(this._queryParams)}isEqual(e){if(e=os(e),!(e instanceof f6))return!1;const n=this._repo===e._repo,r=fP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+iie(this._path)}}class nc extends f6{constructor(e,n){super(e,n,new H5,!1)}get parent(){const e=cP(this._path);return e===null?null:new nc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new hr(e),r=Bb(this.ref,e);return new Rp(this._node.getChild(n),r,ni)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Rp(i,Bb(this.ref,r),ni)))}hasChild(e){const n=new hr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Db(t,e){return t=os(t),t._checkNotDeleted("ref"),e!==void 0?Bb(t._root,e):t._root}function Bb(t,e){return t=os(t),kn(t._path)===null?Yse("child","path",e,!1):VP("child","path",e,!1),new nc(t._repo,ei(t._path,e))}function yae(t,e){t=os(t),jse("set",t._path),$se("set",e,t._path,!1);const n=new fm;return oae(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bae(t,e){Zse("update",e,t._path,!1);const n=new fm;return lae(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function wae(t){t=os(t);const e=new vae(()=>{}),n=new h6(e);return aae(t._repo,t,n).then(r=>new Rp(r,new nc(t._repo,t._path),t._queryParams.getIndex()))}class h6{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gae("value",this,new Rp(e.snapshotNode,new nc(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new _ae(this,e,n):null}matches(e){return e instanceof h6?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}gse(nc);wse(nc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae="FIREBASE_DATABASE_EMULATOR_HOST",zb={};let Sae=!1;function Tae(t,e,n,r){t.repoInfo_=new tP(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function kae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Zu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ss("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Kx(s,i),l=a.repoInfo,c,f;typeof process<"u"&&process.env&&(f=process.env[xae]),f?(c=!0,s=`http://${f}?ns=${l.namespace}`,a=Kx(s,i),l=a.repoInfo):c=!a.repoInfo.secure;const p=i&&c?new th(th.OWNER):new Pre(t.name,t.options,e);Kse("Invalid Firebase Database URL",a),bn(a.path)||Zu("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Mae(l,t,p,new Rre(t.name,n));return new Cae(m,t)}function Eae(t,e){const n=zb[e];(!n||n[t.key]!==t)&&Zu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cae(t),delete n[t.key]}function Mae(t,e,n,r){let i=zb[e.name];i||(i={},zb[e.name]=i);let s=i[t.toURLString()];return s&&Zu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nae(t,Sae,n,r),i[t.toURLString()]=s,s}class Cae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nc(this._repo,Wn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Eae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zu("Cannot call "+e+" on a deleted database.")}}function XP(t=T2(),e){const n=S2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=YI("database");r&&Aae(n,...r)}return n}function Aae(t,e,n,r={}){t=os(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zu("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new th(th.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:XI(r.mockUserToken,t.app.options.projectId);s=new th(a)}Tae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t){gre(cf),K0(new Gc("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return kae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Bu(yx,bx,t),Bu(yx,bx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae={".sv":"timestamp"};function Pae(){return Rae}zu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Iae();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebasestorage.googleapis.com",QP="storageBucket",Nae=2*60*1e3,Lae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends tc{constructor(e,n,r=0){super($4(e),`Firebase Storage: ${n} (${$4(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $4(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yi||(Yi={}));function $4(t){return"storage/"+t}function eN(){const t="An unknown error occurred, please check the error payload for server response.";return new Xi(Yi.UNKNOWN,t)}function Oae(t){return new Xi(Yi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Dae(t){return new Xi(Yi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xi(Yi.UNAUTHENTICATED,t)}function zae(){return new Xi(Yi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Fae(t){return new Xi(Yi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Uae(){return new Xi(Yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qae(){return new Xi(Yi.CANCELED,"User canceled the upload/download.")}function Hae(t){return new Xi(Yi.INVALID_URL,"Invalid URL '"+t+"'.")}function Wae(t){return new Xi(Yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Gae(){return new Xi(Yi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QP+"' property when initializing the app?")}function $ae(){return new Xi(Yi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Fb(t){return new Xi(Yi.INVALID_ARGUMENT,t)}function tN(){return new Xi(Yi.APP_DELETED,"The Firebase app was deleted.")}function Vae(t){return new Xi(Yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bd(t){throw new Xi(Yi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ga.makeFromUrl(e,n)}catch{return new Ga(e,"")}if(r.path==="")return r;throw Wae(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},S=n===JP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",R=new RegExp(`^https?://${S}/${i}/${I}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:y,indices:b,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<A.length;C++){const P=A[C],D=P.regex.exec(e);if(D){const F=D[P.indices.bucket];let Z=D[P.indices.path];Z||(Z=""),r=new Ga(F,Z),P.postModify(r);break}}if(r==null)throw Hae(e);return r}}class Zae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yae(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let f=!1;function p(...I){f||(f=!0,e.apply(null,I))}function m(I){i=setTimeout(()=>{i=null,t(y,c())},I)}function g(){s&&clearTimeout(s)}function y(I,...R){if(f){g();return}if(I){g(),p.call(null,I,...R);return}if(c()||a){g(),p.call(null,I,...R);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let b=!1;function S(I){b||(b=!0,g(),!f&&(i!==null?(I||(l=2),clearTimeout(i),m(0)):I||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,S(!0)},n),S}function jae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(t){return t!==void 0}function Xae(t){return typeof t=="object"&&!Array.isArray(t)}function nN(t){return typeof t=="string"||t instanceof String}function Xx(t,e,n,r){if(r<e)throw Fb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(z0||(z0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e,n,r,i,s,a,l,c,f,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new M1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===z0.NO_ERROR,c=s.getStatus();if(!l||Jae(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===z0.ABORT;r(!1,new M1(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new M1(f,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Kae(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=eN();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?tN():qae();a(c)}else{const c=Uae();a(c)}};this.canceled_?n(!1,new M1(!1,null,!0)):this.backoffId_=Yae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class M1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eoe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function toe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function noe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function roe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ioe(t,e,n,r,i,s,a=!0){const l=iN(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return noe(f,e),eoe(f,n),toe(f,s),roe(f,r),new Qae(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){let e;try{e=JSON.parse(t)}catch{return null}return Xae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aoe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function aN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t,e){return e}class Fs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ooe}}let C1=null;function loe(t){return!nN(t)||t.length<2?t:aN(t)}function uoe(){if(C1)return C1;const t=[];t.push(new Fs("bucket")),t.push(new Fs("generation")),t.push(new Fs("metageneration")),t.push(new Fs("name","fullPath",!0));function e(s,a){return loe(a)}const n=new Fs("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Fs("size");return i.xform=r,t.push(i),t.push(new Fs("timeCreated")),t.push(new Fs("updated")),t.push(new Fs("md5Hash",null,!0)),t.push(new Fs("cacheControl",null,!0)),t.push(new Fs("contentDisposition",null,!0)),t.push(new Fs("contentEncoding",null,!0)),t.push(new Fs("contentLanguage",null,!0)),t.push(new Fs("contentType",null,!0)),t.push(new Fs("metadata","customMetadata",!0)),C1=t,C1}function coe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ga(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function foe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return coe(r,t),r}function hoe(t,e,n){const r=sN(e);return r===null?null:foe(t,r,n)}function doe(t,e,n,r){const i=sN(e);if(i===null||!nN(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(f=>{const p=t.bucket,m=t.fullPath,g="/b/"+a(p)+"/o/"+a(m),y=rN(g,n,r),b=iN({alt:"media",token:f});return y+b})[0]}class poe{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){if(!t)throw eN()}function goe(t,e){function n(r,i){const s=hoe(t,i,e);return moe(s!==null),doe(s,i,t.host,t._protocol)}return n}function _oe(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zae():i=Bae():n.getStatus()===402?i=Dae(t.bucket):n.getStatus()===403?i=Fae(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function voe(t){const e=_oe(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Oae(t.path)),s.serverResponse=i.serverResponse,s}return n}function yoe(t,e,n){const r=e.fullServerUrl(),i=rN(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new poe(i,s,goe(t,n),a);return l.errorHandler=voe(e),l}class boe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=z0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=z0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=z0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class woe extends boe{initXhr(){this.xhr_.responseType="text"}}function xoe(){return new woe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this._service=e,n instanceof Ga?this._location=n:this._location=Ga.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tf(e,n)}get root(){const e=new Ga(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aN(this._location.path)}get storage(){return this._service}get parent(){const e=soe(this._location.path);if(e===null)return null;const n=new Ga(this._location.bucket,e);return new tf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vae(e)}}function Soe(t){t._throwIfRoot("getDownloadURL");const e=yoe(t.storage,t._location,uoe());return t.storage.makeRequestWithTokens(e,xoe).then(n=>{if(n===null)throw $ae();return n})}function Toe(t,e){const n=aoe(t._location.path,e),r=new Ga(t._location.bucket,n);return new tf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t){return/^[A-Za-z]+:\/\//.test(t)}function Eoe(t,e){return new tf(t,e)}function oN(t,e){if(t instanceof d6){const n=t;if(n._bucket==null)throw Gae();const r=new tf(n,n._bucket);return e!=null?oN(r,e):r}else return e!==void 0?Toe(t,e):t}function Moe(t,e){if(e&&koe(e)){if(t instanceof d6)return Eoe(t,e);throw Fb("To use ref(service, url), the first argument must be a Storage instance.")}else return oN(t,e)}function Jx(t,e){const n=e==null?void 0:e[QP];return n==null?null:Ga.makeFromBucketSpec(n,t)}function Coe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:XI(i,t.app.options.projectId))}class d6{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=JP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nae,this._maxUploadRetryTime=Lae,this._requests=new Set,i!=null?this._bucket=Ga.makeFromBucketSpec(i,this._host):this._bucket=Jx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ga.makeFromBucketSpec(this._url,e):this._bucket=Jx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Zae(tN());{const a=ioe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Qx="@firebase/storage",eS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="storage";function Aoe(t){return t=os(t),Soe(t)}function Ioe(t,e){return t=os(t),Moe(t,e)}function Roe(t=T2(),e){t=os(t);const r=S2(t,lN).getImmediate({identifier:e}),i=YI("storage");return i&&Poe(r,...i),r}function Poe(t,e,n,r={}){Coe(t,e,n,r)}function Noe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new d6(n,r,i,e,cf)}function Loe(){K0(new Gc(lN,Noe,"PUBLIC").setMultipleInstances(!0)),Bu(Qx,eS,""),Bu(Qx,eS,"esm2017")}Loe();function b_(t,e,n){n=n||{};var r=t.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(e,{detail:n}):(i=r.createEvent("Event"),i.initEvent(e,!1,!1),i.detail=n),t.dispatchEvent(i)}function uN(t){return Array.isArray(t)||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function cN(t){return t===(t|0)+""}function Rl(t){const e=document.createElement("span");return e.className="observablehq--cellname",e.textContent=`${t} = `,e}const Ooe=Symbol.prototype.toString;function Wh(t){return Ooe.call(t)}const{getOwnPropertySymbols:Doe,prototype:{hasOwnProperty:Boe}}=Object,{toStringTag:zoe}=Symbol,fN={},Tm=Doe;function z2(t,e){return Boe.call(t,e)}function Ub(t){return t[zoe]||t.constructor&&t.constructor.name||"Object"}function bo(t,e){try{const n=t[e];return n&&n.constructor,n}catch{return fN}}const Foe=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function hN(t){try{let e=Foe.filter(({symbol:a})=>t[a]===!0);if(!e.length)return;const n=e.find(a=>!a.modifier),r=n.name==="Map"&&e.find(a=>a.modifier&&a.prefix),i=e.some(a=>a.arrayish),s=e.some(a=>a.setish);return{name:`${r?r.name:""}${n.name}`,symbols:e,arrayish:i&&!s,setish:s}}catch{return null}}const{getPrototypeOf:p6,getOwnPropertyDescriptors:Uoe}=Object,dN=p6({});function pN(t,e,n,r){let i=uN(t),s,a,l,c;t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=qoe):(s="Map()",a=Vd):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Hoe):(s="Set()",a=Vd):i?(s=`${t.constructor.name}(${t.length})`,a=Goe):(c=hN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?$oe:c.setish?Woe:Zoe):r?(s=Ub(t),a=Voe):(s=Ub(t),a=Vd);const f=document.createElement("span");f.className="observablehq--expanded",n&&f.appendChild(Rl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),p.addEventListener("mouseup",function(m){m.stopPropagation(),x_(f,m6(t,null,n,r))}),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)f.appendChild(l.value);if(!l.done){const m=f.appendChild(document.createElement("a"));m.className="observablehq--field",m.style.display="block",m.appendChild(document.createTextNode("  … more")),m.addEventListener("mouseup",function(g){g.stopPropagation(),f.insertBefore(l.value,f.lastChild.previousSibling);for(let y=0;!(l=a.next()).done&&y<19;++y)f.insertBefore(l.value,f.lastChild.previousSibling);l.done&&f.removeChild(f.lastChild.previousSibling),b_(f,"load")})}return f.appendChild(document.createTextNode(i?"]":"}")),f}function*qoe(t){for(const[e,n]of t)yield Yoe(e,n);yield*Vd(t)}function*Hoe(t){for(const e of t)yield gN(e);yield*Vd(t)}function*Woe(t){for(const e of t)yield gN(e)}function*Goe(t){for(let e=0,n=t.length;e<n;++e)e in t&&(yield Fu(e,bo(t,e),"observablehq--index"));for(const e in t)!cN(e)&&z2(t,e)&&(yield Fu(e,bo(t,e),"observablehq--key"));for(const e of Tm(t))yield Fu(Wh(e),bo(t,e),"observablehq--symbol")}function*$oe(t){let e=0;for(const n=t.size;e<n;++e)yield Fu(e,t.get(e),!0)}function*Voe(t){for(const n in Uoe(t))yield Fu(n,bo(t,n),"observablehq--key");for(const n of Tm(t))yield Fu(Wh(n),bo(t,n),"observablehq--symbol");const e=p6(t);e&&e!==dN&&(yield mN(e))}function*Vd(t){for(const n in t)z2(t,n)&&(yield Fu(n,bo(t,n),"observablehq--key"));for(const n of Tm(t))yield Fu(Wh(n),bo(t,n),"observablehq--symbol");const e=p6(t);e&&e!==dN&&(yield mN(e))}function*Zoe(t){for(const[e,n]of t)yield Fu(e,n,"observablehq--key")}function mN(t){const e=document.createElement("div"),n=e.appendChild(document.createElement("span"));return e.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",e.appendChild(document.createTextNode(": ")),e.appendChild(ka(t,void 0,void 0,void 0,!0)),e}function Fu(t,e,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${t}`,r.appendChild(document.createTextNode(": ")),r.appendChild(ka(e)),r}function Yoe(t,e){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ka(t)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ka(e)),n}function gN(t){const e=document.createElement("div");return e.className="observablehq--field",e.appendChild(document.createTextNode("  ")),e.appendChild(ka(t)),e}function tS(t){const e=window.getSelection();return e.type==="Range"&&(e.containsNode(t,!0)||e.anchorNode.isSelfOrDescendant(t)||e.focusNode.isSelfOrDescendant(t))}function m6(t,e,n,r){let i=uN(t),s,a,l,c;if(t instanceof Map?t instanceof t.constructor?(s=`Map(${t.size})`,a=joe):(s="Map()",a=Zd):t instanceof Set?t instanceof t.constructor?(s=`Set(${t.size})`,a=Koe):(s="Set()",a=Zd):i?(s=`${t.constructor.name}(${t.length})`,a=Qoe):(c=hN(t))?(s=`Immutable.${c.name}${c.name==="Record"?"":`(${t.size})`}`,i=c.arrayish,a=c.arrayish?Joe:c.setish?Xoe:ele):(s=Ub(t),a=Zd),e){const m=document.createElement("span");return m.className="observablehq--shallow",n&&m.appendChild(Rl(n)),m.appendChild(document.createTextNode(s)),m.addEventListener("mouseup",function(g){tS(m)||(g.stopPropagation(),x_(m,m6(t)))}),m}const f=document.createElement("span");f.className="observablehq--collapsed",n&&f.appendChild(Rl(n));const p=f.appendChild(document.createElement("a"));p.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,p.appendChild(document.createTextNode(`${s}${i?" [":" {"}`)),f.addEventListener("mouseup",function(m){tS(f)||(m.stopPropagation(),x_(f,pN(t,null,n,r)))},!0),a=a(t);for(let m=0;!(l=a.next()).done&&m<20;++m)m>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(l.value);return l.done||f.appendChild(document.createTextNode(", …")),f.appendChild(document.createTextNode(i?"]":"}")),f}function*joe(t){for(const[e,n]of t)yield tle(e,n);yield*Zd(t)}function*Koe(t){for(const e of t)yield ka(e,!0);yield*Zd(t)}function*Xoe(t){for(const e of t)yield ka(e,!0)}function*Joe(t){let e=-1,n=0;for(const r=t.size;n<r;++n)n>e+1&&(yield w_(n-e-1)),yield ka(t.get(n),!0),e=n;n>e+1&&(yield w_(n-e-1))}function*Qoe(t){let e=-1,n=0;for(const r=t.length;n<r;++n)n in t&&(n>e+1&&(yield w_(n-e-1)),yield ka(bo(t,n),!0),e=n);n>e+1&&(yield w_(n-e-1));for(const r in t)!cN(r)&&z2(t,r)&&(yield Pp(r,bo(t,r),"observablehq--key"));for(const r of Tm(t))yield Pp(Wh(r),bo(t,r),"observablehq--symbol")}function*Zd(t){for(const e in t)z2(t,e)&&(yield Pp(e,bo(t,e),"observablehq--key"));for(const e of Tm(t))yield Pp(Wh(e),bo(t,e),"observablehq--symbol")}function*ele(t){for(const[e,n]of t)yield Pp(e,n,"observablehq--key")}function w_(t){const e=document.createElement("span");return e.className="observablehq--empty",e.textContent=t===1?"empty":`empty × ${t}`,e}function Pp(t,e,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=t,r.appendChild(document.createTextNode(": ")),r.appendChild(ka(e,!0)),r}function tle(t,e){const n=document.createDocumentFragment();return n.appendChild(ka(t,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ka(e,!0)),n}function nle(t){return XC(t,"Invalid Date")}var rle=Error.prototype.toString;function ile(t){return t.stack||rle.call(t)}var sle=RegExp.prototype.toString;function ale(t){return sle.call(t)}const V4=20;function ole(t,e,n,r){if(e===!1){if(rS(t,/["\n]/g)<=rS(t,/`|\${/g)){const f=document.createElement("span");r&&f.appendChild(Rl(r));const p=f.appendChild(document.createElement("span"));return p.className="observablehq--string",p.textContent=JSON.stringify(t),f}const a=t.split(`
`);if(a.length>V4&&!n){const f=document.createElement("div");r&&f.appendChild(Rl(r));const p=f.appendChild(document.createElement("span"));p.className="observablehq--string",p.textContent="`"+nS(a.slice(0,V4).join(`
`));const m=f.appendChild(document.createElement("span")),g=a.length-V4;return m.textContent=`Show ${g} truncated line${g>1?"s":""}`,m.className="observablehq--string-expand",m.addEventListener("mouseup",function(y){y.stopPropagation(),x_(f,ka(t,e,!0,r))}),f}const l=document.createElement("span");r&&l.appendChild(Rl(r));const c=l.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+nS(t)+"`",l}const i=document.createElement("span");r&&i.appendChild(Rl(r));const s=i.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(t.length>100?`${t.slice(0,50)}…${t.slice(-49)}`:t),i}function nS(t){return t.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,lle)}function lle(t){var e=t.charCodeAt(0);switch(e){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return e<16?"\\x0"+e.toString(16):e<32?"\\x"+e.toString(16):"\\"+t}function rS(t,e){for(var n=0;e.exec(t);)++n;return n}var ule=Function.prototype.toString,cle={prefix:"async ƒ"},fle={prefix:"async ƒ*"},iS={prefix:"class"},hle={prefix:"ƒ"},dle={prefix:"ƒ*"};function ple(t,e){var n,r,i=ule.call(t);switch(t.constructor&&t.constructor.name){case"AsyncFunction":n=cle;break;case"AsyncGeneratorFunction":n=fle;break;case"GeneratorFunction":n=dle;break;default:n=/^class\b/.test(i)?iS:hle;break}return n===iS?wd(n,"",e):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?wd(n,"("+r[1]+")",e):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?wd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?wd(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",e):wd(n,"(…)",e)}function wd(t,e,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(Rl(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=t.prefix,r.appendChild(document.createTextNode(e)),r}const{prototype:{toString:mle}}=Object;function ka(t,e,n,r,i){let s=typeof t;switch(s){case"boolean":case"undefined":{t+="";break}case"number":{t=t===0&&1/t<0?"-0":t+"";break}case"bigint":{t=t+"n";break}case"symbol":{t=Wh(t);break}case"function":return ple(t,r);case"string":return ole(t,e,n,r);default:{if(t===null){s=null,t="null";break}if(t instanceof Date){s="date",t=nle(t);break}if(t===fN){s="forbidden",t="[forbidden]";break}switch(mle.call(t)){case"[object RegExp]":{s="regexp",t=ale(t);break}case"[object Error]":case"[object DOMException]":{s="error",t=ile(t);break}default:return(n?pN:m6)(t,e,r,i)}break}}const a=document.createElement("span");r&&a.appendChild(Rl(r));const l=a.appendChild(document.createElement("span"));return l.className=`observablehq--${s}`,l.textContent=t,a}function x_(t,e){t.classList.contains("observablehq--inspect")&&e.classList.add("observablehq--inspect"),t.parentNode.replaceChild(e,t),b_(e,"load")}const gle=/\s+\(\d+:\d+\)$/m;class qb{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,n){const{_node:r}=this;if((!_le(e)||e.parentNode&&e.parentNode!==r)&&(e=ka(e,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),e.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==e)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(e,r.firstChild)}else r.appendChild(e);b_(r,"update")}rejected(e,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(Rl(n)),i.appendChild(document.createTextNode((e+"").replace(gle,""))),r.appendChild(i),b_(r,"error",{error:e})}}qb.into=function(t){if(typeof t=="string"&&(t=document.querySelector(t),t==null))throw new Error("container not found");return function(){return new qb(t.appendChild(document.createElement("div")))}};function _le(t){return(t instanceof Element||t instanceof Text)&&t instanceof t.constructor}const df=b2(null),_N=b2(["Login First!"]),Np=b2("default"),vle=!1;var sg,vN;const yle=async()=>{console.log("Loading localkey module..1");const{firebaselocalConfig:t,defemail:e}=await vp(()=>import("./localkey-58f3b663.js"),[]);console.log("Loading localkey module..2 done | ","production",t,e),sg=t,sg.apiKey="AIzaSyBU0r_2MGgtMDvQYMwLlIIsvbDp5ktAQ4M",console.log("Setting PRODUCTION"),vN=rR(sg)};yle();console.log("firebaseConfig",sg);async function ble(){const t=T2();var e=sne(UR(t));return e.then(()=>df.set(void 0)),e}async function wle(t,e){const n=UR();return n.setPersistence(RR).then(()=>nne(n,t,e).then(async r=>{df.set(r);const i=XP();return await bae(Db(i,"/users/"+r.user.uid+"/"),{lastlogged:Pae()}),await yae(Db(i,"/users/"+r.user.uid+"/email"),r.user.email),bN("/users/"+r.user.uid+"/profiles").then(s=>{console.log("userSetting ",s),_N.set(s),Np.set(s[0])}),r}))}async function yN(t){t=t||"fss/hello.json";var e=Roe(vN);const n=Ioe(e,t);return Aoe(n)}async function bN(t){if(IU(df)==null&&!vle)throw console.log("not DEVELMODE not Logged In "),TypeError("unAuthorized");console.log("RTDB getData path = ",t);const n=Db(XP(),t);return wae(n).then(r=>{if(r.exists()){let i=r.val();return console.log("RTDB",i),i}return null}).catch(r=>{console.error("RTDB",r)})}function sS(t){var e=Object.keys(t[0]),n=[e,...t.map(r=>{var i=[];for(let s of e)i.push(r[s]);return i})].map(r=>r.join(",")).join(`
`);return n}df.subscribe(t=>{console.log("User Changed...",t)});var hs=63710088e-1,wN={centimeters:hs*100,centimetres:hs*100,degrees:hs/111325,feet:hs*3.28084,inches:hs*39.37,kilometers:hs/1e3,kilometres:hs/1e3,meters:hs,metres:hs,miles:hs/1609.344,millimeters:hs*1e3,millimetres:hs*1e3,nauticalmiles:hs/1852,radians:1,yards:hs*1.0936};function g6(t,e,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Lp(t,e,n){if(n===void 0&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S_(t[0])||!S_(t[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:t};return g6(r,e,n)}function Hb(t,e,n){n===void 0&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:t};return g6(l,e,n)}function F0(t,e){e===void 0&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function xN(t,e){e===void 0&&(e="kilometers");var n=wN[e];if(!n)throw new Error(e+" units is invalid");return t*n}function xle(t,e){e===void 0&&(e="kilometers");var n=wN[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Sle(t){var e=t%(2*Math.PI);return e*180/Math.PI}function Pl(t){var e=t%360;return e*Math.PI/180}function SN(t,e,n){if(e===void 0&&(e="kilometers"),n===void 0&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return xN(xle(t,e),n)}function S_(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function TN(t){return!!t&&t.constructor===Object}function Gh(t,e,n){if(t!==null)for(var r,i,s,a,l,c,f,p=0,m=0,g,y=t.type,b=y==="FeatureCollection",S=y==="Feature",I=b?t.features.length:1,R=0;R<I;R++){f=b?t.features[R].geometry:S?t.geometry:t,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var k=0;k<l;k++){var A=0,C=0;if(a=g?f.geometries[k]:f,a!==null){c=a.coordinates;var P=a.type;switch(p=n&&(P==="Polygon"||P==="MultiPolygon")?1:0,P){case null:break;case"Point":if(e(c,m,R,A,C)===!1)return!1;m++,A++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(e(c[r],m,R,A,C)===!1)return!1;m++,P==="MultiPoint"&&A++}P==="LineString"&&A++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-p;i++){if(e(c[r][i],m,R,A,C)===!1)return!1;m++}P==="MultiLineString"&&A++,P==="Polygon"&&C++}P==="Polygon"&&A++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(C=0,i=0;i<c[r].length;i++){for(s=0;s<c[r][i].length-p;s++){if(e(c[r][i][s],m,R,A,C)===!1)return!1;m++}C++}A++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(Gh(a.geometries[r],e,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kN(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function Tle(t,e){var n,r,i,s,a,l,c,f,p,m,g=0,y=t.type==="FeatureCollection",b=t.type==="Feature",S=y?t.features.length:1;for(n=0;n<S;n++){for(l=y?t.features[n].geometry:b?t.geometry:t,f=y?t.features[n].properties:b?t.properties:{},p=y?t.features[n].bbox:b?t.bbox:void 0,m=y?t.features[n].id:b?t.id:void 0,c=l?l.type==="GeometryCollection":!1,a=c?l.geometries.length:1,i=0;i<a;i++){if(s=c?l.geometries[i]:l,s===null){if(e(null,g,f,p,m)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,g,f,p,m)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<s.geometries.length;r++)if(e(s.geometries[r],g,f,p,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function kle(t,e,n){var r=n;return Tle(t,function(i,s,a,l,c){s===0&&n===void 0?r=i:r=e(r,i,s,a,l,c)}),r}function Wb(t){var e=[1/0,1/0,-1/0,-1/0];return Gh(t,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}Wb.default=Wb;function $a(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ele(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Mle(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}var _6={exports:{}},EN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tc,function(){function n(k,A,C,P,D){(function F(Z,V,Y,H,J){for(;H>Y;){if(H-Y>600){var he=H-Y+1,le=V-Y+1,ne=Math.log(he),pe=.5*Math.exp(2*ne/3),fe=.5*Math.sqrt(ne*pe*(he-pe)/he)*(le-he/2<0?-1:1),_e=Math.max(Y,Math.floor(V-le*pe/he+fe)),me=Math.min(H,Math.floor(V+(he-le)*pe/he+fe));F(Z,V,_e,me,J)}var $=Z[V],ee=Y,ae=H;for(r(Z,Y,V),J(Z[H],$)>0&&r(Z,Y,H);ee<ae;){for(r(Z,ee,ae),ee++,ae--;J(Z[ee],$)<0;)ee++;for(;J(Z[ae],$)>0;)ae--}J(Z[Y],$)===0?r(Z,Y,ae):r(Z,++ae,H),ae<=V&&(Y=ae+1),V<=ae&&(H=ae-1)}})(k,A,C||0,P||k.length-1,D||i)}function r(k,A,C){var P=k[A];k[A]=k[C],k[C]=P}function i(k,A){return k<A?-1:k>A?1:0}var s=function(k){k===void 0&&(k=9),this._maxEntries=Math.max(4,k),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(k,A,C){if(!C)return A.indexOf(k);for(var P=0;P<A.length;P++)if(C(k,A[P]))return P;return-1}function l(k,A){c(k,0,k.children.length,A,k)}function c(k,A,C,P,D){D||(D=I(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var F=A;F<C;F++){var Z=k.children[F];f(D,k.leaf?P(Z):Z)}return D}function f(k,A){return k.minX=Math.min(k.minX,A.minX),k.minY=Math.min(k.minY,A.minY),k.maxX=Math.max(k.maxX,A.maxX),k.maxY=Math.max(k.maxY,A.maxY),k}function p(k,A){return k.minX-A.minX}function m(k,A){return k.minY-A.minY}function g(k){return(k.maxX-k.minX)*(k.maxY-k.minY)}function y(k){return k.maxX-k.minX+(k.maxY-k.minY)}function b(k,A){return k.minX<=A.minX&&k.minY<=A.minY&&A.maxX<=k.maxX&&A.maxY<=k.maxY}function S(k,A){return A.minX<=k.maxX&&A.minY<=k.maxY&&A.maxX>=k.minX&&A.maxY>=k.minY}function I(k){return{children:k,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(k,A,C,P,D){for(var F=[A,C];F.length;)if(!((C=F.pop())-(A=F.pop())<=P)){var Z=A+Math.ceil((C-A)/P/2)*P;n(k,Z,A,C,D),F.push(A,Z,Z,C)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(k){var A=this.data,C=[];if(!S(k,A))return C;for(var P=this.toBBox,D=[];A;){for(var F=0;F<A.children.length;F++){var Z=A.children[F],V=A.leaf?P(Z):Z;S(k,V)&&(A.leaf?C.push(Z):b(k,V)?this._all(Z,C):D.push(Z))}A=D.pop()}return C},s.prototype.collides=function(k){var A=this.data;if(!S(k,A))return!1;for(var C=[];A;){for(var P=0;P<A.children.length;P++){var D=A.children[P],F=A.leaf?this.toBBox(D):D;if(S(k,F)){if(A.leaf||b(k,F))return!0;C.push(D)}}A=C.pop()}return!1},s.prototype.load=function(k){if(!k||!k.length)return this;if(k.length<this._minEntries){for(var A=0;A<k.length;A++)this.insert(k[A]);return this}var C=this._build(k.slice(),0,k.length-1,0);if(this.data.children.length)if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var P=this.data;this.data=C,C=P}this._insert(C,this.data.height-C.height-1,!0)}else this.data=C;return this},s.prototype.insert=function(k){return k&&this._insert(k,this.data.height-1),this},s.prototype.clear=function(){return this.data=I([]),this},s.prototype.remove=function(k,A){if(!k)return this;for(var C,P,D,F=this.data,Z=this.toBBox(k),V=[],Y=[];F||V.length;){if(F||(F=V.pop(),P=V[V.length-1],C=Y.pop(),D=!0),F.leaf){var H=a(k,F.children,A);if(H!==-1)return F.children.splice(H,1),V.push(F),this._condense(V),this}D||F.leaf||!b(F,Z)?P?(C++,F=P.children[C],D=!1):F=null:(V.push(F),Y.push(C),C=0,P=F,F=F.children[0])}return this},s.prototype.toBBox=function(k){return k},s.prototype.compareMinX=function(k,A){return k.minX-A.minX},s.prototype.compareMinY=function(k,A){return k.minY-A.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(k){return this.data=k,this},s.prototype._all=function(k,A){for(var C=[];k;)k.leaf?A.push.apply(A,k.children):C.push.apply(C,k.children),k=C.pop();return A},s.prototype._build=function(k,A,C,P){var D,F=C-A+1,Z=this._maxEntries;if(F<=Z)return l(D=I(k.slice(A,C+1)),this.toBBox),D;P||(P=Math.ceil(Math.log(F)/Math.log(Z)),Z=Math.ceil(F/Math.pow(Z,P-1))),(D=I([])).leaf=!1,D.height=P;var V=Math.ceil(F/Z),Y=V*Math.ceil(Math.sqrt(Z));R(k,A,C,Y,this.compareMinX);for(var H=A;H<=C;H+=Y){var J=Math.min(H+Y-1,C);R(k,H,J,V,this.compareMinY);for(var he=H;he<=J;he+=V){var le=Math.min(he+V-1,J);D.children.push(this._build(k,he,le,P-1))}}return l(D,this.toBBox),D},s.prototype._chooseSubtree=function(k,A,C,P){for(;P.push(A),!A.leaf&&P.length-1!==C;){for(var D=1/0,F=1/0,Z=void 0,V=0;V<A.children.length;V++){var Y=A.children[V],H=g(Y),J=(he=k,le=Y,(Math.max(le.maxX,he.maxX)-Math.min(le.minX,he.minX))*(Math.max(le.maxY,he.maxY)-Math.min(le.minY,he.minY))-H);J<F?(F=J,D=H<D?H:D,Z=Y):J===F&&H<D&&(D=H,Z=Y)}A=Z||A.children[0]}var he,le;return A},s.prototype._insert=function(k,A,C){var P=C?k:this.toBBox(k),D=[],F=this._chooseSubtree(P,this.data,A,D);for(F.children.push(k),f(F,P);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(P,D,A)},s.prototype._split=function(k,A){var C=k[A],P=C.children.length,D=this._minEntries;this._chooseSplitAxis(C,D,P);var F=this._chooseSplitIndex(C,D,P),Z=I(C.children.splice(F,C.children.length-F));Z.height=C.height,Z.leaf=C.leaf,l(C,this.toBBox),l(Z,this.toBBox),A?k[A-1].children.push(Z):this._splitRoot(C,Z)},s.prototype._splitRoot=function(k,A){this.data=I([k,A]),this.data.height=k.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(k,A,C){for(var P,D,F,Z,V,Y,H,J=1/0,he=1/0,le=A;le<=C-A;le++){var ne=c(k,0,le,this.toBBox),pe=c(k,le,C,this.toBBox),fe=(D=ne,F=pe,Z=void 0,V=void 0,Y=void 0,H=void 0,Z=Math.max(D.minX,F.minX),V=Math.max(D.minY,F.minY),Y=Math.min(D.maxX,F.maxX),H=Math.min(D.maxY,F.maxY),Math.max(0,Y-Z)*Math.max(0,H-V)),_e=g(ne)+g(pe);fe<J?(J=fe,P=le,he=_e<he?_e:he):fe===J&&_e<he&&(he=_e,P=le)}return P||C-A},s.prototype._chooseSplitAxis=function(k,A,C){var P=k.leaf?this.compareMinX:p,D=k.leaf?this.compareMinY:m;this._allDistMargin(k,A,C,P)<this._allDistMargin(k,A,C,D)&&k.children.sort(P)},s.prototype._allDistMargin=function(k,A,C,P){k.children.sort(P);for(var D=this.toBBox,F=c(k,0,A,D),Z=c(k,C-A,C,D),V=y(F)+y(Z),Y=A;Y<C-A;Y++){var H=k.children[Y];f(F,k.leaf?D(H):H),V+=y(F)}for(var J=C-A-1;J>=A;J--){var he=k.children[J];f(Z,k.leaf?D(he):he),V+=y(Z)}return V},s.prototype._adjustParentBBoxes=function(k,A,C){for(var P=C;P>=0;P--)f(A[P],k)},s.prototype._condense=function(k){for(var A=k.length-1,C=void 0;A>=0;A--)k[A].children.length===0?A>0?(C=k[A-1].children).splice(C.indexOf(k[A]),1):this.clear():l(k[A],this.toBBox)},s})})(EN);var Cle=EN.exports;class Ale{constructor(e=[],n=Ile){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const s=e-1>>1,a=n[s];if(r(i,a)>=0)break;n[e]=a,e=s}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,s=n[e];for(;e<i;){let a=(e<<1)+1,l=n[a];const c=a+1;if(c<this.length&&r(n[c],l)<0&&(a=c,l=n[c]),r(l,s)>=0)break;n[e]=l,e=a}n[e]=s}}function Ile(t,e){return t<e?-1:t>e?1:0}const Rle=Object.freeze(Object.defineProperty({__proto__:null,default:Ale},Symbol.toStringTag,{value:"Module"})),Ple=BQ(Rle);var F2={exports:{}},Nle=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=(i-r)/2,f=0,p=c-1;f<c;p=f++){var m=n[r+f*2+0],g=n[r+f*2+1],y=n[r+p*2+0],b=n[r+p*2+1],S=g>a!=b>a&&s<(y-m)*(a-g)/(b-g)+m;S&&(l=!l)}return l},Lle=function(e,n,r,i){var s=e[0],a=e[1],l=!1;r===void 0&&(r=0),i===void 0&&(i=n.length);for(var c=i-r,f=0,p=c-1;f<c;p=f++){var m=n[f+r][0],g=n[f+r][1],y=n[p+r][0],b=n[p+r][1],S=g>a!=b>a&&s<(y-m)*(a-g)/(b-g)+m;S&&(l=!l)}return l},MN=Nle,CN=Lle;F2.exports=function(e,n,r,i){return n.length>0&&Array.isArray(n[0])?CN(e,n,r,i):MN(e,n,r,i)};F2.exports.nested=CN;F2.exports.flat=MN;var Ole=F2.exports,Gb={exports:{}};(function(t,e){(function(n,r){r(e)})(Tc,function(n){const i=33306690738754706e-32;function s(S,I,R,k,A){let C,P,D,F,Z=I[0],V=k[0],Y=0,H=0;V>Z==V>-Z?(C=Z,Z=I[++Y]):(C=V,V=k[++H]);let J=0;if(Y<S&&H<R)for(V>Z==V>-Z?(D=C-((P=Z+C)-Z),Z=I[++Y]):(D=C-((P=V+C)-V),V=k[++H]),C=P,D!==0&&(A[J++]=D);Y<S&&H<R;)V>Z==V>-Z?(D=C-((P=C+Z)-(F=P-C))+(Z-F),Z=I[++Y]):(D=C-((P=C+V)-(F=P-C))+(V-F),V=k[++H]),C=P,D!==0&&(A[J++]=D);for(;Y<S;)D=C-((P=C+Z)-(F=P-C))+(Z-F),Z=I[++Y],C=P,D!==0&&(A[J++]=D);for(;H<R;)D=C-((P=C+V)-(F=P-C))+(V-F),V=k[++H],C=P,D!==0&&(A[J++]=D);return C===0&&J!==0||(A[J++]=C),J}function a(S){return new Float64Array(S)}const l=33306690738754716e-32,c=22204460492503146e-32,f=11093356479670487e-47,p=a(4),m=a(8),g=a(12),y=a(16),b=a(4);n.orient2d=function(S,I,R,k,A,C){const P=(I-C)*(R-A),D=(S-A)*(k-C),F=P-D;if(P===0||D===0||P>0!=D>0)return F;const Z=Math.abs(P+D);return Math.abs(F)>=l*Z?F:-function(V,Y,H,J,he,le,ne){let pe,fe,_e,me,$,ee,ae,Ee,Ce,Oe,be,ke,Pe,ge,De,ze,Se,Ke;const $e=V-he,ct=H-he,Qe=Y-le,dt=J-le;$=(De=(Ee=$e-(ae=(ee=134217729*$e)-(ee-$e)))*(Oe=dt-(Ce=(ee=134217729*dt)-(ee-dt)))-((ge=$e*dt)-ae*Ce-Ee*Ce-ae*Oe))-(be=De-(Se=(Ee=Qe-(ae=(ee=134217729*Qe)-(ee-Qe)))*(Oe=ct-(Ce=(ee=134217729*ct)-(ee-ct)))-((ze=Qe*ct)-ae*Ce-Ee*Ce-ae*Oe))),p[0]=De-(be+$)+($-Se),$=(Pe=ge-((ke=ge+be)-($=ke-ge))+(be-$))-(be=Pe-ze),p[1]=Pe-(be+$)+($-ze),$=(Ke=ke+be)-ke,p[2]=ke-(Ke-$)+(be-$),p[3]=Ke;let Ve=function(Nn,Zn){let dr=Zn[0];for(let Ye=1;Ye<Nn;Ye++)dr+=Zn[Ye];return dr}(4,p),un=c*ne;if(Ve>=un||-Ve>=un||(pe=V-($e+($=V-$e))+($-he),_e=H-(ct+($=H-ct))+($-he),fe=Y-(Qe+($=Y-Qe))+($-le),me=J-(dt+($=J-dt))+($-le),pe===0&&fe===0&&_e===0&&me===0)||(un=f*ne+i*Math.abs(Ve),(Ve+=$e*me+dt*pe-(Qe*_e+ct*fe))>=un||-Ve>=un))return Ve;$=(De=(Ee=pe-(ae=(ee=134217729*pe)-(ee-pe)))*(Oe=dt-(Ce=(ee=134217729*dt)-(ee-dt)))-((ge=pe*dt)-ae*Ce-Ee*Ce-ae*Oe))-(be=De-(Se=(Ee=fe-(ae=(ee=134217729*fe)-(ee-fe)))*(Oe=ct-(Ce=(ee=134217729*ct)-(ee-ct)))-((ze=fe*ct)-ae*Ce-Ee*Ce-ae*Oe))),b[0]=De-(be+$)+($-Se),$=(Pe=ge-((ke=ge+be)-($=ke-ge))+(be-$))-(be=Pe-ze),b[1]=Pe-(be+$)+($-ze),$=(Ke=ke+be)-ke,b[2]=ke-(Ke-$)+(be-$),b[3]=Ke;const cn=s(4,p,4,b,m);$=(De=(Ee=$e-(ae=(ee=134217729*$e)-(ee-$e)))*(Oe=me-(Ce=(ee=134217729*me)-(ee-me)))-((ge=$e*me)-ae*Ce-Ee*Ce-ae*Oe))-(be=De-(Se=(Ee=Qe-(ae=(ee=134217729*Qe)-(ee-Qe)))*(Oe=_e-(Ce=(ee=134217729*_e)-(ee-_e)))-((ze=Qe*_e)-ae*Ce-Ee*Ce-ae*Oe))),b[0]=De-(be+$)+($-Se),$=(Pe=ge-((ke=ge+be)-($=ke-ge))+(be-$))-(be=Pe-ze),b[1]=Pe-(be+$)+($-ze),$=(Ke=ke+be)-ke,b[2]=ke-(Ke-$)+(be-$),b[3]=Ke;const Kt=s(cn,m,4,b,g);$=(De=(Ee=pe-(ae=(ee=134217729*pe)-(ee-pe)))*(Oe=me-(Ce=(ee=134217729*me)-(ee-me)))-((ge=pe*me)-ae*Ce-Ee*Ce-ae*Oe))-(be=De-(Se=(Ee=fe-(ae=(ee=134217729*fe)-(ee-fe)))*(Oe=_e-(Ce=(ee=134217729*_e)-(ee-_e)))-((ze=fe*_e)-ae*Ce-Ee*Ce-ae*Oe))),b[0]=De-(be+$)+($-Se),$=(Pe=ge-((ke=ge+be)-($=ke-ge))+(be-$))-(be=Pe-ze),b[1]=Pe-(be+$)+($-ze),$=(Ke=ke+be)-ke,b[2]=ke-(Ke-$)+(be-$),b[3]=Ke;const Vn=s(Kt,g,4,b,y);return y[Vn-1]}(S,I,R,k,A,C,Z)},n.orient2dfast=function(S,I,R,k,A,C){return(I-C)*(R-A)-(S-A)*(k-C)},Object.defineProperty(n,"__esModule",{value:!0})})})(Gb,Gb.exports);var Dle=Gb.exports,aS=Cle,ag=Ple,Ble=Ole,zle=Dle.orient2d;ag.default&&(ag=ag.default);_6.exports=AN;_6.exports.default=AN;function AN(t,e,n){e=Math.max(0,e===void 0?2:e),n=n||0;var r=Wle(t),i=new aS(16);i.toBBox=function(k){return{minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]}},i.compareMinX=function(k,A){return k[0]-A[0]},i.compareMinY=function(k,A){return k[1]-A[1]},i.load(t);for(var s=[],a=0,l;a<r.length;a++){var c=r[a];i.remove(c),l=uS(c,l),s.push(l)}var f=new aS(16);for(a=0;a<s.length;a++)f.insert(Z4(s[a]));for(var p=e*e,m=n*n;s.length;){var g=s.shift(),y=g.p,b=g.next.p,S=Y4(y,b);if(!(S<m)){var I=S/p;c=Fle(i,g.prev.p,y,b,g.next.next.p,I,f),c&&Math.min(Y4(c,y),Y4(c,b))<=I&&(s.push(g),s.push(uS(c,g)),i.remove(c),f.remove(g),f.insert(Z4(g)),f.insert(Z4(g.next)))}}g=l;var R=[];do R.push(g.p),g=g.next;while(g!==l);return R.push(g.p),R}function Fle(t,e,n,r,i,s,a){for(var l=new ag([],Ule),c=t.data;c;){for(var f=0;f<c.children.length;f++){var p=c.children[f],m=c.leaf?j4(p,n,r):qle(n,r,p);m>s||l.push({node:p,dist:m})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),y=g.node,b=j4(y,e,n),S=j4(y,r,i);if(g.dist<b&&g.dist<S&&lS(n,y,a)&&lS(r,y,a))return y}c=l.pop(),c&&(c=c.node)}return null}function Ule(t,e){return t.dist-e.dist}function qle(t,e,n){if(oS(t,n)||oS(e,n))return 0;var r=A1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(r===0)return 0;var i=A1(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(i===0)return 0;var s=A1(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(s===0)return 0;var a=A1(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return a===0?0:Math.min(r,i,s,a)}function oS(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function lS(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),s=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),l=n.search({minX:r,minY:i,maxX:s,maxY:a}),c=0;c<l.length;c++)if(Hle(l[c].p,l[c].next.p,t,e))return!1;return!0}function Gf(t,e,n){return zle(t[0],t[1],e[0],e[1],n[0],n[1])}function Hle(t,e,n,r){return t!==r&&e!==n&&Gf(t,e,n)>0!=Gf(t,e,r)>0&&Gf(n,r,t)>0!=Gf(n,r,e)>0}function Z4(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Wle(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var l=[e,n,r,i],c=l.slice();for(s=0;s<t.length;s++)Ble(t[s],l)||c.push(t[s]);return $le(c)}function uS(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Y4(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function j4(t,e,n){var r=e[0],i=e[1],s=n[0]-r,a=n[1]-i;if(s!==0||a!==0){var l=((t[0]-r)*s+(t[1]-i)*a)/(s*s+a*a);l>1?(r=n[0],i=n[1]):l>0&&(r+=s*l,i+=a*l)}return s=t[0]-r,a=t[1]-i,s*s+a*a}function A1(t,e,n,r,i,s,a,l){var c=n-t,f=r-e,p=a-i,m=l-s,g=t-i,y=e-s,b=c*c+f*f,S=c*p+f*m,I=p*p+m*m,R=c*g+f*y,k=p*g+m*y,A=b*I-S*S,C,P,D,F,Z=A,V=A;A===0?(P=0,Z=1,F=k,V=I):(P=S*k-I*R,F=b*k-S*R,P<0?(P=0,F=k,V=I):P>Z&&(P=Z,F=k+S,V=I)),F<0?(F=0,-R<0?P=0:-R>b?P=Z:(P=-R,Z=b)):F>V&&(F=V,-R+S<0?P=0:-R+S>b?P=Z:(P=-R+S,Z=b)),C=P===0?0:P/Z,D=F===0?0:F/V;var Y=(1-C)*t+C*n,H=(1-C)*e+C*r,J=(1-D)*i+D*a,he=(1-D)*s+D*l,le=J-Y,ne=he-H;return le*le+ne*ne}function Gle(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function $le(t){t.sort(Gle);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Gf(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&Gf(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}var Vle=_6.exports;const Zle=HI(Vle);function IN(t,e){e===void 0&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(Gh(t,function(i){n.push([i[0],i[1]])}),!n.length)return null;var r=Zle(n,e.concavity);return r.length>3?Hb([r]):null}function Yle(t,e,n){n===void 0&&(n={});var r=$a(t),i=$a(e),s=Pl(i[1]-r[1]),a=Pl(i[0]-r[0]),l=Pl(r[1]),c=Pl(i[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(c);return xN(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}function RN(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return PN(t);case"FeatureCollection":return jle(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return v6(t);default:throw new Error("unknown GeoJSON type")}}function PN(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=NN(t.properties),e.geometry=v6(t.geometry),e}function NN(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];typeof r=="object"?r===null?e[n]=null:Array.isArray(r)?e[n]=r.map(function(i){return i}):e[n]=NN(r):e[n]=r}),e}function jle(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(n){return PN(n)}),e}function v6(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(function(n){return v6(n)}),e):(e.coordinates=LN(t.coordinates),e)}function LN(t){var e=t;return typeof e[0]!="object"?e.slice():e.map(function(n){return LN(n)})}function $b(t,e){e===void 0&&(e={});var n=0,r=0,i=0;return Gh(t,function(s){n+=s[0],r+=s[1],i++},!0),Lp([n/i,r/i],e.properties)}function ON(t,e){switch(e===void 0&&(e={}),Mle(t)){case"Point":return Lp($a(t),e.properties);case"Polygon":var n=[];Gh(t,function(C){n.push(C)});var r=$b(t,{properties:e.properties}),i=r.geometry.coordinates,s=0,a=0,l=0,c,f,p,m,g,y,b,S,I=n.map(function(C){return[C[0]-i[0],C[1]-i[1]]});for(c=0;c<n.length-1;c++)f=I[c],m=f[0],y=f[1],p=I[c+1],g=p[0],b=p[1],S=m*b-g*y,l+=S,s+=(m+g)*S,a+=(y+b)*S;if(l===0)return r;var R=l*.5,k=1/(6*R);return Lp([i[0]+k*s,i[1]+k*a],e.properties);default:var A=IN(t);return A?ON(A,{properties:e.properties}):$b(t,{properties:e.properties})}}function Kle(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return kN(t,function(n){var r,i,s,a;switch((a=n.geometry)===null||a===void 0?void 0:a.type){case"Point":e.MultiPoint.coordinates.push(n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"MultiPoint":(r=e.MultiPoint.coordinates).push.apply(r,n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"LineString":e.MultiLineString.coordinates.push(n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"MultiLineString":(i=e.MultiLineString.coordinates).push.apply(i,n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":(s=e.MultiPolygon.coordinates).push.apply(s,n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break}}),F0(Object.keys(e).filter(function(n){return e[n].coordinates.length}).sort().map(function(n){var r={type:n,coordinates:e[n].coordinates},i={collectedProperties:e[n].properties};return g6(r,i)}))}function Xle(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,i=0;return kN(e,function(s,a){var l=Yle(t,s);l<r&&(i=a,r=l)}),n=RN(e.features[i]),n.properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Jle(t,e,n){n===void 0&&(n={});var r=$a(t),i=$a(e);i[0]+=i[0]-r[0]>180?-360:r[0]-i[0]>180?360:0;var s=Qle(r,i),a=SN(s,"meters",n.units);return a}function Qle(t,e,n){n=n===void 0?hs:Number(n);var r=n,i=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-i,l=Math.abs(e[0]-t[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.abs(c)>1e-11?a/c:Math.cos(i),p=Math.sqrt(a*a+f*f*l*l),m=p*r;return m}var cS=6378137;function I1(t){return kle(t,function(e,n){return e+eue(n)},0)}function eue(t){var e=0,n;switch(t.type){case"Polygon":return fS(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=fS(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function fS(t){var e=0;if(t&&t.length>0){e+=Math.abs(hS(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(hS(t[n]))}return e}function hS(t){var e,n,r,i,s,a,l,c=0,f=t.length;if(f>2){for(l=0;l<f;l++)l===f-2?(i=f-2,s=f-1,a=0):l===f-1?(i=f-1,s=0,a=1):(i=l,s=l+1,a=l+2),e=t[i],n=t[s],r=t[a],c+=(K4(r[0])-K4(e[0]))*Math.sin(K4(n[1]));c=c*cS*cS/2}return c}function K4(t){return t*Math.PI/180}function tue(t,e,n){n===void 0&&(n={});var r;n.final?r=dS($a(e),$a(t)):r=dS($a(t),$a(e));var i=r>180?-(360-r):r;return i}function dS(t,e){var n=Pl(t[1]),r=Pl(e[1]),i=Pl(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(i,s);return(Sle(a)+360)%360}function Vb(t,e,n,r){r===void 0&&(r={});var i=e<0,s=SN(Math.abs(e),r.units,"meters");i&&(s=-Math.abs(s));var a=$a(t),l=nue(a,s,n);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,Lp(l,r.properties)}function nue(t,e,n,r){r=r===void 0?hs:Number(r);var i=e/r,s=t[0]*Math.PI/180,a=Pl(t[1]),l=Pl(n),c=i*Math.cos(l),f=a+c;Math.abs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f);var p=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),m=Math.abs(p)>1e-11?c/p:Math.cos(a),g=i*Math.sin(l)/m,y=s+g;return[(y*180/Math.PI+540)%360-180,f*180/Math.PI]}function rue(t,e,n){if(n=n||{},!TN(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(e==null||isNaN(e))throw new Error("angle is required");return e===0||(r||(r=$b(t)),(i===!1||i===void 0)&&(t=RN(t)),Gh(t,function(s){var a=tue(r,s),l=a+e,c=Jle(r,s),f=Ele(Vb(r,c,l));s[0]=f[0],s[1]=f[1]})),t}function iue(t,e,n,r){r=r||{};var i=r.steps||64,s=r.units||"kilometers",a=r.angle||0,l=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!TN(r))throw new Error("options must be an object");if(!S_(i))throw new Error("steps must be a number");if(!S_(a))throw new Error("angle must be a number");var f=$a(t);if(s==="degrees")var p=Pl(a);else e=Vb(t,e,90,{units:s}),n=Vb(t,n,0,{units:s}),e=$a(e)[0]-f[0],n=$a(n)[1]-f[1];for(var m=[],g=0;g<i;g+=1){var y=g*-360/i,b=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(pS(y),2)),S=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(pS(y),2));if(y<-90&&y>=-270&&(b=-b),y<-180&&y>=-360&&(S=-S),s==="degrees"){var I=b*Math.cos(p)+S*Math.sin(p),R=S*Math.cos(p)-b*Math.sin(p);b=I,S=R}m.push([b+f[0],S+f[1]])}return m.push(m[0]),s==="degrees"?Hb([m],c):rue(Hb([m],c),a,{pivot:l})}function pS(t){var e=t*Math.PI/180;return Math.tan(e)}function sue(t){let e,n,r=(t[0]==null?"...":t[0].length)+"",i,s,a,l,c,f=(t[1]==null?"...":t[1].type)+"",p,m,g,y;return{c(){e=Q("button"),n=Le("gainloss : "),i=Le(r),a=ve(),l=Q("button"),c=Le("exclusionzone : "),p=Le(f),G(e,"class",s="ui button small "+(t[0]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''"),G(l,"class",m="ui button small "+(t[1]==null?"orange  ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(b,S){_t(b,e,S),N(e,n),N(e,i),_t(b,a,S),_t(b,l,S),N(l,c),N(l,p),g||(y=[et(e,"click",t[7]),et(l,"click",t[8])],g=!0)},p(b,[S]){S&1&&r!==(r=(b[0]==null?"...":b[0].length)+"")&&wt(i,r),S&9&&s!==(s="ui button small "+(b[0]==null?"orange  ":"green")+" "+(b[3]!=null)+"?'loading':''")&&G(e,"class",s),S&2&&f!==(f=(b[1]==null?"...":b[1].type)+"")&&wt(p,f),S&10&&m!==(m="ui button small "+(b[1]==null?"orange  ":"green")+" "+(b[3]!=null)+"?'loading':''")&&G(l,"class",m)},i:In,o:In,d(b){b&&ft(e),b&&ft(a),b&&ft(l),g=!1,tl(y)}}}let aue="/fss/",oue=24;function lue(t,e,n){let r;Pc(t,df,C=>n(3,r=C));let{gainloss:i}=e,{exclusionzone:s}=e,{logger:a=null}=e;Zf(()=>{});let l={gainloss:{localpath:"/common/LossesPerElevation@1.csv",fspath:"/LossesPerElevation@1.csv",type:"csv"},exclusionzone:{localpath:"/common/emptyspaceschina.geojson",fspath:"/emptyspaceschina.geojson",type:"json"}};console.log("gainloss : FilePaths",l);let c,f=oue,p=[0,5,10,15,20,30,60,90],m=[32,28,24,24,20,18,17,17],g=[],y=dk().thresholds(p);function b(C){if(i==null)return;n(6,m=C),g=[];let P=i;console.log("Current gainloss",i);let D=y.value(F=>F.el)(P);console.log("updateEIRPmask: MASK BINS ",D),D.forEach((F,Z)=>{let V=10*Math.log10(tp(F,Y=>Math.pow(10,Y.UrbanAg/10)));F.meanAg=V,F.EIRPmask=m[Z],g.push(F.meanAg+f),F.forEach(Y=>{Y.UrbanOffset=m[Z]-Y.UrbanAg-f,Y.SubUrbanOffset=m[Z]-Y.SubUrbanAg-f,Y.MeanAg=F.meanAg,Y.MaskOffset=F.EIRPmask-F.meanAg-f,Y.EIRPMask=F.EIRPmask,Y.MaskBINid=Z,P[Y.el]=Y})}),n(0,i=P)}function S(C,P){if(i==null)return;c=c||C.clientWidth,console.log("New gainloss ",i),console.log("gainLoss Factor ",f,"TRPdBmperMHz - XPOLloss"),console.log("current masks",g);const D=Yo({width:c,marks:[Cu(i,{y:V=>V.UrbanAg,x:"el",title:V=>`${V.UrbanAg.toFixed(1)}dB @ ${V.el}`,stroke:V=>"Urban"}),Cu(i,{y:V=>V.SubUrbanAg,x:"el",title:V=>`${V.SubUrbanAg.toFixed(1)}dB @ ${V.el}`,stroke:V=>"SubUrban"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:V=>Math.floor(V)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"BS/sector Antenna Gain"}}),F=Yo({width:c,marks:[Cu(i,{y:V=>V.UrbanAg+f,x:"el",title:V=>`${(V.UrbanAg+f).toFixed(1)}dB @ ${V.el}`,stroke:V=>"Urban"}),Cu(i,{y:V=>V.SubUrbanAg+f,x:"el",title:V=>`${(V.SubUrbanAg+f).toFixed(1)}dB @ ${V.el}`,stroke:V=>"SubUrban"}),Cu(m,{x:p,y:m,marker:"circle",strokeWidth:2,title:(V,Y)=>`Max Avg EIRP ${V.toFixed(1)} (${(V-g[Y]).toFixed(1)}) dBm/MHz`,tip:!0,curve:"step-after"}),Cu(g,{x:p,y:g,marker:"circle",stroke:"grey",strokeWidth:2,tip:!0,strokeDasharray:[3,2],title:V=>"Max Avg EIRP "+V.toFixed(1)+"dBm/MHz",curve:"step-after"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,ticks:15,tickFormat:V=>Math.floor(V)},color:{legend:!0},y:{nice:!0,tickRotate:-40,ticks:20,label:"Avg EIRP@Angle (dBm/MHz)"}});let Z=Un(C).selectAll("figure");Z.empty()||Z.remove(),D.id="p4",C.append(D),C.append(F)}async function I(C){let P="Path Error "+C,D=l[C];{if(r!=null)P=await yN(aue+D.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",P)}return P}async function R(C){return console.log("loadGainLoss..started ",C),I(C).then(P=>{switch(C){case"gainloss":var D=sE(P,xg);D.then(Z=>{var V=Z.map(H=>({el:+H["Elev angle"],UrbanAg:H.UrbanAg,SubUrbanAg:H.SubUrbanAg,GL:H["Gas loss"],CL:-H["Clutter gain"],PL:H["Propagation loss"]}));let Y=y.value(H=>H.el)(V);return console.log("My Bins for MASK is ",Y),Y.forEach((H,J)=>{let he=10*Math.log10(tp(H,le=>Math.pow(10,le.UrbanAg/10)));H.meanAg=he,H.EIRPmask=m[J],g.push(H.meanAg+f),H.forEach(le=>{le.UrbanOffset=m[J]-le.UrbanAg-f,le.SubUrbanOffset=m[J]-le.SubUrbanAg-f,le.MeanAg=H.meanAg,le.MaskOffset=H.EIRPmask-H.meanAg-f,le.EIRPMask=H.EIRPmask,le.MaskBINid=J,V[le.el]=le})}),n(0,i=V),V}),a.showStatus("gainloss",D);break;case"exclusionzone":var F=K1(P,xg);F.then(Z=>(n(1,s=Z),console.log("exclusion ZONES found",s),Z)),a.showStatus("exclusionzone",F);break}}).catch(P=>{a!=null&&a.appendNode("gainloss",P.toString())}),console.log("loadGainLoss..done..."),""}const k=()=>{a.queueNode("gainloss",i)},A=()=>{a.queueNode("exclusionzone",s)};return t.$$set=C=>{"gainloss"in C&&n(0,i=C.gainloss),"exclusionzone"in C&&n(1,s=C.exclusionzone),"logger"in C&&n(2,a=C.logger)},t.$$.update=()=>{t.$$.dirty&8&&(r!=null?(console.log("must be running again gainloss",r),R("gainloss"),R("exclusionzone")):(console.log("DEVELMODE gainloss"),R("gainloss"),R("exclusionzone"))),t.$$.dirty&64&&console.log("Mask vals changed",m)},[i,s,a,r,b,S,m,k,A]}class uue extends Ju{constructor(e){super(),Xu(this,e,lue,sue,Va,{gainloss:0,exclusionzone:1,logger:2,updateEIRPmask:4,showGainLoss:5})}get updateEIRPmask(){return this.$$.ctx[4]}get showGainLoss(){return this.$$.ctx[5]}}var T_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */T_.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,g=2,y=4,b=1,S=2,I=1,R=2,k=4,A=8,C=16,P=32,D=64,F=128,Z=256,V=512,Y=30,H="...",J=800,he=16,le=1,ne=2,pe=3,fe=1/0,_e=9007199254740991,me=17976931348623157e292,$=0/0,ee=4294967295,ae=ee-1,Ee=ee>>>1,Ce=[["ary",F],["bind",I],["bindKey",R],["curry",A],["curryRight",C],["flip",V],["partial",P],["partialRight",D],["rearg",Z]],Oe="[object Arguments]",be="[object Array]",ke="[object AsyncFunction]",Pe="[object Boolean]",ge="[object Date]",De="[object DOMException]",ze="[object Error]",Se="[object Function]",Ke="[object GeneratorFunction]",$e="[object Map]",ct="[object Number]",Qe="[object Null]",dt="[object Object]",Ve="[object Promise]",un="[object Proxy]",cn="[object RegExp]",Kt="[object Set]",Vn="[object String]",Nn="[object Symbol]",Zn="[object Undefined]",dr="[object WeakMap]",Ye="[object WeakSet]",Yn="[object ArrayBuffer]",wn="[object DataView]",Dr="[object Float32Array]",Mr="[object Float64Array]",Rr="[object Int8Array]",Qn="[object Int16Array]",Br="[object Int32Array]",lr="[object Uint8Array]",pt="[object Uint8ClampedArray]",fn="[object Uint16Array]",zr="[object Uint32Array]",yr=/\b__p \+= '';/g,Ca=/\b(__p \+=) '' \+/g,ri=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39);/g,vi=/[&<>"']/g,qt=RegExp(er.source),ii=RegExp(vi.source),ws=/<%-([\s\S]+?)%>/g,Pr=/<%([\s\S]+?)%>/g,Ri=/<%=([\s\S]+?)%>/g,Aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pi=/^\w*$/,Js=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fi=/[\\^$.*+?()[\]{}|]/g,Co=RegExp(fi.source),Fr=/^\s+/,br=/\s/,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xs=/\{\n\/\* \[wrapped with (.+)\] \*/,Ur=/,? & /,hi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vr=/[()=,{}\[\]\/\s]/,Ss=/\\(\\)?/g,si=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rn=/\w*$/,yi=/^[-+]0x[0-9a-f]+$/i,Zr=/^0b[01]+$/i,Qs=/^\[object .+?Constructor\]$/,Ni=/^0o[0-7]+$/i,Ts=/^(?:0|[1-9]\d*)$/,pr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ea=/($^)/,jn=/['\n\r\u2028\u2029\\]/g,Yr="\\ud800-\\udfff",ai="\\u0300-\\u036f",ks="\\ufe20-\\ufe2f",Es="\\u20d0-\\u20ff",Ia=ai+ks+Es,Pn="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",Li="\\xac\\xb1\\xd7\\xf7",di="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ms="\\u2000-\\u206f",Pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yt="A-Z\\xc0-\\xd6\\xd8-\\xde",ls="\\ufe0e\\ufe0f",bi=Li+di+Ms+Pt,tr="['’]",Cr="["+Yr+"]",mt="["+bi+"]",kt="["+Ia+"]",Oi="\\d+",sr="["+Pn+"]",ur="["+Xt+"]",Ar="[^"+Yr+bi+Oi+Pn+Xt+yt+"]",pi="\\ud83c[\\udffb-\\udfff]",nr="(?:"+kt+"|"+pi+")",En="[^"+Yr+"]",xn="(?:\\ud83c[\\udde6-\\uddff]){2}",Di="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="["+yt+"]",Je="\\u200d",ut="(?:"+ur+"|"+Ar+")",pn="(?:"+Kn+"|"+Ar+")",Ue="(?:"+tr+"(?:d|ll|m|re|s|t|ve))?",Xn="(?:"+tr+"(?:D|LL|M|RE|S|T|VE))?",Cs=nr+"?",Ji="["+ls+"]?",Ka="(?:"+Je+"(?:"+[En,xn,Di].join("|")+")"+Ji+Cs+")*",jl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ta=Ji+Cs+Ka,Mt="(?:"+[sr,xn,Di].join("|")+")"+ta,Qi="(?:"+[En+kt+"?",kt,xn,Di,Cr].join("|")+")",Mn=RegExp(tr,"g"),Kl=RegExp(kt,"g"),na=RegExp(pi+"(?="+pi+")|"+Qi+ta,"g"),al=RegExp([Kn+"?"+ur+"+"+Ue+"(?="+[mt,Kn,"$"].join("|")+")",pn+"+"+Xn+"(?="+[mt,Kn+ut,"$"].join("|")+")",Kn+"?"+ut+"+"+Ue,Kn+"+"+Xn,jr,jl,Oi,Mt].join("|"),"g"),Ao=RegExp("["+Je+Yr+Ia+ls+"]"),ra=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ia=-1,Ct={};Ct[Dr]=Ct[Mr]=Ct[Rr]=Ct[Qn]=Ct[Br]=Ct[lr]=Ct[pt]=Ct[fn]=Ct[zr]=!0,Ct[Oe]=Ct[be]=Ct[Yn]=Ct[Pe]=Ct[wn]=Ct[ge]=Ct[ze]=Ct[Se]=Ct[$e]=Ct[ct]=Ct[dt]=Ct[cn]=Ct[Kt]=Ct[Vn]=Ct[dr]=!1;var hn={};hn[Oe]=hn[be]=hn[Yn]=hn[wn]=hn[Pe]=hn[ge]=hn[Dr]=hn[Mr]=hn[Rr]=hn[Qn]=hn[Br]=hn[$e]=hn[ct]=hn[dt]=hn[cn]=hn[Kt]=hn[Vn]=hn[Nn]=hn[lr]=hn[pt]=hn[fn]=hn[zr]=!0,hn[ze]=hn[Se]=hn[dr]=!1;var wi={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Io={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ol={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ll=parseFloat,ic=parseInt,sa=typeof Tc=="object"&&Tc&&Tc.Object===Object&&Tc,Jt=typeof self=="object"&&self&&self.Object===Object&&self,an=sa||Jt||Function("return this")(),wr=e&&!e.nodeType&&e,xi=wr&&!0&&t&&!t.nodeType&&t,ul=xi&&xi.exports===wr,Xa=ul&&sa.process,oi=function(){try{var ue=xi&&xi.require&&xi.require("util").types;return ue||Xa&&Xa.binding&&Xa.binding("util")}catch{}}(),cl=oi&&oi.isArrayBuffer,re=oi&&oi.isDate,Ae=oi&&oi.isMap,qe=oi&&oi.isRegExp,We=oi&&oi.isSet,xt=oi&&oi.isTypedArray;function nt(ue,Te,xe){switch(xe.length){case 0:return ue.call(Te);case 1:return ue.call(Te,xe[0]);case 2:return ue.call(Te,xe[0],xe[1]);case 3:return ue.call(Te,xe[0],xe[1],xe[2])}return ue.apply(Te,xe)}function Ln(ue,Te,xe,rt){for(var Lt=-1,gn=ue==null?0:ue.length;++Lt<gn;){var Nr=ue[Lt];Te(rt,Nr,xe(Nr),ue)}return rt}function Gt(ue,Te){for(var xe=-1,rt=ue==null?0:ue.length;++xe<rt&&Te(ue[xe],xe,ue)!==!1;);return ue}function ar(ue,Te){for(var xe=ue==null?0:ue.length;xe--&&Te(ue[xe],xe,ue)!==!1;);return ue}function Nt(ue,Te){for(var xe=-1,rt=ue==null?0:ue.length;++xe<rt;)if(!Te(ue[xe],xe,ue))return!1;return!0}function Qt(ue,Te){for(var xe=-1,rt=ue==null?0:ue.length,Lt=0,gn=[];++xe<rt;){var Nr=ue[xe];Te(Nr,xe,ue)&&(gn[Lt++]=Nr)}return gn}function Sn(ue,Te){var xe=ue==null?0:ue.length;return!!xe&&As(ue,Te,0)>-1}function mn(ue,Te,xe){for(var rt=-1,Lt=ue==null?0:ue.length;++rt<Lt;)if(xe(Te,ue[rt]))return!0;return!1}function on(ue,Te){for(var xe=-1,rt=ue==null?0:ue.length,Lt=Array(rt);++xe<rt;)Lt[xe]=Te(ue[xe],xe,ue);return Lt}function Kr(ue,Te){for(var xe=-1,rt=Te.length,Lt=ue.length;++xe<rt;)ue[Lt+xe]=Te[xe];return ue}function es(ue,Te,xe,rt){var Lt=-1,gn=ue==null?0:ue.length;for(rt&&gn&&(xe=ue[++Lt]);++Lt<gn;)xe=Te(xe,ue[Lt],Lt,ue);return xe}function fl(ue,Te,xe,rt){var Lt=ue==null?0:ue.length;for(rt&&Lt&&(xe=ue[--Lt]);Lt--;)xe=Te(xe,ue[Lt],Lt,ue);return xe}function hl(ue,Te){for(var xe=-1,rt=ue==null?0:ue.length;++xe<rt;)if(Te(ue[xe],xe,ue))return!0;return!1}var mf=aa("length");function Jl(ue){return ue.split("")}function i0(ue){return ue.match(hi)||[]}function Bi(ue,Te,xe){var rt;return xe(ue,function(Lt,gn,Nr){if(Te(Lt,gn,Nr))return rt=gn,!1}),rt}function Tn(ue,Te,xe,rt){for(var Lt=ue.length,gn=xe+(rt?1:-1);rt?gn--:++gn<Lt;)if(Te(ue[gn],gn,ue))return gn;return-1}function As(ue,Te,xe){return Te===Te?No(ue,Te,xe):Tn(ue,gi,xe)}function dl(ue,Te,xe,rt){for(var Lt=xe-1,gn=ue.length;++Lt<gn;)if(rt(ue[Lt],Te))return Lt;return-1}function gi(ue){return ue!==ue}function sc(ue,Te){var xe=ue==null?0:ue.length;return xe?ml(ue,Te)/xe:$}function aa(ue){return function(Te){return Te==null?n:Te[ue]}}function Ra(ue){return function(Te){return ue==null?n:ue[Te]}}function Ql(ue,Te,xe,rt,Lt){return Lt(ue,function(gn,Nr,en){xe=rt?(rt=!1,gn):Te(xe,gn,Nr,en)}),xe}function pl(ue,Te){var xe=ue.length;for(ue.sort(Te);xe--;)ue[xe]=ue[xe].value;return ue}function ml(ue,Te){for(var xe,rt=-1,Lt=ue.length;++rt<Lt;){var gn=Te(ue[rt]);gn!==n&&(xe=xe===n?gn:xe+gn)}return xe}function ac(ue,Te){for(var xe=-1,rt=Array(ue);++xe<ue;)rt[xe]=Te(xe);return rt}function eu(ue,Te){return on(Te,function(xe){return[xe,ue[xe]]})}function s0(ue){return ue&&ue.slice(0,ki(ue)+1).replace(Fr,"")}function On(ue){return function(Te){return ue(Te)}}function Pa(ue,Te){return on(Te,function(xe){return ue[xe]})}function oa(ue,Te){return ue.has(Te)}function ts(ue,Te){for(var xe=-1,rt=ue.length;++xe<rt&&As(Te,ue[xe],0)>-1;);return xe}function a0(ue,Te){for(var xe=ue.length;xe--&&As(Te,ue[xe],0)>-1;);return xe}function Ja(ue,Te){for(var xe=ue.length,rt=0;xe--;)ue[xe]===Te&&++rt;return rt}var gf=Ra(wi),zi=Ra(Io);function o0(ue){return"\\"+Xl[ue]}function Ro(ue,Te){return ue==null?n:ue[Te]}function Po(ue){return Ao.test(ue)}function la(ue){return ra.test(ue)}function tu(ue){for(var Te,xe=[];!(Te=ue.next()).done;)xe.push(Te.value);return xe}function us(ue){var Te=-1,xe=Array(ue.size);return ue.forEach(function(rt,Lt){xe[++Te]=[Lt,rt]}),xe}function nu(ue,Te){return function(xe){return ue(Te(xe))}}function Na(ue,Te){for(var xe=-1,rt=ue.length,Lt=0,gn=[];++xe<rt;){var Nr=ue[xe];(Nr===Te||Nr===p)&&(ue[xe]=p,gn[Lt++]=xe)}return gn}function Fi(ue){var Te=-1,xe=Array(ue.size);return ue.forEach(function(rt){xe[++Te]=rt}),xe}function oc(ue){var Te=-1,xe=Array(ue.size);return ue.forEach(function(rt){xe[++Te]=[rt,rt]}),xe}function No(ue,Te,xe){for(var rt=xe-1,Lt=ue.length;++rt<Lt;)if(ue[rt]===Te)return rt;return-1}function gl(ue,Te,xe){for(var rt=xe+1;rt--;)if(ue[rt]===Te)return rt;return rt}function Si(ue){return Po(ue)?_l(ue):mf(ue)}function Ti(ue){return Po(ue)?iu(ue):Jl(ue)}function ki(ue){for(var Te=ue.length;Te--&&br.test(ue.charAt(Te)););return Te}var ru=Ra(ol);function _l(ue){for(var Te=na.lastIndex=0;na.test(ue);)++Te;return Te}function iu(ue){return ue.match(na)||[]}function vl(ue){return ue.match(al)||[]}var Qa=function ue(Te){Te=Te==null?an:ua.defaults(an.Object(),Te,ua.pick(an,mi));var xe=Te.Array,rt=Te.Date,Lt=Te.Error,gn=Te.Function,Nr=Te.Math,en=Te.Object,Lo=Te.RegExp,Is=Te.String,xr=Te.TypeError,su=xe.prototype,Oo=gn.prototype,eo=en.prototype,to=Te["__core-js_shared__"],au=Oo.toString,Ft=eo.hasOwnProperty,l0=0,La=function(){var u=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Do=eo.toString,u0=au.call(en),Rs=an._,Ps=Lo("^"+au.call(Ft).replace(fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bo=ul?Te.Buffer:n,Ns=Te.Symbol,Oa=Te.Uint8Array,Ls=Bo?Bo.allocUnsafe:n,Da=nu(en.getPrototypeOf,en),no=en.create,lc=eo.propertyIsEnumerable,Ba=su.splice,$t=Ns?Ns.isConcatSpreadable:n,ro=Ns?Ns.iterator:n,za=Ns?Ns.toStringTag:n,ou=function(){try{var u=p0(en,"defineProperty");return u({},"",{}),u}catch{}}(),_f=Te.clearTimeout!==an.clearTimeout&&Te.clearTimeout,vf=rt&&rt.now!==an.Date.now&&rt.now,Zh=Te.setTimeout!==an.setTimeout&&Te.setTimeout,lu=Nr.ceil,uu=Nr.floor,c0=en.getOwnPropertySymbols,o=Bo?Bo.isBuffer:n,h=Te.isFinite,_=su.join,w=nu(en.keys,en),E=Nr.max,z=Nr.min,te=rt.now,de=Te.parseInt,we=Nr.random,Me=su.reverse,Ze=p0(Te,"DataView"),vt=p0(Te,"Map"),Ht=p0(Te,"Promise"),Lr=p0(Te,"Set"),mr=p0(Te,"WeakMap"),cr=p0(en,"create"),Cn=mr&&new mr,or={},io=m0(Ze),Yh=m0(vt),jh=m0(Ht),yf=m0(Lr),Kh=m0(mr),cu=Ns?Ns.prototype:n,Dn=cu?cu.valueOf:n,fu=cu?cu.toString:n;function U(u){if(Xr(u)&&!Vt(u)&&!(u instanceof tn)){if(u instanceof Ui)return u;if(Ft.call(u,"__wrapped__"))return j7(u)}return new Ui(u)}var so=function(){function u(){}return function(d){if(!qr(d))return{};if(no)return no(d);u.prototype=d;var v=new u;return u.prototype=n,v}}();function uc(){}function Ui(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}U.templateSettings={escape:ws,evaluate:Pr,interpolate:Ri,variable:"",imports:{_:U}},U.prototype=uc.prototype,U.prototype.constructor=U,Ui.prototype=so(uc.prototype),Ui.prototype.constructor=Ui;function tn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function cc(){var u=new tn(this.__wrapped__);return u.__actions__=ha(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ha(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ha(this.__views__),u}function j2(){if(this.__filtered__){var u=new tn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function K2(){var u=this.__wrapped__.value(),d=this.__dir__,v=Vt(u),T=d<0,O=v?u.length:0,W=JO(0,O,this.__views__),K=W.start,se=W.end,ce=se-K,Re=T?se:K-1,Ne=this.__iteratees__,Be=Ne.length,st=0,gt=z(ce,this.__takeCount__);if(!v||!T&&O==ce&&gt==ce)return v7(u,this.__actions__);var At=[];e:for(;ce--&&st<gt;){Re+=d;for(var ln=-1,It=u[Re];++ln<Be;){var yn=Ne[ln],An=yn.iteratee,qa=yn.type,Bs=An(It);if(qa==ne)It=Bs;else if(!Bs){if(qa==le)continue e;break e}}At[st++]=It}return At}tn.prototype=so(uc.prototype),tn.prototype.constructor=tn;function hu(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function bf(){this.__data__=cr?cr(null):{},this.size=0}function X2(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function J2(u){var d=this.__data__;if(cr){var v=d[u];return v===c?n:v}return Ft.call(d,u)?d[u]:n}function Xh(u){var d=this.__data__;return cr?d[u]!==n:Ft.call(d,u)}function ie(u,d){var v=this.__data__;return this.size+=this.has(u)?0:1,v[u]=cr&&d===n?c:d,this}hu.prototype.clear=bf,hu.prototype.delete=X2,hu.prototype.get=J2,hu.prototype.has=Xh,hu.prototype.set=ie;function Ie(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function Ir(){this.__data__=[],this.size=0}function Rm(u){var d=this.__data__,v=Lm(d,u);if(v<0)return!1;var T=d.length-1;return v==T?d.pop():Ba.call(d,v,1),--this.size,!0}function Pm(u){var d=this.__data__,v=Lm(d,u);return v<0?n:d[v][1]}function yl(u){return Lm(this.__data__,u)>-1}function cs(u,d){var v=this.__data__,T=Lm(v,u);return T<0?(++this.size,v.push([u,d])):v[T][1]=d,this}Ie.prototype.clear=Ir,Ie.prototype.delete=Rm,Ie.prototype.get=Pm,Ie.prototype.has=yl,Ie.prototype.set=cs;function ca(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function wf(){this.size=0,this.__data__={hash:new hu,map:new(vt||Ie),string:new hu}}function Jh(u){var d=Vm(this,u).delete(u);return this.size-=d?1:0,d}function fa(u){return Vm(this,u).get(u)}function Nm(u){return Vm(this,u).has(u)}function tO(u,d){var v=Vm(this,u),T=v.size;return v.set(u,d),this.size+=v.size==T?0:1,this}ca.prototype.clear=wf,ca.prototype.delete=Jh,ca.prototype.get=fa,ca.prototype.has=Nm,ca.prototype.set=tO;function f0(u){var d=-1,v=u==null?0:u.length;for(this.__data__=new ca;++d<v;)this.add(u[d])}function nO(u){return this.__data__.set(u,c),this}function rO(u){return this.__data__.has(u)}f0.prototype.add=f0.prototype.push=nO,f0.prototype.has=rO;function zo(u){var d=this.__data__=new Ie(u);this.size=d.size}function iO(){this.__data__=new Ie,this.size=0}function sO(u){var d=this.__data__,v=d.delete(u);return this.size=d.size,v}function aO(u){return this.__data__.get(u)}function oO(u){return this.__data__.has(u)}function lO(u,d){var v=this.__data__;if(v instanceof Ie){var T=v.__data__;if(!vt||T.length<i-1)return T.push([u,d]),this.size=++v.size,this;v=this.__data__=new ca(T)}return v.set(u,d),this.size=v.size,this}zo.prototype.clear=iO,zo.prototype.delete=sO,zo.prototype.get=aO,zo.prototype.has=oO,zo.prototype.set=lO;function j6(u,d){var v=Vt(u),T=!v&&g0(u),O=!v&&!T&&mc(u),W=!v&&!T&&!O&&kf(u),K=v||T||O||W,se=K?ac(u.length,Is):[],ce=se.length;for(var Re in u)(d||Ft.call(u,Re))&&!(K&&(Re=="length"||O&&(Re=="offset"||Re=="parent")||W&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||gu(Re,ce)))&&se.push(Re);return se}function K6(u){var d=u.length;return d?u[uv(0,d-1)]:n}function uO(u,d){return Zm(ha(u),h0(d,0,u.length))}function cO(u){return Zm(ha(u))}function Q2(u,d,v){(v!==n&&!Fo(u[d],v)||v===n&&!(d in u))&&du(u,d,v)}function Qh(u,d,v){var T=u[d];(!(Ft.call(u,d)&&Fo(T,v))||v===n&&!(d in u))&&du(u,d,v)}function Lm(u,d){for(var v=u.length;v--;)if(Fo(u[v][0],d))return v;return-1}function fO(u,d,v,T){return fc(u,function(O,W,K){d(T,O,v(O),K)}),T}function X6(u,d){return u&&wl(d,qi(d),u)}function hO(u,d){return u&&wl(d,pa(d),u)}function du(u,d,v){d=="__proto__"&&ou?ou(u,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):u[d]=v}function ev(u,d){for(var v=-1,T=d.length,O=xe(T),W=u==null;++v<T;)O[v]=W?n:Lv(u,d[v]);return O}function h0(u,d,v){return u===u&&(v!==n&&(u=u<=v?u:v),d!==n&&(u=u>=d?u:d)),u}function ao(u,d,v,T,O,W){var K,se=d&m,ce=d&g,Re=d&y;if(v&&(K=O?v(u,T,O,W):v(u)),K!==n)return K;if(!qr(u))return u;var Ne=Vt(u);if(Ne){if(K=eD(u),!se)return ha(u,K)}else{var Be=fs(u),st=Be==Se||Be==Ke;if(mc(u))return w7(u,se);if(Be==dt||Be==Oe||st&&!O){if(K=ce||st?{}:U7(u),!se)return ce?WO(u,hO(K,u)):HO(u,X6(K,u))}else{if(!hn[Be])return O?u:{};K=tD(u,Be,se)}}W||(W=new zo);var gt=W.get(u);if(gt)return gt;W.set(u,K),m8(u)?u.forEach(function(It){K.add(ao(It,d,v,It,u,W))}):d8(u)&&u.forEach(function(It,yn){K.set(yn,ao(It,d,v,yn,u,W))});var At=Re?ce?bv:yv:ce?pa:qi,ln=Ne?n:At(u);return Gt(ln||u,function(It,yn){ln&&(yn=It,It=u[yn]),Qh(K,yn,ao(It,d,v,yn,u,W))}),K}function dO(u){var d=qi(u);return function(v){return J6(v,u,d)}}function J6(u,d,v){var T=v.length;if(u==null)return!T;for(u=en(u);T--;){var O=v[T],W=d[O],K=u[O];if(K===n&&!(O in u)||!W(K))return!1}return!0}function Q6(u,d,v){if(typeof u!="function")throw new xr(a);return ad(function(){u.apply(n,v)},d)}function ed(u,d,v,T){var O=-1,W=Sn,K=!0,se=u.length,ce=[],Re=d.length;if(!se)return ce;v&&(d=on(d,On(v))),T?(W=mn,K=!1):d.length>=i&&(W=oa,K=!1,d=new f0(d));e:for(;++O<se;){var Ne=u[O],Be=v==null?Ne:v(Ne);if(Ne=T||Ne!==0?Ne:0,K&&Be===Be){for(var st=Re;st--;)if(d[st]===Be)continue e;ce.push(Ne)}else W(d,Be,T)||ce.push(Ne)}return ce}var fc=E7(bl),e7=E7(nv,!0);function pO(u,d){var v=!0;return fc(u,function(T,O,W){return v=!!d(T,O,W),v}),v}function Om(u,d,v){for(var T=-1,O=u.length;++T<O;){var W=u[T],K=d(W);if(K!=null&&(se===n?K===K&&!Ua(K):v(K,se)))var se=K,ce=W}return ce}function mO(u,d,v,T){var O=u.length;for(v=nn(v),v<0&&(v=-v>O?0:O+v),T=T===n||T>O?O:nn(T),T<0&&(T+=O),T=v>T?0:_8(T);v<T;)u[v++]=d;return u}function t7(u,d){var v=[];return fc(u,function(T,O,W){d(T,O,W)&&v.push(T)}),v}function ns(u,d,v,T,O){var W=-1,K=u.length;for(v||(v=rD),O||(O=[]);++W<K;){var se=u[W];d>0&&v(se)?d>1?ns(se,d-1,v,T,O):Kr(O,se):T||(O[O.length]=se)}return O}var tv=M7(),n7=M7(!0);function bl(u,d){return u&&tv(u,d,qi)}function nv(u,d){return u&&n7(u,d,qi)}function Dm(u,d){return Qt(d,function(v){return _u(u[v])})}function d0(u,d){d=dc(d,u);for(var v=0,T=d.length;u!=null&&v<T;)u=u[xl(d[v++])];return v&&v==T?u:n}function r7(u,d,v){var T=d(u);return Vt(u)?T:Kr(T,v(u))}function Os(u){return u==null?u===n?Zn:Qe:za&&za in en(u)?XO(u):cD(u)}function rv(u,d){return u>d}function gO(u,d){return u!=null&&Ft.call(u,d)}function _O(u,d){return u!=null&&d in en(u)}function vO(u,d,v){return u>=z(d,v)&&u<E(d,v)}function iv(u,d,v){for(var T=v?mn:Sn,O=u[0].length,W=u.length,K=W,se=xe(W),ce=1/0,Re=[];K--;){var Ne=u[K];K&&d&&(Ne=on(Ne,On(d))),ce=z(Ne.length,ce),se[K]=!v&&(d||O>=120&&Ne.length>=120)?new f0(K&&Ne):n}Ne=u[0];var Be=-1,st=se[0];e:for(;++Be<O&&Re.length<ce;){var gt=Ne[Be],At=d?d(gt):gt;if(gt=v||gt!==0?gt:0,!(st?oa(st,At):T(Re,At,v))){for(K=W;--K;){var ln=se[K];if(!(ln?oa(ln,At):T(u[K],At,v)))continue e}st&&st.push(At),Re.push(gt)}}return Re}function yO(u,d,v,T){return bl(u,function(O,W,K){d(T,v(O),W,K)}),T}function td(u,d,v){d=dc(d,u),u=G7(u,d);var T=u==null?u:u[xl(lo(d))];return T==null?n:nt(T,u,v)}function i7(u){return Xr(u)&&Os(u)==Oe}function bO(u){return Xr(u)&&Os(u)==Yn}function wO(u){return Xr(u)&&Os(u)==ge}function nd(u,d,v,T,O){return u===d?!0:u==null||d==null||!Xr(u)&&!Xr(d)?u!==u&&d!==d:xO(u,d,v,T,nd,O)}function xO(u,d,v,T,O,W){var K=Vt(u),se=Vt(d),ce=K?be:fs(u),Re=se?be:fs(d);ce=ce==Oe?dt:ce,Re=Re==Oe?dt:Re;var Ne=ce==dt,Be=Re==dt,st=ce==Re;if(st&&mc(u)){if(!mc(d))return!1;K=!0,Ne=!1}if(st&&!Ne)return W||(W=new zo),K||kf(u)?B7(u,d,v,T,O,W):jO(u,d,ce,v,T,O,W);if(!(v&b)){var gt=Ne&&Ft.call(u,"__wrapped__"),At=Be&&Ft.call(d,"__wrapped__");if(gt||At){var ln=gt?u.value():u,It=At?d.value():d;return W||(W=new zo),O(ln,It,v,T,W)}}return st?(W||(W=new zo),KO(u,d,v,T,O,W)):!1}function SO(u){return Xr(u)&&fs(u)==$e}function sv(u,d,v,T){var O=v.length,W=O,K=!T;if(u==null)return!W;for(u=en(u);O--;){var se=v[O];if(K&&se[2]?se[1]!==u[se[0]]:!(se[0]in u))return!1}for(;++O<W;){se=v[O];var ce=se[0],Re=u[ce],Ne=se[1];if(K&&se[2]){if(Re===n&&!(ce in u))return!1}else{var Be=new zo;if(T)var st=T(Re,Ne,ce,u,d,Be);if(!(st===n?nd(Ne,Re,b|S,T,Be):st))return!1}}return!0}function s7(u){if(!qr(u)||sD(u))return!1;var d=_u(u)?Ps:Qs;return d.test(m0(u))}function TO(u){return Xr(u)&&Os(u)==cn}function kO(u){return Xr(u)&&fs(u)==Kt}function EO(u){return Xr(u)&&Qm(u.length)&&!!Ct[Os(u)]}function a7(u){return typeof u=="function"?u:u==null?ma:typeof u=="object"?Vt(u)?u7(u[0],u[1]):l7(u):C8(u)}function av(u){if(!sd(u))return w(u);var d=[];for(var v in en(u))Ft.call(u,v)&&v!="constructor"&&d.push(v);return d}function MO(u){if(!qr(u))return uD(u);var d=sd(u),v=[];for(var T in u)T=="constructor"&&(d||!Ft.call(u,T))||v.push(T);return v}function ov(u,d){return u<d}function o7(u,d){var v=-1,T=da(u)?xe(u.length):[];return fc(u,function(O,W,K){T[++v]=d(O,W,K)}),T}function l7(u){var d=xv(u);return d.length==1&&d[0][2]?H7(d[0][0],d[0][1]):function(v){return v===u||sv(v,u,d)}}function u7(u,d){return Tv(u)&&q7(d)?H7(xl(u),d):function(v){var T=Lv(v,u);return T===n&&T===d?Ov(v,u):nd(d,T,b|S)}}function Bm(u,d,v,T,O){u!==d&&tv(d,function(W,K){if(O||(O=new zo),qr(W))CO(u,d,K,v,Bm,T,O);else{var se=T?T(Ev(u,K),W,K+"",u,d,O):n;se===n&&(se=W),Q2(u,K,se)}},pa)}function CO(u,d,v,T,O,W,K){var se=Ev(u,v),ce=Ev(d,v),Re=K.get(ce);if(Re){Q2(u,v,Re);return}var Ne=W?W(se,ce,v+"",u,d,K):n,Be=Ne===n;if(Be){var st=Vt(ce),gt=!st&&mc(ce),At=!st&&!gt&&kf(ce);Ne=ce,st||gt||At?Vt(se)?Ne=se:li(se)?Ne=ha(se):gt?(Be=!1,Ne=w7(ce,!0)):At?(Be=!1,Ne=x7(ce,!0)):Ne=[]:od(ce)||g0(ce)?(Ne=se,g0(se)?Ne=v8(se):(!qr(se)||_u(se))&&(Ne=U7(ce))):Be=!1}Be&&(K.set(ce,Ne),O(Ne,ce,T,W,K),K.delete(ce)),Q2(u,v,Ne)}function c7(u,d){var v=u.length;if(v)return d+=d<0?v:0,gu(d,v)?u[d]:n}function f7(u,d,v){d.length?d=on(d,function(W){return Vt(W)?function(K){return d0(K,W.length===1?W[0]:W)}:W}):d=[ma];var T=-1;d=on(d,On(Et()));var O=o7(u,function(W,K,se){var ce=on(d,function(Re){return Re(W)});return{criteria:ce,index:++T,value:W}});return pl(O,function(W,K){return qO(W,K,v)})}function AO(u,d){return h7(u,d,function(v,T){return Ov(u,T)})}function h7(u,d,v){for(var T=-1,O=d.length,W={};++T<O;){var K=d[T],se=d0(u,K);v(se,K)&&rd(W,dc(K,u),se)}return W}function IO(u){return function(d){return d0(d,u)}}function lv(u,d,v,T){var O=T?dl:As,W=-1,K=d.length,se=u;for(u===d&&(d=ha(d)),v&&(se=on(u,On(v)));++W<K;)for(var ce=0,Re=d[W],Ne=v?v(Re):Re;(ce=O(se,Ne,ce,T))>-1;)se!==u&&Ba.call(se,ce,1),Ba.call(u,ce,1);return u}function d7(u,d){for(var v=u?d.length:0,T=v-1;v--;){var O=d[v];if(v==T||O!==W){var W=O;gu(O)?Ba.call(u,O,1):hv(u,O)}}return u}function uv(u,d){return u+uu(we()*(d-u+1))}function RO(u,d,v,T){for(var O=-1,W=E(lu((d-u)/(v||1)),0),K=xe(W);W--;)K[T?W:++O]=u,u+=v;return K}function cv(u,d){var v="";if(!u||d<1||d>_e)return v;do d%2&&(v+=u),d=uu(d/2),d&&(u+=u);while(d);return v}function dn(u,d){return Mv(W7(u,d,ma),u+"")}function PO(u){return K6(Ef(u))}function NO(u,d){var v=Ef(u);return Zm(v,h0(d,0,v.length))}function rd(u,d,v,T){if(!qr(u))return u;d=dc(d,u);for(var O=-1,W=d.length,K=W-1,se=u;se!=null&&++O<W;){var ce=xl(d[O]),Re=v;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return u;if(O!=K){var Ne=se[ce];Re=T?T(Ne,ce,se):n,Re===n&&(Re=qr(Ne)?Ne:gu(d[O+1])?[]:{})}Qh(se,ce,Re),se=se[ce]}return u}var p7=Cn?function(u,d){return Cn.set(u,d),u}:ma,LO=ou?function(u,d){return ou(u,"toString",{configurable:!0,enumerable:!1,value:Bv(d),writable:!0})}:ma;function OO(u){return Zm(Ef(u))}function oo(u,d,v){var T=-1,O=u.length;d<0&&(d=-d>O?0:O+d),v=v>O?O:v,v<0&&(v+=O),O=d>v?0:v-d>>>0,d>>>=0;for(var W=xe(O);++T<O;)W[T]=u[T+d];return W}function DO(u,d){var v;return fc(u,function(T,O,W){return v=d(T,O,W),!v}),!!v}function zm(u,d,v){var T=0,O=u==null?T:u.length;if(typeof d=="number"&&d===d&&O<=Ee){for(;T<O;){var W=T+O>>>1,K=u[W];K!==null&&!Ua(K)&&(v?K<=d:K<d)?T=W+1:O=W}return O}return fv(u,d,ma,v)}function fv(u,d,v,T){var O=0,W=u==null?0:u.length;if(W===0)return 0;d=v(d);for(var K=d!==d,se=d===null,ce=Ua(d),Re=d===n;O<W;){var Ne=uu((O+W)/2),Be=v(u[Ne]),st=Be!==n,gt=Be===null,At=Be===Be,ln=Ua(Be);if(K)var It=T||At;else Re?It=At&&(T||st):se?It=At&&st&&(T||!gt):ce?It=At&&st&&!gt&&(T||!ln):gt||ln?It=!1:It=T?Be<=d:Be<d;It?O=Ne+1:W=Ne}return z(W,ae)}function m7(u,d){for(var v=-1,T=u.length,O=0,W=[];++v<T;){var K=u[v],se=d?d(K):K;if(!v||!Fo(se,ce)){var ce=se;W[O++]=K===0?0:K}}return W}function g7(u){return typeof u=="number"?u:Ua(u)?$:+u}function Fa(u){if(typeof u=="string")return u;if(Vt(u))return on(u,Fa)+"";if(Ua(u))return fu?fu.call(u):"";var d=u+"";return d=="0"&&1/u==-fe?"-0":d}function hc(u,d,v){var T=-1,O=Sn,W=u.length,K=!0,se=[],ce=se;if(v)K=!1,O=mn;else if(W>=i){var Re=d?null:ZO(u);if(Re)return Fi(Re);K=!1,O=oa,ce=new f0}else ce=d?[]:se;e:for(;++T<W;){var Ne=u[T],Be=d?d(Ne):Ne;if(Ne=v||Ne!==0?Ne:0,K&&Be===Be){for(var st=ce.length;st--;)if(ce[st]===Be)continue e;d&&ce.push(Be),se.push(Ne)}else O(ce,Be,v)||(ce!==se&&ce.push(Be),se.push(Ne))}return se}function hv(u,d){return d=dc(d,u),u=G7(u,d),u==null||delete u[xl(lo(d))]}function _7(u,d,v,T){return rd(u,d,v(d0(u,d)),T)}function Fm(u,d,v,T){for(var O=u.length,W=T?O:-1;(T?W--:++W<O)&&d(u[W],W,u););return v?oo(u,T?0:W,T?W+1:O):oo(u,T?W+1:0,T?O:W)}function v7(u,d){var v=u;return v instanceof tn&&(v=v.value()),es(d,function(T,O){return O.func.apply(O.thisArg,Kr([T],O.args))},v)}function dv(u,d,v){var T=u.length;if(T<2)return T?hc(u[0]):[];for(var O=-1,W=xe(T);++O<T;)for(var K=u[O],se=-1;++se<T;)se!=O&&(W[O]=ed(W[O]||K,u[se],d,v));return hc(ns(W,1),d,v)}function y7(u,d,v){for(var T=-1,O=u.length,W=d.length,K={};++T<O;){var se=T<W?d[T]:n;v(K,u[T],se)}return K}function pv(u){return li(u)?u:[]}function mv(u){return typeof u=="function"?u:ma}function dc(u,d){return Vt(u)?u:Tv(u,d)?[u]:Y7(rr(u))}var BO=dn;function pc(u,d,v){var T=u.length;return v=v===n?T:v,!d&&v>=T?u:oo(u,d,v)}var b7=_f||function(u){return an.clearTimeout(u)};function w7(u,d){if(d)return u.slice();var v=u.length,T=Ls?Ls(v):new u.constructor(v);return u.copy(T),T}function gv(u){var d=new u.constructor(u.byteLength);return new Oa(d).set(new Oa(u)),d}function zO(u,d){var v=d?gv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.byteLength)}function FO(u){var d=new u.constructor(u.source,Rn.exec(u));return d.lastIndex=u.lastIndex,d}function UO(u){return Dn?en(Dn.call(u)):{}}function x7(u,d){var v=d?gv(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.length)}function S7(u,d){if(u!==d){var v=u!==n,T=u===null,O=u===u,W=Ua(u),K=d!==n,se=d===null,ce=d===d,Re=Ua(d);if(!se&&!Re&&!W&&u>d||W&&K&&ce&&!se&&!Re||T&&K&&ce||!v&&ce||!O)return 1;if(!T&&!W&&!Re&&u<d||Re&&v&&O&&!T&&!W||se&&v&&O||!K&&O||!ce)return-1}return 0}function qO(u,d,v){for(var T=-1,O=u.criteria,W=d.criteria,K=O.length,se=v.length;++T<K;){var ce=S7(O[T],W[T]);if(ce){if(T>=se)return ce;var Re=v[T];return ce*(Re=="desc"?-1:1)}}return u.index-d.index}function T7(u,d,v,T){for(var O=-1,W=u.length,K=v.length,se=-1,ce=d.length,Re=E(W-K,0),Ne=xe(ce+Re),Be=!T;++se<ce;)Ne[se]=d[se];for(;++O<K;)(Be||O<W)&&(Ne[v[O]]=u[O]);for(;Re--;)Ne[se++]=u[O++];return Ne}function k7(u,d,v,T){for(var O=-1,W=u.length,K=-1,se=v.length,ce=-1,Re=d.length,Ne=E(W-se,0),Be=xe(Ne+Re),st=!T;++O<Ne;)Be[O]=u[O];for(var gt=O;++ce<Re;)Be[gt+ce]=d[ce];for(;++K<se;)(st||O<W)&&(Be[gt+v[K]]=u[O++]);return Be}function ha(u,d){var v=-1,T=u.length;for(d||(d=xe(T));++v<T;)d[v]=u[v];return d}function wl(u,d,v,T){var O=!v;v||(v={});for(var W=-1,K=d.length;++W<K;){var se=d[W],ce=T?T(v[se],u[se],se,v,u):n;ce===n&&(ce=u[se]),O?du(v,se,ce):Qh(v,se,ce)}return v}function HO(u,d){return wl(u,Sv(u),d)}function WO(u,d){return wl(u,z7(u),d)}function Um(u,d){return function(v,T){var O=Vt(v)?Ln:fO,W=d?d():{};return O(v,u,Et(T,2),W)}}function xf(u){return dn(function(d,v){var T=-1,O=v.length,W=O>1?v[O-1]:n,K=O>2?v[2]:n;for(W=u.length>3&&typeof W=="function"?(O--,W):n,K&&Ds(v[0],v[1],K)&&(W=O<3?n:W,O=1),d=en(d);++T<O;){var se=v[T];se&&u(d,se,T,W)}return d})}function E7(u,d){return function(v,T){if(v==null)return v;if(!da(v))return u(v,T);for(var O=v.length,W=d?O:-1,K=en(v);(d?W--:++W<O)&&T(K[W],W,K)!==!1;);return v}}function M7(u){return function(d,v,T){for(var O=-1,W=en(d),K=T(d),se=K.length;se--;){var ce=K[u?se:++O];if(v(W[ce],ce,W)===!1)break}return d}}function GO(u,d,v){var T=d&I,O=id(u);function W(){var K=this&&this!==an&&this instanceof W?O:u;return K.apply(T?v:this,arguments)}return W}function C7(u){return function(d){d=rr(d);var v=Po(d)?Ti(d):n,T=v?v[0]:d.charAt(0),O=v?pc(v,1).join(""):d.slice(1);return T[u]()+O}}function Sf(u){return function(d){return es(E8(k8(d).replace(Mn,"")),u,"")}}function id(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=so(u.prototype),T=u.apply(v,d);return qr(T)?T:v}}function $O(u,d,v){var T=id(u);function O(){for(var W=arguments.length,K=xe(W),se=W,ce=Tf(O);se--;)K[se]=arguments[se];var Re=W<3&&K[0]!==ce&&K[W-1]!==ce?[]:Na(K,ce);if(W-=Re.length,W<v)return N7(u,d,qm,O.placeholder,n,K,Re,n,n,v-W);var Ne=this&&this!==an&&this instanceof O?T:u;return nt(Ne,this,K)}return O}function A7(u){return function(d,v,T){var O=en(d);if(!da(d)){var W=Et(v,3);d=qi(d),v=function(se){return W(O[se],se,O)}}var K=u(d,v,T);return K>-1?O[W?d[K]:K]:n}}function I7(u){return mu(function(d){var v=d.length,T=v,O=Ui.prototype.thru;for(u&&d.reverse();T--;){var W=d[T];if(typeof W!="function")throw new xr(a);if(O&&!K&&$m(W)=="wrapper")var K=new Ui([],!0)}for(T=K?T:v;++T<v;){W=d[T];var se=$m(W),ce=se=="wrapper"?wv(W):n;ce&&kv(ce[0])&&ce[1]==(F|A|P|Z)&&!ce[4].length&&ce[9]==1?K=K[$m(ce[0])].apply(K,ce[3]):K=W.length==1&&kv(W)?K[se]():K.thru(W)}return function(){var Re=arguments,Ne=Re[0];if(K&&Re.length==1&&Vt(Ne))return K.plant(Ne).value();for(var Be=0,st=v?d[Be].apply(this,Re):Ne;++Be<v;)st=d[Be].call(this,st);return st}})}function qm(u,d,v,T,O,W,K,se,ce,Re){var Ne=d&F,Be=d&I,st=d&R,gt=d&(A|C),At=d&V,ln=st?n:id(u);function It(){for(var yn=arguments.length,An=xe(yn),qa=yn;qa--;)An[qa]=arguments[qa];if(gt)var Bs=Tf(It),Ha=Ja(An,Bs);if(T&&(An=T7(An,T,O,gt)),W&&(An=k7(An,W,K,gt)),yn-=Ha,gt&&yn<Re){var ui=Na(An,Bs);return N7(u,d,qm,It.placeholder,v,An,ui,se,ce,Re-yn)}var Uo=Be?v:this,yu=st?Uo[u]:u;return yn=An.length,se?An=fD(An,se):At&&yn>1&&An.reverse(),Ne&&ce<yn&&(An.length=ce),this&&this!==an&&this instanceof It&&(yu=ln||id(yu)),yu.apply(Uo,An)}return It}function R7(u,d){return function(v,T){return yO(v,u,d(T),{})}}function Hm(u,d){return function(v,T){var O;if(v===n&&T===n)return d;if(v!==n&&(O=v),T!==n){if(O===n)return T;typeof v=="string"||typeof T=="string"?(v=Fa(v),T=Fa(T)):(v=g7(v),T=g7(T)),O=u(v,T)}return O}}function _v(u){return mu(function(d){return d=on(d,On(Et())),dn(function(v){var T=this;return u(d,function(O){return nt(O,T,v)})})})}function Wm(u,d){d=d===n?" ":Fa(d);var v=d.length;if(v<2)return v?cv(d,u):d;var T=cv(d,lu(u/Si(d)));return Po(d)?pc(Ti(T),0,u).join(""):T.slice(0,u)}function VO(u,d,v,T){var O=d&I,W=id(u);function K(){for(var se=-1,ce=arguments.length,Re=-1,Ne=T.length,Be=xe(Ne+ce),st=this&&this!==an&&this instanceof K?W:u;++Re<Ne;)Be[Re]=T[Re];for(;ce--;)Be[Re++]=arguments[++se];return nt(st,O?v:this,Be)}return K}function P7(u){return function(d,v,T){return T&&typeof T!="number"&&Ds(d,v,T)&&(v=T=n),d=vu(d),v===n?(v=d,d=0):v=vu(v),T=T===n?d<v?1:-1:vu(T),RO(d,v,T,u)}}function Gm(u){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=uo(d),v=uo(v)),u(d,v)}}function N7(u,d,v,T,O,W,K,se,ce,Re){var Ne=d&A,Be=Ne?K:n,st=Ne?n:K,gt=Ne?W:n,At=Ne?n:W;d|=Ne?P:D,d&=~(Ne?D:P),d&k||(d&=~(I|R));var ln=[u,d,O,gt,Be,At,st,se,ce,Re],It=v.apply(n,ln);return kv(u)&&$7(It,ln),It.placeholder=T,V7(It,u,d)}function vv(u){var d=Nr[u];return function(v,T){if(v=uo(v),T=T==null?0:z(nn(T),292),T&&h(v)){var O=(rr(v)+"e").split("e"),W=d(O[0]+"e"+(+O[1]+T));return O=(rr(W)+"e").split("e"),+(O[0]+"e"+(+O[1]-T))}return d(v)}}var ZO=Lr&&1/Fi(new Lr([,-0]))[1]==fe?function(u){return new Lr(u)}:Uv;function L7(u){return function(d){var v=fs(d);return v==$e?us(d):v==Kt?oc(d):eu(d,u(d))}}function pu(u,d,v,T,O,W,K,se){var ce=d&R;if(!ce&&typeof u!="function")throw new xr(a);var Re=T?T.length:0;if(Re||(d&=~(P|D),T=O=n),K=K===n?K:E(nn(K),0),se=se===n?se:nn(se),Re-=O?O.length:0,d&D){var Ne=T,Be=O;T=O=n}var st=ce?n:wv(u),gt=[u,d,v,T,O,Ne,Be,W,K,se];if(st&&lD(gt,st),u=gt[0],d=gt[1],v=gt[2],T=gt[3],O=gt[4],se=gt[9]=gt[9]===n?ce?0:u.length:E(gt[9]-Re,0),!se&&d&(A|C)&&(d&=~(A|C)),!d||d==I)var At=GO(u,d,v);else d==A||d==C?At=$O(u,d,se):(d==P||d==(I|P))&&!O.length?At=VO(u,d,v,T):At=qm.apply(n,gt);var ln=st?p7:$7;return V7(ln(At,gt),u,d)}function O7(u,d,v,T){return u===n||Fo(u,eo[v])&&!Ft.call(T,v)?d:u}function D7(u,d,v,T,O,W){return qr(u)&&qr(d)&&(W.set(d,u),Bm(u,d,n,D7,W),W.delete(d)),u}function YO(u){return od(u)?n:u}function B7(u,d,v,T,O,W){var K=v&b,se=u.length,ce=d.length;if(se!=ce&&!(K&&ce>se))return!1;var Re=W.get(u),Ne=W.get(d);if(Re&&Ne)return Re==d&&Ne==u;var Be=-1,st=!0,gt=v&S?new f0:n;for(W.set(u,d),W.set(d,u);++Be<se;){var At=u[Be],ln=d[Be];if(T)var It=K?T(ln,At,Be,d,u,W):T(At,ln,Be,u,d,W);if(It!==n){if(It)continue;st=!1;break}if(gt){if(!hl(d,function(yn,An){if(!oa(gt,An)&&(At===yn||O(At,yn,v,T,W)))return gt.push(An)})){st=!1;break}}else if(!(At===ln||O(At,ln,v,T,W))){st=!1;break}}return W.delete(u),W.delete(d),st}function jO(u,d,v,T,O,W,K){switch(v){case wn:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case Yn:return!(u.byteLength!=d.byteLength||!W(new Oa(u),new Oa(d)));case Pe:case ge:case ct:return Fo(+u,+d);case ze:return u.name==d.name&&u.message==d.message;case cn:case Vn:return u==d+"";case $e:var se=us;case Kt:var ce=T&b;if(se||(se=Fi),u.size!=d.size&&!ce)return!1;var Re=K.get(u);if(Re)return Re==d;T|=S,K.set(u,d);var Ne=B7(se(u),se(d),T,O,W,K);return K.delete(u),Ne;case Nn:if(Dn)return Dn.call(u)==Dn.call(d)}return!1}function KO(u,d,v,T,O,W){var K=v&b,se=yv(u),ce=se.length,Re=yv(d),Ne=Re.length;if(ce!=Ne&&!K)return!1;for(var Be=ce;Be--;){var st=se[Be];if(!(K?st in d:Ft.call(d,st)))return!1}var gt=W.get(u),At=W.get(d);if(gt&&At)return gt==d&&At==u;var ln=!0;W.set(u,d),W.set(d,u);for(var It=K;++Be<ce;){st=se[Be];var yn=u[st],An=d[st];if(T)var qa=K?T(An,yn,st,d,u,W):T(yn,An,st,u,d,W);if(!(qa===n?yn===An||O(yn,An,v,T,W):qa)){ln=!1;break}It||(It=st=="constructor")}if(ln&&!It){var Bs=u.constructor,Ha=d.constructor;Bs!=Ha&&"constructor"in u&&"constructor"in d&&!(typeof Bs=="function"&&Bs instanceof Bs&&typeof Ha=="function"&&Ha instanceof Ha)&&(ln=!1)}return W.delete(u),W.delete(d),ln}function mu(u){return Mv(W7(u,n,J7),u+"")}function yv(u){return r7(u,qi,Sv)}function bv(u){return r7(u,pa,z7)}var wv=Cn?function(u){return Cn.get(u)}:Uv;function $m(u){for(var d=u.name+"",v=or[d],T=Ft.call(or,d)?v.length:0;T--;){var O=v[T],W=O.func;if(W==null||W==u)return O.name}return d}function Tf(u){var d=Ft.call(U,"placeholder")?U:u;return d.placeholder}function Et(){var u=U.iteratee||zv;return u=u===zv?a7:u,arguments.length?u(arguments[0],arguments[1]):u}function Vm(u,d){var v=u.__data__;return iD(d)?v[typeof d=="string"?"string":"hash"]:v.map}function xv(u){for(var d=qi(u),v=d.length;v--;){var T=d[v],O=u[T];d[v]=[T,O,q7(O)]}return d}function p0(u,d){var v=Ro(u,d);return s7(v)?v:n}function XO(u){var d=Ft.call(u,za),v=u[za];try{u[za]=n;var T=!0}catch{}var O=Do.call(u);return T&&(d?u[za]=v:delete u[za]),O}var Sv=c0?function(u){return u==null?[]:(u=en(u),Qt(c0(u),function(d){return lc.call(u,d)}))}:qv,z7=c0?function(u){for(var d=[];u;)Kr(d,Sv(u)),u=Da(u);return d}:qv,fs=Os;(Ze&&fs(new Ze(new ArrayBuffer(1)))!=wn||vt&&fs(new vt)!=$e||Ht&&fs(Ht.resolve())!=Ve||Lr&&fs(new Lr)!=Kt||mr&&fs(new mr)!=dr)&&(fs=function(u){var d=Os(u),v=d==dt?u.constructor:n,T=v?m0(v):"";if(T)switch(T){case io:return wn;case Yh:return $e;case jh:return Ve;case yf:return Kt;case Kh:return dr}return d});function JO(u,d,v){for(var T=-1,O=v.length;++T<O;){var W=v[T],K=W.size;switch(W.type){case"drop":u+=K;break;case"dropRight":d-=K;break;case"take":d=z(d,u+K);break;case"takeRight":u=E(u,d-K);break}}return{start:u,end:d}}function QO(u){var d=u.match(xs);return d?d[1].split(Ur):[]}function F7(u,d,v){d=dc(d,u);for(var T=-1,O=d.length,W=!1;++T<O;){var K=xl(d[T]);if(!(W=u!=null&&v(u,K)))break;u=u[K]}return W||++T!=O?W:(O=u==null?0:u.length,!!O&&Qm(O)&&gu(K,O)&&(Vt(u)||g0(u)))}function eD(u){var d=u.length,v=new u.constructor(d);return d&&typeof u[0]=="string"&&Ft.call(u,"index")&&(v.index=u.index,v.input=u.input),v}function U7(u){return typeof u.constructor=="function"&&!sd(u)?so(Da(u)):{}}function tD(u,d,v){var T=u.constructor;switch(d){case Yn:return gv(u);case Pe:case ge:return new T(+u);case wn:return zO(u,v);case Dr:case Mr:case Rr:case Qn:case Br:case lr:case pt:case fn:case zr:return x7(u,v);case $e:return new T;case ct:case Vn:return new T(u);case cn:return FO(u);case Kt:return new T;case Nn:return UO(u)}}function nD(u,d){var v=d.length;if(!v)return u;var T=v-1;return d[T]=(v>1?"& ":"")+d[T],d=d.join(v>2?", ":" "),u.replace(tt,`{
/* [wrapped with `+d+`] */
`)}function rD(u){return Vt(u)||g0(u)||!!($t&&u&&u[$t])}function gu(u,d){var v=typeof u;return d=d??_e,!!d&&(v=="number"||v!="symbol"&&Ts.test(u))&&u>-1&&u%1==0&&u<d}function Ds(u,d,v){if(!qr(v))return!1;var T=typeof d;return(T=="number"?da(v)&&gu(d,v.length):T=="string"&&d in v)?Fo(v[d],u):!1}function Tv(u,d){if(Vt(u))return!1;var v=typeof u;return v=="number"||v=="symbol"||v=="boolean"||u==null||Ua(u)?!0:Pi.test(u)||!Aa.test(u)||d!=null&&u in en(d)}function iD(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function kv(u){var d=$m(u),v=U[d];if(typeof v!="function"||!(d in tn.prototype))return!1;if(u===v)return!0;var T=wv(v);return!!T&&u===T[0]}function sD(u){return!!La&&La in u}var aD=to?_u:Hv;function sd(u){var d=u&&u.constructor,v=typeof d=="function"&&d.prototype||eo;return u===v}function q7(u){return u===u&&!qr(u)}function H7(u,d){return function(v){return v==null?!1:v[u]===d&&(d!==n||u in en(v))}}function oD(u){var d=Xm(u,function(T){return v.size===f&&v.clear(),T}),v=d.cache;return d}function lD(u,d){var v=u[1],T=d[1],O=v|T,W=O<(I|R|F),K=T==F&&v==A||T==F&&v==Z&&u[7].length<=d[8]||T==(F|Z)&&d[7].length<=d[8]&&v==A;if(!(W||K))return u;T&I&&(u[2]=d[2],O|=v&I?0:k);var se=d[3];if(se){var ce=u[3];u[3]=ce?T7(ce,se,d[4]):se,u[4]=ce?Na(u[3],p):d[4]}return se=d[5],se&&(ce=u[5],u[5]=ce?k7(ce,se,d[6]):se,u[6]=ce?Na(u[5],p):d[6]),se=d[7],se&&(u[7]=se),T&F&&(u[8]=u[8]==null?d[8]:z(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=O,u}function uD(u){var d=[];if(u!=null)for(var v in en(u))d.push(v);return d}function cD(u){return Do.call(u)}function W7(u,d,v){return d=E(d===n?u.length-1:d,0),function(){for(var T=arguments,O=-1,W=E(T.length-d,0),K=xe(W);++O<W;)K[O]=T[d+O];O=-1;for(var se=xe(d+1);++O<d;)se[O]=T[O];return se[d]=v(K),nt(u,this,se)}}function G7(u,d){return d.length<2?u:d0(u,oo(d,0,-1))}function fD(u,d){for(var v=u.length,T=z(d.length,v),O=ha(u);T--;){var W=d[T];u[T]=gu(W,v)?O[W]:n}return u}function Ev(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var $7=Z7(p7),ad=Zh||function(u,d){return an.setTimeout(u,d)},Mv=Z7(LO);function V7(u,d,v){var T=d+"";return Mv(u,nD(T,hD(QO(T),v)))}function Z7(u){var d=0,v=0;return function(){var T=te(),O=he-(T-v);if(v=T,O>0){if(++d>=J)return arguments[0]}else d=0;return u.apply(n,arguments)}}function Zm(u,d){var v=-1,T=u.length,O=T-1;for(d=d===n?T:d;++v<d;){var W=uv(v,O),K=u[W];u[W]=u[v],u[v]=K}return u.length=d,u}var Y7=oD(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(Js,function(v,T,O,W){d.push(O?W.replace(Ss,"$1"):T||v)}),d});function xl(u){if(typeof u=="string"||Ua(u))return u;var d=u+"";return d=="0"&&1/u==-fe?"-0":d}function m0(u){if(u!=null){try{return au.call(u)}catch{}try{return u+""}catch{}}return""}function hD(u,d){return Gt(Ce,function(v){var T="_."+v[0];d&v[1]&&!Sn(u,T)&&u.push(T)}),u.sort()}function j7(u){if(u instanceof tn)return u.clone();var d=new Ui(u.__wrapped__,u.__chain__);return d.__actions__=ha(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function dD(u,d,v){(v?Ds(u,d,v):d===n)?d=1:d=E(nn(d),0);var T=u==null?0:u.length;if(!T||d<1)return[];for(var O=0,W=0,K=xe(lu(T/d));O<T;)K[W++]=oo(u,O,O+=d);return K}function pD(u){for(var d=-1,v=u==null?0:u.length,T=0,O=[];++d<v;){var W=u[d];W&&(O[T++]=W)}return O}function mD(){var u=arguments.length;if(!u)return[];for(var d=xe(u-1),v=arguments[0],T=u;T--;)d[T-1]=arguments[T];return Kr(Vt(v)?ha(v):[v],ns(d,1))}var gD=dn(function(u,d){return li(u)?ed(u,ns(d,1,li,!0)):[]}),_D=dn(function(u,d){var v=lo(d);return li(v)&&(v=n),li(u)?ed(u,ns(d,1,li,!0),Et(v,2)):[]}),vD=dn(function(u,d){var v=lo(d);return li(v)&&(v=n),li(u)?ed(u,ns(d,1,li,!0),n,v):[]});function yD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),oo(u,d<0?0:d,T)):[]}function bD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,oo(u,0,d<0?0:d)):[]}function wD(u,d){return u&&u.length?Fm(u,Et(d,3),!0,!0):[]}function xD(u,d){return u&&u.length?Fm(u,Et(d,3),!0):[]}function SD(u,d,v,T){var O=u==null?0:u.length;return O?(v&&typeof v!="number"&&Ds(u,d,v)&&(v=0,T=O),mO(u,d,v,T)):[]}function K7(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),Tn(u,Et(d,3),O)}function X7(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T-1;return v!==n&&(O=nn(v),O=v<0?E(T+O,0):z(O,T-1)),Tn(u,Et(d,3),O,!0)}function J7(u){var d=u==null?0:u.length;return d?ns(u,1):[]}function TD(u){var d=u==null?0:u.length;return d?ns(u,fe):[]}function kD(u,d){var v=u==null?0:u.length;return v?(d=d===n?1:nn(d),ns(u,d)):[]}function ED(u){for(var d=-1,v=u==null?0:u.length,T={};++d<v;){var O=u[d];T[O[0]]=O[1]}return T}function Q7(u){return u&&u.length?u[0]:n}function MD(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=v==null?0:nn(v);return O<0&&(O=E(T+O,0)),As(u,d,O)}function CD(u){var d=u==null?0:u.length;return d?oo(u,0,-1):[]}var AD=dn(function(u){var d=on(u,pv);return d.length&&d[0]===u[0]?iv(d):[]}),ID=dn(function(u){var d=lo(u),v=on(u,pv);return d===lo(v)?d=n:v.pop(),v.length&&v[0]===u[0]?iv(v,Et(d,2)):[]}),RD=dn(function(u){var d=lo(u),v=on(u,pv);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===u[0]?iv(v,n,d):[]});function PD(u,d){return u==null?"":_.call(u,d)}function lo(u){var d=u==null?0:u.length;return d?u[d-1]:n}function ND(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var O=T;return v!==n&&(O=nn(v),O=O<0?E(T+O,0):z(O,T-1)),d===d?gl(u,d,O):Tn(u,gi,O,!0)}function LD(u,d){return u&&u.length?c7(u,nn(d)):n}var OD=dn(e8);function e8(u,d){return u&&u.length&&d&&d.length?lv(u,d):u}function DD(u,d,v){return u&&u.length&&d&&d.length?lv(u,d,Et(v,2)):u}function BD(u,d,v){return u&&u.length&&d&&d.length?lv(u,d,n,v):u}var zD=mu(function(u,d){var v=u==null?0:u.length,T=ev(u,d);return d7(u,on(d,function(O){return gu(O,v)?+O:O}).sort(S7)),T});function FD(u,d){var v=[];if(!(u&&u.length))return v;var T=-1,O=[],W=u.length;for(d=Et(d,3);++T<W;){var K=u[T];d(K,T,u)&&(v.push(K),O.push(T))}return d7(u,O),v}function Cv(u){return u==null?u:Me.call(u)}function UD(u,d,v){var T=u==null?0:u.length;return T?(v&&typeof v!="number"&&Ds(u,d,v)?(d=0,v=T):(d=d==null?0:nn(d),v=v===n?T:nn(v)),oo(u,d,v)):[]}function qD(u,d){return zm(u,d)}function HD(u,d,v){return fv(u,d,Et(v,2))}function WD(u,d){var v=u==null?0:u.length;if(v){var T=zm(u,d);if(T<v&&Fo(u[T],d))return T}return-1}function GD(u,d){return zm(u,d,!0)}function $D(u,d,v){return fv(u,d,Et(v,2),!0)}function VD(u,d){var v=u==null?0:u.length;if(v){var T=zm(u,d,!0)-1;if(Fo(u[T],d))return T}return-1}function ZD(u){return u&&u.length?m7(u):[]}function YD(u,d){return u&&u.length?m7(u,Et(d,2)):[]}function jD(u){var d=u==null?0:u.length;return d?oo(u,1,d):[]}function KD(u,d,v){return u&&u.length?(d=v||d===n?1:nn(d),oo(u,0,d<0?0:d)):[]}function XD(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:nn(d),d=T-d,oo(u,d<0?0:d,T)):[]}function JD(u,d){return u&&u.length?Fm(u,Et(d,3),!1,!0):[]}function QD(u,d){return u&&u.length?Fm(u,Et(d,3)):[]}var eB=dn(function(u){return hc(ns(u,1,li,!0))}),tB=dn(function(u){var d=lo(u);return li(d)&&(d=n),hc(ns(u,1,li,!0),Et(d,2))}),nB=dn(function(u){var d=lo(u);return d=typeof d=="function"?d:n,hc(ns(u,1,li,!0),n,d)});function rB(u){return u&&u.length?hc(u):[]}function iB(u,d){return u&&u.length?hc(u,Et(d,2)):[]}function sB(u,d){return d=typeof d=="function"?d:n,u&&u.length?hc(u,n,d):[]}function Av(u){if(!(u&&u.length))return[];var d=0;return u=Qt(u,function(v){if(li(v))return d=E(v.length,d),!0}),ac(d,function(v){return on(u,aa(v))})}function t8(u,d){if(!(u&&u.length))return[];var v=Av(u);return d==null?v:on(v,function(T){return nt(d,n,T)})}var aB=dn(function(u,d){return li(u)?ed(u,d):[]}),oB=dn(function(u){return dv(Qt(u,li))}),lB=dn(function(u){var d=lo(u);return li(d)&&(d=n),dv(Qt(u,li),Et(d,2))}),uB=dn(function(u){var d=lo(u);return d=typeof d=="function"?d:n,dv(Qt(u,li),n,d)}),cB=dn(Av);function fB(u,d){return y7(u||[],d||[],Qh)}function hB(u,d){return y7(u||[],d||[],rd)}var dB=dn(function(u){var d=u.length,v=d>1?u[d-1]:n;return v=typeof v=="function"?(u.pop(),v):n,t8(u,v)});function n8(u){var d=U(u);return d.__chain__=!0,d}function pB(u,d){return d(u),u}function Ym(u,d){return d(u)}var mB=mu(function(u){var d=u.length,v=d?u[0]:0,T=this.__wrapped__,O=function(W){return ev(W,u)};return d>1||this.__actions__.length||!(T instanceof tn)||!gu(v)?this.thru(O):(T=T.slice(v,+v+(d?1:0)),T.__actions__.push({func:Ym,args:[O],thisArg:n}),new Ui(T,this.__chain__).thru(function(W){return d&&!W.length&&W.push(n),W}))});function gB(){return n8(this)}function _B(){return new Ui(this.value(),this.__chain__)}function vB(){this.__values__===n&&(this.__values__=g8(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function yB(){return this}function bB(u){for(var d,v=this;v instanceof uc;){var T=j7(v);T.__index__=0,T.__values__=n,d?O.__wrapped__=T:d=T;var O=T;v=v.__wrapped__}return O.__wrapped__=u,d}function wB(){var u=this.__wrapped__;if(u instanceof tn){var d=u;return this.__actions__.length&&(d=new tn(this)),d=d.reverse(),d.__actions__.push({func:Ym,args:[Cv],thisArg:n}),new Ui(d,this.__chain__)}return this.thru(Cv)}function xB(){return v7(this.__wrapped__,this.__actions__)}var SB=Um(function(u,d,v){Ft.call(u,v)?++u[v]:du(u,v,1)});function TB(u,d,v){var T=Vt(u)?Nt:pO;return v&&Ds(u,d,v)&&(d=n),T(u,Et(d,3))}function kB(u,d){var v=Vt(u)?Qt:t7;return v(u,Et(d,3))}var EB=A7(K7),MB=A7(X7);function CB(u,d){return ns(jm(u,d),1)}function AB(u,d){return ns(jm(u,d),fe)}function IB(u,d,v){return v=v===n?1:nn(v),ns(jm(u,d),v)}function r8(u,d){var v=Vt(u)?Gt:fc;return v(u,Et(d,3))}function i8(u,d){var v=Vt(u)?ar:e7;return v(u,Et(d,3))}var RB=Um(function(u,d,v){Ft.call(u,v)?u[v].push(d):du(u,v,[d])});function PB(u,d,v,T){u=da(u)?u:Ef(u),v=v&&!T?nn(v):0;var O=u.length;return v<0&&(v=E(O+v,0)),e1(u)?v<=O&&u.indexOf(d,v)>-1:!!O&&As(u,d,v)>-1}var NB=dn(function(u,d,v){var T=-1,O=typeof d=="function",W=da(u)?xe(u.length):[];return fc(u,function(K){W[++T]=O?nt(d,K,v):td(K,d,v)}),W}),LB=Um(function(u,d,v){du(u,v,d)});function jm(u,d){var v=Vt(u)?on:o7;return v(u,Et(d,3))}function OB(u,d,v,T){return u==null?[]:(Vt(d)||(d=d==null?[]:[d]),v=T?n:v,Vt(v)||(v=v==null?[]:[v]),f7(u,d,v))}var DB=Um(function(u,d,v){u[v?0:1].push(d)},function(){return[[],[]]});function BB(u,d,v){var T=Vt(u)?es:Ql,O=arguments.length<3;return T(u,Et(d,4),v,O,fc)}function zB(u,d,v){var T=Vt(u)?fl:Ql,O=arguments.length<3;return T(u,Et(d,4),v,O,e7)}function FB(u,d){var v=Vt(u)?Qt:t7;return v(u,Jm(Et(d,3)))}function UB(u){var d=Vt(u)?K6:PO;return d(u)}function qB(u,d,v){(v?Ds(u,d,v):d===n)?d=1:d=nn(d);var T=Vt(u)?uO:NO;return T(u,d)}function HB(u){var d=Vt(u)?cO:OO;return d(u)}function WB(u){if(u==null)return 0;if(da(u))return e1(u)?Si(u):u.length;var d=fs(u);return d==$e||d==Kt?u.size:av(u).length}function GB(u,d,v){var T=Vt(u)?hl:DO;return v&&Ds(u,d,v)&&(d=n),T(u,Et(d,3))}var $B=dn(function(u,d){if(u==null)return[];var v=d.length;return v>1&&Ds(u,d[0],d[1])?d=[]:v>2&&Ds(d[0],d[1],d[2])&&(d=[d[0]]),f7(u,ns(d,1),[])}),Km=vf||function(){return an.Date.now()};function VB(u,d){if(typeof d!="function")throw new xr(a);return u=nn(u),function(){if(--u<1)return d.apply(this,arguments)}}function s8(u,d,v){return d=v?n:d,d=u&&d==null?u.length:d,pu(u,F,n,n,n,n,d)}function a8(u,d){var v;if(typeof d!="function")throw new xr(a);return u=nn(u),function(){return--u>0&&(v=d.apply(this,arguments)),u<=1&&(d=n),v}}var Iv=dn(function(u,d,v){var T=I;if(v.length){var O=Na(v,Tf(Iv));T|=P}return pu(u,T,d,v,O)}),o8=dn(function(u,d,v){var T=I|R;if(v.length){var O=Na(v,Tf(o8));T|=P}return pu(d,T,u,v,O)});function l8(u,d,v){d=v?n:d;var T=pu(u,A,n,n,n,n,n,d);return T.placeholder=l8.placeholder,T}function u8(u,d,v){d=v?n:d;var T=pu(u,C,n,n,n,n,n,d);return T.placeholder=u8.placeholder,T}function c8(u,d,v){var T,O,W,K,se,ce,Re=0,Ne=!1,Be=!1,st=!0;if(typeof u!="function")throw new xr(a);d=uo(d)||0,qr(v)&&(Ne=!!v.leading,Be="maxWait"in v,W=Be?E(uo(v.maxWait)||0,d):W,st="trailing"in v?!!v.trailing:st);function gt(ui){var Uo=T,yu=O;return T=O=n,Re=ui,K=u.apply(yu,Uo),K}function At(ui){return Re=ui,se=ad(yn,d),Ne?gt(ui):K}function ln(ui){var Uo=ui-ce,yu=ui-Re,A8=d-Uo;return Be?z(A8,W-yu):A8}function It(ui){var Uo=ui-ce,yu=ui-Re;return ce===n||Uo>=d||Uo<0||Be&&yu>=W}function yn(){var ui=Km();if(It(ui))return An(ui);se=ad(yn,ln(ui))}function An(ui){return se=n,st&&T?gt(ui):(T=O=n,K)}function qa(){se!==n&&b7(se),Re=0,T=ce=O=se=n}function Bs(){return se===n?K:An(Km())}function Ha(){var ui=Km(),Uo=It(ui);if(T=arguments,O=this,ce=ui,Uo){if(se===n)return At(ce);if(Be)return b7(se),se=ad(yn,d),gt(ce)}return se===n&&(se=ad(yn,d)),K}return Ha.cancel=qa,Ha.flush=Bs,Ha}var ZB=dn(function(u,d){return Q6(u,1,d)}),YB=dn(function(u,d,v){return Q6(u,uo(d)||0,v)});function jB(u){return pu(u,V)}function Xm(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new xr(a);var v=function(){var T=arguments,O=d?d.apply(this,T):T[0],W=v.cache;if(W.has(O))return W.get(O);var K=u.apply(this,T);return v.cache=W.set(O,K)||W,K};return v.cache=new(Xm.Cache||ca),v}Xm.Cache=ca;function Jm(u){if(typeof u!="function")throw new xr(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function KB(u){return a8(2,u)}var XB=BO(function(u,d){d=d.length==1&&Vt(d[0])?on(d[0],On(Et())):on(ns(d,1),On(Et()));var v=d.length;return dn(function(T){for(var O=-1,W=z(T.length,v);++O<W;)T[O]=d[O].call(this,T[O]);return nt(u,this,T)})}),Rv=dn(function(u,d){var v=Na(d,Tf(Rv));return pu(u,P,n,d,v)}),f8=dn(function(u,d){var v=Na(d,Tf(f8));return pu(u,D,n,d,v)}),JB=mu(function(u,d){return pu(u,Z,n,n,n,d)});function QB(u,d){if(typeof u!="function")throw new xr(a);return d=d===n?d:nn(d),dn(u,d)}function ez(u,d){if(typeof u!="function")throw new xr(a);return d=d==null?0:E(nn(d),0),dn(function(v){var T=v[d],O=pc(v,0,d);return T&&Kr(O,T),nt(u,this,O)})}function tz(u,d,v){var T=!0,O=!0;if(typeof u!="function")throw new xr(a);return qr(v)&&(T="leading"in v?!!v.leading:T,O="trailing"in v?!!v.trailing:O),c8(u,d,{leading:T,maxWait:d,trailing:O})}function nz(u){return s8(u,1)}function rz(u,d){return Rv(mv(d),u)}function iz(){if(!arguments.length)return[];var u=arguments[0];return Vt(u)?u:[u]}function sz(u){return ao(u,y)}function az(u,d){return d=typeof d=="function"?d:n,ao(u,y,d)}function oz(u){return ao(u,m|y)}function lz(u,d){return d=typeof d=="function"?d:n,ao(u,m|y,d)}function uz(u,d){return d==null||J6(u,d,qi(d))}function Fo(u,d){return u===d||u!==u&&d!==d}var cz=Gm(rv),fz=Gm(function(u,d){return u>=d}),g0=i7(function(){return arguments}())?i7:function(u){return Xr(u)&&Ft.call(u,"callee")&&!lc.call(u,"callee")},Vt=xe.isArray,hz=cl?On(cl):bO;function da(u){return u!=null&&Qm(u.length)&&!_u(u)}function li(u){return Xr(u)&&da(u)}function dz(u){return u===!0||u===!1||Xr(u)&&Os(u)==Pe}var mc=o||Hv,pz=re?On(re):wO;function mz(u){return Xr(u)&&u.nodeType===1&&!od(u)}function gz(u){if(u==null)return!0;if(da(u)&&(Vt(u)||typeof u=="string"||typeof u.splice=="function"||mc(u)||kf(u)||g0(u)))return!u.length;var d=fs(u);if(d==$e||d==Kt)return!u.size;if(sd(u))return!av(u).length;for(var v in u)if(Ft.call(u,v))return!1;return!0}function _z(u,d){return nd(u,d)}function vz(u,d,v){v=typeof v=="function"?v:n;var T=v?v(u,d):n;return T===n?nd(u,d,n,v):!!T}function Pv(u){if(!Xr(u))return!1;var d=Os(u);return d==ze||d==De||typeof u.message=="string"&&typeof u.name=="string"&&!od(u)}function yz(u){return typeof u=="number"&&h(u)}function _u(u){if(!qr(u))return!1;var d=Os(u);return d==Se||d==Ke||d==ke||d==un}function h8(u){return typeof u=="number"&&u==nn(u)}function Qm(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=_e}function qr(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Xr(u){return u!=null&&typeof u=="object"}var d8=Ae?On(Ae):SO;function bz(u,d){return u===d||sv(u,d,xv(d))}function wz(u,d,v){return v=typeof v=="function"?v:n,sv(u,d,xv(d),v)}function xz(u){return p8(u)&&u!=+u}function Sz(u){if(aD(u))throw new Lt(s);return s7(u)}function Tz(u){return u===null}function kz(u){return u==null}function p8(u){return typeof u=="number"||Xr(u)&&Os(u)==ct}function od(u){if(!Xr(u)||Os(u)!=dt)return!1;var d=Da(u);if(d===null)return!0;var v=Ft.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&au.call(v)==u0}var Nv=qe?On(qe):TO;function Ez(u){return h8(u)&&u>=-_e&&u<=_e}var m8=We?On(We):kO;function e1(u){return typeof u=="string"||!Vt(u)&&Xr(u)&&Os(u)==Vn}function Ua(u){return typeof u=="symbol"||Xr(u)&&Os(u)==Nn}var kf=xt?On(xt):EO;function Mz(u){return u===n}function Cz(u){return Xr(u)&&fs(u)==dr}function Az(u){return Xr(u)&&Os(u)==Ye}var Iz=Gm(ov),Rz=Gm(function(u,d){return u<=d});function g8(u){if(!u)return[];if(da(u))return e1(u)?Ti(u):ha(u);if(ro&&u[ro])return tu(u[ro]());var d=fs(u),v=d==$e?us:d==Kt?Fi:Ef;return v(u)}function vu(u){if(!u)return u===0?u:0;if(u=uo(u),u===fe||u===-fe){var d=u<0?-1:1;return d*me}return u===u?u:0}function nn(u){var d=vu(u),v=d%1;return d===d?v?d-v:d:0}function _8(u){return u?h0(nn(u),0,ee):0}function uo(u){if(typeof u=="number")return u;if(Ua(u))return $;if(qr(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=qr(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=s0(u);var v=Zr.test(u);return v||Ni.test(u)?ic(u.slice(2),v?2:8):yi.test(u)?$:+u}function v8(u){return wl(u,pa(u))}function Pz(u){return u?h0(nn(u),-_e,_e):u===0?u:0}function rr(u){return u==null?"":Fa(u)}var Nz=xf(function(u,d){if(sd(d)||da(d)){wl(d,qi(d),u);return}for(var v in d)Ft.call(d,v)&&Qh(u,v,d[v])}),y8=xf(function(u,d){wl(d,pa(d),u)}),t1=xf(function(u,d,v,T){wl(d,pa(d),u,T)}),Lz=xf(function(u,d,v,T){wl(d,qi(d),u,T)}),Oz=mu(ev);function Dz(u,d){var v=so(u);return d==null?v:X6(v,d)}var Bz=dn(function(u,d){u=en(u);var v=-1,T=d.length,O=T>2?d[2]:n;for(O&&Ds(d[0],d[1],O)&&(T=1);++v<T;)for(var W=d[v],K=pa(W),se=-1,ce=K.length;++se<ce;){var Re=K[se],Ne=u[Re];(Ne===n||Fo(Ne,eo[Re])&&!Ft.call(u,Re))&&(u[Re]=W[Re])}return u}),zz=dn(function(u){return u.push(n,D7),nt(b8,n,u)});function Fz(u,d){return Bi(u,Et(d,3),bl)}function Uz(u,d){return Bi(u,Et(d,3),nv)}function qz(u,d){return u==null?u:tv(u,Et(d,3),pa)}function Hz(u,d){return u==null?u:n7(u,Et(d,3),pa)}function Wz(u,d){return u&&bl(u,Et(d,3))}function Gz(u,d){return u&&nv(u,Et(d,3))}function $z(u){return u==null?[]:Dm(u,qi(u))}function Vz(u){return u==null?[]:Dm(u,pa(u))}function Lv(u,d,v){var T=u==null?n:d0(u,d);return T===n?v:T}function Zz(u,d){return u!=null&&F7(u,d,gO)}function Ov(u,d){return u!=null&&F7(u,d,_O)}var Yz=R7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Do.call(d)),u[d]=v},Bv(ma)),jz=R7(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=Do.call(d)),Ft.call(u,d)?u[d].push(v):u[d]=[v]},Et),Kz=dn(td);function qi(u){return da(u)?j6(u):av(u)}function pa(u){return da(u)?j6(u,!0):MO(u)}function Xz(u,d){var v={};return d=Et(d,3),bl(u,function(T,O,W){du(v,d(T,O,W),T)}),v}function Jz(u,d){var v={};return d=Et(d,3),bl(u,function(T,O,W){du(v,O,d(T,O,W))}),v}var Qz=xf(function(u,d,v){Bm(u,d,v)}),b8=xf(function(u,d,v,T){Bm(u,d,v,T)}),eF=mu(function(u,d){var v={};if(u==null)return v;var T=!1;d=on(d,function(W){return W=dc(W,u),T||(T=W.length>1),W}),wl(u,bv(u),v),T&&(v=ao(v,m|g|y,YO));for(var O=d.length;O--;)hv(v,d[O]);return v});function tF(u,d){return w8(u,Jm(Et(d)))}var nF=mu(function(u,d){return u==null?{}:AO(u,d)});function w8(u,d){if(u==null)return{};var v=on(bv(u),function(T){return[T]});return d=Et(d),h7(u,v,function(T,O){return d(T,O[0])})}function rF(u,d,v){d=dc(d,u);var T=-1,O=d.length;for(O||(O=1,u=n);++T<O;){var W=u==null?n:u[xl(d[T])];W===n&&(T=O,W=v),u=_u(W)?W.call(u):W}return u}function iF(u,d,v){return u==null?u:rd(u,d,v)}function sF(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:rd(u,d,v,T)}var x8=L7(qi),S8=L7(pa);function aF(u,d,v){var T=Vt(u),O=T||mc(u)||kf(u);if(d=Et(d,4),v==null){var W=u&&u.constructor;O?v=T?new W:[]:qr(u)?v=_u(W)?so(Da(u)):{}:v={}}return(O?Gt:bl)(u,function(K,se,ce){return d(v,K,se,ce)}),v}function oF(u,d){return u==null?!0:hv(u,d)}function lF(u,d,v){return u==null?u:_7(u,d,mv(v))}function uF(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:_7(u,d,mv(v),T)}function Ef(u){return u==null?[]:Pa(u,qi(u))}function cF(u){return u==null?[]:Pa(u,pa(u))}function fF(u,d,v){return v===n&&(v=d,d=n),v!==n&&(v=uo(v),v=v===v?v:0),d!==n&&(d=uo(d),d=d===d?d:0),h0(uo(u),d,v)}function hF(u,d,v){return d=vu(d),v===n?(v=d,d=0):v=vu(v),u=uo(u),vO(u,d,v)}function dF(u,d,v){if(v&&typeof v!="boolean"&&Ds(u,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof u=="boolean"&&(v=u,u=n)),u===n&&d===n?(u=0,d=1):(u=vu(u),d===n?(d=u,u=0):d=vu(d)),u>d){var T=u;u=d,d=T}if(v||u%1||d%1){var O=we();return z(u+O*(d-u+ll("1e-"+((O+"").length-1))),d)}return uv(u,d)}var pF=Sf(function(u,d,v){return d=d.toLowerCase(),u+(v?T8(d):d)});function T8(u){return Dv(rr(u).toLowerCase())}function k8(u){return u=rr(u),u&&u.replace(pr,gf).replace(Kl,"")}function mF(u,d,v){u=rr(u),d=Fa(d);var T=u.length;v=v===n?T:h0(nn(v),0,T);var O=v;return v-=d.length,v>=0&&u.slice(v,O)==d}function gF(u){return u=rr(u),u&&ii.test(u)?u.replace(vi,zi):u}function _F(u){return u=rr(u),u&&Co.test(u)?u.replace(fi,"\\$&"):u}var vF=Sf(function(u,d,v){return u+(v?"-":"")+d.toLowerCase()}),yF=Sf(function(u,d,v){return u+(v?" ":"")+d.toLowerCase()}),bF=C7("toLowerCase");function wF(u,d,v){u=rr(u),d=nn(d);var T=d?Si(u):0;if(!d||T>=d)return u;var O=(d-T)/2;return Wm(uu(O),v)+u+Wm(lu(O),v)}function xF(u,d,v){u=rr(u),d=nn(d);var T=d?Si(u):0;return d&&T<d?u+Wm(d-T,v):u}function SF(u,d,v){u=rr(u),d=nn(d);var T=d?Si(u):0;return d&&T<d?Wm(d-T,v)+u:u}function TF(u,d,v){return v||d==null?d=0:d&&(d=+d),de(rr(u).replace(Fr,""),d||0)}function kF(u,d,v){return(v?Ds(u,d,v):d===n)?d=1:d=nn(d),cv(rr(u),d)}function EF(){var u=arguments,d=rr(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var MF=Sf(function(u,d,v){return u+(v?"_":"")+d.toLowerCase()});function CF(u,d,v){return v&&typeof v!="number"&&Ds(u,d,v)&&(d=v=n),v=v===n?ee:v>>>0,v?(u=rr(u),u&&(typeof d=="string"||d!=null&&!Nv(d))&&(d=Fa(d),!d&&Po(u))?pc(Ti(u),0,v):u.split(d,v)):[]}var AF=Sf(function(u,d,v){return u+(v?" ":"")+Dv(d)});function IF(u,d,v){return u=rr(u),v=v==null?0:h0(nn(v),0,u.length),d=Fa(d),u.slice(v,v+d.length)==d}function RF(u,d,v){var T=U.templateSettings;v&&Ds(u,d,v)&&(d=n),u=rr(u),d=t1({},d,T,O7);var O=t1({},d.imports,T.imports,O7),W=qi(O),K=Pa(O,W),se,ce,Re=0,Ne=d.interpolate||ea,Be="__p += '",st=Lo((d.escape||ea).source+"|"+Ne.source+"|"+(Ne===Ri?si:ea).source+"|"+(d.evaluate||ea).source+"|$","g"),gt="//# sourceURL="+(Ft.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ia+"]")+`
`;u.replace(st,function(It,yn,An,qa,Bs,Ha){return An||(An=qa),Be+=u.slice(Re,Ha).replace(jn,o0),yn&&(se=!0,Be+=`' +
__e(`+yn+`) +
'`),Bs&&(ce=!0,Be+=`';
`+Bs+`;
__p += '`),An&&(Be+=`' +
((__t = (`+An+`)) == null ? '' : __t) +
'`),Re=Ha+It.length,It}),Be+=`';
`;var At=Ft.call(d,"variable")&&d.variable;if(!At)Be=`with (obj) {
`+Be+`
}
`;else if(Vr.test(At))throw new Lt(l);Be=(ce?Be.replace(yr,""):Be).replace(Ca,"$1").replace(ri,"$1;"),Be="function("+(At||"obj")+`) {
`+(At?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Be+`return __p
}`;var ln=M8(function(){return gn(W,gt+"return "+Be).apply(n,K)});if(ln.source=Be,Pv(ln))throw ln;return ln}function PF(u){return rr(u).toLowerCase()}function NF(u){return rr(u).toUpperCase()}function LF(u,d,v){if(u=rr(u),u&&(v||d===n))return s0(u);if(!u||!(d=Fa(d)))return u;var T=Ti(u),O=Ti(d),W=ts(T,O),K=a0(T,O)+1;return pc(T,W,K).join("")}function OF(u,d,v){if(u=rr(u),u&&(v||d===n))return u.slice(0,ki(u)+1);if(!u||!(d=Fa(d)))return u;var T=Ti(u),O=a0(T,Ti(d))+1;return pc(T,0,O).join("")}function DF(u,d,v){if(u=rr(u),u&&(v||d===n))return u.replace(Fr,"");if(!u||!(d=Fa(d)))return u;var T=Ti(u),O=ts(T,Ti(d));return pc(T,O).join("")}function BF(u,d){var v=Y,T=H;if(qr(d)){var O="separator"in d?d.separator:O;v="length"in d?nn(d.length):v,T="omission"in d?Fa(d.omission):T}u=rr(u);var W=u.length;if(Po(u)){var K=Ti(u);W=K.length}if(v>=W)return u;var se=v-Si(T);if(se<1)return T;var ce=K?pc(K,0,se).join(""):u.slice(0,se);if(O===n)return ce+T;if(K&&(se+=ce.length-se),Nv(O)){if(u.slice(se).search(O)){var Re,Ne=ce;for(O.global||(O=Lo(O.source,rr(Rn.exec(O))+"g")),O.lastIndex=0;Re=O.exec(Ne);)var Be=Re.index;ce=ce.slice(0,Be===n?se:Be)}}else if(u.indexOf(Fa(O),se)!=se){var st=ce.lastIndexOf(O);st>-1&&(ce=ce.slice(0,st))}return ce+T}function zF(u){return u=rr(u),u&&qt.test(u)?u.replace(er,ru):u}var FF=Sf(function(u,d,v){return u+(v?" ":"")+d.toUpperCase()}),Dv=C7("toUpperCase");function E8(u,d,v){return u=rr(u),d=v?n:d,d===n?la(u)?vl(u):i0(u):u.match(d)||[]}var M8=dn(function(u,d){try{return nt(u,n,d)}catch(v){return Pv(v)?v:new Lt(v)}}),UF=mu(function(u,d){return Gt(d,function(v){v=xl(v),du(u,v,Iv(u[v],u))}),u});function qF(u){var d=u==null?0:u.length,v=Et();return u=d?on(u,function(T){if(typeof T[1]!="function")throw new xr(a);return[v(T[0]),T[1]]}):[],dn(function(T){for(var O=-1;++O<d;){var W=u[O];if(nt(W[0],this,T))return nt(W[1],this,T)}})}function HF(u){return dO(ao(u,m))}function Bv(u){return function(){return u}}function WF(u,d){return u==null||u!==u?d:u}var GF=I7(),$F=I7(!0);function ma(u){return u}function zv(u){return a7(typeof u=="function"?u:ao(u,m))}function VF(u){return l7(ao(u,m))}function ZF(u,d){return u7(u,ao(d,m))}var YF=dn(function(u,d){return function(v){return td(v,u,d)}}),jF=dn(function(u,d){return function(v){return td(u,v,d)}});function Fv(u,d,v){var T=qi(d),O=Dm(d,T);v==null&&!(qr(d)&&(O.length||!T.length))&&(v=d,d=u,u=this,O=Dm(d,qi(d)));var W=!(qr(v)&&"chain"in v)||!!v.chain,K=_u(u);return Gt(O,function(se){var ce=d[se];u[se]=ce,K&&(u.prototype[se]=function(){var Re=this.__chain__;if(W||Re){var Ne=u(this.__wrapped__),Be=Ne.__actions__=ha(this.__actions__);return Be.push({func:ce,args:arguments,thisArg:u}),Ne.__chain__=Re,Ne}return ce.apply(u,Kr([this.value()],arguments))})}),u}function KF(){return an._===this&&(an._=Rs),this}function Uv(){}function XF(u){return u=nn(u),dn(function(d){return c7(d,u)})}var JF=_v(on),QF=_v(Nt),eU=_v(hl);function C8(u){return Tv(u)?aa(xl(u)):IO(u)}function tU(u){return function(d){return u==null?n:d0(u,d)}}var nU=P7(),rU=P7(!0);function qv(){return[]}function Hv(){return!1}function iU(){return{}}function sU(){return""}function aU(){return!0}function oU(u,d){if(u=nn(u),u<1||u>_e)return[];var v=ee,T=z(u,ee);d=Et(d),u-=ee;for(var O=ac(T,d);++v<u;)d(v);return O}function lU(u){return Vt(u)?on(u,xl):Ua(u)?[u]:ha(Y7(rr(u)))}function uU(u){var d=++l0;return rr(u)+d}var cU=Hm(function(u,d){return u+d},0),fU=vv("ceil"),hU=Hm(function(u,d){return u/d},1),dU=vv("floor");function pU(u){return u&&u.length?Om(u,ma,rv):n}function mU(u,d){return u&&u.length?Om(u,Et(d,2),rv):n}function gU(u){return sc(u,ma)}function _U(u,d){return sc(u,Et(d,2))}function vU(u){return u&&u.length?Om(u,ma,ov):n}function yU(u,d){return u&&u.length?Om(u,Et(d,2),ov):n}var bU=Hm(function(u,d){return u*d},1),wU=vv("round"),xU=Hm(function(u,d){return u-d},0);function SU(u){return u&&u.length?ml(u,ma):0}function TU(u,d){return u&&u.length?ml(u,Et(d,2)):0}return U.after=VB,U.ary=s8,U.assign=Nz,U.assignIn=y8,U.assignInWith=t1,U.assignWith=Lz,U.at=Oz,U.before=a8,U.bind=Iv,U.bindAll=UF,U.bindKey=o8,U.castArray=iz,U.chain=n8,U.chunk=dD,U.compact=pD,U.concat=mD,U.cond=qF,U.conforms=HF,U.constant=Bv,U.countBy=SB,U.create=Dz,U.curry=l8,U.curryRight=u8,U.debounce=c8,U.defaults=Bz,U.defaultsDeep=zz,U.defer=ZB,U.delay=YB,U.difference=gD,U.differenceBy=_D,U.differenceWith=vD,U.drop=yD,U.dropRight=bD,U.dropRightWhile=wD,U.dropWhile=xD,U.fill=SD,U.filter=kB,U.flatMap=CB,U.flatMapDeep=AB,U.flatMapDepth=IB,U.flatten=J7,U.flattenDeep=TD,U.flattenDepth=kD,U.flip=jB,U.flow=GF,U.flowRight=$F,U.fromPairs=ED,U.functions=$z,U.functionsIn=Vz,U.groupBy=RB,U.initial=CD,U.intersection=AD,U.intersectionBy=ID,U.intersectionWith=RD,U.invert=Yz,U.invertBy=jz,U.invokeMap=NB,U.iteratee=zv,U.keyBy=LB,U.keys=qi,U.keysIn=pa,U.map=jm,U.mapKeys=Xz,U.mapValues=Jz,U.matches=VF,U.matchesProperty=ZF,U.memoize=Xm,U.merge=Qz,U.mergeWith=b8,U.method=YF,U.methodOf=jF,U.mixin=Fv,U.negate=Jm,U.nthArg=XF,U.omit=eF,U.omitBy=tF,U.once=KB,U.orderBy=OB,U.over=JF,U.overArgs=XB,U.overEvery=QF,U.overSome=eU,U.partial=Rv,U.partialRight=f8,U.partition=DB,U.pick=nF,U.pickBy=w8,U.property=C8,U.propertyOf=tU,U.pull=OD,U.pullAll=e8,U.pullAllBy=DD,U.pullAllWith=BD,U.pullAt=zD,U.range=nU,U.rangeRight=rU,U.rearg=JB,U.reject=FB,U.remove=FD,U.rest=QB,U.reverse=Cv,U.sampleSize=qB,U.set=iF,U.setWith=sF,U.shuffle=HB,U.slice=UD,U.sortBy=$B,U.sortedUniq=ZD,U.sortedUniqBy=YD,U.split=CF,U.spread=ez,U.tail=jD,U.take=KD,U.takeRight=XD,U.takeRightWhile=JD,U.takeWhile=QD,U.tap=pB,U.throttle=tz,U.thru=Ym,U.toArray=g8,U.toPairs=x8,U.toPairsIn=S8,U.toPath=lU,U.toPlainObject=v8,U.transform=aF,U.unary=nz,U.union=eB,U.unionBy=tB,U.unionWith=nB,U.uniq=rB,U.uniqBy=iB,U.uniqWith=sB,U.unset=oF,U.unzip=Av,U.unzipWith=t8,U.update=lF,U.updateWith=uF,U.values=Ef,U.valuesIn=cF,U.without=aB,U.words=E8,U.wrap=rz,U.xor=oB,U.xorBy=lB,U.xorWith=uB,U.zip=cB,U.zipObject=fB,U.zipObjectDeep=hB,U.zipWith=dB,U.entries=x8,U.entriesIn=S8,U.extend=y8,U.extendWith=t1,Fv(U,U),U.add=cU,U.attempt=M8,U.camelCase=pF,U.capitalize=T8,U.ceil=fU,U.clamp=fF,U.clone=sz,U.cloneDeep=oz,U.cloneDeepWith=lz,U.cloneWith=az,U.conformsTo=uz,U.deburr=k8,U.defaultTo=WF,U.divide=hU,U.endsWith=mF,U.eq=Fo,U.escape=gF,U.escapeRegExp=_F,U.every=TB,U.find=EB,U.findIndex=K7,U.findKey=Fz,U.findLast=MB,U.findLastIndex=X7,U.findLastKey=Uz,U.floor=dU,U.forEach=r8,U.forEachRight=i8,U.forIn=qz,U.forInRight=Hz,U.forOwn=Wz,U.forOwnRight=Gz,U.get=Lv,U.gt=cz,U.gte=fz,U.has=Zz,U.hasIn=Ov,U.head=Q7,U.identity=ma,U.includes=PB,U.indexOf=MD,U.inRange=hF,U.invoke=Kz,U.isArguments=g0,U.isArray=Vt,U.isArrayBuffer=hz,U.isArrayLike=da,U.isArrayLikeObject=li,U.isBoolean=dz,U.isBuffer=mc,U.isDate=pz,U.isElement=mz,U.isEmpty=gz,U.isEqual=_z,U.isEqualWith=vz,U.isError=Pv,U.isFinite=yz,U.isFunction=_u,U.isInteger=h8,U.isLength=Qm,U.isMap=d8,U.isMatch=bz,U.isMatchWith=wz,U.isNaN=xz,U.isNative=Sz,U.isNil=kz,U.isNull=Tz,U.isNumber=p8,U.isObject=qr,U.isObjectLike=Xr,U.isPlainObject=od,U.isRegExp=Nv,U.isSafeInteger=Ez,U.isSet=m8,U.isString=e1,U.isSymbol=Ua,U.isTypedArray=kf,U.isUndefined=Mz,U.isWeakMap=Cz,U.isWeakSet=Az,U.join=PD,U.kebabCase=vF,U.last=lo,U.lastIndexOf=ND,U.lowerCase=yF,U.lowerFirst=bF,U.lt=Iz,U.lte=Rz,U.max=pU,U.maxBy=mU,U.mean=gU,U.meanBy=_U,U.min=vU,U.minBy=yU,U.stubArray=qv,U.stubFalse=Hv,U.stubObject=iU,U.stubString=sU,U.stubTrue=aU,U.multiply=bU,U.nth=LD,U.noConflict=KF,U.noop=Uv,U.now=Km,U.pad=wF,U.padEnd=xF,U.padStart=SF,U.parseInt=TF,U.random=dF,U.reduce=BB,U.reduceRight=zB,U.repeat=kF,U.replace=EF,U.result=rF,U.round=wU,U.runInContext=ue,U.sample=UB,U.size=WB,U.snakeCase=MF,U.some=GB,U.sortedIndex=qD,U.sortedIndexBy=HD,U.sortedIndexOf=WD,U.sortedLastIndex=GD,U.sortedLastIndexBy=$D,U.sortedLastIndexOf=VD,U.startCase=AF,U.startsWith=IF,U.subtract=xU,U.sum=SU,U.sumBy=TU,U.template=RF,U.times=oU,U.toFinite=vu,U.toInteger=nn,U.toLength=_8,U.toLower=PF,U.toNumber=uo,U.toSafeInteger=Pz,U.toString=rr,U.toUpper=NF,U.trim=LF,U.trimEnd=OF,U.trimStart=DF,U.truncate=BF,U.unescape=zF,U.uniqueId=uU,U.upperCase=FF,U.upperFirst=Dv,U.each=r8,U.eachRight=i8,U.first=Q7,Fv(U,function(){var u={};return bl(U,function(d,v){Ft.call(U.prototype,v)||(u[v]=d)}),u}(),{chain:!1}),U.VERSION=r,Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),Gt(["drop","take"],function(u,d){tn.prototype[u]=function(v){v=v===n?1:E(nn(v),0);var T=this.__filtered__&&!d?new tn(this):this.clone();return T.__filtered__?T.__takeCount__=z(v,T.__takeCount__):T.__views__.push({size:z(v,ee),type:u+(T.__dir__<0?"Right":"")}),T},tn.prototype[u+"Right"]=function(v){return this.reverse()[u](v).reverse()}}),Gt(["filter","map","takeWhile"],function(u,d){var v=d+1,T=v==le||v==pe;tn.prototype[u]=function(O){var W=this.clone();return W.__iteratees__.push({iteratee:Et(O,3),type:v}),W.__filtered__=W.__filtered__||T,W}}),Gt(["head","last"],function(u,d){var v="take"+(d?"Right":"");tn.prototype[u]=function(){return this[v](1).value()[0]}}),Gt(["initial","tail"],function(u,d){var v="drop"+(d?"":"Right");tn.prototype[u]=function(){return this.__filtered__?new tn(this):this[v](1)}}),tn.prototype.compact=function(){return this.filter(ma)},tn.prototype.find=function(u){return this.filter(u).head()},tn.prototype.findLast=function(u){return this.reverse().find(u)},tn.prototype.invokeMap=dn(function(u,d){return typeof u=="function"?new tn(this):this.map(function(v){return td(v,u,d)})}),tn.prototype.reject=function(u){return this.filter(Jm(Et(u)))},tn.prototype.slice=function(u,d){u=nn(u);var v=this;return v.__filtered__&&(u>0||d<0)?new tn(v):(u<0?v=v.takeRight(-u):u&&(v=v.drop(u)),d!==n&&(d=nn(d),v=d<0?v.dropRight(-d):v.take(d-u)),v)},tn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},tn.prototype.toArray=function(){return this.take(ee)},bl(tn.prototype,function(u,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),T=/^(?:head|last)$/.test(d),O=U[T?"take"+(d=="last"?"Right":""):d],W=T||/^find/.test(d);O&&(U.prototype[d]=function(){var K=this.__wrapped__,se=T?[1]:arguments,ce=K instanceof tn,Re=se[0],Ne=ce||Vt(K),Be=function(yn){var An=O.apply(U,Kr([yn],se));return T&&st?An[0]:An};Ne&&v&&typeof Re=="function"&&Re.length!=1&&(ce=Ne=!1);var st=this.__chain__,gt=!!this.__actions__.length,At=W&&!st,ln=ce&&!gt;if(!W&&Ne){K=ln?K:new tn(this);var It=u.apply(K,se);return It.__actions__.push({func:Ym,args:[Be],thisArg:n}),new Ui(It,st)}return At&&ln?u.apply(this,se):(It=this.thru(Be),At?T?It.value()[0]:It.value():It)})}),Gt(["pop","push","shift","sort","splice","unshift"],function(u){var d=su[u],v=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var O=arguments;if(T&&!this.__chain__){var W=this.value();return d.apply(Vt(W)?W:[],O)}return this[v](function(K){return d.apply(Vt(K)?K:[],O)})}}),bl(tn.prototype,function(u,d){var v=U[d];if(v){var T=v.name+"";Ft.call(or,T)||(or[T]=[]),or[T].push({name:d,func:v})}}),or[qm(n,R).name]=[{name:"wrapper",func:n}],tn.prototype.clone=cc,tn.prototype.reverse=j2,tn.prototype.value=K2,U.prototype.at=mB,U.prototype.chain=gB,U.prototype.commit=_B,U.prototype.next=vB,U.prototype.plant=bB,U.prototype.reverse=wB,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=xB,U.prototype.first=U.prototype.head,ro&&(U.prototype[ro]=yB),U},ua=Qa();xi?((xi.exports=ua)._=ua,wr._=ua):an._=ua}).call(Tc)})(T_,T_.exports);var cue=T_.exports;function mS(t){let e,n,r=t[4]==null?"...":t[4].features.length+" Region/States",i,s,a,l;return{c(){e=Q("button"),n=Le("FocusedCountry : "),i=Le(r),G(e,"class",s="ui button small "+(t[4]==null?"orange  loading":"green"))},m(c,f){_t(c,e,f),N(e,n),N(e,i),a||(l=et(e,"click",t[14]),a=!0)},p(c,f){f&16&&r!==(r=c[4]==null?"...":c[4].features.length+" Region/States")&&wt(i,r),f&16&&s!==(s="ui button small "+(c[4]==null?"orange  loading":"green"))&&G(e,"class",s)},d(c){c&&ft(e),a=!1,l()}}}function gS(t){let e,n,r=t[2]==null?"...":t[2].id+" ("+t[2].features.length+")",i,s,a,l;return{c(){e=Q("button"),n=Le("IMTgrid : "),i=Le(r),G(e,"class",s="ui button small "+(t[2]==null?"orange ":"green")+" "+(t[3]!=null)+"?'loading':''")},m(c,f){_t(c,e,f),N(e,n),N(e,i),a||(l=et(e,"click",t[15]),a=!0)},p(c,f){f&4&&r!==(r=c[2]==null?"...":c[2].id+" ("+c[2].features.length+")")&&wt(i,r),f&12&&s!==(s="ui button small "+(c[2]==null?"orange ":"green")+" "+(c[3]!=null)+"?'loading':''")&&G(e,"class",s)},d(c){c&&ft(e),a=!1,l()}}}function _S(t){let e,n,r=t[5]==null?"...":t[5].name+" ("+t[5].features.length+")",i,s,a,l;return{c(){e=Q("button"),n=Le("SatAntenna : "),i=Le(r),G(e,"class",s="ui button small "+(t[5]==null?"orange  loading":"green"))},m(c,f){_t(c,e,f),N(e,n),N(e,i),a||(l=et(e,"click",t[16]),a=!0)},p(c,f){f&32&&r!==(r=c[5]==null?"...":c[5].name+" ("+c[5].features.length+")")&&wt(i,r),f&32&&s!==(s="ui button small "+(c[5]==null?"orange  loading":"green"))&&G(e,"class",s)},d(c){c&&ft(e),a=!1,l()}}}function fue(t){let e,n,r,i,s=(t[1]==null?"...":t[1].length)+"",a,l,c,f,p,m,g,y,b=t[6].FocusCountry.disabled!=!0&&mS(t),S=t[6].IMTgrid.disabled!=!0&&gS(t),I=t[6].SatAntenna.disabled!=!0&&_S(t);return{c(){e=Q("div"),e.textContent="Loading",n=ve(),r=Q("button"),i=Le("WorldMap : "),a=Le(s),c=ve(),b&&b.c(),f=ve(),S&&S.c(),p=ve(),I&&I.c(),m=D_(),G(e,"class","ui"),G(e,"id","bar"),G(r,"class",l="ui button small "+(t[1]==null?"orange  loading":"green"))},m(R,k){_t(R,e,k),_t(R,n,k),_t(R,r,k),N(r,i),N(r,a),_t(R,c,k),b&&b.m(R,k),_t(R,f,k),S&&S.m(R,k),_t(R,p,k),I&&I.m(R,k),_t(R,m,k),g||(y=et(r,"click",t[13]),g=!0)},p(R,[k]){k&2&&s!==(s=(R[1]==null?"...":R[1].length)+"")&&wt(a,s),k&2&&l!==(l="ui button small "+(R[1]==null?"orange  loading":"green"))&&G(r,"class",l),R[6].FocusCountry.disabled!=!0?b?b.p(R,k):(b=mS(R),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null),R[6].IMTgrid.disabled!=!0?S?S.p(R,k):(S=gS(R),S.c(),S.m(p.parentNode,p)):S&&(S.d(1),S=null),R[6].SatAntenna.disabled!=!0?I?I.p(R,k):(I=_S(R),I.c(),I.m(m.parentNode,m)):I&&(I.d(1),I=null)},i:In,o:In,d(R){R&&ft(e),R&&ft(n),R&&ft(r),R&&ft(c),b&&b.d(R),R&&ft(f),S&&S.d(R),R&&ft(p),I&&I.d(R),R&&ft(m),g=!1,y()}}}let hue="/fss/";async function due(t,e){return new Promise((n,r)=>{let i=indexedDB.open("mapinformation",1);i.onsuccess=async()=>{let a=i.result.transaction("globalmap","readwrite").objectStore("globalmap").put(e,t);a.onsuccess=l=>{l.target.result!==void 0?(console.log("saveRecord() Success ",l.target.result),n(l.target.result)):n("saveRecord() EMPTY/Error")},a.onerror=l=>{console.log("saveRecord() WEB WORKER saveRecord Error"),r(l)}}})}function pue(t,e,n){let r,i;Pc(t,df,Y=>n(3,r=Y)),Pc(t,Np,Y=>n(12,i=Y)),console.log("asd");let{mapData:s={GlobalMap:void 0,FocusCountry:{},IMTMap:{},FSSMap:void 0,SatelliteBeam:{},hasFSSPattern:!1,visibleRegion:[]}}=e,a,l,c,f,{logger:p=null}=e,m=["Asia","Oceania"],g={WorldMap:{localpath:"/common/mergedworlds.topojson.json",fspath:"/mergedworlds.topojson.json",type:"json"},FocusCountry:{localpath:"/focused/country/australia.json",fspath:"/australia/australia.json",type:"json"},IMTgrid:{localpath:"/focused/imt/australiaIMTgrid.json",fspath:"/australia/australiaIMTgrid.json",type:"json"},SatAntenna:{localpath:"/focused/fss/GSATgainsLarge.csv",fspath:"/india/GSATgainsLarge.csv",type:"csv"}},{SatelliteBeam:y}=e,b={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5,Name:"AsiaSat"};Zf(()=>{});let{countries:S=[]}=e;Zf(()=>{let Y=Object.keys(g);console.log("Processing keys ",Y),Y.forEach(H=>{var J=g[H].fspath=="";n(6,g[H].disabled=g[H].disabled||J,g)})});async function I(Y){let H="Path Error "+Y,J=g[Y];{if(r!=null)H=await yN(hue+J.fspath);else throw TypeError("UnAuthorrized/Sign");console.log("Online mode ",H)}return H}async function R(){let Y=Object.keys(g);console.log("Processing keys ",Y),n(7,s.visibleRegion=m,s),Y.forEach(H=>{switch(n(6,g[H].disabled=g[H].disabled||!1,g),H){case"WorldMap":I("WorldMap").then(J=>{var he=K1(J);he.then(le=>{let ne=le.filter(pe=>pe.properties.UNRegion!=null);return ne=ne.map((pe,fe)=>(pe.properties.selected=!1,pe.properties.hasIMTgrid=!1,pe.properties.RaRbFactor=!0,pe.properties.indx=fe,pe)),n(1,l=ne),n(7,s.GlobalMap=l,s),C(),Array.from(new Set(l.map(pe=>pe.properties.UNRegion))),n(9,S=dg(Array.from(new Set(l.map((pe,fe)=>({Country:pe.properties.NAMEen,Region:pe.properties.UNRegion,selected:pe.selected||!1,mapGridIndx:fe})))),pe=>pe.Region,pe=>pe.Country)),ne}),p.showStatus("WorldMap",he)}).catch(J=>{console.log("WorldMap",J.toString())});break;case"FocusCountry":if(g.FocusCountry.disabled==!0)break;I("FocusCountry").then(J=>{console.log("Solving ","FocusCountry",J);var he=K1(J);he.then(le=>(n(7,s.FocusCountry=le,s),n(4,a=le),le)),p.showStatus("FocusCountry",he)}).catch(J=>{console.log("FocusCountry",J.toString()),p.appendNode("FocusCountry",J.toString())});break;case"IMTgrid":if(g.IMTgrid.disabled==!0)break;I("IMTgrid").then(J=>{console.log("Solving ","IMTgrid",J);var he=K1(J);he.then(le=>(n(2,c=le),n(7,s.IMTMap=le,s),le)),p.showStatus("IMTgrid",he)}).catch(J=>{p.appendNode("IMTgrid",J.toString())});break;case"SatAntenna":if(n(7,s.hasFSSPattern=!1,s),g.SatAntenna.disabled==!0)break;I("SatAntenna").then(J=>{console.log("Solving ","SatAntenna",J);var he=sE(J,xg).then(le=>(n(5,f=P(le)),n(7,s.FSSMap=f,s),n(7,s.hasFSSPattern=!0,s),f));p.showStatus("SatAntenna",he)}).catch(J=>{console.log("SatAntenna",J.toString()),p.appendNode("SatAntenna",J.toString())});break}}),console.log("Loading files...")}let k;async function A(){console.log("indexdb load"),k=indexedDB.open("mapinformation",1),k.onsuccess=()=>{k.result,console.log("MapData IndexDB indexdb success")},k.onupgradeneeded=function(){let Y=k.result;console.log("MapData IndexDB On upgrade needed"),Y.objectStoreNames.contains("globalmap")?Y.deleteObjectStore("globalmap"):(Y.createObjectStore("globalmap"),console.log("MapData IndexDB Created objsect store globalmap"))}}Zf(A);async function C(){return new Promise((Y,H)=>{let J=indexedDB.open("mapinformation",1);J.onsuccess=()=>{let le=J.result.transaction("globalmap","readwrite").objectStore("globalmap");le.clear(),s.GlobalMap.forEach(ne=>{let pe=le.add(ne,ne.properties.NAMEen);pe.onsuccess=function(){},pe.onerror=function(){console.log("IndexDB Error adding features",pe.error)}}),Y()}})}function P(Y){let J=F0(Y.map(ne=>Lp([ne.Longitude,ne.Latitude],{FSSRxGain:ne.AntennaGain})));J.properties={OffsetGain:-2,EdgeOffsetGain:-3};let he=IN(J,{concavity:2});he.properties={beamtype:"points",hasPoints:!0,OffsetGain:0,EdgeOffsetGain:-3,name:"GSAT boundary"};let le=F0([he,J]);return le.bounds=Wb(J),le.beamtype="pointgrid",le.name="GSAT India Beam",console.log("Processing DONE ",le),le}const D=()=>{p.queueNode("WorldMap",l,{type:"json"})},F=()=>{p.queueNode("FocusCountry",a,{type:"json"})},Z=()=>{p.queueNode("IMTgrid",c,{type:"json"})},V=()=>{console.log("loading ..",f.name),p.queueNode("SatAntenna",f,{type:"json"})};return t.$$set=Y=>{"mapData"in Y&&n(7,s=Y.mapData),"logger"in Y&&n(0,p=Y.logger),"SatelliteBeam"in Y&&n(8,y=Y.SatelliteBeam),"countries"in Y&&n(9,S=Y.countries)},t.$$.update=()=>{if(t.$$.dirty&6&&c!=null&&l!=null){let Y=c.id,H=l.findIndex(J=>J.properties.NAMEen==Y);if(H!=-1){n(1,l[H].properties.hasIMTgrid=!0,l),n(1,l[H].properties.RaRbFactor=!1,l),n(1,l[H].properties.IMTgrid=c,l);let J=l[H];due(Y,J)}}if(t.$$.dirty&4104&&(console.log("Calling RTDB"),r!=null)){let Y=i;bN(Y).then(H=>{console.log("getData() : FilePaths = ",Y,H),n(6,g=H.MapData),n(11,m=H.visibleRegion||[]),console.log("Visiable path getData ",H.visibleRegion),R()}).catch(H=>console.log("Error : getData error",H))}t.$$.dirty&2050&&l!=null&&V1(l,Y=>m.includes(Y.properties.UNRegion))},n(8,y=b),n(7,s.SatelliteBeam=b,s),[p,l,c,r,a,f,g,s,y,S,R,m,i,D,F,Z,V]}class mue extends Ju{constructor(e){super(),Xu(this,e,pue,fue,Va,{mapData:7,logger:0,SatelliteBeam:8,countries:9,loadFiles:10})}get loadFiles(){return this.$$.ctx[10]}}const gue=t=>({}),vS=t=>({}),_ue=t=>({}),yS=t=>({});function vue(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,b,S,I,R,k,A,C,P,D,F,Z,V,Y,H,J,he,le,ne,pe,fe,_e,me,$,ee,ae,Ee,Ce,Oe,be,ke,Pe,ge,De,ze,Se,Ke,$e,ct,Qe,dt,Ve,un,cn,Kt,Vn,Nn,Zn,dr,Ye,Yn,wn,Dr,Mr;const Rr=t[13].header,Qn=py(Rr,t,t[12],yS),Br=t[13].meta,lr=py(Br,t,t[12],vS);return{c(){e=Q("link"),n=ve(),r=Q("dialog"),Qn&&Qn.c(),i=ve(),s=Le(t[1]),a=ve(),l=Q("div"),c=ve(),f=Q("div"),p=Q("div"),m=Q("div"),g=Q("div"),y=Q("div"),b=Q("div"),S=Q("label"),S.textContent="FSS Rx Gain (dBi)",I=ve(),R=Q("input"),k=ve(),A=Q("input"),C=ve(),P=Q("div"),D=Q("label"),D.textContent="Beam (Lng)",F=ve(),Z=Q("input"),V=ve(),Y=Q("input"),H=ve(),J=Q("div"),he=Q("label"),he.textContent="Beam (Lat)",le=ve(),ne=Q("input"),pe=ve(),fe=Q("input"),_e=ve(),me=Q("div"),$=Q("label"),$.textContent="Footprint majorAxis (BMx)",ee=ve(),ae=Q("input"),Ee=ve(),Ce=Q("input"),Oe=ve(),be=Q("div"),ke=Q("label"),ke.textContent="Footprint majorAxis (BMy)",Pe=ve(),ge=Q("input"),De=ve(),ze=Q("input"),Se=ve(),Ke=Q("div"),$e=Q("label"),$e.textContent="Global Footprint Rotate",ct=ve(),Qe=Q("input"),dt=ve(),Ve=Q("input"),un=ve(),cn=Q("div"),Kt=Q("div"),Vn=Q("div"),Vn.textContent="Placeholder",Nn=ve(),Zn=Q("div"),dr=ve(),lr&&lr.c(),Ye=ve(),Yn=Q("button"),Yn.textContent="close modal",document.title="IMT interference to FSS Analysis 2",G(e,"rel","stylesheet"),G(e,"href","../static/css/semantic.min.css"),G(l,"class","ui divider svelte-1imfldp"),G(R,"type","number"),G(R,"step","1"),G(R,"min","10"),G(R,"max","40"),G(A,"type","range"),G(A,"step","1"),G(A,"min","10"),G(A,"max","40"),G(b,"class","field"),G(Z,"type","number"),G(Z,"min","0,"),G(Z,"max","150"),G(Z,"step","0.5"),Z.disabled=!0,G(Z,"size","5"),ms(Z,"width","50px"),G(Y,"type","range"),G(Y,"min","0,"),G(Y,"max","150"),G(Y,"step","0.5"),Y.disabled=!0,G(P,"class","field"),G(ne,"type","number"),G(ne,"min","-90"),G(ne,"max","90"),G(ne,"step","0.5"),G(ne,"size","14"),G(fe,"type","range"),G(fe,"step","0.5"),G(fe,"min","-90"),G(fe,"max","90"),G(fe,"size","14"),G(J,"class","field"),G(ae,"type","number"),G(ae,"step","0.5"),G(ae,"min","10"),G(ae,"max","90"),G(Ce,"type","range"),G(Ce,"step","0.5"),G(Ce,"min","10"),G(Ce,"max","90"),G(me,"class","field"),G(ge,"type","number"),G(ge,"step","0.5"),G(ge,"min","1"),G(ge,"max","90"),G(ze,"type","range"),G(ze,"step","0.5"),G(ze,"min","1"),G(ze,"max","90"),G(be,"class","field"),G(Qe,"type","number"),G(Qe,"step","0.5"),G(Qe,"min","-90"),G(Qe,"max","90"),G(Ve,"type","range"),G(Ve,"step","0.5"),G(Ve,"min","-90"),G(Ve,"max","90"),G(Ke,"class","field"),G(y,"class","ui fields one column grid"),G(g,"class","ui basic segment teal inverted"),G(m,"class","six wide column"),G(Vn,"id","plot"),G(Kt,"class","ui container segment teal"),G(cn,"class","ten wide column"),G(p,"class","ui two column divided grid"),G(Zn,"class","ui divider"),G(f,"class","ui basic segment svelte-1imfldp"),G(Yn,"class","ui primary button floating"),Yn.autofocus=!0,G(r,"class","svelte-1imfldp")},m(pt,fn){N(document.head,e),_t(pt,n,fn),_t(pt,r,fn),Qn&&Qn.m(r,null),N(r,i),N(r,s),N(r,a),N(r,l),N(r,c),N(r,f),N(f,p),N(p,m),N(m,g),N(g,y),N(y,b),N(b,S),N(b,I),N(b,R),ht(R,t[0]),N(b,k),N(b,A),ht(A,t[0]),N(y,C),N(y,P),N(P,D),N(P,F),N(P,Z),ht(Z,t[3].BeamLng),N(P,V),N(P,Y),ht(Y,t[3].BeamLng),N(y,H),N(y,J),N(J,he),N(J,le),N(J,ne),ht(ne,t[3].BeamLat),N(J,pe),N(J,fe),ht(fe,t[3].BeamLat),N(y,_e),N(y,me),N(me,$),N(me,ee),N(me,ae),ht(ae,t[3].rx),N(me,Ee),N(me,Ce),ht(Ce,t[3].rx),N(y,Oe),N(y,be),N(be,ke),N(be,Pe),N(be,ge),ht(ge,t[3].ry),N(be,De),N(be,ze),ht(ze,t[3].ry),N(y,Se),N(y,Ke),N(Ke,$e),N(Ke,ct),N(Ke,Qe),ht(Qe,t[3].theta),N(Ke,dt),N(Ke,Ve),ht(Ve,t[3].theta),N(p,un),N(p,cn),N(cn,Kt),N(Kt,Vn),t[26](Vn),N(f,Nn),N(f,Zn),N(f,dr),lr&&lr.m(f,null),N(r,Ye),N(r,Yn),t[28](r),wn=!0,Yn.focus(),Dr||(Mr=[et(R,"input",t[14]),et(A,"change",t[15]),et(A,"input",t[15]),et(Z,"input",t[16]),et(Y,"change",t[17]),et(Y,"input",t[17]),et(ne,"input",t[18]),et(fe,"change",t[19]),et(fe,"input",t[19]),et(ae,"input",t[20]),et(Ce,"change",t[21]),et(Ce,"input",t[21]),et(ge,"input",t[22]),et(ze,"change",t[23]),et(ze,"input",t[23]),et(Qe,"input",t[24]),et(Ve,"change",t[25]),et(Ve,"input",t[25]),et(Yn,"click",t[27]),et(r,"close",t[5]),et(r,"click",NU(t[5]))],Dr=!0)},p(pt,[fn]){Qn&&Qn.p&&(!wn||fn&4096)&&gy(Qn,Rr,pt,pt[12],wn?my(Rr,pt[12],fn,_ue):_y(pt[12]),yS),(!wn||fn&2)&&wt(s,pt[1]),fn&1&&Yt(R.value)!==pt[0]&&ht(R,pt[0]),fn&1&&ht(A,pt[0]),fn&8&&Yt(Z.value)!==pt[3].BeamLng&&ht(Z,pt[3].BeamLng),fn&8&&ht(Y,pt[3].BeamLng),fn&8&&Yt(ne.value)!==pt[3].BeamLat&&ht(ne,pt[3].BeamLat),fn&8&&ht(fe,pt[3].BeamLat),fn&8&&Yt(ae.value)!==pt[3].rx&&ht(ae,pt[3].rx),fn&8&&ht(Ce,pt[3].rx),fn&8&&Yt(ge.value)!==pt[3].ry&&ht(ge,pt[3].ry),fn&8&&ht(ze,pt[3].ry),fn&8&&Yt(Qe.value)!==pt[3].theta&&ht(Qe,pt[3].theta),fn&8&&ht(Ve,pt[3].theta),lr&&lr.p&&(!wn||fn&4096)&&gy(lr,Br,pt,pt[12],wn?my(Br,pt[12],fn,gue):_y(pt[12]),vS)},i(pt){wn||(qs(Qn,pt),qs(lr,pt),wn=!0)},o(pt){ya(Qn,pt),ya(lr,pt),wn=!1},d(pt){ft(e),pt&&ft(n),pt&&ft(r),Qn&&Qn.d(pt),t[26](null),lr&&lr.d(pt),t[28](null),Dr=!1,tl(Mr)}}}function yue(t,e,n){let{$$slots:r={},$$scope:i}=e,{showModal:s}=e,a,{defaultFootprint:l=void 0}=e,{SatelliteBeam:c}=e,f={BeamLng:105,BeamLat:8,rx:47,ry:30,theta:43.5},{reference:p={}}=e,{SatRxGain:m=20}=e,g=null;Zf(()=>{n(7,l=b(c,m)),S(l),n(8,c=f)});function y(){console.log("update() Fn Called "),n(7,l=b(f,m))}function b(fe,_e){let me=iue([fe.BeamLng,fe.BeamLat],fe.rx,fe.ry,{units:"degrees",steps:96,angle:fe.theta,properties:{beamtype:"shapedbeams",FSSRxGain:_e,OffsetGain:0,EdgeOffsetGain:-50,beamCenter:[fe.BeamLng,fe.BeamLat],angle:fe.theta,rx:fe.rx,ry:fe.ry}});cue.reverse(me.geometry.coordinates[0]);let $;return $=F0([me]),$.beamtype="shapedbeams",$.name="Global Footprint",$.properties={angle:fe.theta,rx:fe.rx,ry:fe.ry,beamCenter:[fe.BeamLng,fe.BeamLat]},$}async function S(fe){if(g==null||f==null||s==!1){console.log("Skip rendering beam");return}console.log("drawPattern() : ");let _e=Yo({projection:{type:"orthographic",rotate:[-f.BeamLng,0]},color:{legend:!0,domain:[10,40],type:"linear",scheme:"BuRd",nice:!0,marginLeft:30,label:"FSS Rx Gain (dBi)",marginRight:30,width:300},marginLeft:0,marginTop:0,marks:[UI(),qI(),Go(p,{stroke:"grey",fill:"white",fillOpacity:.1}),Go(fe,{fill:me=>m,stroke:"orange",fillOpacity:.5})]});n(4,g.innerHTML="",g),g.append(_e)}let{satAngle:I}=e;function R(){n(6,s=!1),a.close(),n(8,c=f),n(7,l=b(f))}function k(){m=Yt(this.value),n(0,m)}function A(){m=Yt(this.value),n(0,m)}function C(){f.BeamLng=Yt(this.value),n(3,f)}function P(){f.BeamLng=Yt(this.value),n(3,f)}function D(){f.BeamLat=Yt(this.value),n(3,f)}function F(){f.BeamLat=Yt(this.value),n(3,f)}function Z(){f.rx=Yt(this.value),n(3,f)}function V(){f.rx=Yt(this.value),n(3,f)}function Y(){f.ry=Yt(this.value),n(3,f)}function H(){f.ry=Yt(this.value),n(3,f)}function J(){f.theta=Yt(this.value),n(3,f)}function he(){f.theta=Yt(this.value),n(3,f)}function le(fe){Rt[fe?"unshift":"push"](()=>{g=fe,n(4,g)})}const ne=()=>a.close();function pe(fe){Rt[fe?"unshift":"push"](()=>{a=fe,n(2,a)})}return t.$$set=fe=>{"showModal"in fe&&n(6,s=fe.showModal),"defaultFootprint"in fe&&n(7,l=fe.defaultFootprint),"SatelliteBeam"in fe&&n(8,c=fe.SatelliteBeam),"reference"in fe&&n(9,p=fe.reference),"SatRxGain"in fe&&n(0,m=fe.SatRxGain),"satAngle"in fe&&n(1,I=fe.satAngle),"$$scope"in fe&&n(12,i=fe.$$scope)},t.$$.update=()=>{t.$$.dirty&68&&a&&s&&a.showModal(),t.$$.dirty&603&&(g!=null&&s==!0?S(b(f,m)):n(7,l=b(f,m)))},[m,I,a,f,g,R,s,l,c,p,y,b,i,r,k,A,C,P,D,F,Z,V,Y,H,J,he,le,ne,pe]}class bue extends Ju{constructor(e){super(),Xu(this,e,yue,vue,Va,{showModal:6,defaultFootprint:7,SatelliteBeam:8,reference:9,SatRxGain:0,update:10,createFootPrint:11,satAngle:1})}get update(){return this.$$.ctx[10]}get createFootPrint(){return this.$$.ctx[11]}}function wue(t){let e,n,r,i,s,a;return{c(){e=Q("button"),e.textContent="RePlot",n=ve(),r=Q("div"),G(e,"class","ui primary button"),G(r,"class",""),po(()=>t[24].call(r))},m(l,c){_t(l,e,c),_t(l,n,c),_t(l,r,c),t[23](r),i=fg(r,t[24].bind(r)),s||(a=et(e,"click",t[2]),s=!0)},p:In,i:In,o:In,d(l){l&&ft(e),l&&ft(n),l&&ft(r),t[23](null),i(),s=!1,a()}}}function xue(t,e,n){let{showModal:r}=e,i,s,a=null,{N0:l}=e;function c(){n(18,i=[])}function f(){n(0,a.innerHTML="",a),a.append(Z),a.append(i),a.append(s),a.append(ne),a.append(V)}let{binnedData:p,stats:m,gainloss:g}=e,{satAngle:y,cr:b,factor:S,Raindx:I,Rbindx:R,SatGainScale:k}=e,{ApplyEIRPMask:A}=e,{MASKOffset:C}=e,P=1,{totalI:D}=e,F,Z,V;function Y(){if(p==null)return;P=S.UrbSurbRatio;let me=gr(p,ae=>ae.totalareasqkm)*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+gr(p,ae=>ae.totalIMTBS*P),$=gr(p,ae=>ae.totalareasqkm)*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+gr(p,ae=>ae.totalIMTBS*(1-P)),ee=me+$;n(20,Z=Yo({width:F,marginLeft:0,marks:[Nf(p,{y:ae=>ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*P,title:ae=>(ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*P).toFixed(0),rotate:-80,textAnchor:"start",x:"x",fill:ae=>b(ae.x)}),Nf(p,{y:ae=>ae.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity+ae.totalIMTBS*(1-P),title:ae=>(ae.totalIMTBS*(1-P)+ae.totalareasqkm*S.SubUrban.Ra*S.SubUrban.Rb*S.SubUrban.BSdensity).toFixed(1),rotate:-90,textAnchor:"start",x:"x",stroke:"grey",strokeOpacity:.5,fill:ae=>b(ae.x)}),w0(p,{y:ae=>ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*P,text:ae=>{var Ee=ae.totalareasqkm*S.Urban.Ra*S.Urban.Rb*S.Urban.BSdensity+ae.totalIMTBS*P;return Ee>100?Hn("2.2~s")(Ee):Hn(".0f")(Math.floor(Ee))},rotate:-80,textAnchor:"start",x:"x",strokeWidth:5,fill:ae=>k(ae.maxRxGain)})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40,tickFormat:ae=>Math.floor(ae)},y:{nice:!0,tickRotate:-40,label:"BS/SectorCount (Ra*Rb*Density)"},caption:`P3 Satellite${y} | Total ${Hn("2.2~s")(ee)} -(${me.toFixed(0)}+${$.toFixed(0)} )Active :${Hn("2.1~s")(ee*S.TDD*S.NW)} | Ra${I.val+1}(${S.Urban.Ra*100}%),Rb${R.val+1}
    (${S.Urban.Rb*100}%)`}))}function H(me){var $=g.find(ee=>ee.el==me);return $!=null?$.CL+$.GL+$.PL:0}function J(me){var $=g.find(ae=>ae.el==me);if($==null)return{UrbanAg:0,SubUrbanAg:0};var ee={UrbanAg:$.UrbanAg,SubUrbanAg:$.SubUrbanAg};return ee.UrbanAg+=A?$.UrbanOffset:0,ee.SubUrbanAg+=A?$.SubUrbanOffset:0,ee}function he(){if(m==null||g==null||p==null)return;let me=ys(p,$=>$.x);n(21,V=Yo({width:F,marks:[Nf(m,{marker:"dot",y:$=>$.suburbandB+J($.x).SubUrbanAg-H($.x)-l,title:$=>$.suburbandB+J($.x).SubUrbanAg-H($.x)-l,x:"x",fill:$=>b($.x)}),S1(m,{marker:"dot",y:$=>$.urbandB+J($.x).UrbanAg-H($.x)-l,title:$=>$.urbandB+J($.x).UrbanAg-H($.x)-l,stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),w0(m,{marker:"dot",y:$=>$.suburbandB+J($.x).SubUrbanAg-H($.x)-l,text:$=>($.suburbandB+J($.x).SubUrbanAg-H($.x)-l).toFixed(0),dy:-5,x:"x"}),Cu(g,{x:"el",y:"UrbanAg",marker:"dot",stroke:"red",tip:!0}),Cu(g,{x:"el",y:"SubUrbanAg",tip:!0,marker:"dot",stroke:"grey"}),db(D,{y:$=>$.I-l,stroke:"Env",title:$=>$.I-l})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:Ws(me[0],me[1]+1),tickFormat:$=>Math.floor($)},color:{legend:!1},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"I/N (dB)"},caption:`P6 : Satellite angle is ${y}`}))}function le(){if(p==null)return;p.map($=>$.x);let me=Hn("2.3~s")(gr(p,$=>$.totalareasqkm));n(18,i=Yo({width:F,marks:[Nf(p,{y:"count",x:"x",fill:$=>b($.x),title:$=>$.x}),w0(p,{y:"count",x:"x",text:"count",dy:-3,rotate:-30,textAnchor:"middle",title:$=>$.x})],grid:!0,x:{nice:!0,tickRotate:-40,tickFormat:$=>Math.floor($)},y:{label:"Number of 1degree grid",nice:!0},caption:`P1 grids vs Elev. angle @ Satellite ${y} `})),n(19,s=Yo({width:F,marks:[Nf(p,{title:$=>$.totalareasqkm+$.totalIMTareasqkm,y:$=>$.totalareasqkm+$.totalIMTareasqkm,x:"x",cumulative:!1,fill:$=>b($.x)}),w0(p,{text:$=>Hn(".2~s")($.totalareasqkm+$.totalIMTareasqkm),y:$=>$.totalareasqkm+$.totalIMTareasqkm,x:"x",cumulative:!1,rotate:-80,textAnchor:"start"})],grid:!0,marginLeft:50,x:{nice:!0,tickRotate:-40},y:{nice:!0,tickRotate:-40,label:"TotalAreasqkm",tickFormat:"~s"},caption:`P2 Satellite angle is ${y} | Total Area: ${me} sqkm`}))}let ne;function pe(){if(g==null||p==null)return;var me=y;let $=ys(p,ee=>ee.x);n(22,ne=Yo({width:F,marks:[Cu(g,{marker:"dot",y:ee=>-ee.CL-ee.GL-ee.PL,title:ee=>-ee.CL-ee.GL-ee.PL,x:ee=>+ee.el,strokeWidth:1,stroke:"green",tip:!0}),S1(m,{marker:"dot",y:ee=>ee.suburbandB,x:"x",stroke:"grey",fill:ee=>b(ee.x)}),S1(m,{marker:"dot",y:ee=>ee.urbandB,x:"x",strokeWidth:2,stroke:"red"}),w0(m,{marker:"dot",y:ee=>ee.suburbandB,x:"x",text:ee=>ee.suburbandB.toFixed(0),dy:-15}),Nf(m,{marker:"dot",y:ee=>ee.suburbandB+J(ee.x).SubUrbanAg-H(ee.x),title:ee=>ee.suburbandB+J(ee.x).SubUrbanAg-H(ee.x),x:"x",fill:ee=>b(ee.x)}),S1(m,{marker:"dot",y:ee=>ee.urbandB+J(ee.x).UrbanAg-H(ee.x),title:ee=>ee.urbandB+J(ee.x).UrbanAg-H(ee.x),stroke:"red",strokeWidth:3,paddingInner:.2,x:"x"}),db(D,{stroke:ee=>ee.Env,y:ee=>ee.I,strokeWidth:3,strokeDasharray:[5,5],title:ee=>ee.I+ee.Env}),w0(D,{y:ee=>ee.I,x:$[1],dy:-5,fontSize:12,textAnchor:"end",text:ee=>ee.Name+` ${ee.I.toFixed(0)}dB `})],grid:!0,marginLeft:50,x:{label:"el",tickRotate:-40,domain:Ws($[0],$[1]+1),tickFormat:ee=>Math.floor(ee)},color:{legend:!0},y:{paddingTop:30,insetTop:10,nice:!0,tickRotate:-40,label:"Losses & Gains (dB)"},caption:`P5: Satellite angle is ${me}`}))}function fe(me){Rt[me?"unshift":"push"](()=>{a=me,n(0,a)})}function _e(){F=this.clientWidth,n(1,F)}return t.$$set=me=>{"showModal"in me&&n(3,r=me.showModal),"N0"in me&&n(4,l=me.N0),"binnedData"in me&&n(6,p=me.binnedData),"stats"in me&&n(7,m=me.stats),"gainloss"in me&&n(8,g=me.gainloss),"satAngle"in me&&n(9,y=me.satAngle),"cr"in me&&n(10,b=me.cr),"factor"in me&&n(11,S=me.factor),"Raindx"in me&&n(12,I=me.Raindx),"Rbindx"in me&&n(13,R=me.Rbindx),"SatGainScale"in me&&n(14,k=me.SatGainScale),"ApplyEIRPMask"in me&&n(15,A=me.ApplyEIRPMask),"MASKOffset"in me&&n(16,C=me.MASKOffset),"totalI"in me&&n(17,D=me.totalI)},t.$$.update=()=>{t.$$.dirty[0]&8,t.$$.dirty[0]&64&&(Y(),le()),t.$$.dirty[0]&448&&(pe(),he()),t.$$.dirty[0]&8126465&&a!=null&&f()},[a,F,f,r,l,c,p,m,g,y,b,S,I,R,k,A,C,D,i,s,Z,V,ne,fe,_e]}class Sue extends Ju{constructor(e){super(),Xu(this,e,xue,wue,Va,{showModal:3,N0:4,Reset:5,binnedData:6,stats:7,gainloss:8,satAngle:9,cr:10,factor:11,Raindx:12,Rbindx:13,SatGainScale:14,ApplyEIRPMask:15,MASKOffset:16,totalI:17},null,[-1,-1])}get Reset(){return this.$$.ctx[5]}}function bS(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function wS(t,e,n){const r=t.slice();return r[7]=e[n],r}function xS(t){let e=t[2].label+"",n,r,i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=SS(wS(t,l,f));return{c(){n=Le(e),r=ve(),i=Q("select");for(let f=0;f<c.length;f+=1)c[f].c();G(i,"class","ui selection dropdown"),t[0]===void 0&&po(()=>t[4].call(i))},m(f,p){_t(f,n,p),_t(f,r,p),_t(f,i,p);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);Sl(i,t[0],!0),s||(a=et(i,"change",t[4]),s=!0)},p(f,p){if(p&4&&e!==(e=f[2].label+"")&&wt(n,e),p&2){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=wS(f,l,m);c[m]?c[m].p(g,p):(c[m]=SS(g),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}p&3&&Sl(i,f[0])},d(f){f&&ft(n),f&&ft(r),f&&ft(i),wc(c,f),s=!1,a()}}}function SS(t){let e,n=t[7]+"",r,i;return{c(){e=Q("option"),r=Le(n),e.__value=i=t[7],e.value=e.__value},m(s,a){_t(s,e,a),N(e,r)},p(s,a){a&2&&n!==(n=s[7]+"")&&wt(r,n),a&2&&i!==(i=s[7])&&(e.__value=i,e.value=e.__value)},d(s){s&&ft(e)}}}function TS(t){let e,n,r=t[2].label+"",i,s,a,l=t[1],c=[];for(let f=0;f<l.length;f+=1)c[f]=kS(bS(t,l,f));return{c(){e=Q("div"),n=Q("label"),i=Le(r),a=ve();for(let f=0;f<c.length;f+=1)c[f].c();G(n,"for",s=t[2].label),G(n,"class","ui label right pointing blue"),G(e,"class","ui container raised segment")},m(f,p){_t(f,e,p),N(e,n),N(n,i),N(e,a);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null)},p(f,p){if(p&4&&r!==(r=f[2].label+"")&&wt(i,r),p&4&&s!==(s=f[2].label)&&G(n,"for",s),p&3){l=f[1];let m;for(m=0;m<l.length;m+=1){const g=bS(f,l,m);c[m]?c[m].p(g,p):(c[m]=kS(g),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(f){f&&ft(e),wc(c,f)}}}function kS(t){let e,n,r=!1,i,s,a=t[7]+"",l,c,f,p,m;return f=OU(t[6][0]),{c(){e=Q("input"),i=ve(),s=Q("label"),l=Le(a),c=ve(),G(e,"type","radio"),e.__value=n=t[7],e.value=e.__value,f.p(e)},m(g,y){_t(g,e,y),e.checked=e.__value===t[0],_t(g,i,y),_t(g,s,y),N(s,l),N(s,c),p||(m=et(e,"change",t[5]),p=!0)},p(g,y){y&2&&n!==(n=g[7])&&(e.__value=n,e.value=e.__value,r=!0),(r||y&3)&&(e.checked=e.__value===g[0]),y&2&&a!==(a=g[7]+"")&&wt(l,a)},d(g){g&&ft(e),g&&ft(i),g&&ft(s),f.r(),p=!1,m()}}}function Tue(t){let e,n,r=t[3]=="select"&&xS(t),i=t[3]=="radio"&&TS(t);return{c(){r&&r.c(),e=ve(),i&&i.c(),n=D_()},m(s,a){r&&r.m(s,a),_t(s,e,a),i&&i.m(s,a),_t(s,n,a)},p(s,[a]){s[3]=="select"?r?r.p(s,a):(r=xS(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[3]=="radio"?i?i.p(s,a):(i=TS(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:In,o:In,d(s){r&&r.d(s),s&&ft(e),i&&i.d(s),s&&ft(n)}}}function kue(t,e,n){let{data:r}=e,{value:i}=e,{opts:s={label:""}}=e,{type:a}=e;const l=[[]];function c(){i=Td(this),n(0,i),n(1,r)}function f(){i=this.__value,n(0,i),n(1,r)}return t.$$set=p=>{"data"in p&&n(1,r=p.data),"value"in p&&n(0,i=p.value),"opts"in p&&n(2,s=p.opts),"type"in p&&n(3,a=p.type)},[i,r,s,a,c,f,l]}class ES extends Ju{constructor(e){super(),Xu(this,e,kue,Tue,Va,{data:1,value:0,opts:2,type:3})}}function $r(t,e,n){return{resolve(r=n){return`${t}@${e}/${r}`}}}const Eue=$r("d3","7.8.5","dist/d3.min.js"),Mue=$r("@observablehq/inputs","0.10.6","dist/inputs.min.js"),Cue=$r("@observablehq/plot","0.6.11","dist/plot.umd.min.js"),Aue=$r("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),X4=$r("@observablehq/highlight.js","2.0.0","highlight.min.js"),MS=$r("@observablehq/katex","0.11.1","dist/katex.min.js"),Iue=$r("lodash","4.17.21","lodash.min.js"),Rue=$r("htl","0.3.1","dist/htl.min.js"),Pue=$r("jszip","3.10.1","dist/jszip.min.js"),Nue=$r("marked","0.3.12","marked.min.js"),CS=$r("sql.js","1.8.0","dist/sql-wasm.js"),Lue=$r("vega","5.22.1","build/vega.min.js"),Oue=$r("vega-lite","5.6.0","build/vega-lite.min.js"),Due=$r("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),Zb=$r("apache-arrow","4.0.1","Arrow.es2015.min.js"),Bue=$r("apache-arrow","9.0.0","+esm"),DN=$r("apache-arrow","11.0.0","+esm"),zue=$r("arquero","4.8.8","dist/arquero.min.js"),Fue=$r("topojson-client","3.1.0","dist/topojson-client.min.js"),Uue=$r("exceljs","4.3.0","dist/exceljs.min.js"),que=$r("mermaid","9.2.2","dist/mermaid.min.js"),AS=$r("leaflet","1.9.3","dist/leaflet.js"),xd=$r("@duckdb/duckdb-wasm","1.24.0","+esm"),R1=new Map,km=[],Yb=km.map,Hue=km.some,Wue=km.hasOwnProperty,Gue=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,$ue=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,IS=/(?:\.[^/]*|\/)$/;class Ah extends Error{constructor(e){super(e)}}Ah.prototype.name=Ah.name;function RS(t){const e=Gue.exec(t);return e&&{name:e[1],version:e[2],path:e[3]}}function BN(t="https://cdn.jsdelivr.net/npm/",e=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(t))throw new Error("origin lacks trailing slash");function n(i){for(const s of e){let a=i[s];if(typeof a=="string")return a.startsWith("./")&&(a=a.slice(2)),IS.test(a)?a:`${a}.js`}}function r(i){const s=`${t}${i.name}${i.version?`@${i.version}`:""}/package.json`;let a=R1.get(s);return a||R1.set(s,a=fetch(s).then(l=>{if(!l.ok)throw new Ah("unable to load package.json");return l.redirected&&!R1.has(l.url)&&R1.set(l.url,a),l.json()})),a}return async function(s,a){if(s.startsWith(t)&&(s=s.substring(t.length)),/^(\w+:)|\/\//i.test(s))return s;if(/^[.]{0,2}\//i.test(s))return new URL(s,a??location).href;if(!s.length||/^[\s._]/.test(s)||/\s$/.test(s))throw new Ah("illegal name");const l=RS(s);if(!l)return`${t}${s}`;if(!l.version&&a!=null&&a.startsWith(t)){const f=await r(RS(a.substring(t.length)));l.version=f.dependencies&&f.dependencies[l.name]||f.peerDependencies&&f.peerDependencies[l.name]}if(l.path&&!IS.test(l.path)&&(l.path+=".js"),l.path&&l.version&&$ue.test(l.version))return`${t}${l.name}@${l.version}/${l.path}`;const c=await r(l);return`${t}${c.name}@${c.version}/${l.path||n(c)||"index.js"}`}}var Vue=U2(BN());function U2(t){const e=new Map,n=i(null);function r(l){if(typeof l!="string")return l;let c=e.get(l);return c||e.set(l,c=new Promise((f,p)=>{const m=document.createElement("script");m.onload=()=>{try{f(km.pop()(i(l)))}catch{p(new Ah("invalid module"))}m.remove()},m.onerror=()=>{p(new Ah("unable to load module")),m.remove()},m.async=!0,m.src=l,window.define=zN,document.head.appendChild(m)})),c}function i(l){return c=>Promise.resolve(t(c,l)).then(r)}function s(l){return U2((c,f)=>c in l&&(c=l[c],f=null,typeof c!="string")?c:t(c,f))}function a(l){return arguments.length>1?Promise.all(Yb.call(arguments,n)).then(Zue):n(l)}return a.alias=s,a.resolve=t,a}function Zue(t){const e={};for(const n of t)for(const r in n)Wue.call(n,r)&&(n[r]==null?Object.defineProperty(e,r,{get:Yue(n,r)}):e[r]=n[r]);return e}function Yue(t,e){return()=>t[e]}function jue(t){return t=t+"",t==="exports"||t==="module"}function zN(t,e,n){const r=arguments.length;r<2?(n=t,e=[]):r<3&&(n=e,e=typeof t=="string"?[]:t),km.push(Hue.call(e,jue)?i=>{const s={},a={exports:s};return Promise.all(Yb.call(e,l=>(l=l+"",l==="exports"?s:l==="module"?a:i(l)))).then(l=>(n.apply(null,l),a.exports))}:i=>Promise.all(Yb.call(e,i)).then(s=>typeof n=="function"?n.apply(null,s):n))}zN.amd={};const Ac="https://cdn.observableusercontent.com/npm/";let zc=Vue;function Kue(t){zc=t}function Xue(t){return t==null?zc:U2(t)}async function FN(t){const[e,n]=await Promise.all([t(CS.resolve()),t.resolve(CS.resolve("dist/"))]);return e({locateFile:r=>`${n}${r}`})}class Em{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[n,r]=await Promise.all([FN(zc),Promise.resolve(e).then(jb)]);return new Em(new n.Database(r))}async query(e,n){return await Que(this._db,e,n)}async queryRow(e,n){return(await this.query(e,n))[0]||null}async explain(e,n){const r=await this.query(`EXPLAIN QUERY PLAN ${e}`,n);return _c("pre",{className:"observablehq--inspect"},[J4(r.map(i=>i.detail).join(`
`))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${e==null?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,e==null?[]:[e])}async describeColumns({schema:e,table:n}={}){if(n==null)throw new Error("missing table");const r=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${e==null?"":", ?"}) ORDER BY cid`,e==null?[n]:[n,e]);if(!r.length)throw new Error(`table not found: ${n}`);return r.map(({name:i,type:s,notnull:a})=>({name:i,type:Jue(s),databaseType:s,nullable:!a}))}async describe(e){const n=await(e===void 0?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!n.length)throw new Error("Not found");const{columns:r}=n;return _c("table",{value:n},[_c("thead",[_c("tr",r.map(i=>_c("th",[J4(i)])))]),_c("tbody",n.map(i=>_c("tr",r.map(s=>_c("td",[J4(i[s])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...n){return[e.join("?"),n]}}Object.defineProperty(Em.prototype,"dialect",{value:"sqlite"});function Jue(t){switch(t){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";case"DATE":case"DATETIME":return"string";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(t)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(t)?"number":"other"}}function jb(t){return typeof t=="string"?fetch(t).then(jb):t instanceof Response||t instanceof Blob?t.arrayBuffer().then(jb):t instanceof ArrayBuffer?new Uint8Array(t):t}async function Que(t,e,n){const[r]=await t.exec(e,n);if(!r)return[];const{columns:i,values:s}=r,a=s.map(l=>Object.fromEntries(l.map((c,f)=>[i[f],c])));return a.columns=i,a}function _c(t,e,n){arguments.length===2&&(n=e,e=void 0);const r=document.createElement(t);if(e!==void 0)for(const i in e)r[i]=e[i];if(n!==void 0)for(const i of n)r.appendChild(i);return r}function J4(t){return document.createTextNode(t)}function y6(t){return t&&typeof t.toArrowBuffer=="function"}function k_(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function ece(t){return t.schema.fields.map(tce)}function tce(t){return{name:t.name,type:nce(t.type),nullable:t.nullable,databaseType:String(t.type)}}function nce(t){switch(t.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";case 11:case 17:default:return"other"}}async function b6(){return await vp(()=>import(`${Ac}${DN.resolve()}`),[])}let Q4;class Mm{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,n){const r=await this._db.connect();let i,s;try{if((n==null?void 0:n.length)>0?i=await(await r.prepare(e)).send(...n):i=await r.send(e),s=await i.next(),s.done)throw new Error("missing first batch")}catch(a){throw await r.close(),a}return{schema:ece(s.value),async*readRows(){try{for(;!s.done;)yield s.value.toArray(),s=await i.next()}finally{await r.close()}}}}async query(e,n){const r=await this.queryStream(e,n),i=[];for await(const s of r.readRows())for(const a of s)i.push(a);return i.schema=r.schema,i}async queryRow(e,n){const i=(await this.queryStream(e,n)).readRows();try{const{done:s,value:a}=await i.next();return s||!a.length?null:a[0]}finally{await i.return()}}async sql(e,...n){return await this.query(e.join("?"),n)}queryTag(e,...n){return[e.join("?"),n]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map(({name:n})=>({name:n}))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map(({column_name:r,column_type:i,null:s})=>({name:r,type:oce(i),nullable:s!=="NO",databaseType:i}))}static async of(e={},n={}){var i,s;const r=await ace();return((i=n.query)==null?void 0:i.castTimestampToDate)===void 0&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),((s=n.query)==null?void 0:s.castBigIntToDouble)===void 0&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await r.open(n),await Promise.all(Object.entries(e).map(async([a,l])=>{if(l instanceof ds)await PS(r,a,l);else if(k_(l))await E_(r,a,l);else if(Array.isArray(l))await NS(r,a,l);else if(y6(l))await ice(r,a,l);else if("data"in l){const{data:c,...f}=l;k_(c)?await E_(r,a,c,f):await NS(r,a,c,f)}else if("file"in l){const{file:c,...f}=l;await PS(r,a,c,f)}else throw new Error(`invalid source: ${l}`)})),new Mm(r)}}Object.defineProperty(Mm.prototype,"dialect",{value:"duckdb"});async function PS(t,e,n,r){const i=await n.url();if(i.startsWith("blob:")){const a=await n.arrayBuffer();await t.registerFileBuffer(n.name,new Uint8Array(a))}else await t.registerFileURL(n.name,i,4);const s=await t.connect();try{switch(n.mimeType){case"text/csv":case"text/tab-separated-values":return await s.insertCSVFromPath(n.name,{name:e,schema:"main",...r}).catch(async a=>{if(a.toString().includes("Could not convert"))return await rce(s,n,e);throw a});case"application/json":return await s.insertJSONFromPath(n.name,{name:e,schema:"main",...r});default:if(/\.arrow$/i.test(n.name)){const a=new Uint8Array(await n.arrayBuffer());return await s.insertArrowFromIPCStream(a,{name:e,schema:"main",...r})}if(/\.parquet$/i.test(n.name))return await s.query(`CREATE VIEW '${e}' AS SELECT * FROM parquet_scan('${n.name}')`);throw new Error(`unknown file type: ${n.mimeType}`)}}finally{await s.close()}}async function rce(t,e,n){return await(await t.prepare(`CREATE TABLE '${n}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`)).send(e.name)}async function E_(t,e,n,r){const i=await t.connect();try{await i.insertArrowTable(n,{name:e,schema:"main",...r})}finally{await i.close()}}async function ice(t,e,n){const i=(await b6()).tableFromIPC(n.toArrowBuffer());return await E_(t,e,i)}async function NS(t,e,n,r){const s=(await b6()).tableFromJSON(n);return await E_(t,e,s,r)}async function sce(){const t=await vp(()=>import(`${Ac}${xd.resolve()}`),[]),e=await t.selectBundle({mvp:{mainModule:`${Ac}${xd.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${Ac}${xd.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${Ac}${xd.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${Ac}${xd.resolve("dist/duckdb-browser-eh.worker.js")}`}}),n=new t.ConsoleLogger;return{module:t,bundle:e,logger:n}}async function ace(){Q4===void 0&&(Q4=sce());const{module:t,bundle:e,logger:n}=await Q4,r=await t.createWorker(e.mainWorker),i=new t.AsyncDuckDB(n,r);return await i.instantiate(e.mainModule),i}function oce(t){switch(t){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(t)?"integer":"other"}}const w6=20;function lce(t,e){return t&&(typeof t.sql=="function"||typeof t.queryTag=="function"&&(typeof t.query=="function"||typeof t.queryStream=="function"))&&(e!=="table"||typeof t.describeColumns=="function")&&t!==VN}function q2(t){return Array.isArray(t)&&(UN(t.schema)||qN(t.columns)||uce(t)||WN(t)||GN(t))||$N(t)}function uce(t){const e=Math.min(w6,t.length);for(let n=0;n<e;++n){const r=t[n];if(r===null||typeof r!="object")return!1}return e>0&&cce(t[0])}function cce(t){for(const e in t)return!0;return!1}function UN(t){return Array.isArray(t)&&t.every(fce)}function qN(t){return Array.isArray(t)&&t.every(e=>typeof e=="string")}function fce(t){return t&&typeof t.name=="string"&&typeof t.type=="string"}function HN(t){return $N(t)||WN(t)||GN(t)}function WN(t){const e=Math.min(w6,t.length);if(!(e>0))return!1;let n,r=!1;for(let i=0;i<e;++i){const s=t[i];if(s==null)continue;const a=typeof s;if(n===void 0)switch(a){case"number":case"boolean":case"string":case"bigint":n=a;break;default:return!1}else if(a!==n)return!1;r=!0}return r}function GN(t){const e=Math.min(w6,t.length);if(!(e>0))return!1;let n=!1;for(let r=0;r<e;++r){const i=t[r];if(i!=null){if(!(i instanceof Date))return!1;n=!0}}return n}function $N(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}const VN=Object.assign(async(t,e,n,r)=>{if(t=await hce(await t,r),lce(t))return LS(t,_ce(e,t),n);if(q2(t))return Dce(t,e);throw t?new Error("invalid data source"):new Error("missing data source")},{sql(t,e,n){return async function(){return LS(await dce(await t,n),arguments,e)}}});function ZN(t){const e=new WeakMap;return(n,r)=>{if(!n||typeof n!="object")throw new Error("invalid data source");let i=e.get(n);return(!i||q2(n)&&n.length!==i._numRows)&&(i=t(n,r),i._numRows=n.length,e.set(n,i)),i}}const hce=ZN(async(t,e)=>{if(t instanceof ds){switch(t.mimeType){case"text/csv":return t.csv();case"text/tab-separated-values":return t.tsv();case"application/json":return t.json();case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return $f(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return k_(t)||y6(t)?$f(t,e):q2(t)&&HN(t)?Array.from(t,n=>({value:n})):t}),dce=ZN(async(t,e)=>{if(t instanceof ds){switch(t.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return $f(t,e);case"application/x-sqlite3":return t.sqlite()}if(/\.(arrow|parquet)$/i.test(t.name))return $f(t,e);throw new Error(`unsupported file type: ${t.mimeType}`)}return q2(t)?$f(await pce(t,e),e):k_(t)||y6(t)?$f(t,e):t});async function pce(t,e){const n=await b6();return HN(t)?n.tableFromArrays({[e]:t}):n.tableFromJSON(t)}function $f(t,e=t instanceof ds?mce(t):"__table"){return Mm.of({[e]:t})}function mce(t){return t.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}async function LS(t,e,n){if(!t)throw new Error("missing data source");if(typeof t.queryTag=="function"){const r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),typeof t.queryStream=="function")return gce(t.queryStream(...t.queryTag.apply(t,e),i));if(typeof t.query=="function")return t.query(...t.queryTag.apply(t,e),i)}if(typeof t.sql=="function")return t.sql.apply(t,e);throw new Error("source does not implement query, queryStream, or sql")}async function*gce(t){let e=performance.now();const n=await t,r=[];r.done=!1,r.error=null,r.schema=n.schema;try{for await(const i of n.readRows()){performance.now()-e>150&&r.length>0&&(yield r,e=performance.now());for(const s of i)r.push(s)}r.done=!0,yield r}catch(i){r.error=i,yield r}}function _ce(t,e){var m;const n=typeof e.escape=="function"?e.escape:g=>g,{select:r,from:i,filter:s,sort:a,slice:l}=t;if(!i.table)throw new Error("missing from table");if(r.columns&&r.columns.length===0)throw new Error("at least one column must be selected");const c=new Map((m=t.names)==null?void 0:m.map(({column:g,name:y})=>[g,y])),p=[[`SELECT ${r.columns?r.columns.map(g=>{const y=c.get(g);return y?`${n(g)} AS ${n(y)}`:n(g)}).join(", "):"*"} FROM ${vce(i.table,n)}`]];for(let g=0;g<s.length;++g)Wr(g?`
AND `:`
WHERE `,p),yce(s[g],p,n);for(let g=0;g<a.length;++g)Wr(g?", ":`
ORDER BY `,p),OS(a[g],p,n);if(e.dialect==="mssql"||e.dialect==="oracle"){if(l.to!==null||l.from!==null){if(!a.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");Wr(`
ORDER BY `,p),OS({column:r.columns[0],direction:"ASC"},p,n)}Wr(`
OFFSET ${l.from||0} ROWS`,p),Wr(`
FETCH NEXT ${l.to!==null?l.to-(l.from||0):1e9} ROWS ONLY`,p)}}else(l.to!==null||l.from!==null)&&Wr(`
LIMIT ${l.to!==null?l.to-(l.from||0):1e9}`,p),l.from!==null&&Wr(` OFFSET ${l.from}`,p);return p}function vce(t,e){if(typeof t=="object"){let n="";return t.database!=null&&(n+=e(t.database)+"."),t.schema!=null&&(n+=e(t.schema)+"."),n+=e(t.table),n}else return e(t)}function Wr(t,e){const n=e[0];n[n.length-1]+=t}function OS({column:t,direction:e},n,r){Wr(`${r(t)} ${e.toUpperCase()}`,n)}function yce({type:t,operands:e},n,r){if(e.length<1)throw new Error("Invalid operand length");if(e.length===1||t==="v"||t==="nv")switch(Df(e[0],n,r),t){case"n":case"nv":Wr(" IS NULL",n);return;case"nn":case"v":Wr(" IS NOT NULL",n);return;default:throw new Error("Invalid filter operation")}if(e.length===2&&!["in","nin"].includes(t))if(["c","nc"].includes(t)){switch(Df(e[0],n,r),t){case"c":Wr(" LIKE ",n);break;case"nc":Wr(" NOT LIKE ",n);break}Df(wce(e[1]),n,r);return}else{switch(Df(e[0],n,r),t){case"eq":Wr(" = ",n);break;case"ne":Wr(" <> ",n);break;case"gt":Wr(" > ",n);break;case"lt":Wr(" < ",n);break;case"gte":Wr(" >= ",n);break;case"lte":Wr(" <= ",n);break;default:throw new Error("Invalid filter operation")}Df(e[1],n,r);return}switch(Df(e[0],n,r),t){case"in":Wr(" IN (",n);break;case"nin":Wr(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}bce(e.slice(1),n),Wr(")",n)}function Df(t,e,n){t.type==="column"?Wr(n(t.value),e):(e.push(t.value),e[0].push(""))}function bce(t,e){let n=!0;for(const r of t)n?n=!1:Wr(",",e),e.push(r.value),e[0].push("")}function wce(t){return{...t,value:`%${t.value}%`}}function YN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))}function xce(t,e){return YN(t,e)||(t<e?-1:t>e?1:0)}function Sce(t,e){return YN(t,e)||(t>e?-1:t<e?1:0)}const Tce=t=>typeof t=="number"&&!Number.isNaN(t),kce=t=>Number.isInteger(t)&&!Number.isNaN(t),Ece=t=>typeof t=="string",Mce=t=>typeof t=="boolean",Cce=t=>typeof t=="bigint",Ace=t=>t instanceof Date&&!isNaN(t),Ice=t=>t instanceof ArrayBuffer,Rce=t=>Array.isArray(t),Pce=t=>typeof t=="object"&&t!==null,Nce=t=>t!=null;function DS(t){switch(t){case"string":return Ece;case"bigint":return Cce;case"boolean":return Mce;case"number":return Tce;case"integer":return kce;case"date":return Ace;case"buffer":return Ice;case"array":return Rce;case"object":return Pce;case"other":default:return Nce}}const jN=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function Lce(t,e){switch(e){case"string":return typeof t=="string"||t==null?t:String(t);case"boolean":if(typeof t=="string"){const n=t.trim().toLowerCase();return n==="true"?!0:n==="false"?!1:null}return typeof t=="boolean"||t==null?t:!!t;case"bigint":return typeof t=="bigint"||t==null?t:Number.isInteger(typeof t=="string"&&!t.trim()?NaN:+t)?BigInt(t):void 0;case"integer":case"number":return typeof t=="number"?t:t==null||typeof t=="string"&&!t.trim()?NaN:Number(t);case"date":{if(t instanceof Date||t==null)return t;if(typeof t=="number")return new Date(t);const n=String(t).trim();return typeof t=="string"&&!n?null:new Date(jN.test(n)?n:NaN)}case"array":case"object":case"buffer":case"other":return t;default:throw new Error(`Unable to coerce to type: ${e}`)}}function Oce(t){const{columns:e}=t;let{schema:n}=t;return UN(n)?{schema:n,inferred:!1}:(n=KN(t,qN(e)?e:void 0),{schema:n,inferred:!0})}function BS(t,e){const n=t;let{schema:r,inferred:i}=Oce(t);const s=new Map(r.map(({name:a,type:l})=>[a,l]));if(e.types){for(const{name:a,type:l}of e.types){s.set(a,l),r===n.schema&&(r=r.slice());const c=r.findIndex(f=>f.name===a);c>-1&&(r[c]={...r[c],type:l})}t=t.map(a=>Kb(a,s,r))}else i&&(t=t.map(a=>Kb(a,s,r)));return{source:t,schema:r}}function zS(t,e){if(!e.names)return t;const n=new Map(e.names.map(r=>[r.column,r]));return t.map(r=>Object.fromEntries(Object.keys(r).map(i=>{const s=n.get(i);return[(s==null?void 0:s.name)??i,r[i]]})))}function Dce(t,e){const n=new Map,r=t,i=BS(t,e);t=i.source;let s=i.schema;if(e.derive){const f=[];e.derive.map(({name:m,value:g})=>{let y=[];zS(t,e).map((b,S)=>{let I;try{I=g(b)}catch(R){y.push({index:S,error:R}),I=void 0}f[S]?f[S]={...f[S],[m]:I}:f.push({[m]:I})}),y.length&&n.set(m,y)});const p=BS(f,e);t=t.map((m,g)=>({...m,...p.source[g]})),s=[...s,...p.schema]}for(const{type:f,operands:p}of e.filter){const[{value:m}]=p,g=p.slice(1).map(({value:y})=>y);switch(f){case"v":{const[y]=g,b=DS(y);t=t.filter(S=>b(S[m]));break}case"nv":{const[y]=g,b=DS(y);t=t.filter(S=>!b(S[m]));break}case"eq":{const[y]=g;if(y instanceof Date){const b=+y;t=t.filter(S=>+S[m]===b)}else t=t.filter(b=>b[m]===y);break}case"ne":{const[y]=g;t=t.filter(b=>b[m]!==y);break}case"c":{const[y]=g;t=t.filter(b=>typeof b[m]=="string"&&b[m].includes(y));break}case"nc":{const[y]=g;t=t.filter(b=>typeof b[m]=="string"&&!b[m].includes(y));break}case"in":{const y=new Set(g);t=t.filter(b=>y.has(b[m]));break}case"nin":{const y=new Set(g);t=t.filter(b=>!y.has(b[m]));break}case"n":{t=t.filter(y=>y[m]==null);break}case"nn":{t=t.filter(y=>y[m]!=null);break}case"lt":{const[y]=g;t=t.filter(b=>b[m]<y);break}case"lte":{const[y]=g;t=t.filter(b=>b[m]<=y);break}case"gt":{const[y]=g;t=t.filter(b=>b[m]>y);break}case"gte":{const[y]=g;t=t.filter(b=>b[m]>=y);break}default:throw new Error(`unknown filter type: ${f}`)}}for(const{column:f,direction:p}of np(e.sort)){const m=p==="desc"?Sce:xce;t===r&&(t=t.slice()),t.sort((g,y)=>m(g[f],y[f]))}let{from:a,to:l}=e.slice;a=a==null?0:Math.max(0,a),l=l==null?1/0:Math.max(0,l),(a>0||l<1/0)&&(t=t.slice(Math.max(0,a),Math.max(0,l)));let c=s.slice();if(e.select.columns){if(s){const f=new Map(s.map(p=>[p.name,p]));s=e.select.columns.map(p=>f.get(p))}t=t.map(f=>Object.fromEntries(e.select.columns.map(p=>[p,f[p]])))}if(e.names){const f=new Map(e.names.map(p=>[p.column,p]));s&&(s=s.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),c&&(c=c.map(p=>{const m=f.get(p.name);return{...p,...m?{name:m.name}:null}})),t=zS(t,e)}return t!==r&&s&&(t.schema=s),t.fullSchema=c,t.errors=n,t}function Kb(t,e,n){const r={};for(const i of n){const s=e.get(i.name),a=t[i.name];r[i.name]=s==="raw"?a:Lce(a,s)}return r}function Bce(){return{boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0}}const zce=["boolean","integer","number","date","bigint","array","object","buffer"];function Fce(t){const e=new Set;for(const n of t)if(n)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.add(r);return Array.from(e)}function KN(t,e=Fce(t)){const n=[],i=t.slice(0,100);for(const s of e){const a=Bce();for(const f of i){let p=f[s];if(p==null)continue;const m=typeof p;if(m!=="string")++a.defined,Array.isArray(p)?++a.array:p instanceof Date?++a.date:p instanceof ArrayBuffer?++a.buffer:m==="number"?(++a.number,Number.isInteger(p)&&++a.integer):m in a&&++a[m];else{if(p=p.trim(),!p)continue;++a.defined,++a.string,/^(true|false)$/i.test(p)?++a.boolean:p&&!isNaN(p)?(++a.number,Number.isInteger(+p)&&++a.integer):jN.test(p)&&++a.date}}const l=Math.max(1,a.defined*.9),c=v3(zce,f=>a[f]>=l?a[f]:NaN)??(a.string>=l?"string":"other");n.push({name:s,type:c,inferred:c})}return n}class Uce{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(n=>n.name),enumerable:!0}})}sheet(e,n){const r=typeof e=="number"?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(r==null)throw new Error(`Sheet not found: ${e}`);const i=this._.getWorksheet(r);return qce(i,n)}}function qce(t,{range:e,headers:n}={}){let[[r,i],[s,a]]=Hce(e,t);const l=n?t._rows[i++]:null;let c=new Set(["#"]);for(let p=r;p<=s;p++){const m=l?FS(l.findCell(p+1)):null;let g=m&&m+""||Wce(p);for(;c.has(g);)g+="_";c.add(g)}c=new Array(r).concat(Array.from(c));const f=new Array(a-i+1);for(let p=i;p<=a;p++){const m=f[p-i]=Object.create(null,{"#":{value:p+1}}),g=t.getRow(p+1);if(g.hasValues)for(let y=r;y<=s;y++){const b=FS(g.findCell(y+1));b!=null&&(m[c[y+1]]=b)}}return f.columns=c.filter(()=>!0),f}function FS(t){if(!t)return;const{value:e}=t;if(e&&typeof e=="object"&&!(e instanceof Date)){if(e.formula||e.sharedFormula)return e.result&&e.result.error?NaN:e.result;if(e.richText)return US(e);if(e.text){let{text:n}=e;return n.richText&&(n=US(n)),e.hyperlink&&e.hyperlink!==n?`${e.hyperlink} ${n}`:n}return e}return e}function US(t){return t.richText.map(e=>e.text).join("")}function Hce(t=":",{columnCount:e,rowCount:n}){if(t+="",!t.match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,i=0],[s=e-1,a=n-1]]=t.split(":").map(Gce);return[[r,i],[s,a]]}function Wce(t){let e="";t++;do e=String.fromCharCode(64+(t%26||26))+e;while(t=Math.floor((t-1)/26));return e}function Gce(t){const[,e,n]=t.match(/^([A-Z]*)(\d*)$/);let r=0;if(e)for(let i=0;i<e.length;i++)r+=Math.pow(26,e.length-i-1)*(e.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function Tu(t){const e=await fetch(await t.url());if(!e.ok)throw new Error(`Unable to load file: ${t.name}`);return e}function $ce(t,e){const n=new Map(e.map(({name:r,type:i})=>[r,i]));return Object.assign(t.map(r=>Kb(r,n,e)),{schema:e})}async function qS(t,e,{array:n=!1,typed:r=!1}={}){const i=await t.text(),s=e==="	"?n?p$:d$:n?h$:rE;if(r==="auto"&&!n){const a=s(i);return $ce(a,KN(a,a.columns))}return s(i,r&&xg)}class x6{constructor(e,n){Object.defineProperty(this,"name",{value:e,enumerable:!0}),n!==void 0&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await Tu(this)).blob()}async arrayBuffer(){return(await Tu(this)).arrayBuffer()}async text(){return(await Tu(this)).text()}async json(){return(await Tu(this)).json()}async stream(){return(await Tu(this)).body}async csv(e){return qS(this,",",e)}async tsv(e){return qS(this,"	",e)}async image(e){const n=await this.url();return new Promise((r,i)=>{const s=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(s.crossOrigin="anonymous"),Object.assign(s,e),s.onload=()=>r(s),s.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),s.src=n})}async arrow({version:e=4}={}){switch(e){case 4:{const[n,r]=await Promise.all([zc(Zb.resolve()),Tu(this)]);return n.Table.from(r)}case 9:{const[n,r]=await Promise.all([vp(()=>import(`${Ac}${Bue.resolve()}`),[]),Tu(this)]);return n.tableFromIPC(r)}case 11:{const[n,r]=await Promise.all([vp(()=>import(`${Ac}${DN.resolve()}`),[]),Tu(this)]);return n.tableFromIPC(r)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return Em.open(Tu(this))}async zip(){const[e,n]=await Promise.all([zc(Pue.resolve()),this.arrayBuffer()]);return new Zce(await e.loadAsync(n))}async xml(e="application/xml"){return new DOMParser().parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,n]=await Promise.all([zc(Uue.resolve()),this.arrayBuffer()]);return new Uce(await new e.Workbook().xlsx.load(n))}}class ds extends x6{constructor(e,n,r){super(n,r),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function Vce(t){throw new Error(`File not found: ${t}`)}class Zce{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(n=>!e.files[n].dir)}file(e){const n=this._.file(e+="");if(!n||n.dir)throw new Error(`file not found: ${e}`);return new Yce(n)}}class Yce extends x6{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}function jce(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function Kce(t,e,n){n==null&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=t*n,r.height=e*n,r.style.width=t+"px";var i=r.getContext("2d");return i.scale(n,n),i}function Xce(t,e="untitled",n="Save"){const r=document.createElement("a"),i=r.appendChild(document.createElement("button"));i.textContent=n,r.download=e;async function s(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return r.onclick=async a=>{if(i.disabled=!0,r.href)return s();i.textContent="Saving…";try{const l=await(typeof t=="function"?t():t);i.textContent="Download",r.href=URL.createObjectURL(l)}catch{i.textContent=n}if(a.eventPhase)return s();i.disabled=!1},r}var P1={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jce(t,e){var n=t+="",r=n.indexOf(":"),i;r>=0&&(n=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1));var s=P1.hasOwnProperty(n)?document.createElementNS(P1[n],t):document.createElement(t);if(e)for(var a in e)n=a,r=n.indexOf(":"),i=e[a],r>=0&&(n=a.slice(0,r))!=="xmlns"&&(a=a.slice(r+1)),P1.hasOwnProperty(n)?s.setAttributeNS(P1[n],a,i):s.setAttribute(a,i);return s}function Qce(t){var e=document.createElement("input");return t!=null&&(e.type=t),e}function e0e(t,e,n){arguments.length===1&&(e=t,t=null);var r=document.createElement("input");return r.min=t=t==null?0:+t,r.max=e=e==null?1:+e,r.step=n==null?"any":n=+n,r.type="range",r}function t0e(t){var e=document.createElement("select");return Array.prototype.forEach.call(t,function(n){var r=document.createElement("option");r.value=r.textContent=n,e.appendChild(r)}),e}function n0e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,t,e]),n.setAttribute("width",t),n.setAttribute("height",e),n}function r0e(t){return document.createTextNode(t)}var i0e=0;function XN(t){return new JN("O-"+(t==null?"":t+"-")+ ++i0e)}function JN(t){this.id=t,this.href=new URL(`#${t}`,location)+""}JN.prototype.toString=function(){return"url("+this.href+")"};const s0e=Object.freeze(Object.defineProperty({__proto__:null,canvas:jce,context2d:Kce,download:Xce,element:Jce,input:Qce,range:e0e,select:t0e,svg:n0e,text:r0e,uid:XN},Symbol.toStringTag,{value:"Module"}));function a0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsArrayBuffer(t)})}function o0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t)})}function l0e(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})}const u0e=Object.freeze(Object.defineProperty({__proto__:null,buffer:a0e,text:o0e,url:l0e},Symbol.toStringTag,{value:"Module"}));function S6(){return this}function QN(t,e){let n=!1;if(typeof e!="function")throw new Error("dispose is not a function");return{[Symbol.iterator]:S6,next:()=>n?{done:!0}:(n=!0,{done:!1,value:t}),return:()=>(n=!0,e(t),{done:!0}),throw:()=>({done:n=!0})}}function*c0e(t,e){for(var n,r=-1;!(n=t.next()).done;)e(n.value,++r)&&(yield n.value)}function H2(t){let e=!1,n,r;const i=t(s);if(i!=null&&typeof i!="function")throw new Error(typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function s(l){return r?(r(l),r=null):e=!0,n=l}function a(){return{done:!1,value:e?(e=!1,Promise.resolve(n)):new Promise(l=>r=l)}}return{[Symbol.iterator]:S6,throw:()=>({done:!0}),return:()=>(i!=null&&i(),{done:!0}),next:a}}function f0e(t){return H2(function(e){var n=h0e(t),r=HS(t);function i(){e(HS(t))}return t.addEventListener(n,i),r!==void 0&&e(r),function(){t.removeEventListener(n,i)}})}function HS(t){switch(t.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(t.selectedOptions,e=>e.value);default:return t.value}}function h0e(t){switch(t.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*d0e(t,e){for(var n,r=-1;!(n=t.next()).done;)yield e(n.value,++r)}function p0e(t){let e;const n=[],r=t(i);if(r!=null&&typeof r!="function")throw new Error(typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");function i(a){return n.push(a),e&&(e(n.shift()),e=null),a}function s(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(a=>e=a)}}return{[Symbol.iterator]:S6,throw:()=>({done:!0}),return:()=>(r!=null&&r(),{done:!0}),next:s}}function*m0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0;++r<i;)yield t+r*n}function g0e(t,e){if(!(!isFinite(e=+e)||e<0||e!==e|0)){for(var n,r=-1;!(n=t.next()).done;)if(++r===e)return n.value}}function _0e(t){const e=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),n=new Worker(e);return QN(n,()=>{n.terminate(),URL.revokeObjectURL(e)})}const v0e=Object.freeze(Object.defineProperty({__proto__:null,disposable:QN,filter:c0e,input:f0e,map:d0e,observe:H2,queue:p0e,range:m0e,valueAt:g0e,worker:_0e},Symbol.toStringTag,{value:"Module"}));function T6(t,e){return function(n){var r=n[0],i=[],s,a=null,l,c,f,p,m,g,y,b=-1;for(p=1,m=arguments.length;p<m;++p){if(s=arguments[p],s instanceof Node)i[++b]=s,r+="<!--o:"+b+"-->";else if(Array.isArray(s)){for(g=0,y=s.length;g<y;++g)l=s[g],l instanceof Node?(a===null&&(i[++b]=a=document.createDocumentFragment(),r+="<!--o:"+b+"-->"),a.appendChild(l)):(a=null,r+=l);a=null}else r+=s;r+=n[p]}if(a=t(r),++b>0){for(c=new Array(b),f=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null,!1);f.nextNode();)l=f.currentNode,/^o:/.test(l.nodeValue)&&(c[+l.nodeValue.slice(2)]=l);for(p=0;p<b;++p)(l=c[p])&&l.parentNode.replaceChild(i[p],l)}return a.childNodes.length===1?a.removeChild(a.firstChild):a.nodeType===11?((l=e()).appendChild(a),l):a}}const y0e=T6(function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),document.importNode(e.content,!0)},function(){return document.createElement("span")});async function b0e(t){const e=await t(AS.resolve());if(!e._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await t.resolve(AS.resolve("dist/leaflet.css")),e._style=document.head.appendChild(n)}return e}function w0e(t){return t(Nue.resolve()).then(function(e){return T6(function(n){var r=document.createElement("div");r.innerHTML=e(n,{langPrefix:""}).trim();var i=r.querySelectorAll("pre code[class]");return i.length>0&&t(X4.resolve()).then(function(s){i.forEach(function(a){function l(){s.highlightBlock(a),a.parentNode.classList.add("observablehq--md-pre")}s.getLanguage(a.className)?l():t(X4.resolve("async-languages/index.js")).then(c=>{if(c.has(a.className))return t(X4.resolve("async-languages/"+c.get(a.className))).then(f=>{s.registerLanguage(a.className,f)})}).then(l,l)})}),r},function(){return document.createElement("div")})})}async function x0e(t){const e=await t(que.resolve());return e.initialize({securityLevel:"loose",theme:"neutral"}),function(){const r=document.createElement("div");return r.innerHTML=e.render(XN().id,String.raw.apply(String,arguments)),r.removeChild(r.firstChild)}}function S0e(t){let e;Object.defineProperties(this,{generator:{value:H2(n=>void(e=n))},value:{get:()=>t,set:n=>e(t=n)}}),t!==void 0&&e(t)}function*T0e(){for(;;)yield Date.now()}function k0e(t,e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}var Xb=new Map;function E0e(t,e){var n=new Promise(function(r){Xb.delete(e);var i=e-t;if(!(i>0))throw new Error("invalid time");if(i>2147483647)throw new Error("too long to wait");setTimeout(r,i)});return Xb.set(e,n),n}function eL(t,e){var n;return(n=Xb.get(t=+t))?n.then(()=>e):(n=Date.now())>=t?Promise.resolve(e):E0e(n,t).then(()=>e)}function M0e(t,e){return eL(Math.ceil((Date.now()+1)/t)*t,e)}const C0e=Object.freeze(Object.defineProperty({__proto__:null,delay:k0e,tick:M0e,when:eL},Symbol.toStringTag,{value:"Module"}));function A0e(t,e){if(/^(\w+:)|\/\//i.test(t))return t;if(/^[.]{0,2}\//i.test(t))return new URL(t,e??location).href;if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");return"https://unpkg.com/"+t}const I0e=T6(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t.trim(),e},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")});var R0e=String.raw;function P0e(t){return new Promise(function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=n,r.onload=e,document.head.appendChild(r)})}function N0e(t){return Promise.all([t(MS.resolve()),t.resolve(MS.resolve("dist/katex.min.css")).then(P0e)]).then(function(e){var n=e[0],r=i();function i(s){return function(){var a=document.createElement("div");return n.render(R0e.apply(String,arguments),a,s),a.removeChild(a.firstChild)}}return r.options=i,r.block=i({displayMode:!0}),r})}async function L0e(t){const[e,n,r]=await Promise.all([Lue,Oue,Due].map(i=>t(i.resolve())));return r.register(e,n)}function O0e(){return H2(function(t){var e=t(document.body.clientWidth);function n(){var r=document.body.clientWidth;r!==e&&t(e=r)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}const k6=Object.assign(Object.defineProperties(function(e){const n=Xue(e);Object.defineProperties(this,D0e({FileAttachment:()=>Vce,Mutable:()=>S0e,now:T0e,width:O0e,dot:()=>n(Aue.resolve()),htl:()=>n(Rue.resolve()),html:()=>y0e,md:()=>w0e(n),svg:()=>I0e,tex:()=>N0e(n),_:()=>n(Iue.resolve()),aq:()=>n.alias({"apache-arrow":Zb.resolve()})(zue.resolve()),Arrow:()=>n(Zb.resolve()),d3:()=>n(Eue.resolve()),DuckDBClient:()=>Mm,Inputs:()=>n(Mue.resolve()).then(r=>({...r,file:r.fileOf(x6)})),L:()=>b0e(n),mermaid:()=>x0e(n),Plot:()=>n(Cue.resolve()),__query:()=>VN,require:()=>n,resolve:()=>A0e,SQLite:()=>FN(n),SQLiteDatabaseClient:()=>Em,topojson:()=>n(Fue.resolve()),vl:()=>L0e(n),aapl:()=>new ds("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new ds("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new ds("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new ds("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new ds("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new ds("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new ds("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new ds("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new ds("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new ds("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),pizza:()=>new ds("https://static.observableusercontent.com/files/c653108ab176088cacbb338eaf2344c4f5781681702bd6afb55697a3f91b511c6686ff469f3e3a27c75400001a2334dbd39a4499fe46b50a8b3c278b7d2f7fb5").csv({typed:!0}),weather:()=>new ds("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:s0e,Files:u0e,Generators:v0e,Promises:C0e}))},{resolve:{get:()=>zc.resolve,enumerable:!0,configurable:!0},require:{get:()=>zc,set:Kue,enumerable:!0,configurable:!0}}),{resolveFrom:BN,requireFrom:U2});function D0e(t){return Object.fromEntries(Object.entries(t).map(B0e))}function B0e([t,e]){return[t,{value:e,writable:!0,enumerable:!0}]}function E6(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let n0=E6();function tL(t){n0=t}const nL=/[&<>"']/,z0e=new RegExp(nL.source,"g"),rL=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,F0e=new RegExp(rL.source,"g"),U0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},WS=t=>U0e[t];function ps(t,e){if(e){if(nL.test(t))return t.replace(z0e,WS)}else if(rL.test(t))return t.replace(F0e,WS);return t}const q0e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function iL(t){return t.replace(q0e,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const H0e=/(^|[^\[])\^/g;function ir(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(H0e,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const W0e=/[^\w:]/g,G0e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function GS(t,e,n){if(t){let r;try{r=decodeURIComponent(iL(n)).replace(W0e,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!G0e.test(n)&&(n=Y0e(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const N1={},$0e=/^[^:]+:\/*[^/]*$/,V0e=/^([^:]+:)[\s\S]*$/,Z0e=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Y0e(t,e){N1[" "+t]||($0e.test(t)?N1[" "+t]=t+"/":N1[" "+t]=og(t,"/",!0)),t=N1[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(V0e,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(Z0e,"$1")+e:t+e}const M_={exec:function(){}};function $S(t,e){const n=t.replace(/\|/g,(s,a,l)=>{let c=!1,f=a;for(;--f>=0&&l[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function og(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function j0e(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function K0e(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function VS(t,e,n,r){const i=e.href,s=e.title?ps(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:ps(a)}}function X0e(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class C_{constructor(e){this.options=e||n0}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:og(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=X0e(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=og(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,a,l,c,f,p,m,g,y,b,S=n[1].trim();const I=S.length>1,R={type:"list",raw:"",ordered:I,start:I?+S.slice(0,-1):"",loose:!1,items:[]};S=I?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=I?S:"[*+-]");const k=new RegExp(`^( {0,3}${S})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(b=!1,!(!(n=k.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),p=n[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),m=e.split(`
`,1)[0],this.options.pedantic?(a=2,y=p.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,y=p.slice(a),a+=n[1].length),c=!1,!p&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),b=!0),!b){const C=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),P=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),D=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),F=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],m=g,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(D.test(m)||F.test(m)||C.test(m)||P.test(e)));){if(m.search(/[^ ]/)>=a||!m.trim())y+=`
`+m.slice(a);else{if(c||p.search(/[^ ]/)>=4||D.test(p)||F.test(p)||P.test(p))break;y+=`
`+m}!c&&!m.trim()&&(c=!0),r+=g+`
`,e=e.substring(g.length+1),p=m.slice(a)}}R.loose||(f?R.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(y),i&&(s=i[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),R.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:y}),R.raw+=r}R.items[R.items.length-1].raw=r.trimRight(),R.items[R.items.length-1].text=y.trimRight(),R.raw=R.raw.trimRight();const A=R.items.length;for(l=0;l<A;l++)if(this.lexer.state.top=!1,R.items[l].tokens=this.lexer.blockTokens(R.items[l].text,[]),!R.loose){const C=R.items[l].tokens.filter(D=>D.type==="space"),P=C.length>0&&C.some(D=>/\n.*\n/.test(D.raw));R.loose=P}if(R.loose)for(l=0;l<A;l++)R.items[l].loose=!0;return R}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):ps(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:$S(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,a,l,c;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=$S(r.rows[s],r.header.length).map(f=>({text:f}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(c=r.rows[a],l=0;l<c.length;l++)c[l].tokens=this.lexer.inline(c[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:ps(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):ps(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=og(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=j0e(n[2],"()");if(a>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),VS(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return VS(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=i[0].length-1;let l,c,f=a,p=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+a);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=l.length,i[3]||i[4]){f+=c;continue}else if((i[5]||i[6])&&a%3&&!((a+c)%3)){p+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+p);const g=e.slice(0,a+i.index+c+1);if(Math.min(a,c)%2){const b=g.slice(1,-1);return{type:"em",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}const y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=ps(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=ps(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=ps(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=ps(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=ps(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ps(r[0]):r[0]:i=ps(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const bt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:M_,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};bt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;bt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;bt.def=ir(bt.def).replace("label",bt._label).replace("title",bt._title).getRegex();bt.bullet=/(?:[*+-]|\d{1,9}[.)])/;bt.listItemStart=ir(/^( *)(bull) */).replace("bull",bt.bullet).getRegex();bt.list=ir(bt.list).replace(/bull/g,bt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+bt.def.source+")").getRegex();bt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";bt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;bt.html=ir(bt.html,"i").replace("comment",bt._comment).replace("tag",bt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();bt.lheading=ir(bt.lheading).replace(/bull/g,bt.bullet).getRegex();bt.paragraph=ir(bt._paragraph).replace("hr",bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bt._tag).getRegex();bt.blockquote=ir(bt.blockquote).replace("paragraph",bt.paragraph).getRegex();bt.normal={...bt};bt.gfm={...bt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};bt.gfm.table=ir(bt.gfm.table).replace("hr",bt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bt._tag).getRegex();bt.gfm.paragraph=ir(bt._paragraph).replace("hr",bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",bt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bt._tag).getRegex();bt.pedantic={...bt.normal,html:ir(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",bt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:M_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ir(bt.normal._paragraph).replace("hr",bt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:M_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:M_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};ot._punctuation="\\p{P}$+<=>`^|~";ot.punctuation=ir(ot.punctuation,"u").replace(/punctuation/g,ot._punctuation).getRegex();ot.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;ot.anyPunctuation=/\\[punct]/g;ot._escapes=/\\([punct])/g;ot._comment=ir(bt._comment).replace("(?:-->|$)","-->").getRegex();ot.emStrong.lDelim=ir(ot.emStrong.lDelim,"u").replace(/punct/g,ot._punctuation).getRegex();ot.emStrong.rDelimAst=ir(ot.emStrong.rDelimAst,"gu").replace(/punct/g,ot._punctuation).getRegex();ot.emStrong.rDelimUnd=ir(ot.emStrong.rDelimUnd,"gu").replace(/punct/g,ot._punctuation).getRegex();ot.anyPunctuation=ir(ot.anyPunctuation,"gu").replace(/punct/g,ot._punctuation).getRegex();ot._escapes=ir(ot._escapes,"gu").replace(/punct/g,ot._punctuation).getRegex();ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ot.autolink=ir(ot.autolink).replace("scheme",ot._scheme).replace("email",ot._email).getRegex();ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ot.tag=ir(ot.tag).replace("comment",ot._comment).replace("attribute",ot._attribute).getRegex();ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ot.link=ir(ot.link).replace("label",ot._label).replace("href",ot._href).replace("title",ot._title).getRegex();ot.reflink=ir(ot.reflink).replace("label",ot._label).replace("ref",bt._label).getRegex();ot.nolink=ir(ot.nolink).replace("ref",bt._label).getRegex();ot.reflinkSearch=ir(ot.reflinkSearch,"g").replace("reflink",ot.reflink).replace("nolink",ot.nolink).getRegex();ot.normal={...ot};ot.pedantic={...ot.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ir(/^!?\[(label)\]\((.*?)\)/).replace("label",ot._label).getRegex(),reflink:ir(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ot._label).getRegex()};ot.gfm={...ot.normal,escape:ir(ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};ot.gfm.url=ir(ot.gfm.url,"i").replace("email",ot.gfm._extended_email).getRegex();ot.breaks={...ot.gfm,br:ir(ot.br).replace("{2,}","*").getRegex(),text:ir(ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function J0e(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ZS(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}let R0=class Jb{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||n0,this.options.tokenizer=this.options.tokenizer||new C_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:bt.normal,inline:ot.normal};this.options.pedantic?(n.block=bt.pedantic,n.inline=ot.pedantic):this.options.gfm&&(n.block=bt.gfm,this.options.breaks?n.inline=ot.breaks:n.inline=ot.gfm),this.tokenizer.rules=n}static get rules(){return{block:bt,inline:ot}}static lex(e,n){return new Jb(n).lex(e)}static lexInline(e,n){return new Jb(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,f)=>c+"    ".repeat(f.length));let r,i,s,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},c),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a=e,l,c,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,ZS)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,ZS))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(function(y){g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s,J0e)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}};class A_{constructor(e){this.options=e||n0}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+ps(i)+'">'+(r?e:ps(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:ps(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=GS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=GS(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class M6{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class C6{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}let P0=class Qb{constructor(e){this.options=e||n0,this.options.renderer=this.options.renderer||new A_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new M6,this.slugger=new C6}static parse(e,n){return new Qb(n).parse(e)}static parseInline(e,n){return new Qb(n).parseInline(e)}parse(e,n=!0){let r="",i,s,a,l,c,f,p,m,g,y,b,S,I,R,k,A,C,P,D;const F=e.length;for(i=0;i<F;i++){if(y=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[y.type]&&(D=this.options.extensions.renderers[y.type].call({parser:this},y),D!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type))){r+=D||"";continue}switch(y.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(y.tokens),y.depth,iL(this.parseInline(y.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(y.text,y.lang,y.escaped);continue}case"table":{for(m="",p="",l=y.header.length,s=0;s<l;s++)p+=this.renderer.tablecell(this.parseInline(y.header[s].tokens),{header:!0,align:y.align[s]});for(m+=this.renderer.tablerow(p),g="",l=y.rows.length,s=0;s<l;s++){for(f=y.rows[s],p="",c=f.length,a=0;a<c;a++)p+=this.renderer.tablecell(this.parseInline(f[a].tokens),{header:!1,align:y.align[a]});g+=this.renderer.tablerow(p)}r+=this.renderer.table(m,g);continue}case"blockquote":{g=this.parse(y.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(b=y.ordered,S=y.start,I=y.loose,l=y.items.length,g="",s=0;s<l;s++)k=y.items[s],A=k.checked,C=k.task,R="",k.task&&(P=this.renderer.checkbox(A),I?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=P+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=P+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:P}):R+=P),R+=this.parse(k.tokens,I),g+=this.renderer.listitem(R,C,A);r+=this.renderer.list(g,b,S);continue}case"html":{r+=this.renderer.html(y.text,y.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(y.tokens));continue}case"text":{for(g=y.tokens?this.parseInline(y.tokens):y.text;i+1<F&&e[i+1].type==="text";)y=e[++i],g+=`
`+(y.tokens?this.parseInline(y.tokens):y.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const Z='Token with "'+y.type+'" type was not found.';if(this.options.silent){console.error(Z);return}else throw new Error(Z)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,a;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const c='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return r}};class Yd{constructor(e){this.options=e||n0}preprocess(e){return e}postprocess(e){return e}}zs(Yd,"passThroughHooks",new Set(["preprocess","postprocess"]));var zp,e3,O_,sL;class Q0e{constructor(...e){Wv(this,zp);Wv(this,O_);zs(this,"defaults",E6());zs(this,"options",this.setOptions);zs(this,"parse",n1(this,zp,e3).call(this,R0.lex,P0.parse));zs(this,"parseInline",n1(this,zp,e3).call(this,R0.lexInline,P0.parseInline));zs(this,"Parser",P0);zs(this,"parser",P0.parse);zs(this,"Renderer",A_);zs(this,"TextRenderer",M6);zs(this,"Lexer",R0);zs(this,"lexer",R0.lex);zs(this,"Tokenizer",C_);zs(this,"Slugger",C6);zs(this,"Hooks",Yd);this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{for(const s of i.header)r=r.concat(this.walkTokens(s.tokens,n));for(const s of i.rows)for(const a of s)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{r=r.concat(this.walkTokens(i.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=n.renderers[s.name];a?n.renderers[s.name]=function(...l){let c=s.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:n.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[s.level]?n[s.level].unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new A_(this.defaults);for(const a in r.renderer){const l=s[a];s[a]=(...c)=>{let f=r.renderer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new C_(this.defaults);for(const a in r.tokenizer){const l=s[a];s[a]=(...c)=>{let f=r.tokenizer[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Yd;for(const a in r.hooks){const l=s[a];Yd.passThroughHooks.has(a)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(r.hooks[a].call(s,c)).then(p=>l.call(s,p));const f=r.hooks[a].call(s,c);return l.call(s,f)}:s[a]=(...c)=>{let f=r.hooks[a].apply(s,c);return f===!1&&(f=l.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let l=[];return l.push(r.walkTokens.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}zp=new WeakSet,e3=function(e,n){return(r,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const l=n1(this,O_,sL).call(this,i.silent,i.async,s);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(K0e(i,s),i.hooks&&(i.hooks.options=i),s){const c=i.highlight;let f;try{i.hooks&&(r=i.hooks.preprocess(r)),f=e(r,i)}catch(g){return l(g)}const p=g=>{let y;if(!g)try{i.walkTokens&&this.walkTokens(f,i.walkTokens),y=n(f,i),i.hooks&&(y=i.hooks.postprocess(y))}catch(b){g=b}return i.highlight=c,g?l(g):s(null,y)};if(!c||c.length<3||(delete i.highlight,!f.length))return p();let m=0;this.walkTokens(f,g=>{g.type==="code"&&(m++,setTimeout(()=>{c(g.text,g.lang,(y,b)=>{if(y)return p(y);b!=null&&b!==g.text&&(g.text=b,g.escaped=!0),m--,m===0&&p()})},0))}),m===0&&p();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(c=>e(c,i)).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>n(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(l);try{i.hooks&&(r=i.hooks.preprocess(r));const c=e(r,i);i.walkTokens&&this.walkTokens(c,i.walkTokens);let f=n(c,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(c){return l(c)}}},O_=new WeakSet,sL=function(e,n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+ps(i.message+"",!0)+"</pre>";if(n)return Promise.resolve(s);if(r){r(null,s);return}return s}if(n)return Promise.reject(i);if(r){r(i);return}throw i}};const nf=new Q0e(n0);function Jn(t,e,n){return nf.parse(t,e,n)}Jn.options=Jn.setOptions=function(t){return nf.setOptions(t),Jn.defaults=nf.defaults,tL(Jn.defaults),Jn};Jn.getDefaults=E6;Jn.defaults=n0;Jn.use=function(...t){return nf.use(...t),Jn.defaults=nf.defaults,tL(Jn.defaults),Jn};Jn.walkTokens=function(t,e){return nf.walkTokens(t,e)};Jn.parseInline=nf.parseInline;Jn.Parser=P0;Jn.parser=P0.parse;Jn.Renderer=A_;Jn.TextRenderer=M6;Jn.Lexer=R0;Jn.lexer=R0.lex;Jn.Tokenizer=C_;Jn.Slugger=C6;Jn.Hooks=Yd;Jn.parse=Jn;Jn.options;Jn.setOptions;Jn.use;Jn.walkTokens;Jn.parseInline;P0.parse;R0.lex;class Wa{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Wa(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class zl{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new zl(n,Wa.range(this,e))}}class Ge{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,s=a.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var c=l.slice(i,s).replace(/[^]/g,"$&̲"),f;i>15?f="…"+l.slice(i-15,i):f=l.slice(0,i);var p;s+15<l.length?p=l.slice(s,s+15)+"…":p=l.slice(s),r+=f+c+p}var m=new Error(r);return m.name="ParseError",m.__proto__=Ge.prototype,m.position=i,i!=null&&s!=null&&(m.length=s-i),m.rawMessage=e,m}}Ge.prototype.__proto__=Error.prototype;var efe=function(e,n){return e.indexOf(n)!==-1},tfe=function(e,n){return e===void 0?n:e},nfe=/([A-Z])/g,rfe=function(e){return e.replace(nfe,"-$1").toLowerCase()},ife={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},sfe=/[&><"']/g;function afe(t){return String(t).replace(sfe,e=>ife[e])}var aL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},ofe=function(e){var n=aL(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},lfe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},ufe=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},zt={contains:efe,deflt:tfe,escape:afe,hyphenate:rfe,getBaseElem:aL,isCharacterBox:ofe,protocolFromUrl:ufe},lg={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function cfe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class A6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in lg)if(lg.hasOwnProperty(n)){var r=lg[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:cfe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ge("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=zt.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class vc{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return El[ffe[this.id]]}sub(){return El[hfe[this.id]]}fracNum(){return El[dfe[this.id]]}fracDen(){return El[pfe[this.id]]}cramp(){return El[mfe[this.id]]}text(){return El[gfe[this.id]]}isTight(){return this.size>=2}}var I6=0,I_=1,rh=2,Uu=3,Op=4,vo=5,Ih=6,Vs=7,El=[new vc(I6,0,!1),new vc(I_,0,!0),new vc(rh,1,!1),new vc(Uu,1,!0),new vc(Op,2,!1),new vc(vo,2,!0),new vc(Ih,3,!1),new vc(Vs,3,!0)],ffe=[Op,vo,Op,vo,Ih,Vs,Ih,Vs],hfe=[vo,vo,vo,vo,Vs,Vs,Vs,Vs],dfe=[rh,Uu,Op,vo,Ih,Vs,Ih,Vs],pfe=[Uu,Uu,vo,vo,Vs,Vs,Vs,Vs],mfe=[I_,I_,Uu,Uu,vo,vo,Vs,Vs],gfe=[I6,I_,rh,Uu,rh,Uu,rh,Uu],Tt={DISPLAY:El[I6],TEXT:El[rh],SCRIPT:El[Op],SCRIPTSCRIPT:El[Ih]},t3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function _fe(t){for(var e=0;e<t3.length;e++)for(var n=t3[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var ug=[];t3.forEach(t=>t.blocks.forEach(e=>ug.push(...e)));function oL(t){for(var e=0;e<ug.length;e+=2)if(t>=ug[e]&&t<=ug[e+1])return!0;return!1}var Bf=80,vfe=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},yfe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},bfe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},wfe=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},xfe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},Sfe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Tfe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},kfe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=vfe(n,Bf);break;case"sqrtSize1":i=yfe(n,Bf);break;case"sqrtSize2":i=bfe(n,Bf);break;case"sqrtSize3":i=wfe(n,Bf);break;case"sqrtSize4":i=xfe(n,Bf);break;case"sqrtTall":i=Tfe(n,Bf,r)}return i},Efe=function(e,n){switch(e){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},YS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Mfe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Cm{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return zt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Nl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},L1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},jS={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Cfe(t,e){Nl[t]=e}function R6(t,e,n){if(!Nl[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Nl[e][r];if(!i&&t[0]in jS&&(r=jS[t[0]].charCodeAt(0),i=Nl[e][r]),!i&&n==="text"&&oL(r)&&(i=Nl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var ey={};function Afe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!ey[e]){var n=ey[e]={cssEmPerMu:L1.quad[e]/18};for(var r in L1)L1.hasOwnProperty(r)&&(n[r]=L1[r][e])}return ey[e]}var Ife=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],KS=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],XS=function(e,n){return n.size<2?e:Ife[e-1][n.size-1]};class Au{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Au.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=KS[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Au(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:XS(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:KS[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=XS(Au.BASESIZE,e);return this.size===n&&this.textSize===Au.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Au.BASESIZE?["sizing","reset-size"+this.size,"size"+Au.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Afe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Au.BASESIZE=6;var n3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Rfe={ex:!0,em:!0,mu:!0},lL=function(e){return typeof e!="string"&&(e=e.unit),e in n3||e in Rfe||e==="ex"},Gr=function(e,n){var r;if(e.unit in n3)r=n3[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ge("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Xe=function(e){return+e.toFixed(4)+"em"},Yc=function(e){return e.filter(n=>n).join(" ")},uL=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},cL=function(e){var n=document.createElement(e);n.className=Yc(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},fL=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+zt.escape(Yc(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=zt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+zt.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+zt.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class Am{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,uL.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return zt.contains(this.classes,e)}toNode(){return cL.call(this,"span")}toMarkup(){return fL.call(this,"span")}}class P6{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,uL.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return zt.contains(this.classes,e)}toNode(){return cL.call(this,"a")}toMarkup(){return fL.call(this,"a")}}class Pfe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return zt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=zt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+zt.escape(n)+'"'),e+="'/>",e}}var Nfe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ko{constructor(e,n,r,i,s,a,l,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0;var f=_fe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Nfe[this.text])}hasClass(e){return zt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Xe(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Yc(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=zt.escape(Yc(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=zt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+zt.escape(r)+'"');var s=zt.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Yu{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class jc{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",YS[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+YS[this.pathName]+"'/>"}}class r3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function JS(t){if(t instanceof ko)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Lfe(t){if(t instanceof Am)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Ofe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Dfe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Er={math:{},text:{}};function x(t,e,n,r,i,s){Er[t][i]={font:e,group:n,replace:r},s&&r&&(Er[t][r]=Er[t][i])}var M="math",Fe="text",B="main",j="ams",Or="accent-token",lt="bin",Xs="close",$h="inner",St="mathord",_i="op-token",ja="open",W2="punct",X="rel",rc="spacing",oe="textord";x(M,B,X,"≡","\\equiv",!0);x(M,B,X,"≺","\\prec",!0);x(M,B,X,"≻","\\succ",!0);x(M,B,X,"∼","\\sim",!0);x(M,B,X,"⊥","\\perp");x(M,B,X,"⪯","\\preceq",!0);x(M,B,X,"⪰","\\succeq",!0);x(M,B,X,"≃","\\simeq",!0);x(M,B,X,"∣","\\mid",!0);x(M,B,X,"≪","\\ll",!0);x(M,B,X,"≫","\\gg",!0);x(M,B,X,"≍","\\asymp",!0);x(M,B,X,"∥","\\parallel");x(M,B,X,"⋈","\\bowtie",!0);x(M,B,X,"⌣","\\smile",!0);x(M,B,X,"⊑","\\sqsubseteq",!0);x(M,B,X,"⊒","\\sqsupseteq",!0);x(M,B,X,"≐","\\doteq",!0);x(M,B,X,"⌢","\\frown",!0);x(M,B,X,"∋","\\ni",!0);x(M,B,X,"∝","\\propto",!0);x(M,B,X,"⊢","\\vdash",!0);x(M,B,X,"⊣","\\dashv",!0);x(M,B,X,"∋","\\owns");x(M,B,W2,".","\\ldotp");x(M,B,W2,"⋅","\\cdotp");x(M,B,oe,"#","\\#");x(Fe,B,oe,"#","\\#");x(M,B,oe,"&","\\&");x(Fe,B,oe,"&","\\&");x(M,B,oe,"ℵ","\\aleph",!0);x(M,B,oe,"∀","\\forall",!0);x(M,B,oe,"ℏ","\\hbar",!0);x(M,B,oe,"∃","\\exists",!0);x(M,B,oe,"∇","\\nabla",!0);x(M,B,oe,"♭","\\flat",!0);x(M,B,oe,"ℓ","\\ell",!0);x(M,B,oe,"♮","\\natural",!0);x(M,B,oe,"♣","\\clubsuit",!0);x(M,B,oe,"℘","\\wp",!0);x(M,B,oe,"♯","\\sharp",!0);x(M,B,oe,"♢","\\diamondsuit",!0);x(M,B,oe,"ℜ","\\Re",!0);x(M,B,oe,"♡","\\heartsuit",!0);x(M,B,oe,"ℑ","\\Im",!0);x(M,B,oe,"♠","\\spadesuit",!0);x(M,B,oe,"§","\\S",!0);x(Fe,B,oe,"§","\\S");x(M,B,oe,"¶","\\P",!0);x(Fe,B,oe,"¶","\\P");x(M,B,oe,"†","\\dag");x(Fe,B,oe,"†","\\dag");x(Fe,B,oe,"†","\\textdagger");x(M,B,oe,"‡","\\ddag");x(Fe,B,oe,"‡","\\ddag");x(Fe,B,oe,"‡","\\textdaggerdbl");x(M,B,Xs,"⎱","\\rmoustache",!0);x(M,B,ja,"⎰","\\lmoustache",!0);x(M,B,Xs,"⟯","\\rgroup",!0);x(M,B,ja,"⟮","\\lgroup",!0);x(M,B,lt,"∓","\\mp",!0);x(M,B,lt,"⊖","\\ominus",!0);x(M,B,lt,"⊎","\\uplus",!0);x(M,B,lt,"⊓","\\sqcap",!0);x(M,B,lt,"∗","\\ast");x(M,B,lt,"⊔","\\sqcup",!0);x(M,B,lt,"◯","\\bigcirc",!0);x(M,B,lt,"∙","\\bullet",!0);x(M,B,lt,"‡","\\ddagger");x(M,B,lt,"≀","\\wr",!0);x(M,B,lt,"⨿","\\amalg");x(M,B,lt,"&","\\And");x(M,B,X,"⟵","\\longleftarrow",!0);x(M,B,X,"⇐","\\Leftarrow",!0);x(M,B,X,"⟸","\\Longleftarrow",!0);x(M,B,X,"⟶","\\longrightarrow",!0);x(M,B,X,"⇒","\\Rightarrow",!0);x(M,B,X,"⟹","\\Longrightarrow",!0);x(M,B,X,"↔","\\leftrightarrow",!0);x(M,B,X,"⟷","\\longleftrightarrow",!0);x(M,B,X,"⇔","\\Leftrightarrow",!0);x(M,B,X,"⟺","\\Longleftrightarrow",!0);x(M,B,X,"↦","\\mapsto",!0);x(M,B,X,"⟼","\\longmapsto",!0);x(M,B,X,"↗","\\nearrow",!0);x(M,B,X,"↩","\\hookleftarrow",!0);x(M,B,X,"↪","\\hookrightarrow",!0);x(M,B,X,"↘","\\searrow",!0);x(M,B,X,"↼","\\leftharpoonup",!0);x(M,B,X,"⇀","\\rightharpoonup",!0);x(M,B,X,"↙","\\swarrow",!0);x(M,B,X,"↽","\\leftharpoondown",!0);x(M,B,X,"⇁","\\rightharpoondown",!0);x(M,B,X,"↖","\\nwarrow",!0);x(M,B,X,"⇌","\\rightleftharpoons",!0);x(M,j,X,"≮","\\nless",!0);x(M,j,X,"","\\@nleqslant");x(M,j,X,"","\\@nleqq");x(M,j,X,"⪇","\\lneq",!0);x(M,j,X,"≨","\\lneqq",!0);x(M,j,X,"","\\@lvertneqq");x(M,j,X,"⋦","\\lnsim",!0);x(M,j,X,"⪉","\\lnapprox",!0);x(M,j,X,"⊀","\\nprec",!0);x(M,j,X,"⋠","\\npreceq",!0);x(M,j,X,"⋨","\\precnsim",!0);x(M,j,X,"⪹","\\precnapprox",!0);x(M,j,X,"≁","\\nsim",!0);x(M,j,X,"","\\@nshortmid");x(M,j,X,"∤","\\nmid",!0);x(M,j,X,"⊬","\\nvdash",!0);x(M,j,X,"⊭","\\nvDash",!0);x(M,j,X,"⋪","\\ntriangleleft");x(M,j,X,"⋬","\\ntrianglelefteq",!0);x(M,j,X,"⊊","\\subsetneq",!0);x(M,j,X,"","\\@varsubsetneq");x(M,j,X,"⫋","\\subsetneqq",!0);x(M,j,X,"","\\@varsubsetneqq");x(M,j,X,"≯","\\ngtr",!0);x(M,j,X,"","\\@ngeqslant");x(M,j,X,"","\\@ngeqq");x(M,j,X,"⪈","\\gneq",!0);x(M,j,X,"≩","\\gneqq",!0);x(M,j,X,"","\\@gvertneqq");x(M,j,X,"⋧","\\gnsim",!0);x(M,j,X,"⪊","\\gnapprox",!0);x(M,j,X,"⊁","\\nsucc",!0);x(M,j,X,"⋡","\\nsucceq",!0);x(M,j,X,"⋩","\\succnsim",!0);x(M,j,X,"⪺","\\succnapprox",!0);x(M,j,X,"≆","\\ncong",!0);x(M,j,X,"","\\@nshortparallel");x(M,j,X,"∦","\\nparallel",!0);x(M,j,X,"⊯","\\nVDash",!0);x(M,j,X,"⋫","\\ntriangleright");x(M,j,X,"⋭","\\ntrianglerighteq",!0);x(M,j,X,"","\\@nsupseteqq");x(M,j,X,"⊋","\\supsetneq",!0);x(M,j,X,"","\\@varsupsetneq");x(M,j,X,"⫌","\\supsetneqq",!0);x(M,j,X,"","\\@varsupsetneqq");x(M,j,X,"⊮","\\nVdash",!0);x(M,j,X,"⪵","\\precneqq",!0);x(M,j,X,"⪶","\\succneqq",!0);x(M,j,X,"","\\@nsubseteqq");x(M,j,lt,"⊴","\\unlhd");x(M,j,lt,"⊵","\\unrhd");x(M,j,X,"↚","\\nleftarrow",!0);x(M,j,X,"↛","\\nrightarrow",!0);x(M,j,X,"⇍","\\nLeftarrow",!0);x(M,j,X,"⇏","\\nRightarrow",!0);x(M,j,X,"↮","\\nleftrightarrow",!0);x(M,j,X,"⇎","\\nLeftrightarrow",!0);x(M,j,X,"△","\\vartriangle");x(M,j,oe,"ℏ","\\hslash");x(M,j,oe,"▽","\\triangledown");x(M,j,oe,"◊","\\lozenge");x(M,j,oe,"Ⓢ","\\circledS");x(M,j,oe,"®","\\circledR");x(Fe,j,oe,"®","\\circledR");x(M,j,oe,"∡","\\measuredangle",!0);x(M,j,oe,"∄","\\nexists");x(M,j,oe,"℧","\\mho");x(M,j,oe,"Ⅎ","\\Finv",!0);x(M,j,oe,"⅁","\\Game",!0);x(M,j,oe,"‵","\\backprime");x(M,j,oe,"▲","\\blacktriangle");x(M,j,oe,"▼","\\blacktriangledown");x(M,j,oe,"■","\\blacksquare");x(M,j,oe,"⧫","\\blacklozenge");x(M,j,oe,"★","\\bigstar");x(M,j,oe,"∢","\\sphericalangle",!0);x(M,j,oe,"∁","\\complement",!0);x(M,j,oe,"ð","\\eth",!0);x(Fe,B,oe,"ð","ð");x(M,j,oe,"╱","\\diagup");x(M,j,oe,"╲","\\diagdown");x(M,j,oe,"□","\\square");x(M,j,oe,"□","\\Box");x(M,j,oe,"◊","\\Diamond");x(M,j,oe,"¥","\\yen",!0);x(Fe,j,oe,"¥","\\yen",!0);x(M,j,oe,"✓","\\checkmark",!0);x(Fe,j,oe,"✓","\\checkmark");x(M,j,oe,"ℶ","\\beth",!0);x(M,j,oe,"ℸ","\\daleth",!0);x(M,j,oe,"ℷ","\\gimel",!0);x(M,j,oe,"ϝ","\\digamma",!0);x(M,j,oe,"ϰ","\\varkappa");x(M,j,ja,"┌","\\@ulcorner",!0);x(M,j,Xs,"┐","\\@urcorner",!0);x(M,j,ja,"└","\\@llcorner",!0);x(M,j,Xs,"┘","\\@lrcorner",!0);x(M,j,X,"≦","\\leqq",!0);x(M,j,X,"⩽","\\leqslant",!0);x(M,j,X,"⪕","\\eqslantless",!0);x(M,j,X,"≲","\\lesssim",!0);x(M,j,X,"⪅","\\lessapprox",!0);x(M,j,X,"≊","\\approxeq",!0);x(M,j,lt,"⋖","\\lessdot");x(M,j,X,"⋘","\\lll",!0);x(M,j,X,"≶","\\lessgtr",!0);x(M,j,X,"⋚","\\lesseqgtr",!0);x(M,j,X,"⪋","\\lesseqqgtr",!0);x(M,j,X,"≑","\\doteqdot");x(M,j,X,"≓","\\risingdotseq",!0);x(M,j,X,"≒","\\fallingdotseq",!0);x(M,j,X,"∽","\\backsim",!0);x(M,j,X,"⋍","\\backsimeq",!0);x(M,j,X,"⫅","\\subseteqq",!0);x(M,j,X,"⋐","\\Subset",!0);x(M,j,X,"⊏","\\sqsubset",!0);x(M,j,X,"≼","\\preccurlyeq",!0);x(M,j,X,"⋞","\\curlyeqprec",!0);x(M,j,X,"≾","\\precsim",!0);x(M,j,X,"⪷","\\precapprox",!0);x(M,j,X,"⊲","\\vartriangleleft");x(M,j,X,"⊴","\\trianglelefteq");x(M,j,X,"⊨","\\vDash",!0);x(M,j,X,"⊪","\\Vvdash",!0);x(M,j,X,"⌣","\\smallsmile");x(M,j,X,"⌢","\\smallfrown");x(M,j,X,"≏","\\bumpeq",!0);x(M,j,X,"≎","\\Bumpeq",!0);x(M,j,X,"≧","\\geqq",!0);x(M,j,X,"⩾","\\geqslant",!0);x(M,j,X,"⪖","\\eqslantgtr",!0);x(M,j,X,"≳","\\gtrsim",!0);x(M,j,X,"⪆","\\gtrapprox",!0);x(M,j,lt,"⋗","\\gtrdot");x(M,j,X,"⋙","\\ggg",!0);x(M,j,X,"≷","\\gtrless",!0);x(M,j,X,"⋛","\\gtreqless",!0);x(M,j,X,"⪌","\\gtreqqless",!0);x(M,j,X,"≖","\\eqcirc",!0);x(M,j,X,"≗","\\circeq",!0);x(M,j,X,"≜","\\triangleq",!0);x(M,j,X,"∼","\\thicksim");x(M,j,X,"≈","\\thickapprox");x(M,j,X,"⫆","\\supseteqq",!0);x(M,j,X,"⋑","\\Supset",!0);x(M,j,X,"⊐","\\sqsupset",!0);x(M,j,X,"≽","\\succcurlyeq",!0);x(M,j,X,"⋟","\\curlyeqsucc",!0);x(M,j,X,"≿","\\succsim",!0);x(M,j,X,"⪸","\\succapprox",!0);x(M,j,X,"⊳","\\vartriangleright");x(M,j,X,"⊵","\\trianglerighteq");x(M,j,X,"⊩","\\Vdash",!0);x(M,j,X,"∣","\\shortmid");x(M,j,X,"∥","\\shortparallel");x(M,j,X,"≬","\\between",!0);x(M,j,X,"⋔","\\pitchfork",!0);x(M,j,X,"∝","\\varpropto");x(M,j,X,"◀","\\blacktriangleleft");x(M,j,X,"∴","\\therefore",!0);x(M,j,X,"∍","\\backepsilon");x(M,j,X,"▶","\\blacktriangleright");x(M,j,X,"∵","\\because",!0);x(M,j,X,"⋘","\\llless");x(M,j,X,"⋙","\\gggtr");x(M,j,lt,"⊲","\\lhd");x(M,j,lt,"⊳","\\rhd");x(M,j,X,"≂","\\eqsim",!0);x(M,B,X,"⋈","\\Join");x(M,j,X,"≑","\\Doteq",!0);x(M,j,lt,"∔","\\dotplus",!0);x(M,j,lt,"∖","\\smallsetminus");x(M,j,lt,"⋒","\\Cap",!0);x(M,j,lt,"⋓","\\Cup",!0);x(M,j,lt,"⩞","\\doublebarwedge",!0);x(M,j,lt,"⊟","\\boxminus",!0);x(M,j,lt,"⊞","\\boxplus",!0);x(M,j,lt,"⋇","\\divideontimes",!0);x(M,j,lt,"⋉","\\ltimes",!0);x(M,j,lt,"⋊","\\rtimes",!0);x(M,j,lt,"⋋","\\leftthreetimes",!0);x(M,j,lt,"⋌","\\rightthreetimes",!0);x(M,j,lt,"⋏","\\curlywedge",!0);x(M,j,lt,"⋎","\\curlyvee",!0);x(M,j,lt,"⊝","\\circleddash",!0);x(M,j,lt,"⊛","\\circledast",!0);x(M,j,lt,"⋅","\\centerdot");x(M,j,lt,"⊺","\\intercal",!0);x(M,j,lt,"⋒","\\doublecap");x(M,j,lt,"⋓","\\doublecup");x(M,j,lt,"⊠","\\boxtimes",!0);x(M,j,X,"⇢","\\dashrightarrow",!0);x(M,j,X,"⇠","\\dashleftarrow",!0);x(M,j,X,"⇇","\\leftleftarrows",!0);x(M,j,X,"⇆","\\leftrightarrows",!0);x(M,j,X,"⇚","\\Lleftarrow",!0);x(M,j,X,"↞","\\twoheadleftarrow",!0);x(M,j,X,"↢","\\leftarrowtail",!0);x(M,j,X,"↫","\\looparrowleft",!0);x(M,j,X,"⇋","\\leftrightharpoons",!0);x(M,j,X,"↶","\\curvearrowleft",!0);x(M,j,X,"↺","\\circlearrowleft",!0);x(M,j,X,"↰","\\Lsh",!0);x(M,j,X,"⇈","\\upuparrows",!0);x(M,j,X,"↿","\\upharpoonleft",!0);x(M,j,X,"⇃","\\downharpoonleft",!0);x(M,B,X,"⊶","\\origof",!0);x(M,B,X,"⊷","\\imageof",!0);x(M,j,X,"⊸","\\multimap",!0);x(M,j,X,"↭","\\leftrightsquigarrow",!0);x(M,j,X,"⇉","\\rightrightarrows",!0);x(M,j,X,"⇄","\\rightleftarrows",!0);x(M,j,X,"↠","\\twoheadrightarrow",!0);x(M,j,X,"↣","\\rightarrowtail",!0);x(M,j,X,"↬","\\looparrowright",!0);x(M,j,X,"↷","\\curvearrowright",!0);x(M,j,X,"↻","\\circlearrowright",!0);x(M,j,X,"↱","\\Rsh",!0);x(M,j,X,"⇊","\\downdownarrows",!0);x(M,j,X,"↾","\\upharpoonright",!0);x(M,j,X,"⇂","\\downharpoonright",!0);x(M,j,X,"⇝","\\rightsquigarrow",!0);x(M,j,X,"⇝","\\leadsto");x(M,j,X,"⇛","\\Rrightarrow",!0);x(M,j,X,"↾","\\restriction");x(M,B,oe,"‘","`");x(M,B,oe,"$","\\$");x(Fe,B,oe,"$","\\$");x(Fe,B,oe,"$","\\textdollar");x(M,B,oe,"%","\\%");x(Fe,B,oe,"%","\\%");x(M,B,oe,"_","\\_");x(Fe,B,oe,"_","\\_");x(Fe,B,oe,"_","\\textunderscore");x(M,B,oe,"∠","\\angle",!0);x(M,B,oe,"∞","\\infty",!0);x(M,B,oe,"′","\\prime");x(M,B,oe,"△","\\triangle");x(M,B,oe,"Γ","\\Gamma",!0);x(M,B,oe,"Δ","\\Delta",!0);x(M,B,oe,"Θ","\\Theta",!0);x(M,B,oe,"Λ","\\Lambda",!0);x(M,B,oe,"Ξ","\\Xi",!0);x(M,B,oe,"Π","\\Pi",!0);x(M,B,oe,"Σ","\\Sigma",!0);x(M,B,oe,"Υ","\\Upsilon",!0);x(M,B,oe,"Φ","\\Phi",!0);x(M,B,oe,"Ψ","\\Psi",!0);x(M,B,oe,"Ω","\\Omega",!0);x(M,B,oe,"A","Α");x(M,B,oe,"B","Β");x(M,B,oe,"E","Ε");x(M,B,oe,"Z","Ζ");x(M,B,oe,"H","Η");x(M,B,oe,"I","Ι");x(M,B,oe,"K","Κ");x(M,B,oe,"M","Μ");x(M,B,oe,"N","Ν");x(M,B,oe,"O","Ο");x(M,B,oe,"P","Ρ");x(M,B,oe,"T","Τ");x(M,B,oe,"X","Χ");x(M,B,oe,"¬","\\neg",!0);x(M,B,oe,"¬","\\lnot");x(M,B,oe,"⊤","\\top");x(M,B,oe,"⊥","\\bot");x(M,B,oe,"∅","\\emptyset");x(M,j,oe,"∅","\\varnothing");x(M,B,St,"α","\\alpha",!0);x(M,B,St,"β","\\beta",!0);x(M,B,St,"γ","\\gamma",!0);x(M,B,St,"δ","\\delta",!0);x(M,B,St,"ϵ","\\epsilon",!0);x(M,B,St,"ζ","\\zeta",!0);x(M,B,St,"η","\\eta",!0);x(M,B,St,"θ","\\theta",!0);x(M,B,St,"ι","\\iota",!0);x(M,B,St,"κ","\\kappa",!0);x(M,B,St,"λ","\\lambda",!0);x(M,B,St,"μ","\\mu",!0);x(M,B,St,"ν","\\nu",!0);x(M,B,St,"ξ","\\xi",!0);x(M,B,St,"ο","\\omicron",!0);x(M,B,St,"π","\\pi",!0);x(M,B,St,"ρ","\\rho",!0);x(M,B,St,"σ","\\sigma",!0);x(M,B,St,"τ","\\tau",!0);x(M,B,St,"υ","\\upsilon",!0);x(M,B,St,"ϕ","\\phi",!0);x(M,B,St,"χ","\\chi",!0);x(M,B,St,"ψ","\\psi",!0);x(M,B,St,"ω","\\omega",!0);x(M,B,St,"ε","\\varepsilon",!0);x(M,B,St,"ϑ","\\vartheta",!0);x(M,B,St,"ϖ","\\varpi",!0);x(M,B,St,"ϱ","\\varrho",!0);x(M,B,St,"ς","\\varsigma",!0);x(M,B,St,"φ","\\varphi",!0);x(M,B,lt,"∗","*",!0);x(M,B,lt,"+","+");x(M,B,lt,"−","-",!0);x(M,B,lt,"⋅","\\cdot",!0);x(M,B,lt,"∘","\\circ",!0);x(M,B,lt,"÷","\\div",!0);x(M,B,lt,"±","\\pm",!0);x(M,B,lt,"×","\\times",!0);x(M,B,lt,"∩","\\cap",!0);x(M,B,lt,"∪","\\cup",!0);x(M,B,lt,"∖","\\setminus",!0);x(M,B,lt,"∧","\\land");x(M,B,lt,"∨","\\lor");x(M,B,lt,"∧","\\wedge",!0);x(M,B,lt,"∨","\\vee",!0);x(M,B,oe,"√","\\surd");x(M,B,ja,"⟨","\\langle",!0);x(M,B,ja,"∣","\\lvert");x(M,B,ja,"∥","\\lVert");x(M,B,Xs,"?","?");x(M,B,Xs,"!","!");x(M,B,Xs,"⟩","\\rangle",!0);x(M,B,Xs,"∣","\\rvert");x(M,B,Xs,"∥","\\rVert");x(M,B,X,"=","=");x(M,B,X,":",":");x(M,B,X,"≈","\\approx",!0);x(M,B,X,"≅","\\cong",!0);x(M,B,X,"≥","\\ge");x(M,B,X,"≥","\\geq",!0);x(M,B,X,"←","\\gets");x(M,B,X,">","\\gt",!0);x(M,B,X,"∈","\\in",!0);x(M,B,X,"","\\@not");x(M,B,X,"⊂","\\subset",!0);x(M,B,X,"⊃","\\supset",!0);x(M,B,X,"⊆","\\subseteq",!0);x(M,B,X,"⊇","\\supseteq",!0);x(M,j,X,"⊈","\\nsubseteq",!0);x(M,j,X,"⊉","\\nsupseteq",!0);x(M,B,X,"⊨","\\models");x(M,B,X,"←","\\leftarrow",!0);x(M,B,X,"≤","\\le");x(M,B,X,"≤","\\leq",!0);x(M,B,X,"<","\\lt",!0);x(M,B,X,"→","\\rightarrow",!0);x(M,B,X,"→","\\to");x(M,j,X,"≱","\\ngeq",!0);x(M,j,X,"≰","\\nleq",!0);x(M,B,rc," ","\\ ");x(M,B,rc," ","\\space");x(M,B,rc," ","\\nobreakspace");x(Fe,B,rc," ","\\ ");x(Fe,B,rc," "," ");x(Fe,B,rc," ","\\space");x(Fe,B,rc," ","\\nobreakspace");x(M,B,rc,null,"\\nobreak");x(M,B,rc,null,"\\allowbreak");x(M,B,W2,",",",");x(M,B,W2,";",";");x(M,j,lt,"⊼","\\barwedge",!0);x(M,j,lt,"⊻","\\veebar",!0);x(M,B,lt,"⊙","\\odot",!0);x(M,B,lt,"⊕","\\oplus",!0);x(M,B,lt,"⊗","\\otimes",!0);x(M,B,oe,"∂","\\partial",!0);x(M,B,lt,"⊘","\\oslash",!0);x(M,j,lt,"⊚","\\circledcirc",!0);x(M,j,lt,"⊡","\\boxdot",!0);x(M,B,lt,"△","\\bigtriangleup");x(M,B,lt,"▽","\\bigtriangledown");x(M,B,lt,"†","\\dagger");x(M,B,lt,"⋄","\\diamond");x(M,B,lt,"⋆","\\star");x(M,B,lt,"◃","\\triangleleft");x(M,B,lt,"▹","\\triangleright");x(M,B,ja,"{","\\{");x(Fe,B,oe,"{","\\{");x(Fe,B,oe,"{","\\textbraceleft");x(M,B,Xs,"}","\\}");x(Fe,B,oe,"}","\\}");x(Fe,B,oe,"}","\\textbraceright");x(M,B,ja,"{","\\lbrace");x(M,B,Xs,"}","\\rbrace");x(M,B,ja,"[","\\lbrack",!0);x(Fe,B,oe,"[","\\lbrack",!0);x(M,B,Xs,"]","\\rbrack",!0);x(Fe,B,oe,"]","\\rbrack",!0);x(M,B,ja,"(","\\lparen",!0);x(M,B,Xs,")","\\rparen",!0);x(Fe,B,oe,"<","\\textless",!0);x(Fe,B,oe,">","\\textgreater",!0);x(M,B,ja,"⌊","\\lfloor",!0);x(M,B,Xs,"⌋","\\rfloor",!0);x(M,B,ja,"⌈","\\lceil",!0);x(M,B,Xs,"⌉","\\rceil",!0);x(M,B,oe,"\\","\\backslash");x(M,B,oe,"∣","|");x(M,B,oe,"∣","\\vert");x(Fe,B,oe,"|","\\textbar",!0);x(M,B,oe,"∥","\\|");x(M,B,oe,"∥","\\Vert");x(Fe,B,oe,"∥","\\textbardbl");x(Fe,B,oe,"~","\\textasciitilde");x(Fe,B,oe,"\\","\\textbackslash");x(Fe,B,oe,"^","\\textasciicircum");x(M,B,X,"↑","\\uparrow",!0);x(M,B,X,"⇑","\\Uparrow",!0);x(M,B,X,"↓","\\downarrow",!0);x(M,B,X,"⇓","\\Downarrow",!0);x(M,B,X,"↕","\\updownarrow",!0);x(M,B,X,"⇕","\\Updownarrow",!0);x(M,B,_i,"∐","\\coprod");x(M,B,_i,"⋁","\\bigvee");x(M,B,_i,"⋀","\\bigwedge");x(M,B,_i,"⨄","\\biguplus");x(M,B,_i,"⋂","\\bigcap");x(M,B,_i,"⋃","\\bigcup");x(M,B,_i,"∫","\\int");x(M,B,_i,"∫","\\intop");x(M,B,_i,"∬","\\iint");x(M,B,_i,"∭","\\iiint");x(M,B,_i,"∏","\\prod");x(M,B,_i,"∑","\\sum");x(M,B,_i,"⨂","\\bigotimes");x(M,B,_i,"⨁","\\bigoplus");x(M,B,_i,"⨀","\\bigodot");x(M,B,_i,"∮","\\oint");x(M,B,_i,"∯","\\oiint");x(M,B,_i,"∰","\\oiiint");x(M,B,_i,"⨆","\\bigsqcup");x(M,B,_i,"∫","\\smallint");x(Fe,B,$h,"…","\\textellipsis");x(M,B,$h,"…","\\mathellipsis");x(Fe,B,$h,"…","\\ldots",!0);x(M,B,$h,"…","\\ldots",!0);x(M,B,$h,"⋯","\\@cdots",!0);x(M,B,$h,"⋱","\\ddots",!0);x(M,B,oe,"⋮","\\varvdots");x(M,B,Or,"ˊ","\\acute");x(M,B,Or,"ˋ","\\grave");x(M,B,Or,"¨","\\ddot");x(M,B,Or,"~","\\tilde");x(M,B,Or,"ˉ","\\bar");x(M,B,Or,"˘","\\breve");x(M,B,Or,"ˇ","\\check");x(M,B,Or,"^","\\hat");x(M,B,Or,"⃗","\\vec");x(M,B,Or,"˙","\\dot");x(M,B,Or,"˚","\\mathring");x(M,B,St,"","\\@imath");x(M,B,St,"","\\@jmath");x(M,B,oe,"ı","ı");x(M,B,oe,"ȷ","ȷ");x(Fe,B,oe,"ı","\\i",!0);x(Fe,B,oe,"ȷ","\\j",!0);x(Fe,B,oe,"ß","\\ss",!0);x(Fe,B,oe,"æ","\\ae",!0);x(Fe,B,oe,"œ","\\oe",!0);x(Fe,B,oe,"ø","\\o",!0);x(Fe,B,oe,"Æ","\\AE",!0);x(Fe,B,oe,"Œ","\\OE",!0);x(Fe,B,oe,"Ø","\\O",!0);x(Fe,B,Or,"ˊ","\\'");x(Fe,B,Or,"ˋ","\\`");x(Fe,B,Or,"ˆ","\\^");x(Fe,B,Or,"˜","\\~");x(Fe,B,Or,"ˉ","\\=");x(Fe,B,Or,"˘","\\u");x(Fe,B,Or,"˙","\\.");x(Fe,B,Or,"¸","\\c");x(Fe,B,Or,"˚","\\r");x(Fe,B,Or,"ˇ","\\v");x(Fe,B,Or,"¨",'\\"');x(Fe,B,Or,"˝","\\H");x(Fe,B,Or,"◯","\\textcircled");var hL={"--":!0,"---":!0,"``":!0,"''":!0};x(Fe,B,oe,"–","--",!0);x(Fe,B,oe,"–","\\textendash");x(Fe,B,oe,"—","---",!0);x(Fe,B,oe,"—","\\textemdash");x(Fe,B,oe,"‘","`",!0);x(Fe,B,oe,"‘","\\textquoteleft");x(Fe,B,oe,"’","'",!0);x(Fe,B,oe,"’","\\textquoteright");x(Fe,B,oe,"“","``",!0);x(Fe,B,oe,"“","\\textquotedblleft");x(Fe,B,oe,"”","''",!0);x(Fe,B,oe,"”","\\textquotedblright");x(M,B,oe,"°","\\degree",!0);x(Fe,B,oe,"°","\\degree");x(Fe,B,oe,"°","\\textdegree",!0);x(M,B,oe,"£","\\pounds");x(M,B,oe,"£","\\mathsterling",!0);x(Fe,B,oe,"£","\\pounds");x(Fe,B,oe,"£","\\textsterling",!0);x(M,j,oe,"✠","\\maltese");x(Fe,j,oe,"✠","\\maltese");var QS='0123456789/@."';for(var ty=0;ty<QS.length;ty++){var eT=QS.charAt(ty);x(M,B,oe,eT,eT)}var tT='0123456789!@*()-=+";:?/.,';for(var ny=0;ny<tT.length;ny++){var nT=tT.charAt(ny);x(Fe,B,oe,nT,nT)}var R_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var ry=0;ry<R_.length;ry++){var O1=R_.charAt(ry);x(M,B,St,O1,O1),x(Fe,B,oe,O1,O1)}x(M,j,oe,"C","ℂ");x(Fe,j,oe,"C","ℂ");x(M,j,oe,"H","ℍ");x(Fe,j,oe,"H","ℍ");x(M,j,oe,"N","ℕ");x(Fe,j,oe,"N","ℕ");x(M,j,oe,"P","ℙ");x(Fe,j,oe,"P","ℙ");x(M,j,oe,"Q","ℚ");x(Fe,j,oe,"Q","ℚ");x(M,j,oe,"R","ℝ");x(Fe,j,oe,"R","ℝ");x(M,j,oe,"Z","ℤ");x(Fe,j,oe,"Z","ℤ");x(M,B,St,"h","ℎ");x(Fe,B,St,"h","ℎ");var Bt="";for(var Us=0;Us<R_.length;Us++){var Jr=R_.charAt(Us);Bt=String.fromCharCode(55349,56320+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56372+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56424+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56580+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56684+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56736+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56788+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56840+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56944+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Us<26&&(Bt=String.fromCharCode(55349,56632+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt),Bt=String.fromCharCode(55349,56476+Us),x(M,B,St,Jr,Bt),x(Fe,B,oe,Jr,Bt))}Bt=String.fromCharCode(55349,56668);x(M,B,St,"k",Bt);x(Fe,B,oe,"k",Bt);for(var v0=0;v0<10;v0++){var yc=v0.toString();Bt=String.fromCharCode(55349,57294+v0),x(M,B,St,yc,Bt),x(Fe,B,oe,yc,Bt),Bt=String.fromCharCode(55349,57314+v0),x(M,B,St,yc,Bt),x(Fe,B,oe,yc,Bt),Bt=String.fromCharCode(55349,57324+v0),x(M,B,St,yc,Bt),x(Fe,B,oe,yc,Bt),Bt=String.fromCharCode(55349,57334+v0),x(M,B,St,yc,Bt),x(Fe,B,oe,yc,Bt)}var i3="ÐÞþ";for(var iy=0;iy<i3.length;iy++){var D1=i3.charAt(iy);x(M,B,St,D1,D1),x(Fe,B,oe,D1,D1)}var B1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],rT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Bfe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[B1[l][2],B1[l][a]]}else if(120782<=s&&s<=120831){var c=Math.floor((s-120782)/10);return[rT[c][2],rT[c][a]]}else{if(s===120485||s===120486)return[B1[0][2],B1[0][a]];if(120486<s&&s<120782)return["",""];throw new Ge("Unsupported character: "+e)}},G2=function(e,n,r){return Er[r][e]&&Er[r][e].replace&&(e=Er[r][e].replace),{value:e,metrics:R6(e,n,r)}},$o=function(e,n,r,i,s){var a=G2(e,n,r),l=a.metrics;e=a.value;var c;if(l){var f=l.italic;(r==="text"||i&&i.font==="mathit")&&(f=0),c=new ko(e,l.height,l.depth,f,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),c=new ko(e,0,0,0,0,0,s);if(i){c.maxFontSize=i.sizeMultiplier,i.style.isTight()&&c.classes.push("mtight");var p=i.getColor();p&&(c.style.color=p)}return c},zfe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&G2(e,"Main-Bold",n).metrics?$o(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Er[n][e].font==="main"?$o(e,"Main-Regular",n,r,i):$o(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},Ffe=function(e,n,r,i,s){return s!=="textord"&&G2(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ufe=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],l=i==="math"||i==="text"&&n.font,c=l?n.font:n.fontFamily,f="",p="";if(s.charCodeAt(0)===55349&&([f,p]=Bfe(s,i)),f.length>0)return $o(s,f,i,n,a.concat(p));if(c){var m,g;if(c==="boldsymbol"){var y=Ffe(s,i,n,a,r);m=y.fontName,g=[y.fontClass]}else l?(m=mL[c].fontName,g=[c]):(m=z1(c,n.fontWeight,n.fontShape),g=[c,n.fontWeight,n.fontShape]);if(G2(s,m,i).metrics)return $o(s,m,i,n,a.concat(g));if(hL.hasOwnProperty(s)&&m.slice(0,10)==="Typewriter"){for(var b=[],S=0;S<s.length;S++)b.push($o(s[S],m,i,n,a.concat(g)));return pL(b)}}if(r==="mathord")return $o(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var I=Er[i][s]&&Er[i][s].font;if(I==="ams"){var R=z1("amsrm",n.fontWeight,n.fontShape);return $o(s,R,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(I==="main"||!I){var k=z1("textrm",n.fontWeight,n.fontShape);return $o(s,k,i,n,a.concat(n.fontWeight,n.fontShape))}else{var A=z1(I,n.fontWeight,n.fontShape);return $o(s,A,i,n,a.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},qfe=(t,e)=>{if(Yc(t.classes)!==Yc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Hfe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof ko&&r instanceof ko&&qfe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},N6=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},va=function(e,n,r,i){var s=new Am(e,n,r,i);return N6(s),s},dL=(t,e,n,r)=>new Am(t,e,n,r),Wfe=function(e,n,r){var i=va([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Xe(i.height),i.maxFontSize=1,i},Gfe=function(e,n,r,i){var s=new P6(e,n,r,i);return N6(s),s},pL=function(e){var n=new Cm(e);return N6(n),n},$fe=function(e,n){return e instanceof Cm?va([],[e],n):e},Vfe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var l=-n[a].shift-s-n[a].elem.depth,c=l-(n[a-1].elem.height+n[a-1].elem.depth);s=s+l,r.push({type:"kern",size:c}),r.push(n[a])}return{children:r,depth:i}}var f;if(e.positionType==="top"){for(var p=e.positionData,m=0;m<e.children.length;m++){var g=e.children[m];p-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}f=p}else if(e.positionType==="bottom")f=-e.positionData;else{var y=e.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-y.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-y.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Zfe=function(e,n){for(var{children:r,depth:i}=Vfe(e),s=0,a=0;a<r.length;a++){var l=r[a];if(l.type==="elem"){var c=l.elem;s=Math.max(s,c.maxFontSize,c.height)}}s+=2;var f=va(["pstrut"],[]);f.style.height=Xe(s);for(var p=[],m=i,g=i,y=i,b=0;b<r.length;b++){var S=r[b];if(S.type==="kern")y+=S.size;else{var I=S.elem,R=S.wrapperClasses||[],k=S.wrapperStyle||{},A=va(R,[f,I],void 0,k);A.style.top=Xe(-s-y-I.depth),S.marginLeft&&(A.style.marginLeft=S.marginLeft),S.marginRight&&(A.style.marginRight=S.marginRight),p.push(A),y+=I.height+I.depth}m=Math.min(m,y),g=Math.max(g,y)}var C=va(["vlist"],p);C.style.height=Xe(g);var P;if(m<0){var D=va([],[]),F=va(["vlist"],[D]);F.style.height=Xe(-m);var Z=va(["vlist-s"],[new ko("​")]);P=[va(["vlist-r"],[C,Z]),va(["vlist-r"],[F])]}else P=[va(["vlist-r"],[C])];var V=va(["vlist-t"],P);return P.length===2&&V.classes.push("vlist-t2"),V.height=g,V.depth=-m,V},Yfe=(t,e)=>{var n=va(["mspace"],[],e),r=Gr(t,e);return n.style.marginRight=Xe(r),n},z1=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},mL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},gL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},jfe=function(e,n){var[r,i,s]=gL[e],a=new jc(r),l=new Yu([a],{width:Xe(i),height:Xe(s),style:"width:"+Xe(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),c=dL(["overlay"],[l],n);return c.height=s,c.style.height=Xe(s),c.style.width=Xe(i),c},ye={fontMap:mL,makeSymbol:$o,mathsym:zfe,makeSpan:va,makeSvgSpan:dL,makeLineSpan:Wfe,makeAnchor:Gfe,makeFragment:pL,wrapFragment:$fe,makeVList:Zfe,makeOrd:Ufe,makeGlue:Yfe,staticSvg:jfe,svgData:gL,tryCombineChars:Hfe},Hr={number:3,unit:"mu"},y0={number:4,unit:"mu"},ku={number:5,unit:"mu"},Kfe={mord:{mop:Hr,mbin:y0,mrel:ku,minner:Hr},mop:{mord:Hr,mop:Hr,mrel:ku,minner:Hr},mbin:{mord:y0,mop:y0,mopen:y0,minner:y0},mrel:{mord:ku,mop:ku,mopen:ku,minner:ku},mopen:{},mclose:{mop:Hr,mbin:y0,mrel:ku,minner:Hr},mpunct:{mord:Hr,mop:Hr,mrel:ku,mopen:Hr,mclose:Hr,mpunct:Hr,minner:Hr},minner:{mord:Hr,mop:Hr,mbin:y0,mrel:ku,mopen:Hr,mpunct:Hr,minner:Hr}},Xfe={mord:{mop:Hr},mop:{mord:Hr,mop:Hr},mbin:{},mrel:{},mopen:{},mclose:{mop:Hr},mpunct:{},minner:{mop:Hr}},_L={},P_={},N_={};function at(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},c=0;c<n.length;++c)_L[n[c]]=l;e&&(s&&(P_[e]=s),a&&(N_[e]=a))}function pf(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;at({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var L_=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ci=function(e){return e.type==="ordgroup"?e.body:[e]},ju=ye.makeSpan,Jfe=["leftmost","mbin","mopen","mrel","mop","mpunct"],Qfe=["rightmost","mrel","mclose","mpunct"],ehe={display:Tt.DISPLAY,text:Tt.TEXT,script:Tt.SCRIPT,scriptscript:Tt.SCRIPTSCRIPT},the={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ci=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var l=Fn(e[a],n);if(l instanceof Cm){var c=l.children;s.push(...c)}else s.push(l)}if(ye.tryCombineChars(s),!r)return s;var f=n;if(e.length===1){var p=e[0];p.type==="sizing"?f=n.havingSize(p.size):p.type==="styling"&&(f=n.havingStyle(ehe[p.style]))}var m=ju([i[0]||"leftmost"],[],n),g=ju([i[1]||"rightmost"],[],n),y=r==="root";return iT(s,(b,S)=>{var I=S.classes[0],R=b.classes[0];I==="mbin"&&zt.contains(Qfe,R)?S.classes[0]="mord":R==="mbin"&&zt.contains(Jfe,I)&&(b.classes[0]="mord")},{node:m},g,y),iT(s,(b,S)=>{var I=s3(S),R=s3(b),k=I&&R?b.hasClass("mtight")?Xfe[I][R]:Kfe[I][R]:null;if(k)return ye.makeGlue(k,f)},{node:m},g,y),s},iT=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var l=e[a],c=vL(l);if(c){t(c.children,n,r,null,s);continue}var f=!l.hasClass("mspace");if(f){var p=n(l,r.node);p&&(r.insertAfter?r.insertAfter(p):(e.unshift(p),a++))}f?r.node=l:s&&l.hasClass("newline")&&(r.node=ju(["leftmost"])),r.insertAfter=(m=>g=>{e.splice(m+1,0,g),a++})(a)}i&&e.pop()},vL=function(e){return e instanceof Cm||e instanceof P6||e instanceof Am&&e.hasClass("enclosing")?e:null},nhe=function t(e,n){var r=vL(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},s3=function(e,n){return e?(n&&(e=nhe(e,n)),the[e.classes[0]]||null):null},Dp=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ju(n.concat(r))},Fn=function(e,n,r){if(!e)return ju();if(P_[e.type]){var i=P_[e.type](e,n);if(r&&n.size!==r.size){i=ju(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Ge("Got group of unknown type: '"+e.type+"'")};function F1(t,e){var n=ju(["base"],t,e),r=ju(["strut"]);return r.style.height=Xe(n.height+n.depth),n.depth&&(r.style.verticalAlign=Xe(-n.depth)),n.children.unshift(r),n}function a3(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Ci(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var c=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(c=!0);c||(s.push(F1(a,e)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(F1(a,e)),a=[]),s.push(r[l]));a.length>0&&s.push(F1(a,e));var f;n?(f=F1(Ci(n,e,!0)),f.classes=["tag"],s.push(f)):i&&s.push(i);var p=ju(["katex-html"],s);if(p.setAttribute("aria-hidden","true"),f){var m=f.children[0];m.style.height=Xe(p.height+p.depth),p.depth&&(m.style.verticalAlign=Xe(-p.depth))}return p}function yL(t){return new Cm(t)}class ho{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Yc(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=zt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+zt.escape(Yc(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class jd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return zt.escape(this.toText())}toText(){return this.text}}class rhe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Xe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Xe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var He={MathNode:ho,TextNode:jd,SpaceNode:rhe,newDocumentFragment:yL},Eo=function(e,n,r){return Er[n][e]&&Er[n][e].replace&&e.charCodeAt(0)!==55349&&!(hL.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Er[n][e].replace),new He.TextNode(e)},L6=function(e){return e.length===1?e[0]:new He.MathNode("mrow",e)},O6=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(zt.contains(["\\imath","\\jmath"],s))return null;Er[i][s]&&Er[i][s].replace&&(s=Er[i][s].replace);var a=ye.fontMap[r].fontName;return R6(s,a,i)?ye.fontMap[r].variant:null},Ma=function(e,n,r){if(e.length===1){var i=_r(e[0],n);return r&&i instanceof ho&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,l=0;l<e.length;l++){var c=_r(e[l],n);if(c instanceof ho&&a instanceof ho){if(c.type==="mtext"&&a.type==="mtext"&&c.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...c.children);continue}else if(c.type==="mn"&&a.type==="mn"){a.children.push(...c.children);continue}else if(c.type==="mi"&&c.children.length===1&&a.type==="mn"){var f=c.children[0];if(f instanceof jd&&f.text==="."){a.children.push(...c.children);continue}}else if(a.type==="mi"&&a.children.length===1){var p=a.children[0];if(p instanceof jd&&p.text==="̸"&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof jd&&m.text.length>0&&(m.text=m.text.slice(0,1)+"̸"+m.text.slice(1),s.pop())}}}s.push(c),a=c}return s},Kc=function(e,n,r){return L6(Ma(e,n,r))},_r=function(e,n){if(!e)return new He.MathNode("mrow");if(N_[e.type]){var r=N_[e.type](e,n);return r}else throw new Ge("Got group of unknown type: '"+e.type+"'")};function sT(t,e,n,r,i){var s=Ma(t,n),a;s.length===1&&s[0]instanceof ho&&zt.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new He.MathNode("mrow",s);var l=new He.MathNode("annotation",[new He.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var c=new He.MathNode("semantics",[a,l]),f=new He.MathNode("math",[c]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var p=i?"katex":"katex-mathml";return ye.makeSpan([p],[f])}var bL=function(e){return new Au({style:e.displayMode?Tt.DISPLAY:Tt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},wL=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=ye.makeSpan(r,[e])}return e},ihe=function(e,n,r){var i=bL(r),s;if(r.output==="mathml")return sT(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=a3(e,i);s=ye.makeSpan(["katex"],[a])}else{var l=sT(e,n,i,r.displayMode,!1),c=a3(e,i);s=ye.makeSpan(["katex"],[l,c])}return wL(s,r)},she=function(e,n,r){var i=bL(r),s=a3(e,i),a=ye.makeSpan(["katex"],[s]);return wL(a,r)},ahe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},ohe=function(e){var n=new He.MathNode("mo",[new He.TextNode(ahe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},lhe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},uhe=function(e){return e.type==="ordgroup"?e.body.length:1},che=function(e,n){function r(){var l=4e5,c=e.label.slice(1);if(zt.contains(["widehat","widecheck","widetilde","utilde"],c)){var f=e,p=uhe(f.base),m,g,y;if(p>5)c==="widehat"||c==="widecheck"?(m=420,l=2364,y=.42,g=c+"4"):(m=312,l=2340,y=.34,g="tilde4");else{var b=[1,1,2,2,3,3][p];c==="widehat"||c==="widecheck"?(l=[0,1062,2364,2364,2364][b],m=[0,239,300,360,420][b],y=[0,.24,.3,.3,.36,.42][b],g=c+b):(l=[0,600,1033,2339,2340][b],m=[0,260,286,306,312][b],y=[0,.26,.286,.3,.306,.34][b],g="tilde"+b)}var S=new jc(g),I=new Yu([S],{width:"100%",height:Xe(y),viewBox:"0 0 "+l+" "+m,preserveAspectRatio:"none"});return{span:ye.makeSvgSpan([],[I],n),minWidth:0,height:y}}else{var R=[],k=lhe[c],[A,C,P]=k,D=P/1e3,F=A.length,Z,V;if(F===1){var Y=k[3];Z=["hide-tail"],V=[Y]}else if(F===2)Z=["halfarrow-left","halfarrow-right"],V=["xMinYMin","xMaxYMin"];else if(F===3)Z=["brace-left","brace-center","brace-right"],V=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+F+" children.");for(var H=0;H<F;H++){var J=new jc(A[H]),he=new Yu([J],{width:"400em",height:Xe(D),viewBox:"0 0 "+l+" "+P,preserveAspectRatio:V[H]+" slice"}),le=ye.makeSvgSpan([Z[H]],[he],n);if(F===1)return{span:le,minWidth:C,height:D};le.style.height=Xe(D),R.push(le)}return{span:ye.makeSpan(["stretchy"],R,n),minWidth:C,height:D}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=Xe(a),s>0&&(i.style.minWidth=Xe(s)),i},fhe=function(e,n,r,i,s){var a,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=ye.makeSpan(["stretchy",n],[],s),n==="fbox"){var c=s.color&&s.getColor();c&&(a.style.borderColor=c)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new r3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new r3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new Yu(f,{width:"100%",height:Xe(l)});a=ye.makeSvgSpan([],[p],s)}return a.height=l,a.style.height=Xe(l),a},Ku={encloseSpan:fhe,mathMLnode:ohe,svgSpan:che};function rn(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function D6(t){var e=$2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function $2(t){return t&&(t.type==="atom"||Dfe.hasOwnProperty(t.type))?t:null}var B6=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=rn(t.base,"accent"),n=r.base,t.base=n,i=Lfe(Fn(t,e)),t.base=r):(r=rn(t,"accent"),n=r.base);var s=Fn(n,e.havingCrampedStyle()),a=r.isShifty&&zt.isCharacterBox(n),l=0;if(a){var c=zt.getBaseElem(n),f=Fn(c,e.havingCrampedStyle());l=JS(f).skew}var p=r.label==="\\c",m=p?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=Ku.svgSpan(r,e),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Xe(2*l)+")",marginLeft:Xe(2*l)}:void 0}]},e);else{var y,b;r.label==="\\vec"?(y=ye.staticSvg("vec",e),b=ye.svgData.vec[1]):(y=ye.makeOrd({mode:r.mode,text:r.label},e,"textord"),y=JS(y),y.italic=0,b=y.width,p&&(m+=y.depth)),g=ye.makeSpan(["accent-body"],[y]);var S=r.label==="\\textcircled";S&&(g.classes.push("accent-full"),m=s.height);var I=l;S||(I-=b/2),g.style.left=Xe(I),r.label==="\\textcircled"&&(g.style.top=".2em"),g=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-m},{type:"elem",elem:g}]},e)}var R=ye.makeSpan(["mord","accent"],[g],e);return i?(i.children[0]=R,i.height=Math.max(R.height,i.height),i.classes[0]="mord",i):R},xL=(t,e)=>{var n=t.isStretchy?Ku.mathMLnode(t.label):new He.MathNode("mo",[Eo(t.label,t.mode)]),r=new He.MathNode("mover",[_r(t.base,e),n]);return r.setAttribute("accent","true"),r},hhe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));at({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=L_(e[0]),r=!hhe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:B6,mathmlBuilder:xL});at({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:B6,mathmlBuilder:xL});at({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Fn(t.base,e),r=Ku.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=Ku.mathMLnode(t.label),r=new He.MathNode("munder",[_r(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var U1=t=>{var e=new He.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};at({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=ye.wrapFragment(Fn(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=ye.wrapFragment(Fn(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var l=Ku.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*l.height,f=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(f-=i.depth);var p;if(a){var m=-e.fontMetrics().axisHeight+a.height+.5*l.height+.111;p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c},{type:"elem",elem:a,shift:m}]},e)}else p=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:f},{type:"elem",elem:l,shift:c}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),ye.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var n=Ku.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=U1(_r(t.body,e));if(t.below){var s=U1(_r(t.below,e));r=new He.MathNode("munderover",[n,s,i])}else r=new He.MathNode("mover",[n,i])}else if(t.below){var a=U1(_r(t.below,e));r=new He.MathNode("munder",[n,a])}else r=U1(),r=new He.MathNode("mover",[n,r]);return r}});var dhe=ye.makeSpan;function SL(t,e){var n=Ci(t.body,e,!0);return dhe([t.mclass],n,e)}function TL(t,e){var n,r=Ma(t.body,e);return t.mclass==="minner"?n=new He.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new He.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new He.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}at({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ci(i),isCharacterBox:zt.isCharacterBox(i)}},htmlBuilder:SL,mathmlBuilder:TL});var V2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};at({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:V2(e[0]),body:ci(e[1]),isCharacterBox:zt.isCharacterBox(e[1])}}});at({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=V2(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:ci(i)},c={type:"supsub",mode:s.mode,base:l,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[c],isCharacterBox:zt.isCharacterBox(c)}},htmlBuilder:SL,mathmlBuilder:TL});at({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:V2(e[0]),body:ci(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!0),r=ye.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Ma(t.body,e),r=new He.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var phe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},aT=()=>({type:"styling",body:[],mode:"math",style:"display"}),oT=t=>t.type==="textord"&&t.text==="@",mhe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function ghe(t,e,n){var r=phe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[i,a,l]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _he(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ge("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],l=aT(),c=0;c<a.length;c++)if(!oT(a[c]))l.body.push(a[c]);else{r.push(l),c+=1;var f=D6(a[c]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var m=0;m<2;m++){for(var g=!0,y=c+1;y<a.length;y++){if(mhe(a[y],f)){g=!1,c=y;break}if(oT(a[y]))throw new Ge("Missing a "+f+" character to complete a CD arrow.",a[y]);p[m].body.push(a[y])}if(g)throw new Ge("Missing a "+f+" character to complete a CD arrow.",a[c])}else throw new Ge('Expected one of "<>AV=|." after @',a[c]);var b=ghe(f,p,t),S={type:"styling",body:[b],mode:"math",style:"display"};r.push(S),l=aT()}s%2===0?r.push(l):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var I=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:I,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}at({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ye.wrapFragment(Fn(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Xe(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new He.MathNode("mrow",[_r(t.label,e)]);return n=new He.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new He.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});at({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ye.wrapFragment(Fn(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new He.MathNode("mrow",[_r(t.fragment,e)])}});at({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=rn(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var l=rn(i[a],"textord");s+=l.text}var c=parseInt(s),f;if(isNaN(c))throw new Ge("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new Ge("\\@char with invalid code point "+s);return c<=65535?f=String.fromCharCode(c):(c-=65536,f=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var kL=(t,e)=>{var n=Ci(t.body,e.withColor(t.color),!1);return ye.makeFragment(n)},EL=(t,e)=>{var n=Ma(t.body,e.withColor(t.color)),r=new He.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};at({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=rn(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:ci(i)}},htmlBuilder:kL,mathmlBuilder:EL});at({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=rn(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:kL,mathmlBuilder:EL});at({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&rn(i,"size").value}},htmlBuilder(t,e){var n=ye.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Xe(Gr(t.size,e)))),n},mathmlBuilder(t,e){var n=new He.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Xe(Gr(t.size,e)))),n}});var o3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ML=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ge("Expected a control sequence",t);return e},vhe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},CL=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};at({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(o3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=o3[r.text]),rn(e.parseFunction(),"internal");throw new Ge("Invalid token after macro prefix",r)}});at({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ge("Expected a control sequence",r);for(var s=0,a,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ge('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Ge('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if(r.text==="EOF")throw new Ge("Expected a macro definition");l[s].push(r.text)}var{tokens:c}=e.gullet.consumeArg();return a&&c.unshift(a),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(i,{tokens:c,numArgs:s,delimiters:l},n===o3[n]),{type:"internal",mode:e.mode}}});at({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ML(e.gullet.popToken());e.gullet.consumeSpaces();var i=vhe(e);return CL(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});at({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ML(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return CL(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Od=function(e,n,r){var i=Er.math[e]&&Er.math[e].replace,s=R6(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},z6=function(e,n,r,i){var s=r.havingBaseStyle(n),a=ye.makeSpan(i.concat(s.sizingClasses(r)),[e],r),l=s.sizeMultiplier/r.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=s.sizeMultiplier,a},AL=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Xe(s),e.height-=s,e.depth+=s},yhe=function(e,n,r,i,s,a){var l=ye.makeSymbol(e,"Main-Regular",s,i),c=z6(l,n,i,a);return r&&AL(c,i,n),c},bhe=function(e,n,r,i){return ye.makeSymbol(e,"Size"+n+"-Regular",r,i)},IL=function(e,n,r,i,s,a){var l=bhe(e,n,s,i),c=z6(ye.makeSpan(["delimsizing","size"+n],[l],i),Tt.TEXT,i,a);return r&&AL(c,i,Tt.TEXT),c},sy=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ye.makeSpan(["delimsizinginner",i],[ye.makeSpan([],[ye.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},ay=function(e,n,r){var i=Nl["Size4-Regular"][e.charCodeAt(0)]?Nl["Size4-Regular"][e.charCodeAt(0)][4]:Nl["Size1-Regular"][e.charCodeAt(0)][4],s=new jc("inner",Efe(e,Math.round(1e3*n))),a=new Yu([s],{width:Xe(i),height:Xe(n),style:"width:"+Xe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=ye.makeSvgSpan([],[a],r);return l.height=n,l.style.height=Xe(n),l.style.width=Xe(i),{type:"elem",elem:l}},l3=.008,q1={type:"kern",size:-1*l3},whe=["|","\\lvert","\\rvert","\\vert"],xhe=["\\|","\\lVert","\\rVert","\\Vert"],RL=function(e,n,r,i,s,a){var l,c,f,p,m="",g=0;l=f=p=e,c=null;var y="Size1-Regular";e==="\\uparrow"?f=p="⏐":e==="\\Uparrow"?f=p="‖":e==="\\downarrow"?l=f="⏐":e==="\\Downarrow"?l=f="‖":e==="\\updownarrow"?(l="\\uparrow",f="⏐",p="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",f="‖",p="\\Downarrow"):zt.contains(whe,e)?(f="∣",m="vert",g=333):zt.contains(xhe,e)?(f="∥",m="doublevert",g=556):e==="["||e==="\\lbrack"?(l="⎡",f="⎢",p="⎣",y="Size4-Regular",m="lbrack",g=667):e==="]"||e==="\\rbrack"?(l="⎤",f="⎥",p="⎦",y="Size4-Regular",m="rbrack",g=667):e==="\\lfloor"||e==="⌊"?(f=l="⎢",p="⎣",y="Size4-Regular",m="lfloor",g=667):e==="\\lceil"||e==="⌈"?(l="⎡",f=p="⎢",y="Size4-Regular",m="lceil",g=667):e==="\\rfloor"||e==="⌋"?(f=l="⎥",p="⎦",y="Size4-Regular",m="rfloor",g=667):e==="\\rceil"||e==="⌉"?(l="⎤",f=p="⎥",y="Size4-Regular",m="rceil",g=667):e==="("||e==="\\lparen"?(l="⎛",f="⎜",p="⎝",y="Size4-Regular",m="lparen",g=875):e===")"||e==="\\rparen"?(l="⎞",f="⎟",p="⎠",y="Size4-Regular",m="rparen",g=875):e==="\\{"||e==="\\lbrace"?(l="⎧",c="⎨",p="⎩",f="⎪",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="⎫",c="⎬",p="⎭",f="⎪",y="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(l="⎧",p="⎩",f="⎪",y="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(l="⎫",p="⎭",f="⎪",y="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(l="⎧",p="⎭",f="⎪",y="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(l="⎫",p="⎩",f="⎪",y="Size4-Regular");var b=Od(l,y,s),S=b.height+b.depth,I=Od(f,y,s),R=I.height+I.depth,k=Od(p,y,s),A=k.height+k.depth,C=0,P=1;if(c!==null){var D=Od(c,y,s);C=D.height+D.depth,P=2}var F=S+A+C,Z=Math.max(0,Math.ceil((n-F)/(P*R))),V=F+Z*P*R,Y=i.fontMetrics().axisHeight;r&&(Y*=i.sizeMultiplier);var H=V/2-Y,J=[];if(m.length>0){var he=V-S-A,le=Math.round(V*1e3),ne=Mfe(m,Math.round(he*1e3)),pe=new jc(m,ne),fe=(g/1e3).toFixed(3)+"em",_e=(le/1e3).toFixed(3)+"em",me=new Yu([pe],{width:fe,height:_e,viewBox:"0 0 "+g+" "+le}),$=ye.makeSvgSpan([],[me],i);$.height=le/1e3,$.style.width=fe,$.style.height=_e,J.push({type:"elem",elem:$})}else{if(J.push(sy(p,y,s)),J.push(q1),c===null){var ee=V-S-A+2*l3;J.push(ay(f,ee,i))}else{var ae=(V-S-A-C)/2+2*l3;J.push(ay(f,ae,i)),J.push(q1),J.push(sy(c,y,s)),J.push(q1),J.push(ay(f,ae,i))}J.push(q1),J.push(sy(l,y,s))}var Ee=i.havingBaseStyle(Tt.TEXT),Ce=ye.makeVList({positionType:"bottom",positionData:H,children:J},Ee);return z6(ye.makeSpan(["delimsizing","mult"],[Ce],Ee),Tt.TEXT,i,a)},oy=80,ly=.08,uy=function(e,n,r,i,s){var a=kfe(e,i,r),l=new jc(e,a),c=new Yu([l],{width:"400em",height:Xe(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ye.makeSvgSpan(["hide-tail"],[c],s)},She=function(e,n){var r=n.havingBaseSizing(),i=OL("\\surd",e*r.sizeMultiplier,LL,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,c=0,f=0,p=0,m;return i.type==="small"?(p=1e3+1e3*a+oy,e<1?s=1:e<1.4&&(s=.7),c=(1+a+ly)/s,f=(1+a)/s,l=uy("sqrtMain",c,p,a,n),l.style.minWidth="0.853em",m=.833/s):i.type==="large"?(p=(1e3+oy)*Kd[i.size],f=(Kd[i.size]+a)/s,c=(Kd[i.size]+a+ly)/s,l=uy("sqrtSize"+i.size,c,p,a,n),l.style.minWidth="1.02em",m=1/s):(c=e+a+ly,f=e+a,p=Math.floor(1e3*e+a)+oy,l=uy("sqrtTall",c,p,a,n),l.style.minWidth="0.742em",m=1.056),l.height=f,l.style.height=Xe(c),{span:l,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},PL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],The=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],NL=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Kd=[0,1.2,1.8,2.4,3],khe=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),zt.contains(PL,e)||zt.contains(NL,e))return IL(e,n,!1,r,i,s);if(zt.contains(The,e))return RL(e,Kd[n],!1,r,i,s);throw new Ge("Illegal delimiter: '"+e+"'")},Ehe=[{type:"small",style:Tt.SCRIPTSCRIPT},{type:"small",style:Tt.SCRIPT},{type:"small",style:Tt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Mhe=[{type:"small",style:Tt.SCRIPTSCRIPT},{type:"small",style:Tt.SCRIPT},{type:"small",style:Tt.TEXT},{type:"stack"}],LL=[{type:"small",style:Tt.SCRIPTSCRIPT},{type:"small",style:Tt.SCRIPT},{type:"small",style:Tt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Che=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},OL=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var l=Od(e,Che(r[a]),"math"),c=l.height+l.depth;if(r[a].type==="small"){var f=i.havingBaseStyle(r[a].style);c*=f.sizeMultiplier}if(c>n)return r[a]}return r[r.length-1]},DL=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var l;zt.contains(NL,e)?l=Ehe:zt.contains(PL,e)?l=LL:l=Mhe;var c=OL(e,n,l,i);return c.type==="small"?yhe(e,c.style,r,i,s,a):c.type==="large"?IL(e,c.size,r,i,s,a):RL(e,n,r,i,s,a)},Ahe=function(e,n,r,i,s,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,c=901,f=5/i.fontMetrics().ptPerEm,p=Math.max(n-l,r+l),m=Math.max(p/500*c,2*p-f);return DL(e,m,!0,i,s,a)},qu={sqrtImage:She,sizedDelim:khe,sizeToMaxHeight:Kd,customSizedDelim:DL,leftRightDelim:Ahe},lT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ihe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Z2(t,e){var n=$2(t);if(n&&zt.contains(Ihe,n.text))return n;throw n?new Ge("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ge("Invalid delimiter type '"+t.type+"'",t)}at({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Z2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:lT[t.funcName].size,mclass:lT[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ye.makeSpan([t.mclass]):qu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Eo(t.delim,t.mode));var n=new He.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Xe(qu.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function uT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}at({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ge("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Z2(e[0],t).text,color:n}}});at({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Z2(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=rn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{uT(t);for(var n=Ci(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=Dp(e,["mopen"]):l=qu.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(l),s)for(var c=1;c<n.length;c++){var f=n[c],p=f.isMiddle;p&&(n[c]=qu.leftRightDelim(p.delim,r,i,p.options,t.mode,[]))}var m;if(t.right===".")m=Dp(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;m=qu.leftRightDelim(t.right,r,i,g,t.mode,["mclose"])}return n.push(m),ye.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{uT(t);var n=Ma(t.body,e);if(t.left!=="."){var r=new He.MathNode("mo",[Eo(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new He.MathNode("mo",[Eo(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return L6(n)}});at({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Z2(e[0],t);if(!t.parser.leftrightDepth)throw new Ge("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Dp(e,[]);else{n=qu.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Eo("|","text"):Eo(t.delim,t.mode),r=new He.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var F6=(t,e)=>{var n=ye.wrapFragment(Fn(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,l=zt.isCharacterBox(t.body);if(r==="sout")s=ye.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var c=Gr({number:.6,unit:"pt"},e),f=Gr({number:.35,unit:"ex"},e),p=e.havingBaseSizing();i=i/p.sizeMultiplier;var m=n.height+n.depth+c+f;n.style.paddingLeft=Xe(m/2+c);var g=Math.floor(1e3*m*i),y=Sfe(g),b=new Yu([new jc("phase",y)],{width:"400em",height:Xe(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=ye.makeSvgSpan(["hide-tail"],[b],e),s.style.height=Xe(m),a=n.depth+c+f}else{/cancel/.test(r)?l||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,I=0,R=0;/box/.test(r)?(R=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:R),I=S):r==="angl"?(R=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*R,I=Math.max(0,.25-n.depth)):(S=l?.2:0,I=S),s=Ku.encloseSpan(n,r,S,I,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Xe(R)):r==="angl"&&R!==.049&&(s.style.borderTopWidth=Xe(R),s.style.borderRightWidth=Xe(R)),a=n.depth+I,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];k=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:A}]},e)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!l?ye.makeSpan(["mord","cancel-lap"],[k],e):ye.makeSpan(["mord"],[k],e)},U6=(t,e)=>{var n=0,r=new He.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[_r(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};at({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:F6,mathmlBuilder:U6});at({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=rn(e[0],"color-token").color,a=rn(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:l}},htmlBuilder:F6,mathmlBuilder:U6});at({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});at({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:F6,mathmlBuilder:U6});at({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var BL={};function Vl(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},c=0;c<n.length;++c)BL[n[c]]=l;s&&(P_[e]=s),a&&(N_[e]=a)}var zL={};function q(t,e){zL[t]=e}function cT(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Y2=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ge("{"+t.envName+"} can be used only in display mode.")};function q6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function r0(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:l,autoTag:c,singleRow:f,emptySingleRow:p,maxNumCols:m,leqno:g}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var y=t.gullet.expandMacroAsText("\\arraystretch");if(y==null)a=1;else if(a=parseFloat(y),!a||a<0)throw new Ge("Invalid \\arraystretch: "+y)}t.gullet.beginGroup();var b=[],S=[b],I=[],R=[],k=c!=null?[]:void 0;function A(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function C(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new zl("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),R.push(cT(t));;){var P=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),P={type:"ordgroup",mode:t.mode,body:P},n&&(P={type:"styling",mode:t.mode,style:n,body:[P]}),b.push(P);var D=t.fetch().text;if(D==="&"){if(m&&b.length===m){if(f||l)throw new Ge("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(D==="\\end"){C(),b.length===1&&P.type==="styling"&&P.body[0].body.length===0&&(S.length>1||!p)&&S.pop(),R.length<S.length+1&&R.push([]);break}else if(D==="\\\\"){t.consume();var F=void 0;t.gullet.future().text!==" "&&(F=t.parseSizeGroup(!0)),I.push(F?F.value:null),C(),R.push(cT(t)),b=[],S.push(b),A()}else throw new Ge("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:S,cols:s,rowGaps:I,hskipBeforeAndAfter:r,hLinesBeforeRow:R,colSeparationType:l,tags:k,leqno:g}}function H6(t){return t.slice(0,1)==="d"?"display":"text"}var Zl=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,l=0,c=new Array(s),f=[],p=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,g=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var y=n.havingStyle(Tt.SCRIPT).sizeMultiplier;g=.2778*(y/n.sizeMultiplier)}var b=e.colSeparationType==="CD"?Gr({number:3,unit:"ex"},n):12*m,S=3*m,I=e.arraystretch*b,R=.7*I,k=.3*I,A=0;function C(Ve){for(var un=0;un<Ve.length;++un)un>0&&(A+=.25),f.push({pos:A,isDashed:Ve[un]})}for(C(a[0]),r=0;r<e.body.length;++r){var P=e.body[r],D=R,F=k;l<P.length&&(l=P.length);var Z=new Array(P.length);for(i=0;i<P.length;++i){var V=Fn(P[i],n);F<V.depth&&(F=V.depth),D<V.height&&(D=V.height),Z[i]=V}var Y=e.rowGaps[r],H=0;Y&&(H=Gr(Y,n),H>0&&(H+=k,F<H&&(F=H),H=0)),e.addJot&&(F+=S),Z.height=D,Z.depth=F,A+=D,Z.pos=A,A+=F+H,c[r]=Z,C(a[r+1])}var J=A/2+n.fontMetrics().axisHeight,he=e.cols||[],le=[],ne,pe,fe=[];if(e.tags&&e.tags.some(Ve=>Ve))for(r=0;r<s;++r){var _e=c[r],me=_e.pos-J,$=e.tags[r],ee=void 0;$===!0?ee=ye.makeSpan(["eqn-num"],[],n):$===!1?ee=ye.makeSpan([],[],n):ee=ye.makeSpan([],Ci($,n,!0),n),ee.depth=_e.depth,ee.height=_e.height,fe.push({type:"elem",elem:ee,shift:me})}for(i=0,pe=0;i<l||pe<he.length;++i,++pe){for(var ae=he[pe]||{},Ee=!0;ae.type==="separator";){if(Ee||(ne=ye.makeSpan(["arraycolsep"],[]),ne.style.width=Xe(n.fontMetrics().doubleRuleSep),le.push(ne)),ae.separator==="|"||ae.separator===":"){var Ce=ae.separator==="|"?"solid":"dashed",Oe=ye.makeSpan(["vertical-separator"],[],n);Oe.style.height=Xe(A),Oe.style.borderRightWidth=Xe(p),Oe.style.borderRightStyle=Ce,Oe.style.margin="0 "+Xe(-p/2);var be=A-J;be&&(Oe.style.verticalAlign=Xe(-be)),le.push(Oe)}else throw new Ge("Invalid separator type: "+ae.separator);pe++,ae=he[pe]||{},Ee=!1}if(!(i>=l)){var ke=void 0;(i>0||e.hskipBeforeAndAfter)&&(ke=zt.deflt(ae.pregap,g),ke!==0&&(ne=ye.makeSpan(["arraycolsep"],[]),ne.style.width=Xe(ke),le.push(ne)));var Pe=[];for(r=0;r<s;++r){var ge=c[r],De=ge[i];if(De){var ze=ge.pos-J;De.depth=ge.depth,De.height=ge.height,Pe.push({type:"elem",elem:De,shift:ze})}}Pe=ye.makeVList({positionType:"individualShift",children:Pe},n),Pe=ye.makeSpan(["col-align-"+(ae.align||"c")],[Pe]),le.push(Pe),(i<l-1||e.hskipBeforeAndAfter)&&(ke=zt.deflt(ae.postgap,g),ke!==0&&(ne=ye.makeSpan(["arraycolsep"],[]),ne.style.width=Xe(ke),le.push(ne)))}}if(c=ye.makeSpan(["mtable"],le),f.length>0){for(var Se=ye.makeLineSpan("hline",n,p),Ke=ye.makeLineSpan("hdashline",n,p),$e=[{type:"elem",elem:c,shift:0}];f.length>0;){var ct=f.pop(),Qe=ct.pos-J;ct.isDashed?$e.push({type:"elem",elem:Ke,shift:Qe}):$e.push({type:"elem",elem:Se,shift:Qe})}c=ye.makeVList({positionType:"individualShift",children:$e},n)}if(fe.length===0)return ye.makeSpan(["mord"],[c],n);var dt=ye.makeVList({positionType:"individualShift",children:fe},n);return dt=ye.makeSpan(["tag"],[dt],n),ye.makeFragment([c,dt])},Rhe={c:"center ",l:"left ",r:"right "},Yl=function(e,n){for(var r=[],i=new He.MathNode("mtd",[],["mtr-glue"]),s=new He.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var l=e.body[a],c=[],f=0;f<l.length;f++)c.push(new He.MathNode("mtd",[_r(l[f],n)]));e.tags&&e.tags[a]&&(c.unshift(i),c.push(i),e.leqno?c.unshift(s):c.push(s)),r.push(new He.MathNode("mtr",c))}var p=new He.MathNode("mtable",r),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",Xe(m));var g="",y="";if(e.cols&&e.cols.length>0){var b=e.cols,S="",I=!1,R=0,k=b.length;b[0].type==="separator"&&(g+="top ",R=1),b[b.length-1].type==="separator"&&(g+="bottom ",k-=1);for(var A=R;A<k;A++)b[A].type==="align"?(y+=Rhe[b[A].align],I&&(S+="none "),I=!0):b[A].type==="separator"&&I&&(S+=b[A].separator==="|"?"solid ":"dashed ",I=!1);p.setAttribute("columnalign",y.trim()),/[sd]/.test(S)&&p.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var C=e.cols||[],P="",D=1;D<C.length;D++)P+=D%2?"0em ":"1em ";p.setAttribute("columnspacing",P.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var F="",Z=e.hLinesBeforeRow;g+=Z[0].length>0?"left ":"",g+=Z[Z.length-1].length>0?"right ":"";for(var V=1;V<Z.length-1;V++)F+=Z[V].length===0?"none ":Z[V][0]?"dashed ":"solid ";return/[sd]/.test(F)&&p.setAttribute("rowlines",F.trim()),g!==""&&(p=new He.MathNode("menclose",[p]),p.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(p=new He.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},FL=function(e,n){e.envName.indexOf("ed")===-1&&Y2(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=r0(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:q6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l,c=0,f={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var p="",m=0;m<n[0].body.length;m++){var g=rn(n[0].body[m],"textord");p+=g.text}l=Number(p),c=l*2}var y=!c;a.body.forEach(function(R){for(var k=1;k<R.length;k+=2){var A=rn(R[k],"styling"),C=rn(A.body[0],"ordgroup");C.body.unshift(f)}if(y)c<R.length&&(c=R.length);else{var P=R.length/2;if(l<P)throw new Ge("Too many math in a row: "+("expected "+l+", but got "+P),R[0])}});for(var b=0;b<c;++b){var S="r",I=0;b%2===1?S="l":b>0&&y&&(I=1),r[b]={type:"align",align:S,pregap:I,postgap:0}}return a.colSeparationType=y?"align":"alignat",a};Vl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=$2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=D6(a),c=l.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new Ge("Unknown column alignment: "+c,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return r0(t.parser,s,H6(t.envName))},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ge("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=r0(t.parser,r,H6(t.envName)),a=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=r0(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=$2(e[0]),r=n?[e[0]]:rn(e[0],"ordgroup").body,i=r.map(function(a){var l=D6(a),c=l.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new Ge("Unknown column alignment: "+c,a)});if(i.length>1)throw new Ge("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=r0(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ge("{subarray} can contain only one column");return s},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=r0(t.parser,e,H6(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:FL,htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){zt.contains(["gather","gather*"],t.envName)&&Y2(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:q6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return r0(t.parser,e,"display")},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:FL,htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Y2(t);var e={autoTag:q6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return r0(t.parser,e,"display")},htmlBuilder:Zl,mathmlBuilder:Yl});Vl({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Y2(t),_he(t.parser)},htmlBuilder:Zl,mathmlBuilder:Yl});q("\\nonumber","\\gdef\\@eqnsw{0}");q("\\notag","\\nonumber");at({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ge(t.funcName+" valid only within array environment")}});var fT=BL;at({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ge("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=rn(i.body[a],"textord").text;if(r==="\\begin"){if(!fT.hasOwnProperty(s))throw new Ge("No such environment: "+s,i);var l=fT[s],{args:c,optArgs:f}=n.parseArguments("\\begin{"+s+"}",l),p={mode:n.mode,envName:s,parser:n},m=l.handler(p,c,f);n.expect("\\end",!1);var g=n.nextToken,y=rn(n.parseFunction(),"environment");if(y.name!==s)throw new Ge("Mismatch: \\begin{"+s+"} matched by \\end{"+y.name+"}",g);return m}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var UL=(t,e)=>{var n=t.font,r=e.withFont(n);return Fn(t.body,r)},qL=(t,e)=>{var n=t.font,r=e.withFont(n);return _r(t.body,r)},hT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};at({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=L_(e[0]),s=r;return s in hT&&(s=hT[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:UL,mathmlBuilder:qL});at({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=zt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:V2(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});at({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:UL,mathmlBuilder:qL});var HL=(t,e)=>{var n=e;return t==="display"?n=n.id>=Tt.SCRIPT.id?n.text():Tt.DISPLAY:t==="text"&&n.size===Tt.DISPLAY.size?n=Tt.TEXT:t==="script"?n=Tt.SCRIPT:t==="scriptscript"&&(n=Tt.SCRIPTSCRIPT),n},W6=(t,e)=>{var n=HL(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=Fn(t.numer,s,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<c?c:a.depth}s=e.havingStyle(i);var f=Fn(t.denom,s,e),p,m,g;t.hasBarLine?(t.barSize?(m=Gr(t.barSize,e),p=ye.makeLineSpan("frac-line",e,m)):p=ye.makeLineSpan("frac-line",e),m=p.height,g=p.height):(p=null,m=0,g=e.fontMetrics().defaultRuleThickness);var y,b,S;n.size===Tt.DISPLAY.size||t.size==="display"?(y=e.fontMetrics().num1,m>0?b=3*g:b=7*g,S=e.fontMetrics().denom1):(m>0?(y=e.fontMetrics().num2,b=g):(y=e.fontMetrics().num3,b=3*g),S=e.fontMetrics().denom2);var I;if(p){var k=e.fontMetrics().axisHeight;y-a.depth-(k+.5*m)<b&&(y+=b-(y-a.depth-(k+.5*m))),k-.5*m-(f.height-S)<b&&(S+=b-(k-.5*m-(f.height-S)));var A=-(k-.5*m);I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:p,shift:A},{type:"elem",elem:a,shift:-y}]},e)}else{var R=y-a.depth-(f.height-S);R<b&&(y+=.5*(b-R),S+=.5*(b-R)),I=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:S},{type:"elem",elem:a,shift:-y}]},e)}s=e.havingStyle(n),I.height*=s.sizeMultiplier/e.sizeMultiplier,I.depth*=s.sizeMultiplier/e.sizeMultiplier;var C;n.size===Tt.DISPLAY.size?C=e.fontMetrics().delim1:n.size===Tt.SCRIPTSCRIPT.size?C=e.havingStyle(Tt.SCRIPT).fontMetrics().delim2:C=e.fontMetrics().delim2;var P,D;return t.leftDelim==null?P=Dp(e,["mopen"]):P=qu.customSizedDelim(t.leftDelim,C,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?D=ye.makeSpan([]):t.rightDelim==null?D=Dp(e,["mclose"]):D=qu.customSizedDelim(t.rightDelim,C,!0,e.havingStyle(n),t.mode,["mclose"]),ye.makeSpan(["mord"].concat(s.sizingClasses(e)),[P,ye.makeSpan(["mfrac"],[I]),D],e)},G6=(t,e)=>{var n=new He.MathNode("mfrac",[_r(t.numer,e),_r(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Gr(t.barSize,e);n.setAttribute("linethickness",Xe(r))}var i=HL(t.size,e.style);if(i.size!==e.style.size){n=new He.MathNode("mstyle",[n]);var s=i.size===Tt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var l=new He.MathNode("mo",[new He.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(n),t.rightDelim!=null){var c=new He.MathNode("mo",[new He.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}return L6(a)}return n};at({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,l=null,c=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",c=")";break;case"\\\\bracefrac":a=!1,l="\\{",c="\\}";break;case"\\\\brackfrac":a=!1,l="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:l,rightDelim:c,size:f,barSize:null}},htmlBuilder:W6,mathmlBuilder:G6});at({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});at({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var dT=["display","text","script","scriptscript"],pT=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};at({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=L_(e[0]),a=s.type==="atom"&&s.family==="open"?pT(s.text):null,l=L_(e[1]),c=l.type==="atom"&&l.family==="close"?pT(l.text):null,f=rn(e[2],"size"),p,m=null;f.isBlank?p=!0:(m=f.value,p=m.number>0);var g="auto",y=e[3];if(y.type==="ordgroup"){if(y.body.length>0){var b=rn(y.body[0],"textord");g=dT[Number(b.text)]}}else y=rn(y,"textord"),g=dT[Number(y.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:p,barSize:m,leftDelim:a,rightDelim:c,size:g}},htmlBuilder:W6,mathmlBuilder:G6});at({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:rn(e[0],"size").value,token:i}}});at({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=lfe(rn(e[1],"infix").size),a=e[2],l=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:W6,mathmlBuilder:G6});var WL=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Fn(t.sup,e.havingStyle(n.sup()),e):Fn(t.sub,e.havingStyle(n.sub()),e),i=rn(t.base,"horizBrace")):i=rn(t,"horizBrace");var s=Fn(i.base,e.havingBaseStyle(Tt.DISPLAY)),a=Ku.svgSpan(i,e),l;if(i.isOver?(l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=ye.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var c=ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=ye.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return ye.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},Phe=(t,e)=>{var n=Ku.mathMLnode(t.label);return new He.MathNode(t.isOver?"mover":"munder",[_r(t.base,e),n])};at({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:WL,mathmlBuilder:Phe});at({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=rn(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ci(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1);return ye.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Kc(t.body,e);return n instanceof ho||(n=new ho("mrow",[n])),n.setAttribute("href",t.href),n}});at({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=rn(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ci(l)}}});at({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:ci(e[0])}},htmlBuilder(t,e){var n=Ci(t.body,e,!1);return ye.makeFragment(n)},mathmlBuilder(t,e){return new He.MathNode("mrow",Ma(t.body,e))}});at({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=rn(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,c={};switch(r){case"\\htmlClass":c.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":c.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":c.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var f=s.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length!==2)throw new Ge("Error parsing key-value for \\htmlData");c["data-"+m[0].trim()]=m[1].trim()}l={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:c,body:ci(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Ci(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ye.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Kc(t.body,e)});at({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:ci(e[0]),mathml:ci(e[1])}},htmlBuilder:(t,e)=>{var n=Ci(t.html,e,!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>Kc(t.mathml,e)});var cy=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ge("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!lL(r))throw new Ge("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};at({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=rn(n[0],"raw").string,f=c.split(","),p=0;p<f.length;p++){var m=f[p].split("=");if(m.length===2){var g=m[1].trim();switch(m[0].trim()){case"alt":l=g;break;case"width":i=cy(g);break;case"height":s=cy(g);break;case"totalheight":a=cy(g);break;default:throw new Ge("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var y=rn(e[0],"url").url;return l===""&&(l=y,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:a,src:y}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Gr(t.height,e),r=0;t.totalheight.number>0&&(r=Gr(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Gr(t.width,e));var s={height:Xe(n+r)};i>0&&(s.width=Xe(i)),r>0&&(s.verticalAlign=Xe(-r));var a=new Pfe(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Gr(t.height,e),i=0;if(t.totalheight.number>0&&(i=Gr(t.totalheight,e)-r,n.setAttribute("valign",Xe(-i))),n.setAttribute("height",Xe(r+i)),t.width.number>0){var s=Gr(t.width,e);n.setAttribute("width",Xe(s))}return n.setAttribute("src",t.src),n}});at({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=rn(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return ye.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Gr(t.dimension,e);return new He.SpaceNode(n)}});at({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ye.makeSpan([],[Fn(t.body,e)]),n=ye.makeSpan(["inner"],[n],e)):n=ye.makeSpan(["inner"],[Fn(t.body,e)]);var r=ye.makeSpan(["fix"],[]),i=ye.makeSpan([t.alignment],[n,r],e),s=ye.makeSpan(["strut"]);return s.style.height=Xe(i.height+i.depth),i.depth&&(s.style.verticalAlign=Xe(-i.depth)),i.children.unshift(s),i=ye.makeSpan(["thinbox"],[i],e),ye.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[_r(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});at({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});at({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ge("Mismatched "+t.funcName)}});var mT=(t,e)=>{switch(e.style.size){case Tt.DISPLAY.size:return t.display;case Tt.TEXT.size:return t.text;case Tt.SCRIPT.size:return t.script;case Tt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};at({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:ci(e[0]),text:ci(e[1]),script:ci(e[2]),scriptscript:ci(e[3])}},htmlBuilder:(t,e)=>{var n=mT(t,e),r=Ci(n,e,!1);return ye.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=mT(t,e);return Kc(n,e)}});var GL=(t,e,n,r,i,s,a)=>{t=ye.makeSpan([],[t]);var l=n&&zt.isCharacterBox(n),c,f;if(e){var p=Fn(e,r.havingStyle(i.sup()),r);f={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-p.depth)}}if(n){var m=Fn(n,r.havingStyle(i.sub()),r);c={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-m.height)}}var g;if(f&&c){var y=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Xe(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Xe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var b=t.height-a;g=ye.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Xe(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},r)}else if(f){var S=t.depth+a;g=ye.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Xe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var I=[g];if(c&&s!==0&&!l){var R=ye.makeSpan(["mspace"],[],r);R.style.marginRight=Xe(s),I.unshift(R)}return ye.makeSpan(["mop","op-limits"],I,r)},$L=["\\smallint"],Vh=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"op"),i=!0):s=rn(t,"op");var a=e.style,l=!1;a.size===Tt.DISPLAY.size&&s.symbol&&!zt.contains($L,s.name)&&(l=!0);var c;if(s.symbol){var f=l?"Size2-Regular":"Size1-Regular",p="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(p=s.name.slice(1),s.name=p==="oiint"?"\\iint":"\\iiint"),c=ye.makeSymbol(s.name,f,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),p.length>0){var m=c.italic,g=ye.staticSvg(p+"Size"+(l?"2":"1"),e);c=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},e),s.name="\\"+p,c.classes.unshift("mop"),c.italic=m}}else if(s.body){var y=Ci(s.body,e,!0);y.length===1&&y[0]instanceof ko?(c=y[0],c.classes[0]="mop"):c=ye.makeSpan(["mop"],y,e)}else{for(var b=[],S=1;S<s.name.length;S++)b.push(ye.mathsym(s.name[S],s.mode,e));c=ye.makeSpan(["mop"],b,e)}var I=0,R=0;return(c instanceof ko||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(I=(c.height-c.depth)/2-e.fontMetrics().axisHeight,R=c.italic),i?GL(c,n,r,e,a,R,I):(I&&(c.style.position="relative",c.style.top=Xe(I)),c)},Im=(t,e)=>{var n;if(t.symbol)n=new ho("mo",[Eo(t.name,t.mode)]),zt.contains($L,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new ho("mo",Ma(t.body,e));else{n=new ho("mi",[new jd(t.name.slice(1))]);var r=new ho("mo",[Eo("⁡","text")]);t.parentIsSupSub?n=new ho("mrow",[n,r]):n=yL([n,r])}return n},Nhe={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};at({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=Nhe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Vh,mathmlBuilder:Im});at({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ci(r)}},htmlBuilder:Vh,mathmlBuilder:Im});var Lhe={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};at({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Vh,mathmlBuilder:Im});at({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Vh,mathmlBuilder:Im});at({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=Lhe[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Vh,mathmlBuilder:Im});var VL=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=rn(t.base,"operatorname"),i=!0):s=rn(t,"operatorname");var a;if(s.body.length>0){for(var l=s.body.map(m=>{var g=m.text;return typeof g=="string"?{type:"textord",mode:m.mode,text:g}:m}),c=Ci(l,e.withFont("mathrm"),!0),f=0;f<c.length;f++){var p=c[f];p instanceof ko&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ye.makeSpan(["mop"],c,e)}else a=ye.makeSpan(["mop"],[],e);return i?GL(a,n,r,e,e.style,0,0):a},Ohe=(t,e)=>{for(var n=Ma(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof He.SpaceNode))if(s instanceof He.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof He.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=n.map(p=>p.toText()).join("");n=[new He.TextNode(l)]}var c=new He.MathNode("mi",n);c.setAttribute("mathvariant","normal");var f=new He.MathNode("mo",[Eo("⁡","text")]);return t.parentIsSupSub?new He.MathNode("mrow",[c,f]):He.newDocumentFragment([c,f])};at({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:ci(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:VL,mathmlBuilder:Ohe});q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");pf({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ye.makeFragment(Ci(t.body,e,!1)):ye.makeSpan(["mord"],Ci(t.body,e,!0),e)},mathmlBuilder(t,e){return Kc(t.body,e,!0)}});at({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Fn(t.body,e.havingCrampedStyle()),r=ye.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ye.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new He.MathNode("mover",[_r(t.body,e),n]);return r.setAttribute("accent","true"),r}});at({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:ci(r)}},htmlBuilder:(t,e)=>{var n=Ci(t.body,e.withPhantom(),!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ma(t.body,e);return new He.MathNode("mphantom",n)}});at({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Fn(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ye.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ma(ci(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});at({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan(["inner"],[Fn(t.body,e.withPhantom())]),r=ye.makeSpan(["fix"],[]);return ye.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Ma(ci(t.body),e),r=new He.MathNode("mphantom",n),i=new He.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});at({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=rn(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Fn(t.body,e),r=Gr(t.dy,e);return ye.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new He.MathNode("mpadded",[_r(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});at({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});at({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=rn(e[0],"size"),a=rn(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&rn(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=ye.makeSpan(["mord","rule"],[],e),r=Gr(t.width,e),i=Gr(t.height,e),s=t.shift?Gr(t.shift,e):0;return n.style.borderRightWidth=Xe(r),n.style.borderTopWidth=Xe(i),n.style.bottom=Xe(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Gr(t.width,e),r=Gr(t.height,e),i=t.shift?Gr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new He.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Xe(n)),a.setAttribute("height",Xe(r));var l=new He.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",Xe(i)):(l.setAttribute("height",Xe(i)),l.setAttribute("depth",Xe(-i))),l.setAttribute("voffset",Xe(i)),l}});function ZL(t,e,n){for(var r=Ci(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return ye.makeFragment(r)}var gT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Dhe=(t,e)=>{var n=e.havingSize(t.size);return ZL(t.body,n,e)};at({type:"sizing",names:gT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:gT.indexOf(r)+1,body:s}},htmlBuilder:Dhe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Ma(t.body,n),i=new He.MathNode("mstyle",r);return i.setAttribute("mathsize",Xe(n.sizeMultiplier)),i}});at({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&rn(n[0],"ordgroup");if(a)for(var l="",c=0;c<a.body.length;++c){var f=a.body[c];if(l=f.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var p=e[0];return{type:"smash",mode:r.mode,body:p,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[Fn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ye.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new He.MathNode("mpadded",[_r(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});at({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Fn(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ye.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<Tt.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,l=n.height+n.depth+a+i,{span:c,ruleWidth:f,advanceWidth:p}=qu.sqrtImage(l,e),m=c.height-f;m>n.height+n.depth+a&&(a=(a+m-n.height-n.depth)/2);var g=c.height-n.height-a-f;n.style.paddingLeft=Xe(p);var y=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:c},{type:"kern",size:f}]},e);if(t.index){var b=e.havingStyle(Tt.SCRIPTSCRIPT),S=Fn(t.index,b,e),I=.6*(y.height-y.depth),R=ye.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:S}]},e),k=ye.makeSpan(["root"],[R]);return ye.makeSpan(["mord","sqrt"],[k,y],e)}else return ye.makeSpan(["mord","sqrt"],[y],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new He.MathNode("mroot",[_r(n,e),_r(r,e)]):new He.MathNode("msqrt",[_r(n,e)])}});var _T={display:Tt.DISPLAY,text:Tt.TEXT,script:Tt.SCRIPT,scriptscript:Tt.SCRIPTSCRIPT};at({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=_T[t.style],r=e.havingStyle(n).withFont("");return ZL(t.body,r,e)},mathmlBuilder(t,e){var n=_T[t.style],r=e.havingStyle(n),i=Ma(t.body,r),s=new He.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[t.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var Bhe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Tt.DISPLAY.size||r.alwaysHandleSupSub);return i?Vh:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Tt.DISPLAY.size||r.limits);return s?VL:null}else{if(r.type==="accent")return zt.isCharacterBox(r.base)?B6:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?WL:null}else return null}else return null};pf({type:"supsub",htmlBuilder(t,e){var n=Bhe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=Fn(r,e),l,c,f=e.fontMetrics(),p=0,m=0,g=r&&zt.isCharacterBox(r);if(i){var y=e.havingStyle(e.style.sup());l=Fn(i,y,e),g||(p=a.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(s){var b=e.havingStyle(e.style.sub());c=Fn(s,b,e),g||(m=a.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var S;e.style===Tt.DISPLAY?S=f.sup1:e.style.cramped?S=f.sup3:S=f.sup2;var I=e.sizeMultiplier,R=Xe(.5/f.ptPerEm/I),k=null;if(c){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ko||A)&&(k=Xe(-a.italic))}var C;if(l&&c){p=Math.max(p,S,l.depth+.25*f.xHeight),m=Math.max(m,f.sub2);var P=f.defaultRuleThickness,D=4*P;if(p-l.depth-(c.height-m)<D){m=D-(p-l.depth)+c.height;var F=.8*f.xHeight-(p-l.depth);F>0&&(p+=F,m-=F)}var Z=[{type:"elem",elem:c,shift:m,marginRight:R,marginLeft:k},{type:"elem",elem:l,shift:-p,marginRight:R}];C=ye.makeVList({positionType:"individualShift",children:Z},e)}else if(c){m=Math.max(m,f.sub1,c.height-.8*f.xHeight);var V=[{type:"elem",elem:c,marginLeft:k,marginRight:R}];C=ye.makeVList({positionType:"shift",positionData:m,children:V},e)}else if(l)p=Math.max(p,S,l.depth+.25*f.xHeight),C=ye.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:l,marginRight:R}]},e);else throw new Error("supsub must have either sup or sub.");var Y=s3(a,"right")||"mord";return ye.makeSpan([Y],[a,ye.makeSpan(["msupsub"],[C])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[_r(t.base,e)];t.sub&&s.push(_r(t.sub,e)),t.sup&&s.push(_r(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===Tt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===Tt.DISPLAY||f.limits)?a="munderover":a="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Tt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Tt.DISPLAY)?a="munder":a="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Tt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Tt.DISPLAY)?a="mover":a="msup"}return new He.MathNode(a,s)}});pf({type:"atom",htmlBuilder(t,e){return ye.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new He.MathNode("mo",[Eo(t.text,t.mode)]);if(t.family==="bin"){var r=O6(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var YL={mi:"italic",mn:"normal",mtext:"normal"};pf({type:"mathord",htmlBuilder(t,e){return ye.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new He.MathNode("mi",[Eo(t.text,t.mode,e)]),r=O6(t,e)||"italic";return r!==YL[n.type]&&n.setAttribute("mathvariant",r),n}});pf({type:"textord",htmlBuilder(t,e){return ye.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Eo(t.text,t.mode,e),r=O6(t,e)||"normal",i;return t.mode==="text"?i=new He.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new He.MathNode("mn",[n]):t.text==="\\prime"?i=new He.MathNode("mo",[n]):i=new He.MathNode("mi",[n]),r!==YL[i.type]&&i.setAttribute("mathvariant",r),i}});var fy={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},hy={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};pf({type:"spacing",htmlBuilder(t,e){if(hy.hasOwnProperty(t.text)){var n=hy[t.text].className||"";if(t.mode==="text"){var r=ye.makeOrd(t,e,"textord");return r.classes.push(n),r}else return ye.makeSpan(["mspace",n],[ye.mathsym(t.text,t.mode,e)],e)}else{if(fy.hasOwnProperty(t.text))return ye.makeSpan(["mspace",fy[t.text]],[],e);throw new Ge('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(hy.hasOwnProperty(t.text))n=new He.MathNode("mtext",[new He.TextNode(" ")]);else{if(fy.hasOwnProperty(t.text))return new He.MathNode("mspace");throw new Ge('Unknown type of space "'+t.text+'"')}return n}});var vT=()=>{var t=new He.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};pf({type:"tag",mathmlBuilder(t,e){var n=new He.MathNode("mtable",[new He.MathNode("mtr",[vT(),new He.MathNode("mtd",[Kc(t.body,e)]),vT(),new He.MathNode("mtd",[Kc(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var yT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},bT={"\\textbf":"textbf","\\textmd":"textmd"},zhe={"\\textit":"textit","\\textup":"textup"},wT=(t,e)=>{var n=t.font;return n?yT[n]?e.withTextFontFamily(yT[n]):bT[n]?e.withTextFontWeight(bT[n]):e.withTextFontShape(zhe[n]):e};at({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:ci(i),font:r}},htmlBuilder(t,e){var n=wT(t,e),r=Ci(t.body,n,!0);return ye.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=wT(t,e);return Kc(t.body,n)}});at({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Fn(t.body,e),r=ye.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new He.MathNode("mo",[new He.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new He.MathNode("munder",[_r(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});at({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Fn(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ye.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new He.MathNode("mpadded",[_r(t.body,e)],["vcenter"])}});at({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ge("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=xT(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(ye.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ye.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ye.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new He.TextNode(xT(t)),r=new He.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var xT=t=>t.body.replace(/ /g,t.star?"␣":" "),Rc=_L,jL=`[ \r
	]`,Fhe="\\\\[a-zA-Z@]+",Uhe="\\\\[^\uD800-\uDFFF]",qhe="("+Fhe+")"+jL+"*",Hhe=`\\\\(
|[ \r	]+
?)[ \r	]*`,u3="[̀-ͯ]",Whe=new RegExp(u3+"+$"),Ghe="("+jL+"+)|"+(Hhe+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(u3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(u3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+qhe)+("|"+Uhe+")");class ST{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(Ghe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new zl("EOF",new Wa(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ge("Unexpected character: '"+e[n]+"'",new zl(e[n],new Wa(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new zl(i,new Wa(this,n,this.tokenRegex.lastIndex))}}class $he{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ge("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var Vhe=zL;q("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});q("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});q("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});q("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});q("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");q("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var TT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ge("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=TT[e.text],r==null||r>=n)throw new Ge("Invalid base-"+n+" digit "+e.text);for(var i;(i=TT[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var $6=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new Ge("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new Ge("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new Ge("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Ge("Invalid number of arguments: "+l);a=parseInt(l),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:a}),""};q("\\newcommand",t=>$6(t,!1,!0));q("\\renewcommand",t=>$6(t,!0,!1));q("\\providecommand",t=>$6(t,!0,!0));q("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});q("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});q("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Rc[n],Er.math[n],Er.text[n]),""});q("\\bgroup","{");q("\\egroup","}");q("~","\\nobreakspace");q("\\lq","`");q("\\rq","'");q("\\aa","\\r a");q("\\AA","\\r A");q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");q("ℬ","\\mathscr{B}");q("ℰ","\\mathscr{E}");q("ℱ","\\mathscr{F}");q("ℋ","\\mathscr{H}");q("ℐ","\\mathscr{I}");q("ℒ","\\mathscr{L}");q("ℳ","\\mathscr{M}");q("ℛ","\\mathscr{R}");q("ℭ","\\mathfrak{C}");q("ℌ","\\mathfrak{H}");q("ℨ","\\mathfrak{Z}");q("\\Bbbk","\\Bbb{k}");q("·","\\cdotp");q("\\llap","\\mathllap{\\textrm{#1}}");q("\\rlap","\\mathrlap{\\textrm{#1}}");q("\\clap","\\mathclap{\\textrm{#1}}");q("\\mathstrut","\\vphantom{(}");q("\\underbar","\\underline{\\text{#1}}");q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");q("\\ne","\\neq");q("≠","\\neq");q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");q("∉","\\notin");q("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");q("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");q("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");q("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");q("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");q("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");q("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");q("⟂","\\perp");q("‼","\\mathclose{!\\mkern-0.8mu!}");q("∌","\\notni");q("⌜","\\ulcorner");q("⌝","\\urcorner");q("⌞","\\llcorner");q("⌟","\\lrcorner");q("©","\\copyright");q("®","\\textregistered");q("️","\\textregistered");q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');q("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");q("⋮","\\vdots");q("\\varGamma","\\mathit{\\Gamma}");q("\\varDelta","\\mathit{\\Delta}");q("\\varTheta","\\mathit{\\Theta}");q("\\varLambda","\\mathit{\\Lambda}");q("\\varXi","\\mathit{\\Xi}");q("\\varPi","\\mathit{\\Pi}");q("\\varSigma","\\mathit{\\Sigma}");q("\\varUpsilon","\\mathit{\\Upsilon}");q("\\varPhi","\\mathit{\\Phi}");q("\\varPsi","\\mathit{\\Psi}");q("\\varOmega","\\mathit{\\Omega}");q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");q("\\boxed","\\fbox{$\\displaystyle{#1}$}");q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var kT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in kT?e=kT[n]:(n.slice(0,4)==="\\not"||n in Er.math&&zt.contains(["bin","rel"],Er.math[n].group))&&(e="\\dotsb"),e});var V6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(t){var e=t.future().text;return e in V6?"\\ldots\\,":"\\ldots"});q("\\dotsc",function(t){var e=t.future().text;return e in V6&&e!==","?"\\ldots\\,":"\\ldots"});q("\\cdots",function(t){var e=t.future().text;return e in V6?"\\@cdots\\,":"\\@cdots"});q("\\dotsb","\\cdots");q("\\dotsm","\\cdots");q("\\dotsi","\\!\\cdots");q("\\dotsx","\\ldots\\,");q("\\DOTSI","\\relax");q("\\DOTSB","\\relax");q("\\DOTSX","\\relax");q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");q("\\,","\\tmspace+{3mu}{.1667em}");q("\\thinspace","\\,");q("\\>","\\mskip{4mu}");q("\\:","\\tmspace+{4mu}{.2222em}");q("\\medspace","\\:");q("\\;","\\tmspace+{5mu}{.2777em}");q("\\thickspace","\\;");q("\\!","\\tmspace-{3mu}{.1667em}");q("\\negthinspace","\\!");q("\\negmedspace","\\tmspace-{4mu}{.2222em}");q("\\negthickspace","\\tmspace-{5mu}{.277em}");q("\\enspace","\\kern.5em ");q("\\enskip","\\hskip.5em\\relax");q("\\quad","\\hskip1em\\relax");q("\\qquad","\\hskip2em\\relax");q("\\tag","\\@ifstar\\tag@literal\\tag@paren");q("\\tag@paren","\\tag@literal{({#1})}");q("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ge("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");q("\\newline","\\\\\\relax");q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var KL=Xe(Nl["Main-Regular"]["T".charCodeAt(0)][1]-.7*Nl["Main-Regular"]["A".charCodeAt(0)][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+KL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+KL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");q("\\hspace","\\@ifstar\\@hspacer\\@hspace");q("\\@hspace","\\hskip #1\\relax");q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");q("\\ordinarycolon",":");q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');q("∷","\\dblcolon");q("∹","\\eqcolon");q("≔","\\coloneqq");q("≕","\\eqqcolon");q("⩴","\\Coloneqq");q("\\ratio","\\vcentcolon");q("\\coloncolon","\\dblcolon");q("\\colonequals","\\coloneqq");q("\\coloncolonequals","\\Coloneqq");q("\\equalscolon","\\eqqcolon");q("\\equalscoloncolon","\\Eqqcolon");q("\\colonminus","\\coloneq");q("\\coloncolonminus","\\Coloneq");q("\\minuscolon","\\eqcolon");q("\\minuscoloncolon","\\Eqcolon");q("\\coloncolonapprox","\\Colonapprox");q("\\coloncolonsim","\\Colonsim");q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");q("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");q("\\nleqq","\\html@mathml{\\@nleqq}{≰}");q("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");q("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");q("\\imath","\\html@mathml{\\@imath}{ı}");q("\\jmath","\\html@mathml{\\@jmath}{ȷ}");q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");q("⟦","\\llbracket");q("⟧","\\rrbracket");q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");q("⦃","\\lBrace");q("⦄","\\rBrace");q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");q("⦵","\\minuso");q("\\darr","\\downarrow");q("\\dArr","\\Downarrow");q("\\Darr","\\Downarrow");q("\\lang","\\langle");q("\\rang","\\rangle");q("\\uarr","\\uparrow");q("\\uArr","\\Uparrow");q("\\Uarr","\\Uparrow");q("\\N","\\mathbb{N}");q("\\R","\\mathbb{R}");q("\\Z","\\mathbb{Z}");q("\\alef","\\aleph");q("\\alefsym","\\aleph");q("\\Alpha","\\mathrm{A}");q("\\Beta","\\mathrm{B}");q("\\bull","\\bullet");q("\\Chi","\\mathrm{X}");q("\\clubs","\\clubsuit");q("\\cnums","\\mathbb{C}");q("\\Complex","\\mathbb{C}");q("\\Dagger","\\ddagger");q("\\diamonds","\\diamondsuit");q("\\empty","\\emptyset");q("\\Epsilon","\\mathrm{E}");q("\\Eta","\\mathrm{H}");q("\\exist","\\exists");q("\\harr","\\leftrightarrow");q("\\hArr","\\Leftrightarrow");q("\\Harr","\\Leftrightarrow");q("\\hearts","\\heartsuit");q("\\image","\\Im");q("\\infin","\\infty");q("\\Iota","\\mathrm{I}");q("\\isin","\\in");q("\\Kappa","\\mathrm{K}");q("\\larr","\\leftarrow");q("\\lArr","\\Leftarrow");q("\\Larr","\\Leftarrow");q("\\lrarr","\\leftrightarrow");q("\\lrArr","\\Leftrightarrow");q("\\Lrarr","\\Leftrightarrow");q("\\Mu","\\mathrm{M}");q("\\natnums","\\mathbb{N}");q("\\Nu","\\mathrm{N}");q("\\Omicron","\\mathrm{O}");q("\\plusmn","\\pm");q("\\rarr","\\rightarrow");q("\\rArr","\\Rightarrow");q("\\Rarr","\\Rightarrow");q("\\real","\\Re");q("\\reals","\\mathbb{R}");q("\\Reals","\\mathbb{R}");q("\\Rho","\\mathrm{P}");q("\\sdot","\\cdot");q("\\sect","\\S");q("\\spades","\\spadesuit");q("\\sub","\\subset");q("\\sube","\\subseteq");q("\\supe","\\supseteq");q("\\Tau","\\mathrm{T}");q("\\thetasym","\\vartheta");q("\\weierp","\\wp");q("\\Zeta","\\mathrm{Z}");q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");q("\\bra","\\mathinner{\\langle{#1}|}");q("\\ket","\\mathinner{|{#1}\\rangle}");q("\\braket","\\mathinner{\\langle{#1}\\rangle}");q("\\Bra","\\left\\langle#1\\right|");q("\\Ket","\\left|#1\\right\\rangle");var XL=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var c=m=>g=>{t&&(g.macros.set("|",a),i.length&&g.macros.set("\\|",l));var y=m;if(!m&&i.length){var b=g.future();b.text==="|"&&(g.popToken(),y=!0)}return{tokens:y?i:r,numArgs:0}};e.macros.set("|",c(!1)),i.length&&e.macros.set("\\|",c(!0));var f=e.consumeArg().tokens,p=e.expandTokens([...s,...f,...n]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};q("\\bra@ket",XL(!1));q("\\bra@set",XL(!0));q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");q("\\angln","{\\angl n}");q("\\blue","\\textcolor{##6495ed}{#1}");q("\\orange","\\textcolor{##ffa500}{#1}");q("\\pink","\\textcolor{##ff00af}{#1}");q("\\red","\\textcolor{##df0030}{#1}");q("\\green","\\textcolor{##28ae7b}{#1}");q("\\gray","\\textcolor{gray}{#1}");q("\\purple","\\textcolor{##9d38bd}{#1}");q("\\blueA","\\textcolor{##ccfaff}{#1}");q("\\blueB","\\textcolor{##80f6ff}{#1}");q("\\blueC","\\textcolor{##63d9ea}{#1}");q("\\blueD","\\textcolor{##11accd}{#1}");q("\\blueE","\\textcolor{##0c7f99}{#1}");q("\\tealA","\\textcolor{##94fff5}{#1}");q("\\tealB","\\textcolor{##26edd5}{#1}");q("\\tealC","\\textcolor{##01d1c1}{#1}");q("\\tealD","\\textcolor{##01a995}{#1}");q("\\tealE","\\textcolor{##208170}{#1}");q("\\greenA","\\textcolor{##b6ffb0}{#1}");q("\\greenB","\\textcolor{##8af281}{#1}");q("\\greenC","\\textcolor{##74cf70}{#1}");q("\\greenD","\\textcolor{##1fab54}{#1}");q("\\greenE","\\textcolor{##0d923f}{#1}");q("\\goldA","\\textcolor{##ffd0a9}{#1}");q("\\goldB","\\textcolor{##ffbb71}{#1}");q("\\goldC","\\textcolor{##ff9c39}{#1}");q("\\goldD","\\textcolor{##e07d10}{#1}");q("\\goldE","\\textcolor{##a75a05}{#1}");q("\\redA","\\textcolor{##fca9a9}{#1}");q("\\redB","\\textcolor{##ff8482}{#1}");q("\\redC","\\textcolor{##f9685d}{#1}");q("\\redD","\\textcolor{##e84d39}{#1}");q("\\redE","\\textcolor{##bc2612}{#1}");q("\\maroonA","\\textcolor{##ffbde0}{#1}");q("\\maroonB","\\textcolor{##ff92c6}{#1}");q("\\maroonC","\\textcolor{##ed5fa6}{#1}");q("\\maroonD","\\textcolor{##ca337c}{#1}");q("\\maroonE","\\textcolor{##9e034e}{#1}");q("\\purpleA","\\textcolor{##ddd7ff}{#1}");q("\\purpleB","\\textcolor{##c6b9fc}{#1}");q("\\purpleC","\\textcolor{##aa87ff}{#1}");q("\\purpleD","\\textcolor{##7854ab}{#1}");q("\\purpleE","\\textcolor{##543b78}{#1}");q("\\mintA","\\textcolor{##f5f9e8}{#1}");q("\\mintB","\\textcolor{##edf2df}{#1}");q("\\mintC","\\textcolor{##e0e5cc}{#1}");q("\\grayA","\\textcolor{##f6f7f7}{#1}");q("\\grayB","\\textcolor{##f0f1f2}{#1}");q("\\grayC","\\textcolor{##e3e5e6}{#1}");q("\\grayD","\\textcolor{##d6d8da}{#1}");q("\\grayE","\\textcolor{##babec2}{#1}");q("\\grayF","\\textcolor{##888d93}{#1}");q("\\grayG","\\textcolor{##626569}{#1}");q("\\grayH","\\textcolor{##3b3e40}{#1}");q("\\grayI","\\textcolor{##21242c}{#1}");q("\\kaBlue","\\textcolor{##314453}{#1}");q("\\kaGreen","\\textcolor{##71B307}{#1}");var JL={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Zhe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new $he(Vhe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new ST(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new zl("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,l=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Ge("Extra }",s)}else if(s.text==="EOF")throw new Ge("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[l]==="{")&&s.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ge("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Ge("Use of the macro doesn't match its definition",s)}}for(var a=[],l=0;l<e;l++)a.push(this.consumeArg(n&&n[l+1]).tokens);return a}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ge("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Ge("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var c=s[l];if(c.text==="#"){if(l===0)throw new Ge("Incomplete placeholder at end of macro body",c);if(c=s[--l],c.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(c.text))s.splice(l,2,...a[+c.text-1]);else throw new Ge("Not a valid argument number",c)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zl(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var l=new ST(i,this.settings),c=[],f=l.lex();f.text!=="EOF";)c.push(f),f=l.lex();c.reverse();var p={tokens:c,numArgs:s};return p}return i}isDefined(e){return this.macros.has(e)||Rc.hasOwnProperty(e)||Er.math.hasOwnProperty(e)||Er.text.hasOwnProperty(e)||JL.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Rc.hasOwnProperty(e)&&!Rc[e].primitive}}var ET=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,H1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),dy={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},MT={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Bp{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Zhe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ge("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new zl("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Bp.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Rc[i.text]&&Rc[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ge("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,l=e.slice(0,n),c=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[s,e[n],a],[]):f=this.callFunction(r,[s,a],[]),[f]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Ge("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new Ge("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Ge("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Ge("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Ge("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();this.fetch().text==="'";)c.push(l),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(H1[s.text]){var f=H1[s.text],p=ET.test(s.text);for(this.consume();;){var m=this.fetch().text;if(!H1[m]||ET.test(m)!==p)break;this.consume(),f+=H1[m]}var g=new Bp(f,this.settings).parse();p?i={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=Rc[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new Ge("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Ge("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ge("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,a,l,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},l=Rc[e];if(l&&l.handler)return l.handler(a,n,r);throw new Ge("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var l=n.argTypes&&n.argTypes[a],c=a<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(l="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",l,c);if(c)s.push(f);else if(f!=null)i.push(f);else throw new Ge("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Ge("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Ge("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ge("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new Ge("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ge("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ge("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!lL(s))throw new Ge("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Wa.range(r,c),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!JL.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ge("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Wa.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Wa.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Wa.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ge(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}MT.hasOwnProperty(n[0])&&!Er[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=MT[n[0]]+n.slice(1));var s=Whe.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var a;if(Er[this.mode][n]){this.settings.strict&&this.mode==="math"&&i3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=Er[this.mode][n].group,c=Wa.range(e),f;if(Ofe.hasOwnProperty(l)){var p=l;f={type:"atom",mode:this.mode,family:p,loc:c,text:n}}else f={type:l,mode:this.mode,loc:c,text:n};a=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(oL(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Wa.range(e),text:n};else return null;if(this.consume(),s)for(var m=0;m<s[0].length;m++){var g=s[0][m];if(!dy[g])throw new Ge("Unknown accent ' "+g+"'",e);var y=dy[g][this.mode]||dy[g].text;if(!y)throw new Ge("Accent "+g+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Wa.range(e),label:y,isStretchy:!1,isShifty:!0,base:a}}return a}}Bp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Z6=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Bp(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ge("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new zl("\\df@tag")])}]}return i},QL=function(e,n,r){n.textContent="";var i=Y6(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),QL=function(){throw new Ge("KaTeX doesn't work in quirks mode.")});var Yhe=function(e,n){var r=Y6(e,n).toMarkup();return r},jhe=function(e,n){var r=new A6(n);return Z6(e,r)},eO=function(e,n,r){if(r.throwOnError||!(e instanceof Ge))throw e;var i=ye.makeSpan(["katex-error"],[new ko(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Y6=function(e,n){var r=new A6(n);try{var i=Z6(e,r);return ihe(i,e,r)}catch(s){return eO(s,e,r)}},Khe=function(e,n){var r=new A6(n);try{var i=Z6(e,r);return she(i,e,r)}catch(s){return eO(s,e,r)}},Xhe={version:"0.16.9",render:QL,renderToString:Yhe,ParseError:Ge,SETTINGS_SCHEMA:lg,__parse:jhe,__renderToDomTree:Y6,__renderToHTMLTree:Khe,__setFontMetrics:Cfe,__defineSymbol:x,__defineFunction:at,__defineMacro:q,__domTree:{Span:Am,Anchor:P6,SymbolNode:ko,SvgNode:Yu,PathNode:jc,LineNode:r3}};const Jhe=/(\s|^)\${1,2}(?!\$)/,CT=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n\$]))\1(?=[\s?!\.,:]|$)/,Qhe=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function ede(t={}){return{extensions:[tde(t,AT(t,!1)),nde(t,AT(t,!0))]}}function AT(t,e){return n=>Xhe.renderToString(n.text,{...t,displayMode:n.displayMode})+(e?`
`:"")}function tde(t,e){return{name:"inlineKatex",level:"inline",start(n){const r=n.match(Jhe);if(!r)return;const i=r.index+r[1].length;if(n.substring(i).match(CT))return i},tokenizer(n,r){const i=n.match(CT);if(i)return{type:"inlineKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function nde(t,e){return{name:"blockKatex",level:"block",start(n){return n.indexOf(`
$`)},tokenizer(n,r){const i=n.match(Qhe);if(i)return{type:"blockKatex",raw:i[0],text:i[2].trim(),displayMode:i[1].length===2}},renderer:e}}function IT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Xd(s,i[a]);return{c(){e=Q("div"),cg(e,s)},m(a,l){_t(a,e,l),n||(r=d3(t[2].call(null,e)),n=!0)},p(a,l){cg(e,s=ak(i,[l&16&&a[4]]))},d(a){a&&ft(e),n=!1,r()}}}function RT(t){let e,n,r,i=[t[4]],s={};for(let a=0;a<i.length;a+=1)s=Xd(s,i[a]);return{c(){e=Q("div"),cg(e,s)},m(a,l){_t(a,e,l),n||(r=d3(t[3].call(null,e)),n=!0)},p(a,l){cg(e,s=ak(i,[l&16&&a[4]]))},d(a){a&&ft(e),n=!1,r()}}}function rde(t){let e,n,r=t[0],i,s=t[1],a,l=IT(t),c=RT(t);return{c(){e=Q("link"),n=ve(),l.c(),i=ve(),c.c(),a=D_(),G(e,"rel","stylesheet"),G(e,"href","https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"),G(e,"integrity","sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn"),G(e,"crossorigin","anonymous")},m(f,p){N(document.head,e),_t(f,n,p),l.m(f,p),_t(f,i,p),c.m(f,p),_t(f,a,p)},p(f,[p]){p&1&&Va(r,r=f[0])?(l.d(1),l=IT(f),l.c(),l.m(i.parentNode,i)):l.p(f,p),p&2&&Va(s,s=f[1])?(c.d(1),c=RT(f),c.c(),c.m(a.parentNode,a)):c.p(f,p)},i:In,o:In,d(f){ft(e),f&&ft(n),l.d(f),f&&ft(i),f&&ft(a),c.d(f)}}}function ide(t,e,n){const r=["options","mdtext"];let i=R8(e,r),{options:s}=e,{mdtext:a}=e;function l(f){s!=null&&f.appendChild(Yo(s))}function c(f){a!=null&&(Jn.use(ede({displayMode:!0,output:"html"}),{mangle:!1,headerIds:!1}),f.innerHTML=Jn.parse(a),Un(f).select("table").attr("class","ui celled inverted grey table"))}return t.$$set=f=>{e=Xd(Xd({},e),RU(f)),n(4,i=R8(e,r)),"options"in f&&n(0,s=f.options),"mdtext"in f&&n(1,a=f.mdtext)},[s,a,l,c,i]}class PT extends Ju{constructor(e){super(),Xu(this,e,ide,rde,Va,{options:0,mdtext:1})}}function NT(t,e,n){const r=t.slice();return r[81]=e[n],r[82]=e,r[83]=n,r}function LT(t,e,n){const r=t.slice();return r[84]=e[n],r}function OT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[88]=e[n][1],r}function DT(t,e,n){const r=t.slice();return r[87]=e[n][0],r[91]=e[n][1],r}function BT(t,e,n){const r=t.slice();return r[94]=e[n],r}function sde(t){return{c:In,m:In,p:In,d:In}}function ade(t){let e;function n(s,a){return s[25]==null?lde:ode}let r=n(t),i=r(t);return{c(){i.c(),e=D_()},m(s,a){i.m(s,a),_t(s,e,a)},p(s,a){r===(r=n(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&ft(e)}}}function ode(t){let e,n=t[25].user.email+"",r;return{c(){e=Q("div"),r=Le(n),G(e,"class","ui green top left attached label")},m(i,s){_t(i,e,s),N(e,r)},p(i,s){s[0]&33554432&&n!==(n=i[25].user.email+"")&&wt(r,n)},d(i){i&&ft(e)}}}function lde(t){return{c:In,m:In,p:In,d:In}}function ude(t){let e;return{c(){e=Q("label"),e.innerHTML='Signing.. <i class="icon spinner"></i>',G(e,"class","ui orange label top left attached")},m(n,r){_t(n,e,r)},p:In,d(n){n&&ft(e)}}}function zT(t){let e,n,r,i,s,a;return{c(){e=Q("div"),n=Q("label"),n.textContent="MidBand to 6GHz Factor :",r=ve(),i=Q("input"),G(i,"type","number"),G(i,"min",".5"),G(i,"max","2"),G(i,"step","0.1"),G(e,"class","field")},m(l,c){_t(l,e,c),N(e,n),N(e,r),N(e,i),ht(i,t[5]),s||(a=et(i,"input",t[44]),s=!0)},p(l,c){c[0]&32&&Yt(i.value)!==l[5]&&ht(i,l[5])},d(l){l&&ft(e),s=!1,a()}}}function FT(t){let e,n=t[94].Name+"",r,i,s=t[94].Height+"",a,l,c=t[94].BSDensity+"",f,p;return{c(){e=Q("option"),r=Le(n),i=Le(" - ( "),a=Le(s),l=Le("m, BS:"),f=Le(c),p=Le(`/sqkm)
          `),e.__value=t[94],e.value=e.__value},m(m,g){_t(m,e,g),N(e,r),N(e,i),N(e,a),N(e,l),N(e,f),N(e,p)},p:In,d(m){m&&ft(e)}}}function UT(t){let e,n=t[87]+"",r,i,s=t[23].Ra[t[91].val]+"",a,l;return{c(){e=Q("option"),r=Le(n),i=Le(":"),a=Le(s),l=Le(`%
          `),e.__value=t[91],e.value=e.__value},m(c,f){_t(c,e,f),N(e,r),N(e,i),N(e,a),N(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Ra[c[91].val]+"")&&wt(a,s)},d(c){c&&ft(e)}}}function qT(t){let e,n=t[87]+"",r,i,s=t[23].Rb[t[88].val]+"",a,l;return{c(){e=Q("option"),r=Le(n),i=Le(":"),a=Le(s),l=Le(`%
          `),e.__value=t[88],e.value=e.__value},m(c,f){_t(c,e,f),N(e,r),N(e,i),N(e,a),N(e,l)},p(c,f){f[0]&8388608&&s!==(s=c[23].Rb[c[88].val]+"")&&wt(a,s)},d(c){c&&ft(e)}}}function HT(t){let e,n=t[84]+"",r,i,s;return{c(){e=Q("option"),r=Le(n),i=ve(),e.__value=s=t[84],e.value=e.__value},m(a,l){_t(a,e,l),N(e,r),N(e,i)},p(a,l){l[0]&16777216&&n!==(n=a[84]+"")&&wt(r,n),l[0]&16777216&&s!==(s=a[84])&&(e.__value=s,e.value=e.__value)},d(a){a&&ft(e)}}}function WT(t){let e,n=Hn("04.1f")(t[81])+"",r,i,s,a,l,c,f;function p(){t[55].call(s,t[83])}return{c(){e=Q("label"),r=Le(n),i=ve(),s=Q("input"),a=ve(),l=Q("br"),G(s,"step","0.5"),G(s,"type","range"),G(s,"max","32"),ms(s,"width","120px")},m(m,g){_t(m,e,g),N(e,r),_t(m,i,g),_t(m,s,g),ht(s,t[2][t[83]]),_t(m,a,g),_t(m,l,g),c||(f=[et(s,"change",p),et(s,"input",p)],c=!0)},p(m,g){t=m,g[0]&4&&n!==(n=Hn("04.1f")(t[81])+"")&&wt(r,n),g[0]&4&&ht(s,t[2][t[83]])},d(m){m&&ft(e),m&&ft(i),m&&ft(s),m&&ft(a),m&&ft(l),c=!1,tl(f)}}}function cde(t){let e,n,r,i,s,a=t[20]?"Un Pin":"Pin Me",l,c,f,p,m,g,y,b,S=t[25]==null?"Login":"Log Out",I,R,k,A,C,P,D,F,Z,V,Y,H,J,he,le,ne,pe,fe,_e,me,$,ee,ae,Ee,Ce,Oe,be,ke,Pe,ge,De,ze,Se,Ke,$e,ct,Qe,dt,Ve,un,cn,Kt,Vn,Nn,Zn,dr,Ye,Yn,wn,Dr,Mr,Rr,Qn,Br,lr,pt,fn,zr,yr,Ca,ri,er,vi,qt,ii,ws,Pr,Ri,Aa,Pi,Js,fi,Co,Fr,br,tt,xs,Ur,hi,Vr,Ss,si,Rn,yi,Zr,Qs,Ni,Ts,pr,ea,jn,Yr,ai,ks,Es,Ia,Pn,Xt,Li,di,Ms,Pt,yt,ls,bi,tr={ctx:t,current:null,token:null,hasCatch:!1,pending:ude,then:ade,catch:sde,value:97};N8(p=t[22],tr);let Cr=t[15]==!0&&zT(t),mt=t[28],kt=[];for(let Je=0;Je<mt.length;Je+=1)kt[Je]=FT(BT(t,mt,Je));let Oi=[...t[29]],sr=[];for(let Je=0;Je<Oi.length;Je+=1)sr[Je]=UT(DT(t,Oi,Je));let ur=[...t[30]],Ar=[];for(let Je=0;Je<ur.length;Je+=1)Ar[Je]=qT(OT(t,ur,Je));let pi=t[24],nr=[];for(let Je=0;Je<pi.length;Je+=1)nr[Je]=HT(LT(t,pi,Je));let En=t[2],xn=[];for(let Je=0;Je<En.length;Je+=1)xn[Je]=WT(NT(t,En,Je));const Di=t[35].default,Kn=py(Di,t,t[34],null);return di=new PT({props:{mdtext:`# Information
The deployment density values for large area ( $D_l$ )
$$D_l = Ds * Ra * Rb$$
**where**: 
- Ds = 	density value for coverage area, i.e. density of simultaneously transmitting UEs or number of BS per km2;
- Ra (%) = 	ratio of coverage areas to areas of cities/built areas/districts;
- Rb (%) = 	ratio of built areas to total area of region in study ()
`}}),Pt=new PT({props:{mdtext:`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[11].Urban.Ra*100}%,${t[11].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[11].Urban.Rb*100}%,${t[11].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`}}),{c(){e=Q("div"),n=Q("a"),r=Q("i"),s=ve(),l=Le(a),f=ve(),tr.block.c(),m=ve(),g=Q("div"),y=Q("div"),b=Q("button"),I=Le(S),R=ve(),k=Q("input"),C=ve(),P=Q("input"),F=ve(),Z=Q("div"),V=Q("label"),V.textContent="Noise Temp.(K)",Y=ve(),H=Q("input"),J=ve(),he=Q("label"),he.textContent="FSS Rx Gain (dBi)",le=ve(),ne=Q("input"),pe=ve(),fe=Q("div"),_e=Q("input"),$=ve(),ee=Q("label"),ee.textContent="Shaped Footprint",Ee=ve(),Ce=Q("div"),Oe=Q("label"),be=Le("Satellite Angle : "),ke=Le(t[4]),Pe=ve(),ge=Q("input"),Se=ve(),Ke=Q("input"),Qe=ve(),Cr&&Cr.c(),dt=ve(),Ve=Q("div"),un=Q("label"),un.textContent="Environment",cn=ve(),Kt=Q("select");for(let Je=0;Je<kt.length;Je+=1)kt[Je].c();Vn=ve(),Nn=Q("div"),Zn=Q("label"),Zn.textContent="Ra Options",dr=ve(),Ye=Q("select");for(let Je=0;Je<sr.length;Je+=1)sr[Je].c();Yn=ve(),wn=Q("label"),wn.textContent="Rb Options",Dr=ve(),Mr=Q("select");for(let Je=0;Je<Ar.length;Je+=1)Ar[Je].c();Rr=ve(),Qn=Q("div"),Br=Q("button"),Br.textContent="Show Info",lr=ve(),pt=Q("div"),fn=Q("label"),fn.textContent="Profiles",zr=ve(),yr=Q("select");for(let Je=0;Je<nr.length;Je+=1)nr[Je].c();Ca=ve(),ri=Q("div"),er=Q("div"),vi=Q("input"),qt=ve(),ii=Q("label"),ii.textContent="Show Variables",ws=ve(),Pr=Q("div"),Ri=Q("input"),Aa=ve(),Pi=Q("label"),Pi.textContent="Grid Edge",Js=ve(),fi=Q("div"),Co=Q("hr"),Fr=ve(),br=Q("div"),tt=Q("input"),xs=ve(),Ur=Q("div"),hi=Q("div"),Vr=Q("input"),Ss=ve(),si=Q("label"),si.textContent="Apply EIRP MASK",Rn=ve(),yi=Q("div"),Zr=Q("input"),Qs=ve(),Ni=Q("label"),Ni.textContent="Low Elv",Ts=ve(),pr=Q("hr"),ea=ve(),jn=Q("div"),Yr=Q("div");for(let Je=0;Je<xn.length;Je+=1)xn[Je].c();ks=ve(),Kn&&Kn.c(),Ia=ve(),Pn=Q("dialog"),Xt=Q("button"),Xt.textContent="X",Li=ve(),Tl(di.$$.fragment),Ms=ve(),Tl(Pt.$$.fragment),G(r,"class",i="icon "+(t[20],"thumbtack")),G(n,"class",c="ui "+(t[20]?"grey":"green")+" right ribbon label"),G(b,"class","ui fluid primary button"),G(k,"type","text"),k.disabled=A=t[25]!=null,ms(k,"display",t[25]!=null?"none":"block"),G(P,"type","password"),P.disabled=D=t[25]!=null,ms(P,"display",t[25]!=null?"none":"block"),G(y,"class","field"),G(H,"type","number"),G(H,"step","50"),G(ne,"type","number"),G(ne,"min","10"),G(ne,"max","40"),G(_e,"type","checkbox"),_e.disabled=me=t[16]?"":"disabled",G(fe,"class",ae="ui toggle checkbox "+(t[16]?"":"disabled")),G(Z,"class","field"),G(ge,"type","number"),G(ge,"min",De=t[14][0]),G(ge,"max",ze=t[14][1]),G(ge,"step","0.5"),G(Ke,"type","range"),G(Ke,"min",$e=t[14][0]),G(Ke,"max",ct=t[14][1]),G(Ke,"step","0.5"),G(Ce,"class","field"),t[23]===void 0&&po(()=>t[45].call(Kt)),G(Ve,"class","field"),G(Zn,"for",""),G(Ye,"name",""),G(Ye,"id",""),t[0]===void 0&&po(()=>t[46].call(Ye)),G(wn,"for",""),G(Mr,"name",""),G(Mr,"id",""),t[1]===void 0&&po(()=>t[47].call(Mr)),G(Br,"class","ui tiny button"),G(Qn,"class","ui toggle checkbox"),G(Nn,"class","field"),G(fn,"for",""),G(yr,"name","profile"),G(yr,"id",""),t[26]===void 0&&po(()=>t[49].call(yr)),G(pt,"class","field"),G(vi,"type","checkbox"),G(er,"class","ui toggle checkbox"),G(Ri,"type","checkbox"),G(Pr,"class","ui toggle checkbox"),G(ri,"class","field"),G(tt,"type","text"),G(tt,"placeholder","0,0,0,0,0,0,0,0"),G(tt,"size","30"),G(br,"class","ui input disabled"),G(fi,"class","field"),G(Vr,"type","checkbox"),G(hi,"class","ui toggle checkbox"),G(Zr,"type","checkbox"),G(yi,"class","ui toggle checkbox"),ms(Yr,"transform","rotate(-90deg)"),ms(Yr,"height","120px"),ms(Yr,"width","108px"),G(jn,"class",ai="field "+(t[8]?"":"disabled")),G(Ur,"class","ui segment"),ms(Ur,"width","350px"),G(g,"class","ui fields divided six column grid"),G(e,"class",Es="ui form "+(t[20]?"toolbox":"segment")),G(Xt,"class","ui label red top right attached"),G(Pn,"class","ui svelte-1ao14oj"),G(Pn,"style","border:red;}")},m(Je,ut){_t(Je,e,ut),N(e,n),N(n,r),N(n,s),N(n,l),N(e,f),tr.block.m(e,tr.anchor=null),tr.mount=()=>e,tr.anchor=m,N(e,m),N(e,g),N(g,y),N(y,b),N(b,I),N(y,R),N(y,k),ht(k,t[6]),N(y,C),N(y,P),ht(P,t[7]),N(g,F),N(g,Z),N(Z,V),N(Z,Y),N(Z,H),ht(H,t[3]),N(Z,J),N(Z,he),N(Z,le),N(Z,ne),ht(ne,t[13]),N(Z,pe),N(Z,fe),N(fe,_e),_e.checked=t[12],N(fe,$),N(fe,ee),N(g,Ee),N(g,Ce),N(Ce,Oe),N(Oe,be),N(Oe,ke),N(Ce,Pe),N(Ce,ge),ht(ge,t[4]),N(Ce,Se),N(Ce,Ke),ht(Ke,t[4]),N(g,Qe),Cr&&Cr.m(g,null),N(g,dt),N(g,Ve),N(Ve,un),N(Ve,cn),N(Ve,Kt);for(let pn=0;pn<kt.length;pn+=1)kt[pn]&&kt[pn].m(Kt,null);Sl(Kt,t[23],!0),N(g,Vn),N(g,Nn),N(Nn,Zn),N(Nn,dr),N(Nn,Ye);for(let pn=0;pn<sr.length;pn+=1)sr[pn]&&sr[pn].m(Ye,null);Sl(Ye,t[0],!0),N(Nn,Yn),N(Nn,wn),N(Nn,Dr),N(Nn,Mr);for(let pn=0;pn<Ar.length;pn+=1)Ar[pn]&&Ar[pn].m(Mr,null);Sl(Mr,t[1],!0),N(Nn,Rr),N(Nn,Qn),N(Qn,Br),N(g,lr),N(g,pt),N(pt,fn),N(pt,zr),N(pt,yr);for(let pn=0;pn<nr.length;pn+=1)nr[pn]&&nr[pn].m(yr,null);Sl(yr,t[26],!0),N(g,Ca),N(g,ri),N(ri,er),N(er,vi),vi.checked=t[17],N(er,qt),N(er,ii),N(ri,ws),N(ri,Pr),N(Pr,Ri),Ri.checked=t[10],N(Pr,Aa),N(Pr,Pi),N(g,Js),N(g,fi),N(fi,Co),N(fi,Fr),N(fi,br),N(br,tt),ht(tt,t[21]),N(g,xs),N(g,Ur),N(Ur,hi),N(hi,Vr),Vr.checked=t[8],N(hi,Ss),N(hi,si),N(Ur,Rn),N(Ur,yi),N(yi,Zr),Zr.checked=t[9],N(yi,Qs),N(yi,Ni),N(Ur,Ts),N(Ur,pr),N(Ur,ea),N(Ur,jn),N(jn,Yr);for(let pn=0;pn<xn.length;pn+=1)xn[pn]&&xn[pn].m(Yr,null);N(e,ks),Kn&&Kn.m(e,null),_t(Je,Ia,ut),_t(Je,Pn,ut),N(Pn,Xt),N(Pn,Li),Ho(di,Pn,null),N(Pn,Ms),Ho(Pt,Pn,null),t[57](Pn),yt=!0,ls||(bi=[et(n,"click",t[36]),et(b,"click",t[27]),et(k,"input",t[37]),et(P,"input",t[38]),et(H,"input",t[39]),et(ne,"input",t[40]),et(_e,"change",t[41]),et(ge,"input",t[42]),et(Ke,"change",t[43]),et(Ke,"input",t[43]),et(Kt,"change",t[45]),et(Ye,"change",t[46]),et(Mr,"change",t[47]),et(Br,"click",t[48]),et(yr,"change",t[49]),et(vi,"change",t[50]),et(Ri,"change",t[51]),et(tt,"input",t[52]),et(Vr,"change",t[53]),et(Zr,"change",t[54]),et(Xt,"click",t[56])],ls=!0)},p(Je,ut){if(t=Je,(!yt||ut[0]&1048576&&i!==(i="icon "+(t[20],"thumbtack")))&&G(r,"class",i),(!yt||ut[0]&1048576)&&a!==(a=t[20]?"Un Pin":"Pin Me")&&wt(l,a),(!yt||ut[0]&1048576&&c!==(c="ui "+(t[20]?"grey":"green")+" right ribbon label"))&&G(n,"class",c),tr.ctx=t,ut[0]&4194304&&p!==(p=t[22])&&N8(p,tr)||GU(tr,t,ut),(!yt||ut[0]&33554432)&&S!==(S=t[25]==null?"Login":"Log Out")&&wt(I,S),(!yt||ut[0]&33554432&&A!==(A=t[25]!=null))&&(k.disabled=A),(!yt||ut[0]&33554432)&&ms(k,"display",t[25]!=null?"none":"block"),ut[0]&64&&k.value!==t[6]&&ht(k,t[6]),(!yt||ut[0]&33554432&&D!==(D=t[25]!=null))&&(P.disabled=D),(!yt||ut[0]&33554432)&&ms(P,"display",t[25]!=null?"none":"block"),ut[0]&128&&P.value!==t[7]&&ht(P,t[7]),ut[0]&8&&Yt(H.value)!==t[3]&&ht(H,t[3]),ut[0]&8192&&Yt(ne.value)!==t[13]&&ht(ne,t[13]),(!yt||ut[0]&65536&&me!==(me=t[16]?"":"disabled"))&&(_e.disabled=me),ut[0]&4096&&(_e.checked=t[12]),(!yt||ut[0]&65536&&ae!==(ae="ui toggle checkbox "+(t[16]?"":"disabled")))&&G(fe,"class",ae),(!yt||ut[0]&16)&&wt(ke,t[4]),(!yt||ut[0]&16384&&De!==(De=t[14][0]))&&G(ge,"min",De),(!yt||ut[0]&16384&&ze!==(ze=t[14][1]))&&G(ge,"max",ze),ut[0]&16&&Yt(ge.value)!==t[4]&&ht(ge,t[4]),(!yt||ut[0]&16384&&$e!==($e=t[14][0]))&&G(Ke,"min",$e),(!yt||ut[0]&16384&&ct!==(ct=t[14][1]))&&G(Ke,"max",ct),ut[0]&16&&ht(Ke,t[4]),t[15]==!0?Cr?Cr.p(t,ut):(Cr=zT(t),Cr.c(),Cr.m(g,dt)):Cr&&(Cr.d(1),Cr=null),ut[0]&268435456){mt=t[28];let Ue;for(Ue=0;Ue<mt.length;Ue+=1){const Xn=BT(t,mt,Ue);kt[Ue]?kt[Ue].p(Xn,ut):(kt[Ue]=FT(Xn),kt[Ue].c(),kt[Ue].m(Kt,null))}for(;Ue<kt.length;Ue+=1)kt[Ue].d(1);kt.length=mt.length}if(ut[0]&276824064&&Sl(Kt,t[23]),ut[0]&545259520){Oi=[...t[29]];let Ue;for(Ue=0;Ue<Oi.length;Ue+=1){const Xn=DT(t,Oi,Ue);sr[Ue]?sr[Ue].p(Xn,ut):(sr[Ue]=UT(Xn),sr[Ue].c(),sr[Ue].m(Ye,null))}for(;Ue<sr.length;Ue+=1)sr[Ue].d(1);sr.length=Oi.length}if(ut[0]&536870913&&Sl(Ye,t[0]),ut[0]&1082130432){ur=[...t[30]];let Ue;for(Ue=0;Ue<ur.length;Ue+=1){const Xn=OT(t,ur,Ue);Ar[Ue]?Ar[Ue].p(Xn,ut):(Ar[Ue]=qT(Xn),Ar[Ue].c(),Ar[Ue].m(Mr,null))}for(;Ue<Ar.length;Ue+=1)Ar[Ue].d(1);Ar.length=ur.length}if(ut[0]&1073741826&&Sl(Mr,t[1]),ut[0]&16777216){pi=t[24];let Ue;for(Ue=0;Ue<pi.length;Ue+=1){const Xn=LT(t,pi,Ue);nr[Ue]?nr[Ue].p(Xn,ut):(nr[Ue]=HT(Xn),nr[Ue].c(),nr[Ue].m(yr,null))}for(;Ue<nr.length;Ue+=1)nr[Ue].d(1);nr.length=pi.length}if(ut[0]&83886080&&Sl(yr,t[26]),ut[0]&131072&&(vi.checked=t[17]),ut[0]&1024&&(Ri.checked=t[10]),ut[0]&2097152&&tt.value!==t[21]&&ht(tt,t[21]),ut[0]&256&&(Vr.checked=t[8]),ut[0]&512&&(Zr.checked=t[9]),ut[0]&4){En=t[2];let Ue;for(Ue=0;Ue<En.length;Ue+=1){const Xn=NT(t,En,Ue);xn[Ue]?xn[Ue].p(Xn,ut):(xn[Ue]=WT(Xn),xn[Ue].c(),xn[Ue].m(Yr,null))}for(;Ue<xn.length;Ue+=1)xn[Ue].d(1);xn.length=En.length}(!yt||ut[0]&256&&ai!==(ai="field "+(t[8]?"":"disabled")))&&G(jn,"class",ai),Kn&&Kn.p&&(!yt||ut[1]&8)&&gy(Kn,Di,t,t[34],yt?my(Di,t[34],ut,null):_y(t[34]),null),(!yt||ut[0]&1048576&&Es!==(Es="ui form "+(t[20]?"toolbox":"segment")))&&G(e,"class",Es);const pn={};ut[0]&2048&&(pn.mdtext=`| |Options *| Macro | Micro |
|---|---|---|---|
| Ra (${t[11].Urban.Ra*100}%,${t[11].SubUrban.Ra*100}%) | 1 | <br/> 30% Urban (area < 200 000 km2) <br/> 10% Urban (area > 200 000 km2) <br/>10% Suburban (area < 200 000 km2)<br/> 5% Suburban (area > 200 000 km2) | 10% Urban (area < 200 000 km2) <br/>5% Urban (area > 200 000 km2) | |
| | 2 | 45% Urban<br/> 20% Suburban | 10% Urban |
| Rb (depending on the area under study) <br/>(${t[11].Urban.Rb*100}%,${t[11].SubUrban.Rb*100}%) | 1 | 5% (area < 200 000 km2)<br/> 2% (200 000 - 1 000 000 km2)<br/>1% (area > 1 000 000 km2) | 5% (area < 200 000 km2)<br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 
| | 2 | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) | 5% (area < 3 500 000 km2)<br/> 3% (area > 3 500 000 km2) |
| | 3 | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) | 2.5% (area < 200 000 km2) ** <br/>2% (200 000 - 1 000 000 km2)<br/> 1% (area > 1 000 000 km2) |
`),Pt.$set(pn)},i(Je){yt||(qs(Kn,Je),qs(di.$$.fragment,Je),qs(Pt.$$.fragment,Je),yt=!0)},o(Je){ya(Kn,Je),ya(di.$$.fragment,Je),ya(Pt.$$.fragment,Je),yt=!1},d(Je){Je&&ft(e),tr.block.d(),tr.token=null,tr=null,Cr&&Cr.d(),wc(kt,Je),wc(sr,Je),wc(Ar,Je),wc(nr,Je),wc(xn,Je),Kn&&Kn.d(Je),Je&&ft(Ia),Je&&ft(Pn),Wo(di),Wo(Pt),t[57](null),ls=!1,tl(bi)}}}let W1=.2,G1=.75;function fde(t,e,n){let r,i,s,a;Pc(t,_N,Ye=>n(33,i=Ye)),Pc(t,df,Ye=>n(25,s=Ye)),Pc(t,Np,Ye=>n(26,a=Ye));let{$$slots:l={},$$scope:c}=e;new k6;let{orbitrange:f=[10,20]}=e,{Raindx:p,Rbindx:m}=e,{satAngle:g=83}=e,{MidBandTo6GHzFactor:y=1.5*.4}=e,{hasIMTgrid:b=!1}=e,S=!1,{username:I,password:R}=e,{ApplyEIRPMask:k=!1}=e,{EnableLowElevationThreshold:A=!0}=e,{MASKOffset:C}=e,P=C.join(","),D=!0,{HideAllInspector:F=!1}=e,{EdgeMode:Z=!1}=e,V=!1,Y,H;async function J(){return s==null?(n(22,H=wle(I,R)),H):(ble().then(Yn=>console.log("After signout ",Yn,s)),"Signed Out")}let he=[{Name:"Urban",vTilt:90,Phy3dBh:90,Phy3dBv:90,dH:.5,dV:.7,GEmax:5.5,Height:18,R:300,Ra:[10,45],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:10},{Name:"SubUrban",vTilt:90,Phy3dBh:90,Phy3dBv:65,dH:.5,dV:.7,GEmax:6.5,Height:20,R:600,Ra:[5,20],Rb:[1,3,5,2],LoadingFactor:.2,BSDensity:2.4}],{factor:le={Urban:{Ra:0,Rb:0,BSdensity:0},SubUrban:{Ra:0,Rb:0,BSdensity:0},NW:W1,TDD:G1}}=e,ne=10/12.4,pe=he[0],fe=new Map([["Ra1",{name:"Ratio of Coverage to cities/built/Areas",val:0,factor:.1}],["Ra2",{name:"Ratio of Coverage to cities/built/Areas",val:1,factor:.45}]]),_e=new Map([["Rb1",{name:"Ratio of built areas to total area",val:0,factor:.01}],["Rb2a",{name:"Ratio of built areas to total area",val:1,factor:.03}],["Rb2b",{name:"Ratio of built areas to total area",val:2,factor:.05}],["Rb3",{name:"Ratio of built areas to total area",val:3,factor:.02}]]),{UseFootprint:me=!1}=e,{SatRxGain:$=32}=e,{hasFSSPattern:ee=!1}=e,{FSSNoiseTemp:ae=650}=e,Ee=null;const Ce=()=>n(20,S=!S);function Oe(){I=this.value,n(6,I)}function be(){R=this.value,n(7,R)}function ke(){ae=Yt(this.value),n(3,ae)}function Pe(){$=Yt(this.value),n(13,$)}function ge(){me=this.checked,n(12,me),n(16,ee)}function De(){g=Yt(this.value),n(4,g)}function ze(){g=Yt(this.value),n(4,g)}function Se(){y=Yt(this.value),n(5,y)}function Ke(){pe=Td(this),n(23,pe),n(28,he)}function $e(){p=Td(this),n(0,p),n(29,fe)}function ct(){m=Td(this),n(1,m),n(30,_e)}const Qe=()=>n(18,V=!0);function dt(){a=Td(this),Np.set(a),n(24,r),n(33,i)}function Ve(){D=this.checked,n(17,D)}function un(){Z=this.checked,n(10,Z)}function cn(){P=this.value,n(21,P),n(2,C)}function Kt(){k=this.checked,n(8,k)}function Vn(){A=this.checked,n(9,A)}function Nn(Ye){C[Ye]=Yt(this.value),n(2,C)}const Zn=()=>{n(18,V=!1)};function dr(Ye){Rt[Ye?"unshift":"push"](()=>{Ee=Ye,n(19,Ee)})}return t.$$set=Ye=>{"orbitrange"in Ye&&n(14,f=Ye.orbitrange),"Raindx"in Ye&&n(0,p=Ye.Raindx),"Rbindx"in Ye&&n(1,m=Ye.Rbindx),"satAngle"in Ye&&n(4,g=Ye.satAngle),"MidBandTo6GHzFactor"in Ye&&n(5,y=Ye.MidBandTo6GHzFactor),"hasIMTgrid"in Ye&&n(15,b=Ye.hasIMTgrid),"username"in Ye&&n(6,I=Ye.username),"password"in Ye&&n(7,R=Ye.password),"ApplyEIRPMask"in Ye&&n(8,k=Ye.ApplyEIRPMask),"EnableLowElevationThreshold"in Ye&&n(9,A=Ye.EnableLowElevationThreshold),"MASKOffset"in Ye&&n(2,C=Ye.MASKOffset),"HideAllInspector"in Ye&&n(31,F=Ye.HideAllInspector),"EdgeMode"in Ye&&n(10,Z=Ye.EdgeMode),"factor"in Ye&&n(11,le=Ye.factor),"UseFootprint"in Ye&&n(12,me=Ye.UseFootprint),"SatRxGain"in Ye&&n(13,$=Ye.SatRxGain),"hasFSSPattern"in Ye&&n(16,ee=Ye.hasFSSPattern),"FSSNoiseTemp"in Ye&&n(3,ae=Ye.FSSNoiseTemp),"$$scope"in Ye&&n(34,c=Ye.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&131072&&n(31,F=!D),t.$$.dirty[0]&4&&n(21,P=C.join(",")),t.$$.dirty[1]&3,t.$$.dirty[1]&2,t.$$.dirty[0]&3&&p!=null&&n(11,le={Urban:{Ra:he[0].Ra[p.val]/100,Rb:he[0].Rb[m.val]/100,BSdensity:he[0].BSDensity},SubUrban:{Ra:he[1].Ra[p.val]/100,Rb:he[1].Rb[m.val]/100,BSdensity:he[1].BSDensity},NW:W1,TDD:G1,uScale:he[0].BSDensity*he[0].Ra[p.val]*he[0].Rb[m.val]/1e4*W1*G1,suScale:he[1].BSDensity*he[1].Ra[p.val]*he[1].Rb[m.val]/1e4*W1*G1,UrbSurbRatio:ne}),t.$$.dirty[1]&4&&n(24,r=i),t.$$.dirty[0]&65536&&(console.log("hasFSSPattern .. changed",ee),ee?n(12,me=!0):n(12,me=!1)),t.$$.dirty[0]&8,t.$$.dirty[0]&786432&&Ee!=null&&(V?Ee.showModal():Ee.close())},[p,m,C,ae,g,y,I,R,k,A,Z,le,me,$,f,b,ee,D,V,Ee,S,P,H,pe,r,s,a,J,he,fe,_e,F,Y,i,c,l,Ce,Oe,be,ke,Pe,ge,De,ze,Se,Ke,$e,ct,Qe,dt,Ve,un,cn,Kt,Vn,Nn,Zn,dr]}class hde extends Ju{constructor(e){super(),Xu(this,e,fde,cde,Va,{orbitrange:14,Raindx:0,Rbindx:1,satAngle:4,MidBandTo6GHzFactor:5,hasIMTgrid:15,username:6,password:7,ApplyEIRPMask:8,EnableLowElevationThreshold:9,MASKOffset:2,HideAllInspector:31,EdgeMode:10,factor:11,UseFootprint:12,SatRxGain:13,hasFSSPattern:16,FSSNoiseTemp:3},null,[-1,-1,-1,-1])}}function dde(t){let e,n,r,i,s,a,l,c=t[0]?"[Hidden]":"",f,p,m,g,y,b,S,I,R,k,A,C,P,D,F,Z,V,Y;return{c(){e=Q("div"),n=Q("div"),i=ve(),s=Q("div"),a=Q("h1"),l=Le("Variables "),f=Le(c),p=ve(),m=Q("div"),g=Q("input"),y=ve(),b=Q("label"),b.textContent="Hide Inspector",S=ve(),I=Q("div"),I.innerHTML=`<div class="ui label left ribbon">Status</div> 
    <div class="ui inverted horizontal divider"></div>`,R=ve(),k=Q("br"),A=ve(),C=Q("br"),P=ve(),D=Q("div"),G(n,"class","ui two column stackable grid"),G(n,"id","logbox"),G(e,"class","ui segment"),po(()=>t[10].call(e)),G(a,"class","header"),G(g,"type","checkbox"),G(m,"class","ui slider checkbox"),G(I,"class","ui stacked segment"),G(D,"class",F="ui two column stackable "+(t[0]?"hidden":"")+" grid"),G(D,"id","figure"),G(s,"class","ui segment"),po(()=>t[14].call(s))},m(H,J){_t(H,e,J),N(e,n),t[9](n),r=fg(e,t[10].bind(e)),_t(H,i,J),_t(H,s,J),N(s,a),N(a,l),N(a,f),N(s,p),N(s,m),N(m,g),g.checked=t[0],N(m,y),N(m,b),N(s,S),N(s,I),t[12](I),N(s,R),N(s,k),N(s,A),N(s,C),N(s,P),N(s,D),t[13](D),Z=fg(s,t[14].bind(s)),V||(Y=et(g,"change",t[11]),V=!0)},p(H,[J]){J&1&&c!==(c=H[0]?"[Hidden]":"")&&wt(f,c),J&1&&(g.checked=H[0]),J&1&&F!==(F="ui two column stackable "+(H[0]?"hidden":"")+" grid")&&G(D,"class",F)},i:In,o:In,d(H){H&&ft(e),t[9](null),r(),H&&ft(i),H&&ft(s),t[12](null),t[13](null),Z(),V=!1,Y()}}}function GT(t){return t&&Object.prototype.toString.call(t)==="[object Promise]"}function pde(t,e,n){let{DOM:r}=new k6,i=800,s=null,a=null,{statusbox:l=null}=e,c=new Map,{HideAllInspector:f=!1}=e;function p(C){let P=c.get(C);console.log("Found ",P),P.rootcell.remove()}async function m(C,P,D){return D=D||!1,y(C,P,{alwaysshow:D})}async function g(C,P,D){if(D=D||{timeout:1e3,alwaysshow:!0},D.alwaysshow,l==null){console.log("showStatus : ",C,P);return}if(console.log("showStatus: RECEIVED OBJ Status ",C,P),GT(P)){let F=Un(l).select("button#STATUS-"+C);F.empty()&&(F=Un(l).append("button").attr("id","STATUS-"+C).text(C+" : Waiting ")),F.attr("class","ui small button  orange");let Z=0,V=setInterval(()=>{Z++,F.text(C+" : ..."+(Z/10).toFixed(1)+"s")},100);P.then(Y=>{clearInterval(V),F.attr("class","ui small button green"),F.text(C+" "+(Z/10).toFixed(1)+"s")})}else console.log("NOT a Promise ",C," is already ready ",P)}async function y(C,P,D){D=D||{alwaysshow:!1,fullwidth:!1};var F=D.alwaysshow||!1,Z=D.fullwidth||!1,V=D.type||"",Y=a;F&&(Y=s);let H=c.get(C);if(H==null){let le=document.createElement("div"),ne=Un(le).attr("class",`${Z?"sixteen wide":""} column cell`);ne.append("div").attr("class",`ui ${F?"tag teal":"pointing"} below label`).text(C).on("click",me=>{me.target.parentNode.classList.toggle("sixteen")?(me.target.parentNode.classList.value="sixteen wide column",me.target.innerText=C+" <- minimize"):(me.target.parentNode.classList.value="two  column cell",me.target.innerText=C+" -> zoom"),me.target.parentNode.clientWidth});let fe=ne.append("div").attr("class","plain segment").append("div").node();H={inspector:new qb(fe),alwaysshow:F,uid:r.uid(C),rootcell:le,forcedType:V,render:Y!=null},c.set(C,H),Y!=null&&Y.append(le)}let J=H.inspector;if(GT(P))J.fulfilled("Waiting for obj.. ",C),P.then(le=>{var ne=C;let pe=!Array.isArray(P)||V=="JSON",fe=r.download(()=>{let _e,me;pe?(_e=JSON.stringify(P),me="application/json",ne=C+".json"):(_e=sS(P),me="application/csv",ne=C+".csv");var $=new Blob([_e],{type:me});let ee=document.createElement("a");ee.download=ne,ee.href=URL.createObjectURL($),ee.click(),URL.revokeObjectURL(ee.href)},ne,`save(${pe?"json":"csv"})`);D8("#"+H.uid.id).remove(),fe.setAttribute("id",H.uid.id),fe.firstChild.className="ui tiny positive button",H.rootcell.firstChild.insertAdjacentElement("afterend",fe),J.fulfilled(le)}).catch(le=>{console.log(C,"Error ",le),J.fulfilled("Err : "+le)});else if(F)if(P==null){let le=document.createElement("div"),ne=Un(le).attr("class","ui  active placeholder inverted orange segment ");ne.append("div").attr("class","ui active  indeterminate text loader green ").text("Signin Needed for data"),ne.append("img"),J.fulfilled(le)}else J.fulfilled(P);else{var he=C;let le=H.forcedType==""?!Array.isArray(P):H.forcedType=="json",ne=r.download(()=>{let pe,fe;le?(pe=JSON.stringify(P),fe="application/json",he=C+".json"):(pe=sS(P),fe="application/csv",he=C+".csv");var _e=new Blob([pe],{type:fe});let me=document.createElement("a");me.download=he,me.href=URL.createObjectURL(_e),me.click(),URL.revokeObjectURL(me.href)},he,`save(${le?"json":"csv"})`);D8("#"+H.uid.id).remove(),ne.setAttribute("id",H.uid.id),ne.firstChild.className="ui tiny positive button",H.rootcell.firstChild.insertAdjacentElement("afterend",ne),J.fulfilled(P)}return C}function b(C){Rt[C?"unshift":"push"](()=>{s=C,n(4,s)})}function S(){i=this.clientWidth,n(2,i)}function I(){f=this.checked,n(0,f)}function R(C){Rt[C?"unshift":"push"](()=>{l=C,n(1,l)})}function k(C){Rt[C?"unshift":"push"](()=>{a=C,n(3,a),n(0,f)})}function A(){i=this.clientWidth,n(2,i)}return t.$$set=C=>{"statusbox"in C&&n(1,l=C.statusbox),"HideAllInspector"in C&&n(0,f=C.HideAllInspector)},t.$$.update=()=>{t.$$.dirty&4,t.$$.dirty&9&&a!=null&&n(3,a.style.display=f?"none":"block",a)},[f,l,i,a,s,p,m,g,y,b,S,I,R,k,A]}class mde extends Ju{constructor(e){super(),Xu(this,e,pde,dde,Va,{statusbox:1,HideAllInspector:0,removeNode:5,appendNode:6,showStatus:7,queueNode:8})}get removeNode(){return this.$$.ctx[5]}get appendNode(){return this.$$.ctx[6]}get showStatus(){return this.$$.ctx[7]}get queueNode(){return this.$$.ctx[8]}}var c3={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Tc,function(n){var r="1.9.4";function i(o){var h,_,w,E;for(_=1,w=arguments.length;_<w;_++){E=arguments[_];for(h in E)o[h]=E[h]}return o}var s=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var w=_.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(_.call(arguments)):arguments)}}var l=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function f(o,h,_){var w,E,z,te;return te=function(){w=!1,E&&(z.apply(_,E),E=!1)},z=function(){w?E=arguments:(o.apply(_,arguments),setTimeout(te,h),w=!0)},z}function p(o,h,_){var w=h[1],E=h[0],z=w-E;return o===w&&_?o:((o-E)%z+z)%z+E}function m(){return!1}function g(o,h){if(h===!1)return o;var _=Math.pow(10,h===void 0?6:h);return Math.round(o*_)/_}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return y(o).split(/\s+/)}function S(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var _ in h)o.options[_]=h[_];return o.options}function I(o,h,_){var w=[];for(var E in o)w.push(encodeURIComponent(_?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function k(o,h){return o.replace(R,function(_,w){var E=h[w];if(E===void 0)throw new Error("No value provided for variable "+_);return typeof E=="function"&&(E=E(h)),E})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function C(o,h){for(var _=0;_<o.length;_++)if(o[_]===h)return _;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function Z(o){var h=+new Date,_=Math.max(0,16-(h-F));return F=h+_,window.setTimeout(o,_)}var V=window.requestAnimationFrame||D("RequestAnimationFrame")||Z,Y=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function H(o,h,_){if(_&&V===Z)o.call(h);else return V.call(window,a(o,h))}function J(o){o&&Y.call(window,o)}var he={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:m,formatNum:g,trim:y,splitWords:b,setOptions:S,getParamString:I,template:k,isArray:A,indexOf:C,emptyImageUrl:P,requestFn:V,cancelFn:Y,requestAnimFrame:H,cancelAnimFrame:J};function le(){}le.extend=function(o){var h=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,w=s(_);w.constructor=h,h.prototype=w;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(h[E]=this[E]);return o.statics&&i(h,o.statics),o.includes&&(ne(o.includes),i.apply(null,[w].concat(o.includes))),i(w,o),delete w.statics,delete w.includes,w.options&&(w.options=_.options?s(_.options):{},i(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,te=w._initHooks.length;z<te;z++)w._initHooks[z].call(this)}},h},le.include=function(o){var h=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},le.mergeOptions=function(o){return i(this.prototype.options,o),this},le.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ne(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(o,h,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=b(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_)}return this},off:function(o,h,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=b(o);for(var E=arguments.length===1,z=0,te=o.length;z<te;z++)E?this._off(o[z]):this._off(o[z],h,_)}return this},_on:function(o,h,_,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,_)===!1){_===this&&(_=void 0);var E={fn:h,ctx:_};w&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,h,_){var w,E,z;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(E=0,z=w.length;E<z;E++)w[E].fn=m;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var te=this._listens(o,h,_);if(te!==!1){var de=w[te];this._firingCount&&(de.fn=m,this._events[o]=w=w.slice()),w.splice(te,1)}}},fire:function(o,h,_){if(!this.listens(o,_))return this;var w=i({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var z=0,te=E.length;z<te;z++){var de=E[z],we=de.fn;de.once&&this.off(o,we,de.ctx),we.call(de.ctx||this,w)}this._firingCount--}}return _&&this._propagateEvent(w),this},listens:function(o,h,_,w){typeof o!="string"&&console.warn('"string" type argument expected');var E=h;typeof h!="function"&&(w=!!h,E=void 0,_=void 0);var z=this._events&&this._events[o];if(z&&z.length&&this._listens(o,E,_)!==!1)return!0;if(w){for(var te in this._eventParents)if(this._eventParents[te].listens(o,h,_,w))return!0}return!1},_listens:function(o,h,_){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;_===this&&(_=void 0);for(var E=0,z=w.length;E<z;E++)if(w[E].fn===h&&w[E].ctx===_)return E;return!1},once:function(o,h,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=b(o);for(var E=0,z=o.length;E<z;E++)this._on(o[E],h,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var fe=le.extend(pe);function _e(o,h,_){this.x=_?Math.round(o):o,this.y=_?Math.round(h):h}var me=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(o){return this.clone()._add($(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract($(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new _e(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new _e(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(o){o=$(o);var h=o.x-this.x,_=o.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(o){return o=$(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=$(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function $(o,h,_){return o instanceof _e?o:A(o)?new _e(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new _e(o.x,o.y):new _e(o,h,_)}function ee(o,h){if(o)for(var _=h?[o,h]:o,w=0,E=_.length;w<E;w++)this.extend(_[w])}ee.prototype={extend:function(o){var h,_;if(!o)return this;if(o instanceof _e||typeof o[0]=="number"||"x"in o)h=_=$(o);else if(o=ae(o),h=o.min,_=o.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,_;return typeof o[0]=="number"||o instanceof _e?o=$(o):o=ae(o),o instanceof ee?(h=o.min,_=o.max):h=_=o,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=ae(o);var h=this.min,_=this.max,w=o.min,E=o.max,z=E.x>=h.x&&w.x<=_.x,te=E.y>=h.y&&w.y<=_.y;return z&&te},overlaps:function(o){o=ae(o);var h=this.min,_=this.max,w=o.min,E=o.max,z=E.x>h.x&&w.x<_.x,te=E.y>h.y&&w.y<_.y;return z&&te},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,_=this.max,w=Math.abs(h.x-_.x)*o,E=Math.abs(h.y-_.y)*o;return ae($(h.x-w,h.y-E),$(_.x+w,_.y+E))},equals:function(o){return o?(o=ae(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ae(o,h){return!o||o instanceof ee?o:new ee(o,h)}function Ee(o,h){if(o)for(var _=h?[o,h]:o,w=0,E=_.length;w<E;w++)this.extend(_[w])}Ee.prototype={extend:function(o){var h=this._southWest,_=this._northEast,w,E;if(o instanceof Oe)w=o,E=o;else if(o instanceof Ee){if(w=o._southWest,E=o._northEast,!w||!E)return this}else return o?this.extend(be(o)||Ce(o)):this;return!h&&!_?(this._southWest=new Oe(w.lat,w.lng),this._northEast=new Oe(E.lat,E.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),_.lat=Math.max(E.lat,_.lat),_.lng=Math.max(E.lng,_.lng)),this},pad:function(o){var h=this._southWest,_=this._northEast,w=Math.abs(h.lat-_.lat)*o,E=Math.abs(h.lng-_.lng)*o;return new Ee(new Oe(h.lat-w,h.lng-E),new Oe(_.lat+w,_.lng+E))},getCenter:function(){return new Oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Oe||"lat"in o?o=be(o):o=Ce(o);var h=this._southWest,_=this._northEast,w,E;return o instanceof Ee?(w=o.getSouthWest(),E=o.getNorthEast()):w=E=o,w.lat>=h.lat&&E.lat<=_.lat&&w.lng>=h.lng&&E.lng<=_.lng},intersects:function(o){o=Ce(o);var h=this._southWest,_=this._northEast,w=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>=h.lat&&w.lat<=_.lat,te=E.lng>=h.lng&&w.lng<=_.lng;return z&&te},overlaps:function(o){o=Ce(o);var h=this._southWest,_=this._northEast,w=o.getSouthWest(),E=o.getNorthEast(),z=E.lat>h.lat&&w.lat<_.lat,te=E.lng>h.lng&&w.lng<_.lng;return z&&te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=Ce(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(o,h){return o instanceof Ee?o:new Ee(o,h)}function Oe(o,h,_){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,_!==void 0&&(this.alt=+_)}Oe.prototype={equals:function(o,h){if(!o)return!1;o=be(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Pe.distance(this,be(o))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,_=h/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new Oe(this.lat,this.lng,this.alt)}};function be(o,h,_){return o instanceof Oe?o:A(o)&&typeof o[0]!="object"?o.length===3?new Oe(o[0],o[1],o[2]):o.length===2?new Oe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Oe(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Oe(o,h,_)}var ke={latLngToPoint:function(o,h){var _=this.projection.project(o),w=this.scale(h);return this.transformation._transform(_,w)},pointToLatLng:function(o,h){var _=this.scale(h),w=this.transformation.untransform(o,_);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(o),w=this.transformation.transform(h.min,_),E=this.transformation.transform(h.max,_);return new ee(w,E)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Oe(_,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),_=this.wrapLatLng(h),w=h.lat-_.lat,E=h.lng-_.lng;if(w===0&&E===0)return o;var z=o.getSouthWest(),te=o.getNorthEast(),de=new Oe(z.lat-w,z.lng-E),we=new Oe(te.lat-w,te.lng-E);return new Ee(de,we)}},Pe=i({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var _=Math.PI/180,w=o.lat*_,E=h.lat*_,z=Math.sin((h.lat-o.lat)*_/2),te=Math.sin((h.lng-o.lng)*_/2),de=z*z+Math.cos(w)*Math.cos(E)*te*te,we=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*we}}),ge=6378137,De={R:ge,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,_=this.MAX_LATITUDE,w=Math.max(Math.min(_,o.lat),-_),E=Math.sin(w*h);return new _e(this.R*o.lng*h,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var h=180/Math.PI;return new Oe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=ge*Math.PI;return new ee([-o,-o],[o,o])}()};function ze(o,h,_,w){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=_,this._d=w}ze.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new _e((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Se(o,h,_,w){return new ze(o,h,_,w)}var Ke=i({},Pe,{code:"EPSG:3857",projection:De,transformation:function(){var o=.5/(Math.PI*De.R);return Se(o,.5,-o,.5)}()}),$e=i({},Ke,{code:"EPSG:900913"});function ct(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Qe(o,h){var _="",w,E,z,te,de,we;for(w=0,z=o.length;w<z;w++){for(de=o[w],E=0,te=de.length;E<te;E++)we=de[E],_+=(E?"L":"M")+we.x+" "+we.y;_+=h?tt.svg?"z":"x":""}return _||"M0 0"}var dt=document.documentElement.style,Ve="ActiveXObject"in window,un=Ve&&!document.addEventListener,cn="msLaunchUri"in navigator&&!("documentMode"in document),Kt=br("webkit"),Vn=br("android"),Nn=br("android 2")||br("android 3"),Zn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dr=Vn&&br("Google")&&Zn<537&&!("AudioNode"in window),Ye=!!window.opera,Yn=!cn&&br("chrome"),wn=br("gecko")&&!Kt&&!Ye&&!Ve,Dr=!Yn&&br("safari"),Mr=br("phantom"),Rr="OTransition"in dt,Qn=navigator.platform.indexOf("Win")===0,Br=Ve&&"transition"in dt,lr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Nn,pt="MozPerspective"in dt,fn=!window.L_DISABLE_3D&&(Br||lr||pt)&&!Rr&&!Mr,zr=typeof orientation<"u"||br("mobile"),yr=zr&&Kt,Ca=zr&&lr,ri=!window.PointerEvent&&window.MSPointerEvent,er=!!(window.PointerEvent||ri),vi="ontouchstart"in window||!!window.TouchEvent,qt=!window.L_NO_TOUCH&&(vi||er),ii=zr&&Ye,ws=zr&&wn,Pr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ri=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return o}(),Aa=function(){return!!document.createElement("canvas").getContext}(),Pi=!!(document.createElementNS&&ct("svg").createSVGRect),Js=!!Pi&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fi=!Pi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Co=navigator.platform.indexOf("Mac")===0,Fr=navigator.platform.indexOf("Linux")===0;function br(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var tt={ie:Ve,ielt9:un,edge:cn,webkit:Kt,android:Vn,android23:Nn,androidStock:dr,opera:Ye,chrome:Yn,gecko:wn,safari:Dr,phantom:Mr,opera12:Rr,win:Qn,ie3d:Br,webkit3d:lr,gecko3d:pt,any3d:fn,mobile:zr,mobileWebkit:yr,mobileWebkit3d:Ca,msPointer:ri,pointer:er,touch:qt,touchNative:vi,mobileOpera:ii,mobileGecko:ws,retina:Pr,passiveEvents:Ri,canvas:Aa,svg:Pi,vml:fi,inlineSvg:Js,mac:Co,linux:Fr},xs=tt.msPointer?"MSPointerDown":"pointerdown",Ur=tt.msPointer?"MSPointerMove":"pointermove",hi=tt.msPointer?"MSPointerUp":"pointerup",Vr=tt.msPointer?"MSPointerCancel":"pointercancel",Ss={touchstart:xs,touchmove:Ur,touchend:hi,touchcancel:Vr},si={touchstart:Yr,touchmove:jn,touchend:jn,touchcancel:jn},Rn={},yi=!1;function Zr(o,h,_){return h==="touchstart"&&ea(),si[h]?(_=si[h].bind(this,_),o.addEventListener(Ss[h],_,!1),_):(console.warn("wrong event specified:",h),m)}function Qs(o,h,_){if(!Ss[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Ss[h],_,!1)}function Ni(o){Rn[o.pointerId]=o}function Ts(o){Rn[o.pointerId]&&(Rn[o.pointerId]=o)}function pr(o){delete Rn[o.pointerId]}function ea(){yi||(document.addEventListener(xs,Ni,!0),document.addEventListener(Ur,Ts,!0),document.addEventListener(hi,pr,!0),document.addEventListener(Vr,pr,!0),yi=!0)}function jn(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Rn)h.touches.push(Rn[_]);h.changedTouches=[h],o(h)}}function Yr(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ct(h),jn(o,h)}function ai(o){var h={},_,w;for(w in o)_=o[w],h[w]=_&&_.bind?_.bind(o):_;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var ks=200;function Es(o,h){o.addEventListener("dblclick",h);var _=0,w;function E(z){if(z.detail!==1){w=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var te=wi(z);if(!(te.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!te.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var de=Date.now();de-_<=ks?(w++,w===2&&h(ai(z))):w=1,_=de}}}return o.addEventListener("click",E),{dblclick:h,simDblclick:E}}function Ia(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Pn=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xt=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Li=Xt==="webkitTransition"||Xt==="OTransition"?Xt+"End":"transitionend";function di(o){return typeof o=="string"?document.getElementById(o):o}function Ms(o,h){var _=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);_=w?w[h]:null}return _==="auto"?null:_}function Pt(o,h,_){var w=document.createElement(o);return w.className=h||"",_&&_.appendChild(w),w}function yt(o){var h=o.parentNode;h&&h.removeChild(o)}function ls(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function bi(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function tr(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Cr(o,h){if(o.classList!==void 0)return o.classList.contains(h);var _=sr(o);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function mt(o,h){if(o.classList!==void 0)for(var _=b(h),w=0,E=_.length;w<E;w++)o.classList.add(_[w]);else if(!Cr(o,h)){var z=sr(o);Oi(o,(z?z+" ":"")+h)}}function kt(o,h){o.classList!==void 0?o.classList.remove(h):Oi(o,y((" "+sr(o)+" ").replace(" "+h+" "," ")))}function Oi(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function sr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function ur(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Ar(o,h)}function Ar(o,h){var _=!1,w="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function pi(o){for(var h=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in h)return o[_];return!1}function nr(o,h,_){var w=h||new _e(0,0);o.style[Pn]=(tt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(_?" scale("+_+")":"")}function En(o,h){o._leaflet_pos=h,tt.any3d?nr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function xn(o){return o._leaflet_pos||new _e(0,0)}var Di,Kn,Je;if("onselectstart"in document)Di=function(){Mt(window,"selectstart",Ct)},Kn=function(){Mn(window,"selectstart",Ct)};else{var ut=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Di=function(){if(ut){var o=document.documentElement.style;Je=o[ut],o[ut]="none"}},Kn=function(){ut&&(document.documentElement.style[ut]=Je,Je=void 0)}}function pn(){Mt(window,"dragstart",Ct)}function Ue(){Mn(window,"dragstart",Ct)}var Xn,Cs;function Ji(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ka(),Xn=o,Cs=o.style.outlineStyle,o.style.outlineStyle="none",Mt(window,"keydown",Ka))}function Ka(){Xn&&(Xn.style.outlineStyle=Cs,Xn=void 0,Cs=void 0,Mn(window,"keydown",Ka))}function jl(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function jr(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var ta={__proto__:null,TRANSFORM:Pn,TRANSITION:Xt,TRANSITION_END:Li,get:di,getStyle:Ms,create:Pt,remove:yt,empty:ls,toFront:bi,toBack:tr,hasClass:Cr,addClass:mt,removeClass:kt,setClass:Oi,getClass:sr,setOpacity:ur,testProp:pi,setTransform:nr,setPosition:En,getPosition:xn,get disableTextSelection(){return Di},get enableTextSelection(){return Kn},disableImageDrag:pn,enableImageDrag:Ue,preventOutline:Ji,restoreOutline:Ka,getSizedParentNode:jl,getScale:jr};function Mt(o,h,_,w){if(h&&typeof h=="object")for(var E in h)al(o,E,h[E],_);else{h=b(h);for(var z=0,te=h.length;z<te;z++)al(o,h[z],_,w)}return this}var Qi="_leaflet_events";function Mn(o,h,_,w){if(arguments.length===1)Kl(o),delete o[Qi];else if(h&&typeof h=="object")for(var E in h)Ao(o,E,h[E],_);else if(h=b(h),arguments.length===2)Kl(o,function(de){return C(h,de)!==-1});else for(var z=0,te=h.length;z<te;z++)Ao(o,h[z],_,w);return this}function Kl(o,h){for(var _ in o[Qi]){var w=_.split(/\d/)[0];(!h||h(w))&&Ao(o,w,null,null,_)}}var na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function al(o,h,_,w){var E=h+c(_)+(w?"_"+c(w):"");if(o[Qi]&&o[Qi][E])return this;var z=function(de){return _.call(w||o,de||window.event)},te=z;!tt.touchNative&&tt.pointer&&h.indexOf("touch")===0?z=Zr(o,h,z):tt.touch&&h==="dblclick"?z=Es(o,z):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(na[h]||h,z,tt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(z=function(de){de=de||window.event,ll(o,de)&&te(de)},o.addEventListener(na[h],z,!1)):o.addEventListener(h,te,!1):o.attachEvent("on"+h,z),o[Qi]=o[Qi]||{},o[Qi][E]=z}function Ao(o,h,_,w,E){E=E||h+c(_)+(w?"_"+c(w):"");var z=o[Qi]&&o[Qi][E];if(!z)return this;!tt.touchNative&&tt.pointer&&h.indexOf("touch")===0?Qs(o,h,z):tt.touch&&h==="dblclick"?Ia(o,z):"removeEventListener"in o?o.removeEventListener(na[h]||h,z,!1):o.detachEvent("on"+h,z),o[Qi][E]=null}function ra(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function mi(o){return al(o,"wheel",ra),this}function ia(o){return Mt(o,"mousedown touchstart dblclick contextmenu",ra),o._leaflet_disable_click=!0,this}function Ct(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function hn(o){return Ct(o),ra(o),this}function wi(o){if(o.composedPath)return o.composedPath();for(var h=[],_=o.target;_;)h.push(_),_=_.parentNode;return h}function Io(o,h){if(!h)return new _e(o.clientX,o.clientY);var _=jr(h),w=_.boundingClientRect;return new _e((o.clientX-w.left)/_.x-h.clientLeft,(o.clientY-w.top)/_.y-h.clientTop)}var ol=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xl(o){return tt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ol:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ll(o,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var ic={__proto__:null,on:Mt,off:Mn,stopPropagation:ra,disableScrollPropagation:mi,disableClickPropagation:ia,preventDefault:Ct,stop:hn,getPropagationPath:wi,getMousePosition:Io,getWheelDelta:Xl,isExternalTarget:ll,addListener:Mt,removeListener:Mn},sa=fe.extend({run:function(o,h,_,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=xn(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var _=this._startPos.add(this._offset.multiplyBy(o));h&&_._round(),En(this._el,_),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Jt=fe.extend({options:{crs:Ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=S(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(be(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xt&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,Li,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(be(o),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,_.zoom):this._tryAnimatedPan(o,_.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,_){var w=this.getZoomScale(h),E=this.getSize().divideBy(2),z=o instanceof _e?o:this.latLngToContainerPoint(o),te=z.subtract(E).multiplyBy(1-1/w),de=this.containerPointToLatLng(E.add(te));return this.setView(de,h,{zoom:_})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():Ce(o);var _=$(h.paddingTopLeft||h.padding||[0,0]),w=$(h.paddingBottomRight||h.padding||[0,0]),E=this.getBoundsZoom(o,!1,_.add(w));if(E=typeof h.maxZoom=="number"?Math.min(h.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var z=w.subtract(_).divideBy(2),te=this.project(o.getSouthWest(),E),de=this.project(o.getNorthEast(),E),we=this.unproject(te.add(de).divideBy(2).add(z),E);return{center:we,zoom:E}},fitBounds:function(o,h){if(o=Ce(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=$(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,_){if(_=_||{},_.animate===!1||!tt.any3d)return this.setView(o,h,_);this._stop();var w=this.project(this.getCenter()),E=this.project(o),z=this.getSize(),te=this._zoom;o=be(o),h=h===void 0?te:h;var de=Math.max(z.x,z.y),we=de*this.getZoomScale(te,h),Me=E.distanceTo(w)||1,Ze=1.42,vt=Ze*Ze;function Ht(Dn){var fu=Dn?-1:1,U=Dn?we:de,so=we*we-de*de+fu*vt*vt*Me*Me,uc=2*U*vt*Me,Ui=so/uc,tn=Math.sqrt(Ui*Ui+1)-Ui,cc=tn<1e-9?-18:Math.log(tn);return cc}function Lr(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function mr(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}function cr(Dn){return Lr(Dn)/mr(Dn)}var Cn=Ht(0);function or(Dn){return de*(mr(Cn)/mr(Cn+Ze*Dn))}function io(Dn){return de*(mr(Cn)*cr(Cn+Ze*Dn)-Lr(Cn))/vt}function Yh(Dn){return 1-Math.pow(1-Dn,1.5)}var jh=Date.now(),yf=(Ht(1)-Cn)/Ze,Kh=_.duration?1e3*_.duration:1e3*yf*.8;function cu(){var Dn=(Date.now()-jh)/Kh,fu=Yh(Dn)*yf;Dn<=1?(this._flyToFrame=H(cu,this),this._move(this.unproject(w.add(E.subtract(w).multiplyBy(io(fu)/Me)),te),this.getScaleZoom(de/or(fu),te),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),cu.call(this),this},flyToBounds:function(o,h){var _=this._getBoundsCenterZoom(o,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(o){return o=Ce(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var _=this.getCenter(),w=this._limitCenter(_,this._zoom,Ce(o));return _.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var _=$(h.paddingTopLeft||h.padding||[0,0]),w=$(h.paddingBottomRight||h.padding||[0,0]),E=this.project(this.getCenter()),z=this.project(o),te=this.getPixelBounds(),de=ae([te.min.add(_),te.max.subtract(w)]),we=de.getSize();if(!de.contains(z)){this._enforcingBounds=!0;var Me=z.subtract(de.getCenter()),Ze=de.extend(z).getSize().subtract(we);E.x+=Me.x<0?-Ze.x:Ze.x,E.y+=Me.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(E),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),w=h.divideBy(2).round(),E=_.divideBy(2).round(),z=w.subtract(E);return!z.x&&!z.y?this:(o.animate&&o.pan?this.panBy(z):(o.pan&&this._rawPanBy(z),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),_=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,o):navigator.geolocation.getCurrentPosition(h,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,_=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,_=o.coords.longitude,w=new Oe(h,_),E=w.toBounds(o.coords.accuracy*2),z=this._locateOptions;if(z.setView){var te=this.getBoundsZoom(E);this.setView(w,z.maxZoom?Math.min(te,z.maxZoom):te)}var de={latlng:w,bounds:E,timestamp:o.timestamp};for(var we in o.coords)typeof o.coords[we]=="number"&&(de[we]=o.coords[we]);this.fire("locationfound",de)}},addHandler:function(o,h){if(!h)return this;var _=this[o]=new h(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)yt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=Pt("div",_,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Ee(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,_){o=Ce(o),_=$(_||[0,0]);var w=this.getZoom()||0,E=this.getMinZoom(),z=this.getMaxZoom(),te=o.getNorthWest(),de=o.getSouthEast(),we=this.getSize().subtract(_),Me=ae(this.project(de,w),this.project(te,w)).getSize(),Ze=tt.any3d?this.options.zoomSnap:1,vt=we.x/Me.x,Ht=we.y/Me.y,Lr=h?Math.max(vt,Ht):Math.min(vt,Ht);return w=this.getScaleZoom(Lr,w),Ze&&(w=Math.round(w/(Ze/100))*(Ze/100),w=h?Math.ceil(w/Ze)*Ze:Math.floor(w/Ze)*Ze),Math.max(E,Math.min(z,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var _=this._getTopLeftPoint(o,h);return new ee(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(o)/_.scale(h)},getScaleZoom:function(o,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var w=_.zoom(o*_.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(be(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng($(o),h)},layerPointToLatLng:function(o){var h=$(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(be(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(be(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ce(o))},distance:function(o,h){return this.options.crs.distance(be(o),be(h))},containerPointToLayerPoint:function(o){return $(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return $(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint($(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(o)))},mouseEventToContainerPoint:function(o){return Io(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=di(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(h,"scroll",this._onScroll,this),this._containerId=c(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,mt(o,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Ms(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),En(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(o.markerPane,"leaflet-zoom-hide"),mt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,_){En(this._mapPane,new _e(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var E=this._zoom!==h;this._moveStart(E,_)._move(o,h)._moveEnd(E),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,_,w){h===void 0&&(h=this._zoom);var E=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?_&&_.pinch&&this.fire("zoom",_):((E||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){En(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var h=o?Mn:Mt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var _=[],w,E=h==="mouseout"||h==="mouseover",z=o.target||o.srcElement,te=!1;z;){if(w=this._targets[c(z)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){te=!0;break}if(w&&w.listens(h,!0)&&(E&&!ll(z,o)||(_.push(w),E))||z===this._container)break;z=z.parentNode}return!_.length&&!te&&!E&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var _=o.type;_==="mousedown"&&Ji(h),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,_){if(o.type==="click"){var w=i({},o);w.type="preclick",this._fireDOMEvent(w,w.type,_)}var E=this._findEventTargets(o,h);if(_){for(var z=[],te=0;te<_.length;te++)_[te].listens(h,!0)&&z.push(_[te]);E=z.concat(E)}if(E.length){h==="contextmenu"&&Ct(o);var de=E[0],we={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Me=de.getLatLng&&(!de._radius||de._radius<=10);we.containerPoint=Me?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(o),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Me?de.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(te=0;te<E.length;te++)if(E[te].fire(h,we,!0),we.originalEvent._stopped||E[te].options.bubblingMouseEvents===!1&&C(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return xn(this._mapPane)||new _e(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var _=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var _=this.getSize()._divideBy(2);return this.project(o,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,_){var w=this._getNewPixelOrigin(_,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,_){var w=this._getNewPixelOrigin(_,h);return ae([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,_){if(!_)return o;var w=this.project(o,h),E=this.getSize().divideBy(2),z=new ee(w.subtract(E),w.add(E)),te=this._getBoundsOffset(z,_,h);return Math.abs(te.x)<=1&&Math.abs(te.y)<=1?o:this.unproject(w.add(te),h)},_limitOffset:function(o,h){if(!h)return o;var _=this.getPixelBounds(),w=new ee(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,_){var w=ae(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),E=w.min.subtract(o.min),z=w.max.subtract(o.max),te=this._rebound(E.x,-z.x),de=this._rebound(E.y,-z.y);return new _e(te,de)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),_=this.getMaxZoom(),w=tt.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var _=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var o=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var _=Pn,w=this._proxy.style[_];nr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();nr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),E=this._getCenterOffset(o)._divideBy(1-1/w);return _.animate!==!0&&!this.getSize().contains(E)?!1:(H(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,_,w){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function an(o,h){return new Jt(o,h)}var wr=le.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),_=this.getPosition(),w=o._controlCorners[_];return mt(h,"leaflet-control"),_.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),xi=function(o){return new wr(o)};Jt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",_=this._controlContainer=Pt("div",h+"control-container",this._container);function w(E,z){var te=h+E+" "+h+z;o[E+z]=Pt("div",te,_)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)yt(this._controlCorners[o]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ul=wr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,_,w){return _<w?-1:w<_?1:0}},initialize:function(o,h,_){S(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return wr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(c(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Pt("div",o),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ia(h),mi(h);var w=this._section=Pt("section",o+"-list");_&&(this._map.on("click",this.collapse,this),Mt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Pt("a",o+"-toggle",h);E.href="#",E.title="Layers",E.setAttribute("role","button"),Mt(E,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){Ct(z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Pt("div",o+"-base",w),this._separator=Pt("div",o+"-separator",w),this._overlaysList=Pt("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&c(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(a(function(w,E){return this.options.sortFunction(w.layer,E.layer,w.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ls(this._baseLayersList),ls(this._overlaysList),this._layerControlInputs=[];var o,h,_,w,E=0;for(_=0;_<this._layers.length;_++)w=this._layers[_],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,E+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(c(o.target)),_=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(o,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=_,w.firstChild},_addItem:function(o){var h=document.createElement("label"),_=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=_):w=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(w),w.layerId=c(o.layer),Mt(w,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var z=document.createElement("span");h.appendChild(z),z.appendChild(w),z.appendChild(E);var te=o.overlay?this._overlaysList:this._baseLayersList;return te.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,_,w=[],E=[];this._handlingClick=!0;for(var z=o.length-1;z>=0;z--)h=o[z],_=this._getLayer(h.layerId).layer,h.checked?w.push(_):h.checked||E.push(_);for(z=0;z<E.length;z++)this._map.hasLayer(E[z])&&this._map.removeLayer(E[z]);for(z=0;z<w.length;z++)this._map.hasLayer(w[z])||this._map.addLayer(w[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,_,w=this._map.getZoom(),E=o.length-1;E>=0;E--)h=o[E],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&w<_.options.minZoom||_.options.maxZoom!==void 0&&w>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Mt(o,"click",Ct),this.expand();var h=this;setTimeout(function(){Mn(o,"click",Ct),h._preventClick=!1})}}),Xa=function(o,h,_){return new ul(o,h,_)},oi=wr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",_=Pt("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,_,w,E){var z=Pt("a",_,w);return z.innerHTML=o,z.href="#",z.title=h,z.setAttribute("role","button"),z.setAttribute("aria-label",h),ia(z),Mt(z,"click",hn),Mt(z,"click",E,this),Mt(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";kt(this._zoomInButton,h),kt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(mt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(mt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oi,this.addControl(this.zoomControl))});var cl=function(o){return new oi(o)},re=wr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",_=Pt("div",h),w=this.options;return this._addScales(w,h+"-line",_),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,_){o.metric&&(this._mScale=Pt("div",h,_)),o.imperial&&(this._iScale=Pt("div",h,_))},_update:function(){var o=this._map,h=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/o)},_updateImperial:function(o){var h=o*3.2808399,_,w,E;h>5280?(_=h/5280,w=this._getRoundNum(_),this._updateScale(this._iScale,w+" mi",w/_)):(E=this._getRoundNum(h),this._updateScale(this._iScale,E+" ft",E/h))},_updateScale:function(o,h,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),_=o/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),Ae=function(o){return new re(o)},qe='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',We=wr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?qe+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),ia(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new We().addTo(this)});var xt=function(o){return new We(o)};wr.Layers=ul,wr.Zoom=oi,wr.Scale=re,wr.Attribution=We,xi.layers=Xa,xi.zoom=cl,xi.scale=Ae,xi.attribution=xt;var nt=le.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nt.addTo=function(o,h){return o.addHandler(h,this),this};var Ln={Events:pe},Gt=tt.touch?"touchstart mousedown":"mousedown",ar=fe.extend({options:{clickTolerance:3},initialize:function(o,h,_,w){S(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=_},enable:function(){this._enabled||(Mt(this._dragStartTarget,Gt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ar._dragging===this&&this.finishDrag(!0),Mn(this._dragStartTarget,Gt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Cr(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){ar._dragging===this&&this.finishDrag();return}if(!(ar._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(ar._dragging=this,this._preventOutline&&Ji(this._element),pn(),Di(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,_=jl(this._element);this._startPoint=new _e(h.clientX,h.clientY),this._startPos=xn(this._element),this._parentScale=jr(_);var w=o.type==="mousedown";Mt(document,w?"mousemove":"touchmove",this._onMove,this),Mt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,_=new _e(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Ct(o),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),En(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mn(document,"mousemove touchmove",this._onMove,this),Mn(document,"mouseup touchend touchcancel",this._onUp,this),Ue(),Kn();var h=this._moved&&this._moving;this._moving=!1,ar._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Nt(o,h,_){var w,E=[1,4,2,8],z,te,de,we,Me,Ze,vt,Ht;for(z=0,Ze=o.length;z<Ze;z++)o[z]._code=Tn(o[z],h);for(de=0;de<4;de++){for(vt=E[de],w=[],z=0,Ze=o.length,te=Ze-1;z<Ze;te=z++)we=o[z],Me=o[te],we._code&vt?Me._code&vt||(Ht=Bi(Me,we,vt,h,_),Ht._code=Tn(Ht,h),w.push(Ht)):(Me._code&vt&&(Ht=Bi(Me,we,vt,h,_),Ht._code=Tn(Ht,h),w.push(Ht)),w.push(we));o=w}return o}function Qt(o,h){var _,w,E,z,te,de,we,Me,Ze;if(!o||o.length===0)throw new Error("latlngs not passed");gi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var vt=be([0,0]),Ht=Ce(o),Lr=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Lr<1700&&(vt=Sn(o));var mr=o.length,cr=[];for(_=0;_<mr;_++){var Cn=be(o[_]);cr.push(h.project(be([Cn.lat-vt.lat,Cn.lng-vt.lng])))}for(de=we=Me=0,_=0,w=mr-1;_<mr;w=_++)E=cr[_],z=cr[w],te=E.y*z.x-z.y*E.x,we+=(E.x+z.x)*te,Me+=(E.y+z.y)*te,de+=te*3;de===0?Ze=cr[0]:Ze=[we/de,Me/de];var or=h.unproject($(Ze));return be([or.lat+vt.lat,or.lng+vt.lng])}function Sn(o){for(var h=0,_=0,w=0,E=0;E<o.length;E++){var z=be(o[E]);h+=z.lat,_+=z.lng,w++}return be([h/w,_/w])}var mn={__proto__:null,clipPolygon:Nt,polygonCenter:Qt,centroid:Sn};function on(o,h){if(!h||!o.length)return o.slice();var _=h*h;return o=mf(o,_),o=fl(o,_),o}function Kr(o,h,_){return Math.sqrt(dl(o,h,_,!0))}function es(o,h,_){return dl(o,h,_)}function fl(o,h){var _=o.length,w=typeof Uint8Array!=void 0+""?Uint8Array:Array,E=new w(_);E[0]=E[_-1]=1,hl(o,E,h,0,_-1);var z,te=[];for(z=0;z<_;z++)E[z]&&te.push(o[z]);return te}function hl(o,h,_,w,E){var z=0,te,de,we;for(de=w+1;de<=E-1;de++)we=dl(o[de],o[w],o[E],!0),we>z&&(te=de,z=we);z>_&&(h[te]=1,hl(o,h,_,w,te),hl(o,h,_,te,E))}function mf(o,h){for(var _=[o[0]],w=1,E=0,z=o.length;w<z;w++)As(o[w],o[E])>h&&(_.push(o[w]),E=w);return E<z-1&&_.push(o[z-1]),_}var Jl;function i0(o,h,_,w,E){var z=w?Jl:Tn(o,_),te=Tn(h,_),de,we,Me;for(Jl=te;;){if(!(z|te))return[o,h];if(z&te)return!1;de=z||te,we=Bi(o,h,de,_,E),Me=Tn(we,_),de===z?(o=we,z=Me):(h=we,te=Me)}}function Bi(o,h,_,w,E){var z=h.x-o.x,te=h.y-o.y,de=w.min,we=w.max,Me,Ze;return _&8?(Me=o.x+z*(we.y-o.y)/te,Ze=we.y):_&4?(Me=o.x+z*(de.y-o.y)/te,Ze=de.y):_&2?(Me=we.x,Ze=o.y+te*(we.x-o.x)/z):_&1&&(Me=de.x,Ze=o.y+te*(de.x-o.x)/z),new _e(Me,Ze,E)}function Tn(o,h){var _=0;return o.x<h.min.x?_|=1:o.x>h.max.x&&(_|=2),o.y<h.min.y?_|=4:o.y>h.max.y&&(_|=8),_}function As(o,h){var _=h.x-o.x,w=h.y-o.y;return _*_+w*w}function dl(o,h,_,w){var E=h.x,z=h.y,te=_.x-E,de=_.y-z,we=te*te+de*de,Me;return we>0&&(Me=((o.x-E)*te+(o.y-z)*de)/we,Me>1?(E=_.x,z=_.y):Me>0&&(E+=te*Me,z+=de*Me)),te=o.x-E,de=o.y-z,w?te*te+de*de:new _e(E,z)}function gi(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function sc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gi(o)}function aa(o,h){var _,w,E,z,te,de,we,Me;if(!o||o.length===0)throw new Error("latlngs not passed");gi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ze=be([0,0]),vt=Ce(o),Ht=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());Ht<1700&&(Ze=Sn(o));var Lr=o.length,mr=[];for(_=0;_<Lr;_++){var cr=be(o[_]);mr.push(h.project(be([cr.lat-Ze.lat,cr.lng-Ze.lng])))}for(_=0,w=0;_<Lr-1;_++)w+=mr[_].distanceTo(mr[_+1])/2;if(w===0)Me=mr[0];else for(_=0,z=0;_<Lr-1;_++)if(te=mr[_],de=mr[_+1],E=te.distanceTo(de),z+=E,z>w){we=(z-w)/E,Me=[de.x-we*(de.x-te.x),de.y-we*(de.y-te.y)];break}var Cn=h.unproject($(Me));return be([Cn.lat+Ze.lat,Cn.lng+Ze.lng])}var Ra={__proto__:null,simplify:on,pointToSegmentDistance:Kr,closestPointOnSegment:es,clipSegment:i0,_getEdgeIntersection:Bi,_getBitCode:Tn,_sqClosestPointOnSegment:dl,isFlat:gi,_flat:sc,polylineCenter:aa},Ql={project:function(o){return new _e(o.lng,o.lat)},unproject:function(o){return new Oe(o.y,o.x)},bounds:new ee([-180,-90],[180,90])},pl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,_=this.R,w=o.lat*h,E=this.R_MINOR/_,z=Math.sqrt(1-E*E),te=z*Math.sin(w),de=Math.tan(Math.PI/4-w/2)/Math.pow((1-te)/(1+te),z/2);return w=-_*Math.log(Math.max(de,1e-10)),new _e(o.lng*h*_,w)},unproject:function(o){for(var h=180/Math.PI,_=this.R,w=this.R_MINOR/_,E=Math.sqrt(1-w*w),z=Math.exp(-o.y/_),te=Math.PI/2-2*Math.atan(z),de=0,we=.1,Me;de<15&&Math.abs(we)>1e-7;de++)Me=E*Math.sin(te),Me=Math.pow((1-Me)/(1+Me),E/2),we=Math.PI/2-2*Math.atan(z*Me)-te,te+=we;return new Oe(te*h,o.x*h/_)}},ml={__proto__:null,LonLat:Ql,Mercator:pl,SphericalMercator:De},ac=i({},Pe,{code:"EPSG:3395",projection:pl,transformation:function(){var o=.5/(Math.PI*pl.R);return Se(o,.5,-o,.5)}()}),eu=i({},Pe,{code:"EPSG:4326",projection:Ql,transformation:Se(1/180,1,-1/180,.5)}),s0=i({},ke,{projection:Ql,transformation:Se(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var _=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(_*_+w*w)},infinite:!0});ke.Earth=Pe,ke.EPSG3395=ac,ke.EPSG3857=Ke,ke.EPSG900913=$e,ke.EPSG4326=eu,ke.Simple=s0;var On=fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=c(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=c(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var h=0,_=o.length;h<_;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=c(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,_=this._getZoomSpan();for(var w in this._zoomBoundLayers){var E=this._zoomBoundLayers[w].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),h=E.maxZoom===void 0?h:Math.max(h,E.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pa=On.extend({initialize:function(o,h){S(this,h),this._layers={};var _,w;if(o)for(_=0,w=o.length;_<w;_++)this.addLayer(o[_])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),_,w;for(_ in this._layers)w=this._layers[_],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var _ in this._layers)o.call(h,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),oa=function(o,h){return new Pa(o,h)},ts=Pa.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Pa.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Pa.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ee;for(var h in this._layers){var _=this._layers[h];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),a0=function(o,h){return new ts(o,h)},Ja=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var _=this.options,w=_[h+"Size"];typeof w=="number"&&(w=[w,w]);var E=$(w),z=$(h==="shadow"&&_.shadowAnchor||_.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(_.className||""),z&&(o.style.marginLeft=-z.x+"px",o.style.marginTop=-z.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return tt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function gf(o){return new Ja(o)}var zi=Ja.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof zi.imagePath!="string"&&(zi.imagePath=this._detectIconPath()),(this.options.imagePath||zi.imagePath)+Ja.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(_,w,E){var z=w.exec(_);return z&&z[E]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Pt("div","leaflet-default-icon-path",document.body),h=Ms(o,"background-image")||Ms(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),o0=nt.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new ar(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,_=h._map,w=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,z=xn(h._icon),te=_.getPixelBounds(),de=_.getPixelOrigin(),we=ae(te.min._subtract(de).add(E),te.max._subtract(de).subtract(E));if(!we.contains(z)){var Me=$((Math.max(we.max.x,z.x)-we.max.x)/(te.max.x-we.max.x)-(Math.min(we.min.x,z.x)-we.min.x)/(te.min.x-we.min.x),(Math.max(we.max.y,z.y)-we.max.y)/(te.max.y-we.max.y)-(Math.min(we.min.y,z.y)-we.min.y)/(te.min.y-we.min.y)).multiplyBy(w);_.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),En(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=H(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,_=h._shadow,w=xn(h._icon),E=h._map.layerPointToLatLng(w);_&&En(_,w),h._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ro=On.extend({options:{icon:new zi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){S(this,h),this._latlng=be(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=be(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),w=!1;_!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),mt(_,h),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(_,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),z=!1;E!==this._shadow&&(this._removeShadow(),z=!0),E&&(mt(E,h),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&z&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mn(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&En(this._icon,o),this._shadow&&En(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o0)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o0(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ur(this._icon,o),this._shadow&&ur(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,_=h.iconSize?$(h.iconSize):$(0,0),w=h.iconAnchor?$(h.iconAnchor):$(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:_.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Po(o,h){return new Ro(o,h)}var la=On.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tu=la.extend({options:{fill:!0,radius:10},initialize:function(o,h){S(this,h),this._latlng=be(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=be(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return la.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,_=this._clickTolerance(),w=[o+_,h+_];this._pxBounds=new ee(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function us(o,h){return new tu(o,h)}var nu=tu.extend({initialize:function(o,h,_){if(typeof h=="number"&&(h=i({},_,{radius:h})),S(this,h),this._latlng=be(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:la.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,_=this._map,w=_.options.crs;if(w.distance===Pe.distance){var E=Math.PI/180,z=this._mRadius/Pe.R/E,te=_.project([h+z,o]),de=_.project([h-z,o]),we=te.add(de).divideBy(2),Me=_.unproject(we).lat,Ze=Math.acos((Math.cos(z*E)-Math.sin(h*E)*Math.sin(Me*E))/(Math.cos(h*E)*Math.cos(Me*E)))/E;(isNaN(Ze)||Ze===0)&&(Ze=z/Math.cos(Math.PI/180*h)),this._point=we.subtract(_.getPixelOrigin()),this._radius=isNaN(Ze)?0:we.x-_.project([Me,o-Ze]).x,this._radiusY=we.y-te.y}else{var vt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(vt).x}this._updateBounds()}});function Na(o,h,_){return new nu(o,h,_)}var Fi=la.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){S(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,_=null,w=dl,E,z,te=0,de=this._parts.length;te<de;te++)for(var we=this._parts[te],Me=1,Ze=we.length;Me<Ze;Me++){E=we[Me-1],z=we[Me];var vt=w(o,E,z,!0);vt<h&&(h=vt,_=w(o,E,z))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return aa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=be(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ee,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return gi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],_=gi(o),w=0,E=o.length;w<E;w++)_?(h[w]=be(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new _e(o,o);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,_){var w=o[0]instanceof Oe,E=o.length,z,te;if(w){for(te=[],z=0;z<E;z++)te[z]=this._map.latLngToLayerPoint(o[z]),_.extend(te[z]);h.push(te)}else for(z=0;z<E;z++)this._projectLatlngs(o[z],h,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,w,E,z,te,de,we;for(_=0,E=0,z=this._rings.length;_<z;_++)for(we=this._rings[_],w=0,te=we.length;w<te-1;w++)de=i0(we[w],we[w+1],o,w,!0),de&&(h[E]=h[E]||[],h[E].push(de[0]),(de[1]!==we[w+1]||w===te-2)&&(h[E].push(de[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,_=0,w=o.length;_<w;_++)o[_]=on(o[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var _,w,E,z,te,de,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,z=this._parts.length;_<z;_++)for(de=this._parts[_],w=0,te=de.length,E=te-1;w<te;E=w++)if(!(!h&&w===0)&&Kr(o,de[E],de[w])<=we)return!0;return!1}});function oc(o,h){return new Fi(o,h)}Fi._flat=sc;var No=Fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Fi.prototype._convertLatLngs.call(this,o),_=h.length;return _>=2&&h[0]instanceof Oe&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(o){Fi.prototype._setLatLngs.call(this,o),gi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,_=new _e(h,h);if(o=new ee(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,E=this._rings.length,z;w<E;w++)z=Nt(this._rings[w],o,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,_,w,E,z,te,de,we,Me;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(z=0,we=this._parts.length;z<we;z++)for(_=this._parts[z],te=0,Me=_.length,de=Me-1;te<Me;de=te++)w=_[te],E=_[de],w.y>o.y!=E.y>o.y&&o.x<(E.x-w.x)*(o.y-w.y)/(E.y-w.y)+w.x&&(h=!h);return h||Fi.prototype._containsPoint.call(this,o,!0)}});function gl(o,h){return new No(o,h)}var Si=ts.extend({initialize:function(o,h){S(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=A(o)?o:o.features,_,w,E;if(h){for(_=0,w=h.length;_<w;_++)E=h[_],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var z=this.options;if(z.filter&&!z.filter(o))return this;var te=Ti(o,z);return te?(te.feature=ua(o),te.defaultOptions=te.options,this.resetStyle(te),z.onEachFeature&&z.onEachFeature(o,te),this.addLayer(te)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Ti(o,h){var _=o.type==="Feature"?o.geometry:o,w=_?_.coordinates:null,E=[],z=h&&h.pointToLayer,te=h&&h.coordsToLatLng||ru,de,we,Me,Ze;if(!w&&!_)return null;switch(_.type){case"Point":return de=te(w),ki(z,o,de,h);case"MultiPoint":for(Me=0,Ze=w.length;Me<Ze;Me++)de=te(w[Me]),E.push(ki(z,o,de,h));return new ts(E);case"LineString":case"MultiLineString":return we=_l(w,_.type==="LineString"?0:1,te),new Fi(we,h);case"Polygon":case"MultiPolygon":return we=_l(w,_.type==="Polygon"?1:2,te),new No(we,h);case"GeometryCollection":for(Me=0,Ze=_.geometries.length;Me<Ze;Me++){var vt=Ti({geometry:_.geometries[Me],type:"Feature",properties:o.properties},h);vt&&E.push(vt)}return new ts(E);case"FeatureCollection":for(Me=0,Ze=_.features.length;Me<Ze;Me++){var Ht=Ti(_.features[Me],h);Ht&&E.push(Ht)}return new ts(E);default:throw new Error("Invalid GeoJSON object.")}}function ki(o,h,_,w){return o?o(h,_):new Ro(_,w&&w.markersInheritOptions&&w)}function ru(o){return new Oe(o[1],o[0],o[2])}function _l(o,h,_){for(var w=[],E=0,z=o.length,te;E<z;E++)te=h?_l(o[E],h-1,_):(_||ru)(o[E]),w.push(te);return w}function iu(o,h){return o=be(o),o.alt!==void 0?[g(o.lng,h),g(o.lat,h),g(o.alt,h)]:[g(o.lng,h),g(o.lat,h)]}function vl(o,h,_,w){for(var E=[],z=0,te=o.length;z<te;z++)E.push(h?vl(o[z],gi(o[z])?0:h-1,_,w):iu(o[z],w));return!h&&_&&E.length>0&&E.push(E[0].slice()),E}function Qa(o,h){return o.feature?i({},o.feature,{geometry:h}):ua(h)}function ua(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ue={toGeoJSON:function(o){return Qa(this,{type:"Point",coordinates:iu(this.getLatLng(),o)})}};Ro.include(ue),nu.include(ue),tu.include(ue),Fi.include({toGeoJSON:function(o){var h=!gi(this._latlngs),_=vl(this._latlngs,h?1:0,!1,o);return Qa(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),No.include({toGeoJSON:function(o){var h=!gi(this._latlngs),_=h&&!gi(this._latlngs[0]),w=vl(this._latlngs,_?2:h?1:0,!0,o);return h||(w=[w]),Qa(this,{type:(_?"Multi":"")+"Polygon",coordinates:w})}}),Pa.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(o).geometry.coordinates)}),Qa(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var _=h==="GeometryCollection",w=[];return this.eachLayer(function(E){if(E.toGeoJSON){var z=E.toGeoJSON(o);if(_)w.push(z.geometry);else{var te=ua(z);te.type==="FeatureCollection"?w.push.apply(w,te.features):w.push(te)}}}),_?Qa(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Te(o,h){return new Si(o,h)}var xe=Te,rt=On.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,_){this._url=o,this._bounds=Ce(h),S(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&tr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ce(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Pt("img");if(mt(h,"leaflet-image-layer"),this._zoomAnimated&&mt(h,"leaflet-zoom-animated"),this.options.className&&mt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;nr(this._image,_,h)},_reset:function(){var o=this._image,h=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();En(o,h.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){ur(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Lt=function(o,h,_){return new rt(o,h,_)},gn=rt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Pt("video");if(mt(h,"leaflet-image-layer"),this._zoomAnimated&&mt(h,"leaflet-zoom-animated"),this.options.className&&mt(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=a(this.fire,this,"load"),o){for(var _=h.getElementsByTagName("source"),w=[],E=0;E<_.length;E++)w.push(_[E].src);this._url=_.length>0?w:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var te=Pt("source");te.src=this._url[z],h.appendChild(te)}}});function Nr(o,h,_){return new gn(o,h,_)}var en=rt.extend({_initImage:function(){var o=this._image=this._url;mt(o,"leaflet-image-layer"),this._zoomAnimated&&mt(o,"leaflet-zoom-animated"),this.options.className&&mt(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function Lo(o,h,_){return new en(o,h,_)}var Is=On.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Oe||A(o))?(this._latlng=be(o),S(this,h)):(S(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ur(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ur(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(ur(this._container,0),this._removeTimeout=setTimeout(a(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=be(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&tr(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof ts){h=null;var _=this._source._layers;for(var w in _)if(_[w]._map){h=_[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=$(this.options.offset),_=this._getAnchor();this._zoomAnimated?En(this._container,o.add(_)):h=h.add(o).add(_);var w=this._containerBottom=-h.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(o,h,_,w){var E=h;return E instanceof o||(E=new o(w).setContent(h)),_&&E.setLatLng(_),E}}),On.include({_initOverlay:function(o,h,_,w){var E=_;return E instanceof o?(S(E,w),E._source=this):(E=h&&!w?h:new o(w,this),E.setContent(_)),E}});var xr=Is.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Is.prototype.openOn.call(this,o)},onAdd:function(o){Is.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof la||this._source.on("preclick",ra))},onRemove:function(o){Is.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof la||this._source.off("preclick",ra))},getEvents:function(){var o=Is.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Pt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Pt("div",o+"-content-wrapper",h);if(this._contentNode=Pt("div",o+"-content",_),ia(h),mi(this._contentNode),Mt(h,"contextmenu",ra),this._tipContainer=Pt("div",o+"-tip-container",h),this._tip=Pt("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Pt("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(w,"click",function(E){Ct(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,E=this.options.maxHeight,z="leaflet-popup-scrolled";E&&w>E?(h.height=E+"px",mt(o,z)):kt(o,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();En(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(Ms(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,w=this._containerWidth,E=new _e(this._containerLeft,-_-this._containerBottom);E._add(xn(this._container));var z=o.layerPointToContainerPoint(E),te=$(this.options.autoPanPadding),de=$(this.options.autoPanPaddingTopLeft||te),we=$(this.options.autoPanPaddingBottomRight||te),Me=o.getSize(),Ze=0,vt=0;z.x+w+we.x>Me.x&&(Ze=z.x+w-Me.x+we.x),z.x-Ze-de.x<0&&(Ze=z.x-de.x),z.y+_+we.y>Me.y&&(vt=z.y+_-Me.y+we.y),z.y-vt-de.y<0&&(vt=z.y-de.y),(Ze||vt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ze,vt]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),su=function(o,h){return new xr(o,h)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(o,h,_){return this._initOverlay(xr,o,h,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),On.include({bindPopup:function(o,h){return this._popup=this._initOverlay(xr,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){hn(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof la)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Oo=Is.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Is.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Is.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Is.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,_,w=this._map,E=this._container,z=w.latLngToContainerPoint(w.getCenter()),te=w.layerPointToContainerPoint(o),de=this.options.direction,we=E.offsetWidth,Me=E.offsetHeight,Ze=$(this.options.offset),vt=this._getAnchor();de==="top"?(h=we/2,_=Me):de==="bottom"?(h=we/2,_=0):de==="center"?(h=we/2,_=Me/2):de==="right"?(h=0,_=Me/2):de==="left"?(h=we,_=Me/2):te.x<z.x?(de="right",h=0,_=Me/2):(de="left",h=we+(Ze.x+vt.x)*2,_=Me/2),o=o.subtract($(h,_,!0)).add(Ze).add(vt),kt(E,"leaflet-tooltip-right"),kt(E,"leaflet-tooltip-left"),kt(E,"leaflet-tooltip-top"),kt(E,"leaflet-tooltip-bottom"),mt(E,"leaflet-tooltip-"+de),En(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ur(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),eo=function(o,h){return new Oo(o,h)};Jt.include({openTooltip:function(o,h,_){return this._initOverlay(Oo,o,h,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),On.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oo,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Mt(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Mt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,_,w;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var to=Ja.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(ls(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var w=$(_.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function au(o){return new to(o)}Ja.Default=zi;var Ft=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),yt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(tr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof _e?o:new _e(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,_=-o(-1/0,1/0),w=0,E=h.length,z;w<E;w++)z=h[w].style.zIndex,h[w]!==this._container&&z&&(_=o(_,+z));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){ur(this._container,this.options.opacity);var o=+new Date,h=!1,_=!1;for(var w in this._tiles){var E=this._tiles[w];if(!(!E.current||!E.loaded)){var z=Math.min(1,(o-E.loaded)/200);ur(E.el,z),z<1?h=!0:(E.active?_=!0:this._onOpaqueTile(E),E.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(J(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=h-Math.abs(o-_),this._onUpdateLevel(_)):(yt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var w=this._levels[o],E=this._map;return w||(w=this._levels[o]={},w.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,E.getCenter(),E.getZoom()),m(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)yt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,_,w){var E=Math.floor(o/2),z=Math.floor(h/2),te=_-1,de=new _e(+E,+z);de.z=+te;var we=this._tileCoordsToKey(de),Me=this._tiles[we];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),te>w?this._retainParent(E,z,te,w):!1)},_retainChildren:function(o,h,_,w){for(var E=2*o;E<2*o+2;E++)for(var z=2*h;z<2*h+2;z++){var te=new _e(E,z);te.z=_+1;var de=this._tileCoordsToKey(te),we=this._tiles[de];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);_+1<w&&this._retainChildren(E,z,_+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,_,w){var E=Math.round(h);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var z=this.options.updateWhenZooming&&E!==this._tileZoom;(!w||z)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,h)},_setZoomTransform:function(o,h,_){var w=this._map.getZoomScale(_,o.zoom),E=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,_)).round();tt.any3d?nr(o.el,E,w):En(o.el,E)},_resetGrid:function(){var o=this._map,h=o.options.crs,_=this._tileSize=this.getTileSize(),w=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/_.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/_.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(_,this._tileZoom),E=h.project(o,this._tileZoom).floor(),z=h.getSize().divideBy(w*2);return new ee(E.subtract(z),E.add(z))},_update:function(o){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(w),z=E.getCenter(),te=[],de=this.options.keepBuffer,we=new ee(E.getBottomLeft().subtract([de,-de]),E.getTopRight().add([de,-de]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var Ze=this._tiles[Me].coords;(Ze.z!==this._tileZoom||!we.contains(new _e(Ze.x,Ze.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var vt=E.min.y;vt<=E.max.y;vt++)for(var Ht=E.min.x;Ht<=E.max.x;Ht++){var Lr=new _e(Ht,vt);if(Lr.z=this._tileZoom,!!this._isValidTile(Lr)){var mr=this._tiles[this._tileCoordsToKey(Lr)];mr?mr.current=!0:te.push(Lr)}}if(te.sort(function(Cn,or){return Cn.distanceTo(z)-or.distanceTo(z)}),te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cr=document.createDocumentFragment();for(Ht=0;Ht<te.length;Ht++)this._addTile(te[Ht],cr);this._level.el.appendChild(cr)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!h.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return Ce(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,_=this.getTileSize(),w=o.scaleBy(_),E=w.add(_),z=h.unproject(w,o.z),te=h.unproject(E,o.z);return[z,te]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),_=new Ee(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),_=new _e(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(o){var h=this._tiles[o];h&&(yt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){mt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=m,o.onmousemove=m,tt.ielt9&&this.options.opacity<1&&ur(o,this.options.opacity)},_addTile:function(o,h){var _=this._getTilePos(o),w=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&H(a(this._tileReady,this,o,null,E)),En(E,_),this._tiles[w]={el:E,coords:o,current:!0},h.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:o});var w=this._tileCoordsToKey(o);_=this._tiles[w],_&&(_.loaded=+new Date,this._map._fadeAnimated?(ur(_.el,0),J(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(mt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new _e(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ee(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function l0(o){return new Ft(o)}var La=Ft.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=S(this,h),h.detectRetina&&tt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var _=document.createElement("img");return Mt(_,"load",a(this._tileOnLoad,this,h,_)),Mt(_,"error",a(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var h={r:tt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=_),h["-y"]=_}return k(this._url,i(h,this.options))},_tileOnLoad:function(o,h){tt.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,_){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(_,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,w=this.options.zoomOffset;return _&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=m,h.onerror=m,!h.complete)){h.src=P;var _=this._tiles[o].coords;yt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",P),Ft.prototype._removeTile.call(this,o)},_tileReady:function(o,h,_){if(!(!this._map||_&&_.getAttribute("src")===P))return Ft.prototype._tileReady.call(this,o,h,_)}});function Do(o,h){return new La(o,h)}var u0=La.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var _=i({},this.defaultWmsParams);for(var w in h)w in this.options||(_[w]=h[w]);h=S(this,h);var E=h.detectRetina&&tt.retina?2:1,z=this.getTileSize();_.width=z.x*E,_.height=z.y*E,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,La.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),_=this._crs,w=ae(_.project(h[0]),_.project(h[1])),E=w.min,z=w.max,te=(this._wmsVersion>=1.3&&this._crs===eu?[E.y,E.x,z.y,z.x]:[E.x,E.y,z.x,z.y]).join(","),de=La.prototype.getTileUrl.call(this,o);return de+I(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+te},setParams:function(o,h){return i(this.wmsParams,o),h||this.redraw(),this}});function Rs(o,h){return new u0(o,h)}La.WMS=u0,Do.wms=Rs;var Ps=On.extend({options:{padding:.1},initialize:function(o){S(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var _=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,h),z=w.multiplyBy(-_).add(E).subtract(this._map._getNewPixelOrigin(o,h));tt.any3d?nr(this._container,z,_):En(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ee(_,_.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bo=Ps.extend({options:{tolerance:0},getEvents:function(){var o=Ps.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ps.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Mt(o,"mousemove",this._onMouseMove,this),Mt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,yt(this._container),Mn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ps.prototype._update.call(this);var o=this._bounds,h=this._container,_=o.getSize(),w=tt.retina?2:1;En(h,o.min),h.width=w*_.x,h.height=w*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ps.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,_=h.next,w=h.prev;_?_.prev=w:this._drawLast=w,w?w.next=_:this._drawFirst=_,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),_=[],w,E;for(E=0;E<h.length;E++){if(w=Number(h[E]),isNaN(w))return;_.push(w)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var _,w,E,z,te=o._parts,de=te.length,we=this._ctx;if(de){for(we.beginPath(),_=0;_<de;_++){for(w=0,E=te[_].length;w<E;w++)z=te[_][w],we[w?"lineTo":"moveTo"](z.x,z.y);h&&we.closePath()}this._fillStroke(we,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,_=this._ctx,w=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||w)/w;E!==1&&(_.save(),_.scale(1,E)),_.beginPath(),_.arc(h.x,h.y/E,w,0,Math.PI*2,!1),E!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,h){var _=h.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),_,w,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(w=_);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(kt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var _,w,E=this._drawFirst;E;E=E.next)_=E.layer,_.options.interactive&&_._containsPoint(h)&&(w=_);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(mt(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,_){this._map._fireDOMEvent(h,_||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var _=h.next,w=h.prev;if(_)_.prev=w;else return;w?w.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var _=h.next,w=h.prev;if(w)w.next=_;else return;_?_.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Ns(o){return tt.canvas?new Bo(o):null}var Oa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ls={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ps.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Oa("shape");mt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Oa("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;yt(h),o.removeInteractiveTarget(h),delete this._layers[c(o)]},_updateStyle:function(o){var h=o._stroke,_=o._fill,w=o.options,E=o._container;E.stroked=!!w.stroke,E.filled=!!w.fill,w.stroke?(h||(h=o._stroke=Oa("stroke")),E.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=A(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(E.removeChild(h),o._stroke=null),w.fill?(_||(_=o._fill=Oa("fill")),E.appendChild(_),_.color=w.fillColor||w.color,_.opacity=w.fillOpacity):_&&(E.removeChild(_),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),_=Math.round(o._radius),w=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){bi(o._container)},_bringToBack:function(o){tr(o._container)}},Da=tt.vml?Oa:ct,no=Ps.extend({_initContainer:function(){this._container=Da("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Da("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),Mn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ps.prototype._update.call(this);var o=this._bounds,h=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),En(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Da("path");o.options.className&&mt(h,o.options.className),o.options.interactive&&mt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){yt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,_=o.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Qe(o._parts,h))},_updateCircle:function(o){var h=o._point,_=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||_,E="a"+_+","+w+" 0 1,0 ",z=o._empty()?"M0 0":"M"+(h.x-_)+","+h.y+E+_*2+",0 "+E+-_*2+",0 ";this._setPath(o,z)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){bi(o._path)},_bringToBack:function(o){tr(o._path)}});tt.vml&&no.include(Ls);function lc(o){return tt.svg||tt.vml?new no(o):null}Jt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Ns(o)||lc(o)}});var Ba=No.extend({initialize:function(o,h){No.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ce(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function $t(o,h){return new Ba(o,h)}no.create=Da,no.pointsToPath=Qe,Si.geometryToLayer=Ti,Si.coordsToLatLng=ru,Si.coordsToLatLngs=_l,Si.latLngToCoords=iu,Si.latLngsToCoords=vl,Si.getFeature=Qa,Si.asFeature=ua,Jt.mergeOptions({boxZoom:!0});var ro=nt.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Di(),pn(),this._startPoint=this._map.mouseEventToContainerPoint(o),Mt(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ee(this._point,this._startPoint),_=h.getSize();En(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(yt(this._box),kt(this._container,"leaflet-crosshair")),Kn(),Ue(),Mn(document,{contextmenu:hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",ro),Jt.mergeOptions({doubleClickZoom:!0});var za=nt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,_=h.getZoom(),w=h.options.zoomDelta,E=o.originalEvent.shiftKey?_-w:_+w;h.options.doubleClickZoom==="center"?h.setZoom(E):h.setZoomAround(o.containerPoint,E)}});Jt.addInitHook("addHandler","doubleClickZoom",za),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ou=nt.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new ar(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ce(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),_=this._initialWorldOffset,w=this._draggable._newPos.x,E=(w-h+_)%o+h-_,z=(w+h+_)%o-h-_,te=Math.abs(E+_)<Math.abs(z+_)?E:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=te},_onDragEnd:function(o){var h=this._map,_=h.options,w=!_.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,te=_.easeLinearity,de=E.multiplyBy(te/z),we=de.distanceTo([0,0]),Me=Math.min(_.inertiaMaxSpeed,we),Ze=de.multiplyBy(Me/we),vt=Me/(_.inertiaDeceleration*te),Ht=Ze.multiplyBy(-vt/2).round();!Ht.x&&!Ht.y?h.fire("moveend"):(Ht=h._limitOffset(Ht,h.options.maxBounds),H(function(){h.panBy(Ht,{duration:vt,easeLinearity:te,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",ou),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _f=nt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Mt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,_=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},_=this.keyCodes,w,E;for(w=0,E=_.left.length;w<E;w++)h[_.left[w]]=[-1*o,0];for(w=0,E=_.right.length;w<E;w++)h[_.right[w]]=[o,0];for(w=0,E=_.down.length;w<E;w++)h[_.down[w]]=[0,o];for(w=0,E=_.up.length;w<E;w++)h[_.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},_=this.keyCodes,w,E;for(w=0,E=_.zoomIn.length;w<E;w++)h[_.zoomIn[w]]=o;for(w=0,E=_.zoomOut.length;w<E;w++)h[_.zoomOut[w]]=-o},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,_=this._map,w;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=$(w).multiplyBy(3)),_.options.maxBounds&&(w=_._limitOffset($(w),_.options.maxBounds)),_.options.worldCopyJump){var E=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(w)));_.panTo(E)}else _.panBy(w)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;hn(o)}}});Jt.addInitHook("addHandler","keyboard",_f),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vf=nt.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Xl(o),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),w),hn(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,z=_?Math.ceil(E/_)*_:E,te=o._limitZoom(h+(this._delta>0?z:-z))-h;this._delta=0,this._startTime=null,te&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+te):o.setZoomAround(this._lastMousePos,h+te))}});Jt.addInitHook("addHandler","scrollWheelZoom",vf);var Zh=600;Jt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var lu=nt.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new _e(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",Ct),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Zh),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Mn(document,"touchend",Ct),Mn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Mn(document,"touchend touchcancel contextmenu",this._cancel,this),Mn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new _e(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});Jt.addInitHook("addHandler","tapHold",lu),Jt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var uu=nt.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),Mn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(w)._divideBy(2))),this._startDist=_.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),Ct(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),E=_.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(E,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&E<1||this._zoom>h.getMaxZoom()&&E>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var z=_._add(w)._divideBy(2)._subtract(this._centerPoint);if(E===1&&z.x===0&&z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var te=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(te,this,!0),Ct(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Mn(document,"touchmove",this._onTouchMove,this),Mn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",uu),Jt.BoxZoom=ro,Jt.DoubleClickZoom=za,Jt.Drag=ou,Jt.Keyboard=_f,Jt.ScrollWheelZoom=vf,Jt.TapHold=lu,Jt.TouchZoom=uu,n.Bounds=ee,n.Browser=tt,n.CRS=ke,n.Canvas=Bo,n.Circle=nu,n.CircleMarker=tu,n.Class=le,n.Control=wr,n.DivIcon=to,n.DivOverlay=Is,n.DomEvent=ic,n.DomUtil=ta,n.Draggable=ar,n.Evented=fe,n.FeatureGroup=ts,n.GeoJSON=Si,n.GridLayer=Ft,n.Handler=nt,n.Icon=Ja,n.ImageOverlay=rt,n.LatLng=Oe,n.LatLngBounds=Ee,n.Layer=On,n.LayerGroup=Pa,n.LineUtil=Ra,n.Map=Jt,n.Marker=Ro,n.Mixin=Ln,n.Path=la,n.Point=_e,n.PolyUtil=mn,n.Polygon=No,n.Polyline=Fi,n.Popup=xr,n.PosAnimation=sa,n.Projection=ml,n.Rectangle=Ba,n.Renderer=Ps,n.SVG=no,n.SVGOverlay=en,n.TileLayer=La,n.Tooltip=Oo,n.Transformation=ze,n.Util=he,n.VideoOverlay=gn,n.bind=a,n.bounds=ae,n.canvas=Ns,n.circle=Na,n.circleMarker=us,n.control=xi,n.divIcon=au,n.extend=i,n.featureGroup=a0,n.geoJSON=Te,n.geoJson=xe,n.gridLayer=l0,n.icon=gf,n.imageOverlay=Lt,n.latLng=be,n.latLngBounds=Ce,n.layerGroup=oa,n.map=an,n.marker=Po,n.point=$,n.polygon=gl,n.polyline=oc,n.popup=su,n.rectangle=$t,n.setOptions=S,n.stamp=c,n.svg=lc,n.svgOverlay=Lo,n.tileLayer=Do,n.tooltip=eo,n.transformation=Se,n.version=r,n.videoOverlay=Nr;var c0=window.L;n.noConflict=function(){return window.L=c0,this},window.L=n})})(c3,c3.exports);var gde=c3.exports;const ga=HI(gde);function $T(t,e,n){var r=(e-n)/57.29578,i=t/57.29578,s=1+35786/6378.16,a=s*Math.cos(i)*Math.cos(r)-1,l=s*Math.sqrt(1-Math.cos(i)*Math.cos(i)*Math.cos(r)*Math.cos(r)),c=57.29578*Math.atan(a/l);return c}function _de(t,e,n){var r=(e-n)/57.29578,i=180+57.29578*Math.atan(Math.tan(r)/Math.sin(t/57.29578));return t<0&&(i=i-180),i<0&&(i=i+360),i}function Sd(t,{title:e,tickSize:n=6,width:r=320,height:i=44+n,marginTop:s=18,marginRight:a=0,marginBottom:l=16+n,marginLeft:c=0,ticks:f=r/64,tickFormat:p,tickValues:m}={}){function g(I,R=256){const k=document.createElement("canvas");k.width=R,k.height=1;const A=k.getContext("2d");for(let C=0;C<R;++C)A.fillStyle=I(C/(R-1)),A.fillRect(C,0,1,1);return k}const y=fW("svg").attr("width",r).attr("height",i).attr("viewBox",[0,0,r,i]).style("overflow","visible").style("display","block");let b=I=>I.selectAll(".tick line").attr("y1",s+l-i),S;if(t.interpolate){const I=Math.min(t.domain().length,t.range().length);S=t.copy().rangeRound(Ta(qc(c,r-a),I)),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.copy().domain(Ta(qc(0,1),I))).toDataURL())}else if(t.interpolator){if(S=Object.assign(t.copy().interpolator(Wp(c,r-a)),{range(){return[c,r-a]}}),y.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-l).attr("preserveAspectRatio","none").attr("xlink:href",g(t.interpolator()).toDataURL()),!S.ticks){if(m===void 0){const I=Math.round(f+1);m=Ws(I).map(R=>ep(t.domain(),R/(I-1)))}typeof p!="function"&&(p=Hn(p===void 0?",f":p))}}else if(t.invertExtent){const I=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),R=p===void 0?k=>k:typeof p=="string"?Hn(p):p;S=j_().domain([-1,t.range().length-1]).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.range()).join("rect").attr("x",(k,A)=>S(A-1)).attr("y",s).attr("width",(k,A)=>S(A)-S(A-1)).attr("height",i-s-l).attr("fill",k=>k),m=Ws(I.length),p=k=>R(I[k],k)}else S=Vp().domain(t.domain()).rangeRound([c,r-a]),y.append("g").selectAll("rect").data(t.domain()).join("rect").attr("x",S).attr("y",s).attr("width",Math.max(0,S.bandwidth()-1)).attr("height",i-s-l).attr("fill",t),b=()=>{};return y.append("g").attr("transform",`translate(0,${i-l})`).call(gk(S).ticks(f,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(n).tickValues(m)).call(b).call(I=>I.select(".domain").remove()).call(I=>I.append("text").attr("x",c).attr("y",s+l-i-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(e)),y.node()}const vde="/assets/2909667-1913dcd7.png";function VT(t){return Object.prototype.toString.call(t)==="[object Date]"}function f3(t,e,n,r){if(typeof n=="number"||VT(n)){const i=r-n,s=(n-e)/(t.dt||1/60),a=t.opts.stiffness*i,l=t.opts.damping*s,c=(a-l)*t.inv_mass,f=(s+c)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,VT(n)?new Date(n.getTime()+f):n+f)}else{if(Array.isArray(n))return n.map((i,s)=>f3(t,e[s],n[s],r[s]));if(typeof n=="object"){const i={};for(const s in n)i[s]=f3(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function yde(t,e={}){const n=b2(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e;let a,l,c,f=t,p=t,m=1,g=0,y=!1;function b(I,R={}){p=I;const k=c={};return t==null||R.hard||S.stiffness>=1&&S.damping>=1?(y=!0,a=P8(),f=I,n.set(t=p),Promise.resolve()):(R.soft&&(g=1/((R.soft===!0?.5:+R.soft)*60),m=0),l||(a=P8(),y=!1,l=PU(A=>{if(y)return y=!1,l=null,!1;m=Math.min(m+g,1);const C={inv_mass:m,opts:S,settled:!0,dt:(A-a)*60/1e3},P=f3(C,f,t,p);return a=A,f=t,n.set(t=P),C.settled&&(l=null),!C.settled})),new Promise(A=>{l.promise.then(()=>{k===c&&A()})}))}const S={set:b,update:(I,R)=>b(I(p,t),R),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return S}function ZT(t,e,n){const r=t.slice();return r[183]=e[n],r[184]=e,r[185]=n,r}function bde(t){let e;return{c(){e=Q("div"),G(e,"class","ui divider")},m(n,r){_t(n,e,r)},p:In,d(n){n&&ft(e)}}}function YT(t){let e,n,r=Hn("4.2~s")(t[58]*t[20])+"",i,s,a,l,c,f,p,m=(t[58]*t[20]).toFixed(0)+"",g,y,b,S,I,R=t[58].toFixed(0)+"",k,A,C=(t[58]*t[20]).toFixed(0)+"",P,D,F,Z;return{c(){e=Q("div"),n=Q("div"),i=Le(r),s=ve(),a=Q("div"),l=Le(t[52]),c=Le(` Projected IMT BS (6GHz)
            `),f=Q("pre"),p=Le("("),g=Le(m),y=Le(")"),b=ve(),S=Q("h5"),I=Le("(MidBand:"),k=Le(R),A=Le(",6Hz:"),P=Le(C),D=Le(")-**(>"),F=Le(t[18]),Z=Le("°)"),G(n,"class","value"),G(S,"class","center aligned"),G(a,"class","label"),G(e,"class","blue statistic")},m(V,Y){_t(V,e,Y),N(e,n),N(n,i),N(e,s),N(e,a),N(a,l),N(a,c),N(a,f),N(f,p),N(f,g),N(f,y),N(a,b),N(a,S),N(S,I),N(S,k),N(S,A),N(S,P),N(S,D),N(S,F),N(S,Z)},p(V,Y){Y[0]&1048576|Y[1]&134217728&&r!==(r=Hn("4.2~s")(V[58]*V[20])+"")&&wt(i,r),Y[1]&2097152&&wt(l,V[52]),Y[0]&1048576|Y[1]&134217728&&m!==(m=(V[58]*V[20]).toFixed(0)+"")&&wt(g,m),Y[1]&134217728&&R!==(R=V[58].toFixed(0)+"")&&wt(k,R),Y[0]&1048576|Y[1]&134217728&&C!==(C=(V[58]*V[20]).toFixed(0)+"")&&wt(P,C),Y[0]&262144&&wt(F,V[18])},d(V){V&&ft(e)}}}function jT(t){let e;return{c(){e=Q("p"),e.textContent="Empty"},m(n,r){_t(n,e,r)},p:In,d(n){n&&ft(e)}}}function KT(t){let e,n=t[183].Country+"",r,i,s=Hn("3.2f")(t[183].Object.ActivityFactor)+"",a,l,c,f=Hn("2.3s")(t[183].Object.area)+"",p,m,g,y,b,S=Hn("2.3s")(t[183].stats.TotalBS)+"",I,R,k,A,C,P,D,F;function Z(){t[108].call(k,t[185])}function V(){t[109].call(C,t[185])}return{c(){e=Q("div"),r=Le(n),i=Le(": RaRb Scale : ("),a=Le(s),l=Le(`) |
          `),c=Q("a"),p=Le(f),m=Le(" sqkm"),g=ve(),y=Q("a"),b=Le("#BS "),I=Le(S),R=ve(),k=Q("input"),A=ve(),C=Q("input"),P=ve(),G(c,"class","ui tag label"),G(y,"class","ui red tag label"),G(k,"type","range"),G(k,"step",".1"),G(k,"min","0"),G(k,"max","1"),G(C,"type","number"),G(C,"min","0"),G(C,"max","1"),G(C,"step",".1"),ms(C,"width","56px")},m(Y,H){_t(Y,e,H),N(e,r),N(e,i),N(e,a),N(e,l),N(e,c),N(c,p),N(c,m),N(e,g),N(e,y),N(y,b),N(y,I),N(e,R),N(e,k),ht(k,t[9][t[185]].Object.ActivityFactor),N(e,A),N(e,C),ht(C,t[9][t[185]].Object.ActivityFactor),N(e,P),D||(F=[et(k,"change",Z),et(k,"input",Z),et(C,"input",V)],D=!0)},p(Y,H){t=Y,H[0]&512&&n!==(n=t[183].Country+"")&&wt(r,n),H[0]&512&&s!==(s=Hn("3.2f")(t[183].Object.ActivityFactor)+"")&&wt(a,s),H[0]&512&&f!==(f=Hn("2.3s")(t[183].Object.area)+"")&&wt(p,f),H[0]&512&&S!==(S=Hn("2.3s")(t[183].stats.TotalBS)+"")&&wt(I,S),H[0]&512&&ht(k,t[9][t[185]].Object.ActivityFactor),H[0]&512&&Yt(C.value)!==t[9][t[185]].Object.ActivityFactor&&ht(C,t[9][t[185]].Object.ActivityFactor)},d(Y){Y&&ft(e),D=!1,tl(F)}}}function XT(t){let e,n,r;return{c(){e=Q("div")},m(i,s){_t(i,e,s),n||(r=d3(t[68].call(null,e)),n=!0)},p:In,d(i){i&&ft(e),n=!1,r()}}}function wde(t){let e,n,r,i,s,a,l=(t[22]!=null?JSON.stringify(t[22].SatelliteBeam):"mapdata")+"",c;return{c(){e=Q("div"),n=Le(t[52]),r=ve(),i=Q("small"),s=Q("em"),a=Le("Reference : "),c=Le(l),G(e,"slot","header")},m(f,p){_t(f,e,p),N(e,n),N(e,r),N(e,i),N(i,s),N(s,a),N(s,c)},p(f,p){p[1]&2097152&&wt(n,f[52]),p[0]&4194304&&l!==(l=(f[22]!=null?JSON.stringify(f[22].SatelliteBeam):"mapdata")+"")&&wt(c,l)},d(f){f&&ft(e)}}}function xde(t){let e,n,r,i,s,a,l,c,f,p,m,g,y,b,S,I,R,k,A,C,P,D,F,Z,V,Y,H,J,he,le,ne,pe,fe,_e,me=t[14].toFixed(0)+"",$,ee,ae,Ee,Ce,Oe=Hn("4.2~s")(t[15])+"",be,ke,Pe,ge,De,ze,Se=t[15].toFixed(0)+"",Ke,$e,ct,Qe,dt=t[16].toFixed(0)+"",Ve,un,cn=t[17].toFixed(0)+"",Kt,Vn,Nn,Zn,dr,Ye=Hn("4.2~s")(t[46])+"",Yn,wn,Dr,Mr,Rr,Qn,Br=t[46].toFixed(0)+"",lr,pt,fn,zr,yr,Ca=t[13].toFixed(1)+"",ri,er,vi,qt,ii,ws,Pr=(t[13]-10.5).toFixed(1)+"",Ri,Aa,Pi,Js,fi,Co,Fr,br,tt=(t[33]==null?"???":t[33][2].toFixed(1))+"",xs,Ur,hi,Vr,Ss,si,Rn,yi,Zr=(t[33]!=null?t[33][0].toFixed(1):"???")+"",Qs,Ni,Ts,pr,ea,jn,Yr,ai=(t[33]!=null?t[33][1].toFixed(1):"???")+"",ks,Es,Ia,Pn,Xt,Li,di,Ms,Pt=(t[44]==null?"???":t[44].toFixed(1))+"",yt,ls,bi,tr,Cr,mt,kt,Oi,sr=(t[32]!=null?t[32][0].I.toFixed(2):"???")+"",ur,Ar,pi,nr,En,xn,Di,Kn=(t[32]!=null?t[32][1].I.toFixed(2):"???")+"",Je,ut,pn,Ue,Xn,Cs,Ji,Ka,jl,jr,ta,Mt,Qi,Mn,Kl,na,al,Ao,ra,mi,ia,Ct,hn,wi,Io,ol,Xl,ll,ic,sa,Jt,an,wr,xi,ul,Xa,oi,cl,re,Ae,qe,We,xt,nt,Ln,Gt,ar,Nt,Qt,Sn,mn,on,Kr,es,fl,hl,mf,Jl,i0,Bi,Tn,As,dl,gi,sc,aa,Ra,Ql,pl,ml,ac,eu,s0,On,Pa,oa,ts,a0,Ja,gf,zi,o0,Ro,Po,la,tu,us,nu,Na=t[57],Fi,oc,No,gl,Si,Ti,ki,ru,_l,iu,vl,Qa,ua,ue,Te,xe,rt,Lt,gn,Nr,en,Lo,Is,xr,su,Oo=(t[25]==null?"...":t[21].length)+"",eo,to,au,Ft,l0,La,Do,u0,Rs,Ps,Bo,Ns,Oa,Ls,Da,no,lc,Ba,$t,ro,za;function ou(ie){t[82](ie)}function _f(ie){t[83](ie)}function vf(ie){t[84](ie)}function Zh(ie){t[85](ie)}function lu(ie){t[86](ie)}function uu(ie){t[87](ie)}function c0(ie){t[88](ie)}function o(ie){t[89](ie)}function h(ie){t[90](ie)}function _(ie){t[91](ie)}function w(ie){t[92](ie)}function E(ie){t[93](ie)}function z(ie){t[94](ie)}function te(ie){t[95](ie)}function de(ie){t[96](ie)}function we(ie){t[97](ie)}let Me={$$slots:{default:[bde]},$$scope:{ctx:t}};t[4]!==void 0&&(Me.satAngle=t[4]),t[43]!==void 0&&(Me.HideAllInspector=t[43]),t[20]!==void 0&&(Me.MidBandTo6GHzFactor=t[20]),t[56]!==void 0&&(Me.hasFSSPattern=t[56]),t[29]!==void 0&&(Me.UseFootprint=t[29]),t[30]!==void 0&&(Me.factor=t[30]),t[47]!==void 0&&(Me.hasIMTgrid=t[47]),t[49]!==void 0&&(Me.Raindx=t[49]),t[50]!==void 0&&(Me.Rbindx=t[50]),t[3]!==void 0&&(Me.SatRxGain=t[3]),t[2]!==void 0&&(Me.FSSNoiseTemp=t[2]),t[41]!==void 0&&(Me.EdgeMode=t[41]),t[59]!==void 0&&(Me.orbitrange=t[59]),t[11]!==void 0&&(Me.ApplyEIRPMask=t[11]),t[10]!==void 0&&(Me.MASKOffset=t[10]),t[19]!==void 0&&(Me.EnableLowElevationThreshold=t[19]),l=new hde({props:Me}),Rt.push(()=>zn(l,"satAngle",ou)),Rt.push(()=>zn(l,"HideAllInspector",_f)),Rt.push(()=>zn(l,"MidBandTo6GHzFactor",vf)),Rt.push(()=>zn(l,"hasFSSPattern",Zh)),Rt.push(()=>zn(l,"UseFootprint",lu)),Rt.push(()=>zn(l,"factor",uu)),Rt.push(()=>zn(l,"hasIMTgrid",c0)),Rt.push(()=>zn(l,"Raindx",o)),Rt.push(()=>zn(l,"Rbindx",h)),Rt.push(()=>zn(l,"SatRxGain",_)),Rt.push(()=>zn(l,"FSSNoiseTemp",w)),Rt.push(()=>zn(l,"EdgeMode",E)),Rt.push(()=>zn(l,"orbitrange",z)),Rt.push(()=>zn(l,"ApplyEIRPMask",te)),Rt.push(()=>zn(l,"MASKOffset",de)),Rt.push(()=>zn(l,"EnableLowElevationThreshold",we)),t[98](l);let Ze=t[53]&&YT(t);function vt(ie){t[99](ie)}let Ht={type:"radio",data:["None","Elevation","binID"],opts:{label:"Globe Color Layer"}};t[26]!==void 0&&(Ht.value=t[26]),Ji=new ES({props:Ht}),Rt.push(()=>zn(Ji,"value",vt));function Lr(ie){t[103](ie)}let mr={type:"radio",data:["IMT Cell Grid","Elevation","FSSGain","IbyN","Country"],opts:{label:"Map Color Layer"}};t[38]!==void 0&&(mr.value=t[38]),wr=new ES({props:mr}),Rt.push(()=>zn(wr,"value",Lr));let cr=t[9],Cn=[];for(let ie=0;ie<cr.length;ie+=1)Cn[ie]=KT(ZT(t,cr,ie));let or=null;cr.length||(or=jT());let io=XT(t);function Yh(ie){t[115](ie)}function jh(ie){t[116](ie)}function yf(ie){t[117](ie)}function Kh(ie){t[118](ie)}function cu(ie){t[119](ie)}let Dn={reference:t[51],$$slots:{header:[wde]},$$scope:{ctx:t}};t[39]!==void 0&&(Dn.showModal=t[39]),t[3]!==void 0&&(Dn.SatRxGain=t[3]),t[4]!==void 0&&(Dn.satAngle=t[4]),t[54]!==void 0&&(Dn.SatelliteBeam=t[54]),t[28]!==void 0&&(Dn.defaultFootprint=t[28]),ki=new bue({props:Dn}),Rt.push(()=>zn(ki,"showModal",Yh)),Rt.push(()=>zn(ki,"SatRxGain",jh)),Rt.push(()=>zn(ki,"satAngle",yf)),Rt.push(()=>zn(ki,"SatelliteBeam",Kh)),Rt.push(()=>zn(ki,"defaultFootprint",cu)),t[120](ki);function fu(ie){t[121](ie)}function U(ie){t[122](ie)}let so={showModal:t[39],satAngle:t[4],cr:t[70],ApplyEIRPMask:t[11],stats:t[31],factor:t[30],Raindx:t[49],Rbindx:t[50],N0:t[13],totalI:t[32],SatGainScale:t[60],MASKOffset:t[10]};t[34]!==void 0&&(so.binnedData=t[34]),t[0]!==void 0&&(so.gainloss=t[0]),Te=new Sue({props:so}),Rt.push(()=>zn(Te,"binnedData",fu)),Rt.push(()=>zn(Te,"gainloss",U));function uc(ie){t[127](ie)}function Ui(ie){t[128](ie)}function tn(ie){t[130](ie)}let cc={};t[0]!==void 0&&(cc.gainloss=t[0]),t[40]!==void 0&&(cc.exclusionzone=t[40]),t[37]!==void 0&&(cc.logger=t[37]),Ft=new uue({props:cc}),Rt.push(()=>zn(Ft,"gainloss",uc)),Rt.push(()=>zn(Ft,"exclusionzone",Ui)),t[129](Ft),Rt.push(()=>zn(Ft,"logger",tn));function j2(ie){t[131](ie)}function K2(ie){t[132](ie)}function hu(ie){t[133](ie)}let bf={style:"display:inline"};t[24]!==void 0&&(bf.countries=t[24]),t[22]!==void 0&&(bf.mapData=t[22]),t[37]!==void 0&&(bf.logger=t[37]),Rs=new mue({props:bf}),Rt.push(()=>zn(Rs,"countries",j2)),Rt.push(()=>zn(Rs,"mapData",K2)),Rt.push(()=>zn(Rs,"logger",hu)),t[134](Rs);function X2(ie){t[136](ie)}function J2(ie){t[137](ie)}let Xh={};return t[43]!==void 0&&(Xh.HideAllInspector=t[43]),t[64]!==void 0&&(Xh.statusbox=t[64]),Ls=new mde({props:Xh}),t[135](Ls),Rt.push(()=>zn(Ls,"HideAllInspector",X2)),Rt.push(()=>zn(Ls,"statusbox",J2)),{c(){e=Q("link"),n=Q("link"),r=ve(),i=Q("main"),s=Q("button"),s.textContent="30%",a=ve(),Tl(l.$$.fragment),Z=ve(),V=Q("div"),Y=Q("div"),H=Q("div"),J=Q("div"),he=Le(t[45]),le=ve(),ne=Q("div"),pe=Le(`Total Area
          `),fe=Q("pre"),_e=Le(" ("),$=Le(me),ee=Le(") sqkm"),ae=ve(),Ee=Q("div"),Ce=Q("div"),be=Le(Oe),ke=ve(),Pe=Q("div"),ge=Le(`Total BS
          `),De=Q("pre"),ze=Le("("),Ke=Le(Se),$e=Le(")"),ct=ve(),Qe=Q("h5"),Ve=Le(dt),un=Le(","),Kt=Le(cn),Vn=ve(),Ze&&Ze.c(),Nn=ve(),Zn=Q("div"),dr=Q("div"),Yn=Le(Ye),wn=ve(),Dr=Q("div"),Mr=Le(`Active BS
          `),Rr=Q("pre"),Qn=Le("("),lr=Le(Br),pt=Le(")"),fn=ve(),zr=Q("div"),yr=Q("div"),ri=Le(Ca),er=ve(),vi=Q("div"),vi.innerHTML=`Noise
          <pre>dBm</pre>`,qt=ve(),ii=Q("div"),ws=Q("div"),Ri=Le(Pr),Aa=ve(),Pi=Q("div"),Pi.innerHTML=`Allowed Interference
          <pre>dBm</pre>`,Js=ve(),fi=Q("hr"),Co=ve(),Fr=Q("div"),br=Q("div"),xs=Le(tt),Ur=ve(),hi=Q("div"),hi.innerHTML=`I/N
          <pre>dB</pre>`,Ss=ve(),si=Q("div"),Rn=Q("a"),yi=Le("Urban : "),Qs=Le(Zr),Ni=Le(" dBm"),Ts=ve(),pr=Q("br"),ea=ve(),jn=Q("a"),Yr=Le("SubUrban : "),ks=Le(ai),Es=Le(`
          dBm`),Ia=ve(),Pn=Q("div"),Xt=Q("div"),Li=Q("i"),Ms=ve(),yt=Le(Pt),ls=ve(),bi=Q("div"),bi.innerHTML=`Aggr. Interference
          <pre>dBm</pre>`,Cr=ve(),mt=Q("div"),kt=Q("a"),Oi=Le("Urban : "),ur=Le(sr),Ar=Le(" dBm"),pi=ve(),nr=Q("br"),En=ve(),xn=Q("a"),Di=Le("SubUrban : "),Je=Le(Kn),ut=Le(" dBm"),pn=ve(),Ue=Q("div"),Xn=Q("div"),Cs=Q("div"),Tl(Ji.$$.fragment),jl=ve(),jr=Q("div"),ta=Q("button"),Mt=Q("i"),Qi=Le(`
            Footprint`),Kl=ve(),na=Q("label"),al=Le("Satellite Long : "),Ao=Le(t[4]),ra=ve(),mi=Q("input"),hn=ve(),wi=Q("input"),Xl=ve(),ll=Q("br"),ic=ve(),sa=Q("a"),sa.textContent="ITU SNS Website",Jt=ve(),an=Q("div"),Tl(wr.$$.fragment),ul=ve(),Xa=Q("label"),oi=Le("IbN Min : "),cl=Le(t[5]),re=ve(),Ae=Q("input"),qe=ve(),We=Q("input"),xt=ve(),nt=Q("label"),Ln=Le("IbN Max : "),Gt=Le(t[6]),ar=ve(),Nt=Q("input"),Qt=ve(),Sn=Q("input"),mn=ve(),on=Q("button"),on.innerHTML=`<i class="redo icon"></i>
          Refresh`,Kr=ve(),es=Q("div"),fl=Q("h1"),fl.textContent="Country Stats",hl=ve();for(let ie=0;ie<Cn.length;ie+=1)Cn[ie].c();or&&or.c(),mf=ve(),Jl=Q("div"),Jl.innerHTML=`<div class="header">Info</div> 
      <p>Waiting till progress</p>`,i0=ve(),Bi=Q("div"),Tn=Q("div"),As=Q("button"),dl=Le("Re Calculate"),sc=ve(),aa=Q("div"),Ra=Q("input"),Ql=ve(),pl=Q("label"),pl.textContent="Exclude Zone",ac=ve(),eu=Q("p"),eu.textContent="..status..",s0=ve(),On=Q("progress"),Pa=ve(),oa=Q("div"),ts=Q("label"),a0=Le("Rotate Globe : "),Ja=Le(t[7]),gf=ve(),zi=Q("input"),o0=ve(),Ro=Q("label"),Po=Le("Zoom Globe : "),la=Le(t[8]),tu=ve(),us=Q("input"),nu=ve(),io.c(),Fi=ve(),oc=Q("div"),No=ve(),gl=Q("div"),gl.innerHTML=`<div id="legendbox"></div> 
        <svg id="svggrid" height="100"></svg>`,Ti=ve(),Tl(ki.$$.fragment),ua=ve(),ue=Q("div"),Tl(Te.$$.fragment),Lt=ve(),gn=Q("div"),Nr=ve(),en=Q("div"),Lo=Q("button"),Lo.textContent="Reload Files",Is=ve(),xr=Q("button"),su=Le("selectGrid : "),eo=Le(Oo),au=ve(),Tl(Ft.$$.fragment),u0=ve(),Tl(Rs.$$.fragment),Oa=ve(),Tl(Ls.$$.fragment),lc=ve(),Ba=Q("div"),document.title="IMT interference to FSS Analysis 2",G(e,"rel","stylesheet"),G(e,"href","../static/css/semantic.min.css"),G(n,"rel","stylesheet"),G(n,"href","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"),G(J,"class","value"),G(ne,"class","label"),G(H,"class","statistic"),G(Ce,"class","value"),G(Qe,"class","center aligned"),G(Pe,"class","label"),G(Ee,"class","statistic"),G(dr,"class","value"),G(Dr,"class","label"),G(Zn,"class","statistic"),G(yr,"class","value"),G(vi,"class","label"),G(zr,"class","grey inverted statistic"),G(ws,"class","value"),G(Pi,"class","label"),G(ii,"class","green statistic"),G(br,"class","value"),G(hi,"class","label"),G(Fr,"class",Vr=(t[44]-t[13]>=-10.5?"red":"green")+" statistic"),G(Rn,"class","ui red label left tag small"),G(jn,"class","ui grey label left tag small"),G(Li,"class",di="thumbs "+(t[44]==null?"":t[44]<t[13]-10.5?"circle up":"circle down")+" icon"),G(Xt,"class","value"),G(bi,"class","label"),G(Pn,"class",tr=(t[44]-t[13]>=-10.5?"red":"green")+" statistic"),G(kt,"class","ui red label left tag small"),G(xn,"class","ui grey label left tag small"),G(Y,"class","ui small statistics"),G(V,"class","ui segment"),G(Mt,"class","wrench icon"),G(ta,"class",Mn="ui primary tiny button icon "+(t[29]?"disabled":"")),G(mi,"type","number"),G(mi,"min",ia=t[59][0]),G(mi,"max",Ct=t[59][1]),G(mi,"step","0.5"),G(wi,"type","range"),G(wi,"min",Io=t[59][0]),G(wi,"max",ol=t[59][1]),G(wi,"step","0.5"),G(sa,"target","_blank"),G(sa,"href","https://www.itu.int/online/sns/beamlist.sh?ntc_id=99500259&ie=y&sat_type=G&categ=N&script=&select_list=B&sel_type=&sel_satname=ASIABSS&sat_name=ASIABSS&plan_id=&ntc_nbr="),G(sa,"title","ITU SNS link"),G(jr,"class","ui left aligned"),G(Cs,"class","column"),G(Ae,"type","number"),G(Ae,"min",-200),G(Ae,"max",0),G(Ae,"step","0.5"),G(We,"type","range"),G(We,"min",-200),G(We,"max",0),G(We,"step","0.5"),G(Nt,"type","number"),G(Nt,"min",-200),G(Nt,"max",0),G(Nt,"step","0.5"),G(Sn,"type","range"),G(Sn,"min",-200),G(Sn,"max",0),G(Sn,"step","0.5"),G(on,"class","ui primary tiny button icon"),G(an,"class","column"),G(Xn,"class","ui two column grid"),G(fl,"class","ui h1"),G(es,"id","etc"),G(es,"class","ui segment red"),G(Jl,"class","ui hidden message"),G(As,"class",gi="ui button primary "+(t[23]==null||t[23].length==0?"disabled":"")),G(Ra,"type","checkbox"),G(Ra,"id","excludezone"),G(pl,"for","excludezone"),G(aa,"class",ml="ui toggle checkbox "+(t[40]==null?"disabled":"")),G(eu,"id","status"),On.value=t[65],G(On,"max",t[48]),G(On,"class","svelte-12pnrw1"),G(zi,"type","range"),G(zi,"min",0),G(zi,"max",180),G(zi,"step","0.5"),G(oa,"class","ui input"),G(us,"type","range"),G(us,"min",10),G(us,"max",100),G(us,"step","1"),G(oc,"id","infobox"),G(oc,"class","ui segment"),G(Tn,"id","Globe"),G(Tn,"class","wide four column"),ms(Tn,"border","0px solid lightgrey"),G(gl,"id","GridMap"),G(gl,"class","wide four column"),ms(gl,"border","1px solid lightgrey"),G(Bi,"class","ui two column stackable grid"),po(()=>t[114].call(Bi)),G(ue,"class","ui basic segment"),G(Lo,"class","ui button small"),G(xr,"class",to="ui label primary "+(t[25]==null?"orange placeholder loading":"green")),ms(xr,"display","inline"),G(en,"class","ui segment"),G(Ba,"id","testing"),ms(Ba,"width","500px"),ms(Ba,"height","500px"),G(Ue,"class","ui segment"),G(i,"class","ui basic segment")},m(ie,Ie){N(document.head,e),N(document.head,n),_t(ie,r,Ie),_t(ie,i,Ie),N(i,s),N(i,a),Ho(l,i,null),N(i,Z),N(i,V),N(V,Y),N(Y,H),N(H,J),N(J,he),N(H,le),N(H,ne),N(ne,pe),N(ne,fe),N(fe,_e),N(fe,$),N(fe,ee),N(Y,ae),N(Y,Ee),N(Ee,Ce),N(Ce,be),N(Ee,ke),N(Ee,Pe),N(Pe,ge),N(Pe,De),N(De,ze),N(De,Ke),N(De,$e),N(Pe,ct),N(Pe,Qe),N(Qe,Ve),N(Qe,un),N(Qe,Kt),N(Y,Vn),Ze&&Ze.m(Y,null),N(Y,Nn),N(Y,Zn),N(Zn,dr),N(dr,Yn),N(Zn,wn),N(Zn,Dr),N(Dr,Mr),N(Dr,Rr),N(Rr,Qn),N(Rr,lr),N(Rr,pt),N(Y,fn),N(Y,zr),N(zr,yr),N(yr,ri),N(zr,er),N(zr,vi),N(Y,qt),N(Y,ii),N(ii,ws),N(ws,Ri),N(ii,Aa),N(ii,Pi),N(Y,Js),N(Y,fi),N(Y,Co),N(Y,Fr),N(Fr,br),N(br,xs),N(Fr,Ur),N(Fr,hi),N(Y,Ss),N(Y,si),N(si,Rn),N(Rn,yi),N(Rn,Qs),N(Rn,Ni),N(si,Ts),N(si,pr),N(si,ea),N(si,jn),N(jn,Yr),N(jn,ks),N(jn,Es),N(Y,Ia),N(Y,Pn),N(Pn,Xt),N(Xt,Li),N(Xt,Ms),N(Xt,yt),N(Pn,ls),N(Pn,bi),N(Y,Cr),N(Y,mt),N(mt,kt),N(kt,Oi),N(kt,ur),N(kt,Ar),N(mt,pi),N(mt,nr),N(mt,En),N(mt,xn),N(xn,Di),N(xn,Je),N(xn,ut),N(i,pn),N(i,Ue),N(Ue,Xn),N(Xn,Cs),Ho(Ji,Cs,null),N(Cs,jl),N(Cs,jr),N(jr,ta),N(ta,Mt),N(ta,Qi),N(jr,Kl),N(jr,na),N(na,al),N(na,Ao),N(jr,ra),N(jr,mi),ht(mi,t[4]),N(jr,hn),N(jr,wi),ht(wi,t[4]),N(jr,Xl),N(jr,ll),N(jr,ic),N(jr,sa),N(Xn,Jt),N(Xn,an),Ho(wr,an,null),N(an,ul),N(an,Xa),N(Xa,oi),N(Xa,cl),N(an,re),N(an,Ae),ht(Ae,t[5]),N(an,qe),N(an,We),ht(We,t[5]),N(an,xt),N(an,nt),N(nt,Ln),N(nt,Gt),N(an,ar),N(an,Nt),ht(Nt,t[6]),N(an,Qt),N(an,Sn),ht(Sn,t[6]),N(an,mn),N(an,on),N(Ue,Kr),N(Ue,es),N(es,fl),N(es,hl);for(let Ir=0;Ir<Cn.length;Ir+=1)Cn[Ir]&&Cn[Ir].m(es,null);or&&or.m(es,null),N(Ue,mf),N(Ue,Jl),N(Ue,i0),N(Ue,Bi),N(Bi,Tn),N(Tn,As),N(As,dl),N(Tn,sc),N(Tn,aa),N(aa,Ra),Ra.checked=t[1],N(aa,Ql),N(aa,pl),N(Tn,ac),N(Tn,eu),N(Tn,s0),N(Tn,On),N(Tn,Pa),N(Tn,oa),N(oa,ts),N(ts,a0),N(ts,Ja),N(oa,gf),N(oa,zi),ht(zi,t[7]),N(Tn,o0),N(Tn,Ro),N(Ro,Po),N(Ro,la),N(Tn,tu),N(Tn,us),ht(us,t[8]),N(Tn,nu),io.m(Tn,null),N(Tn,Fi),N(Tn,oc),N(Bi,No),N(Bi,gl),t[113](Bi),Si=fg(Bi,t[114].bind(Bi)),N(Ue,Ti),Ho(ki,Ue,null),N(Ue,ua),N(Ue,ue),Ho(Te,ue,null),t[123](ue),N(Ue,Lt),N(Ue,gn),t[124](gn),N(Ue,Nr),N(Ue,en),N(en,Lo),N(en,Is),N(en,xr),N(xr,su),N(xr,eo),N(en,au),Ho(Ft,en,null),N(en,u0),Ho(Rs,en,null),N(Ue,Oa),Ho(Ls,Ue,null),N(Ue,lc),N(Ue,Ba),$t=!0,ro||(za=[et(s,"click",t[81]),et(ta,"click",t[100]),et(mi,"input",t[101]),et(wi,"change",t[102]),et(wi,"input",t[102]),et(Ae,"input",t[104]),et(We,"change",t[105]),et(We,"input",t[105]),et(Nt,"input",t[106]),et(Sn,"change",t[107]),et(Sn,"input",t[107]),et(on,"click",t[67]),et(As,"click",t[69]),et(Ra,"change",t[110]),et(zi,"change",t[111]),et(zi,"input",t[111]),et(us,"change",t[112]),et(us,"input",t[112]),et(Lo,"click",t[125]),et(xr,"click",t[126])],ro=!0)},p(ie,Ie){const Ir={};Ie[6]&1&&(Ir.$$scope={dirty:Ie,ctx:ie}),!c&&Ie[0]&16&&(c=!0,Ir.satAngle=ie[4],Bn(()=>c=!1)),!f&&Ie[1]&4096&&(f=!0,Ir.HideAllInspector=ie[43],Bn(()=>f=!1)),!p&&Ie[0]&1048576&&(p=!0,Ir.MidBandTo6GHzFactor=ie[20],Bn(()=>p=!1)),!m&&Ie[1]&33554432&&(m=!0,Ir.hasFSSPattern=ie[56],Bn(()=>m=!1)),!g&&Ie[0]&536870912&&(g=!0,Ir.UseFootprint=ie[29],Bn(()=>g=!1)),!y&&Ie[0]&1073741824&&(y=!0,Ir.factor=ie[30],Bn(()=>y=!1)),!b&&Ie[1]&65536&&(b=!0,Ir.hasIMTgrid=ie[47],Bn(()=>b=!1)),!S&&Ie[1]&262144&&(S=!0,Ir.Raindx=ie[49],Bn(()=>S=!1)),!I&&Ie[1]&524288&&(I=!0,Ir.Rbindx=ie[50],Bn(()=>I=!1)),!R&&Ie[0]&8&&(R=!0,Ir.SatRxGain=ie[3],Bn(()=>R=!1)),!k&&Ie[0]&4&&(k=!0,Ir.FSSNoiseTemp=ie[2],Bn(()=>k=!1)),!A&&Ie[1]&1024&&(A=!0,Ir.EdgeMode=ie[41],Bn(()=>A=!1)),!C&&Ie[1]&268435456&&(C=!0,Ir.orbitrange=ie[59],Bn(()=>C=!1)),!P&&Ie[0]&2048&&(P=!0,Ir.ApplyEIRPMask=ie[11],Bn(()=>P=!1)),!D&&Ie[0]&1024&&(D=!0,Ir.MASKOffset=ie[10],Bn(()=>D=!1)),!F&&Ie[0]&524288&&(F=!0,Ir.EnableLowElevationThreshold=ie[19],Bn(()=>F=!1)),l.$set(Ir),(!$t||Ie[1]&16384)&&wt(he,ie[45]),(!$t||Ie[0]&16384)&&me!==(me=ie[14].toFixed(0)+"")&&wt($,me),(!$t||Ie[0]&32768)&&Oe!==(Oe=Hn("4.2~s")(ie[15])+"")&&wt(be,Oe),(!$t||Ie[0]&32768)&&Se!==(Se=ie[15].toFixed(0)+"")&&wt(Ke,Se),(!$t||Ie[0]&65536)&&dt!==(dt=ie[16].toFixed(0)+"")&&wt(Ve,dt),(!$t||Ie[0]&131072)&&cn!==(cn=ie[17].toFixed(0)+"")&&wt(Kt,cn),ie[53]?Ze?Ze.p(ie,Ie):(Ze=YT(ie),Ze.c(),Ze.m(Y,Nn)):Ze&&(Ze.d(1),Ze=null),(!$t||Ie[1]&32768)&&Ye!==(Ye=Hn("4.2~s")(ie[46])+"")&&wt(Yn,Ye),(!$t||Ie[1]&32768)&&Br!==(Br=ie[46].toFixed(0)+"")&&wt(lr,Br),(!$t||Ie[0]&8192)&&Ca!==(Ca=ie[13].toFixed(1)+"")&&wt(ri,Ca),(!$t||Ie[0]&8192)&&Pr!==(Pr=(ie[13]-10.5).toFixed(1)+"")&&wt(Ri,Pr),(!$t||Ie[1]&4)&&tt!==(tt=(ie[33]==null?"???":ie[33][2].toFixed(1))+"")&&wt(xs,tt),(!$t||Ie[0]&8192|Ie[1]&8192&&Vr!==(Vr=(ie[44]-ie[13]>=-10.5?"red":"green")+" statistic"))&&G(Fr,"class",Vr),(!$t||Ie[1]&4)&&Zr!==(Zr=(ie[33]!=null?ie[33][0].toFixed(1):"???")+"")&&wt(Qs,Zr),(!$t||Ie[1]&4)&&ai!==(ai=(ie[33]!=null?ie[33][1].toFixed(1):"???")+"")&&wt(ks,ai),(!$t||Ie[0]&8192|Ie[1]&8192&&di!==(di="thumbs "+(ie[44]==null?"":ie[44]<ie[13]-10.5?"circle up":"circle down")+" icon"))&&G(Li,"class",di),(!$t||Ie[1]&8192)&&Pt!==(Pt=(ie[44]==null?"???":ie[44].toFixed(1))+"")&&wt(yt,Pt),(!$t||Ie[0]&8192|Ie[1]&8192&&tr!==(tr=(ie[44]-ie[13]>=-10.5?"red":"green")+" statistic"))&&G(Pn,"class",tr),(!$t||Ie[1]&2)&&sr!==(sr=(ie[32]!=null?ie[32][0].I.toFixed(2):"???")+"")&&wt(ur,sr),(!$t||Ie[1]&2)&&Kn!==(Kn=(ie[32]!=null?ie[32][1].I.toFixed(2):"???")+"")&&wt(Je,Kn);const Rm={};!Ka&&Ie[0]&67108864&&(Ka=!0,Rm.value=ie[26],Bn(()=>Ka=!1)),Ji.$set(Rm),(!$t||Ie[0]&536870912&&Mn!==(Mn="ui primary tiny button icon "+(ie[29]?"disabled":"")))&&G(ta,"class",Mn),(!$t||Ie[0]&16)&&wt(Ao,ie[4]),(!$t||Ie[1]&268435456&&ia!==(ia=ie[59][0]))&&G(mi,"min",ia),(!$t||Ie[1]&268435456&&Ct!==(Ct=ie[59][1]))&&G(mi,"max",Ct),Ie[0]&16&&Yt(mi.value)!==ie[4]&&ht(mi,ie[4]),(!$t||Ie[1]&268435456&&Io!==(Io=ie[59][0]))&&G(wi,"min",Io),(!$t||Ie[1]&268435456&&ol!==(ol=ie[59][1]))&&G(wi,"max",ol),Ie[0]&16&&ht(wi,ie[4]);const Pm={};if(!xi&&Ie[1]&128&&(xi=!0,Pm.value=ie[38],Bn(()=>xi=!1)),wr.$set(Pm),(!$t||Ie[0]&32)&&wt(cl,ie[5]),Ie[0]&32&&Yt(Ae.value)!==ie[5]&&ht(Ae,ie[5]),Ie[0]&32&&ht(We,ie[5]),(!$t||Ie[0]&64)&&wt(Gt,ie[6]),Ie[0]&64&&Yt(Nt.value)!==ie[6]&&ht(Nt,ie[6]),Ie[0]&64&&ht(Sn,ie[6]),Ie[0]&512){cr=ie[9];let fa;for(fa=0;fa<cr.length;fa+=1){const Nm=ZT(ie,cr,fa);Cn[fa]?Cn[fa].p(Nm,Ie):(Cn[fa]=KT(Nm),Cn[fa].c(),Cn[fa].m(es,null))}for(;fa<Cn.length;fa+=1)Cn[fa].d(1);Cn.length=cr.length,!cr.length&&or?or.p(ie,Ie):cr.length?or&&(or.d(1),or=null):(or=jT(),or.c(),or.m(es,null))}(!$t||Ie[0]&8388608&&gi!==(gi="ui button primary "+(ie[23]==null||ie[23].length==0?"disabled":"")))&&G(As,"class",gi),Ie[0]&2&&(Ra.checked=ie[1]),(!$t||Ie[1]&512&&ml!==(ml="ui toggle checkbox "+(ie[40]==null?"disabled":"")))&&G(aa,"class",ml),(!$t||Ie[2]&8)&&(On.value=ie[65]),(!$t||Ie[1]&131072)&&G(On,"max",ie[48]),(!$t||Ie[0]&128)&&wt(Ja,ie[7]),Ie[0]&128&&ht(zi,ie[7]),(!$t||Ie[0]&256)&&wt(la,ie[8]),Ie[0]&256&&ht(us,ie[8]),Ie[1]&67108864&&Va(Na,Na=ie[57])?(io.d(1),io=XT(ie),io.c(),io.m(Tn,Fi)):io.p(ie,Ie);const yl={};Ie[1]&1048576&&(yl.reference=ie[51]),Ie[0]&4194304|Ie[1]&2097152|Ie[6]&1&&(yl.$$scope={dirty:Ie,ctx:ie}),!ru&&Ie[1]&256&&(ru=!0,yl.showModal=ie[39],Bn(()=>ru=!1)),!_l&&Ie[0]&8&&(_l=!0,yl.SatRxGain=ie[3],Bn(()=>_l=!1)),!iu&&Ie[0]&16&&(iu=!0,yl.satAngle=ie[4],Bn(()=>iu=!1)),!vl&&Ie[1]&8388608&&(vl=!0,yl.SatelliteBeam=ie[54],Bn(()=>vl=!1)),!Qa&&Ie[0]&268435456&&(Qa=!0,yl.defaultFootprint=ie[28],Bn(()=>Qa=!1)),ki.$set(yl);const cs={};Ie[1]&256&&(cs.showModal=ie[39]),Ie[0]&16&&(cs.satAngle=ie[4]),Ie[0]&2048&&(cs.ApplyEIRPMask=ie[11]),Ie[1]&1&&(cs.stats=ie[31]),Ie[0]&1073741824&&(cs.factor=ie[30]),Ie[1]&262144&&(cs.Raindx=ie[49]),Ie[1]&524288&&(cs.Rbindx=ie[50]),Ie[0]&8192&&(cs.N0=ie[13]),Ie[1]&2&&(cs.totalI=ie[32]),Ie[1]&536870912&&(cs.SatGainScale=ie[60]),Ie[0]&1024&&(cs.MASKOffset=ie[10]),!xe&&Ie[1]&8&&(xe=!0,cs.binnedData=ie[34],Bn(()=>xe=!1)),!rt&&Ie[0]&1&&(rt=!0,cs.gainloss=ie[0],Bn(()=>rt=!1)),Te.$set(cs),(!$t||Ie[0]&35651584)&&Oo!==(Oo=(ie[25]==null?"...":ie[21].length)+"")&&wt(eo,Oo),(!$t||Ie[0]&33554432&&to!==(to="ui label primary "+(ie[25]==null?"orange placeholder loading":"green")))&&G(xr,"class",to);const ca={};!l0&&Ie[0]&1&&(l0=!0,ca.gainloss=ie[0],Bn(()=>l0=!1)),!La&&Ie[1]&512&&(La=!0,ca.exclusionzone=ie[40],Bn(()=>La=!1)),!Do&&Ie[1]&64&&(Do=!0,ca.logger=ie[37],Bn(()=>Do=!1)),Ft.$set(ca);const wf={};!Ps&&Ie[0]&16777216&&(Ps=!0,wf.countries=ie[24],Bn(()=>Ps=!1)),!Bo&&Ie[0]&4194304&&(Bo=!0,wf.mapData=ie[22],Bn(()=>Bo=!1)),!Ns&&Ie[1]&64&&(Ns=!0,wf.logger=ie[37],Bn(()=>Ns=!1)),Rs.$set(wf);const Jh={};!Da&&Ie[1]&4096&&(Da=!0,Jh.HideAllInspector=ie[43],Bn(()=>Da=!1)),!no&&Ie[2]&4&&(no=!0,Jh.statusbox=ie[64],Bn(()=>no=!1)),Ls.$set(Jh)},i(ie){$t||(qs(l.$$.fragment,ie),qs(Ji.$$.fragment,ie),qs(wr.$$.fragment,ie),qs(ki.$$.fragment,ie),qs(Te.$$.fragment,ie),qs(Ft.$$.fragment,ie),qs(Rs.$$.fragment,ie),qs(Ls.$$.fragment,ie),$t=!0)},o(ie){ya(l.$$.fragment,ie),ya(Ji.$$.fragment,ie),ya(wr.$$.fragment,ie),ya(ki.$$.fragment,ie),ya(Te.$$.fragment,ie),ya(Ft.$$.fragment,ie),ya(Rs.$$.fragment,ie),ya(Ls.$$.fragment,ie),$t=!1},d(ie){ft(e),ft(n),ie&&ft(r),ie&&ft(i),t[98](null),Wo(l),Ze&&Ze.d(),Wo(Ji),Wo(wr),wc(Cn,ie),or&&or.d(),io.d(ie),t[113](null),Si(),t[120](null),Wo(ki),Wo(Te),t[123](null),t[124](null),t[129](null),Wo(Ft),t[134](null),Wo(Rs),t[135](null),Wo(Ls),ro=!1,tl(za)}}}let Sde=500;function JT(t){return Math.pow(10,t/10)}function Tde(t){return 10*Math.log10(t)}function kde(t,e,n){let r,i;Pc(t,Np,re=>n(80,r=re)),new k6;let s=!1,a,l,c=!1,f=650,p=20,m=129.5,g=-160,y=-30,b=50,S=100,I=new Map,R=[],k=!1,A=[32,28,24,24,20,18,17,17],C=!1,P=500,D,F,Z,V,Y="",H=0,J=0,he=0,le=0,ne=0,pe=0,fe=!1,_e=!1,me=.6,$;const ee=yde(0,{stiffness:.1,damping:.25});Pc(t,ee,re=>n(65,i=re));let ae=1,Ee,Ce,Oe=new Date;Zf(()=>{Ca()});let be,ke=[],Pe,ge,De;function ze(re){var Ae=p;if(Ve==null)return alert("No Satellite Footprint selected"),0;var qe=Ve.beamtype;switch(qe){case"pointgrid":let Gt=Xle(re,Ve.features[1]);var We;return We=Gt.properties,_0(Ve[0],re)?(We.distanceToFootprint=Gt.properties.distanceToPoint,We.Gain=Gt.properties.FSSRxGain,We.Mode="INSIDE",We):(We.distanceToFootprint=Gt.properties.distanceToPoint,We.Gain=Gt.properties.FSSRxGain,We.distanceToFootprint<100?(We.Gain=We.Gain,We.Mode="OUTSIDE-EDGE"):We.distanceToFootprint<500?(We.Gain=We.Gain-3,We.Mode="OUTSIDE-EDGE"):(We.Gain=Ae-30,We.Mode="OUTSIDE"),We);case"shapedbeams":var xt=Ve.features[0].properties;if(_0(Ve.features[0],re))return{Gain:Ae,Mode:"INSIDE"};if(Ve.features.length>1){var xt=Ve.features[1].properties,nt=_0(Ve.features[1],re);if(nt)return{Gain:Ae+xt.OffsetGain,Mode:"OUTSIDE-EDGE"};var Ln=xt.EdgeOffsetGain||0;return{Gain:Ae+Ln,Mode:"OUTSIDE"}}else{var Ln=xt.EdgeOffsetGain||0;return{Gain:Ae+Ln,Mode:"OUTSIDE"}}}return{Gain:0,Mode:"OUTSIDE"}}let Se="",Ke=[],$e=!1,ct,Qe,dt,Ve,un={BeamLng:m,BeamLat:8,rx:47,ry:30,theta:43.5},cn="None",Kt={type:"LineString",coordinates:[xq(Ws(-180,180,1),Array(360).fill(0))][0]},Vn;function Nn(){console.log("Manual Called 1"),Pn()}let Zn=null,dr=null,Ye,Yn=!1,wn,Dr;function Mr(re){return re.append(Yo(Dr)),Br(),{destroy(){}}}async function Rr(){console.log("PlotGlobe() called");let re=Un("#Globe");re=re.node();function Ae(){if(Ve==null)return[];var nt=[];return nt.push(Go(Ve.features[0],{stroke:"blue",strokeOpacity:cn!="FSSGain"?.5:1,fillOpacity:.1,strokeDasharray:[5,5],pointerEvents:"none",fill:"lightblue"})),nt}let qe=ke.findIndex(nt=>nt.Country==De.id)>=0,We={color:{legend:!0,interpolate:gh,label:"Elevation"}};cn=="None"&&(We=null),cn=="Elevation"&&(We.color.type="linear",We.color.scheme="rainbow",We.color.domain=[10,90]);let xt=P$().center([b,0]).radius(S)();n(57,Dr={colorOptions:We,color:{legend:cn=="binID",marginLeft:30,label:cn,nice:!0},width:450,projection:{type:"orthographic",rotate:[-b,0],domain:xt},marks:[UI(),qI(),Go(Kt,{stroke:"grey",strokeDasharray:[3,5]}),Pe==null?null:Go(Pe,{fill:(nt,Ln)=>cn=="None"?nt.properties.selected?"yellow":"lightgrey":"none",fillOpacity:.3,stroke:nt=>Ke.includes(nt.properties.UNRegion)?nt.properties.hasIMTgrid?"orange":"lightgreen":"lightgrey",ariaDescription:"worldmap",pointerEvents:"fill",title:nt=>{let Ln=nt.properties.NAMEen+" - "+nt.properties.UNRegion;return nt.properties.selected?"DeSELECT "+Ln:"Select "+Ln}}),l==null||!c?null:Go(l,{stroke:"yellow",fillOpacity:.5,fill:"red"}),ge==null?null:Go(ge,{stroke:"lightgrey"}),$==null?null:Go($,{stroke:"lightgrey",strokeOpacity:.1,pointerEvents:"none",fill:nt=>{if(cn=="binID")return nt.properties.binID;var Ln=si(nt,cn).color;return nt.properties.Active?Ln:"black"},fillOpacity:1}),...Ae(),qe?Go(De,{stroke:"lightgrey",strokeOpacity:1,fillOpacity:1,pointerEvents:"none",fill:"none"}):null,!Yn&&un!=null?EQ([0],{x:un.BeamLng,y:un.BeamLat,fill:"red"}):null,jg([m],{x:m,y:0,fontSize:"2em",fill:"red",textAnchor:"start",alignmentBaseline:"top",text:nt=>"🛰️"}),jg([m],{x:m,y:0,dy:40,fontSize:"1em",fill:"red",textAnchor:"start",alignmentBaseline:"bottom",text:nt=>nt+"°E"})]})}let Qn=!1;async function Br(){dt=Un("#Globe>div>svg"),console.log("Found my plot ",dt.selectAll("g[aria-description='worldmap']").empty()),dt.selectAll("g[aria-description='worldmap']").attr("pointer-events","all").selectAll("path").datum(re=>({indx:re,selected:Pe[re].properties.selected,Country:Pe[re].properties.NAMEen,UNRegion:Pe[re].properties.UNRegion})).attr("fill",re=>re.selected?"yellow":"white").on("click",async(re,Ae)=>{if(Qn){console.log("Need to abort.."),Un("#infobox").text(),Un("#infobox").attr("style","color:red").text("Wait till process to complete");let qe=Un(re.target).attr("fill");console.log("Original color was ",qe),Un(re.target).attr("fill","red").transition().duration(1e3).attr("fill",qe);return}if(!Ke.includes(Ae.UNRegion)){Un("#status").text("Country Not allowed !! "+Ae.Country,"in Region ",Ae.UNRegion),console.log("Not allowed."+Ae.NAMEen);return}Ae.selected=!Ae.selected,console.log("clicked 1",Ae,"REMOVED ? ",Ae.selected),n(51,Pe[Ae.indx].properties.selected=Ae.selected,Pe),console.log("clicked 2",Ae,"REMOVED ? ",Ae.selected),console.log("clicked 3...done udpateGrid"),Un(re.target).transition().duration(1e3).attr("fill",Ae.selected?"yellow":"none"),pt(Ae.Country,Ae.selected)})}async function lr(){let re=ke.map(Ae=>Ae.Country);Qn=!0,zr.postMessage({command:"updateGrid",data:{countries:re,EdgeMode:k}})}async function pt(re,Ae){let qe=Pe.filter(xt=>xt.properties.NAMEen==re)[0];if(Ae){var We={Country:re,Region:"",selected:Ae,mapGridIndx:-1};ke.push(We),n(23,ke),n(80,r),qe.properties.hasIMTgrid&&n(53,$e=!0)}else{if(n(23,ke=ke.filter(xt=>xt.Country!=re)),qe.properties.hasIMTgrid&&n(53,$e=!1),Qe==null)return;if(n(25,Qe.features=Qe.features.filter(xt=>xt.properties.Country!=re&&xt.properties.Country!=""),Qe),Qe.features.length>0){let xt=0;Qe.features.forEach(nt=>{nt.properties.id=xt,xt++}),n(23,ke=ke.filter(nt=>nt.Country!=re))}n(23,ke=ke.filter(xt=>xt.Country!=re)),Un("#infobox").text("Removed "+re),fn()}}async function fn(){Qe!=null&&Qe.features.length>0?(n(21,$=Qe.features.filter(re=>{let Ae=re.properties.inLand;return c&&(Ae=Ae&&!_0(l,re.properties.center)),Ae})),n(23,ke),n(80,r),n(58,Ri=gr($,re=>re.properties.SectorCount)),n(76,ri=Hn("2.3s")(gr($.map(re=>I1(re)))/1e6)+" sqkm"),console.log("selectGrid LENGHT,area",$.length,ri),Un("#infobox").attr("style","color:blue").text(ke.map(re=>re.Country).join(" , ")+`  : ${ri}  ${Ve.name||""}+ IbyN = ${(tt||0).toFixed(1)} FootPrintArea : ${Vn} sqkm`)):(n(21,$=[]),console.log(" must be empty",Qe)),console.log("updateMyGrid() Completed.. Can render ..."),Pn()}let zr,yr="";async function Ca(){zr=new Worker(new URL("/assets/webworker-eac9da84.js",self.location),{type:"module"}),console.log("syncWorker is ready"),zr.onmessage=re=>{var Ae=re.data||{type:"general"};switch(Ae.meta,Ae.type){case"command":yr=Ae.command+" - "+Ae.statusType,console.log("Received COMMAND response",Ae),Ae.command=="updateGrid"&&(Un("#status").text(yr).transition().duration(5e3).attr("style","background-color:white").text(Ae.statusType),console.log("Status message for updateGrid",yr,Ae),n(25,Qe=Ae.result),Qn=!1,fn());break;case"status":Qn=!0,Ae.statusType=="progressbar"?(yr=`Creating Grid -  ${Ae.val} of ${Ae.count} (${Ae.meta})`,n(48,ae=Ae.count),ee.set(Ae.val),Un("#status").attr("style","background-color:yellow").text(yr)):(yr=Ae.command+" - "+Ae.statusType,Un("#status").attr("style","background-color:white").text(Ae.command+" "+Ae.meta||" "+Ae.statusType));break;default:console.log("Some message from WORKER ",Ae)}}}let ri,er;function vi(){I.clear(),er.forEach(re=>{let qe=(I.get(re.Country)||{area:0,ActiveFactor:1}).area+re.areasqkm;I.set(re.Country,{area:qe,ActivityFactor:re.ActivityFactor})}),n(9,R=[]),I.forEach((re,Ae)=>{R.push({Country:Ae,Object:re,stats:Co(re)})}),console.log(I,"JSON",R)}let qt,ii=10/12.4;async function ws(re,Ae,qe){pr!=null?pr.queueNode(re,Ae,qe):console.log("Processing ",re,Ae)}let Pr,Ri=0,Aa=[10,140],Pi=Ff([10,90],gh);function Js(re){var Ae=a.find(qe=>qe.el==re);return Ae!=null?Ae.CL+Ae.GL+Ae.PL:0}function fi(re){var Ae=a.find(We=>We.el==re);if(Ae==null)return{UrbanAg:0,SubUrbanAg:0};var qe={UrbanAg:Ae.UrbanAg,SubUrbanAg:Ae.SubUrbanAg};return qe.UrbanAg+=C?Ae.UrbanOffset:0,qe.SubUrbanAg+=C?Ae.SubUrbanOffset:0,qe}function Co(re){console.log("OBJ is ",re);let Ae=re.area,qe=Math.round(Ae*qt.Urban.Ra*qt.Urban.Rb*qt.Urban.BSdensity*re.ActivityFactor),We=Math.round(Ae*qt.SubUrban.Ra*qt.SubUrban.Rb*qt.SubUrban.BSdensity*re.ActivityFactor),xt=qe+We,nt={UrbanBS:qe,SubUrbanBS:We,TotalBS:xt,totalActiveBS:Math.round(xt*qt.NW*qt.TDD)};return console.log("RESULT getstats ",nt),{UrbanBS:qe,SubUrbanBS:We,TotalBS:xt,totalActiveBS:Math.round(xt*qt.NW*qt.TDD)}}let Fr,br,tt,xs=Ff([g,y],Ug),Ur,hi=up([!0,!1],["green","lightgreen"]),Vr,Ss;function si(re,Ae){let qe=Hu("lightblue"),We=Ae,xt,nt;switch(We){case"None":return qe.opacity=.5,nt=re.properties.inLand,{color:nt?qe:"white",val:nt};case"Elevation":xt=re.properties.center;let Ln=$T(xt[1],xt[0],m);return qe=Pi(Ln),{color:qe,val:Ln};case"FSSGain":xt=re.properties.center;let Gt=ze(xt);return qe=Vr(Gt.Gain),Gt.Mode=="OUTSIDE"&&(qe=Hu("grey")),qe=re.properties.Active?qe:"white",nt=re.properties.Active,{color:qe,val:Gt.Gain};case"IbyN":let ar=Pr[re.properties.binID],Nt=-200;return ar!=null&&(Nt=ar.suburbandB+fi(ar.x).SubUrbanAg-Js(ar.x)-V),{color:xs(Nt),val:Nt};case"Country":return{color:Ur(re.properties.Country),val:re.properties.Country}}}let Rn,yi=[],Zr=400,Qs,Ni=null,Ts=null,pr=null;async function ea(){Ni.showGainLoss(Ts,m)}let jn,Yr,ai,ks,Es;async function Ia(){if(F==null)return;let re=Un(F).select("div#TopoGridMap");if(re.empty()){re=Un(F).append("div"),re.attr("id","TopoGridMap").attr("class","wide four column segment ").attr("style","border:1px solid orange ;width:100%;height:100%"),F.append(re.node()),console.log("maindiv",re.empty());let Qt=re.append("div").attr("style","width:500px;height:500px;fill:'red'");jn=ga.map(Qt.node(),{});var Ae=ga.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"});ga.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France"});var qe=ga.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'});let Sn=ga.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}).addTo(jn);var We={layers:"gpw-v4:gpw-v4-population-density-rev11_2020"},xt=ga.tileLayer.wms("https://sedac.ciesin.columbia.edu/geoserver/wms",We);ga.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),ga.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}),Yr=ga.marker({lng:m,lat:0},{icon:ga.icon({iconUrl:vde,iconSize:[32,32]})}),Yr.addTo(jn);var nt={OpenStreetMap:Ae,OpenStreetMapHOT:qe,GoogleMap:Sn,wmsLayer:xt},Ln={SatelliteGrid:Yr};ai!=null&&(Ln.Analsysis=ai),Es=ga.control.layers(nt).addTo(jn)}let Gt=Pe==null?[]:Pe.filter(Qt=>ke.some(Sn=>Sn.Country==Qt.properties.NAMEen));Gt.length==0||F0(Gt),Gt.length>0||jn.setView([0,m],2);const Nt=lp({point:function(Qt,Sn){const mn=jn.latLngToLayerPoint(new ga.LatLng(Sn,Qt));this.stream.point(mn.x,mn.y)}});dh().projection(Nt),Yr.setLatLng({lng:m,lat:0}),ks!=null&&(jn.removeLayer(ks),Es.removeLayer(ks)),c&&l!=null&&(ks=ga.geoJson(l,{fillColor:"grey",fillOpacity:.6,weight:4,opacity:.7}).addTo(jn)),$!=null&&(ai!=null&&(console.log("REMOVING OLD GEOJSON LAYER"),jn.removeLayer(ai),Es.removeLayer(ai)),console.log("ADDING NEW GEOJSON LAYER"),ai=ga.geoJson($,{fillColor:"none",weight:4,opacity:.7,style:Qt=>{if(Xt=="IMT Cell Grid"){let Sn=_0(Ve.features[0],Qt.properties.center);return{color:hi(Sn)}}else return{color:si(Qt,Xt).color}}}).bindPopup(Qt=>Qt.feature.properties.Country).addTo(jn),$!=null&&$.length>0&&jn.fitBounds(ai.getBounds()))}async function Pn(){if(console.log("PlotMap() called"),Un("#GridMap").empty()||Un("#legendbox").empty())return;let re=Un("#GridMap");Zr=400;let Ae=Math.max(P/2,400)-50,qe=re.select("svg#svggrid").attr("width",Ae).attr("height",Zr).attr("viewBox",[0,0,Ae,Zr].join(","));qe.text("");let We=Pe==null?[]:Pe.filter(Nt=>ke.some(Qt=>Qt.Country==Nt.properties.NAMEen)),xt=We.length==0?void 0:F0(We),nt=Un("#legendbox").node();if(nt.innerHTML="",Xt=="IMT Cell Grid"&&xt!=null&&nt.appendChild(Sd(hi,{title:"Covered by Satellite Footprint",width:800})),Xt=="FSSGain"&&nt.appendChild(Sd(Vr,{title:"Satellite Rx Gain (dBi)",nice:!0,width:800,marginLeft:0})),Xt=="IbyN"&&nt.appendChild(Sd(xs,{title:"IbyN of a Cell (dB)",nice:!0,width:800,marginLeft:0})),Xt=="Elevation"&&nt.appendChild(Sd(Pi,{title:"Elevation "+m+" E °",tickFormat:Nt=>Nt+"°",width:800})),Xt=="Country"){let Nt=Sd(Ur,{title:"Country "+m+" E °",width:800});nt.appendChild(Nt)}qe.append("g").append("rect").attr("x",10).attr("y",10).attr("stroke","lightgrey").attr("width",Ae-10).attr("height",Zr-10).attr("fill","none").attr("fillopacity",.5),Pe==null&&qe.append("text").text("No Map loaded... yet").attr("transform","translate(50 50)");let Ln=BE(),Gt;Pe!=null&&(Gt=F0(V1(Pe,Nt=>Ke.includes(Nt.properties.UNRegion))),Ln.fitExtent([[10,10],[Ae-10,Zr-10]],Gt));let ar=dh(Ln).pointRadius(1);if(xt==null?qe.append("text").text("No Country selected").attr("transform","translate(50 150)"):Ln.fitExtent([[50,50],[Sde-50,Zr-50]],Kle(xt)),isNaN(Ln([0,0])[0])){console.log("Testing path generator ",Ln([0,0]));return}qe.append("g").append("path").datum(_E()()).attr("d",ar).attr("stroke","lightgrey"),Gt!=null&&qe.append("g").selectAll("path").data([Gt]).join("path").attr("pointer-events","none").attr("fill","lightgrey").attr("stroke","lightgreen").attr("stroke-opacity",1).attr("fill-opacity",.1).attr("d",ar),xt==null?console.log("PlotMap skipping IMTcountriesFeatures ",xt==null):qe.append("path").datum(xt).attr("pointer-events","none").attr("stroke","grey").attr("stroke-width",1).attr("fill",Xt=="IMT Cell Grid"?"lightgreen":"none").attr("fill-opacity",.1).attr("d",ar),$!=null&&qe.append("g").attr("id","elevationgrid").selectAll("path").data($).join("path").attr("stroke","grey").attr("stroke-opacity",1).attr("fill-opacity",.6).attr("fill",Nt=>{if(Xt=="IMT Cell Grid"){let Qt=_0(Ve.features[0],Nt.properties.center);return hi(Qt)}else{let Qt=si(Nt,Xt);return Nt.properties.gain=Qt.val,Qt.color}}).attr("d",ar).append("title").text(Nt=>{if(Xt=="IbyN"){var Qt=Pr[Nt.properties.binID],Sn="";return Qt!=null&&(Sn=Qt.suburbandB+fi(Qt.x).SubUrbanAg-Js(Qt.x)-V,Sn=Sn.toFixed(1)+"dB"),Sn}if(Xt=="IMT Cell Grid")return _0(Ve.features[0],Nt.properties.center)?"in Footprint":"outside Footprint";if(Xt=="Country")return Nt.properties.Country;var mn=si(Nt,Xt);return mn.val.toFixed(1)}),ge!=null&&ge.features!=null&&(qe.append("g").selectAll("path").data(ge.features).join("path").attr("pointer-events","none").attr("stroke","orange").attr("stroke-width",1).attr("fill","orange").attr("fill-opacity",.05).attr("d",ar).append("title").text(Nt=>Nt.properties.StateName),qe.append("g").selectAll("dot").data(ge.features).join("circle").attr("pointer-events","auto").attr("fill","orange").attr("r",2).attr("transform",Nt=>{let Qt=ON(Nt).geometry.coordinates;return`translate(${Ln(Qt).join(" ")})`}).append("title").text(Nt=>Nt.properties.StateName)),Ve!=null&&qe.append("g").selectAll("path").data([Ve]).join("path").attr("pointer-events","none").attr("fill","none").attr("stroke","orange").attr("stroke-width",1).attr("stroke-dasharray","0").attr("d",ar).transition().duration(1e3).attr("stroke-dasharray","5 5"),qe.append("g").append("text").attr("fill","red").text("🛰️").attr("transform",()=>{var Nt=Ln([m,0]).join(" ");return`translate(${Nt})`}),qe.append("g").append("text").attr("fill","red").text(`Elevation ${m}E°`).attr("x",20).attr("y",20),qe.append("g").attr("id",Ve.type).selectAll("path").data([Ve.features[0]]).join("path").attr("pointer-events","none").attr("d",ar).attr("fill","lightgrey").attr("fill-opacity",.1).attr("stroke-dasharray",[4,4]).attr("stroke","orange"),qe.append("g").attr("id","g-info").append("text").text(`IbyN : ${(tt||0).toFixed(1)}dB`).attr("transform","translate(10 40)")}let Xt="IMT Cell Grid",Li,di;const Ms=()=>{ee.set(Math.random()*ae),n(48,ae=105)};function Pt(re){m=re,n(4,m)}function yt(re){D=re,n(43,D)}function ls(re){me=re,n(20,me)}function bi(re){Yn=re,n(56,Yn),n(22,be)}function tr(re){wn=re,n(29,wn)}function Cr(re){qt=re,n(30,qt)}function mt(re){_e=re,n(47,_e),n(22,be),n(72,De),n(80,r)}function kt(re){Ee=re,n(49,Ee)}function Oi(re){Ce=re,n(50,Ce)}function sr(re){p=re,n(3,p)}function ur(re){f=re,n(2,f)}function Ar(re){k=re,n(41,k)}function pi(re){Aa=re,n(59,Aa)}function nr(re){C=re,n(11,C)}function En(re){A=re,n(10,A)}function xn(re){fe=re,n(19,fe)}function Di(re){Rt[re?"unshift":"push"](()=>{dr=re,n(55,dr)})}function Kn(re){cn=re,n(26,cn)}const Je=()=>n(39,s=!0);function ut(){m=Yt(this.value),n(4,m)}function pn(){m=Yt(this.value),n(4,m)}function Ue(re){Xt=re,n(38,Xt)}function Xn(){g=Yt(this.value),n(5,g)}function Cs(){g=Yt(this.value),n(5,g)}function Ji(){y=Yt(this.value),n(6,y)}function Ka(){y=Yt(this.value),n(6,y)}function jl(re){R[re].Object.ActivityFactor=Yt(this.value),n(9,R)}function jr(re){R[re].Object.ActivityFactor=Yt(this.value),n(9,R)}function ta(){c=this.checked,n(1,c)}function Mt(){b=Yt(this.value),n(7,b)}function Qi(){S=Yt(this.value),n(8,S)}function Mn(re){Rt[re?"unshift":"push"](()=>{F=re,n(12,F)})}function Kl(){Qs=this.clientHeight,P=this.clientWidth,n(62,Qs),n(42,P)}function na(re){s=re,n(39,s)}function al(re){p=re,n(3,p)}function Ao(re){m=re,n(4,m)}function ra(re){un=re,n(54,un),n(22,be),n(72,De),n(29,wn),n(27,Zn),n(4,m)}function mi(re){Ye=re,n(28,Ye)}function ia(re){Rt[re?"unshift":"push"](()=>{Zn=re,n(27,Zn)})}function Ct(re){Rn=re,n(34,Rn),n(77,er),n(23,ke),n(9,R),n(79,yi),n(11,C),n(157,I),n(25,Qe),n(20,me),n(14,H),n(21,$),n(74,Ve),n(3,p),n(4,m),n(18,pe),n(80,r),n(29,wn),n(22,be),n(28,Ye),n(19,fe)}function hn(re){a=re,n(0,a)}function wi(re){Rt[re?"unshift":"push"](()=>{Ss=re,n(61,Ss)})}function Io(re){Rt[re?"unshift":"push"](()=>{Ts=re,n(36,Ts)})}const ol=()=>{Li!=null&&Li.loadFiles()},Xl=()=>{console.log("loading ..",$),pr.queueNode("selectGrid",$,{type:"json"})};function ll(re){a=re,n(0,a)}function ic(re){l=re,n(40,l)}function sa(re){Rt[re?"unshift":"push"](()=>{Ni=re,n(35,Ni)})}function Jt(re){pr=re,n(37,pr)}function an(re){ct=re,n(24,ct)}function wr(re){be=re,n(22,be)}function xi(re){pr=re,n(37,pr)}function ul(re){Rt[re?"unshift":"push"](()=>{Li=re,n(63,Li)})}function Xa(re){Rt[re?"unshift":"push"](()=>{pr=re,n(37,pr)})}function oi(re){D=re,n(43,D)}function cl(re){di=re,n(64,di)}t.$$.update=()=>{if(t.$$.dirty[0]&524288&&n(18,pe=fe?0:10),t.$$.dirty[0]&3073|t.$$.dirty[1]&16&&Ni!=null&&C&&(console.log("It changed ",A,a),a!=null&&Ni.updateEIRPmask(A)),t.$$.dirty[2]&512&&Oe.toLocaleString(void 0,{hour:"numeric",minute:"numeric",second:"numeric"}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&64|t.$$.dirty[2]&2048&&be!=null&&(n(73,Ke=be.visibleRegion),pr!=null&&pr.queueNode("visibleRegion",Ke)),t.$$.dirty[0]&4194304|t.$$.dirty[2]&1024&&be!=null&&(n(72,De=be.IMTMap),be.footprintbeam!=null&&n(54,un=be.footprintbeam),ge=be.FocusCountry,De.properties!=null?(n(47,_e=!0),n(52,Se=De.id)):n(47,_e=!1)),t.$$.dirty[0]&4194304&&be!=null&&be.GlobalMap!=null&&n(51,Pe=be.GlobalMap),t.$$.dirty[0]&541065216&&wn&&be.FSSMap!=null&&(n(74,Ve=be.FSSMap),Rr(),console.log("Auto Called 2"),Pn()),t.$$.dirty[0]&805306368&&(wn||Ye!=null&&(n(74,Ve=Ye),console.log("Auto Called 2a"),Rr(),Pn())),t.$$.dirty[1]&64|t.$$.dirty[2]&4096&&pr!=null&&pr.queueNode("SatelliteFootprints",Ve),t.$$.dirty[0]&4194304&&be!=null&&be.FSSMap!=null&&n(56,Yn=!0),t.$$.dirty[2]&262144&&(console.log("current Profile changed ",r),n(25,Qe=void 0),n(57,Dr=void 0),n(21,$=void 0),n(23,ke=[]),n(47,_e=!1),fn()),t.$$.dirty[0]&671088656&&!wn&&Zn!=null&&(n(54,un.BeamLng=m,un),Zn.update()),t.$$.dirty[0]&3072|t.$$.dirty[1]&128&&Xt!=null&&Pn(),t.$$.dirty[0]&67113370&&F!=null&&(console.log("Auto Called 3"),Rr(),Pn()),t.$$.dirty[0]&2359320|t.$$.dirty[2]&36864){e:if($!=null&&Ve!=null){console.log("I am called .. creating gridElangles");let re=[];if($.length==0){n(77,er=[]),console.log("AM i called 2, Empty selectGrid return"),n(77,er.AntennaName=Ve.name,er);break e}re.AntennaName=Ve.name;let Ae=$[0].geometry.type;$.forEach(qe=>{let We=[];Ae!="point"?We=qe.properties.center:We=qe.geometry.coordinates;let xt=$T(We[1],We[0],m);if(xt>=pe){let nt=_de(We[1],We[0],m),Ln=I1(qe)/1e6,Gt=ze(We);re.push({az:nt,el:xt,areasqkm:Ln,SatGain:Gt.Gain,Mode:Gt.Mode,RaRb:qe.properties.RaRb,id:qe.properties.id,Country:qe.properties.Country,ActivityFactor:qe.properties.ActiveFactor})}}),n(77,er=re),ws("gridElangles",er)}}if(t.$$.dirty[2]&32768&&er!=null){let re=ys(er,Ae=>Ae.el);n(79,yi=Ws(Math.floor(re[0]),Math.ceil(re[1])))}if(t.$$.dirty[0]&43010560|t.$$.dirty[1]&8|t.$$.dirty[2]&163840&&er!=null&&ke!=null&&ke.length>=0){let Ae=dk().thresholds(yi).value(qe=>qe.el)(er);n(34,Rn=Sq(Ae,(qe,We)=>{qe.forEach(mn=>{n(25,Qe.features[mn.id].properties.binID=We,Qe)});let xt=gr(qe,mn=>{let on=I.get(mn.Country),Kr=on==null?mn.ActivityFactor:on.ActivityFactor;console.log("finding country",mn.Country,on,"Setting ",Kr),console.log("Activity ??",Kr);let fl=mn.RaRb?1:0;return mn.areasqkm*fl*Kr}),nt=gr(qe,mn=>{let Kr=mn.RaRb?1:0;return mn.areasqkm*Kr}),Ln=gr(qe,mn=>{let Kr=mn.RaRb?0:1;return mn.areasqkm*Kr}),Gt=gr(qe,mn=>{if(!mn.RaRb)return Qe.features[mn.id].properties.SectorCount*me}),ar=tp(qe,mn=>mn.el),Nt=ys(qe,mn=>mn.az),Qt=wo(qe,mn=>mn.SatGain),Sn=10*Math.log10(tp(qe,mn=>Math.pow(10,mn.SatGain/10)));return{x:Math.floor((qe.x0+qe.x1)/2),x0:qe.x0,x1:qe.x1,azExtents:Nt,count:qe.length,meanangle:ar,totalIMTBS:Gt,totalareasqkmTrue:nt,totalareasqkm:xt,totalIMTareasqkm:Ln,maxRxGain:Qt,meanRxGain:Sn}})),ws("binnedData",Rn,{type:"csv"}),n(14,H=gr(Rn,qe=>qe.totalareasqkmTrue+qe.totalIMTareasqkm)),n(45,Y=Hn("2.3~s")(H))}if(t.$$.dirty[0]&1073743880|t.$$.dirty[1]&8&&Rn!=null){let qe=24-3;n(31,Pr=Rn.map((We,xt)=>({...We,urbandB_BS:10*Math.log10(We.totalareasqkm*qt.uScale+We.totalIMTBS*qt.NW*qt.TDD*ii),suburbandB_BS:10*Math.log10(We.totalareasqkm*qt.suScale+We.totalIMTBS*qt.NW*qt.TDD*(1-ii)),urbandB:10*Math.log10(We.totalareasqkm*qt.uScale+We.totalIMTBS*qt.NW*qt.TDD*ii)+qe+We.meanRxGain,suburbandB:10*Math.log10(We.totalareasqkm*qt.suScale+We.totalIMTBS*qt.NW*qt.TDD*(1-ii))+qe+We.meanRxGain,Factor:qe})))}if(t.$$.dirty[1]&65&&pr!=null&&pr.queueNode("stats",Pr),t.$$.dirty[0]&536870912|t.$$.dirty[2]&4096&&Ve!=null&&n(75,Vn=Hn("2.1s")(I1(Ve.features[0])/1e6)),t.$$.dirty[0]&4&&n(13,V=10*Math.log10(138e-25*f)+60+30),t.$$.dirty[0]&10259|t.$$.dirty[1]&7){e:if(a!=null){if(Pr==null){n(32,Fr=[{Env:"red",I:-200,Name:"Urban"},{Env:"grey",I:-200,Name:"SubUrban"},{Env:"total",I:-200,Name:"Total"}]);break e}let re=10*Math.log10(gr(V1(Pr,We=>isFinite(We.urbandB)),We=>Math.pow(10,(We.urbandB+fi(We.x).UrbanAg-Js(We.x))/10))),Ae=10*Math.log10(gr(V1(Pr,We=>isFinite(We.suburbandB)),We=>Math.pow(10,(We.suburbandB+fi(We.x).SubUrbanAg-Js(We.x))/10))),qe=10*Math.log10(gr([re,Ae],We=>Math.pow(10,We/10)));n(32,Fr=[{Env:"red",I:re,Name:"Urban"},{Env:"grey",I:Ae,Name:"SubUrban"},{Env:"total",I:qe,Name:"Total"}]),n(33,br=Fr.map(We=>We.I-V)),n(78,tt=br[2]),n(44,Z=Tde(JT(Fr[0].I)+JT(Fr[1].I)))}}if(t.$$.dirty[0]&8388608|t.$$.dirty[2]&126976&&er!=null){n(75,Vn=Hn("2.1s")(I1(Ve.features[0])/1e6));let re=`${Ve.name||""} + FootPrintArea : ${Vn} sqkm`;ke.length>0&&(re=ke.map(Ae=>Ae.Country).join(" , ")+`: ${ri}  ${Ve.name||""}+ IbyN = ${(tt||0).toFixed(1)} FootPrintArea : ${Vn} sqkm`),Un("#infobox").attr("style","color:blue").text(re)}if(t.$$.dirty[0]&2&&fn(),t.$$.dirty[2]&32768&&er!=null&&vi(),t.$$.dirty[0]&512&&console.log("CountryStatsArray changed",R),t.$$.dirty[0]&1073741824&&(console.log("FOUND factor",qt),ws("factor",qt,{type:"json"})),t.$$.dirty[0]&1073971202|t.$$.dirty[1]&8&&Rn!=null&&(n(16,he=gr(Rn,re=>re.totalareasqkm)*qt.Urban.Ra*qt.Urban.Rb*qt.Urban.BSdensity+gr(Rn,re=>re.totalIMTBS)*ii),n(17,le=gr(Rn,re=>re.totalareasqkm)*qt.SubUrban.Ra*qt.SubUrban.Rb*qt.SubUrban.BSdensity+gr(Rn,re=>re.totalIMTBS)*(1-ii)),n(15,J=he+le),gr(Rn,re=>re.totalIMTBS),n(46,ne=J*qt.NW*qt.TDD)),t.$$.dirty[0]&96|t.$$.dirty[1]&128&&(xs=Ff([g,y],Ug),Xt=="IbyN"&&Pn()),t.$$.dirty[0]&8388608){let re=ke.map(Ae=>Ae.Country);console.log("selectedCountries",ke,re),Ur=up(re,Ta(U3,re.length))}if(t.$$.dirty[0]&8|t.$$.dirty[2]&4096&&Ve!=null){if(Ve.beamtype=="pointgrid"){let re=Ve.features[1],Ae=ys(re.features,qe=>qe.properties.FSSRxGain);Ae[0]=Math.min(Ae[0],p),n(60,Vr=Ff(Ae,qg).nice().clamp(!0))}if(Ve.beamtype=="shapedbeams"){let re=[Ve.features[0].properties.FSSRxGain-5,Ve.features[0].properties.FSSRxGain+3];n(60,Vr=Ff(re,qg).nice().clamp(!0))}}t.$$.dirty[0]&1|t.$$.dirty[1]&48&&Ni!=null&&Ts!=null&&a!=null&&(console.log("Plotting Gainloss..again? ",a),ea()),t.$$.dirty[0]&67108864&&Rr(),t.$$.dirty[0]&2097170|t.$$.dirty[1]&128&&Ia()},setInterval(()=>{n(71,Oe=new Date)},1e3);{let re=100,Ae=0;NQ([{x:0,y:1},{x:1,y:4},{x:2,y:2},{x:3,y:5},{x:4,y:6},{x:5,y:45}],{x:"x"})}return[a,c,f,p,m,g,y,b,S,R,A,C,F,V,H,J,he,le,pe,fe,me,$,be,ke,ct,Qe,cn,Zn,Ye,wn,qt,Pr,Fr,br,Rn,Ni,Ts,pr,Xt,s,l,k,P,D,Z,Y,ne,_e,ae,Ee,Ce,Pe,Se,$e,un,dr,Yn,Dr,Ri,Aa,Vr,Ss,Qs,Li,di,i,ee,Nn,Mr,lr,Pi,Oe,De,Ke,Ve,Vn,ri,er,tt,yi,r,Ms,Pt,yt,ls,bi,tr,Cr,mt,kt,Oi,sr,ur,Ar,pi,nr,En,xn,Di,Kn,Je,ut,pn,Ue,Xn,Cs,Ji,Ka,jl,jr,ta,Mt,Qi,Mn,Kl,na,al,Ao,ra,mi,ia,Ct,hn,wi,Io,ol,Xl,ll,ic,sa,Jt,an,wr,xi,ul,Xa,oi,cl]}class Ede extends Ju{constructor(e){super(),Xu(this,e,kde,xde,Va,{},null,[-1,-1,-1,-1,-1,-1,-1])}}function Mde(t){return console.log("Rendering called",t),t==null?void 0:new Ede({target:t})}Mde(document.getElementById("app"));
